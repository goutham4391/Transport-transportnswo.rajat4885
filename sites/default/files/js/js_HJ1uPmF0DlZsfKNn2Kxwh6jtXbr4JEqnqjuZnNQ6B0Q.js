/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
;
!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("underscore",r):(n="undefined"!=typeof globalThis?globalThis:n||self,function(){var t=n._,e=n._=r();e.noConflict=function(){return n._=t,e}}())}(this,(function(){
//     Underscore.js 1.13.3
//     https://underscorejs.org
//     (c) 2009-2022 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
var n="1.13.3",r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},t=Array.prototype,e=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,o=t.push,i=t.slice,a=e.toString,f=e.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,l="undefined"!=typeof DataView,s=Array.isArray,p=Object.keys,v=Object.create,h=c&&ArrayBuffer.isView,y=isNaN,d=isFinite,g=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],m=Math.pow(2,53)-1;function j(n,r){return r=null==r?n.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),u=0;u<t;u++)e[u]=arguments[u+r];switch(r){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var o=Array(r+1);for(u=0;u<r;u++)o[u]=arguments[u];return o[r]=e,n.apply(this,o)}}function _(n){var r=typeof n;return"function"===r||"object"===r&&!!n}function w(n){return void 0===n}function A(n){return!0===n||!1===n||"[object Boolean]"===a.call(n)}function x(n){var r="[object "+n+"]";return function(n){return a.call(n)===r}}var S=x("String"),O=x("Number"),M=x("Date"),E=x("RegExp"),B=x("Error"),N=x("Symbol"),I=x("ArrayBuffer"),T=x("Function"),k=r.document&&r.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof k&&(T=function(n){return"function"==typeof n||!1});var D=T,R=x("Object"),F=l&&R(new DataView(new ArrayBuffer(8))),V="undefined"!=typeof Map&&R(new Map),P=x("DataView");var q=F?function(n){return null!=n&&D(n.getInt8)&&I(n.buffer)}:P,U=s||x("Array");function W(n,r){return null!=n&&f.call(n,r)}var z=x("Arguments");!function(){z(arguments)||(z=function(n){return W(n,"callee")})}();var L=z;function $(n){return O(n)&&y(n)}function C(n){return function(){return n}}function K(n){return function(r){var t=n(r);return"number"==typeof t&&t>=0&&t<=m}}function J(n){return function(r){return null==r?void 0:r[n]}}var G=J("byteLength"),H=K(G),Q=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var X=c?function(n){return h?h(n)&&!q(n):H(n)&&Q.test(a.call(n))}:C(!1),Y=J("length");function Z(n,r){r=function(n){for(var r={},t=n.length,e=0;e<t;++e)r[n[e]]=!0;return{contains:function(n){return!0===r[n]},push:function(t){return r[t]=!0,n.push(t)}}}(r);var t=b.length,u=n.constructor,o=D(u)&&u.prototype||e,i="constructor";for(W(n,i)&&!r.contains(i)&&r.push(i);t--;)(i=b[t])in n&&n[i]!==o[i]&&!r.contains(i)&&r.push(i)}function nn(n){if(!_(n))return[];if(p)return p(n);var r=[];for(var t in n)W(n,t)&&r.push(t);return g&&Z(n,r),r}function rn(n,r){var t=nn(r),e=t.length;if(null==n)return!e;for(var u=Object(n),o=0;o<e;o++){var i=t[o];if(r[i]!==u[i]||!(i in u))return!1}return!0}function tn(n){return n instanceof tn?n:this instanceof tn?void(this._wrapped=n):new tn(n)}function en(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,G(n))}tn.VERSION=n,tn.prototype.value=function(){return this._wrapped},tn.prototype.valueOf=tn.prototype.toJSON=tn.prototype.value,tn.prototype.toString=function(){return String(this._wrapped)};var un="[object DataView]";function on(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var o=typeof n;return("function"===o||"object"===o||"object"==typeof r)&&function n(r,t,e,o){r instanceof tn&&(r=r._wrapped);t instanceof tn&&(t=t._wrapped);var i=a.call(r);if(i!==a.call(t))return!1;if(F&&"[object Object]"==i&&q(r)){if(!q(t))return!1;i=un}switch(i){case"[object RegExp]":case"[object String]":return""+r==""+t;case"[object Number]":return+r!=+r?+t!=+t:0==+r?1/+r==1/t:+r==+t;case"[object Date]":case"[object Boolean]":return+r==+t;case"[object Symbol]":return u.valueOf.call(r)===u.valueOf.call(t);case"[object ArrayBuffer]":case un:return n(en(r),en(t),e,o)}var f="[object Array]"===i;if(!f&&X(r)){if(G(r)!==G(t))return!1;if(r.buffer===t.buffer&&r.byteOffset===t.byteOffset)return!0;f=!0}if(!f){if("object"!=typeof r||"object"!=typeof t)return!1;var c=r.constructor,l=t.constructor;if(c!==l&&!(D(c)&&c instanceof c&&D(l)&&l instanceof l)&&"constructor"in r&&"constructor"in t)return!1}o=o||[];var s=(e=e||[]).length;for(;s--;)if(e[s]===r)return o[s]===t;if(e.push(r),o.push(t),f){if((s=r.length)!==t.length)return!1;for(;s--;)if(!on(r[s],t[s],e,o))return!1}else{var p,v=nn(r);if(s=v.length,nn(t).length!==s)return!1;for(;s--;)if(p=v[s],!W(t,p)||!on(r[p],t[p],e,o))return!1}return e.pop(),o.pop(),!0}(n,r,t,e)}function an(n){if(!_(n))return[];var r=[];for(var t in n)r.push(t);return g&&Z(n,r),r}function fn(n){var r=Y(n);return function(t){if(null==t)return!1;var e=an(t);if(Y(e))return!1;for(var u=0;u<r;u++)if(!D(t[n[u]]))return!1;return n!==hn||!D(t[cn])}}var cn="forEach",ln="has",sn=["clear","delete"],pn=["get",ln,"set"],vn=sn.concat(cn,pn),hn=sn.concat(pn),yn=["add"].concat(sn,cn,ln),dn=V?fn(vn):x("Map"),gn=V?fn(hn):x("WeakMap"),bn=V?fn(yn):x("Set"),mn=x("WeakSet");function jn(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e}function _n(n){for(var r={},t=nn(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r}function wn(n){var r=[];for(var t in n)D(n[t])&&r.push(t);return r.sort()}function An(n,r){return function(t){var e=arguments.length;if(r&&(t=Object(t)),e<2||null==t)return t;for(var u=1;u<e;u++)for(var o=arguments[u],i=n(o),a=i.length,f=0;f<a;f++){var c=i[f];r&&void 0!==t[c]||(t[c]=o[c])}return t}}var xn=An(an),Sn=An(nn),On=An(an,!0);function Mn(n){if(!_(n))return{};if(v)return v(n);var r=function(){};r.prototype=n;var t=new r;return r.prototype=null,t}function En(n){return U(n)?n:[n]}function Bn(n){return tn.toPath(n)}function Nn(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0}function In(n,r,t){var e=Nn(n,Bn(r));return w(e)?t:e}function Tn(n){return n}function kn(n){return n=Sn({},n),function(r){return rn(r,n)}}function Dn(n){return n=Bn(n),function(r){return Nn(r,n)}}function Rn(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)}}return function(){return n.apply(r,arguments)}}function Fn(n,r,t){return null==n?Tn:D(n)?Rn(n,r,t):_(n)&&!U(n)?kn(n):Dn(n)}function Vn(n,r){return Fn(n,r,1/0)}function Pn(n,r,t){return tn.iteratee!==Vn?tn.iteratee(n,r):Fn(n,r,t)}function qn(){}function Un(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))}tn.toPath=En,tn.iteratee=Vn;var Wn=Date.now||function(){return(new Date).getTime()};function zn(n){var r=function(r){return n[r]},t="(?:"+nn(n).join("|")+")",e=RegExp(t),u=RegExp(t,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,r):n}}var Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$n=zn(Ln),Cn=zn(_n(Ln)),Kn=tn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Jn=/(.)^/,Gn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Hn=/\\|'|\r|\n|\u2028|\u2029/g;function Qn(n){return"\\"+Gn[n]}var Xn=/^\s*(\w|\$)+\s*$/;var Yn=0;function Zn(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var o=Mn(n.prototype),i=n.apply(o,u);return _(i)?i:o}var nr=j((function(n,r){var t=nr.placeholder,e=function(){for(var u=0,o=r.length,i=Array(o),a=0;a<o;a++)i[a]=r[a]===t?arguments[u++]:r[a];for(;u<arguments.length;)i.push(arguments[u++]);return Zn(n,e,this,this,i)};return e}));nr.placeholder=tn;var rr=j((function(n,r,t){if(!D(n))throw new TypeError("Bind must be called on a function");var e=j((function(u){return Zn(n,e,r,this,t.concat(u))}));return e})),tr=K(Y);function er(n,r,t,e){if(e=e||[],r||0===r){if(r<=0)return e.concat(n)}else r=1/0;for(var u=e.length,o=0,i=Y(n);o<i;o++){var a=n[o];if(tr(a)&&(U(a)||L(a)))if(r>1)er(a,r-1,t,e),u=e.length;else for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else t||(e[u++]=a)}return e}var ur=j((function(n,r){var t=(r=er(r,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var e=r[t];n[e]=rr(n[e],n)}return n}));var or=j((function(n,r,t){return setTimeout((function(){return n.apply(null,t)}),r)})),ir=nr(or,tn,1);function ar(n){return function(){return!n.apply(this,arguments)}}function fr(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}}var cr=nr(fr,2);function lr(n,r,t){r=Pn(r,t);for(var e,u=nn(n),o=0,i=u.length;o<i;o++)if(r(n[e=u[o]],e,n))return e}function sr(n){return function(r,t,e){t=Pn(t,e);for(var u=Y(r),o=n>0?0:u-1;o>=0&&o<u;o+=n)if(t(r[o],o,r))return o;return-1}}var pr=sr(1),vr=sr(-1);function hr(n,r,t,e){for(var u=(t=Pn(t,e,1))(r),o=0,i=Y(n);o<i;){var a=Math.floor((o+i)/2);t(n[a])<u?o=a+1:i=a}return o}function yr(n,r,t){return function(e,u,o){var a=0,f=Y(e);if("number"==typeof o)n>0?a=o>=0?o:Math.max(o+f,a):f=o>=0?Math.min(o+1,f):o+f+1;else if(t&&o&&f)return e[o=t(e,u)]===u?o:-1;if(u!=u)return(o=r(i.call(e,a,f),$))>=0?o+a:-1;for(o=n>0?a:f-1;o>=0&&o<f;o+=n)if(e[o]===u)return o;return-1}}var dr=yr(1,pr,hr),gr=yr(-1,vr);function br(n,r,t){var e=(tr(n)?pr:lr)(n,r,t);if(void 0!==e&&-1!==e)return n[e]}function mr(n,r,t){var e,u;if(r=Rn(r,t),tr(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var o=nn(n);for(e=0,u=o.length;e<u;e++)r(n[o[e]],o[e],n)}return n}function jr(n,r,t){r=Pn(r,t);for(var e=!tr(n)&&nn(n),u=(e||n).length,o=Array(u),i=0;i<u;i++){var a=e?e[i]:i;o[i]=r(n[a],a,n)}return o}function _r(n){var r=function(r,t,e,u){var o=!tr(r)&&nn(r),i=(o||r).length,a=n>0?0:i-1;for(u||(e=r[o?o[a]:a],a+=n);a>=0&&a<i;a+=n){var f=o?o[a]:a;e=t(e,r[f],f,r)}return e};return function(n,t,e,u){var o=arguments.length>=3;return r(n,Rn(t,u,4),e,o)}}var wr=_r(1),Ar=_r(-1);function xr(n,r,t){var e=[];return r=Pn(r,t),mr(n,(function(n,t,u){r(n,t,u)&&e.push(n)})),e}function Sr(n,r,t){r=Pn(r,t);for(var e=!tr(n)&&nn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(!r(n[i],i,n))return!1}return!0}function Or(n,r,t){r=Pn(r,t);for(var e=!tr(n)&&nn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(r(n[i],i,n))return!0}return!1}function Mr(n,r,t,e){return tr(n)||(n=jn(n)),("number"!=typeof t||e)&&(t=0),dr(n,r,t)>=0}var Er=j((function(n,r,t){var e,u;return D(r)?u=r:(r=Bn(r),e=r.slice(0,-1),r=r[r.length-1]),jr(n,(function(n){var o=u;if(!o){if(e&&e.length&&(n=Nn(n,e)),null==n)return;o=n[r]}return null==o?o:o.apply(n,t)}))}));function Br(n,r){return jr(n,Dn(r))}function Nr(n,r,t){var e,u,o=-1/0,i=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=tr(n)?n:jn(n)).length;a<f;a++)null!=(e=n[a])&&e>o&&(o=e);else r=Pn(r,t),mr(n,(function(n,t,e){((u=r(n,t,e))>i||u===-1/0&&o===-1/0)&&(o=n,i=u)}));return o}var Ir=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Tr(n){return n?U(n)?i.call(n):S(n)?n.match(Ir):tr(n)?jr(n,Tn):jn(n):[]}function kr(n,r,t){if(null==r||t)return tr(n)||(n=jn(n)),n[Un(n.length-1)];var e=Tr(n),u=Y(e);r=Math.max(Math.min(r,u),0);for(var o=u-1,i=0;i<r;i++){var a=Un(i,o),f=e[i];e[i]=e[a],e[a]=f}return e.slice(0,r)}function Dr(n,r){return function(t,e,u){var o=r?[[],[]]:{};return e=Pn(e,u),mr(t,(function(r,u){var i=e(r,u,t);n(o,r,i)})),o}}var Rr=Dr((function(n,r,t){W(n,t)?n[t].push(r):n[t]=[r]})),Fr=Dr((function(n,r,t){n[t]=r})),Vr=Dr((function(n,r,t){W(n,t)?n[t]++:n[t]=1})),Pr=Dr((function(n,r,t){n[t?0:1].push(r)}),!0);function qr(n,r,t){return r in t}var Ur=j((function(n,r){var t={},e=r[0];if(null==n)return t;D(e)?(r.length>1&&(e=Rn(e,r[1])),r=an(n)):(e=qr,r=er(r,!1,!1),n=Object(n));for(var u=0,o=r.length;u<o;u++){var i=r[u],a=n[i];e(a,i,n)&&(t[i]=a)}return t})),Wr=j((function(n,r){var t,e=r[0];return D(e)?(e=ar(e),r.length>1&&(t=r[1])):(r=jr(er(r,!1,!1),String),e=function(n,t){return!Mr(r,t)}),Ur(n,e,t)}));function zr(n,r,t){return i.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))}function Lr(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[0]:zr(n,n.length-r)}function $r(n,r,t){return i.call(n,null==r||t?1:r)}var Cr=j((function(n,r){return r=er(r,!0,!0),xr(n,(function(n){return!Mr(r,n)}))})),Kr=j((function(n,r){return Cr(n,r)}));function Jr(n,r,t,e){A(r)||(e=t,t=r,r=!1),null!=t&&(t=Pn(t,e));for(var u=[],o=[],i=0,a=Y(n);i<a;i++){var f=n[i],c=t?t(f,i,n):f;r&&!t?(i&&o===c||u.push(f),o=c):t?Mr(o,c)||(o.push(c),u.push(f)):Mr(u,f)||u.push(f)}return u}var Gr=j((function(n){return Jr(er(n,!0,!0))}));function Hr(n){for(var r=n&&Nr(n,Y).length||0,t=Array(r),e=0;e<r;e++)t[e]=Br(n,e);return t}var Qr=j(Hr);function Xr(n,r){return n._chain?tn(r).chain():r}function Yr(n){return mr(wn(n),(function(r){var t=tn[r]=n[r];tn.prototype[r]=function(){var n=[this._wrapped];return o.apply(n,arguments),Xr(this,t.apply(tn,n))}})),tn}mr(["pop","push","reverse","shift","sort","splice","unshift"],(function(n){var r=t[n];tn.prototype[n]=function(){var t=this._wrapped;return null!=t&&(r.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0]),Xr(this,t)}})),mr(["concat","join","slice"],(function(n){var r=t[n];tn.prototype[n]=function(){var n=this._wrapped;return null!=n&&(n=r.apply(n,arguments)),Xr(this,n)}}));var Zr=Yr({__proto__:null,VERSION:n,restArguments:j,isObject:_,isNull:function(n){return null===n},isUndefined:w,isBoolean:A,isElement:function(n){return!(!n||1!==n.nodeType)},isString:S,isNumber:O,isDate:M,isRegExp:E,isError:B,isSymbol:N,isArrayBuffer:I,isDataView:q,isArray:U,isFunction:D,isArguments:L,isFinite:function(n){return!N(n)&&d(n)&&!isNaN(parseFloat(n))},isNaN:$,isTypedArray:X,isEmpty:function(n){if(null==n)return!0;var r=Y(n);return"number"==typeof r&&(U(n)||S(n)||L(n))?0===r:0===Y(nn(n))},isMatch:rn,isEqual:function(n,r){return on(n,r)},isMap:dn,isWeakMap:gn,isSet:bn,isWeakSet:mn,keys:nn,allKeys:an,values:jn,pairs:function(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},invert:_n,functions:wn,methods:wn,extend:xn,extendOwn:Sn,assign:Sn,defaults:On,create:function(n,r){var t=Mn(n);return r&&Sn(t,r),t},clone:function(n){return _(n)?U(n)?n.slice():xn({},n):n},tap:function(n,r){return r(n),n},get:In,has:function(n,r){for(var t=(r=Bn(r)).length,e=0;e<t;e++){var u=r[e];if(!W(n,u))return!1;n=n[u]}return!!t},mapObject:function(n,r,t){r=Pn(r,t);for(var e=nn(n),u=e.length,o={},i=0;i<u;i++){var a=e[i];o[a]=r(n[a],a,n)}return o},identity:Tn,constant:C,noop:qn,toPath:En,property:Dn,propertyOf:function(n){return null==n?qn:function(r){return In(n,r)}},matcher:kn,matches:kn,times:function(n,r,t){var e=Array(Math.max(0,n));r=Rn(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},random:Un,now:Wn,escape:$n,unescape:Cn,templateSettings:Kn,template:function(n,r,t){!r&&t&&(r=t),r=On({},r,tn.templateSettings);var e=RegExp([(r.escape||Jn).source,(r.interpolate||Jn).source,(r.evaluate||Jn).source].join("|")+"|$","g"),u=0,o="__p+='";n.replace(e,(function(r,t,e,i,a){return o+=n.slice(u,a).replace(Hn,Qn),u=a+r.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":e?o+="'+\n((__t=("+e+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),r})),o+="';\n";var i,a=r.variable;if(a){if(!Xn.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(a,"_",o)}catch(n){throw n.source=o,n}var f=function(n){return i.call(this,n,tn)};return f.source="function("+a+"){\n"+o+"}",f},result:function(n,r,t){var e=(r=Bn(r)).length;if(!e)return D(t)?t.call(n):t;for(var u=0;u<e;u++){var o=null==n?void 0:n[r[u]];void 0===o&&(o=t,u=e),n=D(o)?o.call(n):o}return n},uniqueId:function(n){var r=++Yn+"";return n?n+r:r},chain:function(n){var r=tn(n);return r._chain=!0,r},iteratee:Vn,partial:nr,bind:rr,bindAll:ur,memoize:function(n,r){var t=function(e){var u=t.cache,o=""+(r?r.apply(this,arguments):e);return W(u,o)||(u[o]=n.apply(this,arguments)),u[o]};return t.cache={},t},delay:or,defer:ir,throttle:function(n,r,t){var e,u,o,i,a=0;t||(t={});var f=function(){a=!1===t.leading?0:Wn(),e=null,i=n.apply(u,o),e||(u=o=null)},c=function(){var c=Wn();a||!1!==t.leading||(a=c);var l=r-(c-a);return u=this,o=arguments,l<=0||l>r?(e&&(clearTimeout(e),e=null),a=c,i=n.apply(u,o),e||(u=o=null)):e||!1===t.trailing||(e=setTimeout(f,l)),i};return c.cancel=function(){clearTimeout(e),a=0,e=u=o=null},c},debounce:function(n,r,t){var e,u,o,i,a,f=function(){var c=Wn()-u;r>c?e=setTimeout(f,r-c):(e=null,t||(i=n.apply(a,o)),e||(o=a=null))},c=j((function(c){return a=this,o=c,u=Wn(),e||(e=setTimeout(f,r),t&&(i=n.apply(a,o))),i}));return c.cancel=function(){clearTimeout(e),e=o=a=null},c},wrap:function(n,r){return nr(r,n)},negate:ar,compose:function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},after:function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},before:fr,once:cr,findKey:lr,findIndex:pr,findLastIndex:vr,sortedIndex:hr,indexOf:dr,lastIndexOf:gr,find:br,detect:br,findWhere:function(n,r){return br(n,kn(r))},each:mr,forEach:mr,map:jr,collect:jr,reduce:wr,foldl:wr,inject:wr,reduceRight:Ar,foldr:Ar,filter:xr,select:xr,reject:function(n,r,t){return xr(n,ar(Pn(r)),t)},every:Sr,all:Sr,some:Or,any:Or,contains:Mr,includes:Mr,include:Mr,invoke:Er,pluck:Br,where:function(n,r){return xr(n,kn(r))},max:Nr,min:function(n,r,t){var e,u,o=1/0,i=1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=tr(n)?n:jn(n)).length;a<f;a++)null!=(e=n[a])&&e<o&&(o=e);else r=Pn(r,t),mr(n,(function(n,t,e){((u=r(n,t,e))<i||u===1/0&&o===1/0)&&(o=n,i=u)}));return o},shuffle:function(n){return kr(n,1/0)},sample:kr,sortBy:function(n,r,t){var e=0;return r=Pn(r,t),Br(jr(n,(function(n,t,u){return{value:n,index:e++,criteria:r(n,t,u)}})).sort((function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index})),"value")},groupBy:Rr,indexBy:Fr,countBy:Vr,partition:Pr,toArray:Tr,size:function(n){return null==n?0:tr(n)?n.length:nn(n).length},pick:Ur,omit:Wr,first:Lr,head:Lr,take:Lr,initial:zr,last:function(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[n.length-1]:$r(n,Math.max(0,n.length-r))},rest:$r,tail:$r,drop:$r,compact:function(n){return xr(n,Boolean)},flatten:function(n,r){return er(n,r,!1)},without:Kr,uniq:Jr,unique:Jr,union:Gr,intersection:function(n){for(var r=[],t=arguments.length,e=0,u=Y(n);e<u;e++){var o=n[e];if(!Mr(r,o)){var i;for(i=1;i<t&&Mr(arguments[i],o);i++);i===t&&r.push(o)}}return r},difference:Cr,unzip:Hr,transpose:Hr,zip:Qr,object:function(n,r){for(var t={},e=0,u=Y(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},range:function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),o=0;o<e;o++,n+=t)u[o]=n;return u},chunk:function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(i.call(n,e,e+=r));return t},mixin:Yr,default:tn});return Zr._=Zr,Zr}));;
/**
* DO NOT EDIT THIS FILE.
* See the following change record for more information,
* https://www.drupal.org/node/2815083
* @preserve
**/

if (!Element.prototype.matches) {
  Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
};
/**
* DO NOT EDIT THIS FILE.
* See the following change record for more information,
* https://www.drupal.org/node/2815083
* @preserve
**/

if (typeof Object.assign !== 'function') {
  Object.defineProperty(Object, 'assign', {
    value: function assign(target, varArgs) {
      'use strict';

      if (target === null || target === undefined) {
        throw new TypeError('Cannot convert undefined or null to object');
      }

      var to = Object(target);

      for (var index = 1; index < arguments.length; index++) {
        var nextSource = arguments[index];

        if (nextSource !== null && nextSource !== undefined) {
          for (var nextKey in nextSource) {
            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
              to[nextKey] = nextSource[nextKey];
            }
          }
        }
      }

      return to;
    },
    writable: true,
    configurable: true
  });
};
/*! @drupal/once - v1.0.1 - 2021-06-12 */
var once=function(){"use strict";var n=/[\11\12\14\15\40]+/,e="data-once",t=document;function r(n,t,r){return n[t+"Attribute"](e,r)}function o(e){if("string"!=typeof e)throw new TypeError("once ID must be a string");if(""===e||n.test(e))throw new RangeError("once ID must not be empty or contain spaces");return'[data-once~="'+e+'"]'}function u(n){if(!(n instanceof Element))throw new TypeError("The element must be an instance of Element");return!0}function i(n,e){void 0===e&&(e=t);var r=n;if(null===n)r=[];else{if(!n)throw new TypeError("Selector must not be empty");"string"!=typeof n||e!==t&&!u(e)?n instanceof Element&&(r=[n]):r=e.querySelectorAll(n)}return Array.prototype.slice.call(r)}function c(n,e,t){return e.filter((function(e){var r=u(e)&&e.matches(n);return r&&t&&t(e),r}))}function f(e,t){var o=t.add,u=t.remove,i=[];r(e,"has")&&r(e,"get").trim().split(n).forEach((function(n){i.indexOf(n)<0&&n!==u&&i.push(n)})),o&&i.push(o);var c=i.join(" ");r(e,""===c?"remove":"set",c)}function a(n,e,t){return c(":not("+o(n)+")",i(e,t),(function(e){return f(e,{add:n})}))}return a.remove=function(n,e,t){return c(o(n),i(e,t),(function(e){return f(e,{remove:n})}))},a.filter=function(n,e,t){return c(o(n),i(e,t))},a.find=function(n,e){return i(n?o(n):"[data-once]",e)},a}();

;
/*!
 * jQuery Once v2.2.3 - http://github.com/robloach/jquery-once
 * @license MIT, GPL-2.0
 *   http://opensource.org/licenses/MIT
 *   http://opensource.org/licenses/GPL-2.0
 */
(function(e){"use strict";if(typeof exports==="object"&&typeof exports.nodeName!=="string"){e(require("jquery"))}else if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(t){"use strict";var r=function(e){e=e||"once";if(typeof e!=="string"){throw new TypeError("The jQuery Once id parameter must be a string")}return e};t.fn.once=function(e){var n="jquery-once-"+r(e);return this.filter(function(){return t(this).data(n)!==true}).data(n,true)};t.fn.removeOnce=function(e){return this.findOnce(e).removeData("jquery-once-"+r(e))};t.fn.findOnce=function(e){var n="jquery-once-"+r(e);return this.filter(function(){return t(this).data(n)===true})}});

/**
* DO NOT EDIT THIS FILE.
* See the following change record for more information,
* https://www.drupal.org/node/2815083
* @preserve
**/

(function () {
  var settingsElement = document.querySelector('head > script[type="application/json"][data-drupal-selector="drupal-settings-json"], body > script[type="application/json"][data-drupal-selector="drupal-settings-json"]');
  window.drupalSettings = {};

  if (settingsElement !== null) {
    window.drupalSettings = JSON.parse(settingsElement.textContent);
  }
})();;
/**
* DO NOT EDIT THIS FILE.
* See the following change record for more information,
* https://www.drupal.org/node/2815083
* @preserve
**/

window.Drupal = {
  behaviors: {},
  locale: {}
};

(function (Drupal, drupalSettings, drupalTranslations, console, Proxy, Reflect) {
  Drupal.throwError = function (error) {
    setTimeout(function () {
      throw error;
    }, 0);
  };

  Drupal.attachBehaviors = function (context, settings) {
    context = context || document;
    settings = settings || drupalSettings;
    var behaviors = Drupal.behaviors;
    Object.keys(behaviors || {}).forEach(function (i) {
      if (typeof behaviors[i].attach === 'function') {
        try {
          behaviors[i].attach(context, settings);
        } catch (e) {
          Drupal.throwError(e);
        }
      }
    });
  };

  Drupal.detachBehaviors = function (context, settings, trigger) {
    context = context || document;
    settings = settings || drupalSettings;
    trigger = trigger || 'unload';
    var behaviors = Drupal.behaviors;
    Object.keys(behaviors || {}).forEach(function (i) {
      if (typeof behaviors[i].detach === 'function') {
        try {
          behaviors[i].detach(context, settings, trigger);
        } catch (e) {
          Drupal.throwError(e);
        }
      }
    });
  };

  Drupal.checkPlain = function (str) {
    str = str.toString().replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#39;');
    return str;
  };

  Drupal.formatString = function (str, args) {
    var processedArgs = {};
    Object.keys(args || {}).forEach(function (key) {
      switch (key.charAt(0)) {
        case '@':
          processedArgs[key] = Drupal.checkPlain(args[key]);
          break;

        case '!':
          processedArgs[key] = args[key];
          break;

        default:
          processedArgs[key] = Drupal.theme('placeholder', args[key]);
          break;
      }
    });
    return Drupal.stringReplace(str, processedArgs, null);
  };

  Drupal.stringReplace = function (str, args, keys) {
    if (str.length === 0) {
      return str;
    }

    if (!Array.isArray(keys)) {
      keys = Object.keys(args || {});
      keys.sort(function (a, b) {
        return a.length - b.length;
      });
    }

    if (keys.length === 0) {
      return str;
    }

    var key = keys.pop();
    var fragments = str.split(key);

    if (keys.length) {
      for (var i = 0; i < fragments.length; i++) {
        fragments[i] = Drupal.stringReplace(fragments[i], args, keys.slice(0));
      }
    }

    return fragments.join(args[key]);
  };

  Drupal.t = function (str, args, options) {
    options = options || {};
    options.context = options.context || '';

    if (typeof drupalTranslations !== 'undefined' && drupalTranslations.strings && drupalTranslations.strings[options.context] && drupalTranslations.strings[options.context][str]) {
      str = drupalTranslations.strings[options.context][str];
    }

    if (args) {
      str = Drupal.formatString(str, args);
    }

    return str;
  };

  Drupal.url = function (path) {
    return drupalSettings.path.baseUrl + drupalSettings.path.pathPrefix + path;
  };

  Drupal.url.toAbsolute = function (url) {
    var urlParsingNode = document.createElement('a');

    try {
      url = decodeURIComponent(url);
    } catch (e) {}

    urlParsingNode.setAttribute('href', url);
    return urlParsingNode.cloneNode(false).href;
  };

  Drupal.url.isLocal = function (url) {
    var absoluteUrl = Drupal.url.toAbsolute(url);
    var protocol = window.location.protocol;

    if (protocol === 'http:' && absoluteUrl.indexOf('https:') === 0) {
      protocol = 'https:';
    }

    var baseUrl = "".concat(protocol, "//").concat(window.location.host).concat(drupalSettings.path.baseUrl.slice(0, -1));

    try {
      absoluteUrl = decodeURIComponent(absoluteUrl);
    } catch (e) {}

    try {
      baseUrl = decodeURIComponent(baseUrl);
    } catch (e) {}

    return absoluteUrl === baseUrl || absoluteUrl.indexOf("".concat(baseUrl, "/")) === 0;
  };

  Drupal.formatPlural = function (count, singular, plural, args, options) {
    args = args || {};
    args['@count'] = count;
    var pluralDelimiter = drupalSettings.pluralDelimiter;
    var translations = Drupal.t(singular + pluralDelimiter + plural, args, options).split(pluralDelimiter);
    var index = 0;

    if (typeof drupalTranslations !== 'undefined' && drupalTranslations.pluralFormula) {
      index = count in drupalTranslations.pluralFormula ? drupalTranslations.pluralFormula[count] : drupalTranslations.pluralFormula.default;
    } else if (args['@count'] !== 1) {
      index = 1;
    }

    return translations[index];
  };

  Drupal.encodePath = function (item) {
    return window.encodeURIComponent(item).replace(/%2F/g, '/');
  };

  Drupal.deprecationError = function (_ref) {
    var message = _ref.message;

    if (drupalSettings.suppressDeprecationErrors === false && typeof console !== 'undefined' && console.warn) {
      console.warn("[Deprecation] ".concat(message));
    }
  };

  Drupal.deprecatedProperty = function (_ref2) {
    var target = _ref2.target,
        deprecatedProperty = _ref2.deprecatedProperty,
        message = _ref2.message;

    if (!Proxy || !Reflect) {
      return target;
    }

    return new Proxy(target, {
      get: function get(target, key) {
        if (key === deprecatedProperty) {
          Drupal.deprecationError({
            message: message
          });
        }

        for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
          rest[_key - 2] = arguments[_key];
        }

        return Reflect.get.apply(Reflect, [target, key].concat(rest));
      }
    });
  };

  Drupal.theme = function (func) {
    if (func in Drupal.theme) {
      var _Drupal$theme;

      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }

      return (_Drupal$theme = Drupal.theme)[func].apply(_Drupal$theme, args);
    }
  };

  Drupal.theme.placeholder = function (str) {
    return "<em class=\"placeholder\">".concat(Drupal.checkPlain(str), "</em>");
  };
})(Drupal, window.drupalSettings, window.drupalTranslations, window.console, window.Proxy, window.Reflect);;
/**
* DO NOT EDIT THIS FILE.
* See the following change record for more information,
* https://www.drupal.org/node/2815083
* @preserve
**/

if (window.jQuery) {
  jQuery.noConflict();
}

document.documentElement.className += ' js';

(function (Drupal, drupalSettings) {
  var domReady = function domReady(callback) {
    var listener = function listener() {
      callback();
      document.removeEventListener('DOMContentLoaded', listener);
    };

    if (document.readyState !== 'loading') {
      setTimeout(callback, 0);
    } else {
      document.addEventListener('DOMContentLoaded', listener);
    }
  };

  domReady(function () {
    Drupal.attachBehaviors(document, drupalSettings);
  });
})(Drupal, window.drupalSettings);;
/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
!function(a){var b=navigator.userAgent;a.HTMLPictureElement&&/ecko/.test(b)&&b.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var b,c=document.createElement("source"),d=function(a){var b,d,e=a.parentNode;"PICTURE"===e.nodeName.toUpperCase()?(b=c.cloneNode(),e.insertBefore(b,e.firstElementChild),setTimeout(function(){e.removeChild(b)})):(!a._pfLastSize||a.offsetWidth>a._pfLastSize)&&(a._pfLastSize=a.offsetWidth,d=a.sizes,a.sizes+=",100vw",setTimeout(function(){a.sizes=d}))},e=function(){var a,b=document.querySelectorAll("picture > img, img[srcset][sizes]");for(a=0;a<b.length;a++)d(b[a])},f=function(){clearTimeout(b),b=setTimeout(e,99)},g=a.matchMedia&&matchMedia("(orientation: landscape)"),h=function(){f(),g&&g.addListener&&g.addListener(f)};return c.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?h():document.addEventListener("DOMContentLoaded",h),f}())}(window),function(a,b,c){"use strict";function d(a){return" "===a||"	"===a||"\n"===a||"\f"===a||"\r"===a}function e(b,c){var d=new a.Image;return d.onerror=function(){A[b]=!1,ba()},d.onload=function(){A[b]=1===d.width,ba()},d.src=c,"pending"}function f(){M=!1,P=a.devicePixelRatio,N={},O={},s.DPR=P||1,Q.width=Math.max(a.innerWidth||0,z.clientWidth),Q.height=Math.max(a.innerHeight||0,z.clientHeight),Q.vw=Q.width/100,Q.vh=Q.height/100,r=[Q.height,Q.width,P].join("-"),Q.em=s.getEmValue(),Q.rem=Q.em}function g(a,b,c,d){var e,f,g,h;return"saveData"===B.algorithm?a>2.7?h=c+1:(f=b-c,e=Math.pow(a-.6,1.5),g=f*e,d&&(g+=.1*e),h=a+g):h=c>1?Math.sqrt(a*b):a,h>c}function h(a){var b,c=s.getSet(a),d=!1;"pending"!==c&&(d=r,c&&(b=s.setRes(c),s.applySetCandidate(b,a))),a[s.ns].evaled=d}function i(a,b){return a.res-b.res}function j(a,b,c){var d;return!c&&b&&(c=a[s.ns].sets,c=c&&c[c.length-1]),d=k(b,c),d&&(b=s.makeUrl(b),a[s.ns].curSrc=b,a[s.ns].curCan=d,d.res||aa(d,d.set.sizes)),d}function k(a,b){var c,d,e;if(a&&b)for(e=s.parseSet(b),a=s.makeUrl(a),c=0;c<e.length;c++)if(a===s.makeUrl(e[c].url)){d=e[c];break}return d}function l(a,b){var c,d,e,f,g=a.getElementsByTagName("source");for(c=0,d=g.length;d>c;c++)e=g[c],e[s.ns]=!0,f=e.getAttribute("srcset"),f&&b.push({srcset:f,media:e.getAttribute("media"),type:e.getAttribute("type"),sizes:e.getAttribute("sizes")})}function m(a,b){function c(b){var c,d=b.exec(a.substring(m));return d?(c=d[0],m+=c.length,c):void 0}function e(){var a,c,d,e,f,i,j,k,l,m=!1,o={};for(e=0;e<h.length;e++)f=h[e],i=f[f.length-1],j=f.substring(0,f.length-1),k=parseInt(j,10),l=parseFloat(j),X.test(j)&&"w"===i?((a||c)&&(m=!0),0===k?m=!0:a=k):Y.test(j)&&"x"===i?((a||c||d)&&(m=!0),0>l?m=!0:c=l):X.test(j)&&"h"===i?((d||c)&&(m=!0),0===k?m=!0:d=k):m=!0;m||(o.url=g,a&&(o.w=a),c&&(o.d=c),d&&(o.h=d),d||c||a||(o.d=1),1===o.d&&(b.has1x=!0),o.set=b,n.push(o))}function f(){for(c(T),i="",j="in descriptor";;){if(k=a.charAt(m),"in descriptor"===j)if(d(k))i&&(h.push(i),i="",j="after descriptor");else{if(","===k)return m+=1,i&&h.push(i),void e();if("("===k)i+=k,j="in parens";else{if(""===k)return i&&h.push(i),void e();i+=k}}else if("in parens"===j)if(")"===k)i+=k,j="in descriptor";else{if(""===k)return h.push(i),void e();i+=k}else if("after descriptor"===j)if(d(k));else{if(""===k)return void e();j="in descriptor",m-=1}m+=1}}for(var g,h,i,j,k,l=a.length,m=0,n=[];;){if(c(U),m>=l)return n;g=c(V),h=[],","===g.slice(-1)?(g=g.replace(W,""),e()):f()}}function n(a){function b(a){function b(){f&&(g.push(f),f="")}function c(){g[0]&&(h.push(g),g=[])}for(var e,f="",g=[],h=[],i=0,j=0,k=!1;;){if(e=a.charAt(j),""===e)return b(),c(),h;if(k){if("*"===e&&"/"===a[j+1]){k=!1,j+=2,b();continue}j+=1}else{if(d(e)){if(a.charAt(j-1)&&d(a.charAt(j-1))||!f){j+=1;continue}if(0===i){b(),j+=1;continue}e=" "}else if("("===e)i+=1;else if(")"===e)i-=1;else{if(","===e){b(),c(),j+=1;continue}if("/"===e&&"*"===a.charAt(j+1)){k=!0,j+=2;continue}}f+=e,j+=1}}}function c(a){return k.test(a)&&parseFloat(a)>=0?!0:l.test(a)?!0:"0"===a||"-0"===a||"+0"===a?!0:!1}var e,f,g,h,i,j,k=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,l=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(f=b(a),g=f.length,e=0;g>e;e++)if(h=f[e],i=h[h.length-1],c(i)){if(j=i,h.pop(),0===h.length)return j;if(h=h.join(" "),s.matchesMedia(h))return j}return"100vw"}b.createElement("picture");var o,p,q,r,s={},t=!1,u=function(){},v=b.createElement("img"),w=v.getAttribute,x=v.setAttribute,y=v.removeAttribute,z=b.documentElement,A={},B={algorithm:""},C="data-pfsrc",D=C+"set",E=navigator.userAgent,F=/rident/.test(E)||/ecko/.test(E)&&E.match(/rv\:(\d+)/)&&RegExp.$1>35,G="currentSrc",H=/\s+\+?\d+(e\d+)?w/,I=/(\([^)]+\))?\s*(.+)/,J=a.picturefillCFG,K="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",L="font-size:100%!important;",M=!0,N={},O={},P=a.devicePixelRatio,Q={px:1,"in":96},R=b.createElement("a"),S=!1,T=/^[ \t\n\r\u000c]+/,U=/^[, \t\n\r\u000c]+/,V=/^[^ \t\n\r\u000c]+/,W=/[,]+$/,X=/^\d+$/,Y=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,Z=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)},$=function(a){var b={};return function(c){return c in b||(b[c]=a(c)),b[c]}},_=function(){var a=/^([\d\.]+)(em|vw|px)$/,b=function(){for(var a=arguments,b=0,c=a[0];++b in a;)c=c.replace(a[b],a[++b]);return c},c=$(function(a){return"return "+b((a||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(b,d){var e;if(!(b in N))if(N[b]=!1,d&&(e=b.match(a)))N[b]=e[1]*Q[e[2]];else try{N[b]=new Function("e",c(b))(Q)}catch(f){}return N[b]}}(),aa=function(a,b){return a.w?(a.cWidth=s.calcListLength(b||"100vw"),a.res=a.w/a.cWidth):a.res=a.d,a},ba=function(a){if(t){var c,d,e,f=a||{};if(f.elements&&1===f.elements.nodeType&&("IMG"===f.elements.nodeName.toUpperCase()?f.elements=[f.elements]:(f.context=f.elements,f.elements=null)),c=f.elements||s.qsa(f.context||b,f.reevaluate||f.reselect?s.sel:s.selShort),e=c.length){for(s.setupRun(f),S=!0,d=0;e>d;d++)s.fillImg(c[d],f);s.teardownRun(f)}}};o=a.console&&console.warn?function(a){console.warn(a)}:u,G in v||(G="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),s.ns=("pf"+(new Date).getTime()).substr(0,9),s.supSrcset="srcset"in v,s.supSizes="sizes"in v,s.supPicture=!!a.HTMLPictureElement,s.supSrcset&&s.supPicture&&!s.supSizes&&!function(a){v.srcset="data:,a",a.src="data:,a",s.supSrcset=v.complete===a.complete,s.supPicture=s.supSrcset&&s.supPicture}(b.createElement("img")),s.supSrcset&&!s.supSizes?!function(){var a="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",c="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d=b.createElement("img"),e=function(){var a=d.width;2===a&&(s.supSizes=!0),q=s.supSrcset&&!s.supSizes,t=!0,setTimeout(ba)};d.onload=e,d.onerror=e,d.setAttribute("sizes","9px"),d.srcset=c+" 1w,"+a+" 9w",d.src=c}():t=!0,s.selShort="picture>img,img[srcset]",s.sel=s.selShort,s.cfg=B,s.DPR=P||1,s.u=Q,s.types=A,s.setSize=u,s.makeUrl=$(function(a){return R.href=a,R.href}),s.qsa=function(a,b){return"querySelector"in a?a.querySelectorAll(b):[]},s.matchesMedia=function(){return a.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?s.matchesMedia=function(a){return!a||matchMedia(a).matches}:s.matchesMedia=s.mMQ,s.matchesMedia.apply(this,arguments)},s.mMQ=function(a){return a?_(a):!0},s.calcLength=function(a){var b=_(a,!0)||!1;return 0>b&&(b=!1),b},s.supportsType=function(a){return a?A[a]:!0},s.parseSize=$(function(a){var b=(a||"").match(I);return{media:b&&b[1],length:b&&b[2]}}),s.parseSet=function(a){return a.cands||(a.cands=m(a.srcset,a)),a.cands},s.getEmValue=function(){var a;if(!p&&(a=b.body)){var c=b.createElement("div"),d=z.style.cssText,e=a.style.cssText;c.style.cssText=K,z.style.cssText=L,a.style.cssText=L,a.appendChild(c),p=c.offsetWidth,a.removeChild(c),p=parseFloat(p,10),z.style.cssText=d,a.style.cssText=e}return p||16},s.calcListLength=function(a){if(!(a in O)||B.uT){var b=s.calcLength(n(a));O[a]=b?b:Q.width}return O[a]},s.setRes=function(a){var b;if(a){b=s.parseSet(a);for(var c=0,d=b.length;d>c;c++)aa(b[c],a.sizes)}return b},s.setRes.res=aa,s.applySetCandidate=function(a,b){if(a.length){var c,d,e,f,h,k,l,m,n,o=b[s.ns],p=s.DPR;if(k=o.curSrc||b[G],l=o.curCan||j(b,k,a[0].set),l&&l.set===a[0].set&&(n=F&&!b.complete&&l.res-.1>p,n||(l.cached=!0,l.res>=p&&(h=l))),!h)for(a.sort(i),f=a.length,h=a[f-1],d=0;f>d;d++)if(c=a[d],c.res>=p){e=d-1,h=a[e]&&(n||k!==s.makeUrl(c.url))&&g(a[e].res,c.res,p,a[e].cached)?a[e]:c;break}h&&(m=s.makeUrl(h.url),o.curSrc=m,o.curCan=h,m!==k&&s.setSrc(b,h),s.setSize(b))}},s.setSrc=function(a,b){var c;a.src=b.url,"image/svg+xml"===b.set.type&&(c=a.style.width,a.style.width=a.offsetWidth+1+"px",a.offsetWidth+1&&(a.style.width=c))},s.getSet=function(a){var b,c,d,e=!1,f=a[s.ns].sets;for(b=0;b<f.length&&!e;b++)if(c=f[b],c.srcset&&s.matchesMedia(c.media)&&(d=s.supportsType(c.type))){"pending"===d&&(c=d),e=c;break}return e},s.parseSets=function(a,b,d){var e,f,g,h,i=b&&"PICTURE"===b.nodeName.toUpperCase(),j=a[s.ns];(j.src===c||d.src)&&(j.src=w.call(a,"src"),j.src?x.call(a,C,j.src):y.call(a,C)),(j.srcset===c||d.srcset||!s.supSrcset||a.srcset)&&(e=w.call(a,"srcset"),j.srcset=e,h=!0),j.sets=[],i&&(j.pic=!0,l(b,j.sets)),j.srcset?(f={srcset:j.srcset,sizes:w.call(a,"sizes")},j.sets.push(f),g=(q||j.src)&&H.test(j.srcset||""),g||!j.src||k(j.src,f)||f.has1x||(f.srcset+=", "+j.src,f.cands.push({url:j.src,d:1,set:f}))):j.src&&j.sets.push({srcset:j.src,sizes:null}),j.curCan=null,j.curSrc=c,j.supported=!(i||f&&!s.supSrcset||g&&!s.supSizes),h&&s.supSrcset&&!j.supported&&(e?(x.call(a,D,e),a.srcset=""):y.call(a,D)),j.supported&&!j.srcset&&(!j.src&&a.src||a.src!==s.makeUrl(j.src))&&(null===j.src?a.removeAttribute("src"):a.src=j.src),j.parsed=!0},s.fillImg=function(a,b){var c,d=b.reselect||b.reevaluate;a[s.ns]||(a[s.ns]={}),c=a[s.ns],(d||c.evaled!==r)&&((!c.parsed||b.reevaluate)&&s.parseSets(a,a.parentNode,b),c.supported?c.evaled=r:h(a))},s.setupRun=function(){(!S||M||P!==a.devicePixelRatio)&&f()},s.supPicture?(ba=u,s.fillImg=u):!function(){var c,d=a.attachEvent?/d$|^c/:/d$|^c|^i/,e=function(){var a=b.readyState||"";f=setTimeout(e,"loading"===a?200:999),b.body&&(s.fillImgs(),c=c||d.test(a),c&&clearTimeout(f))},f=setTimeout(e,b.body?9:99),g=function(a,b){var c,d,e=function(){var f=new Date-d;b>f?c=setTimeout(e,b-f):(c=null,a())};return function(){d=new Date,c||(c=setTimeout(e,b))}},h=z.clientHeight,i=function(){M=Math.max(a.innerWidth||0,z.clientWidth)!==Q.width||z.clientHeight!==h,h=z.clientHeight,M&&s.fillImgs()};Z(a,"resize",g(i,99)),Z(b,"readystatechange",e)}(),s.picturefill=ba,s.fillImgs=ba,s.teardownRun=u,ba._=s,a.picturefillCFG={pf:s,push:function(a){var b=a.shift();"function"==typeof s[b]?s[b].apply(s,a):(B[b]=a[0],S&&s.fillImgs({reselect:!0}))}};for(;J&&J.length;)a.picturefillCFG.push(J.shift());a.picturefill=ba,"object"==typeof module&&"object"==typeof module.exports?module.exports=ba:"function"==typeof define&&define.amd&&define("picturefill",function(){return ba}),s.supPicture||(A["image/webp"]=e("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document);;
(function ($, Drupal) {

  var show_new_design = $('header').hasClass('tfnsw-ui-kit');

  // Generate the body markup for alert
  var getAlertBody = function (alertContent, alertID, alertType, screenSize, alertTitle, alertURL) {

    if (show_new_design){

      if (alertType == 'alert-general' || alertType == 'alert-important' || alertType == 'alert-campaign'){

        var alertIcon = '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">';
            alertIcon += '  <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="#1C1C1B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>';
            alertIcon += '  <path d="M12 8V12" stroke="#1C1C1B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>';
            alertIcon += '  <path d="M12 16H12.01" stroke="#1C1C1B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>';
            alertIcon += '</svg>';

      }else{

        var alertIcon = '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">';
            alertIcon += '  <path d="M10.29 3.85996L1.81999 18C1.64536 18.3024 1.55296 18.6453 1.55198 18.9945C1.551 19.3437 1.64148 19.6871 1.81442 19.9905C1.98735 20.2939 2.23672 20.5467 2.5377 20.7238C2.83868 20.9009 3.18079 20.9961 3.52999 21H20.47C20.8192 20.9961 21.1613 20.9009 21.4623 20.7238C21.7633 20.5467 22.0126 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.447 18.6453 22.3546 18.3024 22.18 18L13.71 3.85996C13.5317 3.56607 13.2807 3.32308 12.9812 3.15444C12.6817 2.98581 12.3437 2.89722 12 2.89722C11.6563 2.89722 11.3183 2.98581 11.0188 3.15444C10.7193 3.32308 10.4683 3.56607 10.29 3.85996V3.85996Z" stroke="#C41F3D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></path>';
            alertIcon += '  <path d="M12 9V13" stroke="#C41F3D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></path>';
            alertIcon += '  <path d="M12 17H12.01" stroke="#C41F3D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></path>';
            alertIcon += '</svg>';

      }

      var alertbody  = '<a href="' + alertURL + '" class="alert ' + alertType + ' alert-dismissible tfnsw-cr-msg ' + alertID + ' tfnsw-alert fade show" role="alert">';
          alertbody += '  <div class="row d-flex flex-md-row">';
          alertbody += '    <div class="col flex-grow-0 pr-0">';
          alertbody += '      ' + alertIcon;
          alertbody += '    </div>';
          alertbody += '    <div class="col">';
          // alertbody += '      <h2 class="h6 alert-title">' + alertTitle + '</h2>';
          alertbody += '      ' + alertContent;
          alertbody += '    </div>';
          alertbody += '  </div>';           
          alertbody += '  <button type="button" class="btn--icon close" data-dismiss="alert" aria-label="Close" name="' + alertID + '">';
          alertbody += '    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">';
          alertbody += '      <path d="M6.94004 6.00012L11.14 1.80679C11.2656 1.68125 11.3361 1.51099 11.3361 1.33346C11.3361 1.15592 11.2656 0.985659 11.14 0.860124C11.0145 0.734588 10.8442 0.664062 10.6667 0.664062C10.4892 0.664062 10.3189 0.734588 10.1934 0.860124L6.00004 5.06012L1.80671 0.860124C1.68117 0.734588 1.51091 0.664063 1.33337 0.664063C1.15584 0.664063 0.985576 0.734588 0.860041 0.860124C0.734505 0.985659 0.66398 1.15592 0.66398 1.33346C0.66398 1.51099 0.734505 1.68125 0.860041 1.80679L5.06004 6.00012L0.860041 10.1935C0.797555 10.2554 0.747959 10.3292 0.714113 10.4104C0.680267 10.4916 0.662842 10.5788 0.662842 10.6668C0.662842 10.7548 0.680267 10.8419 0.714113 10.9232C0.747959 11.0044 0.797555 11.0781 0.860041 11.1401C0.922016 11.2026 0.99575 11.2522 1.07699 11.2861C1.15823 11.3199 1.24537 11.3373 1.33337 11.3373C1.42138 11.3373 1.50852 11.3199 1.58976 11.2861C1.671 11.2522 1.74473 11.2026 1.80671 11.1401L6.00004 6.94012L10.1934 11.1401C10.2553 11.2026 10.3291 11.2522 10.4103 11.2861C10.4916 11.3199 10.5787 11.3373 10.6667 11.3373C10.7547 11.3373 10.8419 11.3199 10.9231 11.2861C11.0043 11.2522 11.0781 11.2026 11.14 11.1401C11.2025 11.0781 11.2521 11.0044 11.286 10.9232C11.3198 10.8419 11.3372 10.7548 11.3372 10.6668C11.3372 10.5788 11.3198 10.4916 11.286 10.4104C11.2521 10.3292 11.2025 10.2554 11.14 10.1935L6.94004 6.00012Z" fill="#000000"/>';
          alertbody += '    </svg>';
          alertbody += '  </button>';
          alertbody += '</a>';
      alertItem = alertbody;

    }else{

      var alertItem = '';

      var alertbodydesktop = '<div class="hidden tfnsw-cr-msg ' + alertID + ' hidden-xs hidden-sm ">' +
        ' <div class="alert alert-dismissable tfnsw-alert  '+ alertType + '" role="alert">';

      var alertbodymobile = '<div class="hidden tfnsw-cr-msg ' + alertID + ' hidden-md hidden-lg ">' +
        ' <div class="alert alert-dismissable tfnsw-alert tfnsw-alert-simple '+ alertType + '" role="alert">';

      var alertIcon = (alertType == 'alert-general' || alertType == 'alert-important' || alertType == 'alert-campaign') ? 'tp_alert_info' : 'tp_alert_warning';

      var alertbody  = '   <h2 class="sr-only">Alert</h2>';
        alertbody += '      <svg class="tp-icon tfnsw-icon xs-lg sm-md" aria-hidden="true" focusable="false">';
        alertbody += '       <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg#' + alertIcon + '"></use>';
        alertbody += '      </svg>';
        alertbody += '      <div class="alert-body">';
        alertbody += '        ' + alertContent;
        alertbody += '      </div>';
        alertbody += '       <div class="alert-close-container">';
        alertbody += '         <button type="button" class="close" data-dismiss="alert" aria-label="Close alert" name="' + alertID + '">';
        alertbody += '             <svg class="tp-icon sm-md" aria-hidden="true" focusable="false">';
        alertbody += '                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg#tp_alert_close"></use>';
        alertbody += '           </svg>';
        alertbody += '           <span class="sr-only">Close banner</span>';
        alertbody += '          </button>';
        alertbody += '       </div>';
        alertbody += ' </div>';
        alertbody += '</div>';

      if(screenSize == 'desktop') {

        alertItem = alertbodydesktop+alertbody;

      }else{

        alertItem = alertbodymobile+alertbody;
      }
    }

    return alertItem;
  }

  //Generate markup for an ICS alert item
  var alertICSItemMarkup = function(index, value, screenSize) {

    var alertItem = '';
    var alertTitle = '';
    var alertURL = '';
    var alertID = 'ca-' + value.id + "-" + value.version;
    var alertType = value.priority == 'veryHigh' ? 'alert-vhigh' : 'alert-high';
    
    if (show_new_design){
        alertContent = value.urlText;
        alertURL = '/alerts/details#/' + value.id;
    }else{
        var alertContent = '<a href="/alerts/details#/' + value.id + '" class="alert-link">' + value.urlText + '</a>';
    }

    if(alertContent !== "") {

      alertItem = getAlertBody(alertContent, alertID, alertType, screenSize, alertTitle, alertURL);
    }

    return alertItem;
  }

  //Generate markup for an alert banner item
  var alertBannerItemMarkup = function(index, value, screenSize) {
    var alertType = 'alert-important';
    var alertID = 'ca-' + value.nid + "-regional-alerts";

    if(typeof(value.field_priority) != "undefined" &&
      value.field_priority !== null) {
   
      switch(value.field_priority) {

        case 'general':
          alertType = 'alert-general';
          break;

        case 'campaign':
          alertType = 'alert-campaign';
          break;

        case 'high':
          alertType = 'alert-high';
          break;

        case 'very_high':
          alertType = 'alert-vhigh';
          break;

        default:
          alertType = 'alert-important';
          break;
      }

    }
    else if(typeof(value.field_alert_banner_type) &&
      value.field_alert_banner_type !== null &&
      value.field_alert_banner_type.toLowerCase() == 'campaign') {

      var alertID = 'ca-' + value.nid + "-banner-alerts";
      alertType = 'alert-campaign';
    }

    var alertMessage = typeof(value.field_message_text) != "undefined" &&
    value.field_message_text !== null &&
    value.field_message_text !== "" ? value.field_message_text : '';

    alertMessage !== "" ? alertMessage += " " : "";

    var alertTitle = typeof(value.title) != "undefined" &&
    value.title !== null &&
    value.title !== "" ? value.title : '';

    var alertURL = typeof(value.field_call_to_action_link) != "undefined" &&
    value.field_call_to_action_link !== null &&
    value.field_call_to_action_link !== "" ? value.field_call_to_action_link : '';
    
    if (show_new_design){

      var alertCallToAction = '';
      var regionalAlertCallToAction ='';

    }else{

      var alertCallToAction = typeof(value.alerts_call_to_action) != "undefined" &&
      value.alerts_call_to_action !== null &&
      value.alerts_call_to_action !== "" ? value.alerts_call_to_action : '';

      var regionalAlertCallToAction = typeof(value.regional_alerts_call_to_action) != "undefined" &&
      value.regional_alerts_call_to_action !== null &&
      value.regional_alerts_call_to_action !== "" ? value.regional_alerts_call_to_action : '';
    }

    var alertContent = alertMessage + (regionalAlertCallToAction ? regionalAlertCallToAction : alertCallToAction);
    var alertItem = '';

    if(alertContent !== "") {
      alertItem = getAlertBody(alertContent, alertID, alertType, screenSize, alertTitle, alertURL);
    }

    return alertItem;
  }

  //Remove previously closed alerts
  var removeClosedAlerts = function() {

    // Local storage check for closed alerts
    var removedCR = localStorage.getItem("removedCR");

    if(removedCR != null) {

      var rcr = removedCR.split('$');

      for(var i=0;i<rcr.length;i++){
        $('div[class~="'+rcr[i]+'"]').remove();
        $('a[class~="'+rcr[i]+'"]').remove();
      }
    }

    $('.tfnsw-cr-msg').removeClass('hidden');

  }

  // Process data received from ICS endpoint
  var processICSResponse = function (response) {

    //If the alerts are coming from ICS
    if (typeof(response.infos) != "undefined" && response.infos !== null) {

      //if alert exists
      if (typeof(response.infos.current) != "undefined" &&
        response.infos.current !== null &&
        response.infos.current.length > 0) {

        // JS Configurations for alert block
        $.each(response.infos.current, function(index, value) {

          // Only show 'high' and 'veryHigh' alerts.
          if (typeof(value.priority) != "undefined" &&
            value.priority !== null &&
            value.priority.length > 0 &&
            (value.priority == 'veryHigh' ||
              value.priority == 'high')) {

            var alertItemDesktop = alertICSItemMarkup(index, value, 'desktop');
            var alertItemMobile = alertICSItemMarkup(index, value, 'mobile');
            $(".cr-placeholder-desktop .ics-alerts").append(alertItemDesktop);
            $(".cr-placeholder-mobile .ics-alerts").append(alertItemMobile);
          }
        });
      }
    }
  }

  // Process data received from Alert Banner endpoint
  var processAlertBannerResponse = function (response) {
    //If the alerts are coming from NSW train link alert json endpoint
    if(response.length > 0) {

      $.each(response, function (index, value) {

        // If alert banner, value.alert_banner_path is available
        if(typeof(value.nid) != "undefined" &&
          value.nid !== null &&
          typeof(value.alert_banner_path) != "undefined" &&
          value.alert_banner_path !== null) {

          var currentPath = window.location.pathname;
          var allowedPaths = value.alert_banner_path.split(',');

          // Get the path list and check if wildcards are set
          var wildcardpath = allowedPaths.find(a =>a.includes("*"));
          if (typeof(wildcardpath) != "undefined" && wildcardpath !== null) {
              var cpath = allowedPaths.filter(function(item) {
                let dpath = item.includes("*");
                if (dpath) {
                  path = item.replace("/*","");
                  return currentPath.match(path) ? path : "";
                }
              });
          }

          //Check if current path is in the path list
          if($.inArray(currentPath, allowedPaths) >= 0 || (typeof(cpath) != "undefined" && cpath.length > 0)) {
            if (typeof(value.field_page_visibility) == "undefined" ||
                value.field_page_visibility === null ||  value.field_page_visibility == 0){
                var alertItemDesktop = alertBannerItemMarkup(index, value, 'desktop');
                var alertItemMobile = alertBannerItemMarkup(index, value, 'mobile');
                $(".cr-placeholder-desktop .alert-banners").append(alertItemDesktop);
                $(".cr-placeholder-mobile .alert-banners").append(alertItemMobile);
            }
          }else {
            if (typeof(value.field_page_visibility) != "undefined" &&
                value.field_page_visibility !== null && (value.field_page_visibility == 1 || allowedPaths == "")){
                var alertItemDesktop = alertBannerItemMarkup(index, value, 'desktop');
                var alertItemMobile = alertBannerItemMarkup(index, value, 'mobile');
                $(".cr-placeholder-desktop .alert-banners").append(alertItemDesktop);
                $(".cr-placeholder-mobile .alert-banners").append(alertItemMobile);
            }
          }
        }
      });
    }
  }

  // Process data received from Regional Alert endpoint
  var processRegionalAlertResponse = function (response) {

    //If the alerts are coming from NSW train link alert json endpoint
    if(response.length > 0) {

      $.each(response, function (index, value) {

        // If regional alerts, value.nothing is available
        if(typeof(value.nid) != "undefined" &&
          value.nid !== null &&
          typeof(value.nothing) != "undefined" &&
          value.nothing !== null) {

          var currentPath = window.location.pathname;
          var allowedPaths = value.nothing.split(',');

          //Check if current path is in the allowed path list
          if($.inArray(currentPath, allowedPaths) >= 0) {

            var alertItemDesktop = alertBannerItemMarkup(index, value, 'desktop');
            var alertItemMobile = alertBannerItemMarkup(index, value, 'mobile');
            $(".cr-placeholder-desktop .regional-alerts").append(alertItemDesktop);
            $(".cr-placeholder-mobile .regional-alerts").append(alertItemMobile);
          }
        }
      });
    }
  }

  // Process response based on type
  var processResponse = function(response, type) {

    switch(type) {

      case 'ics':

        processICSResponse(response);

        break;

      case 'alert-banner':

        processAlertBannerResponse(response);

        break;

      case 'regional-alert':

        processRegionalAlertResponse(response);

        break;
    }

    removeClosedAlerts();
  }

  //Load alerts from JSON endpoint
  var loadData = function(source, type) {

    $.ajax({
      method: 'GET',
      url: source,
      dataType: 'json'
    }).done(function(response) {
      processResponse(response, type);
    }).fail(function(e) {
      // Error
    });
  }

  //Trigger close alert for current and future alerts on the page
  $(document).on('click', '.tfnsw-alert .close' , function (e) {

    var name = $(this).attr("name");

    if(name!=null) {

      e.preventDefault();
      $('div[class~="'+name+'"]').remove();
      var removedCR = localStorage.getItem("removedCR");

      if(removedCR == null) {

        localStorage.setItem("removedCR", name);

      }else {

        localStorage.setItem("removedCR", removedCR+"$"+name);
      }
    }
  });

  // Only execute once when the page loads
  $(function() {

    // Clean the containers first
    $(".cr-placeholder-desktop .regional-alerts").empty();
    $(".cr-placeholder-mobile .regional-alerts").empty();
    $(".cr-placeholder-desktop .alert-banners").empty();
    $(".cr-placeholder-mobile .alert-banners").empty();
    $(".cr-placeholder-desktop .ics-alerts").empty();
    $(".cr-placeholder-mobile .ics-alerts").empty();

    var d = new Date();
    var month = d.getMonth() + 1;
    var day = d.getDate();
    var validationDate = ((day < 10 ? '0' : '') + day) + "-" + ((month < 10 ? '0' : '') + month) + "-" + d.getFullYear();
    
    //Adds the alerts from ICS
    var sourceICS = "/api/trip/v1/add-info-request?outputFormat=rapidJSON&filterDateValid=" + validationDate + "&filterInfoType=bannerInfo";
    loadData(sourceICS, 'ics');

    //Adds alert from regional alert endpoint
    var sourceRegioanlAlerts = "/tfnsw-alerts/regional-alerts?_format=json";
    loadData(sourceRegioanlAlerts, 'regional-alert');

    //Adds alert from regional alert endpoint
    var sourceAlertBanners = "/tfnsw-alerts/alert-banners?_format=json";
    loadData(sourceAlertBanners, 'alert-banner');
  });
})(jQuery, Drupal);
;
/**
 * @file
 * Drupal Bootstrap object.
 */

/**
 * All Drupal Bootstrap JavaScript APIs are contained in this namespace.
 *
 * @param {underscore} _
 * @param {jQuery} $
 * @param {Drupal} Drupal
 * @param {drupalSettings} drupalSettings
 */
(function (_, $, Drupal, drupalSettings) {
  'use strict';

  /**
   * @typedef Drupal.bootstrap
   */
  var Bootstrap = {
    processedOnce: {},
    settings: drupalSettings.bootstrap || {}
  };

  /**
   * Wraps Drupal.checkPlain() to ensure value passed isn't empty.
   *
   * Encodes special characters in a plain-text string for display as HTML.
   *
   * @param {string} str
   *   The string to be encoded.
   *
   * @return {string}
   *   The encoded string.
   *
   * @ingroup sanitization
   */
  Bootstrap.checkPlain = function (str) {
    return str && Drupal.checkPlain(str) || '';
  };

  /**
   * Creates a jQuery plugin.
   *
   * @param {String} id
   *   A jQuery plugin identifier located in $.fn.
   * @param {Function} plugin
   *   A constructor function used to initialize the for the jQuery plugin.
   * @param {Boolean} [noConflict]
   *   Flag indicating whether or not to create a ".noConflict()" helper method
   *   for the plugin.
   */
  Bootstrap.createPlugin = function (id, plugin, noConflict) {
    // Immediately return if plugin doesn't exist.
    if ($.fn[id] !== void 0) {
      return this.fatal('Specified jQuery plugin identifier already exists: @id. Use Drupal.bootstrap.replacePlugin() instead.', {'@id': id});
    }

    // Immediately return if plugin isn't a function.
    if (typeof plugin !== 'function') {
      return this.fatal('You must provide a constructor function to create a jQuery plugin "@id": @plugin', {'@id': id, '@plugin':  plugin});
    }

    // Add a ".noConflict()" helper method.
    this.pluginNoConflict(id, plugin, noConflict);

    $.fn[id] = plugin;
  };

  /**
   * Diff object properties.
   *
   * @param {...Object} objects
   *   Two or more objects. The first object will be used to return properties
   *   values.
   *
   * @return {Object}
   *   Returns the properties of the first passed object that are not present
   *   in all other passed objects.
   */
  Bootstrap.diffObjects = function (objects) {
    var args = Array.prototype.slice.call(arguments);
    return _.pick(args[0], _.difference.apply(_, _.map(args, function (obj) {
      return Object.keys(obj);
    })));
  };

  /**
   * Map of supported events by regular expression.
   *
   * @type {Object<Event|MouseEvent|KeyboardEvent|TouchEvent,RegExp>}
   */
  Bootstrap.eventMap = {
    Event: /^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
    MouseEvent: /^(?:click|dblclick|mouse(?:down|enter|leave|up|over|move|out))$/,
    KeyboardEvent: /^(?:key(?:down|press|up))$/,
    TouchEvent: /^(?:touch(?:start|end|move|cancel))$/
  };

  /**
   * Extends a jQuery Plugin.
   *
   * @param {String} id
   *   A jQuery plugin identifier located in $.fn.
   * @param {Function} callback
   *   A constructor function used to initialize the for the jQuery plugin.
   *
   * @return {Function|Boolean}
   *   The jQuery plugin constructor or FALSE if the plugin does not exist.
   */
  Bootstrap.extendPlugin = function (id, callback) {
    // Immediately return if plugin doesn't exist.
    if (typeof $.fn[id] !== 'function') {
      return this.fatal('Specified jQuery plugin identifier does not exist: @id', {'@id':  id});
    }

    // Immediately return if callback isn't a function.
    if (typeof callback !== 'function') {
      return this.fatal('You must provide a callback function to extend the jQuery plugin "@id": @callback', {'@id': id, '@callback':  callback});
    }

    // Determine existing plugin constructor.
    var constructor = $.fn[id] && $.fn[id].Constructor || $.fn[id];
    var plugin = callback.apply(constructor, [this.settings]);
    if (!$.isPlainObject(plugin)) {
      return this.fatal('Returned value from callback is not a plain object that can be used to extend the jQuery plugin "@id": @obj', {'@obj':  plugin});
    }

    this.wrapPluginConstructor(constructor, plugin, true);

    return $.fn[id];
  };

  Bootstrap.superWrapper = function (parent, fn) {
    return function () {
      var previousSuper = this.super;
      this.super = parent;
      var ret = fn.apply(this, arguments);
      if (previousSuper) {
        this.super = previousSuper;
      }
      else {
        delete this.super;
      }
      return ret;
    };
  };

  /**
   * Provide a helper method for displaying when something is went wrong.
   *
   * @param {String} message
   *   The message to display.
   * @param {Object} [args]
   *   An arguments to use in message.
   *
   * @return {Boolean}
   *   Always returns FALSE.
   */
  Bootstrap.fatal = function (message, args) {
    if (this.settings.dev && console.warn) {
      for (var name in args) {
        if (args.hasOwnProperty(name) && typeof args[name] === 'object') {
          args[name] = JSON.stringify(args[name]);
        }
      }
      Drupal.throwError(new Error(Drupal.formatString(message, args)));
    }
    return false;
  };

  /**
   * Intersects object properties.
   *
   * @param {...Object} objects
   *   Two or more objects. The first object will be used to return properties
   *   values.
   *
   * @return {Object}
   *   Returns the properties of first passed object that intersects with all
   *   other passed objects.
   */
  Bootstrap.intersectObjects = function (objects) {
    var args = Array.prototype.slice.call(arguments);
    return _.pick(args[0], _.intersection.apply(_, _.map(args, function (obj) {
      return Object.keys(obj);
    })));
  };

  /**
   * Normalizes an object's values.
   *
   * @param {Object} obj
   *   The object to normalize.
   *
   * @return {Object}
   *   The normalized object.
   */
  Bootstrap.normalizeObject = function (obj) {
    if (!$.isPlainObject(obj)) {
      return obj;
    }

    for (var k in obj) {
      if (typeof obj[k] === 'string') {
        if (obj[k] === 'true') {
          obj[k] = true;
        }
        else if (obj[k] === 'false') {
          obj[k] = false;
        }
        else if (obj[k].match(/^[\d-.]$/)) {
          obj[k] = parseFloat(obj[k]);
        }
      }
      else if ($.isPlainObject(obj[k])) {
        obj[k] = Bootstrap.normalizeObject(obj[k]);
      }
    }

    return obj;
  };

  /**
   * An object based once plugin (similar to jquery.once, but without the DOM).
   *
   * @param {String} id
   *   A unique identifier.
   * @param {Function} callback
   *   The callback to invoke if the identifier has not yet been seen.
   *
   * @return {Bootstrap}
   */
  Bootstrap.once = function (id, callback) {
    // Immediately return if identifier has already been processed.
    if (this.processedOnce[id]) {
      return this;
    }
    callback.call(this, this.settings);
    this.processedOnce[id] = true;
    return this;
  };

  /**
   * Provide jQuery UI like ability to get/set options for Bootstrap plugins.
   *
   * @param {string|object} key
   *   A string value of the option to set, can be dot like to a nested key.
   *   An object of key/value pairs.
   * @param {*} [value]
   *   (optional) A value to set for key.
   *
   * @returns {*}
   *   - Returns nothing if key is an object or both key and value parameters
   *   were provided to set an option.
   *   - Returns the a value for a specific setting if key was provided.
   *   - Returns an object of key/value pairs of all the options if no key or
   *   value parameter was provided.
   *
   * @see https://github.com/jquery/jquery-ui/blob/master/ui/widget.js
   */
  Bootstrap.option = function (key, value) {
    var options = $.isPlainObject(key) ? $.extend({}, key) : {};

    // Get all options (clone so it doesn't reference the internal object).
    if (arguments.length === 0) {
      return $.extend({}, this.options);
    }

    // Get/set single option.
    if (typeof key === "string") {
      // Handle nested keys in dot notation.
      // e.g., "foo.bar" => { foo: { bar: true } }
      var parts = key.split('.');
      key = parts.shift();
      var obj = options;
      if (parts.length) {
        for (var i = 0; i < parts.length - 1; i++) {
          obj[parts[i]] = obj[parts[i]] || {};
          obj = obj[parts[i]];
        }
        key = parts.pop();
      }

      // Get.
      if (arguments.length === 1) {
        return obj[key] === void 0 ? null : obj[key];
      }

      // Set.
      obj[key] = value;
    }

    // Set multiple options.
    $.extend(true, this.options, options);
  };

  /**
   * Adds a ".noConflict()" helper method if needed.
   *
   * @param {String} id
   *   A jQuery plugin identifier located in $.fn.
   * @param {Function} plugin
   * @param {Function} plugin
   *   A constructor function used to initialize the for the jQuery plugin.
   * @param {Boolean} [noConflict]
   *   Flag indicating whether or not to create a ".noConflict()" helper method
   *   for the plugin.
   */
  Bootstrap.pluginNoConflict = function (id, plugin, noConflict) {
    if (plugin.noConflict === void 0 && (noConflict === void 0 || noConflict)) {
      var old = $.fn[id];
      plugin.noConflict = function () {
        $.fn[id] = old;
        return this;
      };
    }
  };

  /**
   * Creates a handler that relays to another event name.
   *
   * @param {HTMLElement|jQuery} target
   *   A target element.
   * @param {String} name
   *   The name of the event to trigger.
   * @param {Boolean} [stopPropagation=true]
   *   Flag indicating whether to stop the propagation of the event, defaults
   *   to true.
   *
   * @return {Function}
   *   An even handler callback function.
   */
  Bootstrap.relayEvent = function (target, name, stopPropagation) {
    return function (e) {
      if (stopPropagation === void 0 || stopPropagation) {
        e.stopPropagation();
      }
      var $target = $(target);
      var parts = name.split('.').filter(Boolean);
      var type = parts.shift();
      e.target = $target[0];
      e.currentTarget = $target[0];
      e.namespace = parts.join('.');
      e.type = type;
      $target.trigger(e);
    };
  };

  /**
   * Replaces a Bootstrap jQuery plugin definition.
   *
   * @param {String} id
   *   A jQuery plugin identifier located in $.fn.
   * @param {Function} callback
   *   A callback function that is immediately invoked and must return a
   *   function that will be used as the plugin constructor.
   * @param {Boolean} [noConflict]
   *   Flag indicating whether or not to create a ".noConflict()" helper method
   *   for the plugin.
   */
  Bootstrap.replacePlugin = function (id, callback, noConflict) {
    // Immediately return if plugin doesn't exist.
    if (typeof $.fn[id] !== 'function') {
      return this.fatal('Specified jQuery plugin identifier does not exist: @id', {'@id':  id});
    }

    // Immediately return if callback isn't a function.
    if (typeof callback !== 'function') {
      return this.fatal('You must provide a valid callback function to replace a jQuery plugin: @callback', {'@callback': callback});
    }

    // Determine existing plugin constructor.
    var constructor = $.fn[id] && $.fn[id].Constructor || $.fn[id];
    var plugin = callback.apply(constructor, [this.settings]);

    // Immediately return if plugin isn't a function.
    if (typeof plugin !== 'function') {
      return this.fatal('Returned value from callback is not a usable function to replace a jQuery plugin "@id": @plugin', {'@id': id, '@plugin': plugin});
    }

    this.wrapPluginConstructor(constructor, plugin);

    // Add a ".noConflict()" helper method.
    this.pluginNoConflict(id, plugin, noConflict);

    $.fn[id] = plugin;
  };

  /**
   * Simulates a native event on an element in the browser.
   *
   * Note: This is a fairly complete modern implementation. If things aren't
   * working quite the way you intend (in older browsers), you may wish to use
   * the jQuery.simulate plugin. If it's available, this method will defer to
   * that plugin.
   *
   * @see https://github.com/jquery/jquery-simulate
   *
   * @param {HTMLElement|jQuery} element
   *   A DOM element to dispatch event on. Note: this may be a jQuery object,
   *   however be aware that this will trigger the same event for each element
   *   inside the jQuery collection; use with caution.
   * @param {String|String[]} type
   *   The type(s) of event to simulate.
   * @param {Object} [options]
   *   An object of options to pass to the event constructor. Typically, if
   *   an event is being proxied, you should just pass the original event
   *   object here. This allows, if the browser supports it, to be a truly
   *   simulated event.
   *
   * @return {Boolean}
   *   The return value is false if event is cancelable and at least one of the
   *   event handlers which handled this event called Event.preventDefault().
   *   Otherwise it returns true.
   */
  Bootstrap.simulate = function (element, type, options) {
    // Handle jQuery object wrappers so it triggers on each element.
    var ret = true;
    if (element instanceof $) {
      element.each(function () {
        if (!Bootstrap.simulate(this, type, options)) {
          ret = false;
        }
      });
      return ret;
    }

    if (!(element instanceof HTMLElement)) {
      this.fatal('Passed element must be an instance of HTMLElement, got "@type" instead.', {
        '@type': typeof element,
      });
    }

    // Defer to the jQuery.simulate plugin, if it's available.
    if (typeof $.simulate === 'function') {
      new $.simulate(element, type, options);
      return true;
    }

    var event;
    var ctor;
    var types = [].concat(type);
    for (var i = 0, l = types.length; i < l; i++) {
      type = types[i];
      for (var name in this.eventMap) {
        if (this.eventMap[name].test(type)) {
          ctor = name;
          break;
        }
      }
      if (!ctor) {
        throw new SyntaxError('Only rudimentary HTMLEvents, KeyboardEvents and MouseEvents are supported: ' + type);
      }
      var opts = {bubbles: true, cancelable: true};
      if (ctor === 'KeyboardEvent' || ctor === 'MouseEvent') {
        $.extend(opts, {ctrlKey: !1, altKey: !1, shiftKey: !1, metaKey: !1});
      }
      if (ctor === 'MouseEvent') {
        $.extend(opts, {button: 0, pointerX: 0, pointerY: 0, view: window});
      }
      if (options) {
        $.extend(opts, options);
      }
      if (typeof window[ctor] === 'function') {
        event = new window[ctor](type, opts);
        if (!element.dispatchEvent(event)) {
          ret = false;
        }
      }
      else if (document.createEvent) {
        event = document.createEvent(ctor);
        event.initEvent(type, opts.bubbles, opts.cancelable);
        if (!element.dispatchEvent(event)) {
          ret = false;
        }
      }
      else if (typeof element.fireEvent === 'function') {
        event = $.extend(document.createEventObject(), opts);
        if (!element.fireEvent('on' + type, event)) {
          ret = false;
        }
      }
      else if (typeof element[type]) {
        element[type]();
      }
    }
    return ret;
  };

  /**
   * Strips HTML and returns just text.
   *
   * @param {String|Element|jQuery} html
   *   A string of HTML content, an Element DOM object or a jQuery object.
   *
   * @return {String}
   *   The text without HTML tags.
   *
   * @todo Replace with http://locutus.io/php/strings/strip_tags/
   */
  Bootstrap.stripHtml = function (html) {
    if (html instanceof $) {
      html = html.html();
    }
    else if (html instanceof Element) {
      html = html.innerHTML;
    }
    var tmp = document.createElement('DIV');
    tmp.innerHTML = html;
    return (tmp.textContent || tmp.innerText || '').replace(/^[\s\n\t]*|[\s\n\t]*$/, '');
  };

  /**
   * Provide a helper method for displaying when something is unsupported.
   *
   * @param {String} type
   *   The type of unsupported object, e.g. method or option.
   * @param {String} name
   *   The name of the unsupported object.
   * @param {*} [value]
   *   The value of the unsupported object.
   */
  Bootstrap.unsupported = function (type, name, value) {
    Bootstrap.warn('Unsupported by Drupal Bootstrap: (@type) @name -> @value', {
      '@type': type,
      '@name': name,
      '@value': typeof value === 'object' ? JSON.stringify(value) : value
    });
  };

  /**
   * Provide a helper method to display a warning.
   *
   * @param {String} message
   *   The message to display.
   * @param {Object} [args]
   *   Arguments to use as replacements in Drupal.formatString.
   */
  Bootstrap.warn = function (message, args) {
    if (this.settings.dev && console.warn) {
      console.warn(Drupal.formatString(message, args));
    }
  };

  /**
   * Wraps a plugin with common functionality.
   *
   * @param {Function} constructor
   *   A plugin constructor being wrapped.
   * @param {Object|Function} plugin
   *   The plugin being wrapped.
   * @param {Boolean} [extend = false]
   *   Whether to add super extensibility.
   */
  Bootstrap.wrapPluginConstructor = function (constructor, plugin, extend) {
    var proto = constructor.prototype;

    // Add a jQuery UI like option getter/setter method.
    var option = this.option;
    if (proto.option === void(0)) {
      proto.option = function () {
        return option.apply(this, arguments);
      };
    }

    if (extend) {
      // Handle prototype properties separately.
      if (plugin.prototype !== void 0) {
        for (var key in plugin.prototype) {
          if (!plugin.prototype.hasOwnProperty(key)) continue;
          var value = plugin.prototype[key];
          if (typeof value === 'function') {
            proto[key] = this.superWrapper(proto[key] || function () {}, value);
          }
          else {
            proto[key] = $.isPlainObject(value) ? $.extend(true, {}, proto[key], value) : value;
          }
        }
      }
      delete plugin.prototype;

      // Handle static properties.
      for (key in plugin) {
        if (!plugin.hasOwnProperty(key)) continue;
        value = plugin[key];
        if (typeof value === 'function') {
          constructor[key] = this.superWrapper(constructor[key] || function () {}, value);
        }
        else {
          constructor[key] = $.isPlainObject(value) ? $.extend(true, {}, constructor[key], value) : value;
        }
      }
    }
  };

  // Add Bootstrap to the global Drupal object.
  Drupal.bootstrap = Drupal.bootstrap || Bootstrap;

})(window._, window.jQuery, window.Drupal, window.drupalSettings);
;
(function ($, _) {

  /**
   * @class Attributes
   *
   * Modifies attributes.
   *
   * @param {Object|Attributes} attributes
   *   An object to initialize attributes with.
   */
  var Attributes = function (attributes) {
    this.data = {};
    this.data['class'] = [];
    this.merge(attributes);
  };

  /**
   * Renders the attributes object as a string to inject into an HTML element.
   *
   * @return {String}
   *   A rendered string suitable for inclusion in HTML markup.
   */
  Attributes.prototype.toString = function () {
    var output = '';
    var name, value;
    var checkPlain = function (str) {
      return str && str.toString().replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;') || '';
    };
    var data = this.getData();
    for (name in data) {
      if (!data.hasOwnProperty(name)) continue;
      value = data[name];
      if (_.isFunction(value)) value = value();
      if (_.isObject(value)) value = _.values(value);
      if (_.isArray(value)) value = value.join(' ');
      output += ' ' + checkPlain(name) + '="' + checkPlain(value) + '"';
    }
    return output;
  };

  /**
   * Renders the Attributes object as a plain object.
   *
   * @return {Object}
   *   A plain object suitable for inclusion in DOM elements.
   */
  Attributes.prototype.toPlainObject = function () {
    var object = {};
    var name, value;
    var data = this.getData();
    for (name in data) {
      if (!data.hasOwnProperty(name)) continue;
      value = data[name];
      if (_.isFunction(value)) value = value();
      if (_.isObject(value)) value = _.values(value);
      if (_.isArray(value)) value = value.join(' ');
      object[name] = value;
    }
    return object;
  };

  /**
   * Add class(es) to the array.
   *
   * @param {string|Array} value
   *   An individual class or an array of classes to add.
   *
   * @return {Attributes}
   *
   * @chainable
   */
  Attributes.prototype.addClass = function (value) {
    var args = Array.prototype.slice.call(arguments);
    this.data['class'] = this.sanitizeClasses(this.data['class'].concat(args));
    return this;
  };

  /**
   * Returns whether the requested attribute exists.
   *
   * @param {string} name
   *   An attribute name to check.
   *
   * @return {boolean}
   *   TRUE or FALSE
   */
  Attributes.prototype.exists = function (name) {
    return this.data[name] !== void(0) && this.data[name] !== null;
  };

  /**
   * Retrieve a specific attribute from the array.
   *
   * @param {string} name
   *   The specific attribute to retrieve.
   * @param {*} defaultValue
   *   (optional) The default value to set if the attribute does not exist.
   *
   * @return {*}
   *   A specific attribute value, passed by reference.
   */
  Attributes.prototype.get = function (name, defaultValue) {
    if (!this.exists(name)) this.data[name] = defaultValue;
    return this.data[name];
  };

  /**
   * Retrieves a cloned copy of the internal attributes data object.
   *
   * @return {Object}
   */
  Attributes.prototype.getData = function () {
    return _.extend({}, this.data);
  };

  /**
   * Retrieves classes from the array.
   *
   * @return {Array}
   *   The classes array.
   */
  Attributes.prototype.getClasses = function () {
    return this.get('class', []);
  };

  /**
   * Indicates whether a class is present in the array.
   *
   * @param {string|Array} className
   *   The class(es) to search for.
   *
   * @return {boolean}
   *   TRUE or FALSE
   */
  Attributes.prototype.hasClass = function (className) {
    className = this.sanitizeClasses(Array.prototype.slice.call(arguments));
    var classes = this.getClasses();
    for (var i = 0, l = className.length; i < l; i++) {
      // If one of the classes fails, immediately return false.
      if (_.indexOf(classes, className[i]) === -1) {
        return false;
      }
    }
    return true;
  };

  /**
   * Merges multiple values into the array.
   *
   * @param {Attributes|Node|jQuery|Object} object
   *   An Attributes object with existing data, a Node DOM element, a jQuery
   *   instance or a plain object where the key is the attribute name and the
   *   value is the attribute value.
   * @param {boolean} [recursive]
   *   Flag determining whether or not to recursively merge key/value pairs.
   *
   * @return {Attributes}
   *
   * @chainable
   */
  Attributes.prototype.merge = function (object, recursive) {
    // Immediately return if there is nothing to merge.
    if (!object) {
      return this;
    }

    // Get attributes from a jQuery element.
    if (object instanceof $) {
      object = object[0];
    }

    // Get attributes from a DOM element.
    if (object instanceof Node) {
      object = Array.prototype.slice.call(object.attributes).reduce(function (attributes, attribute) {
        attributes[attribute.name] = attribute.value;
        return attributes;
      }, {});
    }
    // Get attributes from an Attributes instance.
    else if (object instanceof Attributes) {
      object = object.getData();
    }
    // Otherwise, clone the object.
    else {
      object = _.extend({}, object);
    }

    // By this point, there should be a valid plain object.
    if (!$.isPlainObject(object)) {
      setTimeout(function () {
        throw new Error('Passed object is not supported: ' + object);
      });
      return this;
    }

    // Handle classes separately.
    if (object && object['class'] !== void 0) {
      this.addClass(object['class']);
      delete object['class'];
    }

    if (recursive === void 0 || recursive) {
      this.data = $.extend(true, {}, this.data, object);
    }
    else {
      this.data = $.extend({}, this.data, object);
    }

    return this;
  };

  /**
   * Removes an attribute from the array.
   *
   * @param {string} name
   *   The name of the attribute to remove.
   *
   * @return {Attributes}
   *
   * @chainable
   */
  Attributes.prototype.remove = function (name) {
    if (this.exists(name)) delete this.data[name];
    return this;
  };

  /**
   * Removes a class from the attributes array.
   *
   * @param {...string|Array} className
   *   An individual class or an array of classes to remove.
   *
   * @return {Attributes}
   *
   * @chainable
   */
  Attributes.prototype.removeClass = function (className) {
    var remove = this.sanitizeClasses(Array.prototype.slice.apply(arguments));
    this.data['class'] = _.without(this.getClasses(), remove);
    return this;
  };

  /**
   * Replaces a class in the attributes array.
   *
   * @param {string} oldValue
   *   The old class to remove.
   * @param {string} newValue
   *   The new class. It will not be added if the old class does not exist.
   *
   * @return {Attributes}
   *
   * @chainable
   */
  Attributes.prototype.replaceClass = function (oldValue, newValue) {
    var classes = this.getClasses();
    var i = _.indexOf(this.sanitizeClasses(oldValue), classes);
    if (i >= 0) {
      classes[i] = newValue;
      this.set('class', classes);
    }
    return this;
  };

  /**
   * Ensures classes are flattened into a single is an array and sanitized.
   *
   * @param {...String|Array} classes
   *   The class or classes to sanitize.
   *
   * @return {Array}
   *   A sanitized array of classes.
   */
  Attributes.prototype.sanitizeClasses = function (classes) {
    return _.chain(Array.prototype.slice.call(arguments))
      // Flatten in case there's a mix of strings and arrays.
      .flatten()

      // Split classes that may have been added with a space as a separator.
      .map(function (string) {
        return string.split(' ');
      })

      // Flatten again since it was just split into arrays.
      .flatten()

      // Filter out empty items.
      .filter()

      // Clean the class to ensure it's a valid class name.
      .map(function (value) {
        return Attributes.cleanClass(value);
      })

      // Ensure classes are unique.
      .uniq()

      // Retrieve the final value.
      .value();
  };

  /**
   * Sets an attribute on the array.
   *
   * @param {string} name
   *   The name of the attribute to set.
   * @param {*} value
   *   The value of the attribute to set.
   *
   * @return {Attributes}
   *
   * @chainable
   */
  Attributes.prototype.set = function (name, value) {
    var obj = $.isPlainObject(name) ? name : {};
    if (typeof name === 'string') {
      obj[name] = value;
    }
    return this.merge(obj);
  };

  /**
   * Prepares a string for use as a CSS identifier (element, class, or ID name).
   *
   * Note: this is essentially a direct copy from
   * \Drupal\Component\Utility\Html::cleanCssIdentifier
   *
   * @param {string} identifier
   *   The identifier to clean.
   * @param {Object} [filter]
   *   An object of string replacements to use on the identifier.
   *
   * @return {string}
   *   The cleaned identifier.
   */
  Attributes.cleanClass = function (identifier, filter) {
    filter = filter || {
      ' ': '-',
      '_': '-',
      '/': '-',
      '[': '-',
      ']': ''
    };

    identifier = identifier.toLowerCase();

    if (filter['__'] === void 0) {
      identifier = identifier.replace('__', '#DOUBLE_UNDERSCORE#');
    }

    identifier = identifier.replace(Object.keys(filter), Object.keys(filter).map(function(key) { return filter[key]; }));

    if (filter['__'] === void 0) {
      identifier = identifier.replace('#DOUBLE_UNDERSCORE#', '__');
    }

    identifier = identifier.replace(/[^\u002D\u0030-\u0039\u0041-\u005A\u005F\u0061-\u007A\u00A1-\uFFFF]/g, '');
    identifier = identifier.replace(['/^[0-9]/', '/^(-[0-9])|^(--)/'], ['_', '__']);

    return identifier;
  };

  /**
   * Creates an Attributes instance.
   *
   * @param {object|Attributes} [attributes]
   *   An object to initialize attributes with.
   *
   * @return {Attributes}
   *   An Attributes instance.
   *
   * @constructor
   */
  Attributes.create = function (attributes) {
    return new Attributes(attributes);
  };

  window.Attributes = Attributes;

})(window.jQuery, window._);
;
/**
 * @file
 * Theme hooks for the Drupal Bootstrap base theme.
 */
(function ($, Drupal, Bootstrap, Attributes) {

  /**
   * Fallback for theming an icon if the Icon API module is not installed.
   */
  if (!Drupal.icon) Drupal.icon = { bundles: {} };
  if (!Drupal.theme.icon || Drupal.theme.prototype.icon) {
    $.extend(Drupal.theme, /** @lends Drupal.theme */ {
      /**
       * Renders an icon.
       *
       * @param {string} bundle
       *   The bundle which the icon belongs to.
       * @param {string} icon
       *   The name of the icon to render.
       * @param {object|Attributes} [attributes]
       *   An object of attributes to also apply to the icon.
       *
       * @returns {string}
       */
      icon: function (bundle, icon, attributes) {
        if (!Drupal.icon.bundles[bundle]) return '';
        attributes = Attributes.create(attributes).addClass('icon').set('aria-hidden', 'true');
        icon = Drupal.icon.bundles[bundle](icon, attributes);
        return '<span' + attributes + '></span>';
      }
    });
  }

  /**
   * Callback for modifying an icon in the "bootstrap" icon bundle.
   *
   * @param {string} icon
   *   The icon being rendered.
   * @param {Attributes} attributes
   *   Attributes object for the icon.
   */
  Drupal.icon.bundles.bootstrap = function (icon, attributes) {
    attributes.addClass(['glyphicon', 'glyphicon-' + icon]);
  };

  /**
   * Add necessary theming hooks.
   */
  $.extend(Drupal.theme, /** @lends Drupal.theme */ {

    /**
     * Renders a Bootstrap AJAX glyphicon throbber.
     *
     * @returns {string}
     */
    ajaxThrobber: function () {
      return Drupal.theme('bootstrapIcon', 'refresh', {'class': ['ajax-throbber', 'glyphicon-spin'] });
    },

    /**
     * Renders a button element.
     *
     * @param {object|Attributes} attributes
     *   An object of attributes to apply to the button. If it contains one of:
     *   - value: The label of the button.
     *   - context: The context type of Bootstrap button, can be one of:
     *     - default
     *     - primary
     *     - success
     *     - info
     *     - warning
     *     - danger
     *     - link
     *
     * @returns {string}
     */
    button: function (attributes) {
      attributes = Attributes.create(attributes).addClass('btn');
      var context = attributes.get('context', 'default');
      var label = attributes.get('value', '');
      attributes.remove('context').remove('value');
      if (!attributes.hasClass(['btn-default', 'btn-primary', 'btn-success', 'btn-info', 'btn-warning', 'btn-danger', 'btn-link'])) {
        attributes.addClass('btn-' + Bootstrap.checkPlain(context));
      }

      // Attempt to, intelligently, provide a default button "type".
      if (!attributes.exists('type')) {
        attributes.set('type', attributes.hasClass('form-submit') ? 'submit' : 'button');
      }

      return '<button' + attributes + '>' + label + '</button>';
    },

    /**
     * Alias for "button" theme hook.
     *
     * @param {object|Attributes} attributes
     *   An object of attributes to apply to the button.
     *
     * @see Drupal.theme.button()
     *
     * @returns {string}
     */
    btn: function (attributes) {
      return Drupal.theme('button', attributes);
    },

    /**
     * Renders a button block element.
     *
     * @param {object|Attributes} attributes
     *   An object of attributes to apply to the button.
     *
     * @see Drupal.theme.button()
     *
     * @returns {string}
     */
    'btn-block': function (attributes) {
      return Drupal.theme('button', Attributes.create(attributes).addClass('btn-block'));
    },

    /**
     * Renders a large button element.
     *
     * @param {object|Attributes} attributes
     *   An object of attributes to apply to the button.
     *
     * @see Drupal.theme.button()
     *
     * @returns {string}
     */
    'btn-lg': function (attributes) {
      return Drupal.theme('button', Attributes.create(attributes).addClass('btn-lg'));
    },

    /**
     * Renders a small button element.
     *
     * @param {object|Attributes} attributes
     *   An object of attributes to apply to the button.
     *
     * @see Drupal.theme.button()
     *
     * @returns {string}
     */
    'btn-sm': function (attributes) {
      return Drupal.theme('button', Attributes.create(attributes).addClass('btn-sm'));
    },

    /**
     * Renders an extra small button element.
     *
     * @param {object|Attributes} attributes
     *   An object of attributes to apply to the button.
     *
     * @see Drupal.theme.button()
     *
     * @returns {string}
     */
    'btn-xs': function (attributes) {
      return Drupal.theme('button', Attributes.create(attributes).addClass('btn-xs'));
    },

    /**
     * Renders a glyphicon.
     *
     * @param {string} name
     *   The name of the glyphicon.
     * @param {object|Attributes} [attributes]
     *   An object of attributes to apply to the icon.
     *
     * @returns {string}
     */
    bootstrapIcon: function (name, attributes) {
      return Drupal.theme('icon', 'bootstrap', name, attributes);
    }

  });

})(window.jQuery, window.Drupal, window.Drupal.bootstrap, window.Attributes);
;
/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
  // ============================================================

  function transitionEnd() {
    var el = document.createElement('bootstrap')

    var transEndEventNames = {
      WebkitTransition : 'webkitTransitionEnd',
      MozTransition    : 'transitionend',
      OTransition      : 'oTransitionEnd otransitionend',
      transition       : 'transitionend'
    }

    for (var name in transEndEventNames) {
      if (el.style[name] !== undefined) {
        return { end: transEndEventNames[name] }
      }
    }

    return false // explicit for ie8 (  ._.)
  }

  // http://blog.alexmaccaw.com/css-transitions
  $.fn.emulateTransitionEnd = function (duration) {
    var called = false
    var $el = this
    $(this).one('bsTransitionEnd', function () { called = true })
    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
    setTimeout(callback, duration)
    return this
  }

  $(function () {
    $.support.transition = transitionEnd()

    if (!$.support.transition) return

    $.event.special.bsTransitionEnd = {
      bindType: $.support.transition.end,
      delegateType: $.support.transition.end,
      handle: function (e) {
        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
      }
    }
  })

}(jQuery);
;
/* ========================================================================
 * Bootstrap: alert.js v3.3.7
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // ALERT CLASS DEFINITION
  // ======================

  var dismiss = '[data-dismiss="alert"]'
  var Alert   = function (el) {
    $(el).on('click', dismiss, this.close)
  }

  Alert.VERSION = '3.3.7'

  Alert.TRANSITION_DURATION = 150

  Alert.prototype.close = function (e) {
    var $this    = $(this)
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = $(selector === '#' ? [] : selector)

    if (e) e.preventDefault()

    if (!$parent.length) {
      $parent = $this.closest('.alert')
    }

    $parent.trigger(e = $.Event('close.bs.alert'))

    if (e.isDefaultPrevented()) return

    $parent.removeClass('in')

    function removeElement() {
      // detach from parent, fire event then clean up data
      $parent.detach().trigger('closed.bs.alert').remove()
    }

    $.support.transition && $parent.hasClass('fade') ?
      $parent
        .one('bsTransitionEnd', removeElement)
        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :
      removeElement()
  }


  // ALERT PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.alert')

      if (!data) $this.data('bs.alert', (data = new Alert(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.alert

  $.fn.alert             = Plugin
  $.fn.alert.Constructor = Alert


  // ALERT NO CONFLICT
  // =================

  $.fn.alert.noConflict = function () {
    $.fn.alert = old
    return this
  }


  // ALERT DATA-API
  // ==============

  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)

}(jQuery);
;
/* ========================================================================
 * Bootstrap: carousel.js v3.3.7
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CAROUSEL CLASS DEFINITION
  // =========================

  var Carousel = function (element, options) {
    this.$element    = $(element)
    this.$indicators = this.$element.find('.carousel-indicators')
    this.options     = options
    this.paused      = null
    this.sliding     = null
    this.interval    = null
    this.$active     = null
    this.$items      = null

    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))

    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element
      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))
      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))
  }

  Carousel.VERSION  = '3.3.7'

  Carousel.TRANSITION_DURATION = 600

  Carousel.DEFAULTS = {
    interval: 5000,
    pause: 'hover',
    wrap: true,
    keyboard: true
  }

  Carousel.prototype.keydown = function (e) {
    if (/input|textarea/i.test(e.target.tagName)) return
    switch (e.which) {
      case 37: this.prev(); break
      case 39: this.next(); break
      default: return
    }

    e.preventDefault()
  }

  Carousel.prototype.cycle = function (e) {
    e || (this.paused = false)

    this.interval && clearInterval(this.interval)

    this.options.interval
      && !this.paused
      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))

    return this
  }

  Carousel.prototype.getItemIndex = function (item) {
    this.$items = item.parent().children('.item')
    return this.$items.index(item || this.$active)
  }

  Carousel.prototype.getItemForDirection = function (direction, active) {
    var activeIndex = this.getItemIndex(active)
    var willWrap = (direction == 'prev' && activeIndex === 0)
                || (direction == 'next' && activeIndex == (this.$items.length - 1))
    if (willWrap && !this.options.wrap) return active
    var delta = direction == 'prev' ? -1 : 1
    var itemIndex = (activeIndex + delta) % this.$items.length
    return this.$items.eq(itemIndex)
  }

  Carousel.prototype.to = function (pos) {
    var that        = this
    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))

    if (pos > (this.$items.length - 1) || pos < 0) return

    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, "slid"
    if (activeIndex == pos) return this.pause().cycle()

    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))
  }

  Carousel.prototype.pause = function (e) {
    e || (this.paused = true)

    if (this.$element.find('.next, .prev').length && $.support.transition) {
      this.$element.trigger($.support.transition.end)
      this.cycle(true)
    }

    this.interval = clearInterval(this.interval)

    return this
  }

  Carousel.prototype.next = function () {
    if (this.sliding) return
    return this.slide('next')
  }

  Carousel.prototype.prev = function () {
    if (this.sliding) return
    return this.slide('prev')
  }

  Carousel.prototype.slide = function (type, next) {
    var $active   = this.$element.find('.item.active')
    var $next     = next || this.getItemForDirection(type, $active)
    var isCycling = this.interval
    var direction = type == 'next' ? 'left' : 'right'
    var that      = this

    if ($next.hasClass('active')) return (this.sliding = false)

    var relatedTarget = $next[0]
    var slideEvent = $.Event('slide.bs.carousel', {
      relatedTarget: relatedTarget,
      direction: direction
    })
    this.$element.trigger(slideEvent)
    if (slideEvent.isDefaultPrevented()) return

    this.sliding = true

    isCycling && this.pause()

    if (this.$indicators.length) {
      this.$indicators.find('.active').removeClass('active')
      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])
      $nextIndicator && $nextIndicator.addClass('active')
    }

    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, "slid"
    if ($.support.transition && this.$element.hasClass('slide')) {
      $next.addClass(type)
      $next[0].offsetWidth // force reflow
      $active.addClass(direction)
      $next.addClass(direction)
      $active
        .one('bsTransitionEnd', function () {
          $next.removeClass([type, direction].join(' ')).addClass('active')
          $active.removeClass(['active', direction].join(' '))
          that.sliding = false
          setTimeout(function () {
            that.$element.trigger(slidEvent)
          }, 0)
        })
        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)
    } else {
      $active.removeClass('active')
      $next.addClass('active')
      this.sliding = false
      this.$element.trigger(slidEvent)
    }

    isCycling && this.cycle()

    return this
  }


  // CAROUSEL PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.carousel')
      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)
      var action  = typeof option == 'string' ? option : options.slide

      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))
      if (typeof option == 'number') data.to(option)
      else if (action) data[action]()
      else if (options.interval) data.pause().cycle()
    })
  }

  var old = $.fn.carousel

  $.fn.carousel             = Plugin
  $.fn.carousel.Constructor = Carousel


  // CAROUSEL NO CONFLICT
  // ====================

  $.fn.carousel.noConflict = function () {
    $.fn.carousel = old
    return this
  }


  // CAROUSEL DATA-API
  // =================

  var clickHandler = function (e) {
    var href
    var $this   = $(this)
    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) // strip for ie7
    if (!$target.hasClass('carousel')) return
    var options = $.extend({}, $target.data(), $this.data())
    var slideIndex = $this.attr('data-slide-to')
    if (slideIndex) options.interval = false

    Plugin.call($target, options)

    if (slideIndex) {
      $target.data('bs.carousel').to(slideIndex)
    }

    e.preventDefault()
  }

  $(document)
    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)
    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)

  $(window).on('load', function () {
    $('[data-ride="carousel"]').each(function () {
      var $carousel = $(this)
      Plugin.call($carousel, $carousel.data())
    })
  })

}(jQuery);
;
/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* jshint latedef: false */

+function ($) {
  'use strict';

  // COLLAPSE PUBLIC CLASS DEFINITION
  // ================================

  var Collapse = function (element, options) {
    this.$element      = $(element)
    this.options       = $.extend({}, Collapse.DEFAULTS, options)
    this.$trigger      = $('[data-toggle="collapse"][href="#' + element.id + '"],' +
                           '[data-toggle="collapse"][data-target="#' + element.id + '"]')
    this.transitioning = null

    if (this.options.parent) {
      this.$parent = this.getParent()
    } else {
      this.addAriaAndCollapsedClass(this.$element, this.$trigger)
    }

    if (this.options.toggle) this.toggle()
  }

  Collapse.VERSION  = '3.3.7'

  Collapse.TRANSITION_DURATION = 350

  Collapse.DEFAULTS = {
    toggle: true
  }

  Collapse.prototype.dimension = function () {
    var hasWidth = this.$element.hasClass('width')
    return hasWidth ? 'width' : 'height'
  }

  Collapse.prototype.show = function () {
    if (this.transitioning || this.$element.hasClass('in')) return

    var activesData
    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')

    if (actives && actives.length) {
      activesData = actives.data('bs.collapse')
      if (activesData && activesData.transitioning) return
    }

    var startEvent = $.Event('show.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    if (actives && actives.length) {
      Plugin.call(actives, 'hide')
      activesData || actives.data('bs.collapse', null)
    }

    var dimension = this.dimension()

    this.$element
      .removeClass('collapse')
      .addClass('collapsing')[dimension](0)
      .attr('aria-expanded', true)

    this.$trigger
      .removeClass('collapsed')
      .attr('aria-expanded', true)

    this.transitioning = 1

    var complete = function () {
      this.$element
        .removeClass('collapsing')
        .addClass('collapse in')[dimension]('')
      this.transitioning = 0
      this.$element
        .trigger('shown.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    var scrollSize = $.camelCase(['scroll', dimension].join('-'))

    this.$element
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
  }

  Collapse.prototype.hide = function () {
    if (this.transitioning || !this.$element.hasClass('in')) return

    var startEvent = $.Event('hide.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    var dimension = this.dimension()

    this.$element[dimension](this.$element[dimension]())[0].offsetHeight

    this.$element
      .addClass('collapsing')
      .removeClass('collapse in')
      .attr('aria-expanded', false)

    this.$trigger
      .addClass('collapsed')
      .attr('aria-expanded', false)

    this.transitioning = 1

    var complete = function () {
      this.transitioning = 0
      this.$element
        .removeClass('collapsing')
        .addClass('collapse')
        .trigger('hidden.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    this.$element
      [dimension](0)
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)
  }

  Collapse.prototype.toggle = function () {
    this[this.$element.hasClass('in') ? 'hide' : 'show']()
  }

  Collapse.prototype.getParent = function () {
    return $(this.options.parent)
      .find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]')
      .each($.proxy(function (i, element) {
        var $element = $(element)
        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
      }, this))
      .end()
  }

  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {
    var isOpen = $element.hasClass('in')

    $element.attr('aria-expanded', isOpen)
    $trigger
      .toggleClass('collapsed', !isOpen)
      .attr('aria-expanded', isOpen)
  }

  function getTargetFromTrigger($trigger) {
    var href
    var target = $trigger.attr('data-target')
      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') // strip for ie7

    return $(target)
  }


  // COLLAPSE PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.collapse')
      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false
      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.collapse

  $.fn.collapse             = Plugin
  $.fn.collapse.Constructor = Collapse


  // COLLAPSE NO CONFLICT
  // ====================

  $.fn.collapse.noConflict = function () {
    $.fn.collapse = old
    return this
  }


  // COLLAPSE DATA-API
  // =================

  $(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (e) {
    var $this   = $(this)

    if (!$this.attr('data-target')) e.preventDefault()

    var $target = getTargetFromTrigger($this)
    var data    = $target.data('bs.collapse')
    var option  = data ? 'toggle' : $this.data()

    Plugin.call($target, option)
  })

}(jQuery);
;
/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // DROPDOWN CLASS DEFINITION
  // =========================

  var backdrop = '.dropdown-backdrop'
  var toggle   = '[data-toggle="dropdown"]'
  var Dropdown = function (element) {
    $(element).on('click.bs.dropdown', this.toggle)
  }

  Dropdown.VERSION = '3.3.7'

  function getParent($this) {
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = selector && $(selector)

    return $parent && $parent.length ? $parent : $this.parent()
  }

  function clearMenus(e) {
    if (e && e.which === 3) return
    $(backdrop).remove()
    $(toggle).each(function () {
      var $this         = $(this)
      var $parent       = getParent($this)
      var relatedTarget = { relatedTarget: this }

      if (!$parent.hasClass('open')) return

      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return

      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this.attr('aria-expanded', 'false')
      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))
    })
  }

  Dropdown.prototype.toggle = function (e) {
    var $this = $(this)

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    clearMenus()

    if (!isActive) {
      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {
        // if mobile we use a backdrop because click events don't delegate
        $(document.createElement('div'))
          .addClass('dropdown-backdrop')
          .insertAfter($(this))
          .on('click', clearMenus)
      }

      var relatedTarget = { relatedTarget: this }
      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this
        .trigger('focus')
        .attr('aria-expanded', 'true')

      $parent
        .toggleClass('open')
        .trigger($.Event('shown.bs.dropdown', relatedTarget))
    }

    return false
  }

  Dropdown.prototype.keydown = function (e) {
    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return

    var $this = $(this)

    e.preventDefault()
    e.stopPropagation()

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    if (!isActive && e.which != 27 || isActive && e.which == 27) {
      if (e.which == 27) $parent.find(toggle).trigger('focus')
      return $this.trigger('click')
    }

    var desc = ' li:not(.disabled):visible a'
    var $items = $parent.find('.dropdown-menu' + desc)

    if (!$items.length) return

    var index = $items.index(e.target)

    if (e.which == 38 && index > 0)                 index--         // up
    if (e.which == 40 && index < $items.length - 1) index++         // down
    if (!~index)                                    index = 0

    $items.eq(index).trigger('focus')
  }


  // DROPDOWN PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.dropdown')

      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.dropdown

  $.fn.dropdown             = Plugin
  $.fn.dropdown.Constructor = Dropdown


  // DROPDOWN NO CONFLICT
  // ====================

  $.fn.dropdown.noConflict = function () {
    $.fn.dropdown = old
    return this
  }


  // APPLY TO STANDARD DROPDOWN ELEMENTS
  // ===================================

  $(document)
    .on('click.bs.dropdown.data-api', clearMenus)
    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)
    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)
    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)

}(jQuery);
;
/*!
 * @copyright Copyright (c) 2016 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.1.23
 */
/*jslint browser: true */
/*global XDomainRequest, MutationObserver, window */
(function () {
    'use strict';
    if (window && window.addEventListener) {
        var cache = Object.create(null); // holds xhr objects to prevent multiple requests
        var checkUseElems;
        var tid; // timeout id
        var debouncedCheck = function () {
            clearTimeout(tid);
            tid = setTimeout(checkUseElems, 100);
        };
        var unobserveChanges = function () {
            return;
        };
        var observeChanges = function () {
            var observer;
            window.addEventListener('resize', debouncedCheck, false);
            window.addEventListener('orientationchange', debouncedCheck, false);
            if (window.MutationObserver) {
                observer = new MutationObserver(debouncedCheck);
                observer.observe(document.documentElement, {
                    childList: true,
                    subtree: true,
                    attributes: true
                });
                unobserveChanges = function () {
                    try {
                        observer.disconnect();
                        window.removeEventListener('resize', debouncedCheck, false);
                        window.removeEventListener('orientationchange', debouncedCheck, false);
                    } catch (ignore) {}
                };
            } else {
                document.documentElement.addEventListener('DOMSubtreeModified', debouncedCheck, false);
                unobserveChanges = function () {
                    document.documentElement.removeEventListener('DOMSubtreeModified', debouncedCheck, false);
                    window.removeEventListener('resize', debouncedCheck, false);
                    window.removeEventListener('orientationchange', debouncedCheck, false);
                };
            }
        };
        var createRequest = function (url) {
            // In IE 9, cross origin requests can only be sent using XDomainRequest.
            // XDomainRequest would fail if CORS headers are not set.
            // Therefore, XDomainRequest should only be used with cross origin requests.
            function getOrigin(loc) {
                var a;
                if (loc.protocol !== undefined) {
                    a = loc;
                } else {
                    a = document.createElement('a');
                    a.href = loc;
                }
                return a.protocol.replace(/:/g, '') + a.host;
            }
            var Request;
            var origin;
            var origin2;
            if (window.XMLHttpRequest) {
                Request = new XMLHttpRequest();
                origin = getOrigin(location);
                origin2 = getOrigin(url);
                if (Request.withCredentials === undefined && origin2 !== '' && origin2 !== origin) {
                    Request = XDomainRequest || undefined;
                } else {
                    Request = XMLHttpRequest;
                }
            }
            return Request;
        };
        var xlinkNS = 'http://www.w3.org/1999/xlink';
        checkUseElems = function () {
            var base;
            var bcr;
            var fallback = ''; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.
            var hash;
            var href;
            var i;
            var inProgressCount = 0;
            var isHidden;
            var Request;
            var url;
            var uses;
            var xhr;
            function observeIfDone() {
                // If done with making changes, start watching for chagnes in DOM again
                inProgressCount -= 1;
                if (inProgressCount === 0) { // if all xhrs were resolved
                    unobserveChanges(); // make sure to remove old handlers
                    observeChanges(); // watch for changes to DOM
                }
            }
            function attrUpdateFunc(spec) {
                return function () {
                    if (cache[spec.base] !== true) {
                        spec.useEl.setAttributeNS(xlinkNS, 'xlink:href', '#' + spec.hash);
                    }
                };
            }
            function onloadFunc(xhr) {
                return function () {
                    var body = document.body;
                    var x = document.createElement('x');
                    var svg;
                    xhr.onload = null;
                    x.innerHTML = xhr.responseText;
                    svg = x.getElementsByTagName('svg')[0];
                    if (svg) {
                        svg.setAttribute('aria-hidden', 'true');
                        svg.style.position = 'absolute';
                        svg.style.width = 0;
                        svg.style.height = 0;
                        svg.style.overflow = 'hidden';
                        body.insertBefore(svg, body.firstChild);
                    }
                    observeIfDone();
                };
            }
            function onErrorTimeout(xhr) {
                return function () {
                    xhr.onerror = null;
                    xhr.ontimeout = null;
                    observeIfDone();
                };
            }
            unobserveChanges(); // stop watching for changes to DOM
            // find all use elements
            uses = document.getElementsByTagName('use');
            for (i = 0; i < uses.length; i += 1) {
                try {
                    bcr = uses[i].getBoundingClientRect();
                } catch (ignore) {
                    // failed to get bounding rectangle of the use element
                    bcr = false;
                }
                href = uses[i].getAttributeNS(xlinkNS, 'href');
                if (href && href.split) {
                    url = href.split('#');
                } else {
                    url = ["", ""];
                }
                base = url[0];
                hash = url[1];
                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;
                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {
                    // the use element is empty
                    // if there is a reference to an external SVG, try to fetch it
                    // use the optional fallback URL if there is no reference to an external SVG
                    if (fallback && !base.length && hash && !document.getElementById(hash)) {
                        base = fallback;
                    }
                    if (base.length) {
                        // schedule updating xlink:href
                        xhr = cache[base];
                        if (xhr !== true) {
                            // true signifies that prepending the SVG was not required
                            setTimeout(attrUpdateFunc({
                                useEl: uses[i],
                                base: base,
                                hash: hash
                            }), 0);
                        }
                        if (xhr === undefined) {
                            Request = createRequest(base);
                            if (Request !== undefined) {
                                xhr = new Request();
                                cache[base] = xhr;
                                xhr.onload = onloadFunc(xhr);
                                xhr.onerror = onErrorTimeout(xhr);
                                xhr.ontimeout = onErrorTimeout(xhr);
                                xhr.open('GET', base);
                                xhr.send();
                                inProgressCount += 1;
                            }
                        }
                    }
                } else {
                    if (!isHidden) {
                        if (cache[base] === undefined) {
                            // remember this URL if the use element was not empty and no request was sent
                            cache[base] = true;
                        } else if (cache[base].onload) {
                            // if it turns out that prepending the SVG is not necessary,
                            // abort the in-progress xhr.
                            cache[base].abort();
                            delete cache[base].onload;
                            cache[base] = true;
                        }
                    } else if (base.length && cache[base]) {
                        attrUpdateFunc({
                            useEl: uses[i],
                            base: base,
                            hash: hash
                        })();
                    }
                }
            }
            uses = '';
            inProgressCount += 1;
            observeIfDone();
        };
        // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.
        window.addEventListener('load', function winLoad() {
            window.removeEventListener('load', winLoad, false); // to prevent memory leaks
            tid = setTimeout(checkUseElems, 0);
        }, false);
    }
}());
;
/*! Tablesaw - v2.0.3 - 2016-05-02
* https://github.com/filamentgroup/tablesaw
* Copyright (c) 2016 Filament Group; Licensed MIT */
/*
* tablesaw: A set of plugins for responsive tables
* Stack and Column Toggle tables
* Copyright (c) 2013 Filament Group, Inc.
* MIT License
*/

if( typeof Tablesaw === "undefined" ) {
	var Tablesaw = {
		i18n: {
			modes: [ 'Stack', 'Swipe', 'Toggle' ],
			columns: 'Col<span class=\"a11y-sm\">umn</span>s',
			columnBtnText: 'Columns',
			columnsDialogError: 'No eligible columns.',
			sort: 'Sort'
		},
		// cut the mustard
		mustard: 'querySelector' in document &&
			( !window.blackberry || window.WebKitPoint ) &&
			!window.operamini
	};
}
if( !Tablesaw.config ) {
	Tablesaw.config = {};
}
if( Tablesaw.mustard ) {
	jQuery( document.documentElement ).addClass( 'tablesaw-enhanced' );
}

if (typeof window === 'object' && typeof window.document === 'object') {
	window.Tablesaw = Tablesaw;
}

;(function( $ ) {
	var pluginName = "table",
		classes = {
			toolbar: "tablesaw-bar"
		},
		events = {
			create: "tablesawcreate",
			destroy: "tablesawdestroy",
			refresh: "tablesawrefresh"
		},
		defaultMode = "stack",
		initSelector = "table[data-tablesaw-mode],table[data-tablesaw-sortable]";

	var Table = function( element ) {
		if( !element ) {
			throw new Error( "Tablesaw requires an element." );
		}

		this.table = element;
		this.$table = $( element );

		this.mode = this.$table.attr( "data-tablesaw-mode" ) || defaultMode;

		this.init();
	};

	Table.prototype.init = function() {
		// assign an id if there is none
		if ( !this.$table.attr( "id" ) ) {
			this.$table.attr( "id", pluginName + "-" + Math.round( Math.random() * 10000 ) );
		}

		this.createToolbar();

		var colstart = this._initCells();

		this.$table.trigger( events.create, [ this, colstart ] );
	};

	Table.prototype._initCells = function() {
		var colstart,
			thrs = this.table.querySelectorAll( "thead tr" ),
			self = this;

		$( thrs ).each( function(){
			var coltally = 0;

			$( this ).children().each( function(){
				var span = parseInt( this.getAttribute( "colspan" ), 10 ),
					sel = ":nth-child(" + ( coltally + 1 ) + ")";

				colstart = coltally + 1;

				if( span ){
					for( var k = 0; k < span - 1; k++ ){
						coltally++;
						sel += ", :nth-child(" + ( coltally + 1 ) + ")";
					}
				}

				// Store "cells" data on header as a reference to all cells in the same column as this TH
				this.cells = self.$table.find("tr").not( thrs[0] ).not( this ).children().filter( sel );
				coltally++;
			});
		});

		return colstart;
	};

	Table.prototype.refresh = function() {
		this._initCells();

		this.$table.trigger( events.refresh );
	};

	Table.prototype.createToolbar = function() {
		// Insert the toolbar
		// TODO move this into a separate component
		var $toolbar = this.$table.prev().filter( '.' + classes.toolbar );
		if( !$toolbar.length ) {
			$toolbar = $( '<div>' )
				.addClass( classes.toolbar )
				.insertBefore( this.$table );
		}
		this.$toolbar = $toolbar;

		if( this.mode ) {
			this.$toolbar.addClass( 'mode-' + this.mode );
		}
	};

	Table.prototype.destroy = function() {
		// Don’t remove the toolbar. Some of the table features are not yet destroy-friendly.
		this.$table.prev().filter( '.' + classes.toolbar ).each(function() {
			this.className = this.className.replace( /\bmode\-\w*\b/gi, '' );
		});

		var tableId = this.$table.attr( 'id' );
		$( document ).unbind( "." + tableId );
		$( window ).unbind( "." + tableId );

		// other plugins
		this.$table.trigger( events.destroy, [ this ] );

		this.$table.removeData( pluginName );
	};

	// Collection method.
	$.fn[ pluginName ] = function() {
		return this.each( function() {
			var $t = $( this );

			if( $t.data( pluginName ) ){
				return;
			}

			var table = new Table( this );
			$t.data( pluginName, table );
		});
	};

	$( document ).on( "enhance.tablesaw", function( e ) {
		// Cut the mustard
		if( Tablesaw.mustard ) {
			$( e.target ).find( initSelector )[ pluginName ]();
		}
	});

}( jQuery ));

;(function( win, $, undefined ){

	var classes = {
		stackTable: 'tablesaw-stack',
		cellLabels: 'tablesaw-cell-label',
		cellContentLabels: 'tablesaw-cell-content'
	};

	var data = {
		obj: 'tablesaw-stack'
	};

	var attrs = {
		labelless: 'data-tablesaw-no-labels',
		hideempty: 'data-tablesaw-hide-empty'
	};

	var Stack = function( element ) {

		this.$table = $( element );

		this.labelless = this.$table.is( '[' + attrs.labelless + ']' );
		this.hideempty = this.$table.is( '[' + attrs.hideempty + ']' );

		if( !this.labelless ) {
			// allHeaders references headers, plus all THs in the thead, which may include several rows, or not
			this.allHeaders = this.$table.find( "th" );
		}

		this.$table.data( data.obj, this );
	};

	Stack.prototype.init = function( colstart ) {
		this.$table.addClass( classes.stackTable );

		if( this.labelless ) {
			return;
		}

		// get headers in reverse order so that top-level headers are appended last
		var reverseHeaders = $( this.allHeaders );
		var hideempty = this.hideempty;

		// create the hide/show toggles
		reverseHeaders.each(function(){
			var $t = $( this ),
				$cells = $( this.cells ).filter(function() {
					return !$( this ).parent().is( "[" + attrs.labelless + "]" ) && ( !hideempty || !$( this ).is( ":empty" ) );
				}),
				hierarchyClass = $cells.not( this ).filter( "thead th" ).length && " tablesaw-cell-label-top",
				// TODO reduce coupling with sortable
				$sortableButton = $t.find( ".tablesaw-sortable-btn" ),
				html = $sortableButton.length ? $sortableButton.html() : $t.html();

			if( html !== "" ){
				if( hierarchyClass ){
					var iteration = parseInt( $( this ).attr( "colspan" ), 10 ),
						filter = "";

					if( iteration ){
						filter = "td:nth-child("+ iteration +"n + " + ( colstart ) +")";
					}
					$cells.filter( filter ).prepend( "<b class='" + classes.cellLabels + hierarchyClass + "'>" + html + "</b>"  );
				} else {
					$cells.wrapInner( "<span class='" + classes.cellContentLabels + "'></span>" );
					$cells.prepend( "<b class='" + classes.cellLabels + "'>" + html + "</b>"  );
				}
			}
		});
	};

	Stack.prototype.destroy = function() {
		this.$table.removeClass( classes.stackTable );
		this.$table.find( '.' + classes.cellLabels ).remove();
		this.$table.find( '.' + classes.cellContentLabels ).each(function() {
			$( this ).replaceWith( this.childNodes );
		});
	};

	// on tablecreate, init
	$( document ).on( "tablesawcreate", function( e, Tablesaw, colstart ){
		if( Tablesaw.mode === 'stack' ){
			var table = new Stack( Tablesaw.table );
			table.init( colstart );
		}

	} );

	$( document ).on( "tablesawdestroy", function( e, Tablesaw ){

		if( Tablesaw.mode === 'stack' ){
			$( Tablesaw.table ).data( data.obj ).destroy();
		}

	} );

}( window, jQuery ));
;(function( $ ) {
	var pluginName = "tablesawbtn",
		methods = {
			_create: function(){
				return $( this ).each(function() {
					$( this )
						.trigger( "beforecreate." + pluginName )
						[ pluginName ]( "_init" )
						.trigger( "create." + pluginName );
				});
			},
			_init: function(){
				var oEl = $( this ),
					sel = this.getElementsByTagName( "select" )[ 0 ];

				if( sel ) {
					$( this )
						.addClass( "btn-select" )
						[ pluginName ]( "_select", sel );
				}
				return oEl;
			},
			_select: function( sel ) {
				var update = function( oEl, sel ) {
					var opts = $( sel ).find( "option" ),
						label, el, children;

					opts.each(function() {
						var opt = this;
						if( opt.selected ) {
							label = document.createTextNode( opt.text );
						}
					});

					children = oEl.childNodes;
					if( opts.length > 0 ){
						for( var i = 0, l = children.length; i < l; i++ ) {
							el = children[ i ];

							if( el && el.nodeType === 3 ) {
								oEl.replaceChild( label, el );
							}
						}
					}
				};

				update( this, sel );
				$( this ).bind( "change refresh", function() {
					update( this, sel );
				});
			}
		};

	// Collection method.
	$.fn[ pluginName ] = function( arrg, a, b, c ) {
		return this.each(function() {

		// if it's a method
		if( arrg && typeof( arrg ) === "string" ){
			return $.fn[ pluginName ].prototype[ arrg ].call( this, a, b, c );
		}

		// don't re-init
		if( $( this ).data( pluginName + "active" ) ){
			return $( this );
		}

		// otherwise, init

		$( this ).data( pluginName + "active", true );
			$.fn[ pluginName ].prototype._create.call( this );
		});
	};

	// add methods
	$.extend( $.fn[ pluginName ].prototype, methods );

}( jQuery ));
;(function( win, $, undefined ){

	var ColumnToggle = function( element ) {

		this.$table = $( element );

		this.classes = {
			columnToggleTable: 'tablesaw-columntoggle',
			columnBtnContain: 'tablesaw-columntoggle-btnwrap tablesaw-advance',
			columnBtn: 'tablesaw-columntoggle-btn tablesaw-nav-btn down',
			popup: 'tablesaw-columntoggle-popup',
			priorityPrefix: 'tablesaw-priority-',
			// TODO duplicate class, also in tables.js
			toolbar: 'tablesaw-bar'
		};

		// Expose headers and allHeaders properties on the widget
		// headers references the THs within the first TR in the table
		this.headers = this.$table.find( 'tr:first > th' );

		this.$table.data( 'tablesaw-coltoggle', this );
	};

	ColumnToggle.prototype.init = function() {

		var tableId,
			id,
			$menuButton,
			$popup,
			$menu,
			$btnContain,
			self = this;

		this.$table.addClass( this.classes.columnToggleTable );

		tableId = this.$table.attr( "id" );
		id = tableId + "-popup";
		$btnContain = $( "<div class='" + this.classes.columnBtnContain + "'></div>" );
		$menuButton = $( "<a href='#" + id + "' class='btn btn-micro " + this.classes.columnBtn +"' data-popup-link>" +
										"<span>" + Tablesaw.i18n.columnBtnText + "</span></a>" );
		$popup = $( "<div class='dialog-table-coltoggle " + this.classes.popup + "' id='" + id + "'></div>" );
		$menu = $( "<div class='btn-group'></div>" );

		var hasNonPersistentHeaders = false;
		$( this.headers ).not( "td" ).each( function() {
			var $this = $( this ),
				priority = $this.attr("data-tablesaw-priority"),
				$cells = self.$getCells( this );

			if( priority && priority !== "persist" ) {
				$cells.addClass( self.classes.priorityPrefix + priority );

				$("<label><input type='checkbox' checked>" + $this.text() + "</label>" )
					.appendTo( $menu )
					.children( 0 )
					.data( "tablesaw-header", this );

				hasNonPersistentHeaders = true;
			}
		});

		if( !hasNonPersistentHeaders ) {
			$menu.append( '<label>' + Tablesaw.i18n.columnsDialogError + '</label>' );
		}

		$menu.appendTo( $popup );

		// bind change event listeners to inputs - TODO: move to a private method?
		$menu.find( 'input[type="checkbox"]' ).on( "change", function(e) {
			var checked = e.target.checked;

			self.$getCellsFromCheckbox( e.target )
				.toggleClass( "tablesaw-cell-hidden", !checked )
				.toggleClass( "tablesaw-cell-visible", checked );

			self.$table.trigger( 'tablesawcolumns' );
		});

		$menuButton.appendTo( $btnContain );
		$btnContain.appendTo( this.$table.prev().filter( '.' + this.classes.toolbar ) );


		function closePopup( event ) {
			// Click came from inside the popup, ignore.
			if( event && $( event.target ).closest( "." + self.classes.popup ).length ) {
				return;
			}

			$( document ).unbind( 'click.' + tableId );
			$menuButton.removeClass( 'up' ).addClass( 'down' );
			$btnContain.removeClass( 'visible' );
		}

		var closeTimeout;
		function openPopup() {
			$btnContain.addClass( 'visible' );
			$menuButton.removeClass( 'down' ).addClass( 'up' );

			$( document ).unbind( 'click.' + tableId, closePopup );

			window.clearTimeout( closeTimeout );
			closeTimeout = window.setTimeout(function() {
				$( document ).one( 'click.' + tableId, closePopup );
			}, 15 );
		}

		$menuButton.on( "click.tablesaw", function( event ) {
			event.preventDefault();

			if( !$btnContain.is( ".visible" ) ) {
				openPopup();
			} else {
				closePopup();
			}
		});

		$popup.appendTo( $btnContain );

		this.$menu = $menu;

		$(window).on( "resize." + tableId, function(){
			self.refreshToggle();
		});

		this.refreshToggle();
	};

	ColumnToggle.prototype.$getCells = function( th ) {
		return $( th ).add( th.cells );
	};

	ColumnToggle.prototype.$getCellsFromCheckbox = function( checkbox ) {
		var th = $( checkbox ).data( "tablesaw-header" );
		return this.$getCells( th );
	};

	ColumnToggle.prototype.refreshToggle = function() {
		var self = this;
		this.$menu.find( "input" ).each( function() {
			this.checked = self.$getCellsFromCheckbox( this ).eq( 0 ).css( "display" ) === "table-cell";
		});
	};

	ColumnToggle.prototype.refreshPriority = function(){
		var self = this;
		$(this.headers).not( "td" ).each( function() {
			var $this = $( this ),
				priority = $this.attr("data-tablesaw-priority"),
				$cells = $this.add( this.cells );

			if( priority && priority !== "persist" ) {
				$cells.addClass( self.classes.priorityPrefix + priority );
			}
		});
	};

	ColumnToggle.prototype.destroy = function() {
		// table toolbars, document and window .tableId events
		// removed in parent tables.js destroy method

		this.$table.removeClass( this.classes.columnToggleTable );
		this.$table.find( 'th, td' ).each(function() {
			var $cell = $( this );
			$cell.removeClass( 'tablesaw-cell-hidden' )
				.removeClass( 'tablesaw-cell-visible' );

			this.className = this.className.replace( /\bui\-table\-priority\-\d\b/g, '' );
		});
	};

	// on tablecreate, init
	$( document ).on( "tablesawcreate", function( e, Tablesaw ){

		if( Tablesaw.mode === 'columntoggle' ){
			var table = new ColumnToggle( Tablesaw.table );
			table.init();
		}

	} );

	$( document ).on( "tablesawdestroy", function( e, Tablesaw ){
		if( Tablesaw.mode === 'columntoggle' ){
			$( Tablesaw.table ).data( 'tablesaw-coltoggle' ).destroy();
		}
	} );

}( window, jQuery ));
;(function( win, $, undefined ){

	$.extend( Tablesaw.config, {
		swipe: {
			horizontalThreshold: 15,
			verticalThreshold: 30
		}
	});

	function isIE8() {
		var div = document.createElement('div'),
			all = div.getElementsByTagName('i');

		div.innerHTML = '<!--[if lte IE 8]><i></i><![endif]-->';

		return !!all.length;
	}

	var classes = {
		// TODO duplicate class, also in tables.js
		toolbar: "tablesaw-bar",
		hideBtn: "disabled",
		persistWidths: "tablesaw-fix-persist",
		allColumnsVisible: 'tablesaw-all-cols-visible'
	};

	function createSwipeTable( $table ){

		var $btns = $( "<div class='tablesaw-advance'></div>" ),
			$prevBtn = $( "<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>" ).appendTo( $btns ),
			$nextBtn = $( "<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>" ).appendTo( $btns ),
			$headerCells = $table.find( "thead th" ),
			$headerCellsNoPersist = $headerCells.not( '[data-tablesaw-priority="persist"]' ),
			headerWidths = [],
			$head = $( document.head || 'head' ),
			tableId = $table.attr( 'id' ),
			// TODO switch this to an nth-child feature test
			supportsNthChild = !isIE8();

		if( !$headerCells.length ) {
			throw new Error( "tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?" );
		}

		// Calculate initial widths
		$table.css('width', 'auto');
		$headerCells.each(function() {
			headerWidths.push( $( this ).outerWidth() );
		});
		$table.css( 'width', '' );

		$btns.appendTo( $table.prev().filter( '.tablesaw-bar' ) );

		$table.addClass( "tablesaw-swipe" );

		if( !tableId ) {
			tableId = 'tableswipe-' + Math.round( Math.random() * 10000 );
			$table.attr( 'id', tableId );
		}

		function $getCells( headerCell ) {
			return $( headerCell.cells ).add( headerCell );
		}

		function showColumn( headerCell ) {
			$getCells( headerCell ).removeClass( 'tablesaw-cell-hidden' );
		}

		function hideColumn( headerCell ) {
			$getCells( headerCell ).addClass( 'tablesaw-cell-hidden' );
		}

		function persistColumn( headerCell ) {
			$getCells( headerCell ).addClass( 'tablesaw-cell-persist' );
		}

		function isPersistent( headerCell ) {
			return $( headerCell ).is( '[data-tablesaw-priority="persist"]' );
		}

		function unmaintainWidths() {
			$table.removeClass( classes.persistWidths );
			$( '#' + tableId + '-persist' ).remove();
		}

		function maintainWidths() {
			var prefix = '#' + tableId + '.tablesaw-swipe ',
				styles = [],
				tableWidth = $table.width(),
				hash = [],
				newHash;

			$headerCells.each(function( index ) {
				var width;
				if( isPersistent( this ) ) {
					width = $( this ).outerWidth();

					// Only save width on non-greedy columns (take up less than 75% of table width)
					if( width < tableWidth * 0.75 ) {
						hash.push( index + '-' + width );
						styles.push( prefix + ' .tablesaw-cell-persist:nth-child(' + ( index + 1 ) + ') { width: ' + width + 'px; }' );
					}
				}
			});
			newHash = hash.join( '_' );

			$table.addClass( classes.persistWidths );

			var $style = $( '#' + tableId + '-persist' );
			// If style element not yet added OR if the widths have changed
			if( !$style.length || $style.data( 'hash' ) !== newHash ) {
				// Remove existing
				$style.remove();

				if( styles.length ) {
					$( '<style>' + styles.join( "\n" ) + '</style>' )
						.attr( 'id', tableId + '-persist' )
						.data( 'hash', newHash )
						.appendTo( $head );
				}
			}
		}

		function getNext(){
			var next = [],
				checkFound;

			$headerCellsNoPersist.each(function( i ) {
				var $t = $( this ),
					isHidden = $t.css( "display" ) === "none" || $t.is( ".tablesaw-cell-hidden" );

				if( !isHidden && !checkFound ) {
					checkFound = true;
					next[ 0 ] = i;
				} else if( isHidden && checkFound ) {
					next[ 1 ] = i;

					return false;
				}
			});

			return next;
		}

		function getPrev(){
			var next = getNext();
			return [ next[ 1 ] - 1 , next[ 0 ] - 1 ];
		}

		function nextpair( fwd ){
			return fwd ? getNext() : getPrev();
		}

		function canAdvance( pair ){
			return pair[ 1 ] > -1 && pair[ 1 ] < $headerCellsNoPersist.length;
		}

		function matchesMedia() {
			var matchMedia = $table.attr( "data-tablesaw-swipe-media" );
			return !matchMedia || ( "matchMedia" in win ) && win.matchMedia( matchMedia ).matches;
		}

		function fakeBreakpoints() {
			if( !matchesMedia() ) {
				return;
			}

			var extraPaddingPixels = 20,
				containerWidth = $table.parent().width(),
				persist = [],
				sum = 0,
				sums = [],
				visibleNonPersistantCount = $headerCells.length;

			$headerCells.each(function( index ) {
				var $t = $( this ),
					isPersist = $t.is( '[data-tablesaw-priority="persist"]' );

				persist.push( isPersist );

				sum += headerWidths[ index ] + ( isPersist ? 0 : extraPaddingPixels );
				sums.push( sum );

				// is persistent or is hidden
				if( isPersist || sum > containerWidth ) {
					visibleNonPersistantCount--;
				}
			});

			var needsNonPersistentColumn = visibleNonPersistantCount === 0;

			$headerCells.each(function( index ) {
				if( persist[ index ] ) {

					// for visual box-shadow
					persistColumn( this );
					return;
				}

				if( sums[ index ] <= containerWidth || needsNonPersistentColumn ) {
					needsNonPersistentColumn = false;
					showColumn( this );
				} else {
					hideColumn( this );
				}
			});

			if( supportsNthChild ) {
				unmaintainWidths();
			}
			$table.trigger( 'tablesawcolumns' );
		}

		function advance( fwd ){
			var pair = nextpair( fwd );
			if( canAdvance( pair ) ){
				if( isNaN( pair[ 0 ] ) ){
					if( fwd ){
						pair[0] = 0;
					}
					else {
						pair[0] = $headerCellsNoPersist.length - 1;
					}
				}

				if( supportsNthChild ) {
					maintainWidths();
				}

				hideColumn( $headerCellsNoPersist.get( pair[ 0 ] ) );
				showColumn( $headerCellsNoPersist.get( pair[ 1 ] ) );

				$table.trigger( 'tablesawcolumns' );
			}
		}

		$prevBtn.add( $nextBtn ).click(function( e ){
			advance( !!$( e.target ).closest( $nextBtn ).length );
			e.preventDefault();
		});

		function getCoord( event, key ) {
			return ( event.touches || event.originalEvent.touches )[ 0 ][ key ];
		}

		$table
			.bind( "touchstart.swipetoggle", function( e ){
				var originX = getCoord( e, 'pageX' ),
					originY = getCoord( e, 'pageY' ),
					x,
					y;

				$( win ).off( "resize", fakeBreakpoints );

				$( this )
					.bind( "touchmove", function( e ){
						x = getCoord( e, 'pageX' );
						y = getCoord( e, 'pageY' );
						var cfg = Tablesaw.config.swipe;
						if( Math.abs( x - originX ) > cfg.horizontalThreshold && Math.abs( y - originY ) < cfg.verticalThreshold ) {
							e.preventDefault();
						}
					})
					.bind( "touchend.swipetoggle", function(){
						var cfg = Tablesaw.config.swipe;
						if( Math.abs( y - originY ) < cfg.verticalThreshold ) {
							if( x - originX < -1 * cfg.horizontalThreshold ){
								advance( true );
							}
							if( x - originX > cfg.horizontalThreshold ){
								advance( false );
							}
						}

						window.setTimeout(function() {
							$( win ).on( "resize", fakeBreakpoints );
						}, 300);
						$( this ).unbind( "touchmove touchend" );
					});

			})
			.bind( "tablesawcolumns.swipetoggle", function(){
				var canGoPrev = canAdvance( getPrev() );
				var canGoNext = canAdvance( getNext() );
				$prevBtn[ canGoPrev ? "removeClass" : "addClass" ]( classes.hideBtn );
				$nextBtn[ canGoNext ? "removeClass" : "addClass" ]( classes.hideBtn );

				$prevBtn.closest( "." + classes.toolbar )[ !canGoPrev && !canGoNext ? 'addClass' : 'removeClass' ]( classes.allColumnsVisible );
			})
			.bind( "tablesawnext.swipetoggle", function(){
				advance( true );
			} )
			.bind( "tablesawprev.swipetoggle", function(){
				advance( false );
			} )
			.bind( "tablesawdestroy.swipetoggle", function(){
				var $t = $( this );

				$t.removeClass( 'tablesaw-swipe' );
				$t.prev().filter( '.tablesaw-bar' ).find( '.tablesaw-advance' ).remove();
				$( win ).off( "resize", fakeBreakpoints );

				$t.unbind( ".swipetoggle" );
			});

		fakeBreakpoints();
		$( win ).on( "resize", fakeBreakpoints );
	}



	// on tablecreate, init
	$( document ).on( "tablesawcreate", function( e, Tablesaw ){

		if( Tablesaw.mode === 'swipe' ){
			createSwipeTable( Tablesaw.$table );
		}

	} );

}( window, jQuery ));

;(function( $ ) {
	function getSortValue( cell ) {
		return $.map( cell.childNodes, function( el ) {
				var $el = $( el );
				if( $el.is( 'input, select' ) ) {
					return $el.val();
				} else if( $el.hasClass( 'tablesaw-cell-label' ) ) {
					return;
				}
				return $.trim( $el.text() );
			}).join( '' );
	}

	var pluginName = "tablesaw-sortable",
		initSelector = "table[data-" + pluginName + "]",
		sortableSwitchSelector = "[data-" + pluginName + "-switch]",
		attrs = {
			defaultCol: "data-tablesaw-sortable-default-col",
			numericCol: "data-tablesaw-sortable-numeric"
		},
		classes = {
			head: pluginName + "-head",
			ascend: pluginName + "-ascending",
			descend: pluginName + "-descending",
			switcher: pluginName + "-switch",
			tableToolbar: 'tablesaw-toolbar',
			sortButton: pluginName + "-btn"
		},
		methods = {
			_create: function( o ){
				return $( this ).each(function() {
					var init = $( this ).data( "init" + pluginName );
					if( init ) {
						return false;
					}
					$( this )
						.data( "init"+ pluginName, true )
						.trigger( "beforecreate." + pluginName )
						[ pluginName ]( "_init" , o )
						.trigger( "create." + pluginName );
				});
			},
			_init: function(){
				var el = $( this ),
					heads,
					$switcher;

				var addClassToTable = function(){
						el.addClass( pluginName );
					},
					addClassToHeads = function( h ){
						$.each( h , function( i , v ){
							$( v ).addClass( classes.head );
						});
					},
					makeHeadsActionable = function( h , fn ){
						$.each( h , function( i , v ){
							var b = $( "<button class='" + classes.sortButton + "'/>" );
							b.bind( "click" , { col: v } , fn );
							$( v ).wrapInner( b );
						});
					},
					clearOthers = function( sibs ){
						$.each( sibs , function( i , v ){
							var col = $( v );
							col.removeAttr( attrs.defaultCol );
							col.removeClass( classes.ascend );
							col.removeClass( classes.descend );
						});
					},
					headsOnAction = function( e ){
						if( $( e.target ).is( 'a[href]' ) ) {
							return;
						}

						e.stopPropagation();
						var head = $( this ).parent(),
							v = e.data.col,
							newSortValue = heads.index( head );

						clearOthers( head.siblings() );
						if( head.hasClass( classes.descend ) ){
							el[ pluginName ]( "sortBy" , v , true);
							newSortValue += '_asc';
						} else {
							el[ pluginName ]( "sortBy" , v );
							newSortValue += '_desc';
						}
						if( $switcher ) {
							$switcher.find( 'select' ).val( newSortValue ).trigger( 'refresh' );
						}

						e.preventDefault();
					},
					handleDefault = function( heads ){
						$.each( heads , function( idx , el ){
							var $el = $( el );
							if( $el.is( "[" + attrs.defaultCol + "]" ) ){
								if( !$el.hasClass( classes.descend ) ) {
									$el.addClass( classes.ascend );
								}
							}
						});
					},
					addSwitcher = function( heads ){
						$switcher = $( '<div>' ).addClass( classes.switcher ).addClass( classes.tableToolbar ).html(function() {
							var html = [ '<label>' + Tablesaw.i18n.sort + ':' ];

							html.push( '<span class="btn btn-small">&#160;<select>' );
							heads.each(function( j ) {
								var $t = $( this );
								var isDefaultCol = $t.is( "[" + attrs.defaultCol + "]" );
								var isDescending = $t.hasClass( classes.descend );

								var hasNumericAttribute = $t.is( '[data-sortable-numeric]' );
								var numericCount = 0;
								// Check only the first four rows to see if the column is numbers.
								var numericCountMax = 5;

								$( this.cells ).slice( 0, numericCountMax ).each(function() {
									if( !isNaN( parseInt( getSortValue( this ), 10 ) ) ) {
										numericCount++;
									}
								});
								var isNumeric = numericCount === numericCountMax;
								if( !hasNumericAttribute ) {
									$t.attr( "data-sortable-numeric", isNumeric ? "" : "false" );
								}

								html.push( '<option' + ( isDefaultCol && !isDescending ? ' selected' : '' ) + ' value="' + j + '_asc">' + $t.text() + ' ' + ( isNumeric ? '&#x2191;' : '(A-Z)' ) + '</option>' );
								html.push( '<option' + ( isDefaultCol && isDescending ? ' selected' : '' ) + ' value="' + j + '_desc">' + $t.text() + ' ' + ( isNumeric ? '&#x2193;' : '(Z-A)' ) + '</option>' );
							});
							html.push( '</select></span></label>' );

							return html.join('');
						});

						var $toolbar = el.prev().filter( '.tablesaw-bar' ),
							$firstChild = $toolbar.children().eq( 0 );

						if( $firstChild.length ) {
							$switcher.insertBefore( $firstChild );
						} else {
							$switcher.appendTo( $toolbar );
						}
						$switcher.find( '.btn' ).tablesawbtn();
						$switcher.find( 'select' ).on( 'change', function() {
							var val = $( this ).val().split( '_' ),
								head = heads.eq( val[ 0 ] );

							clearOthers( head.siblings() );
							el[ pluginName ]( 'sortBy', head.get( 0 ), val[ 1 ] === 'asc' );
						});
					};

					addClassToTable();
					heads = el.find( "thead th[data-" + pluginName + "-col]" );
					addClassToHeads( heads );
					makeHeadsActionable( heads , headsOnAction );
					handleDefault( heads );

					if( el.is( sortableSwitchSelector ) ) {
						addSwitcher( heads, el.find('tbody tr:nth-child(-n+3)') );
					}
			},
			getColumnNumber: function( col ){
				return $( col ).prevAll().length;
			},
			getTableRows: function(){
				return $( this ).find( "tbody tr" );
			},
			sortRows: function( rows , colNum , ascending, col ){
				var cells, fn, sorted;
				var getCells = function( rows ){
						var cells = [];
						$.each( rows , function( i , r ){
							var element = $( r ).children().get( colNum );
							cells.push({
								element: element,
								cell: getSortValue( element ),
								rowNum: i
							});
						});
						return cells;
					},
					getSortFxn = function( ascending, forceNumeric ){
						var fn,
							regex = /[^\-\+\d\.]/g;
						if( ascending ){
							fn = function( a , b ){
								if( forceNumeric ) {
									return parseFloat( a.cell.replace( regex, '' ) ) - parseFloat( b.cell.replace( regex, '' ) );
								} else {
									return a.cell.toLowerCase() > b.cell.toLowerCase() ? 1 : -1;
								}
							};
						} else {
							fn = function( a , b ){
								if( forceNumeric ) {
									return parseFloat( b.cell.replace( regex, '' ) ) - parseFloat( a.cell.replace( regex, '' ) );
								} else {
									return a.cell.toLowerCase() < b.cell.toLowerCase() ? 1 : -1;
								}
							};
						}
						return fn;
					},
					applyToRows = function( sorted , rows ){
						var newRows = [], i, l, cur;
						for( i = 0, l = sorted.length ; i < l ; i++ ){
							cur = sorted[ i ].rowNum;
							newRows.push( rows[cur] );
						}
						return newRows;
					};

				cells = getCells( rows );
				var customFn = $( col ).data( 'tablesaw-sort' );
				fn = ( customFn && typeof customFn === "function" ? customFn( ascending ) : false ) ||
					getSortFxn( ascending, $( col ).is( '[data-sortable-numeric]' ) && !$( col ).is( '[data-sortable-numeric="false"]' ) );
				sorted = cells.sort( fn );
				rows = applyToRows( sorted , rows );
				return rows;
			},
			replaceTableRows: function( rows ){
				var el = $( this ),
					body = el.find( "tbody" );
				body.html( rows );
			},
			makeColDefault: function( col , a ){
				var c = $( col );
				c.attr( attrs.defaultCol , "true" );
				if( a ){
					c.removeClass( classes.descend );
					c.addClass( classes.ascend );
				} else {
					c.removeClass( classes.ascend );
					c.addClass( classes.descend );
				}
			},
			sortBy: function( col , ascending ){
				var el = $( this ), colNum, rows;

				colNum = el[ pluginName ]( "getColumnNumber" , col );
				rows = el[ pluginName ]( "getTableRows" );
				rows = el[ pluginName ]( "sortRows" , rows , colNum , ascending, col );
				el[ pluginName ]( "replaceTableRows" , rows );
				el[ pluginName ]( "makeColDefault" , col , ascending );
			}
		};

	// Collection method.
	$.fn[ pluginName ] = function( arrg ) {
		var args = Array.prototype.slice.call( arguments , 1),
			returnVal;

		// if it's a method
		if( arrg && typeof( arrg ) === "string" ){
			returnVal = $.fn[ pluginName ].prototype[ arrg ].apply( this[0], args );
			return (typeof returnVal !== "undefined")? returnVal:$(this);
		}
		// check init
		if( !$( this ).data( pluginName + "data" ) ){
			$( this ).data( pluginName + "active", true );
			$.fn[ pluginName ].prototype._create.call( this , arrg );
		}
		return $(this);
	};
	// add methods
	$.extend( $.fn[ pluginName ].prototype, methods );

	$( document ).on( "tablesawcreate", function( e, Tablesaw ) {
		if( Tablesaw.$table.is( initSelector ) ) {
			Tablesaw.$table[ pluginName ]();
		}
	});

}( jQuery ));

;(function( win, $, undefined ){

	var MM = {
		attr: {
			init: 'data-tablesaw-minimap'
		}
	};

	function createMiniMap( $table ){

		var $btns = $( '<div class="tablesaw-advance minimap">' ),
			$dotNav = $( '<ul class="tablesaw-advance-dots">' ).appendTo( $btns ),
			hideDot = 'tablesaw-advance-dots-hide',
			$headerCells = $table.find( 'thead th' );

		// populate dots
		$headerCells.each(function(){
			$dotNav.append( '<li><i></i></li>' );
		});

		$btns.appendTo( $table.prev().filter( '.tablesaw-bar' ) );

		function showMinimap( $table ) {
			var mq = $table.attr( MM.attr.init );
			return !mq || win.matchMedia && win.matchMedia( mq ).matches;
		}

		function showHideNav(){
			if( !showMinimap( $table ) ) {
				$btns.hide();
				return;
			}
			$btns.show();

			// show/hide dots
			var dots = $dotNav.find( "li" ).removeClass( hideDot );
			$table.find( "thead th" ).each(function(i){
				if( $( this ).css( "display" ) === "none" ){
					dots.eq( i ).addClass( hideDot );
				}
			});
		}

		// run on init and resize
		showHideNav();
		$( win ).on( "resize", showHideNav );


		$table
			.bind( "tablesawcolumns.minimap", function(){
				showHideNav();
			})
			.bind( "tablesawdestroy.minimap", function(){
				var $t = $( this );

				$t.prev().filter( '.tablesaw-bar' ).find( '.tablesaw-advance' ).remove();
				$( win ).off( "resize", showHideNav );

				$t.unbind( ".minimap" );
			});
	}



	// on tablecreate, init
	$( document ).on( "tablesawcreate", function( e, Tablesaw ){

		if( ( Tablesaw.mode === 'swipe' || Tablesaw.mode === 'columntoggle' ) && Tablesaw.$table.is( '[ ' + MM.attr.init + ']' ) ){
			createMiniMap( Tablesaw.$table );
		}

	} );

}( window, jQuery ));

;(function( win, $ ) {

	var S = {
		selectors: {
			init: 'table[data-tablesaw-mode-switch]'
		},
		attributes: {
			excludeMode: 'data-tablesaw-mode-exclude'
		},
		classes: {
			main: 'tablesaw-modeswitch',
			toolbar: 'tablesaw-toolbar'
		},
		modes: [ 'stack', 'swipe', 'columntoggle' ],
		init: function( table ) {
			var $table = $( table ),
				ignoreMode = $table.attr( S.attributes.excludeMode ),
				$toolbar = $table.prev().filter( '.tablesaw-bar' ),
				modeVal = '',
				$switcher = $( '<div>' ).addClass( S.classes.main + ' ' + S.classes.toolbar ).html(function() {
					var html = [ '<label>' + Tablesaw.i18n.columns + ':' ],
						dataMode = $table.attr( 'data-tablesaw-mode' ),
						isSelected;

					html.push( '<span class="btn btn-small">&#160;<select>' );
					for( var j=0, k = S.modes.length; j<k; j++ ) {
						if( ignoreMode && ignoreMode.toLowerCase() === S.modes[ j ] ) {
							continue;
						}

						isSelected = dataMode === S.modes[ j ];

						if( isSelected ) {
							modeVal = S.modes[ j ];
						}

						html.push( '<option' +
							( isSelected ? ' selected' : '' ) +
							' value="' + S.modes[ j ] + '">' + Tablesaw.i18n.modes[ j ] + '</option>' );
					}
					html.push( '</select></span></label>' );

					return html.join('');
				});

			var $otherToolbarItems = $toolbar.find( '.tablesaw-advance' ).eq( 0 );
			if( $otherToolbarItems.length ) {
				$switcher.insertBefore( $otherToolbarItems );
			} else {
				$switcher.appendTo( $toolbar );
			}

			$switcher.find( '.btn' ).tablesawbtn();
			$switcher.find( 'select' ).bind( 'change', S.onModeChange );
		},
		onModeChange: function() {
			var $t = $( this ),
				$switcher = $t.closest( '.' + S.classes.main ),
				$table = $t.closest( '.tablesaw-bar' ).nextUntil( $table ).eq( 0 ),
				val = $t.val();

			$switcher.remove();
			$table.data( 'table' ).destroy();

			$table.attr( 'data-tablesaw-mode', val );
			$table.table();
		}
	};

	$( win.document ).on( "tablesawcreate", function( e, Tablesaw ) {
		if( Tablesaw.$table.is( S.selectors.init ) ) {
			S.init( Tablesaw.table );
		}
	});

})( window, jQuery );
;
/*! Tablesaw - v2.0.3 - 2016-05-02
* https://github.com/filamentgroup/tablesaw
* Copyright (c) 2016 Filament Group; Licensed MIT */
;(function( $ ) {

	// DOM-ready auto-init of plugins.
	// Many plugins bind to an "enhance" event to init themselves on dom ready, or when new markup is inserted into the DOM
	$( function(){
		$( document ).trigger( "enhance.tablesaw" );
	});

})( jQuery );;
this.Element&&Element.prototype.attachEvent&&!Element.prototype.addEventListener&&function(){function t(t,e){Window.prototype[t]=HTMLDocument.prototype[t]=Element.prototype[t]=e}function e(){e.interval&&document.body&&(e.interval=clearInterval(e.interval),document.dispatchEvent(new CustomEvent("DOMContentLoaded")))}t("addEventListener",function(t,e){var n=this,i=n.addEventListener.listeners=n.addEventListener.listeners||{},o=i[t]=i[t]||[];o.length||n.attachEvent("on"+t,o.event=function(t){var e=n.document&&n.document.documentElement||n.documentElement||{scrollLeft:0,scrollTop:0};t.currentTarget=n,t.pageX=t.clientX+e.scrollLeft,t.pageY=t.clientY+e.scrollTop,t.preventDefault=function(){t.returnValue=!1},t.relatedTarget=t.fromElement||null,t.stopImmediatePropagation=function(){c=!1,t.cancelBubble=!0},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||n,t.timeStamp=+new Date;for(var i,r=0,a=[].concat(o),c=!0;c&&(i=a[r]);++r)for(var s,l=0;s=o[l];++l)if(s==i){s.call(n,t);break}}),o.push(e)}),t("removeEventListener",function(t,e){for(var n,i=this,o=i.addEventListener.listeners=i.addEventListener.listeners||{},r=o[t]=o[t]||[],a=r.length-1;n=r[a];--a)if(n==e){r.splice(a,1);break}!r.length&&r.event&&i.detachEvent("on"+t,r.event)}),t("dispatchEvent",function(t){var e=this,n=t.type,i=e.addEventListener.listeners=e.addEventListener.listeners||{},o=i[n]=i[n]||[];try{return e.fireEvent("on"+n,t)}catch(r){return void(o.event&&o.event(t))}}),Object.defineProperty(Window.prototype,"CustomEvent",{get:function(){var t=this;return function(e,n){var i,o=t.document.createEventObject();o.type=e;for(i in n)"cancelable"==i?o.returnValue=!n.cancelable:"bubbles"==i?o.cancelBubble=!n.bubbles:"detail"==i&&(o.detail=n.detail);return o}}}),e.interval=setInterval(e,1),window.addEventListener("load",e)}(),!this.CustomEvent&&function(){window.CustomEvent=function(t,e){var n;e=e||{bubbles:!1,cancelable:!1,detail:void 0};try{n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail)}catch(i){n=document.createEvent("Event"),n.initEvent(t,e.bubbles,e.cancelable),n.detail=e.detail}return n}}(),function(){function t(t){this.el=t;for(var e=t.className.replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<e.length;n++)i.call(this,e[n])}function e(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{get:n}):t.__defineGetter__(e,n)}if(!("undefined"==typeof window.Element||"classList"in document.documentElement)){var n=Array.prototype,i=n.push,o=n.splice,r=n.join;t.prototype={add:function(t){this.contains(t)||(i.call(this,t),this.el.className=this.toString())},contains:function(t){return-1!=this.el.className.indexOf(t)},item:function(t){return this[t]||null},remove:function(t){if(this.contains(t)){for(var e=0;e<this.length&&this[e]!=t;e++);o.call(this,e,1),this.el.className=this.toString()}},toString:function(){return r.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},window.DOMTokenList=t,e(Element.prototype,"classList",function(){return new t(this)})}}(),function(){"use strict";function t(t){var e=document.createEvent("Event");e.initEvent("focus"===t.type?"focusin":"focusout",!0,!1),n=!0,t.target.dispatchEvent(e)}function e(t){n||t.stopPropagation(),n=!1}var n=!1;document.addEventListener&&(document.addEventListener("focus",t,!0),document.addEventListener("blur",t,!0),document.addEventListener("focusin",e,!0),document.addEventListener("focusout",e,!0))}();;
/*! track-focus v 1.0.0 | Author: Jeremy Fields [jeremy.fields@vget.com], 2015 | License: MIT */
!function(e){var n,t=function(e){n="mousedown"===e.type},o=function(e){n&&e.target.classList.add("focus--mouse")},s=function(e){e.target.classList.remove("focus--mouse")},d=function(){e.addEventListener("keydown",t),e.addEventListener("mousedown",t),e.addEventListener("focusin",o),e.addEventListener("focusout",s)};d()}(document.body);;
/*
 * jQuery offscreen plugin
 *
 * Copyright Cory LaViska for A Beautiful Site, LLC
 *
 * @license: http://opensource.org/licenses/MIT
 *
 */
(function($) {
  $.extend($.expr[':'], {
    'off-top': function(el) {
      return $(el).offset().top < $(window).scrollTop();
    },
    'off-right': function(el) {
      return $(el).offset().left + $(el).outerWidth() - $(window).scrollLeft() > $(window).width();
    },
    'off-bottom': function(el) {
      return $(el).offset().top + $(el).outerHeight() - $(window).scrollTop() > $(window).height();
    },
    'off-left': function(el) {
      return $(el).offset().left < $(window).scrollLeft();
    },
    'off-screen': function(el) {
      return $(el).is(':off-top, :off-right, :off-bottom, :off-left');
    }
  });
})(jQuery);;
/**
 * @file
 * Attaches sitewide alert behavior.
 */

(function ($, Drupal, window) {

  "use strict";

  // Site wide alert widget.
  Drupal.behaviors.site_wide_alert = {
    attach: function (context, settings) {
      var newSWAId = $('.swa-body').attr('id'); // Site Wide Alert Identifier
      if (newSWAId) {
        $('.tfnsw-site-wide-alert').addClass(newSWAId);
        $('.alert-info .alert-close-container button').attr("name", newSWAId);

        // Local storage check for closed sitewide alerts
        var removedSWA = localStorage.getItem("removedSWA")
        var show_active_swa = true;
        if(removedSWA != null) {
          if ( $('.tfnsw-site-wide-alert').hasClass( removedSWA ) ) {
            show_active_swa = false;
          }
        }
        if (show_active_swa == true) {
          $('.tfnsw-site-wide-alert').removeClass('hidden');
          $('.tfnsw-site-wide-alert').show();
        }

        $(function () {
          $('.alert-info .alert-close-container button').on('click', function (e) {
            var swa_name = $('.alert-info .alert-close-container button').attr("name");
            var removedSWA = localStorage.getItem("removedSWA");
            localStorage.setItem("removedSWA", swa_name);
          });
        });
      }
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches breakpoint behaviors.
 */

(function ($, Drupal, window) {

  "use strict";

  $(window).on('load', function(){
    if ( !$('[data-current-breakpoint]').length ){
      $('html').attr('data-current-breakpoint', Drupal.tfnsw_bootstrap.tfnsw_breakpoint.call());
    }
  });

  $(window).on('resize', _.debounce(function(){
    var previous = $('body').attr('data-current-breakpoint');
    var current = Drupal.tfnsw_bootstrap.tfnsw_breakpoint.call();

    if ( !previous || current !== previous ){
      $('html').attr('data-current-breakpoint', current);

      var event = new CustomEvent('tfnswBreakpointChange', {
        detail: {
          breakpoint: current
        }
      });
      window.dispatchEvent(event);
    }
  }, 200));

  /**
   * tfnsw_bootstrap theme.
   * tfnsw_breakpoint function.
   * @namespace
   */
  Drupal.tfnsw_bootstrap = {

    tfnsw_breakpoint: function () {

      if ( window.matchMedia("(max-width: 767px)").matches ) {
        var breakpoint = 'xs';
      }

      if ( window.matchMedia("(min-width: 768px) and (max-width: 991px)").matches ) {
        var breakpoint = 'sm';
      }

      if ( window.matchMedia("(min-width: 992px) and (max-width: 1199px)").matches ) {
        var breakpoint = 'md';
      }

      if ( window.matchMedia("(min-width: 1200px)").matches ) {
        var breakpoint = 'lg';
      }

      return breakpoint;
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches sticky header behavior.
 */

(function ($, Drupal, window) {

  "use strict";

  /**
   * TFNSW_bootstrap Sticky header .
   *
   */
  Drupal.behaviors.tfnsw_sticky_header = {
    attach: function (context, settings) {

      /**
       * detect IE
       * returns version of IE or false, if browser is not Internet Explorer
       */
      function detectIE() {
        var ua = window.navigator.userAgent;

        // Test values; Uncomment to check result …

        // IE 10
        // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';

        // IE 11
        // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';

        // Edge 12 (Spartan)
        // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';

        // Edge 13
        // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';

        var msie = ua.indexOf('MSIE ');
        if (msie > 0) {
          // IE 10 or older => return version number
          return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
        }

        var trident = ua.indexOf('Trident/');
        if (trident > 0) {
          // IE 11 => return version number
          var rv = ua.indexOf('rv:');
          return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
        }

        var edge = ua.indexOf('Edge/');
        if (edge > 0) {
          // Edge (IE 12+) => return version number
          return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
        }

        // other browser
        return false;
      }

      initHeader();

      function initHeader(){
        var version = detectIE();
        var browseHappyHeight = 0;
        if(version && version == 11) {
          var $browseHappy = $("#browsehappy");
          $browseHappy.show();
          browseHappyHeight = $browseHappy.outerHeight();
        }

        var $header = $(context).find('.tfnsw-sticky-header');
        var $alert = $header.prevAll('[id*="block-alerts"]');
        var loadState = true;
        var startHeight = browseHappyHeight + $alert.outerHeight() + $header.outerHeight();

        setSpacer();

        // listen for breakpoint change and reset offset
        $(window).on('tfnswBreakpointChange', function(event){
          adjustHeader();
        });

        $alert.find('div.alert').on('closed.bs.alert', function() {
          adjustHeader();
        });

        function adjustHeader() {
          startHeight = $alert.outerHeight() + $header.outerHeight();
          setSpacer();
        };

        function setSpacer(){
          var height = 0;

          $header.css({
            'top': $alert.outerHeight() + browseHappyHeight
          });

          if ( Drupal.tfnsw_bootstrap.tfnsw_breakpoint.call() === 'xs' ){
            height = $header.find('header').outerHeight();
          } else {
            height = $header.outerHeight();
          }

          $(context).find('.tfnsw-sticky-header-spacer').css({
            'height': height
          });
        }

        function checkAlert(){
          if ( $alert.length && $alert.find('> div.alert').length ){
            return true;
          }
          return false;
        }
      }
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches main menu behaviors.
 */

(function ($, Drupal, window) {

  "use strict";

  /**
   * TFNSW_bootstrap menu.
   *
   */
  Drupal.behaviors.tfnsw_menu = {
    attach: function (context, settings) {
      var $navs = $('[data-nav]');
      var $mobileNav = $('[data-mobile-menu]');
      var $mobileNavToggles = $('[data-mobile-menu-toggle]');
      var $mobileNavClear = $('[data-mobile-menu-clear]');
      var $breakpoint = Drupal.tfnsw_bootstrap.tfnsw_breakpoint.call();
      var $navTimer;

      init();


      function init() {
        // Check browser width
        $(window).on('tfnswBreakpointChange', function (e) {
          $breakpoint = e.detail.breakpoint;
        });

        // Initialise menus
        $navs.each(function () {
          initNavs($(this));
        });

        // Mobile menu toggle
        if ($mobileNav.length && $mobileNavToggles.length) {
          mobileMenuToggle();
        }
      }

      function initNavs($this) {
        var $navDropdowns = $this.find('[data-dropdown]');
        var $lastNavItem = $this.children().last();

        // Enable dropdowns
        if ($navDropdowns.length) {
          $navDropdowns.each(function () {
            enableDropdown($(this));
          });
        }

        if ($lastNavItem[0] && $lastNavItem[0].hasAttribute("data-dropdown")) {
          $lastNavItem.attr('data-dropdown-flipped', '');
        }

        function enableDropdown($this) {
          $this.find('> [data-dropdown-nav-link]').on('keydown', function (e) {
            if ($breakpoint !== 'xs') {
              manageInteraction(e, $this);
              $this.find('[data-dropdown-container] a:first').focus();
            }
          }).on('focus', function () {
            if ($breakpoint !== 'xs') {
              $navDropdowns.removeAttr('data-dropdown-focused');
              $this.attr('data-dropdown-focused', '');
            }
          }).on('blur', function () {
            if ($breakpoint !== 'xs') {
              setTimeout(function () {
                if ($this.find(':focus').length === 0) {
                  $this.removeAttr('data-dropdown-focused data-dropdown-active');
                }
              }, 10);
            }
          });

          $this.find('> a[data-dropdown-mobile-toggle]').on('click keydown touchstart', function (e) {
            if ($breakpoint === 'xs') {
              manageInteraction(e, $this);
            }
          });

          $this.on('mouseenter mouseleave', function (e) {
            if ($breakpoint !== 'xs') {
              manageInteraction(e, $this);
            }
          });

          $this.find('> a[data-dropdown-mobile-toggle]').on('click keydown touchstart', function (e) {
            if ($breakpoint === 'xs') {

              $('[data-dropdown-mobile-toggle]').attr('aria-expanded', false);

              manageInteraction(e, $this);
            }
          });

          $this.find('> [data-dropdown-nav-link]').on('touchstart', function (e) {
            manageInteraction(e, $this);
          });
          $this.find('> [data-dropdown-nav-link]').on('touchstart click', function (e) {
            manageInteraction(e, $this);
          });

          $this.find('> [data-dropdown-container] a').on('keydown', function (e) {
            if ($breakpoint !== 'xs') {
              manageInteraction(e, $this);
            } else if ($breakpoint === 'xs') {
              if (e.keyCode === 27) {
                clearMenus();
              }
            }
          });

          $this.find('> div[data-dropdown-tab-start]').on('focus', function () {
            $this.find('a:last').focus();
          });

          $this.find('> div[data-dropdown-tab-end]').on('focus', function () {
            if ($breakpoint === 'xs') {
              $this.find('> div[data-dropdown-tab-start]').next('a').focus();
            } else {
              $this.find('div[data-dropdown-container] a:first').focus();
            }
          });


        }

        function manageInteraction(e, $this) {
          e.stopImmediatePropagation();

          if (e.type === 'keydown') {

            if ($('.is-touch').length)
              $navDropdowns.find('a').removeClass('is-touch');

            // Handle Open Key Presses
            if (e.keyCode === 27 || e.keyCode === 9) {
              // Close - Esc and Arrow Up
              if ($this.is('[data-dropdown-active]')) {
                e.preventDefault();
                hideMenu($this);
                $this.find('> *:first').focus();
              }
            } else if (e.keyCode === 13) {
              // Toggle - Space and Enter
              if (!$this.is('[data-dropdown-active]')) {
                e.preventDefault();
                showMenu($this);
              }
            } else if (e.keyCode === 40) {
              if ($this.is('[data-dropdown-active]')) {
                e.preventDefault();

                var current = $this.find('a:focus');
                if (current.is('[data-nav-title]') && current.parent().find('[data-dropdown-container]').length) {
                  current.parent().find('[data-dropdown-container] a').first().focus();
                  return;
                }

                var next = current.parent().next('[data-nav-item]');
                if (next.length) {
                  next.find('a').first().focus();
                  return;
                }

                next = current.parents('[data-nav-item]').eq(1).next('[data-nav-item]');
                if (next.length) {
                  next.find('a').first().focus();
                }
              }
            } else if (e.keyCode === 38) {
              if ($this.is('[data-dropdown-active]')) {
                e.preventDefault();

                var current = $this.find('a:focus');
                if (current.is('[data-nav-title]') && current.parent().prev('[data-nav-item]').find('[data-dropdown-container]').length) {
                  current.parent().prev('[data-nav-item]').find('[data-dropdown-container] a').last().focus();
                  return;
                }

                var prev = current.parent().prev();
                if (prev.length) {
                  prev.find('a').first().focus();
                  return;
                }

                prev = current.parents('[data-nav-item]').eq(1).find('[data-nav-title]');
                if (prev.length) {
                  prev.first().focus();
                }
              }
            } else if (e.keyCode === 9) {
              if ($this.is('[data-dropdown-active]')) {
                e.preventDefault();
                $this.find('[data-dropdown-container] a:first').focus();
              }
            }
          } else if (e.type === 'mouseenter') {
            if ($navTimer) {
              clearTimeout($navTimer);
            }
            $navTimer = setTimeout(function () {
              showMenu($this);
              $this.attr('data-dropdown-hover', '');
              $this.removeAttr('data-dropdown-focused');
            }, 300);
          } else if (e.type === 'mouseleave') {
            if ($navTimer) {
              clearTimeout($navTimer);
            }
            $navTimer = setTimeout(function () {
              if (typeof $(e.currentTarget).attr('data-nav-item') !== 'undefined') {
                hideMenu($this.closest('[data-dropdown-active]'));
              }
              hideMenu($this);
              $this.removeAttr('data-dropdown-hover data-dropdown-focused');
            }, 300);
          } else if (e.type === 'touchstart') {
            e.preventDefault();

            if ($('.is-touch').length == 0)
              $navDropdowns.find('a').addClass('is-touch');

            if ($this.is('[data-dropdown-active]')) {
              hideMenu($this);
            } else {
              showMenu($this);
            }
          } else if (e.type === 'click') {

            e.preventDefault();

            if ($breakpoint === 'xs') {
              if ($('.is-touch').length)
                $navDropdowns.find('a').removeClass('is-touch');
            }

            if ($this.is('[data-dropdown-active]')) {
              hideMenu($this);
            } else {
              showMenu($this);
            }

            $this.attr('data-dropdown-hover', '');
            $this.removeAttr('data-dropdown-focused');
          }
        }

        function hideMenu($this) {
          $this.closest('[data-nav]').removeAttr('data-nav-open');
          $this.closest('[data-dropdown]').removeAttr('data-dropdown-hover data-dropdown-active data-dropdown-tabbable');
          $this.find('[data-dropdown]').removeAttr('data-dropdown-hover data-dropdown-active data-dropdown-tabbable');
          $this.parent().removeAttr('data-dropdown-nav-active').find('[data-dropdown-nav-active]').removeAttr('data-dropdown-nav-active');
          $this.find('[data-dropdown-container]').attr('aria-hidden', true);
          $this.find('[data-dropdown-mobile-toggle]').attr('aria-expanded', false);
        }

        function showMenu($this) {
          $this.closest('[data-nav]').attr('data-nav-open', '');
          $navDropdowns.removeAttr('data-dropdown-hover data-dropdown-active');
          $this.attr({
            'data-dropdown-active': '',
            'data-dropdown-tabbable': ''
          });
          $this.parents('[data-dropdown]').attr('data-dropdown-active', '');
          $this.parents('[data-dropdown-nav]').attr('data-dropdown-nav-active', '');
          $this.find('[data-dropdown-container]').attr('aria-hidden', false);
          $this.find('> [data-dropdown-mobile-toggle]').attr('aria-expanded', true);
        }
      }

      function mobileMenuToggle() {
        $mobileNavToggles.on('click keydown', function (e) {
          if ($breakpoint === 'xs') {
            if (e.type === 'click' || e.keyCode === 13) {
              e.preventDefault();

              if ($mobileNav.attr('aria-expanded') === 'false') {
                $('body').attr('data-mobile-menu-active', '');
                $mobileNav.addClass('in').attr('aria-expanded', true);
                $mobileNavToggles.removeClass('collapsed').attr('aria-expanded', true);
                $mobileNav.find('a:first').focus();
              } else {
                $('body').removeAttr('data-mobile-menu-active');
                $mobileNav.removeClass('in').attr('aria-expanded', false);
                $mobileNavToggles.addClass('collapsed').attr('aria-expanded', false);
                clearMenus();
                $mobileNavToggles.focus();
              }
            }
          }
        });

        $mobileNav.find('> div[data-mobile-dropdown-tab-start]').on('focus', function () {
          if ($breakpoint === 'xs') {
            $(this).parent().find('a:last-of-type').focus();
          }
        });

        $mobileNav.find('> div[data-mobile-dropdown-tab-end]').on('focus', function () {
          if ($breakpoint == 'xs') {
            $(this).parent().find('a:first').focus();
          }
        });

        $mobileNavClear.on('click', function () {
          if ($breakpoint === 'xs') {
            clearMenus();
          }
        });
      }

      function clearMenus() {
        $('[data-nav]').removeAttr('data-nav-open');
        $('[data-dropdown]').removeAttr('data-dropdown-hover data-dropdown-active data-dropdown-tabbable');
        $('[data-dropdown-nav]').removeAttr('data-dropdown-nav-active');
        $('[data-dropdown-container]').attr('aria-hidden', true);
        $('[data-dropdown-mobile-toggle]').attr('aria-expanded', false);
      }
    }
  };

  /**
   * Adjust the content area position from top based on menu height
   */
  Drupal.behaviors.tfnsw_main_navigation = {
    attach: function (context, settings) {

      var fixedHeader = document.getElementById('fixedHeader');
      var $stickyWidget = $('.tfnsw-sticky-side-widget');
      var stickyWidgetBorder = 0;

      if($stickyWidget.length){
        stickyWidgetBorder = parseInt($stickyWidget.css('border-top-width'));
      }

      var adjustStickyHeader = function(offset){

        //Height of the menu
        var totalHeight = fixedHeader ? fixedHeader.clientHeight - stickyWidgetBorder : 0;
        //Get the height of preview nav bar if present
        var previewNavBarHeight = $('.user-logged-in .node-preview-container').length > 0 ?
          parseInt($('.user-logged-in .node-preview-container').height()) : 0;
        //Start the content area after the sticky menu
        $('.tfnsw-sticky-header-spacer-new').css({'height' : totalHeight + previewNavBarHeight});
        //Start the site menu after the admin menu if present
        $('#fixedHeader').css({'top' : offset + previewNavBarHeight});
      };

      $(function(){
        var offset = parseInt($('body').css('padding-top'));
        //Adjust the position on page load
        adjustStickyHeader(offset);
      });

      new ResizeSensor(fixedHeader, function() {

        //Adjust the position when menu size changes
        adjustStickyHeader();
      });
    }
  };

  /**
   * Adjust mega nav columns based on curated nav parameters
   */
  Drupal.behaviors.tfnsw_mega_nav_curated = {
    attach: function (context, settings) {

      var $megaMenuList = $('.mega-menu--list'),
        $breakpoint = Drupal.tfnsw_bootstrap.tfnsw_breakpoint.call(),
        $primaryNav = $('#primary-nav');

      var $megaContainer = $('li.mega-menu>[data-dropdown-container]');

      assignTopMegaContainer();

      //initialise style if it is not mobile
      if ( $megaMenuList.length && $breakpoint !== 'xs')
        styleEachMegaMenu();
      else
        $primaryNav.attr('data-previous-bp', $breakpoint);

      function assignTopMegaContainer(){
        if ( !$megaContainer.length)
          return false;

        var top,
          $fixedHeader = $('#fixedHeader');

        if($breakpoint !== 'xs' && $fixedHeader.length)
          top = $fixedHeader[0].getBoundingClientRect().height - 2;
        else
          top = '';

        $megaContainer.css('top', top);
      }

      /* For each second level Nav Items :
      ** - assign class to define number of columns and width
      ** - rearrange items in the DOM
      ** @ maxItemsPerCol = max number of items that can be displayed in each column. Value is Content Manageable
      */
      function styleEachMegaMenu(){

        var nColsPerRow = setNumColsPerRow();

        $primaryNav.attr('data-previous-bp', $breakpoint);

        $megaMenuList.each( function(){

          var $this = $(this),
            $secondaryNav = $this.find('.second-nav'),
            $secondaryNavItems = $secondaryNav.find('li[data-dropdown]'),
            maxItemsPerCol = $this.data('rows-per-column'),
            _items = [];

          //assign class to each second level navigation to identify in how many columns the content will be displayed
          $secondaryNavItems.each(function(index){

            var $this = $(this),
              numberItems = $this.find('li').length,
              numberColumns = Math.ceil(numberItems /maxItemsPerCol),
              columnClass ="",
              _itemIndexAndColumns={
                "index": "",
                "numberColumns":""
              };

            switch (numberColumns){
              case 1: columnClass = 'column-count--1';
                break;
              case 2: columnClass = 'column-count--2';
                break;
              case 3: columnClass = 'column-count--3';
                break;
              default: if(numberColumns >= nColsPerRow)
                columnClass = 'column-count--' + nColsPerRow;
              else
                columnClass = 'column-count--1';
                break;
            }

            //if more classes are added, conside turning this into a function
            $this.removeClass('column-count--1 column-count--2 column-count--3 column-count--4');

            $this.addClass(columnClass);

            _itemIndexAndColumns.index = index;
            _itemIndexAndColumns.numberColumns = numberColumns;

            _items.push(_itemIndexAndColumns);
          });

          //arrange Items in optimal space
          var _arrangedItems = arrangeItems(_items);

          //arrange items in the DOM
          $.each(_arrangedItems, function(index, el){

            var $el = $secondaryNavItems.eq(el.index);
            var $prev = $secondaryNav.find('li[data-dropdown]').last();

            $el.insertAfter($prev);
          });
        });

      }

      /* Place elements in optimal position based on available horizontal space.
      ** Each second level has a different width depending on the columns to display
      ** - Desktop: max 4 columns
      ** - Tablet: max 3 columns
      */
      function arrangeItems(_items){
        var _sortedItems = [],
          _arrangedItems =  [],
          complimentary,
          nColsPerRow = setNumColsPerRow();

        //sort items by number of columns, from highest to 1
        _sortedItems = _items.sort(function (a, b){
          return (a.numberColumns < b.numberColumns) ? 1 : ((a.numberColumns > b.numberColumns) ? -1 : 0);
        });

        while(_sortedItems.length > 0){

          var item = _sortedItems[0],
            numberColumns = item.numberColumns,
            complimentary= nColsPerRow - numberColumns;


          if(complimentary === 0){
            _arrangedItems.push(item);
            _sortedItems.splice(0, 1);
          }
          else{
            _arrangedItems.push(item);
            _sortedItems.splice(0, 1);

            for( var i = 0, l = _sortedItems.length; i < l; i++ ) {

              var el = _sortedItems[i];

              if (el.numberColumns == complimentary){
                _arrangedItems.push(el);
                _sortedItems.splice(i, 1);
                break;
              }
            }

          }
        }

        return _arrangedItems;
      };

      // grid layout depends on device width
      function setNumColsPerRow(){
        var nColsPerRow;

        $breakpoint = $('html').attr('data-current-breakpoint');

        switch($breakpoint){
          case 'sm' : nColsPerRow = 3;
            break;
          default   : nColsPerRow = 4;
            break;
        }

        return nColsPerRow;
      }

      //initialise style again if needed on resize
      $(window).on('tfnswBreakpointChange', function(event){
        var $previousBp = $primaryNav.attr('data-previous-bp'),
          $currentbreakpoint = event.detail.breakpoint;

        if ( event.detail.breakpoint !== 'xs' || ($currentbreakpoint !== $previousBp) ){
          styleEachMegaMenu();
        }

        assignTopMegaContainer();
      });
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches search behaviors.
 */

(function ($, Drupal, window) {

  "use strict";

  /**
   * TFNSW_bootstrap Search Label .
   *
   */
  Drupal.behaviors.tfnsw_search_label = {
    attach: function (context, settings) {
      var $searchForms = $(context).find('.search-form');

      if ( $searchForms.length > 0 ){
        init();
      }

      function init() {
        $searchForms.each(function(){
          var $form = $(this).find('form');
          var $input = $(this).find('input');

          if ( $input.val() !== '' ){
            $form.attr('data-search-focused', '');
          }

          $input.on('blur', function(){
            if ( $input.val() === '' ){
              $form.removeAttr('data-search-focused');
            }
          }).on('focus', function(){
            $form.attr('data-search-focused', '');
          });
        });
      }
    }
  };

  /**
   * Client side behaviors for the search dropdown
   */
  Drupal.behaviors.tfnsw_search_dropdown = {
    attach: function (context, settings) {

      var searchPlaceholder = '';

      //Place the focus on the search text box when search form expanded
      $('#searchCollapse').on('shown.bs.collapse', function () {
        $('#edit-keys', $(this)).focus();
      });

      //Remove placeholder from search text box to avoid screen reader reading it
      $('#edit-keys').on('focus', function () {
        searchPlaceholder = $(this).attr('placeholder');
        $(this).attr('placeholder', '');
      });

      //Adding the back the placeholder when focus is out
      $('#edit-keys').on('focusout', function () {
        $(this).attr('placeholder', searchPlaceholder);
      });
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches opal logo svg behavior.
 */

(function ($, Drupal, window) {

  "use strict";

  /**
   * Dynamically apply width and height to opal logo.
   *
   */
  Drupal.behaviors.opal_logo_svg = {
    attach: function (context, settings) {
      $(context).find('.opal-logo-svg').once('opal-logo-svg').each(function (index, entityElement) {
        var parentElement = $(this).parent();
        if (parentElement.length > 0) {
          var width = parentElement.outerWidth();
          var height = parentElement.outerHeight();
          $(this).attr('width', width);
          $(this).attr('height', height);
        }
      });
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches responsive table behavior.
 */

(function ($, Drupal, window) {

  "use strict";

  /**
   * Responsive table width.
   */
  Drupal.behaviors.tfnsw_responsive_table_width = {
    attach: function (context, settings) {
      var $tableCells = $(context).find('td[data-tablesaw-width], th[data-tablesaw-width]');

      if ( $tableCells.length > 0 ){
        init();
      }

      function init() {
        $tableCells.each(function(){
          $(this).css('width', $(this).attr('data-tablesaw-width') + '%');
        });
      }
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches behaviors for side widget tab hover state.
 */

(function ($, Drupal, window) {

  "use strict";

  /**
   * Side widget tab hover state removal in touch devices
   */
  Drupal.behaviors.tfnsw_side_widget_tab_hover = {
    attach: function (context, settings) {

      $(function(){
        /**
         * Removing any hover state class
         * in case this is a touch screen
         * device.
         *
         */
        var touch = 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;

        if (touch) { // remove all :hover stylesheets
          try { // prevent exception on browsers not supporting DOM styleSheets properly
            for (var styleSheetFiles in document.styleSheets) {
              var styleSheet = document.styleSheets[styleSheetFiles];
              if (!styleSheet.rules || !Array.isArray(styleSheet.rules) || (Array.isArray(styleSheet.rules) && styleSheet.rules.length === 0) ) continue;

              for (var rulesInStyleSheets = styleSheet.rules.length - 1; rulesInStyleSheets >= 0; rulesInStyleSheets--) {
                if (!styleSheet.rules[rulesInStyleSheets] ||  !styleSheet.rules[rulesInStyleSheets].selectorText) continue;

                if (styleSheet.rules[rulesInStyleSheets].selectorText.match('.tab-button:hover') ||
                  styleSheet.rules[rulesInStyleSheets].selectorText.match('.widget-button__button:hover')) {
                  styleSheet.deleteRule(rulesInStyleSheets);
                }
              }
            }

            $('.tp-main #tp-tabs .tfnsw-nav-tabs li>a').addClass('touch-tab-hover');
          } catch (ex) {
            console.error(ex);
          }
        }
      });
    }
  };
})(jQuery, Drupal, window);
;
/**
 * Copyright Marc J. Schmidt. See the LICENSE file at the top-level
 * directory of this distribution and at
 * https://github.com/marcj/css-element-queries/blob/master/LICENSE.
 */
(function (root, factory) {
    if (typeof define === "function" && define.amd) {
        define(factory);
    } else if (typeof exports === "object") {
        module.exports = factory();
    } else {
        root.ResizeSensor = factory();
    }
}(typeof window !== 'undefined' ? window : this, function () {

    // Make sure it does not throw in a SSR (Server Side Rendering) situation
    if (typeof window === "undefined") {
        return null;
    }
    // Only used for the dirty checking, so the event callback count is limited to max 1 call per fps per sensor.
    // In combination with the event based resize sensor this saves cpu time, because the sensor is too fast and
    // would generate too many unnecessary events.
    var requestAnimationFrame = window.requestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        function (fn) {
            return window.setTimeout(fn, 20);
        };

    /**
     * Iterate over each of the provided element(s).
     *
     * @param {HTMLElement|HTMLElement[]} elements
     * @param {Function}                  callback
     */
    function forEachElement(elements, callback){
        var elementsType = Object.prototype.toString.call(elements);
        var isCollectionTyped = ('[object Array]' === elementsType
            || ('[object NodeList]' === elementsType)
            || ('[object HTMLCollection]' === elementsType)
            || ('[object Object]' === elementsType)
            || ('undefined' !== typeof jQuery && elements instanceof jQuery) //jquery
            || ('undefined' !== typeof Elements && elements instanceof Elements) //mootools
        );
        var i = 0, j = elements ? elements.length : 0;
        if (isCollectionTyped) {
            for (; i < j; i++) {
                callback(elements[i]);
            }
        } else {
            callback(elements);
        }
    }

    /**
     * Class for dimension change detection.
     *
     * @param {Element|Element[]|Elements|jQuery} element
     * @param {Function} callback
     *
     * @constructor
     */
    var ResizeSensor = function(element, callback) {
        /**
         *
         * @constructor
         */
        function EventQueue() {
            var q = [];
            this.add = function(ev) {
                q.push(ev);
            };

            var i, j;
            this.call = function() {
                for (i = 0, j = q.length; i < j; i++) {
                    q[i].call();
                }
            };

            this.remove = function(ev) {
                var newQueue = [];
                for(i = 0, j = q.length; i < j; i++) {
                    if(q[i] !== ev) newQueue.push(q[i]);
                }
                q = newQueue;
            }

            this.length = function() {
                return q.length;
            }
        }

        /**
         *
         * @param {HTMLElement} element
         * @param {Function}    resized
         */
        function attachResizeEvent(element, resized) {
            if (!element) return;
            if (element.resizedAttached) {
                element.resizedAttached.add(resized);
                return;
            }

            element.resizedAttached = new EventQueue();
            element.resizedAttached.add(resized);

            element.resizeSensor = document.createElement('div');
            element.resizeSensor.className = 'resize-sensor';
            var style = 'position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;';
            var styleChild = 'position: absolute; left: 0; top: 0; transition: 0s;';

            element.resizeSensor.style.cssText = style;
            element.resizeSensor.innerHTML =
                '<div class="resize-sensor-expand" style="' + style + '">' +
                    '<div style="' + styleChild + '"></div>' +
                '</div>' +
                '<div class="resize-sensor-shrink" style="' + style + '">' +
                    '<div style="' + styleChild + ' width: 200%; height: 200%"></div>' +
                '</div>';
            element.appendChild(element.resizeSensor);

            if (element.resizeSensor.offsetParent !== element) {
                element.style.position = 'relative';
            }

            var expand = element.resizeSensor.childNodes[0];
            var expandChild = expand.childNodes[0];
            var shrink = element.resizeSensor.childNodes[1];
            var dirty, rafId, newWidth, newHeight;
            var lastWidth = element.offsetWidth;
            var lastHeight = element.offsetHeight;

            var reset = function() {
                expandChild.style.width = '100000px';
                expandChild.style.height = '100000px';

                expand.scrollLeft = 100000;
                expand.scrollTop = 100000;

                shrink.scrollLeft = 100000;
                shrink.scrollTop = 100000;
            };

            reset();

            var onResized = function() {
                rafId = 0;

                if (!dirty) return;

                lastWidth = newWidth;
                lastHeight = newHeight;

                if (element.resizedAttached) {
                    element.resizedAttached.call();
                }
            };

            var onScroll = function() {
                newWidth = element.offsetWidth;
                newHeight = element.offsetHeight;
                dirty = newWidth != lastWidth || newHeight != lastHeight;

                if (dirty && !rafId) {
                    rafId = requestAnimationFrame(onResized);
                }

                reset();
            };

            var addEvent = function(el, name, cb) {
                if (el.attachEvent) {
                    el.attachEvent('on' + name, cb);
                } else {
                    el.addEventListener(name, cb);
                }
            };

            addEvent(expand, 'scroll', onScroll);
            addEvent(shrink, 'scroll', onScroll);
        }

        forEachElement(element, function(elem){
            attachResizeEvent(elem, callback);
        });

        this.detach = function(ev) {
            ResizeSensor.detach(element, ev);
        };
    };

    ResizeSensor.detach = function(element, ev) {
        forEachElement(element, function(elem){
            if (!elem) return
            if(elem.resizedAttached && typeof ev == "function"){
                elem.resizedAttached.remove(ev);
                if(elem.resizedAttached.length()) return;
            }
            if (elem.resizeSensor) {
                if (elem.contains(elem.resizeSensor)) {
                    elem.removeChild(elem.resizeSensor);
                }
                delete elem.resizeSensor;
                delete elem.resizedAttached;
            }
        });
    };

    return ResizeSensor;

}));
;
/**
 * @file
 * Attaches main menu behaviors.
 */

(function ($, Drupal, window) {

  "use strict";

  /**
   * TFNSW_bootstrap menu.
   *
   */
  Drupal.behaviors.tfnsw_footer_menu = {
    attach: function (context, settings) {
      var $breakpoint = Drupal.tfnsw_bootstrap.tfnsw_breakpoint.call(),
        $footerRibbonBottomXs = $('.footer-ribbon--bottom-xs'),
        $footerRibbonTopXs = $('.footer-ribbon--top-xs');

      swapRibbonList();

      $(window).on('tfnswBreakpointChange', function(e){
        $breakpoint = e.detail.breakpoint;

        swapRibbonList();
      });

      function swapRibbonList(){
        if ( $breakpoint === 'xs' )
          $footerRibbonTopXs.insertBefore($footerRibbonBottomXs);
        else
          $footerRibbonBottomXs.insertBefore($footerRibbonTopXs);
      }
    }
  };
})(jQuery, Drupal, window);;
/**
 * @file
 * Attaches show/hide functionality to checkboxes in the "Processor" tab.
 */

(function ($, Drupal, window) {

  "use strict";

  /**
   * TFNSW_bootstrap Carousel .
   *
   */
  Drupal.behaviors.tfnsw_carousel = {
    attach: function (context, settings) {

      var $activated = false;
      var $carousels = $('.tfnsw-carousel-deluxe');
      var $breakpoint = $('html').data('current-breakpoint');
      var slidesNum = $carousels.find('.carousel-inner .item').length;

      $carousels.find('.carousel-inner .item:first-child').addClass('active');

      if($carousels)
        init($carousels);

      function init(carousels) {
        $activated = true;
        carousels.each(function(){
          var $carousel = $(this);
          var $carouselItem = $carousel.find('.carousel-inner .item');
          var $carouselPlay = $carousel.find('[data-carousel-play]');
          var $carouselPause = $carousel.find('[data-carousel-pause]');
          var $carouselNext = $carousel.find('[data-carousel-next]');
          var $carouselPrev = $carousel.find('[data-carousel-prev]');
          var $carouselPager = $carousel.find('[data-carousel-pager]');

          $.each($carouselItem, function(index, value){
            $carouselPager.append(carouselPagerItem(index, index, value, slidesNum, $(this)));
          });

          $carouselPlay.on('click', function() {
            $carousel.carousel('cycle');
            $carousel.removeAttr('data-carousel-paused');
            $carouselPause.focus();
          });

          $carouselPause.on('click', function() {
            $carousel.carousel('pause');
            $carousel.attr('data-carousel-paused', '');
            $carouselPlay.focus();
          });

          $carouselNext.on('click', function(e) {
            e.preventDefault();
            $carousel.carousel('next');
          });

          $carouselPrev.on('click', function(e) {
            e.preventDefault();
            $carousel.carousel('prev');
          });

          $carouselPager.find('a[data-carousel-pager-item]').on('click', function(e) {
            e.preventDefault();

            var index = $(this).data('slide-to');

            slideOnPagerItemClick(index, $carousel);
          });

          $carousel.carousel().attr('data-carousel-active', '');

          $('.carousel-inner div.item-image').hover( function () {
            $carousel.carousel('pause');
            $carousel.attr('data-carousel-paused', '');
          });

          $('.carousel-inner div.item-image').mouseleave( function () {
            $carousel.carousel('cycle');
            $carousel.removeAttr('data-carousel-paused');
          });

          /* Accessibility for carousel */
          $('.js-carousel-click').keypress(function (e) {
            $(this).find('a')[0].click();
          });

          $('.js-carousel-click a').keypress(function (e) {
            e.stopPropagation();
          });

          $('.js-carousel-click a').focus(function () {
            $carousel.carousel('pause');
            $carousel.attr('data-carousel-paused', '');
          });


          $('.js-carousel-click a').blur(function () {
            $carousel.carousel('cycle');
            $carousel.removeAttr('data-carousel-paused');
          });

          $('a[data-carousel-pager-item]').keypress(function (e) {
            e.preventDefault();
            $(this).click();
          });
        });
      }

      function carouselPagerItem(target, index, item, dataLength, context) {
        var active = index == 0 ? 'active' : '';
        var targetReal = parseInt(target)+1;

        return '<li class="' + active + '">' +
          '<a href="#" data-carousel-pager-item data-slide-to="' + target + '"  tabindex="0" role="button">' +
          '<span class="sr-only">slide '+targetReal+' of '+dataLength+' </span>' +
          '<span class="sr-only carousel-pager--sr-only"> (Current Item) </span>' +
          '</a>' +
          '</li>';
      }

      function slideOnPagerItemClick(index, $carousel){
        $carousel.carousel(index);

        $carousel.carousel('pause');
        $carousel.attr('data-carousel-paused', '');

        $carousel
          .find('.item-caption')
          .eq(index)
          .focus();
      }
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches ajax loading functionality.
 */

(function ($, Drupal, window) {

  "use strict";

  // Sets the progress indicator at the bottom of event view.
  Drupal.behaviors.ajaxloadinMessage = {
    attach: function (context, settings) {

      // Add loadnig ajax-progress text to load move events.
      if (typeof Drupal.Ajax != "undefined" && typeof Drupal.Ajax.prototype != "undefined") {
        if (settings.path.currentPath == '/apps' ||
          settings.path.currentPath == '/operators' ||
          settings.path.currentPath == '/transport-operators') {

          Drupal.Ajax.prototype.beforeSubmit = function (form_values, element, options) {

            $(".view-id-transport_apps.view-display-id-block_1 .view-content, .view-id-transport_operators_view.view-display-id-block_1 .view-content").html('<div class="list-group" role="alert" aria-live="assertive" aria-atomic="true"><div class="list-group-item text-center" data-search-suggestions-searching="">Searching…</div></div>').focus();
            element.find('input[type="checkbox"]').closest('.checkbox-inline-custom').addClass('disabled').attr('disabled');
            element.find('input[type="checkbox"]').addClass('disabled').attr('disabled', 'true');
            element.find('input[type="radio"]').closest('.btn-default').addClass('disabled').attr('disabled');
            element.find('input[type="radio"]').addClass('disabled').attr('disabled', 'true');
          };

          // Add loadnig ajax-progress text to load move events.
          Drupal.Ajax.prototype.setProgressIndicatorFullscreen = function () {
            this.progress.element = $('<div class="ajax-progress text-center h3">Loading…</div>');
            $('.js-pager__items .pager__item').before(this.progress.element);
          };

        }

      }
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches operator functionality.
 */

(function ($, Drupal, window) {

  "use strict";

  Drupal.behaviors.transport_operators_autosubmit = {
    attach: function(context, settings){

      // The change event bubbles so we only need to bind it to the outer form.
      $(".view-id-transport_operators_view.view-display-id-block_1 .form-checkbox").on('change',function(e){
        $(e.target.form).find('#transport-operator-filter-submit').trigger('click');
        e.preventDefault();
      });
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches show/hide functionality to checkboxes in the "Processor" tab.
 */

(function ($, Drupal, window) {

  "use strict";

  //Keeps track of last checkbox or radio button pressed.
  var lastChanged = '';
  //Keeps track if enter key was pressed before ajax request.
  var enterKeyPressed = false;

  // Add active class in radio button label when they are grouped.
  Drupal.behaviors.radioButtonState = {
    attach: function (context, settings) {
      $(context).find('.btn-default [type="radio"]').change(function() {
        $(this).closest('.btn-group').find('.btn-default.active').removeClass('active');
        $(this).parent().toggleClass('active');
      });
    }
  };

  Drupal.behaviors.checkbox_radio_space_key = {
    attach: function(context, settings){
      //This will trigger check/uncheck event if spacebar is pressed
      $(document).on('keydown', ".tfnsw-styled-checkbox" , function(e){
        if(e.keyCode === 32){
          e.preventDefault();
          $("#" + $(this).find('label').attr('for')).prop('checked', !$("#" + $(this).find('label').attr('for')).prop('checked')).trigger('change');
        }
      });
      $(document).on('keydown', ".tfnsw-styled-radio" , function(e){
        if(e.keyCode === 32){
          e.preventDefault();
          $("#" + $(this).parents('label').attr('for')).prop('checked', !$("#" + $(this).parents('label').attr('for')).prop('checked')).trigger('change');
        }
      });

      //Save the last interacted checkbox to re focus after ajax load.
      $(document).on('change', "input[type='checkbox']" , function(e){
        lastChanged = $(this).attr('data-drupal-selector');
      });

      //Save the last interacted radio to re focus after ajax load.
      $(document).on('change', "input[type='radio']" , function(e){
        lastChanged = 'edit-field-app-os-target-id-' + $(this).attr('value');
      });

      $(document).on('keydown', '.transport-operator-filter-input', function (e) {
        if(e.keyCode === 13){
          e.preventDefault();
          enterKeyPressed = true;
          $("#transport-operator-filter-submit").trigger('click');
        }
      });

      $( document ).ajaxComplete(function( event, xhr, settings ) {

        if(lastChanged !== '') {

          //Re-focus based on saved last input.
          var checkBoxId = $("input[data-drupal-selector^='" + lastChanged + "']").attr('id');

          if(checkBoxId !== undefined && checkBoxId !== '') {

            $("#" + checkBoxId + "-label").parents('.tfnsw-styled-checkbox').trigger('focus');
            $("#" + checkBoxId + "-label").find('.tfnsw-styled-radio').trigger('focus');
            lastChanged = '';
          }
        } else if(enterKeyPressed) {

          $('#transport-operator-filter-submit').trigger('focus');
          enterKeyPressed = false;
        }
      });
    }
  };
})(jQuery, Drupal, window);
;
/**
 * @file
 * Attaches accordion functionality.
 */

(function ($, Drupal, window) {

  "use strict";

  Drupal.behaviors.tfnsw_accordion_url_expand = {
    attach: function (context, settings) {
      if(typeof context.URL != "undefined" && typeof context.URL.match != "undefined"){
        if ( context.URL.match('#') && !context.URL.match('#/')) {
          $('#' + context.URL.split('#')[1]).addClass('in').removeClass('collapsed');
        }
      }
    }
  };

  //Opens and hide accordions based on # on the url.
  Drupal.behaviors.accordion_anchor = {
    attach: function (context, settings){

      $(function () {
        showAccordion(location.hash);
        $('a[href*=\'#accordion-\']:not([data-toggle])').on('click', function (e){

          var href = $(this).attr('href');
          var startVhash = href.substring(0, 2);

          if(startVhash.indexOf('#/') === -1) {

            var hrefParts = href.split('#');

            if(hrefParts.length > 1 &&
              hrefParts[1] !== '' &&
              hrefParts[1] !== undefined) {
              if($('#' + hrefParts[1]).length > 0) {
                showAccordion('#' + hrefParts[1]);
                e.preventDefault();
              }
            }
          }
        });
      });

      function showAccordion(vhash){

        if(vhash && vhash.length > 1){

          var startVhash = vhash.substring(0, 2);
          var accordionBodyId = vhash;

          if(startVhash.indexOf('#/') === -1){

            var anchor = vhash.substring(1, vhash.length);

            if($(accordionBodyId).hasClass('panel-collapse') &&
              vhash.indexOf('-content') !== -1){

              $(accordionBodyId).collapse('show');
              anchor += '-header';
            }

            if($('#' + anchor).length > 0) {

              //Wait for ajax to complete
              setTimeout(function () {
                //@todo: create a global function to calculate the header offset
                // and update top nav to use that global function
                var fixedHeader = document.getElementById('fixedHeader');
                var $stickyWidget = $('.tfnsw-sticky-side-widget');
                var stickyWidgetBorder = 0;

                if($stickyWidget.length){
                  stickyWidgetBorder = parseInt($stickyWidget.css('border-top-width'));
                }

                //Height of the menu
                var totalHeight = fixedHeader ? fixedHeader.clientHeight - stickyWidgetBorder : 0;
                //Get the height of preview nav bar if present
                var previewNavBarHeight = $('.user-logged-in .node-preview-container').length > 0 ?
                  parseInt($('.user-logged-in .node-preview-container').height()) : 0;
                var topOffset = $('#' + anchor).offset().top;
                //Calculate top offset by removing the sticky nav
                topOffset -= (totalHeight + previewNavBarHeight);

                $('html, body').animate({
                  scrollTop: topOffset + 'px'
                });
              }, 500);
            }
          }
        }
      }
    }
  };
})(jQuery, Drupal, window);
;
FeedbackAssist = (function () {
    // Instance stores a reference to the Singleton
    var instance;
    var top = 100;
    var feedbackUrl = 'http://www.transportnsw.info/contact-us/feedback';
    var feedbackType;
    var mode = {
        train: true,
        bus: true,
        ferry: true,
        lightRail: true,
        nswTC: true,
        ticketsAndFares: true
    };

    function init() {
        var unselectedAllTypes = function () {
            var types = document.getElementsByClassName('feedback-type');
            for (var i = 0; i < types.length; i++) {
                types[i].className = 'feedback-type button';
            }
        };

        var selectType = function (event) {
            unselectedAllTypes();
            event.currentTarget.className = 'feedback-type button selected';
            feedbackType = event.currentTarget.attributes["feedback-type"].nodeValue;
            document.getElementById('feedback-container').style.right = '230px';
            document.getElementsByClassName('fba-mode-wrapper')[0].className = 'fba-mode-wrapper fba-show';
        };

        var getFeedbackTypeString = function(feedbackType) {
            var typeString = '';
            switch(feedbackType) {
                case "1":
                    typeString = 'suggestion';
                    break;
                case "2":
                    typeString = 'complaint';
                    break;
                case "3":
                    typeString = 'compliment';
                    break;
                default:
                    break;
            }
            return typeString;
        }

        var redirectUrl = function(event) {
            var transportMode = event.currentTarget.attributes["transport-mode"].nodeValue;
            var feedbackTypeString = '';

            if (feedbackType) {
                feedbackTypeString = getFeedbackTypeString(feedbackType);
            }

            if (transportMode === 'train') {
                window.location  = feedbackUrl + '/train-feedback/' + feedbackType;
            } else if (transportMode === 'bus') {
                window.location  = feedbackUrl + '/bus-feedback/' + feedbackType;
            } else if (transportMode === 'ferry') {
                window.location  = feedbackUrl + '/ferry-feedback/' + feedbackType;
            } else if (transportMode === 'light rail') {
                window.location  = feedbackUrl + '/light-rail-feedback/' + feedbackType;
            } else if (transportMode === 'NSWTrain') {
                window.location  = feedbackUrl + '/regional-trains-coaches-feedback/' + feedbackType;
            } else if (transportMode === 'Non-modal') {
                window.location  = feedbackUrl + '/tickets-fares-feedback#/?type=' + feedbackTypeString;
            }
        };

        var selectTransportMode = function (event) {
            redirectUrl(event);
        };

        var enterTransportMode = function (event) {
            if (event.keyCode === 13) {
                redirectUrl(event);
            }
        };

        var touchYourFeedback = function (e) {
            //show emotion
            var typeWrapper = document.getElementsByClassName('fba-type-wrapper')[0];
            typeWrapper.className = 'fba-type-wrapper fba-type-show';
            e.preventDefault();
        };

        var closePanel = function () {
            unselectedAllTypes();
            document.getElementById('feedback-container').style.right = '0px';

            var typeWrapper = document.getElementsByClassName('fba-type-wrapper')[0];
            typeWrapper.className = 'fba-type-wrapper';

            setTimeout( function() {
                document.getElementsByClassName('fba-mode-wrapper')[0].className = 'fba-mode-wrapper';
            }, 200);
        };


        var getModeClass = function(mode) {
            return mode ? '' : ' fba-hide';
        };

        var loadFeedbackAssist = function () {
            var s = '<div id="feedback-container" class="feedback-container" style="top:' + top + ';" aria-labelledby="fba-title">' +
                                '<div class="fba-title-wrapper">' +
                                    '<h1 class="fba-title">Your Feedback</h1>' +
                                '</div>' +
                                '<div class="fba-type-wrapper" role="tablist">' +
                                    '<div class="fba-type-title">Your Feedback' +
                                        '<button class="close-type">' +
                                            '<svg class="svg-inline--fa fa-times fa-w-11" aria-hidden="true" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" data-fa-i2svg="">' +
                                                '<title>Close</title>' +
                                                '<!-- -->' +
                                                '<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path>' +
                                                '<!-- -->' +
                                            '</svg>' +
                                        '</button>' +
                                    '</div>' +
                                    '<div class="fba-type-button">' +
                                        '<span role="tab" aria-controls="fba-panel-feedback-compliment" feedback-type="3" id="fba-nav-btn-compliment" class="feedback-type button" aria-selected="false" tabindex="0">' +
                                            '<span class="btn__content" tabindex="-1">' +
                                            '<svg focusable="false" class="svg-inline--fa fa-smile fa-w-16" aria-hidden="true" data-prefix="far" data-icon="smile" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg="">' +
                                                '<title>Happy face</title>' +
                                                '<!-- -->' +
                                                '<path fill="currentColor" d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm84-143.4c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.6-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.2-8.4-25.3-7.1-33.8 3.1zM168 240c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32z"></path>' +
                                                '<!-- -->' +
                                            '</svg>' +
                                            '</span>' +
                                        '</span>' +
                                        '<p>Give us a compliment</p>' +
                                    '</div>' +
                                    '<div class="fba-type-button">' +
                                        '<span role="tab" aria-controls="fba-panel-feedback-complaint" feedback-type="2" id="fba-nav-btn-complaint" class="feedback-type button" aria-selected="false" tabindex="0">' +
                                            '<span class="btn__content" tabindex="-1">' +
                                            '<svg focusable="false" class="svg-inline--fa fa-frown fa-w-16" aria-hidden="true" data-prefix="far" data-icon="frown" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg="">' +
                                                '<title>Sad face</title>' +
                                                '<!-- -->' +
                                                '<path fill="currentColor" d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-80 128c-40.2 0-78 17.7-103.8 48.6-8.5 10.2-7.1 25.3 3.1 33.8 10.2 8.5 25.3 7.1 33.8-3.1 16.6-19.9 41-31.4 66.9-31.4s50.3 11.4 66.9 31.4c4.8 5.7 11.6 8.6 18.5 8.6 5.4 0 10.9-1.8 15.4-5.6 10.2-8.5 11.5-23.6 3.1-33.8C326 321.7 288.2 304 248 304z"></path>' +
                                                '<!-- -->' +
                                            '</svg>' +
                                            '</span>' +
                                        '</span>' +
                                        '<p>Tell us about your complaint</p>' +
                                    '</div>' +
                                    '<div class="fba-type-button">' +
                                        '<span role="tab" aria-controls="fba-panel-feedback-suggestion" feedback-type="1" id="fba-nav-btn-suggestion" class="feedback-type button" aria-selected="false" tabindex="0">' +
                                            '<span class="btn__content" tabindex="-1">' +
                                            '<svg focusable="false" class="svg-inline--fa fa-lightbulb fa-w-12" aria-hidden="true" data-prefix="far" data-icon="lightbulb" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg="">' +
                                                '<title>Light bulb</title>' +
                                                '<!-- -->' +
                                                '<path fill="currentColor" d="M272 428v28c0 10.449-6.68 19.334-16 22.629V488c0 13.255-10.745 24-24 24h-80c-13.255 0-24-10.745-24-24v-9.371c-9.32-3.295-16-12.18-16-22.629v-28c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12zM128 176c0-35.29 28.71-64 64-64 8.837 0 16-7.164 16-16s-7.163-16-16-16c-52.935 0-96 43.065-96 96 0 8.836 7.164 16 16 16s16-7.164 16-16zm64-128c70.734 0 128 57.254 128 128 0 77.602-37.383 60.477-80.98 160h-94.04C101.318 236.33 64 253.869 64 176c0-70.735 57.254-128 128-128m0-48C94.805 0 16 78.803 16 176c0 101.731 51.697 91.541 90.516 192.674 3.55 9.249 12.47 15.326 22.376 15.326h126.215c9.906 0 18.826-6.078 22.376-15.326C316.303 267.541 368 277.731 368 176 368 78.803 289.195 0 192 0z"></path>' +
                                                '<!-- -->' +
                                            '</svg>' +
                                            '</span>' +
                                        '</span>' +
                                        '<p>Make a suggestion</p>' +
                                    '</div>' +
                                '</div>' +
                                '<div class="fba-mode-wrapper" role="tablist">' +
                                    '<div class="fba-mode-title">Please select' +
                                        '<button class="close-mode">' +
                                            '<svg class="svg-inline--fa fa-times fa-w-11" aria-hidden="true" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" data-fa-i2svg="">' +
                                                '<title>Close</title>' +
                                                '<!-- -->' +
                                                '<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path>' +
                                                '<!-- -->' +
                                            '</svg>' +
                                        '</button>' +
                                    '</div>' +
                                    '<div class="fba-mode-item' + getModeClass(mode.train) + '">' +
                                        '<div class="tab transport-mode" transport-mode="train" role="tab" tabindex="0">' +
                                            '<div class="icon">' +
                                                '<svg id="tp_train" viewBox="0 0 30 30" width="100%" height="100%">' +
                                                    '<title>Train mode</title>' +
                                                    '<!-- -->' +
                                                    '<path fill="#f18500" stroke="#ccc" stroke-width="3" d="M15 28.58A13.58 13.58 0 1 1 28.58 15 13.6 13.6 0 0 1 15 28.58"></path>' +
                                                    '<path fill="#fff" d="M15 .26A14.74 14.74 0 1 0 29.74 15 14.76 14.76 0 0 0 15 .26m0 2.32A12.42 12.42 0 1 1 2.58 15 12.44 12.44 0 0 1 15 2.58"></path>' +
                                                    '<path fill="#fff" d="M13.76 23.52a.3.3 0 0 1-.27-.29V10.88h-4a.3.3 0 0 1-.27-.31v-2a.28.28 0 0 1 .27-.29h11.04a.28.28 0 0 1 .27.29v2a.3.3 0 0 1-.27.31h-4v12.35a.29.29 0 0 1-.29.29h-2.48z"></path>' +
                                                    '<!-- -->' +
                                                '</svg>' +
                                            '</div>' +
                                            '<div class="title">Train</div>' +
                                        '</div>' +
                                    '</div>' +
                                    '<div class="fba-mode-item' + getModeClass(mode.bus) + '">' +
                                        '<div class="tab transport-mode" transport-mode="bus" role="tab" tabindex="0">' +
                                            '<div class="icon">' +
                                                '<svg id="tp_bus" viewBox="0 0 30 30" width="100%" height="100%">' +
                                                    '<title>Bus mode</title>' +
                                                    '<!-- -->' +
                                                    '<path fill="#00ade9" stroke="#ccc" stroke-width="3" d="M15 28.58A13.58 13.58 0 1 1 28.58 15 13.6 13.6 0 0 1 15 28.58"></path>' +
                                                    '<path fill="#fff" d="M15 .26A14.74 14.74 0 1 0 29.74 15 14.76 14.76 0 0 0 15 .26m0 2.32A12.42 12.42 0 1 1 2.58 15 12.44 12.44 0 0 1 15 2.58"></path>' +
                                                    '<path fill="#fff" d="M15.1 20.16c1.92 0 2.82-.46 2.82-2s-.94-2-2.42-2h-2.36v4h2zm2.42-8.34c0-1.35-.94-1.73-2.59-1.73h-1.79v3.69h2c1.73 0 2.4-.71 2.4-1.73v-.23zm-7.38 11V7.55h5.73c3 0 4.59 1.52 4.59 3.78v.33a3.26 3.26 0 0 1-2.17 3.21 3.28 3.28 0 0 1 2.63 3.46v.27c0 2.46-1.83 4.21-5.06 4.21h-5.72z"></path>' +
                                                    '<!-- -->' +
                                                '</svg>' +
                                            '</div>' +
                                            '<div class="title">Bus</div>' +
                                        '</div>' +
                                    '</div>' +
                                    '<div class="fba-mode-item' + getModeClass(mode.ferry) + '">' +
                                        '<div class="tab transport-mode" transport-mode="ferry" role="tab" tabindex="0">' +
                                            '<div class="icon">' +
                                                '<svg id="tp_ferry" viewBox="0 0 30 30" width="100%" height="100%">' +
                                                    '<title>Ferry mode</title>' +
                                                    '<!-- -->' +
                                                    '<path fill="#5ab031" stroke="#ccc" stroke-width="3" d="M15 28.58A13.58 13.58 0 1 1 28.58 15 13.6 13.6 0 0 1 15 28.58"></path>' +
                                                    '<path fill="#fff" d="M15 .26A14.74 14.74 0 1 0 29.74 15 14.76 14.76 0 0 0 15 .26m0 2.32A12.42 12.42 0 1 1 2.58 15 12.44 12.44 0 0 1 15 2.58"></path>' +
                                                    '<path fill="#fff" d="M11.42 23.07a.27.27 0 0 1-.29-.29v-15h8.23a.29.29 0 0 1 .31.29v2a.29.29 0 0 1-.29.33h-5.25v4h4.82a.28.28 0 0 1 .27.31v2a.27.27 0 0 1-.27.29h-4.82v5.75a.28.28 0 0 1-.27.29h-2.44z"></path>' +
                                                    '<!-- -->' +
                                                '</svg>' +
                                            '</div>' +
                                            '<div class="title">Ferry</div>' +
                                        '</div>' +
                                    '</div>' +
                                    '<div class="fba-mode-item' + getModeClass(mode.lightRail) + '">' +
                                        '<div class="tab transport-mode" transport-mode="light rail" role="tab" tabindex="0">' +
                                            '<div class="icon">' +
                                                '<svg id="tp_lightrail" viewBox="0 0 30 30" width="100%" height="100%">' +
                                                    '<title>Light rail mode</title>' +
                                                    '<!-- -->' +
                                                    '<path fill="#e62a32" stroke="#ccc" stroke-width="3" d="M15 28.58A13.58 13.58 0 1 1 28.58 15 13.6 13.6 0 0 1 15 28.58"></path>' +
                                                    '<path fill="#fff" d="M15 .26A14.74 14.74 0 1 0 29.74 15 14.76 14.76 0 0 0 15 .26m0 2.32A12.42 12.42 0 1 1 2.58 15 12.44 12.44 0 0 1 15 2.58"></path>' +
                                                    '<path fill="#fff" d="M10.95 22.14v-15a.28.28 0 0 1 .27-.27h2.46a.28.28 0 0 1 .27.27V19.5h6a.29.29 0 0 1 .29.36v2a.28.28 0 0 1-.27.29h-9z"></path>' +
                                                    '<!-- -->' +
                                                '</svg>' +
                                            '</div>' +
                                            '<div class="title">Light rail</div>' +
                                        '</div>' +
                                    '</div>' +
                                    '<div class="fba-mode-item regional' + getModeClass(mode.nswTC) + '">' +
                                        '<div class="tab transport-mode" transport-mode="NSWTrain" role="tab" tabindex="0">' +
                                            '<div class="icon">' +
                                                '<svg id="tp_regional-train" viewBox="0 0 30 30" height="100%">' +
                                                    '<title>Regional Train and Regional Coach network icon</title>' +
                                                    '<!-- -->' +
                                                    '<path fill="#E26D23" stroke="#ccc" stroke-width="3" d="M15 28.58A13.58 13.58 0 1 1 28.58 15 13.6 13.6 0 0 1 15 28.58"></path>' +
                                                    '<path fill="#fff" d="M15 .26A14.74 14.74 0 1 0 29.74 15 14.76 14.76 0 0 0 15 .26m0 2.32A12.42 12.42 0 1 1 2.58 15 12.44 12.44 0 0 1 15 2.58"></path>' +
                                                    '<path fill="#fff" d="M13.76 23.52a.3.3 0 0 1-.27-.29V10.88h-4a.3.3 0 0 1-.27-.31v-2a.28.28 0 0 1 .27-.29h11.04a.28.28 0 0 1 .27.29v2a.3.3 0 0 1-.27.31h-4v12.35a.29.29 0 0 1-.29.29h-2.48z"></path>' +
                                                    '<!-- -->' +
                                                    '</svg>' +
                                                    '<svg id="tp_coach" viewBox="0 0 30 30" height="100%">' +
                                                    '<title>Coach</title>' +
                                                    '<!-- -->' +
                                                    '<path fill="#742283" stroke="#ccc" stroke-width="3" d="M15 28.41A13.41 13.41 0 1 1 28.41 15 13.43 13.43 0 0 1 15 28.41"></path>' +
                                                    '<path fill="#fff" d="M19.9 18.51c.34.12.28.38.16.76a5 5 0 0 1-4.85 3.27c-3.63 0-5.41-1.87-5.41-5.21V12.8c0-3.09 1.74-5.35 5.45-5.35 3.06 0 4.43 1.66 4.91 3.47a.46.46 0 0 1-.26.64l-1.7.52a.43.43 0 0 1-.62-.34A2.18 2.18 0 0 0 15.21 10c-1.68 0-2.53 1.21-2.53 3.11V17c0 1.9.9 3.05 2.55 3.05a2.23 2.23 0 0 0 2.35-1.86.46.46 0 0 1 .64-.32z"></path>' +
                                                    '<path fill="#fff" d="M15 2.58A12.42 12.42 0 1 1 2.58 15 12.44 12.44 0 0 1 15 2.58m0-2.32A14.74 14.74 0 1 0 29.74 15 14.76 14.76 0 0 0 15 .26"></path>' +
                                                    '<!-- -->' +
                                                '</svg>' +
                                            '</div>' +
                                            '<div class="title">NSW TrainLink</div>' +
                                        '</div>' +
                                    '</div>' +
                                    '<div class="fba-mode-item' + getModeClass(mode.ticketsAndFares) + '">' +
                                        '<div class="tab transport-mode" transport-mode="Non-modal" role="tab" tabindex="0">' +
                                            '<div class="icon">' +
                                                '<svg id="tp_vendor" viewBox="0 0 60 52" height="100%">' +
                                                    '<title>Ticketing icon</title>' +
                                                        '<!-- -->' +
                                                        '<g fill="currentColor" fill-rule="evenodd">' +
                                                        '<path d="M9.818 28.13c-.7.702-.7 1.87 0 2.65.468.468 1.013.623 1.559.546.39-.078.78-.234 1.013-.546.312-.312.468-.623.545-1.013.078-.545-.077-1.169-.545-1.558-.623-.78-1.792-.78-2.572-.078"></path>' +
                                                        '<path d="M21.585 50.34l1.714-1.715-1.48-1.559-1.715 1.715c-.155.155-.39.39-.779 0L3.04 32.494c-.156-.155-.39-.39 0-.779L32.183 2.572c.156-.156.39-.39.779 0l4.13 4.13 1.48-1.481-4.13-4.13c-.779-.78-2.337-1.325-3.74 0L1.558 30.313c-.779.779-1.402 2.337 0 3.74l16.365 16.286c.7.701 2.337 1.325 3.662 0"></path>' +
                                                        '<path d="M18.624 33.118c.701-.702 1.87-.702 2.65 0 .467.467.623 1.013.545 1.558-.078.39-.234.78-.546 1.013a1.862 1.862 0 0 1-1.013.546c-.545.078-1.169-.078-1.558-.546-.857-.701-.857-1.87-.078-2.571m4.987 4.987c.701-.701 1.87-.701 2.65 0 .467.468.623 1.013.545 1.558-.078.39-.234.78-.546 1.013a1.862 1.862 0 0 1-1.013.546c-.545.078-1.168-.078-1.558-.546-.78-.623-.78-1.87-.078-2.571m4.987 4.987c.702-.701 1.87-.701 2.65 0 .467.468.623 1.013.545 1.559-.078.39-.234.779-.545 1.013a1.862 1.862 0 0 1-1.013.545c-.546.078-1.17-.078-1.559-.545-.78-.624-.78-1.793-.078-2.572m15.118-18.935l4.207-4.208.702-.702H45.196c-.078 0-.156-.078-.234-.078l-.078-.078c-.078-.077-.078-.155-.078-.233v-.935c.078-.156.156-.234.312-.234H50.806c.234 0 .39.156.39.39v5.766c0 .234-.156.39-.39.39h-.779c-.233 0-.39-.156-.39-.39v-3.429l-4.83 4.831c-.078.078-.234.078-.39.078-.078 0-.156 0-.156-.078l-.545-.545c-.156-.234-.156-.468 0-.545M14.338 36.702l8.961 8.962 1.48 1.48 2.884 2.883c.701.702 2.572 1.637 4.208 0l27.196-27.195c.7-.702 1.636-2.572 0-4.208L45.742 5.299c-.702-.701-2.572-1.637-4.208 0l-1.48 1.48-1.481 1.481-24.235 24.234c-.701.702-1.636 2.494 0 4.208"></path>' +
                                                    '</g>' +
                                                    '<!-- -->' +
                                                '</svg>' +
                                            '</div>' +
                                            '<div class="title">Tickets and fares</div>' +
                                        '</div>' +
                                    '</div>' +
                                    '<div class="fba-mode-other"><a href="' + feedbackUrl + '">Other</a></div>' +
                                '</div>' +
                            '</div>';

            // incase the load() is inside <head>
            setTimeout( function() {
                var div = document.createElement("div");
                div.innerHTML = s;
                document.getElementsByTagName('body')[0].appendChild(div);

                var types = document.getElementsByClassName('feedback-type');
                for (var i = 0; i < types.length; i++) {
                    types[i].onclick = selectType;
                    types[i].onkeypress = selectType;
                }

                var transportModes = document.getElementsByClassName('transport-mode');
                for (var i = 0; i < transportModes.length; i++) {
                    transportModes[i].onclick = selectTransportMode;
                    transportModes[i].onkeypress = enterTransportMode;
                }

                var yourFeedback = document.getElementsByClassName('fba-title-wrapper')[0];
                yourFeedback.onclick = touchYourFeedback;
                yourFeedback.addEventListener("touchend", touchYourFeedback, false);

                var closeType = document.getElementsByClassName('close-type')[0];
                closeType.onclick = closePanel;
                var closeMode = document.getElementsByClassName('close-mode')[0];
                closeMode.onclick = closePanel;
            }, 200);
        };

        return {
            load: loadFeedbackAssist,
        };
    }

    return {
        // Get the Singleton instance if one exists
        getInstance: function (args) {
            if (!instance) {
                instance = init();
            }
            if (args && args.top !== undefined) {
                top = args.top;
            }
            if (args && args.train !== undefined) {
                mode.train = args.train;
            }
            if (args && args.bus !== undefined) {
                mode.bus = args.bus;
            }
            if (args && args.ferry !== undefined) {
                mode.ferry = args.ferry;
            }
            if (args && args.lightRail !== undefined) {
                mode.lightRail = args.lightRail;
            }
            if (args && args.nswTC !== undefined) {
                mode.nswTC = args.nswTC;
            }
            if (args && args.ticketsAndFares !== undefined) {
                mode.ticketsAndFares = args.ticketsAndFares;
            }
            if (args && args.feedbackUrl !== undefined) {
                feedbackUrl = args.feedbackUrl;
            }
            return instance;
        }
    };
})();;
!function(e){function r(r){for(var n,f,i=r[0],l=r[1],a=r[2],c=0,s=[];c<i.length;c++)o[f=i[c]]&&s.push(o[f][0]),o[f]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++)0!==o[t[i]]&&(n=!1);n&&(u.splice(r--,1),e=f(f.s=t[0]))}return e}var n={},o={0:0},u=[];function f(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,f),t.l=!0,t.exports}f.m=e,f.c=n,f.d=function(e,r,t){f.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(e,r){if(1&r&&(e=f(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(f.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)f.d(t,n,(function(r){return e[r]}).bind(null,n));return t},f.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(r,"a",r),r},f.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},f.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=r,i=i.slice();for(var a=0;a<i.length;a++)r(i[a]);var p=l;t()}([]);;
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+auO":function(e,t,n){var r=n("XKFU"),o=n("lvtm");r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},"+oPb":function(e,t,n){"use strict";n("OGtf")("blink",function(e){return function(){return e(this,"blink","","")}})},"+rLv":function(e,t,n){var r=n("dyZX").document;e.exports=r&&r.documentElement},"/KAi":function(e,t,n){var r=n("XKFU"),o=n("dyZX").isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},"/SS/":function(e,t,n){var r=n("XKFU");r(r.S,"Object",{setPrototypeOf:n("i5dc").set})},"/e88":function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},"0/R4":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"0E+W":function(e,t,n){n("elZq")("Array")},"0LDn":function(e,t,n){"use strict";n("OGtf")("italics",function(e){return function(){return e(this,"i","","")}})},"0TWp":function(e,t,n){!function(){"use strict";!function(e){var t=e.performance;function n(e){t&&t.mark&&t.mark(e)}function r(e,n){t&&t.measure&&t.measure(e,n)}if(n("Zone"),e.Zone)throw new Error("Zone already loaded.");var o,i=function(){function t(e,t){this._properties=null,this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new u(this,this._parent&&this._parent._zoneDelegate,t)}return t.assertZonePatched=function(){if(e.Promise!==x.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(t,"root",{get:function(){for(var e=t.current;e.parent;)e=e.parent;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"current",{get:function(){return F.zone},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currentTask",{get:function(){return j},enumerable:!0,configurable:!0}),t.__load_patch=function(o,i){if(x.hasOwnProperty(o))throw Error("Already loaded patch: "+o);if(!e["__Zone_disable_"+o]){var a="Zone:"+o;n(a),x[o]=i(e,t,_),r(a,a)}},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]},t.prototype.getZoneWith=function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null},t.prototype.fork=function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)},t.prototype.wrap=function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var n=this._zoneDelegate.intercept(this,e,t),r=this;return function(){return r.runGuarded(n,this,arguments,t)}},t.prototype.run=function(e,t,n,r){void 0===t&&(t=void 0),void 0===n&&(n=null),void 0===r&&(r=null),F={parent:F,zone:this};try{return this._zoneDelegate.invoke(this,e,t,n,r)}finally{F=F.parent}},t.prototype.runGuarded=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),F={parent:F,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,n,r)}catch(o){if(this._zoneDelegate.handleError(this,o))throw o}}finally{F=F.parent}},t.prototype.runTask=function(e,t,n){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||v).name+"; Execution: "+this.name+")");if(e.state!==y||e.type!==E){var r=e.state!=k;r&&e._transitionTo(k,b),e.runCount++;var o=j;j=e,F={parent:F,zone:this};try{e.type==T&&e.data&&!e.data.isPeriodic&&(e.cancelFn=null);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(i){if(this._zoneDelegate.handleError(this,i))throw i}}finally{e.state!==y&&e.state!==S&&(e.type==E||e.data&&e.data.isPeriodic?r&&e._transitionTo(b,k):(e.runCount=0,this._updateTaskCount(e,-1),r&&e._transitionTo(y,k,y))),F=F.parent,j=o}}},t.prototype.scheduleTask=function(e){if(e.zone&&e.zone!==this)for(var t=this;t;){if(t===e.zone)throw Error("can not reschedule task to "+this.name+" which is descendants of the original zone "+e.zone.name);t=t.parent}e._transitionTo(m,y);var n=[];e._zoneDelegates=n,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(r){throw e._transitionTo(S,m,y),this._zoneDelegate.handleError(this,r),r}return e._zoneDelegates===n&&this._updateTaskCount(e,1),e.state==m&&e._transitionTo(b,m),e},t.prototype.scheduleMicroTask=function(e,t,n,r){return this.scheduleTask(new s(M,e,t,n,r,null))},t.prototype.scheduleMacroTask=function(e,t,n,r,o){return this.scheduleTask(new s(T,e,t,n,r,o))},t.prototype.scheduleEventTask=function(e,t,n,r,o){return this.scheduleTask(new s(E,e,t,n,r,o))},t.prototype.cancelTask=function(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||v).name+"; Execution: "+this.name+")");e._transitionTo(w,b,k);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(S,w),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(y,w),e.runCount=0,e},t.prototype._updateTaskCount=function(e,t){var n=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(var r=0;r<n.length;r++)n[r]._updateTaskCount(e.type,t)},t.__symbol__=P,t}(),a={name:"",onHasTask:function(e,t,n,r){return e.hasTask(n,r)},onScheduleTask:function(e,t,n,r){return e.scheduleTask(n,r)},onInvokeTask:function(e,t,n,r,o,i){return e.invokeTask(n,r,o,i)},onCancelTask:function(e,t,n,r){return e.cancelTask(n,r)}},u=function(){function e(e,t,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n&&n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:t.zone),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:t.zone),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:t.zone),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:t.zone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:t.zone),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:t.zone),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:t.zone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var r=n&&n.onHasTask;(r||t&&t._hasTaskZS)&&(this._hasTaskZS=r?n:a,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,n.onScheduleTask||(this._scheduleTaskZS=a,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=a,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=a,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}return e.prototype.fork=function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new i(e,t)},e.prototype.intercept=function(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,n):t},e.prototype.invoke=function(e,t,n,r,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,n,r,o):t.apply(n,r)},e.prototype.handleError=function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)},e.prototype.scheduleTask=function(e,t){var n=t;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),(n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t))||(n=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=M)throw new Error("Task is missing scheduleFn.");g(t)}return n},e.prototype.invokeTask=function(e,t,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,n,r):t.callback.apply(n,r)},e.prototype.cancelTask=function(e,t){var n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");n=t.cancelFn(t)}return n},e.prototype.hasTask=function(e,t){try{return this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(n){this.handleError(e,n)}},e.prototype._updateTaskCount=function(e,t){var n=this._taskCounts,r=n[e],o=n[e]=r+t;if(o<0)throw new Error("More tasks executed then were scheduled.");0!=r&&0!=o||this.hasTask(this.zone,{microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:e})},e}(),s=function(){function t(n,r,o,i,a,u){this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=n,this.source=r,this.data=i,this.scheduleFn=a,this.cancelFn=u,this.callback=o;var s=this;this.invoke=n===E&&i&&i.useG?t.invokeTask:function(){return t.invokeTask.call(e,s,this,arguments)}}return t.invokeTask=function(e,t,n){e||(e=this),O++;try{return e.runCount++,e.zone.runTask(e,t,n)}finally{1==O&&d(),O--}},Object.defineProperty(t.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t.prototype.cancelScheduleRequest=function(){this._transitionTo(y,m)},t.prototype._transitionTo=function(e,t,n){if(this._state!==t&&this._state!==n)throw new Error(this.type+" '"+this.source+"': can not transition to '"+e+"', expecting state '"+t+"'"+(n?" or '"+n+"'":"")+", was '"+this._state+"'.");this._state=e,e==y&&(this._zoneDelegates=null)},t.prototype.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId:Object.prototype.toString.call(this)},t.prototype.toJSON=function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}},t}(),c=P("setTimeout"),l=P("Promise"),f=P("then"),h=[],p=!1;function g(t){0===O&&0===h.length&&(o||e[l]&&(o=e[l].resolve(0)),o?o[f](d):e[c](d,0)),t&&h.push(t)}function d(){if(!p){for(p=!0;h.length;){var e=h;h=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.zone.runTask(n,null,null)}catch(r){_.onUnhandledError(r)}}}_.microtaskDrainDone(),p=!1}}var v={name:"NO ZONE"},y="notScheduled",m="scheduling",b="scheduled",k="running",w="canceling",S="unknown",M="microTask",T="macroTask",E="eventTask",x={},_={symbol:P,currentZoneFrame:function(){return F},onUnhandledError:K,microtaskDrainDone:K,scheduleMicroTask:g,showUncaughtError:function(){return!i[P("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:K,patchMethod:function(){return K},bindArguments:function(){return null},setNativePromise:function(e){e&&"function"==typeof e.resolve&&(o=e.resolve(0))}},F={parent:null,zone:new i(null,null)},j=null,O=0;function K(){}function P(e){return"__zone_symbol__"+e}r("Zone","Zone"),e.Zone=i}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",function(e,t,n){var r=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=n.symbol,a=[],u=i("Promise"),s=i("then"),c="__creationTrace__";n.onUnhandledError=function(e){if(n.showUncaughtError()){var t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},n.microtaskDrainDone=function(){for(;a.length;)for(var e=function(){var e=a.shift();try{e.zone.runGuarded(function(){throw e})}catch(t){f(t)}};a.length;)e()};var l=i("unhandledPromiseRejectionHandler");function f(e){n.onUnhandledError(e);try{var r=t[l];r&&"function"==typeof r&&r.call(this,e)}catch(o){}}function h(e){return e&&e.then}function p(e){return e}function g(e){return D.reject(e)}var d=i("state"),v=i("value"),y=i("finally"),m=i("parentPromiseValue"),b=i("parentPromiseState"),k="Promise.then",w=null,S=!0,M=!1,T=0;function E(e,t){return function(n){try{j(e,t,n)}catch(r){j(e,!1,r)}}}var x=function(){var e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},_="Promise resolved with itself",F=i("currentTaskTrace");function j(e,r,i){var u,s=x();if(e===i)throw new TypeError(_);if(e[d]===w){var l=null;try{"object"!=typeof i&&"function"!=typeof i||(l=i&&i.then)}catch(k){return s(function(){j(e,!1,k)})(),e}if(r!==M&&i instanceof D&&i.hasOwnProperty(d)&&i.hasOwnProperty(v)&&i[d]!==w)K(i),j(e,i[d],i[v]);else if(r!==M&&"function"==typeof l)try{l.call(i,s(E(e,r)),s(E(e,!1)))}catch(k){s(function(){j(e,!1,k)})()}else{e[d]=r;var f=e[v];if(e[v]=i,e[y]===y&&r===S&&(e[d]=e[b],e[v]=e[m]),r===M&&i instanceof Error){var h=t.currentTask&&t.currentTask.data&&t.currentTask.data[c];h&&o(i,F,{configurable:!0,enumerable:!1,writable:!0,value:h})}for(var p=0;p<f.length;)P(e,f[p++],f[p++],f[p++],f[p++]);if(0==f.length&&r==M){e[d]=T;try{throw new Error("Uncaught (in promise): "+((u=i)&&u.toString===Object.prototype.toString?(u.constructor&&u.constructor.name||"")+": "+JSON.stringify(u):u?u.toString():Object.prototype.toString.call(u))+(i&&i.stack?"\n"+i.stack:""))}catch(k){var g=k;g.rejection=i,g.promise=e,g.zone=t.current,g.task=t.currentTask,a.push(g),n.scheduleMicroTask()}}}}return e}var O=i("rejectionHandledHandler");function K(e){if(e[d]===T){try{var n=t[O];n&&"function"==typeof n&&n.call(this,{rejection:e[v],promise:e})}catch(o){}e[d]=M;for(var r=0;r<a.length;r++)e===a[r].promise&&a.splice(r,1)}}function P(e,t,n,r,o){K(e);var i=e[d],a=i?"function"==typeof r?r:p:"function"==typeof o?o:g;t.scheduleMicroTask(k,function(){try{var r=e[v],o=n&&y===n[y];o&&(n[m]=r,n[b]=i);var u=t.run(a,void 0,o&&a!==g&&a!==p?[]:[r]);j(n,!0,u)}catch(s){j(n,!1,s)}},n)}var D=function(){function e(t){if(!(this instanceof e))throw new Error("Must be an instanceof Promise.");this[d]=w,this[v]=[];try{t&&t(E(this,S),E(this,M))}catch(n){j(this,!1,n)}}return e.toString=function(){return"function ZoneAwarePromise() { [native code] }"},e.resolve=function(e){return j(new this(null),S,e)},e.reject=function(e){return j(new this(null),M,e)},e.race=function(e){var t,n,r=new this(function(e,r){t=e,n=r});function o(e){r&&(r=t(e))}function i(e){r&&(r=n(e))}for(var a=0,u=e;a<u.length;a++){var s=u[a];h(s)||(s=this.resolve(s)),s.then(o,i)}return r},e.all=function(e){for(var t,n,r=new this(function(e,r){t=e,n=r}),o=0,i=[],a=0,u=e;a<u.length;a++){var s=u[a];h(s)||(s=this.resolve(s)),s.then(function(e){return function(n){i[e]=n,--o||t(i)}}(o),n),o++}return o||t(i),r},e.prototype.then=function(e,n){var r=new this.constructor(null),o=t.current;return this[d]==w?this[v].push(o,r,e,n):P(this,o,r,e,n),r},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=new this.constructor(null);n[y]=y;var r=t.current;return this[d]==w?this[v].push(r,n,e,e):P(this,r,n,e,e),n},e}();D.resolve=D.resolve,D.reject=D.reject,D.race=D.race,D.all=D.all;var A=e[u]=e.Promise,z=t.__symbol__("ZoneAwarePromise"),N=r(e,"Promise");N&&!N.configurable||(N&&delete N.writable,N&&delete N.value,N||(N={configurable:!0,enumerable:!0}),N.get=function(){return e[z]?e[z]:e[u]},N.set=function(t){t===D?e[z]=t:(e[u]=t,t.prototype[s]||L(t),n.setNativePromise(t))},o(e,"Promise",N)),e.Promise=D;var R,I=i("thenPatched");function L(e){var t=e.prototype,n=r(t,"then");if(!n||!1!==n.writable&&n.configurable){var o=t.then;t[s]=o,e.prototype.then=function(e,t){var n=this;return new D(function(e,t){o.call(n,e,t)}).then(e,t)},e[I]=!0}}if(A){L(A);var C=e.fetch;"function"==typeof C&&(e.fetch=(R=C,function(){var e=R.apply(this,arguments);if(e instanceof D)return e;var t=e.constructor;return t[I]||L(t),e}))}return Promise[t.__symbol__("uncaughtPromiseErrors")]=a,D});var e=Object.getOwnPropertyDescriptor,t=Object.defineProperty,n=Object.getPrototypeOf,r=Object.create,o=Array.prototype.slice,i="addEventListener",a="removeEventListener",u=Zone.__symbol__(i),s=Zone.__symbol__(a),c="true",l="false",f="__zone_symbol__";function h(e,t){return Zone.current.wrap(e,t)}function p(e,t,n,r,o){return Zone.current.scheduleMacroTask(e,t,n,r,o)}var g=Zone.__symbol__,d="undefined"!=typeof window,v=d?window:void 0,y=d&&v||"object"==typeof self&&self||global,m="removeAttribute",b=[null];function k(e,t){for(var n=e.length-1;n>=0;n--)"function"==typeof e[n]&&(e[n]=h(e[n],t+"_"+n));return e}function w(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}var S="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,M=!("nw"in y)&&void 0!==y.process&&"[object process]"==={}.toString.call(y.process),T=!M&&!S&&!(!d||!v.HTMLElement),E=void 0!==y.process&&"[object process]"==={}.toString.call(y.process)&&!S&&!(!d||!v.HTMLElement),x={},_=function(e){if(e=e||y.event){var t=x[e.type];t||(t=x[e.type]=g("ON_PROPERTY"+e.type));var n=(this||e.target||y)[t],r=n&&n.apply(this,arguments);return null==r||r||e.preventDefault(),r}};function F(n,r,o){var i=e(n,r);if(!i&&o&&e(o,r)&&(i={enumerable:!0,configurable:!0}),i&&i.configurable){delete i.writable,delete i.value;var a=i.get,u=i.set,s=r.substr(2),c=x[s];c||(c=x[s]=g("ON_PROPERTY"+s)),i.set=function(e){var t=this;t||n!==y||(t=y),t&&(t[c]&&t.removeEventListener(s,_),u&&u.apply(t,b),"function"==typeof e?(t[c]=e,t.addEventListener(s,_,!1)):t[c]=null)},i.get=function(){var e=this;if(e||n!==y||(e=y),!e)return null;var t=e[c];if(t)return t;if(a){var o=a&&a.call(this);if(o)return i.set.call(this,o),"function"==typeof e[m]&&e.removeAttribute(r),o}return null},t(n,r,i)}}function j(e,t,n){if(t)for(var r=0;r<t.length;r++)F(e,"on"+t[r],n);else{var o=[];for(var i in e)"on"==i.substr(0,2)&&o.push(i);for(var a=0;a<o.length;a++)F(e,o[a],n)}}var O=g("originalInstance");function K(e){var n=y[e];if(n){y[g(e)]=n,y[e]=function(){var t=k(arguments,e);switch(t.length){case 0:this[O]=new n;break;case 1:this[O]=new n(t[0]);break;case 2:this[O]=new n(t[0],t[1]);break;case 3:this[O]=new n(t[0],t[1],t[2]);break;case 4:this[O]=new n(t[0],t[1],t[2],t[3]);break;default:throw new Error("Arg list too long.")}},D(y[e],n);var r,o=new n(function(){});for(r in o)"XMLHttpRequest"===e&&"responseBlob"===r||function(n){"function"==typeof o[n]?y[e].prototype[n]=function(){return this[O][n].apply(this[O],arguments)}:t(y[e].prototype,n,{set:function(t){"function"==typeof t?(this[O][n]=h(t,e+"."+n),D(this[O][n],t)):this[O][n]=t},get:function(){return this[O][n]}})}(r);for(r in n)"prototype"!==r&&n.hasOwnProperty(r)&&(y[e][r]=n[r])}}function P(t,r,o){for(var i=t;i&&!i.hasOwnProperty(r);)i=n(i);!i&&t[r]&&(i=t);var a,u=g(r);if(i&&!(a=i[u])&&(a=i[u]=i[r],w(i&&e(i,r)))){var s=o(a,u,r);i[r]=function(){return s(this,arguments)},D(i[r],a)}return a}function D(e,t){e[g("OriginalDelegate")]=t}var A=!1,z=!1;function N(){if(A)return z;A=!0;try{var e=v.navigator.userAgent;return-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(z=!0),z}catch(t){}}Zone.__load_patch("toString",function(e){var t=Function.prototype.toString,n=g("OriginalDelegate"),r=g("Promise"),o=g("Error"),i=function(){if("function"==typeof this){var i=this[n];if(i)return"function"==typeof i?t.apply(this[n],arguments):Object.prototype.toString.call(i);if(this===Promise){var a=e[r];if(a)return t.apply(a,arguments)}if(this===Error){var u=e[o];if(u)return t.apply(u,arguments)}}return t.apply(this,arguments)};i[n]=t,Function.prototype.toString=i;var a=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":a.apply(this,arguments)}});var R={useG:!0},I={},L={},C=/^__zone_symbol__(\w+)(true|false)$/,U="__zone_symbol__propagationStopped";function X(e,t,r){var o=r&&r.add||i,u=r&&r.rm||a,s=r&&r.listeners||"eventListeners",h=r&&r.rmAll||"removeAllListeners",p=g(o),d="."+o+":",v="prependListener",y="."+v+":",m=function(e,t,n){if(!e.isRemoved){var r=e.callback;"object"==typeof r&&r.handleEvent&&(e.callback=function(e){return r.handleEvent(e)},e.originalDelegate=r),e.invoke(e,t,[n]);var o=e.options;o&&"object"==typeof o&&o.once&&t[u].call(t,n.type,e.originalDelegate?e.originalDelegate:e.callback,o)}},b=function(t){if(t=t||e.event){var n=this||t.target||e,r=n[I[t.type][l]];if(r)if(1===r.length)m(r[0],n,t);else for(var o=r.slice(),i=0;i<o.length&&(!t||!0!==t[U]);i++)m(o[i],n,t)}},k=function(t){if(t=t||e.event){var n=this||t.target||e,r=n[I[t.type][c]];if(r)if(1===r.length)m(r[0],n,t);else for(var o=r.slice(),i=0;i<o.length&&(!t||!0!==t[U]);i++)m(o[i],n,t)}};function w(t,r){if(!t)return!1;var i=!0;r&&void 0!==r.useG&&(i=r.useG);var a=r&&r.vh,m=!0;r&&void 0!==r.chkDup&&(m=r.chkDup);var w=!1;r&&void 0!==r.rt&&(w=r.rt);for(var S=t;S&&!S.hasOwnProperty(o);)S=n(S);if(!S&&t[o]&&(S=t),!S)return!1;if(S[p])return!1;var M,T={},E=S[p]=S[o],x=S[g(u)]=S[u],_=S[g(s)]=S[s],F=S[g(h)]=S[h];r&&r.prepend&&(M=S[g(r.prepend)]=S[r.prepend]);var j=i?function(){if(!T.isExisting)return E.call(T.target,T.eventName,T.capture?k:b,T.options)}:function(e){return E.call(T.target,T.eventName,e.invoke,T.options)},O=i?function(e){if(!e.isRemoved){var t=I[e.eventName],n=void 0;t&&(n=t[e.capture?c:l]);var r=n&&e.target[n];if(r)for(var o=0;o<r.length;o++)if(r[o]===e){r.splice(o,1),e.isRemoved=!0,0===r.length&&(e.allRemoved=!0,e.target[n]=null);break}}if(e.allRemoved)return x.call(e.target,e.eventName,e.capture?k:b,e.options)}:function(e){return x.call(e.target,e.eventName,e.invoke,e.options)},K=r&&r.diff?r.diff:function(e,t){var n=typeof t;return"function"===n&&e.callback===t||"object"===n&&e.originalDelegate===t},P=Zone[Zone.__symbol__("BLACK_LISTED_EVENTS")],A=function(t,n,r,o,u,s){return void 0===u&&(u=!1),void 0===s&&(s=!1),function(){var h=this||e,p=arguments[1];if(!p)return t.apply(this,arguments);var g=!1;if("function"!=typeof p){if(!p.handleEvent)return t.apply(this,arguments);g=!0}if(!a||a(t,p,h,arguments)){var d,v=arguments[0],y=arguments[2];if(P)for(var b=0;b<P.length;b++)if(v===P[b])return t.apply(this,arguments);var k=!1;void 0===y?d=!1:!0===y?d=!0:!1===y?d=!1:(d=!!y&&!!y.capture,k=!!y&&!!y.once);var w,S=Zone.current,M=I[v];if(M)w=M[d?c:l];else{var E=f+(v+l),x=f+(v+c);I[v]={},I[v][l]=E,I[v][c]=x,w=d?x:E}var _,F=h[w],j=!1;if(F){if(j=!0,m)for(b=0;b<F.length;b++)if(K(F[b],p))return}else F=h[w]=[];var O=h.constructor.name,D=L[O];D&&(_=D[v]),_||(_=O+n+v),T.options=y,k&&(T.options.once=!1),T.target=h,T.capture=d,T.eventName=v,T.isExisting=j;var A=i?R:null;A&&(A.taskData=T);var z=S.scheduleEventTask(_,p,A,r,o);return T.target=null,A&&(A.taskData=null),k&&(y.once=!0),z.options=y,z.target=h,z.capture=d,z.eventName=v,g&&(z.originalDelegate=p),s?F.unshift(z):F.push(z),u?h:void 0}}};return S[o]=A(E,d,j,O,w),M&&(S[v]=A(M,y,function(e){return M.call(T.target,T.eventName,e.invoke,T.options)},O,w,!0)),S[u]=function(){var t,n=this||e,r=arguments[0],o=arguments[2];t=void 0!==o&&(!0===o||!1!==o&&!!o&&!!o.capture);var i=arguments[1];if(!i)return x.apply(this,arguments);if(!a||a(x,i,n,arguments)){var u,s=I[r];s&&(u=s[t?c:l]);var f=u&&n[u];if(f)for(var h=0;h<f.length;h++){var p=f[h];if(K(p,i))return f.splice(h,1),p.isRemoved=!0,0===f.length&&(p.allRemoved=!0,n[u]=null),p.zone.cancelTask(p),w?n:void 0}return x.apply(this,arguments)}},S[s]=function(){for(var t=[],n=Z(this||e,arguments[0]),r=0;r<n.length;r++){var o=n[r];t.push(o.originalDelegate?o.originalDelegate:o.callback)}return t},S[h]=function(){var t=this||e,n=arguments[0];if(n){var r=I[n];if(r){var o=t[r[l]],i=t[r[c]];if(o){var a=o.slice();for(p=0;p<a.length;p++)this[u].call(this,n,(s=a[p]).originalDelegate?s.originalDelegate:s.callback,s.options)}if(i)for(a=i.slice(),p=0;p<a.length;p++){var s;this[u].call(this,n,(s=a[p]).originalDelegate?s.originalDelegate:s.callback,s.options)}}}else{for(var f=Object.keys(t),p=0;p<f.length;p++){var g=C.exec(f[p]),d=g&&g[1];d&&"removeListener"!==d&&this[h].call(this,d)}this[h].call(this,"removeListener")}if(w)return this},D(S[o],E),D(S[u],x),F&&D(S[h],F),_&&D(S[s],_),!0}for(var S=[],M=0;M<t.length;M++)S[M]=w(t[M],r);return S}function Z(e,t){var n=[];for(var r in e){var o=C.exec(r),i=o&&o[1];if(i&&(!t||i===t)){var a=e[r];if(a)for(var u=0;u<a.length;u++)n.push(a[u])}}return n}var H=g("zoneTask");function J(e,t,n,r){var o=null,i=null;n+=r;var a={};function u(t){var n=t.data;return n.args[0]=function(){try{t.invoke.apply(this,arguments)}finally{t.data&&t.data.isPeriodic||("number"==typeof n.handleId?delete a[n.handleId]:n.handleId&&(n.handleId[H]=null))}},n.handleId=o.apply(e,n.args),t}function s(e){return i(e.data.handleId)}o=P(e,t+=r,function(n){return function(o,i){if("function"==typeof i[0]){var c=p(t,i[0],{handleId:null,isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?i[1]||0:null,args:i},u,s);if(!c)return c;var l=c.data.handleId;return"number"==typeof l?a[l]=c:l&&(l[H]=c),l&&l.ref&&l.unref&&"function"==typeof l.ref&&"function"==typeof l.unref&&(c.ref=l.ref.bind(l),c.unref=l.unref.bind(l)),"number"==typeof l||l?l:c}return n.apply(e,i)}}),i=P(e,n,function(t){return function(n,r){var o,i=r[0];"number"==typeof i?o=a[i]:(o=i&&i[H])||(o=i),o&&"string"==typeof o.type?"notScheduled"!==o.state&&(o.cancelFn&&o.data.isPeriodic||0===o.runCount)&&("number"==typeof i?delete a[i]:i&&(i[H]=null),o.zone.cancelTask(o)):t.apply(e,r)}})}var G=Object[g("defineProperty")]=Object.defineProperty,q=Object[g("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,B=Object.create,W=g("unconfigurables");function V(e,t){return e&&e[W]&&e[W][t]}function Y(e,t,n){return Object.isFrozen(n)||(n.configurable=!0),n.configurable||(e[W]||Object.isFrozen(e)||G(e,W,{writable:!0,value:{}}),e[W]&&(e[W][t]=!0)),n}function Q(e,t,n,r){try{return G(e,t,n)}catch(i){if(!n.configurable)throw i;void 0===r?delete n.configurable:n.configurable=r;try{return G(e,t,n)}catch(i){var o=null;try{o=JSON.stringify(n)}catch(i){o=n.toString()}console.log("Attempting to configure '"+t+"' with descriptor '"+o+"' on object '"+e+"' and got error, giving up: "+i)}}}var $=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],ee=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],te=["load"],ne=["blur","error","focus","load","resize","scroll","messageerror"],re=["bounce","finish","start"],oe=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],ie=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],ae=["close","error","open","message"],ue=["error","message"],se=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange"],$,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function ce(e,t,n,r){e&&j(e,function(e,t,n){if(!n)return t;var r=n.filter(function(t){return t.target===e});if(!r||0===r.length)return t;var o=r[0].ignoreProperties;return t.filter(function(e){return-1===o.indexOf(e)})}(e,t,n),r)}function le(u,s){if(!M||E){var c="undefined"!=typeof WebSocket;if(function(){if((T||E)&&!e(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var n=e(Element.prototype,"onclick");if(n&&!n.configurable)return!1}var r=XMLHttpRequest.prototype,o=e(r,"onreadystatechange");if(o){t(r,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}});var i=!!(u=new XMLHttpRequest).onreadystatechange;return t(r,"onreadystatechange",o||{}),i}var a=g("fake");t(r,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return this[a]},set:function(e){this[a]=e}});var u,s=function(){};return(u=new XMLHttpRequest).onreadystatechange=s,i=u[a]===s,u.onreadystatechange=null,i}()){var l=s.__Zone_ignore_on_properties;if(T){var f=window;ce(f,se.concat(["messageerror"]),l,n(f)),ce(Document.prototype,se,l),void 0!==f.SVGElement&&ce(f.SVGElement.prototype,se,l),ce(Element.prototype,se,l),ce(HTMLElement.prototype,se,l),ce(HTMLMediaElement.prototype,ee,l),ce(HTMLFrameSetElement.prototype,$.concat(ne),l),ce(HTMLBodyElement.prototype,$.concat(ne),l),ce(HTMLFrameElement.prototype,te,l),ce(HTMLIFrameElement.prototype,te,l);var p=f.HTMLMarqueeElement;p&&ce(p.prototype,re,l);var d=f.Worker;d&&ce(d.prototype,ue,l)}ce(XMLHttpRequest.prototype,oe,l);var v=s.XMLHttpRequestEventTarget;v&&ce(v&&v.prototype,oe,l),"undefined"!=typeof IDBIndex&&(ce(IDBIndex.prototype,ie,l),ce(IDBRequest.prototype,ie,l),ce(IDBOpenDBRequest.prototype,ie,l),ce(IDBDatabase.prototype,ie,l),ce(IDBTransaction.prototype,ie,l),ce(IDBCursor.prototype,ie,l)),c&&ce(WebSocket.prototype,ae,l)}else!function(){for(var e=function(e){var t=se[e],n="on"+t;self.addEventListener(t,function(e){var t,r,o=e.target;for(r=o?o.constructor.name+"."+n:"unknown."+n;o;)o[n]&&!o[n][fe]&&((t=h(o[n],r))[fe]=o[n],o[n]=t),o=o.parentElement},!0)},t=0;t<se.length;t++)e(t)}(),K("XMLHttpRequest"),c&&function(t,n){var u=n.WebSocket;n.EventTarget||X(n,[u.prototype]),n.WebSocket=function(t,n){var s,c,l=arguments.length>1?new u(t,n):new u(t),f=e(l,"onmessage");return f&&!1===f.configurable?(s=r(l),c=l,[i,a,"send","close"].forEach(function(e){s[e]=function(){var t=o.call(arguments);if(e===i||e===a){var n=t.length>0?t[0]:void 0;if(n){var r=Zone.__symbol__("ON_PROPERTY"+n);l[r]=s[r]}}return l[e].apply(l,t)}})):s=l,j(s,["close","error","message","open"],c),s};var s=n.WebSocket;for(var c in u)s[c]=u[c]}(0,s)}}var fe=g("unbound");Zone.__load_patch("util",function(e,t,n){n.patchOnProperties=j,n.patchMethod=P,n.bindArguments=k}),Zone.__load_patch("timers",function(e){J(e,"set","clear","Timeout"),J(e,"set","clear","Interval"),J(e,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",function(e){J(e,"request","cancel","AnimationFrame"),J(e,"mozRequest","mozCancel","AnimationFrame"),J(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",function(e,t){for(var n=["alert","prompt","confirm"],r=0;r<n.length;r++)P(e,n[r],function(n,r,o){return function(r,i){return t.current.run(n,e,i,o)}})}),Zone.__load_patch("EventTarget",function(e,t,n){var r=t.__symbol__("BLACK_LISTED_EVENTS");e[r]&&(t[r]=e[r]),function(e,t){!function(e,t){var n=e.Event;n&&n.prototype&&t.patchMethod(n.prototype,"stopImmediatePropagation",function(e){return function(t,n){t[U]=!0,e&&e.apply(t,n)}})}(e,t)}(e,n),function(e,t){var n="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video",r="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),o=[],i=e.wtf,a=n.split(",");i?o=a.map(function(e){return"HTML"+e+"Element"}).concat(r):e.EventTarget?o.push("EventTarget"):o=r;for(var u=e.__Zone_disable_IE_check||!1,s=e.__Zone_enable_cross_context_check||!1,h=N(),p="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",g=0;g<se.length;g++){var d=f+((k=se[g])+l),v=f+(k+c);I[k]={},I[k][l]=d,I[k][c]=v}for(g=0;g<n.length;g++)for(var y=a[g],m=L[y]={},b=0;b<se.length;b++){var k;m[k=se[b]]=y+".addEventListener:"+k}var w=[];for(g=0;g<o.length;g++){var S=e[o[g]];w.push(S&&S.prototype)}X(e,w,{vh:function(e,t,n,r){if(!u&&h){if(s)try{var o;if("[object FunctionWrapper]"===(o=t.toString())||o==p)return e.apply(n,r),!1}catch(i){return e.apply(n,r),!1}else if("[object FunctionWrapper]"===(o=t.toString())||o==p)return e.apply(n,r),!1}else if(s)try{t.toString()}catch(i){return e.apply(n,r),!1}return!0}}),t.patchEventTarget=X}(e,n);var o=e.XMLHttpRequestEventTarget;o&&o.prototype&&n.patchEventTarget(e,[o.prototype]),K("MutationObserver"),K("WebKitMutationObserver"),K("IntersectionObserver"),K("FileReader")}),Zone.__load_patch("on_property",function(t,n,r){le(0,t),Object.defineProperty=function(e,t,n){if(V(e,t))throw new TypeError("Cannot assign to read only property '"+t+"' of "+e);var r=n.configurable;return"prototype"!==t&&(n=Y(e,t,n)),Q(e,t,n,r)},Object.defineProperties=function(e,t){return Object.keys(t).forEach(function(n){Object.defineProperty(e,n,t[n])}),e},Object.create=function(e,t){return"object"!=typeof t||Object.isFrozen(t)||Object.keys(t).forEach(function(n){t[n]=Y(e,n,t[n])}),B(e,t)},Object.getOwnPropertyDescriptor=function(e,t){var n=q(e,t);return V(e,t)&&(n.configurable=!1),n},function(n){if((T||E)&&"registerElement"in t.document){var r=document.registerElement,o=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(t,n){return n&&n.prototype&&o.forEach(function(t){var r,o,i,a,u="Document.registerElement::"+t,s=n.prototype;if(s.hasOwnProperty(t)){var c=e(s,t);c&&c.value?(c.value=h(c.value,u),a=(i=c).configurable,Q(r=n.prototype,o=t,i=Y(r,o,i),a)):s[t]=h(s[t],u)}else s[t]&&(s[t]=h(s[t],u))}),r.call(document,t,n)},D(document.registerElement,r)}}()}),Zone.__load_patch("canvas",function(e){var t=e.HTMLCanvasElement;void 0!==t&&t.prototype&&t.prototype.toBlob&&function(e,n,r){var o=null;function i(e){var t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},o.apply(t.target,t.args),e}o=P(t.prototype,"toBlob",function(e){return function(t,n){var r=function(e,t){return{name:"HTMLCanvasElement.toBlob",target:e,cbIdx:0,args:t}}(t,n);return r.cbIdx>=0&&"function"==typeof n[r.cbIdx]?p(r.name,n[r.cbIdx],r,i,null):e.apply(t,n)}})}()}),Zone.__load_patch("XHR",function(e,t){!function(t){var c=XMLHttpRequest.prototype,l=c[u],f=c[s];if(!l){var h=e.XMLHttpRequestEventTarget;if(h){var g=h.prototype;l=g[u],f=g[s]}}var d="readystatechange",v="scheduled";function y(e){XMLHttpRequest[i]=!1;var t=e.data,r=t.target,a=r[o];l||(l=r[u],f=r[s]),a&&f.call(r,d,a);var c=r[o]=function(){r.readyState===r.DONE&&!t.aborted&&XMLHttpRequest[i]&&e.state===v&&e.invoke()};return l.call(r,d,c),r[n]||(r[n]=e),w.apply(r,t.args),XMLHttpRequest[i]=!0,e}function m(){}function b(e){var t=e.data;return t.aborted=!0,S.apply(t.target,t.args)}var k=P(c,"open",function(){return function(e,t){return e[r]=0==t[2],e[a]=t[1],k.apply(e,t)}}),w=P(c,"send",function(){return function(e,t){return e[r]?w.apply(e,t):p("XMLHttpRequest.send",m,{target:e,url:e[a],isPeriodic:!1,delay:null,args:t,aborted:!1},y,b)}}),S=P(c,"abort",function(){return function(e){var t=e[n];if(t&&"string"==typeof t.type){if(null==t.cancelFn||t.data&&t.data.aborted)return;t.zone.cancelTask(t)}}})}();var n=g("xhrTask"),r=g("xhrSync"),o=g("xhrListener"),i=g("xhrScheduled"),a=g("xhrURL")}),Zone.__load_patch("geolocation",function(t){t.navigator&&t.navigator.geolocation&&function(t,n){for(var r=t.constructor.name,o=function(o){var i=n[o],a=t[i];if(a){if(!w(e(t,i)))return"continue";t[i]=function(e){var t=function(){return e.apply(this,k(arguments,r+"."+i))};return D(t,e),t}(a)}},i=0;i<n.length;i++)o(i)}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",function(e,t){function n(t){return function(n){Z(e,t).forEach(function(r){var o=e.PromiseRejectionEvent;if(o){var i=new o(t,{promise:n.promise,reason:n.rejection});r.invoke(i)}})}}e.PromiseRejectionEvent&&(t[g("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),t[g("rejectionHandledHandler")]=n("rejectionhandled"))})}()},"0YWM":function(e,t,n){var r=n("EemH"),o=n("OP3Y"),i=n("aagx"),a=n("XKFU"),u=n("0/R4"),s=n("y3w9");a(a.S,"Reflect",{get:function e(t,n){var a,c,l=arguments.length<3?t:arguments[2];return s(t)===l?t[n]:(a=r.f(t,n))?i(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:u(c=o(t))?e(c,n,l):void 0}})},"0l/t":function(e,t,n){"use strict";var r=n("XKFU"),o=n("CkkT")(2);r(r.P+r.F*!n("LyE8")([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},"0mN4":function(e,t,n){"use strict";n("OGtf")("fixed",function(e){return function(){return e(this,"tt","","")}})},"0sh+":function(e,t,n){var r=n("quPj"),o=n("vhPU");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},1:function(e,t,n){e.exports=n("hN/g")},"11IZ":function(e,t,n){var r=n("dyZX").parseFloat,o=n("qncB").trim;e.exports=1/r(n("/e88")+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},"1MBn":function(e,t,n){var r=n("DVgA"),o=n("JiEa"),i=n("UqcF");e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},"1TsA":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"1sa7":function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},2:function(e,t){},"25dN":function(e,t,n){var r=n("XKFU");r(r.S,"Object",{is:n("g6HL")})},"2OiF":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"2Spj":function(e,t,n){var r=n("XKFU");r(r.P,"Function",{bind:n("8MEG")})},"2atp":function(e,t,n){var r=n("XKFU"),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},"3Lyj":function(e,t,n){var r=n("KroJ");e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},"3xty":function(e,t,n){var r=n("XKFU"),o=n("2OiF"),i=n("y3w9"),a=(n("dyZX").Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n("eeVq")(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),s=i(n);return a?a(r,t,s):u.call(r,t,s)}})},"45Tv":function(e,t,n){var r=n("N6cJ"),o=n("y3w9"),i=n("OP3Y"),a=r.has,u=r.get,s=r.key,c=function(e,t,n){if(a(e,t,n))return u(e,t,n);var r=i(t);return null!==r?c(e,r,n):void 0};r.exp({getMetadata:function(e,t){return c(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},"49D4":function(e,t,n){var r=n("N6cJ"),o=n("y3w9"),i=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,o(n),i(r))}})},"4A4+":function(e,t,n){n("2Spj"),n("f3/d"),n("IXt9"),e.exports=n("g3g5").Function},"4LiD":function(e,t,n){"use strict";var r=n("dyZX"),o=n("XKFU"),i=n("KroJ"),a=n("3Lyj"),u=n("Z6vF"),s=n("SlkY"),c=n("9gX7"),l=n("0/R4"),f=n("eeVq"),h=n("XMVh"),p=n("fyDq"),g=n("Xbzi");e.exports=function(e,t,n,d,v,y){var m=r[e],b=m,k=v?"set":"add",w=b&&b.prototype,S={},M=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(y||w.forEach&&!f(function(){(new b).entries().next()}))){var T=new b,E=T[k](y?{}:-0,1)!=T,x=f(function(){T.has(1)}),_=h(function(e){new b(e)}),F=!y&&f(function(){for(var e=new b,t=5;t--;)e[k](t,t);return!e.has(-0)});_||((b=t(function(t,n){c(t,b,e);var r=g(new m,t,b);return null!=n&&s(n,v,r[k],r),r})).prototype=w,w.constructor=b),(x||F)&&(M("delete"),M("has"),v&&M("get")),(F||E)&&M(k),y&&w.clear&&delete w.clear}else b=d.getConstructor(t,e,v,k),a(b.prototype,n),u.NEED=!0;return p(b,e),S[e]=b,o(o.G+o.W+o.F*(b!=m),S),y||d.setStrong(b,e,v),b}},"4R4u":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"5Pf0":function(e,t,n){var r=n("S/j/"),o=n("OP3Y");n("Xtr8")("getPrototypeOf",function(){return function(e){return o(r(e))}})},"5yqK":function(e,t){"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)t.call(this,e=arguments[n])}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():function(e){"use strict";if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},i=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},u=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],o=0,i=n.length;o<i;o++)this.push(n[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},s=u.prototype=[],c=function(){return new u(this)};if(i.prototype=Error.prototype,s.item=function(e){return this[e]||null},s.contains=function(e){return-1!==a(this,e+="")},s.add=function(){var e,t=arguments,n=0,r=t.length,o=!1;do{-1===a(this,e=t[n]+"")&&(this.push(e),o=!0)}while(++n<r);o&&this._updateClassName()},s.remove=function(){var e,t,n=arguments,r=0,o=n.length,i=!1;do{for(t=a(this,e=n[r]+"");-1!==t;)this.splice(t,1),i=!0,t=a(this,e)}while(++r<o);i&&this._updateClassName()},s.toggle=function(e,t){var n=this.contains(e+=""),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},s.toString=function(){return this.join(" ")},n.defineProperty){var l={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",l)}catch(f){-2146823252===f.number&&(l.enumerable=!1,n.defineProperty(t,"classList",l))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(self))},"694e":function(e,t,n){var r=n("EemH"),o=n("XKFU"),i=n("y3w9");o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},"69bn":function(e,t,n){var r=n("y3w9"),o=n("2OiF"),i=n("K0xU")("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},"6AQ9":function(e,t,n){"use strict";var r=n("XKFU"),o=n("8a7r");r(r.S+r.F*n("eeVq")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},"6FMO":function(e,t,n){var r=n("0/R4"),o=n("EWmC"),i=n("K0xU")("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},"7Dlh":function(e,t,n){var r=n("N6cJ"),o=n("y3w9"),i=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},"7h0T":function(e,t,n){var r=n("XKFU");r(r.S,"Number",{isNaN:function(e){return e!=e}})},"8+KV":function(e,t,n){"use strict";var r=n("XKFU"),o=n("CkkT")(0),i=n("LyE8")([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},"84bF":function(e,t,n){"use strict";n("OGtf")("small",function(e){return function(){return e(this,"small","","")}})},"8MEG":function(e,t,n){"use strict";var r=n("2OiF"),o=n("0/R4"),i=n("MfQN"),a=[].slice,u={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?function(e,t,n){if(!(t in u)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)}(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},"8a7r":function(e,t,n){"use strict";var r=n("hswa"),o=n("RjD/");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},"91GP":function(e,t,n){var r=n("XKFU");r(r.S+r.F,"Object",{assign:n("czNK")})},"99sg":function(e,t,n){n("ioFf"),n("hHhE"),n("HAE/"),n("WLL4"),n("mYba"),n("5Pf0"),n("RW0V"),n("JduL"),n("DW2E"),n("z2o2"),n("mura"),n("Zshi"),n("V/DX"),n("FlsD"),n("91GP"),n("25dN"),n("/SS/"),n("Btvt"),e.exports=n("g3g5").Object},"9AAn":function(e,t,n){"use strict";var r=n("wmvG"),o=n("s5qY");e.exports=n("4LiD")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},"9P93":function(e,t,n){var r=n("XKFU"),o=Math.imul;r(r.S+r.F*n("eeVq")(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},"9VmF":function(e,t,n){"use strict";var r=n("XKFU"),o=n("ne8i"),i=n("0sh+"),a="".startsWith;r(r.P+r.F*n("UUeW")("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},"9gX7":function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},"9rMk":function(e,t,n){var r=n("XKFU");r(r.S,"Reflect",{has:function(e,t){return t in e}})},A2zW:function(e,t,n){"use strict";var r=n("XKFU"),o=n("RYi7"),i=n("vvmO"),a=n("l0Rn"),u=1..toFixed,s=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)c[n]=(r+=e*c[n])%1e7,r=s(r/1e7)},h=function(e){for(var t=6,n=0;--t>=0;)c[t]=s((n+=c[t])/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)};r(r.P+r.F*(!!u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n("eeVq")(function(){u.call({})})),"Number",{toFixed:function(e){var t,n,r,u,s=i(this,l),c=o(e),d="",v="0";if(c<0||c>20)throw RangeError(l);if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(d="-",s=-s),s>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*g(2,69,1))-69)<0?s*g(2,-t,1):s/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(g(10,r,1),0),r=t-1;r>=23;)h(1<<23),r-=23;h(1<<r),f(1,1),h(2),v=p()}else f(0,n),f(1<<-t,0),v=p()+a.call("0",c);return c>0?d+((u=v.length)<=c?"0."+a.call("0",c-u)+v:v.slice(0,u-c)+"."+v.slice(u-c)):d+v}})},A5AN:function(e,t,n){"use strict";var r=n("AvRE")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},Afnz:function(e,t,n){"use strict";var r=n("LQAc"),o=n("XKFU"),i=n("KroJ"),a=n("Mukb"),u=n("hPIQ"),s=n("QaDb"),c=n("fyDq"),l=n("OP3Y"),f=n("K0xU")("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,g,d,v,y){s(n,t,g);var m,b,k,w=function(e){if(!h&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",M="values"==d,T=!1,E=e.prototype,x=E[f]||E["@@iterator"]||d&&E[d],_=x||w(d),F=d?M?w("entries"):_:void 0,j="Array"==t&&E.entries||x;if(j&&(k=l(j.call(new e)))!==Object.prototype&&k.next&&(c(k,S,!0),r||"function"==typeof k[f]||a(k,f,p)),M&&x&&"values"!==x.name&&(T=!0,_=function(){return x.call(this)}),r&&!y||!h&&!T&&E[f]||a(E,f,_),u[t]=_,u[S]=p,d)if(m={values:M?_:w("values"),keys:v?_:w("keys"),entries:F},y)for(b in m)b in E||i(E,b,m[b]);else o(o.P+o.F*(h||T),t,m);return m}},AphP:function(e,t,n){"use strict";var r=n("XKFU"),o=n("S/j/"),i=n("apmT");r(r.P+r.F*n("eeVq")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},AvRE:function(e,t,n){var r=n("RYi7"),o=n("vhPU");e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s))<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536}}},BC7C:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{fround:n("kcoS")})},"BJ/l":function(e,t,n){var r=n("XKFU");r(r.S,"Math",{log1p:n("1sa7")})},BP8U:function(e,t,n){var r=n("XKFU"),o=n("PKUr");r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},BqfV:function(e,t,n){var r=n("N6cJ"),o=n("y3w9"),i=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},Btvt:function(e,t,n){"use strict";var r=n("I8a+"),o={};o[n("K0xU")("toStringTag")]="z",o+""!="[object z]"&&n("KroJ")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},"C/va":function(e,t,n){"use strict";var r=n("y3w9");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},CkkT:function(e,t,n){var r=n("m0Pp"),o=n("Ymqv"),i=n("S/j/"),a=n("ne8i"),u=n("zRwo");e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,l=4==e,f=6==e,h=5==e||f,p=t||u;return function(t,u,g){for(var d,v,y=i(t),m=o(y),b=r(u,g,3),k=a(m.length),w=0,S=n?p(t,k):s?p(t,0):void 0;k>w;w++)if((h||w in m)&&(v=b(d=m[w],w,y),e))if(n)S[w]=v;else if(v)switch(e){case 3:return!0;case 5:return d;case 6:return w;case 2:S.push(d)}else if(l)return!1;return f?-1:c||l?l:S}}},CuTL:function(e,t,n){n("fyVe"),n("U2t9"),n("2atp"),n("+auO"),n("MtdB"),n("Jcmo"),n("nzyx"),n("BC7C"),n("x8ZO"),n("9P93"),n("eHKK"),n("BJ/l"),n("pp/T"),n("CyHz"),n("bBoP"),n("x8Yj"),n("hLT2"),e.exports=n("g3g5").Math},CyHz:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{sign:n("lvtm")})},DNiP:function(e,t,n){"use strict";var r=n("XKFU"),o=n("eyMr");r(r.P+r.F*!n("LyE8")([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},DVgA:function(e,t,n){var r=n("zhAb"),o=n("4R4u");e.exports=Object.keys||function(e){return r(e,o)}},DW2E:function(e,t,n){var r=n("0/R4"),o=n("Z6vF").onFreeze;n("Xtr8")("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},EK0E:function(e,t,n){"use strict";var r,o=n("CkkT")(0),i=n("KroJ"),a=n("Z6vF"),u=n("czNK"),s=n("ZD67"),c=n("0/R4"),l=n("eeVq"),f=n("s5qY"),h=a.getWeak,p=Object.isExtensible,g=s.ufstore,d={},v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(c(e)){var t=h(e);return!0===t?g(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(f(this,"WeakMap"),e,t)}},m=e.exports=n("4LiD")("WeakMap",v,y,s,!0,!0);l(function(){return 7!=(new m).set((Object.freeze||Object)(d),7).get(d)})&&(u((r=s.getConstructor(v,"WeakMap")).prototype,y),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=m.prototype,n=t[e];i(t,e,function(t,o){if(c(t)&&!p(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)})}))},EWmC:function(e,t,n){var r=n("LZWt");e.exports=Array.isArray||function(e){return"Array"==r(e)}},EemH:function(e,t,n){var r=n("UqcF"),o=n("RjD/"),i=n("aCFj"),a=n("apmT"),u=n("aagx"),s=n("xpql"),c=Object.getOwnPropertyDescriptor;t.f=n("nh4g")?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(n){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},FEjr:function(e,t,n){"use strict";n("OGtf")("strike",function(e){return function(){return e(this,"strike","","")}})},FJW5:function(e,t,n){var r=n("hswa"),o=n("y3w9"),i=n("DVgA");e.exports=n("nh4g")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},FLlr:function(e,t,n){var r=n("XKFU");r(r.P,"String",{repeat:n("l0Rn")})},FZcq:function(e,t,n){n("49D4"),n("zq+C"),n("45Tv"),n("uAtd"),n("BqfV"),n("fN/3"),n("iW+S"),n("7Dlh"),n("Opxb"),e.exports=n("g3g5").Reflect},FlsD:function(e,t,n){var r=n("0/R4");n("Xtr8")("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},FoZm:function(e,t,n){global.IntlPolyfill=n("fL0r"),n(2),global.Intl||(global.Intl=global.IntlPolyfill,global.IntlPolyfill.__applyLocaleSensitivePrototypes()),e.exports=global.IntlPolyfill},GNAe:function(e,t,n){var r=n("XKFU"),o=n("PKUr");r(r.G+r.F*(parseInt!=o),{parseInt:o})},H6hf:function(e,t,n){var r=n("y3w9");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e.return;throw void 0!==i&&r(i.call(e)),a}}},"HAE/":function(e,t,n){var r=n("XKFU");r(r.S+r.F*!n("nh4g"),"Object",{defineProperty:n("hswa").f})},HEwt:function(e,t,n){"use strict";var r=n("m0Pp"),o=n("XKFU"),i=n("S/j/"),a=n("H6hf"),u=n("M6Qj"),s=n("ne8i"),c=n("8a7r"),l=n("J+6e");o(o.S+o.F*!n("XMVh")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,h=i(e),p="function"==typeof this?this:Array,g=arguments.length,d=g>1?arguments[1]:void 0,v=void 0!==d,y=0,m=l(h);if(v&&(d=r(d,g>2?arguments[2]:void 0,2)),null==m||p==Array&&u(m))for(n=new p(t=s(h.length));t>y;y++)c(n,y,v?d(h[y],y):h[y]);else for(f=m.call(h),n=new p;!(o=f.next()).done;y++)c(n,y,v?a(f,d,[o.value,y],!0):o.value);return n.length=y,n}})},I5cv:function(e,t,n){var r=n("XKFU"),o=n("Kuth"),i=n("2OiF"),a=n("y3w9"),u=n("0/R4"),s=n("eeVq"),c=n("8MEG"),l=(n("dyZX").Reflect||{}).construct,f=s(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),h=!s(function(){l(function(){})});r(r.S+r.F*(f||h),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(h&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var s=n.prototype,p=o(u(s)?s:Object.prototype),g=Function.apply.call(e,p,t);return u(g)?g:p}})},I78e:function(e,t,n){"use strict";var r=n("XKFU"),o=n("+rLv"),i=n("LZWt"),a=n("d/Gc"),u=n("ne8i"),s=[].slice;r(r.P+r.F*n("eeVq")(function(){o&&s.call(o)}),"Array",{slice:function(e,t){var n=u(this.length),r=i(this);if(t=void 0===t?n:t,"Array"==r)return s.call(this,e,t);for(var o=a(e,n),c=a(t,n),l=u(c-o),f=new Array(l),h=0;h<l;h++)f[h]="String"==r?this.charAt(o+h):this[o+h];return f}})},"I8a+":function(e,t,n){var r=n("LZWt"),o=n("K0xU")("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},INYr:function(e,t,n){"use strict";var r=n("XKFU"),o=n("CkkT")(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("nGyu")(i)},"IU+Z":function(e,t,n){"use strict";n("sMXx");var r=n("KroJ"),o=n("Mukb"),i=n("eeVq"),a=n("vhPU"),u=n("K0xU"),s=n("Ugos"),c=u("species"),l=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var h=u(e),p=!i(function(){var t={};return t[h]=function(){return 7},7!=""[e](t)}),g=p?!i(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!t}):void 0;if(!p||!g||"replace"===e&&!l||"split"===e&&!f){var d=/./[h],v=n(a,h,""[e],function(e,t,n,r,o){return t.exec===s?p&&!o?{done:!0,value:d.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),y=v[1];r(String.prototype,e,v[0]),o(RegExp.prototype,h,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},IXt9:function(e,t,n){"use strict";var r=n("0/R4"),o=n("OP3Y"),i=n("K0xU")("hasInstance"),a=Function.prototype;i in a||n("hswa").f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},IlFx:function(e,t,n){var r=n("XKFU"),o=n("y3w9"),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},Iw71:function(e,t,n){var r=n("0/R4"),o=n("dyZX").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"J+6e":function(e,t,n){var r=n("I8a+"),o=n("K0xU")("iterator"),i=n("hPIQ");e.exports=n("g3g5").getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},JCqj:function(e,t,n){"use strict";n("OGtf")("sup",function(e){return function(){return e(this,"sup","","")}})},Jcmo:function(e,t,n){var r=n("XKFU"),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},JduL:function(e,t,n){n("Xtr8")("getOwnPropertyNames",function(){return n("e7yV").f})},JiEa:function(e,t){t.f=Object.getOwnPropertySymbols},K0xU:function(e,t,n){var r=n("VTer")("wks"),o=n("ylqs"),i=n("dyZX").Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},KKXr:function(e,t,n){"use strict";var r=n("quPj"),o=n("y3w9"),i=n("69bn"),a=n("A5AN"),u=n("ne8i"),s=n("Xxuz"),c=n("Ugos"),l=Math.min,f=[].push,h=!!function(){try{return new RegExp("x","y")}catch(e){}}();n("IU+Z")("split",2,function(e,t,n,p){var g=n;return"c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?g=function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,u,s=[],l=0,h=void 0===t?4294967295:t>>>0,p=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(i=c.call(p,o))&&!((a=p.lastIndex)>l&&(s.push(o.slice(l,i.index)),i.length>1&&i.index<o.length&&f.apply(s,i.slice(1)),u=i[0].length,l=a,s.length>=h));)p.lastIndex===i.index&&p.lastIndex++;return l===o.length?!u&&p.test("")||s.push(""):s.push(o.slice(l)),s.length>h?s.slice(0,h):s}:"0".split(void 0,0).length&&(g=function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}),[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):g.call(String(o),n,r)},function(e,t){var r=p(g,e,this,t,g!==n);if(r.done)return r.value;var c=o(e),f=String(this),d=i(c,RegExp),v=c.unicode,y=new d(h?c:"^(?:"+c.source+")",(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g")),m=void 0===t?4294967295:t>>>0;if(0===m)return[];if(0===f.length)return null===s(y,f)?[f]:[];for(var b=0,k=0,w=[];k<f.length;){y.lastIndex=h?k:0;var S,M=s(y,h?f:f.slice(k));if(null===M||(S=l(u(y.lastIndex+(h?0:k)),f.length))===b)k=a(f,k,v);else{if(w.push(f.slice(b,k)),w.length===m)return w;for(var T=1;T<=M.length-1;T++)if(w.push(M[T]),w.length===m)return w;k=b=S}}return w.push(f.slice(b)),w}]})},KroJ:function(e,t,n){var r=n("dyZX"),o=n("Mukb"),i=n("aagx"),a=n("ylqs")("src"),u=Function.toString,s=(""+u).split("toString");n("g3g5").inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},Kuth:function(e,t,n){var r=n("y3w9"),o=n("FJW5"),i=n("4R4u"),a=n("YTvA")("IE_PROTO"),u=function(){},s=function(){var e,t=n("Iw71")("iframe"),r=i.length;for(t.style.display="none",n("+rLv").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},L9s1:function(e,t,n){"use strict";var r=n("XKFU"),o=n("0sh+");r(r.P+r.F*n("UUeW")("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},LK8F:function(e,t,n){var r=n("XKFU");r(r.S,"Array",{isArray:n("EWmC")})},LQAc:function(e,t){e.exports=!1},LTTk:function(e,t,n){var r=n("XKFU"),o=n("OP3Y"),i=n("y3w9");r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},LVwc:function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},LZWt:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},Ljet:function(e,t,n){var r=n("XKFU");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},Lmuc:function(e,t,n){n("xfY5"),n("A2zW"),n("VKir"),n("Ljet"),n("/KAi"),n("fN96"),n("7h0T"),n("sbF8"),n("h/M4"),n("knhD"),n("XfKG"),n("BP8U"),e.exports=n("g3g5").Number},LyE8:function(e,t,n){"use strict";var r=n("eeVq");e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},M6Qj:function(e,t,n){var r=n("hPIQ"),o=n("K0xU")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},MfQN:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},MtdB:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},Mukb:function(e,t,n){var r=n("hswa"),o=n("RjD/");e.exports=n("nh4g")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},N6cJ:function(e,t,n){var r=n("9AAn"),o=n("XKFU"),i=n("VTer")("metadata"),a=i.store||(i.store=new(n("EK0E"))),u=function(e,t,n){var o=a.get(e);if(!o){if(!n)return;a.set(e,o=new r)}var i=o.get(t);if(!i){if(!n)return;o.set(t,i=new r)}return i};e.exports={store:a,map:u,has:function(e,t,n){var r=u(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=u(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){u(n,r,!0).set(e,t)},keys:function(e,t){var n=u(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){o(o.S,"Reflect",e)}}},N8g3:function(e,t,n){t.f=n("K0xU")},Nr18:function(e,t,n){"use strict";var r=n("S/j/"),o=n("d/Gc"),i=n("ne8i");e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>u;)t[u++]=e;return t}},Nz9U:function(e,t,n){"use strict";var r=n("XKFU"),o=n("aCFj"),i=[].join;r(r.P+r.F*(n("Ymqv")!=Object||!n("LyE8")(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},OEbY:function(e,t,n){n("nh4g")&&"g"!=/./g.flags&&n("hswa").f(RegExp.prototype,"flags",{configurable:!0,get:n("C/va")})},OG14:function(e,t,n){"use strict";var r=n("y3w9"),o=n("g6HL"),i=n("Xxuz");n("IU+Z")("search",1,function(e,t,n,a){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var u=r(e),s=String(this),c=u.lastIndex;o(c,0)||(u.lastIndex=0);var l=i(u,s);return o(u.lastIndex,c)||(u.lastIndex=c),null===l?-1:l.index}]})},OGtf:function(e,t,n){var r=n("XKFU"),o=n("eeVq"),i=n("vhPU"),a=/"/g,u=function(e,t,n,r){var o=String(i(e)),u="<"+t;return""!==n&&(u+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),u+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(u),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},OP3Y:function(e,t,n){var r=n("aagx"),o=n("S/j/"),i=n("YTvA")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},OnI7:function(e,t,n){var r=n("dyZX"),o=n("g3g5"),i=n("LQAc"),a=n("N8g3"),u=n("hswa").f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},Opxb:function(e,t,n){var r=n("N6cJ"),o=n("y3w9"),i=n("2OiF"),a=r.key,u=r.set;r.exp({metadata:function(e,t){return function(n,r){u(e,t,(void 0!==r?o:i)(n),a(r))}}})},Oyvg:function(e,t,n){var r=n("dyZX"),o=n("Xbzi"),i=n("hswa").f,a=n("kJMx").f,u=n("quPj"),s=n("C/va"),c=r.RegExp,l=c,f=c.prototype,h=/a/g,p=/a/g,g=new c(h)!==h;if(n("nh4g")&&(!g||n("eeVq")(function(){return p[n("K0xU")("match")]=!1,c(h)!=h||c(p)==p||"/a/i"!=c(h,"i")}))){c=function(e,t){var n=this instanceof c,r=u(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:o(g?new l(r&&!i?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&i?s.call(e):t),n?this:f,c)};for(var d=function(e){e in c||i(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),y=0;v.length>y;)d(v[y++]);f.constructor=c,c.prototype=f,n("KroJ")(r,"RegExp",c)}n("elZq")("RegExp")},PKUr:function(e,t,n){var r=n("dyZX").parseInt,o=n("qncB").trim,i=n("/e88"),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},Q3ne:function(e,t,n){var r=n("SlkY");e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},QaDb:function(e,t,n){"use strict";var r=n("Kuth"),o=n("RjD/"),i=n("fyDq"),a={};n("Mukb")(a,n("K0xU")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},RW0V:function(e,t,n){var r=n("S/j/"),o=n("DVgA");n("Xtr8")("keys",function(){return function(e){return o(r(e))}})},RYi7:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"RjD/":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"S/j/":function(e,t,n){var r=n("vhPU");e.exports=function(e){return Object(r(e))}},SMB2:function(e,t,n){"use strict";n("OGtf")("bold",function(e){return function(){return e(this,"b","","")}})},SPin:function(e,t,n){"use strict";var r=n("XKFU"),o=n("eyMr");r(r.P+r.F*!n("LyE8")([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},SRfc:function(e,t,n){"use strict";var r=n("y3w9"),o=n("ne8i"),i=n("A5AN"),a=n("Xxuz");n("IU+Z")("match",1,function(e,t,n,u){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=u(n,e,this);if(t.done)return t.value;var s=r(e),c=String(this);if(!s.global)return a(s,c);var l=s.unicode;s.lastIndex=0;for(var f,h=[],p=0;null!==(f=a(s,c));){var g=String(f[0]);h[p]=g,""===g&&(s.lastIndex=i(c,o(s.lastIndex),l)),p++}return 0===p?null:h}]})},SlkY:function(e,t,n){var r=n("m0Pp"),o=n("H6hf"),i=n("M6Qj"),a=n("y3w9"),u=n("ne8i"),s=n("J+6e"),c={},l={};(t=e.exports=function(e,t,n,f,h){var p,g,d,v,y=h?function(){return e}:s(e),m=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(p=u(e.length);p>b;b++)if((v=t?m(a(g=e[b])[0],g[1]):m(e[b]))===c||v===l)return v}else for(d=y.call(e);!(g=d.next()).done;)if((v=o(d,m,g.value,t))===c||v===l)return v}).BREAK=c,t.RETURN=l},T39b:function(e,t,n){"use strict";var r=n("wmvG"),o=n("s5qY");e.exports=n("4LiD")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},Tze0:function(e,t,n){"use strict";n("qncB")("trim",function(e){return function(){return e(this,3)}})},U2t9:function(e,t,n){var r=n("XKFU"),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},UUeW:function(e,t,n){var r=n("K0xU")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(o){}}return!0}},Ugos:function(e,t,n){"use strict";var r,o,i=n("C/va"),a=RegExp.prototype.exec,u=String.prototype.replace,s=a,c=(o=/b*/g,a.call(r=/a/,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(s=function(e){var t,n,r,o,s=this;return l&&(n=new RegExp("^"+s.source+"$(?!\\s)",i.call(s))),c&&(t=s.lastIndex),r=a.call(s,e),c&&r&&(s.lastIndex=s.global?r.index+r[0].length:t),l&&r&&r.length>1&&u.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),e.exports=s},UqcF:function(e,t){t.f={}.propertyIsEnumerable},"V+eJ":function(e,t,n){"use strict";var r=n("XKFU"),o=n("w2a5")(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n("LyE8")(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},"V/DX":function(e,t,n){var r=n("0/R4");n("Xtr8")("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},"V5/Y":function(e,t,n){n("VpUO"),n("eI33"),n("Tze0"),n("XfO3"),n("oDIu"),n("rvZc"),n("L9s1"),n("FLlr"),n("9VmF"),n("hEkN"),n("nIY7"),n("+oPb"),n("SMB2"),n("0mN4"),n("bDcW"),n("nsiH"),n("0LDn"),n("tUrg"),n("84bF"),n("FEjr"),n("Zz4T"),n("JCqj"),n("SRfc"),n("pIFo"),n("OG14"),n("KKXr"),e.exports=n("g3g5").String},VKir:function(e,t,n){"use strict";var r=n("XKFU"),o=n("eeVq"),i=n("vvmO"),a=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},VTer:function(e,t,n){var r=n("g3g5"),o=n("dyZX"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("LQAc")?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},VXxg:function(e,t,n){n("Btvt"),n("XfO3"),n("rGqo"),n("T39b"),e.exports=n("g3g5").Set},VbrY:function(e,t,n){n("3xty"),n("I5cv"),n("iMoV"),n("uhZd"),n("f/aN"),n("0YWM"),n("694e"),n("LTTk"),n("9rMk"),n("IlFx"),n("xpiv"),n("oZ/O"),n("klPD"),n("knU9"),e.exports=n("g3g5").Reflect},Vd3H:function(e,t,n){"use strict";var r=n("XKFU"),o=n("2OiF"),i=n("S/j/"),a=n("eeVq"),u=[].sort,s=[1,2,3];r(r.P+r.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!n("LyE8")(u)),"Array",{sort:function(e){return void 0===e?u.call(i(this)):u.call(i(this),o(e))}})},VpUO:function(e,t,n){var r=n("XKFU"),o=n("d/Gc"),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},WLL4:function(e,t,n){var r=n("XKFU");r(r.S+r.F*!n("nh4g"),"Object",{defineProperties:n("FJW5")})},XKFU:function(e,t,n){var r=n("dyZX"),o=n("g3g5"),i=n("Mukb"),a=n("KroJ"),u=n("m0Pp"),s=function(e,t,n){var c,l,f,h,p=e&s.F,g=e&s.G,d=e&s.P,v=e&s.B,y=g?r:e&s.S?r[t]||(r[t]={}):(r[t]||{}).prototype,m=g?o:o[t]||(o[t]={}),b=m.prototype||(m.prototype={});for(c in g&&(n=t),n)f=((l=!p&&y&&void 0!==y[c])?y:n)[c],h=v&&l?u(f,r):d&&"function"==typeof f?u(Function.call,f):f,y&&a(y,c,f,e&s.U),m[c]!=f&&i(m,c,h),d&&b[c]!=f&&(b[c]=f)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},XMVh:function(e,t,n){var r=n("K0xU")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:n=!0}},i[r]=function(){return u},e(i)}catch(a){}return n}},Xbzi:function(e,t,n){var r=n("0/R4"),o=n("i5dc").set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},XfKG:function(e,t,n){var r=n("XKFU"),o=n("11IZ");r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},XfO3:function(e,t,n){"use strict";var r=n("AvRE")(!0);n("Afnz")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},Xtr8:function(e,t,n){var r=n("XKFU"),o=n("g3g5"),i=n("eeVq");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},Xxuz:function(e,t,n){"use strict";var r=n("I8a+"),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},YJVH:function(e,t,n){"use strict";var r=n("XKFU"),o=n("CkkT")(4);r(r.P+r.F*!n("LyE8")([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},YTvA:function(e,t,n){var r=n("VTer")("keys"),o=n("ylqs");e.exports=function(e){return r[e]||(r[e]=o(e))}},Ymqv:function(e,t,n){var r=n("LZWt");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},Z6vF:function(e,t,n){var r=n("ylqs")("meta"),o=n("0/R4"),i=n("aagx"),a=n("hswa").f,u=0,s=Object.isExtensible||function(){return!0},c=!n("eeVq")(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&s(e)&&!i(e,r)&&l(e),e}}},ZD67:function(e,t,n){"use strict";var r=n("3Lyj"),o=n("Z6vF").getWeak,i=n("y3w9"),a=n("0/R4"),u=n("9gX7"),s=n("SlkY"),c=n("CkkT"),l=n("aagx"),f=n("s5qY"),h=c(5),p=c(6),g=0,d=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},y=function(e,t){return h(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var c=e(function(e,r){u(e,c,t,"_i"),e._t=t,e._i=g++,e._l=void 0,null!=r&&s(r,n,e[i],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return!0===n?d(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=o(e);return!0===n?d(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=o(i(t),!0);return!0===r?d(e).set(t,n):r[e._i]=n,e},ufstore:d}},Zshi:function(e,t,n){var r=n("0/R4");n("Xtr8")("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},Zz4T:function(e,t,n){"use strict";n("OGtf")("sub",function(e){return function(){return e(this,"sub","","")}})},a1Th:function(e,t,n){"use strict";n("OEbY");var r=n("y3w9"),o=n("C/va"),i=n("nh4g"),a=/./.toString,u=function(e){n("KroJ")(RegExp.prototype,"toString",e,!0)};n("eeVq")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):"toString"!=a.name&&u(function(){return a.call(this)})},aCFj:function(e,t,n){var r=n("Ymqv"),o=n("vhPU");e.exports=function(e){return r(o(e))}},aagx:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},apmT:function(e,t,n){var r=n("0/R4");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},bBoP:function(e,t,n){var r=n("XKFU"),o=n("LVwc"),i=Math.exp;r(r.S+r.F*n("eeVq")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},bDcW:function(e,t,n){"use strict";n("OGtf")("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},bHtr:function(e,t,n){var r=n("XKFU");r(r.P,"Array",{fill:n("Nr18")}),n("nGyu")("fill")},bWfx:function(e,t,n){"use strict";var r=n("XKFU"),o=n("CkkT")(1);r(r.P+r.F*!n("LyE8")([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},czNK:function(e,t,n){"use strict";var r=n("DVgA"),o=n("JiEa"),i=n("UqcF"),a=n("S/j/"),u=n("Ymqv"),s=Object.assign;e.exports=!s||n("eeVq")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,l=o.f,f=i.f;s>c;)for(var h,p=u(arguments[c++]),g=l?r(p).concat(l(p)):r(p),d=g.length,v=0;d>v;)f.call(p,h=g[v++])&&(n[h]=p[h]);return n}:s},"d/Gc":function(e,t,n){var r=n("RYi7"),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},"dE+T":function(e,t,n){var r=n("XKFU");r(r.P,"Array",{copyWithin:n("upKx")}),n("nGyu")("copyWithin")},dQfE:function(e,t,n){n("XfO3"),n("LK8F"),n("HEwt"),n("6AQ9"),n("Nz9U"),n("I78e"),n("Vd3H"),n("8+KV"),n("bWfx"),n("0l/t"),n("dZ+Y"),n("YJVH"),n("DNiP"),n("SPin"),n("V+eJ"),n("mGWK"),n("dE+T"),n("bHtr"),n("dRSK"),n("INYr"),n("0E+W"),n("yt8O"),e.exports=n("g3g5").Array},dRSK:function(e,t,n){"use strict";var r=n("XKFU"),o=n("CkkT")(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("nGyu")("find")},"dZ+Y":function(e,t,n){"use strict";var r=n("XKFU"),o=n("CkkT")(3);r(r.P+r.F*!n("LyE8")([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},dyZX:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e7yV:function(e,t,n){var r=n("aCFj"),o=n("kJMx").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(r(e))}},eHKK:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},eI33:function(e,t,n){var r=n("XKFU"),o=n("aCFj"),i=n("ne8i");r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(t[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},eM6i:function(e,t,n){var r=n("XKFU");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},eeVq:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},elZq:function(e,t,n){"use strict";var r=n("dyZX"),o=n("hswa"),i=n("nh4g"),a=n("K0xU")("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},eyMr:function(e,t,n){var r=n("2OiF"),o=n("S/j/"),i=n("Ymqv"),a=n("ne8i");e.exports=function(e,t,n,u,s){r(t);var c=o(e),l=i(c),f=a(c.length),h=s?f-1:0,p=s?-1:1;if(n<2)for(;;){if(h in l){u=l[h],h+=p;break}if(h+=p,s?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;s?h>=0:f>h;h+=p)h in l&&(u=t(u,l[h],h,c));return u}},"f/aN":function(e,t,n){"use strict";var r=n("XKFU"),o=n("y3w9"),i=function(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n("QaDb")(i,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new i(e)}})},"f3/d":function(e,t,n){var r=n("hswa").f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n("nh4g")&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},fL0r:function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});if(1===a)t.children=o;else if(a>1){for(var s=Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c="undefined"==typeof global?self:global,l=Object.freeze({jsx:i,asyncToGenerator:function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var a=t[o](i),u=a.value}catch(s){return void n(s)}if(!a.done)return Promise.resolve(u).then(function(e){return r("next",e)},function(e){return r("throw",e)});e(u)}("next")})}},classCallCheck:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass:a,defineEnumerableProperties:function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e},defaults:function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e},defineProperty:u,get:function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},inherits:function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},interopRequireDefault:function(e){return e&&e.__esModule?e:{default:e}},interopRequireWildcard:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},newArrowCheck:function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},objectDestructuringEmpty:function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},objectWithoutProperties:function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},possibleConstructorReturn:function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},selfGlobal:c,set:function e(t,n,r,o){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,o)}else if("value"in i&&i.writable)i.value=r;else{var u=i.set;void 0!==u&&u.call(o,r)}return r},slicedToArray:function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},slicedToArrayLoose:function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],o=e[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},taggedTemplateLiteral:function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},taggedTemplateLiteralLoose:function(e,t){return e.raw=t,e},temporalRef:function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},temporalUndefined:{},toArray:function(e){return Array.isArray(e)?e:Array.from(e)},toConsumableArray:function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},typeof:o,extends:s,instanceof:function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}}),f=function(){var e=function(){};try{return Object.defineProperty(e,"a",{get:function(){return 1}}),Object.defineProperty(e,"prototype",{writable:!1}),1===e.a&&e.prototype instanceof Object}catch(t){return!1}}(),h=!f&&!Object.prototype.__defineGetter__,p=Object.prototype.hasOwnProperty,g=f?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!p.call(e,t)||"value"in n)&&(e[t]=n.value)},d=Array.prototype.indexOf||function(e){var t=this;if(!t.length)return-1;for(var n=arguments[1]||0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},v=Object.create||function(e,t){var n;function r(){}for(var o in r.prototype=e,n=new r,t)p.call(t,o)&&g(n,o,t[o]);return n},y=Array.prototype.slice,m=Array.prototype.concat,b=Array.prototype.push,k=Array.prototype.join,w=Array.prototype.shift,S=Function.prototype.bind||function(e){var t=this,n=y.call(arguments,1);return function(){return t.apply(e,m.call(n,y.call(arguments)))}},M=v(null),T=Math.random();function E(e){for(var t in e)(e instanceof E||p.call(e,t))&&g(this,t,{value:e[t],enumerable:!0,writable:!0,configurable:!0})}function x(){g(this,"length",{writable:!0,value:0}),arguments.length&&b.apply(this,y.call(arguments))}function _(){if(M.disableRegExpRestore)return function(){};for(var e={lastMatch:RegExp.lastMatch||"",leftContext:RegExp.leftContext,multiline:RegExp.multiline,input:RegExp.input},t=!1,n=1;n<=9;n++)t=(e["$"+n]=RegExp["$"+n])||t;return function(){var n=/[.?*+^$[\]\\(){}|-]/g,r=e.lastMatch.replace(n,"\\$&"),o=new x;if(t)for(var i=1;i<=9;i++){var a=e["$"+i];a?(a=a.replace(n,"\\$&"),r=r.replace(a,"("+a+")")):r="()"+r,b.call(o,r.slice(0,r.indexOf("(")+1)),r=r.slice(r.indexOf("(")+1)}var u=k.call(o,"")+r;u=u.replace(/(\\\(|\\\)|[^()])+/g,function(e){return"[\\s\\S]{"+e.replace("\\","").length+"}"});var s=new RegExp(u,e.multiline?"gm":"g");s.lastIndex=e.leftContext.length,s.exec(e.input)}}function F(e){if(null===e)throw new TypeError("Cannot convert null or undefined to object");return"object"===(void 0===e?"undefined":l.typeof(e))?e:Object(e)}function j(e){return"number"==typeof e?e:Number(e)}function O(e){return p.call(e,"__getInternalProperties")?e.__getInternalProperties(T):v(null)}E.prototype=v(null),x.prototype=v(null);var K=RegExp("^(?:(?:[a-z]{2,3}(?:-[a-z]{3}(?:-[a-z]{3}){0,2})?|[a-z]{4}|[a-z]{5,8})(?:-[a-z]{4})?(?:-(?:[a-z]{2}|\\d{3}))?(?:-(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3}))*(?:-[0-9a-wy-z](?:-[a-z0-9]{2,8})+)*(?:-x(?:-[a-z0-9]{1,8})+)?|x(?:-[a-z0-9]{1,8})+|(?:(?:en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-(?:guoyu|hakka|min|min-nan|xiang))))$","i"),P=RegExp("^(?!x).*?-((?:[a-z0-9]{5,8}|\\d[a-z0-9]{3}))-(?:\\w{4,8}-(?!x-))*\\1\\b","i"),D=RegExp("^(?!x).*?-([0-9a-wy-z])-(?:\\w+-(?!x-))*\\1\\b","i"),A=RegExp("-[0-9a-wy-z](?:-[a-z0-9]{2,8})+","ig"),z=void 0,N={tags:{"art-lojban":"jbo","i-ami":"ami","i-bnn":"bnn","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","no-bok":"nb","no-nyn":"nn","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-CH-DE":"sgg","zh-guoyu":"cmn","zh-hakka":"hak","zh-min-nan":"nan","zh-xiang":"hsn","sgn-BR":"bzs","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsl","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs","zh-cmn":"cmn","zh-cmn-Hans":"cmn-Hans","zh-cmn-Hant":"cmn-Hant","zh-gan":"gan","zh-wuu":"wuu","zh-yue":"yue"},subtags:{BU:"MM",DD:"DE",FX:"FR",TP:"TL",YD:"YE",ZR:"CD",heploc:"alalc97",in:"id",iw:"he",ji:"yi",jw:"jv",mo:"ro",ayx:"nun",bjd:"drl",ccq:"rki",cjr:"mom",cka:"cmr",cmk:"xch",drh:"khk",drw:"prs",gav:"dev",hrr:"jal",ibi:"opa",kgh:"kml",lcq:"ppr",mst:"mry",myt:"mry",sca:"hle",tie:"ras",tkk:"twm",tlw:"weo",tnf:"prs",ybd:"rki",yma:"lrr"},extLang:{aao:["aao","ar"],abh:["abh","ar"],abv:["abv","ar"],acm:["acm","ar"],acq:["acq","ar"],acw:["acw","ar"],acx:["acx","ar"],acy:["acy","ar"],adf:["adf","ar"],ads:["ads","sgn"],aeb:["aeb","ar"],aec:["aec","ar"],aed:["aed","sgn"],aen:["aen","sgn"],afb:["afb","ar"],afg:["afg","sgn"],ajp:["ajp","ar"],apc:["apc","ar"],apd:["apd","ar"],arb:["arb","ar"],arq:["arq","ar"],ars:["ars","ar"],ary:["ary","ar"],arz:["arz","ar"],ase:["ase","sgn"],asf:["asf","sgn"],asp:["asp","sgn"],asq:["asq","sgn"],asw:["asw","sgn"],auz:["auz","ar"],avl:["avl","ar"],ayh:["ayh","ar"],ayl:["ayl","ar"],ayn:["ayn","ar"],ayp:["ayp","ar"],bbz:["bbz","ar"],bfi:["bfi","sgn"],bfk:["bfk","sgn"],bjn:["bjn","ms"],bog:["bog","sgn"],bqn:["bqn","sgn"],bqy:["bqy","sgn"],btj:["btj","ms"],bve:["bve","ms"],bvl:["bvl","sgn"],bvu:["bvu","ms"],bzs:["bzs","sgn"],cdo:["cdo","zh"],cds:["cds","sgn"],cjy:["cjy","zh"],cmn:["cmn","zh"],coa:["coa","ms"],cpx:["cpx","zh"],csc:["csc","sgn"],csd:["csd","sgn"],cse:["cse","sgn"],csf:["csf","sgn"],csg:["csg","sgn"],csl:["csl","sgn"],csn:["csn","sgn"],csq:["csq","sgn"],csr:["csr","sgn"],czh:["czh","zh"],czo:["czo","zh"],doq:["doq","sgn"],dse:["dse","sgn"],dsl:["dsl","sgn"],dup:["dup","ms"],ecs:["ecs","sgn"],esl:["esl","sgn"],esn:["esn","sgn"],eso:["eso","sgn"],eth:["eth","sgn"],fcs:["fcs","sgn"],fse:["fse","sgn"],fsl:["fsl","sgn"],fss:["fss","sgn"],gan:["gan","zh"],gds:["gds","sgn"],gom:["gom","kok"],gse:["gse","sgn"],gsg:["gsg","sgn"],gsm:["gsm","sgn"],gss:["gss","sgn"],gus:["gus","sgn"],hab:["hab","sgn"],haf:["haf","sgn"],hak:["hak","zh"],hds:["hds","sgn"],hji:["hji","ms"],hks:["hks","sgn"],hos:["hos","sgn"],hps:["hps","sgn"],hsh:["hsh","sgn"],hsl:["hsl","sgn"],hsn:["hsn","zh"],icl:["icl","sgn"],ils:["ils","sgn"],inl:["inl","sgn"],ins:["ins","sgn"],ise:["ise","sgn"],isg:["isg","sgn"],isr:["isr","sgn"],jak:["jak","ms"],jax:["jax","ms"],jcs:["jcs","sgn"],jhs:["jhs","sgn"],jls:["jls","sgn"],jos:["jos","sgn"],jsl:["jsl","sgn"],jus:["jus","sgn"],kgi:["kgi","sgn"],knn:["knn","kok"],kvb:["kvb","ms"],kvk:["kvk","sgn"],kvr:["kvr","ms"],kxd:["kxd","ms"],lbs:["lbs","sgn"],lce:["lce","ms"],lcf:["lcf","ms"],liw:["liw","ms"],lls:["lls","sgn"],lsg:["lsg","sgn"],lsl:["lsl","sgn"],lso:["lso","sgn"],lsp:["lsp","sgn"],lst:["lst","sgn"],lsy:["lsy","sgn"],ltg:["ltg","lv"],lvs:["lvs","lv"],lzh:["lzh","zh"],max:["max","ms"],mdl:["mdl","sgn"],meo:["meo","ms"],mfa:["mfa","ms"],mfb:["mfb","ms"],mfs:["mfs","sgn"],min:["min","ms"],mnp:["mnp","zh"],mqg:["mqg","ms"],mre:["mre","sgn"],msd:["msd","sgn"],msi:["msi","ms"],msr:["msr","sgn"],mui:["mui","ms"],mzc:["mzc","sgn"],mzg:["mzg","sgn"],mzy:["mzy","sgn"],nan:["nan","zh"],nbs:["nbs","sgn"],ncs:["ncs","sgn"],nsi:["nsi","sgn"],nsl:["nsl","sgn"],nsp:["nsp","sgn"],nsr:["nsr","sgn"],nzs:["nzs","sgn"],okl:["okl","sgn"],orn:["orn","ms"],ors:["ors","ms"],pel:["pel","ms"],pga:["pga","ar"],pks:["pks","sgn"],prl:["prl","sgn"],prz:["prz","sgn"],psc:["psc","sgn"],psd:["psd","sgn"],pse:["pse","ms"],psg:["psg","sgn"],psl:["psl","sgn"],pso:["pso","sgn"],psp:["psp","sgn"],psr:["psr","sgn"],pys:["pys","sgn"],rms:["rms","sgn"],rsi:["rsi","sgn"],rsl:["rsl","sgn"],sdl:["sdl","sgn"],sfb:["sfb","sgn"],sfs:["sfs","sgn"],sgg:["sgg","sgn"],sgx:["sgx","sgn"],shu:["shu","ar"],slf:["slf","sgn"],sls:["sls","sgn"],sqk:["sqk","sgn"],sqs:["sqs","sgn"],ssh:["ssh","ar"],ssp:["ssp","sgn"],ssr:["ssr","sgn"],svk:["svk","sgn"],swc:["swc","sw"],swh:["swh","sw"],swl:["swl","sgn"],syy:["syy","sgn"],tmw:["tmw","ms"],tse:["tse","sgn"],tsm:["tsm","sgn"],tsq:["tsq","sgn"],tss:["tss","sgn"],tsy:["tsy","sgn"],tza:["tza","sgn"],ugn:["ugn","sgn"],ugy:["ugy","sgn"],ukl:["ukl","sgn"],uks:["uks","sgn"],urk:["urk","ms"],uzn:["uzn","uz"],uzs:["uzs","uz"],vgt:["vgt","sgn"],vkk:["vkk","ms"],vkt:["vkt","ms"],vsi:["vsi","sgn"],vsl:["vsl","sgn"],vsv:["vsv","sgn"],wuu:["wuu","zh"],xki:["xki","sgn"],xml:["xml","sgn"],xmm:["xmm","ms"],xms:["xms","sgn"],yds:["yds","sgn"],ysl:["ysl","sgn"],yue:["yue","zh"],zib:["zib","sgn"],zlm:["zlm","ms"],zmi:["zmi","ms"],zsl:["zsl","sgn"],zsm:["zsm","ms"]}};function R(e){for(var t=e.length;t--;){var n=e.charAt(t);n>="a"&&n<="z"&&(e=e.slice(0,t)+n.toUpperCase()+e.slice(t+1))}return e}function I(e){return!!K.test(e)&&!P.test(e)&&!D.test(e)}function L(e){for(var t=void 0,n=void 0,r=1,o=(n=(e=e.toLowerCase()).split("-")).length;r<o;r++)if(2===n[r].length)n[r]=n[r].toUpperCase();else if(4===n[r].length)n[r]=n[r].charAt(0).toUpperCase()+n[r].slice(1);else if(1===n[r].length&&"x"!==n[r])break;(t=(e=k.call(n,"-")).match(A))&&t.length>1&&(t.sort(),e=e.replace(RegExp("(?:"+A.source+")+","i"),k.call(t,""))),p.call(N.tags,e)&&(e=N.tags[e]);for(var i=1,a=(n=e.split("-")).length;i<a;i++)p.call(N.subtags,n[i])?n[i]=N.subtags[n[i]]:p.call(N.extLang,n[i])&&(n[i]=N.extLang[n[i]][0],1===i&&N.extLang[n[1]][1]===n[0]&&(n=y.call(n,i++),a-=1));return k.call(n,"-")}var C=/^[A-Z]{3}$/,U=/-u(?:-[0-9a-z]{2,8})+/gi;function X(e){if(void 0===e)return new x;for(var t=new x,n=F(e="string"==typeof e?[e]:e),r=function(e){var t=function(e){var t=j(e);return isNaN(t)?0:0===t||-0===t||t===1/0||t===-1/0?t:t<0?-1*Math.floor(Math.abs(t)):Math.floor(Math.abs(t))}(n.length);return t<=0?0:t===1/0?Math.pow(2,53)-1:Math.min(t,Math.pow(2,53)-1)}(),o=0;o<r;){var i=String(o);if(i in n){var a=n[i];if(null===a||"string"!=typeof a&&"object"!==(void 0===a?"undefined":l.typeof(a)))throw new TypeError("String or Object type expected");var u=String(a);if(!I(u))throw new RangeError("'"+u+"' is not a structurally valid language tag");u=L(u),-1===d.call(t,u)&&b.call(t,u)}o++}return t}function Z(e,t){for(var n=t;n;){if(d.call(e,n)>-1)return n;var r=n.lastIndexOf("-");if(r<0)return;r>=2&&"-"===n.charAt(r-2)&&(r-=2),n=n.substring(0,r)}}function H(e,t){for(var n=0,r=t.length,o=void 0,i=void 0,a=void 0;n<r&&!o;)i=t[n],o=Z(e,a=String(i).replace(U,"")),n++;var u=new E;if(void 0!==o){if(u["[[locale]]"]=o,String(i)!==String(a)){var s=i.match(U)[0],c=i.indexOf("-u-");u["[[extension]]"]=s,u["[[extensionIndex]]"]=c}}else u["[[locale]]"]=z;return u}function J(e,t,n,r,o){if(0===e.length)throw new ReferenceError("No locale data has been provided for this object yet.");var i,a=(i="lookup"===n["[[localeMatcher]]"]?H(e,t):function(e,t){return H(e,t)}(e,t))["[[locale]]"],u=void 0,s=void 0;p.call(i,"[[extension]]")&&(s=(u=String.prototype.split.call(i["[[extension]]"],"-")).length);var c=new E;c["[[dataLocale]]"]=a;for(var l="-u",f=0,h=r.length;f<h;){var g=r[f],v=o[a][g],y=v[0],m="",b=d;if(void 0!==u){var k=b.call(u,g);if(-1!==k)if(k+1<s&&u[k+1].length>2){var w=u[k+1];-1!==b.call(v,w)&&(m="-"+g+"-"+(y=w))}else-1!==b(v,"true")&&(y="true")}if(p.call(n,"[["+g+"]]")){var S=n["[["+g+"]]"];-1!==b.call(v,S)&&S!==y&&(y=S,m="")}c["[["+g+"]]"]=y,l+=m,f++}if(l.length>2){var M=a.indexOf("-x-");if(-1===M)a+=l;else{var T=a.substring(0,M),x=a.substring(M);a=T+l+x}a=L(a)}return c["[[locale]]"]=a,c}function G(e,t){for(var n=t.length,r=new x,o=0;o<n;){var i=t[o];void 0!==Z(e,String(i).replace(U,""))&&b.call(r,i),o++}return y.call(r)}function q(e,t,n){var r,o=void 0;if(void 0!==n&&void 0!==(o=(n=new E(F(n))).localeMatcher)&&"lookup"!==(o=String(o))&&"best fit"!==o)throw new RangeError('matcher should be "lookup" or "best fit"');for(var i in r=void 0===o||"best fit"===o?function(e,t){return G(e,t)}(e,t):G(e,t))p.call(r,i)&&g(r,i,{writable:!1,configurable:!1,value:r[i]});return g(r,"length",{writable:!1}),r}function B(e,t,n,r,o){var i=e[t];if(void 0!==i){if(i="boolean"===n?Boolean(i):"string"===n?String(i):i,void 0!==r&&-1===d.call(r,i))throw new RangeError("'"+i+"' is not an allowed value for `"+t+"`");return i}return o}function W(e,t,n,r,o){var i=e[t];if(void 0!==i){if(i=Number(i),isNaN(i)||i<n||i>r)throw new RangeError("Value is not a number or outside accepted range");return Math.floor(i)}return o}var V={};Object.defineProperty(V,"getCanonicalLocales",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=X(e),n=[],r=t.length,o=0;o<r;)n[o]=t[o],o++;return n}});var Y={BHD:3,BYR:0,XOF:0,BIF:0,XAF:0,CLF:4,CLP:0,KMF:0,DJF:0,XPF:0,GNF:0,ISK:0,IQD:3,JPY:0,JOD:3,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,RWF:0,TND:3,UGX:0,UYI:0,VUV:0,VND:0};function Q(){var e=arguments[0],t=arguments[1];return this&&this!==V?function(e,t,n){var r=O(e),o=_();if(!0===r["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");g(e,"__getInternalProperties",{value:function(){if(arguments[0]===T)return r}}),r["[[initializedIntlObject]]"]=!0;var i=X(t);n=void 0===n?{}:F(n);var a=new E,u=B(n,"localeMatcher","string",new x("lookup","best fit"),"best fit");a["[[localeMatcher]]"]=u;var s=M.NumberFormat["[[localeData]]"],c=J(M.NumberFormat["[[availableLocales]]"],i,a,M.NumberFormat["[[relevantExtensionKeys]]"],s);r["[[locale]]"]=c["[[locale]]"],r["[[numberingSystem]]"]=c["[[nu]]"],r["[[dataLocale]]"]=c["[[dataLocale]]"];var l=c["[[dataLocale]]"],f=B(n,"style","string",new x("decimal","percent","currency"),"decimal");r["[[style]]"]=f;var p,d=B(n,"currency","string");if(void 0!==d&&(p=R(String(d)),!1===C.test(p)))throw new RangeError("'"+d+"' is not a valid currency code");if("currency"===f&&void 0===d)throw new TypeError("Currency code is required when style is currency");var v=void 0;"currency"===f&&(d=d.toUpperCase(),r["[[currency]]"]=d,v=void 0!==Y[d]?Y[d]:2);var y=B(n,"currencyDisplay","string",new x("code","symbol","name"),"symbol");"currency"===f&&(r["[[currencyDisplay]]"]=y);var m=W(n,"minimumIntegerDigits",1,21,1);r["[[minimumIntegerDigits]]"]=m;var b=W(n,"minimumFractionDigits",0,20,"currency"===f?v:0);r["[[minimumFractionDigits]]"]=b;var k=W(n,"maximumFractionDigits",b,20,"currency"===f?Math.max(b,v):"percent"===f?Math.max(b,0):Math.max(b,3));r["[[maximumFractionDigits]]"]=k;var w=n.minimumSignificantDigits,S=n.maximumSignificantDigits;void 0===w&&void 0===S||(w=W(n,"minimumSignificantDigits",1,21,1),S=W(n,"maximumSignificantDigits",w,21,21),r["[[minimumSignificantDigits]]"]=w,r["[[maximumSignificantDigits]]"]=S);var j=B(n,"useGrouping","boolean",void 0,!0);r["[[useGrouping]]"]=j;var K=s[l].patterns[f];return r["[[positivePattern]]"]=K.positivePattern,r["[[negativePattern]]"]=K.negativePattern,r["[[boundFormat]]"]=void 0,r["[[initializedNumberFormat]]"]=!0,h&&(e.format=$.call(e)),o(),e}(F(this),e,t):new V.NumberFormat(e,t)}function $(){var e=null!==this&&"object"===l.typeof(this)&&O(this);if(!e||!e["[[initializedNumberFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.NumberFormat object.");if(void 0===e["[[boundFormat]]"]){var t=S.call(function(e){return te(this,Number(e))},this);e["[[boundFormat]]"]=t}return e["[[boundFormat]]"]}function ee(e,t){var n=O(e),r=n["[[numberingSystem]]"],o=M.NumberFormat["[[localeData]]"][n["[[dataLocale]]"]],i=o.symbols[r]||o.symbols.latn,a=void 0;!isNaN(t)&&t<0?(t=-t,a=n["[[negativePattern]]"]):a=n["[[positivePattern]]"];for(var u=new x,s=a.indexOf("{",0),c=0,l=0,f=a.length;s>-1&&s<f;){if(-1===(c=a.indexOf("}",s)))throw new Error;if(s>l){var h=a.substring(l,s);b.call(u,{"[[type]]":"literal","[[value]]":h})}var g=a.substring(s+1,c);if("number"===g)if(isNaN(t))b.call(u,{"[[type]]":"nan","[[value]]":i.nan});else if(isFinite(t)){"percent"===n["[[style]]"]&&isFinite(t)&&(t*=100);var d=void 0;d=p.call(n,"[[minimumSignificantDigits]]")&&p.call(n,"[[maximumSignificantDigits]]")?ne(t,n["[[minimumSignificantDigits]]"],n["[[maximumSignificantDigits]]"]):re(t,n["[[minimumIntegerDigits]]"],n["[[minimumFractionDigits]]"],n["[[maximumFractionDigits]]"]),oe[r]?function(){var e=oe[r];d=String(d).replace(/\d/g,function(t){return e[t]})}():d=String(d);var v=void 0,y=void 0,m=d.indexOf(".",0);if(m>0?(v=d.substring(0,m),y=d.substring(m+1,m.length)):(v=d,y=void 0),!0===n["[[useGrouping]]"]){var k=i.group,S=[],T=o.patterns.primaryGroupSize||3,E=o.patterns.secondaryGroupSize||T;if(v.length>T){var _=v.length-T,F=_%E,j=v.slice(0,F);for(j.length&&b.call(S,j);F<_;)b.call(S,v.slice(F,F+E)),F+=E;b.call(S,v.slice(_))}else b.call(S,v);if(0===S.length)throw new Error;for(;S.length;){var K=w.call(S);b.call(u,{"[[type]]":"integer","[[value]]":K}),S.length&&b.call(u,{"[[type]]":"group","[[value]]":k})}}else b.call(u,{"[[type]]":"integer","[[value]]":v});void 0!==y&&(b.call(u,{"[[type]]":"decimal","[[value]]":i.decimal}),b.call(u,{"[[type]]":"fraction","[[value]]":y}))}else b.call(u,{"[[type]]":"infinity","[[value]]":i.infinity});else if("plusSign"===g)b.call(u,{"[[type]]":"plusSign","[[value]]":i.plusSign});else if("minusSign"===g)b.call(u,{"[[type]]":"minusSign","[[value]]":i.minusSign});else if("percentSign"===g&&"percent"===n["[[style]]"])b.call(u,{"[[type]]":"literal","[[value]]":i.percentSign});else if("currency"===g&&"currency"===n["[[style]]"]){var P=n["[[currency]]"],D=void 0;"code"===n["[[currencyDisplay]]"]?D=P:"symbol"===n["[[currencyDisplay]]"]?D=o.currencies[P]||P:"name"===n["[[currencyDisplay]]"]&&(D=P),b.call(u,{"[[type]]":"currency","[[value]]":D})}else{var A=a.substring(s,c);b.call(u,{"[[type]]":"literal","[[value]]":A})}s=a.indexOf("{",l=c+1)}if(l<f){var z=a.substring(l,f);b.call(u,{"[[type]]":"literal","[[value]]":z})}return u}function te(e,t){for(var n=ee(e,t),r="",o=0;n.length>o;o++)r+=n[o]["[[value]]"];return r}function ne(e,t,n){var r=n,o=void 0,i=void 0;if(0===e)o=k.call(Array(r+1),"0"),i=0;else{i=function(e){if("function"==typeof Math.log10)return Math.floor(Math.log10(e));var t=Math.round(Math.log(e)*Math.LOG10E);return t-(Number("1e"+t)>e)}(Math.abs(e));var a=Math.round(Math.exp(Math.abs(i-r+1)*Math.LN10));o=String(Math.round(i-r+1<0?e*a:e/a))}if(i>=r)return o+k.call(Array(i-r+1+1),"0");if(i===r-1)return o;if(i>=0?o=o.slice(0,i+1)+"."+o.slice(i+1):i<0&&(o="0."+k.call(Array(1-(i+1)),"0")+o),o.indexOf(".")>=0&&n>t){for(var u=n-t;u>0&&"0"===o.charAt(o.length-1);)o=o.slice(0,-1),u--;"."===o.charAt(o.length-1)&&(o=o.slice(0,-1))}return o}function re(e,t,n,r){var o,i=r,a=Math.pow(10,i)*e,u=0===a?"0":a.toFixed(0),s=(o=u.indexOf("e"))>-1?u.slice(o+1):0;s&&(u=u.slice(0,o).replace(".",""),u+=k.call(Array(s-(u.length-1)+1),"0"));var c=void 0;if(0!==i){var l=u.length;l<=i&&(u=k.call(Array(i+1-l+1),"0")+u,l=i+1);var f=u.substring(0,l-i),h=u.substring(l-i,u.length);u=f+"."+h,c=f.length}else c=u.length;for(var p=r-n;p>0&&"0"===u.slice(-1);)u=u.slice(0,-1),p--;return"."===u.slice(-1)&&(u=u.slice(0,-1)),c<t&&(u=k.call(Array(t-c+1),"0")+u),u}g(V,"NumberFormat",{configurable:!0,writable:!0,value:Q}),g(V.NumberFormat,"prototype",{writable:!1}),M.NumberFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["nu"],"[[localeData]]":{}},g(V.NumberFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:S.call(function(e){if(!p.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=_(),n=arguments[1],r=this["[[availableLocales]]"],o=X(e);return t(),q(r,o,n)},M.NumberFormat)}),g(V.NumberFormat.prototype,"format",{configurable:!0,get:$}),Object.defineProperty(V.NumberFormat.prototype,"formatToParts",{configurable:!0,enumerable:!1,writable:!0,value:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],t=null!==this&&"object"===l.typeof(this)&&O(this);if(!t||!t["[[initializedNumberFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.NumberFormat object.");return function(t,n){for(var r=ee(t,Number(e)),o=[],i=0,a=0;r.length>a;a++){var u=r[a],s={};s.type=u["[[type]]"],s.value=u["[[value]]"],o[i]=s,i+=1}return o}(this)}});var oe={arab:["\u0660","\u0661","\u0662","\u0663","\u0664","\u0665","\u0666","\u0667","\u0668","\u0669"],arabext:["\u06f0","\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9"],bali:["\u1b50","\u1b51","\u1b52","\u1b53","\u1b54","\u1b55","\u1b56","\u1b57","\u1b58","\u1b59"],beng:["\u09e6","\u09e7","\u09e8","\u09e9","\u09ea","\u09eb","\u09ec","\u09ed","\u09ee","\u09ef"],deva:["\u0966","\u0967","\u0968","\u0969","\u096a","\u096b","\u096c","\u096d","\u096e","\u096f"],fullwide:["\uff10","\uff11","\uff12","\uff13","\uff14","\uff15","\uff16","\uff17","\uff18","\uff19"],gujr:["\u0ae6","\u0ae7","\u0ae8","\u0ae9","\u0aea","\u0aeb","\u0aec","\u0aed","\u0aee","\u0aef"],guru:["\u0a66","\u0a67","\u0a68","\u0a69","\u0a6a","\u0a6b","\u0a6c","\u0a6d","\u0a6e","\u0a6f"],hanidec:["\u3007","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],khmr:["\u17e0","\u17e1","\u17e2","\u17e3","\u17e4","\u17e5","\u17e6","\u17e7","\u17e8","\u17e9"],knda:["\u0ce6","\u0ce7","\u0ce8","\u0ce9","\u0cea","\u0ceb","\u0cec","\u0ced","\u0cee","\u0cef"],laoo:["\u0ed0","\u0ed1","\u0ed2","\u0ed3","\u0ed4","\u0ed5","\u0ed6","\u0ed7","\u0ed8","\u0ed9"],latn:["0","1","2","3","4","5","6","7","8","9"],limb:["\u1946","\u1947","\u1948","\u1949","\u194a","\u194b","\u194c","\u194d","\u194e","\u194f"],mlym:["\u0d66","\u0d67","\u0d68","\u0d69","\u0d6a","\u0d6b","\u0d6c","\u0d6d","\u0d6e","\u0d6f"],mong:["\u1810","\u1811","\u1812","\u1813","\u1814","\u1815","\u1816","\u1817","\u1818","\u1819"],mymr:["\u1040","\u1041","\u1042","\u1043","\u1044","\u1045","\u1046","\u1047","\u1048","\u1049"],orya:["\u0b66","\u0b67","\u0b68","\u0b69","\u0b6a","\u0b6b","\u0b6c","\u0b6d","\u0b6e","\u0b6f"],tamldec:["\u0be6","\u0be7","\u0be8","\u0be9","\u0bea","\u0beb","\u0bec","\u0bed","\u0bee","\u0bef"],telu:["\u0c66","\u0c67","\u0c68","\u0c69","\u0c6a","\u0c6b","\u0c6c","\u0c6d","\u0c6e","\u0c6f"],thai:["\u0e50","\u0e51","\u0e52","\u0e53","\u0e54","\u0e55","\u0e56","\u0e57","\u0e58","\u0e59"],tibt:["\u0f20","\u0f21","\u0f22","\u0f23","\u0f24","\u0f25","\u0f26","\u0f27","\u0f28","\u0f29"]};g(V.NumberFormat.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var e=void 0,t=new E,n=["locale","numberingSystem","style","currency","currencyDisplay","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","useGrouping"],r=null!==this&&"object"===l.typeof(this)&&O(this);if(!r||!r["[[initializedNumberFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.NumberFormat object.");for(var o=0,i=n.length;o<i;o++)p.call(r,e="[["+n[o]+"]]")&&(t[n[o]]={value:r[e],writable:!0,configurable:!0,enumerable:!0});return v({},t)}});var ie=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g,ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ue=/[rqQASjJgwWIQq]/,se=["era","year","month","day","weekday","quarter"],ce=["hour","minute","second","hour12","timeZoneName"];function le(e){for(var t=0;t<ce.length;t+=1)if(e.hasOwnProperty(ce[t]))return!1;return!0}function fe(e){for(var t=0;t<se.length;t+=1)if(e.hasOwnProperty(se[t]))return!1;return!0}function he(e,t){for(var n={_:{}},r=0;r<se.length;r+=1)e[se[r]]&&(n[se[r]]=e[se[r]]),e._[se[r]]&&(n._[se[r]]=e._[se[r]]);for(var o=0;o<ce.length;o+=1)t[ce[o]]&&(n[ce[o]]=t[ce[o]]),t._[ce[o]]&&(n._[ce[o]]=t._[ce[o]]);return n}function pe(e){return e.pattern12=e.extendedPattern.replace(/'([^']*)'/g,function(e,t){return t||"'"}),e.pattern=e.pattern12.replace("{ampm}","").replace(ae,""),e}function ge(e,t){switch(e.charAt(0)){case"G":return t.era=["short","short","short","long","narrow"][e.length-1],"{era}";case"y":case"Y":case"u":case"U":case"r":return t.year=2===e.length?"2-digit":"numeric","{year}";case"Q":case"q":return t.quarter=["numeric","2-digit","short","long","narrow"][e.length-1],"{quarter}";case"M":case"L":return t.month=["numeric","2-digit","short","long","narrow"][e.length-1],"{month}";case"w":return t.week=2===e.length?"2-digit":"numeric","{weekday}";case"W":return t.week="numeric","{weekday}";case"d":return t.day=2===e.length?"2-digit":"numeric","{day}";case"D":case"F":case"g":return t.day="numeric","{day}";case"E":return t.weekday=["short","short","short","long","narrow","short"][e.length-1],"{weekday}";case"e":return t.weekday=["numeric","2-digit","short","long","narrow","short"][e.length-1],"{weekday}";case"c":return t.weekday=["numeric",void 0,"short","long","narrow","short"][e.length-1],"{weekday}";case"a":case"b":case"B":return t.hour12=!0,"{ampm}";case"h":case"H":return t.hour=2===e.length?"2-digit":"numeric","{hour}";case"k":case"K":return t.hour12=!0,t.hour=2===e.length?"2-digit":"numeric","{hour}";case"m":return t.minute=2===e.length?"2-digit":"numeric","{minute}";case"s":return t.second=2===e.length?"2-digit":"numeric","{second}";case"S":case"A":return t.second="numeric","{second}";case"z":case"Z":case"O":case"v":case"V":case"X":case"x":return t.timeZoneName=e.length<4?"short":"long","{timeZoneName}"}}function de(e,t){if(!ue.test(t)){var n={originalPattern:t,_:{}};return n.extendedPattern=t.replace(ie,function(e){return ge(e,n._)}),e.replace(ie,function(e){return ge(e,n)}),pe(n)}}var ve={second:{numeric:"s","2-digit":"ss"},minute:{numeric:"m","2-digit":"mm"},year:{numeric:"y","2-digit":"yy"},day:{numeric:"d","2-digit":"dd"},month:{numeric:"L","2-digit":"LL",narrow:"LLLLL",short:"LLL",long:"LLLL"},weekday:{narrow:"ccccc",short:"ccc",long:"cccc"}},ye=v(null,{narrow:{},short:{},long:{}});function me(e,t,n,r,o){var i=e[t]&&e[t][n]?e[t][n]:e.gregory[n],a={narrow:["short","long"],short:["long","narrow"],long:["short","narrow"]},u=p.call(i,r)?i[r]:p.call(i,a[r][0])?i[a[r][0]]:i[a[r][1]];return null!==o?u[o]:u}function be(){var e=arguments[0],t=arguments[1];return this&&this!==V?function(e,t,n){var r=O(e),o=_();if(!0===r["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");g(e,"__getInternalProperties",{value:function(){if(arguments[0]===T)return r}}),r["[[initializedIntlObject]]"]=!0;var i=X(t);n=we(n,"any","date");var a=new E,s=B(n,"localeMatcher","string",new x("lookup","best fit"),"best fit");a["[[localeMatcher]]"]=s;var c=M.DateTimeFormat,l=c["[[localeData]]"],f=J(c["[[availableLocales]]"],i,a,c["[[relevantExtensionKeys]]"],l);r["[[locale]]"]=f["[[locale]]"],r["[[calendar]]"]=f["[[ca]]"],r["[[numberingSystem]]"]=f["[[nu]]"],r["[[dataLocale]]"]=f["[[dataLocale]]"];var v=f["[[dataLocale]]"],y=n.timeZone;if(void 0!==y&&"UTC"!==(y=R(y)))throw new RangeError("timeZone is not supported.");for(var m in r["[[timeZone]]"]=y,a=new E,ke)if(p.call(ke,m)){var b=B(n,m,"string",ke[m]);a["[["+m+"]]"]=b}var k=void 0,w=l[v],S=function(e){return"[object Array]"===Object.prototype.toString.call(e)?e:function(e){var t=e.availableFormats,n=e.timeFormats,r=e.dateFormats,o=[],i=void 0,a=void 0,u=void 0,s=void 0,c=void 0,l=[],f=[];for(i in t)t.hasOwnProperty(i)&&(u=de(i,a=t[i]))&&(o.push(u),le(u)?f.push(u):fe(u)&&l.push(u));for(i in n)n.hasOwnProperty(i)&&(u=de(i,a=n[i]))&&(o.push(u),l.push(u));for(i in r)r.hasOwnProperty(i)&&(u=de(i,a=r[i]))&&(o.push(u),f.push(u));for(s=0;s<l.length;s+=1)for(c=0;c<f.length;c+=1)a="long"===f[c].month?f[c].weekday?e.full:e.long:"short"===f[c].month?e.medium:e.short,(u=he(f[c],l[s])).originalPattern=a,u.extendedPattern=a.replace("{0}",l[s].extendedPattern).replace("{1}",f[c].extendedPattern).replace(/^[,\s]+|[,\s]+$/gi,""),o.push(pe(u));return o}(e)}(w.formats);if(s=B(n,"formatMatcher","string",new x("basic","best fit"),"best fit"),w.formats=S,"basic"===s)k=function(e,t){for(var n=-1/0,r=void 0,o=0,i=t.length;o<i;){var a=t[o],u=0;for(var s in ke)if(p.call(ke,s)){var c=e["[["+s+"]]"],l=p.call(a,s)?a[s]:void 0;if(void 0===c&&void 0!==l)u-=20;else if(void 0!==c&&void 0===l)u-=120;else{var f=["2-digit","numeric","narrow","short","long"],h=d.call(f,c),g=d.call(f,l),v=Math.max(Math.min(g-h,2),-2);2===v?u-=6:1===v?u-=3:-1===v?u-=6:-2===v&&(u-=8)}}u>n&&(n=u,r=a),o++}return r}(a,S);else{var F=B(n,"hour12","boolean");a.hour12=void 0===F?w.hour12:F,k=function(e,t){var n=[];for(var r in ke)p.call(ke,r)&&void 0!==e["[["+r+"]]"]&&n.push(r);if(1===n.length){var o=function(e,t){var n;if(ve[e]&&ve[e][t])return n={originalPattern:ve[e][t],_:u({},e,t),extendedPattern:"{"+e+"}"},u(n,e,t),u(n,"pattern12","{"+e+"}"),u(n,"pattern","{"+e+"}"),n}(n[0],e["[["+n[0]+"]]"]);if(o)return o}for(var i=-1/0,a=void 0,s=0,c=t.length;s<c;){var l=t[s],f=0;for(var h in ke)if(p.call(ke,h)){var g=e["[["+h+"]]"],v=p.call(l,h)?l[h]:void 0;if(g!==(p.call(l._,h)?l._[h]:void 0)&&(f-=2),void 0===g&&void 0!==v)f-=20;else if(void 0!==g&&void 0===v)f-=120;else{var y=["2-digit","numeric","narrow","short","long"],m=d.call(y,g),b=d.call(y,v),k=Math.max(Math.min(b-m,2),-2);b<=1&&m>=2||b>=2&&m<=1?k>0?f-=6:k<0&&(f-=8):k>1?f-=3:k<-1&&(f-=6)}}l._.hour12!==e.hour12&&(f-=1),f>i&&(i=f,a=l),s++}return a}(a,S)}for(var j in ke)if(p.call(ke,j)&&p.call(k,j)){var K=k[j];K=k._&&p.call(k._,j)?k._[j]:K,r["[["+j+"]]"]=K}var P=void 0,D=B(n,"hour12","boolean");return r["[[hour]]"]?(r["[[hour12]]"]=D=void 0===D?w.hour12:D,!0===D?(r["[[hourNo0]]"]=w.hourNo0,P=k.pattern12):P=k.pattern):P=k.pattern,r["[[pattern]]"]=P,r["[[boundFormat]]"]=void 0,r["[[initializedDateTimeFormat]]"]=!0,h&&(e.format=Se.call(e)),o(),e}(F(this),e,t):new V.DateTimeFormat(e,t)}g(V,"DateTimeFormat",{configurable:!0,writable:!0,value:be}),g(be,"prototype",{writable:!1});var ke={weekday:["narrow","short","long"],era:["narrow","short","long"],year:["2-digit","numeric"],month:["2-digit","numeric","narrow","short","long"],day:["2-digit","numeric"],hour:["2-digit","numeric"],minute:["2-digit","numeric"],second:["2-digit","numeric"],timeZoneName:["short","long"]};function we(e,t,n){if(void 0===e)e=null;else{var r=F(e);for(var o in e=new E,r)e[o]=r[o]}e=v(e);var i=!0;return"date"!==t&&"any"!==t||void 0===e.weekday&&void 0===e.year&&void 0===e.month&&void 0===e.day||(i=!1),"time"!==t&&"any"!==t||void 0===e.hour&&void 0===e.minute&&void 0===e.second||(i=!1),!i||"date"!==n&&"all"!==n||(e.year=e.month=e.day="numeric"),!i||"time"!==n&&"all"!==n||(e.hour=e.minute=e.second="numeric"),e}function Se(){var e=null!==this&&"object"===l.typeof(this)&&O(this);if(!e||!e["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.DateTimeFormat object.");if(void 0===e["[[boundFormat]]"]){var t=S.call(function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return Te(this,void 0===e?Date.now():j(e))},this);e["[[boundFormat]]"]=t}return e["[[boundFormat]]"]}function Me(e,t){if(!isFinite(t))throw new RangeError("Invalid valid date passed to format");var n=e.__getInternalProperties(T);_();for(var r,o,i,a=n["[[locale]]"],u=new V.NumberFormat([a],{useGrouping:!1}),s=new V.NumberFormat([a],{minimumIntegerDigits:2,useGrouping:!1}),c=(r=n["[[timeZone]]"],new E({"[[weekday]]":(o=new Date(t))[(i="get"+(r||""))+"Day"](),"[[era]]":+(o[i+"FullYear"]()>=0),"[[year]]":o[i+"FullYear"](),"[[month]]":o[i+"Month"](),"[[day]]":o[i+"Date"](),"[[hour]]":o[i+"Hours"](),"[[minute]]":o[i+"Minutes"](),"[[second]]":o[i+"Seconds"](),"[[inDST]]":!1})),l=n["[[pattern]]"],f=new x,h=0,p=l.indexOf("{"),g=0,d=M.DateTimeFormat["[[localeData]]"][n["[[dataLocale]]"]].calendars,v=n["[[calendar]]"];-1!==p;){var y=void 0;if(-1===(g=l.indexOf("}",p)))throw new Error("Unclosed pattern");p>h&&b.call(f,{type:"literal",value:l.substring(h,p)});var m=l.substring(p+1,g);if(ke.hasOwnProperty(m)){var k=n["[["+m+"]]"],w=c["[["+m+"]]"];if("year"===m&&w<=0?w=1-w:"month"===m?w++:"hour"===m&&!0===n["[[hour12]]"]&&0==(w%=12)&&!0===n["[[hourNo0]]"]&&(w=12),"numeric"===k)y=te(u,w);else if("2-digit"===k)(y=te(s,w)).length>2&&(y=y.slice(-2));else if(k in ye)switch(m){case"month":y=me(d,v,"months",k,c["[["+m+"]]"]);break;case"weekday":try{y=me(d,v,"days",k,c["[["+m+"]]"])}catch(S){throw new Error("Could not find weekday data for locale "+a)}break;case"timeZoneName":y="";break;case"era":try{y=me(d,v,"eras",k,c["[["+m+"]]"])}catch(S){throw new Error("Could not find era data for locale "+a)}break;default:y=c["[["+m+"]]"]}b.call(f,{type:m,value:y})}else"ampm"===m?(y=me(d,v,"dayPeriods",c["[[hour]]"]>11?"pm":"am",null),b.call(f,{type:"dayPeriod",value:y})):b.call(f,{type:"literal",value:l.substring(p,g+1)});p=l.indexOf("{",h=g+1)}return g<l.length-1&&b.call(f,{type:"literal",value:l.substr(g+1)}),f}function Te(e,t){for(var n=Me(e,t),r="",o=0;n.length>o;o++)r+=n[o].value;return r}M.DateTimeFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["ca","nu"],"[[localeData]]":{}},g(V.DateTimeFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:S.call(function(e){if(!p.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=_(),n=arguments[1],r=this["[[availableLocales]]"],o=X(e);return t(),q(r,o,n)},M.NumberFormat)}),g(V.DateTimeFormat.prototype,"format",{configurable:!0,get:Se}),Object.defineProperty(V.DateTimeFormat.prototype,"formatToParts",{enumerable:!1,writable:!0,configurable:!0,value:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],t=null!==this&&"object"===l.typeof(this)&&O(this);if(!t||!t["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.DateTimeFormat object.");return function(t,n){for(var r=Me(t,void 0===e?Date.now():j(e)),o=[],i=0;r.length>i;i++){var a=r[i];o.push({type:a.type,value:a.value})}return o}(this)}}),g(V.DateTimeFormat.prototype,"resolvedOptions",{writable:!0,configurable:!0,value:function(){var e=void 0,t=new E,n=["locale","calendar","numberingSystem","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"],r=null!==this&&"object"===l.typeof(this)&&O(this);if(!r||!r["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.DateTimeFormat object.");for(var o=0,i=n.length;o<i;o++)p.call(r,e="[["+n[o]+"]]")&&(t[n[o]]={value:r[e],writable:!0,configurable:!0,enumerable:!0});return v({},t)}});var Ee=V.__localeSensitiveProtos={Number:{},Date:{}};Ee.Number.toLocaleString=function(){if("[object Number]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a number for Number.prototype.toLocaleString()");return te(new Q(arguments[0],arguments[1]),this)},Ee.Date.toLocaleString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[1];return Te(new be(arguments[0],t=we(t,"any","all")),e)},Ee.Date.toLocaleDateString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleDateString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[1];return Te(new be(arguments[0],t=we(t,"date","date")),e)},Ee.Date.toLocaleTimeString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleTimeString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[1];return Te(new be(arguments[0],t=we(t,"time","time")),e)},g(V,"__applyLocaleSensitivePrototypes",{writable:!0,configurable:!0,value:function(){for(var e in g(Number.prototype,"toLocaleString",{writable:!0,configurable:!0,value:Ee.Number.toLocaleString}),g(Date.prototype,"toLocaleString",{writable:!0,configurable:!0,value:Ee.Date.toLocaleString}),Ee.Date)p.call(Ee.Date,e)&&g(Date.prototype,e,{writable:!0,configurable:!0,value:Ee.Date[e]})}}),g(V,"__addLocaleData",{value:function(e){if(!I(e.locale))throw new Error("Object passed doesn't identify itself with a valid language tag");!function(e,t){if(!e.number)throw new Error("Object passed doesn't contain locale data for Intl.NumberFormat");var n=void 0,r=[t],o=t.split("-");for(o.length>2&&4===o[1].length&&b.call(r,o[0]+"-"+o[2]);n=w.call(r);)b.call(M.NumberFormat["[[availableLocales]]"],n),M.NumberFormat["[[localeData]]"][n]=e.number,e.date&&(e.date.nu=e.number.nu,b.call(M.DateTimeFormat["[[availableLocales]]"],n),M.DateTimeFormat["[[localeData]]"][n]=e.date);void 0===z&&(z=t)}(e,e.locale)}}),g(V,"__disableRegExpRestore",{value:function(){M.disableRegExpRestore=!0}}),e.exports=V},"fN/3":function(e,t,n){var r=n("N6cJ"),o=n("y3w9"),i=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return i(o(e),arguments.length<2?void 0:a(arguments[1]))}})},fN96:function(e,t,n){var r=n("XKFU");r(r.S,"Number",{isInteger:n("nBIS")})},fyDq:function(e,t,n){var r=n("hswa").f,o=n("aagx"),i=n("K0xU")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},fyVe:function(e,t,n){var r=n("XKFU"),o=n("1sa7"),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},g3g5:function(e,t){var n=e.exports={version:"2.6.0"};"number"==typeof __e&&(__e=n)},g4EE:function(e,t,n){"use strict";var r=n("y3w9"),o=n("apmT");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},g6HL:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"h/M4":function(e,t,n){var r=n("XKFU");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},h7Nl:function(e,t,n){var r=Date.prototype,o=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n("KroJ")(r,"toString",function(){var e=i.call(this);return e==e?o.call(this):"Invalid Date"})},hEkN:function(e,t,n){"use strict";n("OGtf")("anchor",function(e){return function(t){return e(this,"a","name",t)}})},hHhE:function(e,t,n){var r=n("XKFU");r(r.S,"Object",{create:n("Kuth")})},hLT2:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},"hN/g":function(e,t,n){"use strict";n.r(t),n("scky"),n("vqGA"),n("99sg"),n("4A4+"),n("oka+"),n("ifmr"),n("Lmuc"),n("CuTL"),n("V5/Y"),n("nx1v"),n("dQfE"),n("rfyP"),n("qKs0"),n("hYbK"),n("VXxg"),n("5yqK"),n("VbrY"),n("FZcq"),n("0TWp"),n("FoZm"),n("x+wt")},hPIQ:function(e,t){e.exports={}},hYbK:function(e,t,n){n("Btvt"),n("yt8O"),n("EK0E"),e.exports=n("g3g5").WeakMap},hswa:function(e,t,n){var r=n("y3w9"),o=n("xpql"),i=n("apmT"),a=Object.defineProperty;t.f=n("nh4g")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},i5dc:function(e,t,n){var r=n("0/R4"),o=n("y3w9"),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n("m0Pp")(Function.call,n("EemH").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},iMoV:function(e,t,n){var r=n("hswa"),o=n("XKFU"),i=n("y3w9"),a=n("apmT");o(o.S+o.F*n("eeVq")(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(o){return!1}}})},"iW+S":function(e,t,n){var r=n("N6cJ"),o=n("y3w9"),i=n("OP3Y"),a=r.has,u=r.key,s=function(e,t,n){if(a(e,t,n))return!0;var r=i(t);return null!==r&&s(e,r,n)};r.exp({hasMetadata:function(e,t){return s(e,o(t),arguments.length<3?void 0:u(arguments[2]))}})},ifmr:function(e,t,n){n("tyy+"),e.exports=n("g3g5").parseFloat},ioFf:function(e,t,n){"use strict";var r=n("dyZX"),o=n("aagx"),i=n("nh4g"),a=n("XKFU"),u=n("KroJ"),s=n("Z6vF").KEY,c=n("eeVq"),l=n("VTer"),f=n("fyDq"),h=n("ylqs"),p=n("K0xU"),g=n("N8g3"),d=n("OnI7"),v=n("1MBn"),y=n("EWmC"),m=n("y3w9"),b=n("0/R4"),k=n("aCFj"),w=n("apmT"),S=n("RjD/"),M=n("Kuth"),T=n("e7yV"),E=n("EemH"),x=n("hswa"),_=n("DVgA"),F=E.f,j=x.f,O=T.f,K=r.Symbol,P=r.JSON,D=P&&P.stringify,A=p("_hidden"),z=p("toPrimitive"),N={}.propertyIsEnumerable,R=l("symbol-registry"),I=l("symbols"),L=l("op-symbols"),C=Object.prototype,U="function"==typeof K,X=r.QObject,Z=!X||!X.prototype||!X.prototype.findChild,H=i&&c(function(){return 7!=M(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=F(C,t);r&&delete C[t],j(e,t,n),r&&e!==C&&j(C,t,r)}:j,J=function(e){var t=I[e]=M(K.prototype);return t._k=e,t},G=U&&"symbol"==typeof K.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof K},q=function(e,t,n){return e===C&&q(L,t,n),m(e),t=w(t,!0),m(n),o(I,t)?(n.enumerable?(o(e,A)&&e[A][t]&&(e[A][t]=!1),n=M(n,{enumerable:S(0,!1)})):(o(e,A)||j(e,A,S(1,{})),e[A][t]=!0),H(e,t,n)):j(e,t,n)},B=function(e,t){m(e);for(var n,r=v(t=k(t)),o=0,i=r.length;i>o;)q(e,n=r[o++],t[n]);return e},W=function(e){var t=N.call(this,e=w(e,!0));return!(this===C&&o(I,e)&&!o(L,e))&&(!(t||!o(this,e)||!o(I,e)||o(this,A)&&this[A][e])||t)},V=function(e,t){if(e=k(e),t=w(t,!0),e!==C||!o(I,t)||o(L,t)){var n=F(e,t);return!n||!o(I,t)||o(e,A)&&e[A][t]||(n.enumerable=!0),n}},Y=function(e){for(var t,n=O(k(e)),r=[],i=0;n.length>i;)o(I,t=n[i++])||t==A||t==s||r.push(t);return r},Q=function(e){for(var t,n=e===C,r=O(n?L:k(e)),i=[],a=0;r.length>a;)!o(I,t=r[a++])||n&&!o(C,t)||i.push(I[t]);return i};U||(u((K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===C&&t.call(L,n),o(this,A)&&o(this[A],e)&&(this[A][e]=!1),H(this,e,S(1,n))};return i&&Z&&H(C,e,{configurable:!0,set:t}),J(e)}).prototype,"toString",function(){return this._k}),E.f=V,x.f=q,n("kJMx").f=T.f=Y,n("UqcF").f=W,n("JiEa").f=Q,i&&!n("LQAc")&&u(C,"propertyIsEnumerable",W,!0),g.f=function(e){return J(p(e))}),a(a.G+a.W+a.F*!U,{Symbol:K});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)p($[ee++]);for(var te=_(p.store),ne=0;te.length>ne;)d(te[ne++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(R,e+="")?R[e]:R[e]=K(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?M(e):B(M(e),t)},defineProperty:q,defineProperties:B,getOwnPropertyDescriptor:V,getOwnPropertyNames:Y,getOwnPropertySymbols:Q}),P&&a(a.S+a.F*(!U||c(function(){var e=K();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!G(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,D.apply(P,r)}}),K.prototype[z]||n("Mukb")(K.prototype,z,K.prototype.valueOf),f(K,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},jqX0:function(e,t,n){var r=n("XKFU"),o=n("jtBr");r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},jtBr:function(e,t,n){"use strict";var r=n("eeVq"),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},kJMx:function(e,t,n){var r=n("zhAb"),o=n("4R4u").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},kcoS:function(e,t,n){var r=n("lvtm"),o=Math.pow,i=o(2,-52),a=o(2,-23),u=o(2,127)*(2-a),s=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),c=r(e);return o<s?c*(o/s/a+1/i-1/i)*s*a:(n=(t=(1+a/i)*o)-(t-o))>u||n!=n?c*(1/0):c*n}},klPD:function(e,t,n){var r=n("hswa"),o=n("EemH"),i=n("OP3Y"),a=n("aagx"),u=n("XKFU"),s=n("RjD/"),c=n("y3w9"),l=n("0/R4");u(u.S,"Reflect",{set:function e(t,n,u){var f,h,p=arguments.length<4?t:arguments[3],g=o.f(c(t),n);if(!g){if(l(h=i(t)))return e(h,n,u,p);g=s(0)}if(a(g,"value")){if(!1===g.writable||!l(p))return!1;if(f=o.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=u,r.f(p,n,f)}else r.f(p,n,s(0,u));return!0}return void 0!==g.set&&(g.set.call(p,u),!0)}})},knU9:function(e,t,n){var r=n("XKFU"),o=n("i5dc");o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(n){return!1}}})},knhD:function(e,t,n){var r=n("XKFU");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},l0Rn:function(e,t,n){"use strict";var r=n("RYi7"),o=n("vhPU");e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},lvtm:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},m0Pp:function(e,t,n){var r=n("2OiF");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},mGWK:function(e,t,n){"use strict";var r=n("XKFU"),o=n("aCFj"),i=n("RYi7"),a=n("ne8i"),u=[].lastIndexOf,s=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!n("LyE8")(u)),"Array",{lastIndexOf:function(e){if(s)return u.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},mQtv:function(e,t,n){var r=n("kJMx"),o=n("JiEa"),i=n("y3w9"),a=n("dyZX").Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},mYba:function(e,t,n){var r=n("aCFj"),o=n("EemH").f;n("Xtr8")("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},mura:function(e,t,n){var r=n("0/R4"),o=n("Z6vF").onFreeze;n("Xtr8")("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},nBIS:function(e,t,n){var r=n("0/R4"),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},nGyu:function(e,t,n){var r=n("K0xU")("unscopables"),o=Array.prototype;null==o[r]&&n("Mukb")(o,r,{}),e.exports=function(e){o[r][e]=!0}},nIY7:function(e,t,n){"use strict";n("OGtf")("big",function(e){return function(){return e(this,"big","","")}})},ne8i:function(e,t,n){var r=n("RYi7"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},nh4g:function(e,t,n){e.exports=!n("eeVq")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},nsiH:function(e,t,n){"use strict";n("OGtf")("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},nx1v:function(e,t,n){n("eM6i"),n("AphP"),n("jqX0"),n("h7Nl"),n("yM4b"),e.exports=Date},nzyx:function(e,t,n){var r=n("XKFU"),o=n("LVwc");r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},oDIu:function(e,t,n){"use strict";var r=n("XKFU"),o=n("AvRE")(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},"oZ/O":function(e,t,n){var r=n("XKFU"),o=n("y3w9"),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(t){return!1}}})},"oka+":function(e,t,n){n("GNAe"),e.exports=n("g3g5").parseInt},pIFo:function(e,t,n){"use strict";var r=n("y3w9"),o=n("S/j/"),i=n("ne8i"),a=n("RYi7"),u=n("A5AN"),s=n("Xxuz"),c=Math.max,l=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n("IU+Z")("replace",2,function(e,t,n,g){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=g(n,e,this,t);if(o.done)return o.value;var f=r(e),h=String(this),p="function"==typeof t;p||(t=String(t));var v=f.global;if(v){var y=f.unicode;f.lastIndex=0}for(var m=[];;){var b=s(f,h);if(null===b)break;if(m.push(b),!v)break;""===String(b[0])&&(f.lastIndex=u(h,i(f.lastIndex),y))}for(var k,w="",S=0,M=0;M<m.length;M++){b=m[M];for(var T=String(b[0]),E=c(l(a(b.index),h.length),0),x=[],_=1;_<b.length;_++)x.push(void 0===(k=b[_])?k:String(k));var F=b.groups;if(p){var j=[T].concat(x,E,h);void 0!==F&&j.push(F);var O=String(t.apply(void 0,j))}else O=d(T,h,E,x,F,t);E>=S&&(w+=h.slice(S,E)+O,S=E+T.length)}return w+h.slice(S)}];function d(e,t,r,i,a,u){var s=r+e.length,c=i.length,l=p;return void 0!==a&&(a=o(a),l=h),n.call(u,l,function(n,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":u=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return o;if(l>c){var h=f(l/10);return 0===h?o:h<=c?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):o}u=i[l-1]}return void 0===u?"":u})}})},"pp/T":function(e,t,n){var r=n("XKFU");r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},qKs0:function(e,t,n){n("Btvt"),n("XfO3"),n("rGqo"),n("9AAn"),e.exports=n("g3g5").Map},qncB:function(e,t,n){var r=n("XKFU"),o=n("vhPU"),i=n("eeVq"),a=n("/e88"),u="["+a+"]",s=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),l=function(e,t,n){var o={},u=i(function(){return!!a[e]()||"\u200b\x85"!="\u200b\x85"[e]()}),s=o[e]=u?t(f):a[e];n&&(o[n]=s),r(r.P+r.F*u,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},quPj:function(e,t,n){var r=n("0/R4"),o=n("LZWt"),i=n("K0xU")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},rGqo:function(e,t,n){for(var r=n("yt8O"),o=n("DVgA"),i=n("KroJ"),a=n("dyZX"),u=n("Mukb"),s=n("hPIQ"),c=n("K0xU"),l=c("iterator"),f=c("toStringTag"),h=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=o(p),d=0;d<g.length;d++){var v,y=g[d],m=p[y],b=a[y],k=b&&b.prototype;if(k&&(k[l]||u(k,l,h),k[f]||u(k,f,y),s[y]=h,m))for(v in r)k[v]||i(k,v,r[v],!0)}},rfyP:function(e,t,n){n("Oyvg"),n("sMXx"),n("a1Th"),n("OEbY"),n("SRfc"),n("pIFo"),n("OG14"),n("KKXr"),e.exports=n("g3g5").RegExp},rvZc:function(e,t,n){"use strict";var r=n("XKFU"),o=n("ne8i"),i=n("0sh+"),a="".endsWith;r(r.P+r.F*n("UUeW")("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),u=void 0===n?r:Math.min(o(n),r),s=String(e);return a?a.call(t,s,u):t.slice(u-s.length,u)===s}})},s5qY:function(e,t,n){var r=n("0/R4");e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},sMXx:function(e,t,n){"use strict";var r=n("Ugos");n("XKFU")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},sbF8:function(e,t,n){var r=n("XKFU"),o=n("nBIS"),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},scky:function(e,t){window.global=window},tUrg:function(e,t,n){"use strict";n("OGtf")("link",function(e){return function(t){return e(this,"a","href",t)}})},"tyy+":function(e,t,n){var r=n("XKFU"),o=n("11IZ");r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},uAtd:function(e,t,n){var r=n("T39b"),o=n("Q3ne"),i=n("N6cJ"),a=n("y3w9"),u=n("OP3Y"),s=i.keys,c=i.key,l=function(e,t){var n=s(e,t),i=u(e);if(null===i)return n;var a=l(i,t);return a.length?n.length?o(new r(n.concat(a))):a:n};i.exp({getMetadataKeys:function(e){return l(a(e),arguments.length<2?void 0:c(arguments[1]))}})},uhZd:function(e,t,n){var r=n("XKFU"),o=n("EemH").f,i=n("y3w9");r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},upKx:function(e,t,n){"use strict";var r=n("S/j/"),o=n("d/Gc"),i=n("ne8i");e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),u=o(e,a),s=o(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-s,a-u),f=1;for(s<u&&u<s+l&&(f=-1,s+=l-1,u+=l-1);l-- >0;)s in n?n[u]=n[s]:delete n[u],u+=f,s+=f;return n}},vhPU:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},vqGA:function(e,t,n){n("ioFf"),n("Btvt"),e.exports=n("g3g5").Symbol},vvmO:function(e,t,n){var r=n("LZWt");e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},w2a5:function(e,t,n){var r=n("aCFj"),o=n("ne8i"),i=n("d/Gc");e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},wmvG:function(e,t,n){"use strict";var r=n("hswa").f,o=n("Kuth"),i=n("3Lyj"),a=n("m0Pp"),u=n("9gX7"),s=n("SlkY"),c=n("Afnz"),l=n("1TsA"),f=n("elZq"),h=n("nh4g"),p=n("Z6vF").fastKey,g=n("s5qY"),d=h?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){u(e,l,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[d]=0,null!=r&&s(r,n,e[c],e)});return i(l.prototype,{clear:function(){for(var e=g(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[d]=0},delete:function(e){var n=g(this,t),r=v(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(e){g(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(g(this,t),e)}}),h&&r(l.prototype,"size",{get:function(){return g(this,t)[d]}}),l},def:function(e,t,n){var r,o,i=v(e,t);return i?i.v=n:(e._l=i={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[d]++,"F"!==o&&(e._i[o]=i)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=g(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},"x+wt":function(e,t){IntlPolyfill.__addLocaleData({locale:"en",date:{ca:["gregory","buddhist","chinese","coptic","dangi","ethioaa","ethiopic","generic","hebrew","indian","islamic","islamicc","japanese","persian","roc"],hourNo0:!0,hour12:!0,formats:{short:"{1}, {0}",medium:"{1}, {0}",full:"{1} 'at' {0}",long:"{1} 'at' {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y"},dateFormats:{yMMMMEEEEd:"EEEE, MMMM d, y",yMMMMd:"MMMM d, y",yMMMd:"MMM d, y",yMd:"M/d/yy"},timeFormats:{hmmsszzzz:"h:mm:ss a zzzz",hmsz:"h:mm:ss a z",hms:"h:mm:ss a",hm:"h:mm a"}},calendars:{buddhist:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["BE"],short:["BE"],long:["BE"]},dayPeriods:{am:"AM",pm:"PM"}},chinese:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},coptic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"],long:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},dangi:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},ethiopic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},ethioaa:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0"],short:["ERA0"],long:["ERA0"]},dayPeriods:{am:"AM",pm:"PM"}},generic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],long:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},gregory:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["B","A","BCE","CE"],short:["BC","AD","BCE","CE"],long:["Before Christ","Anno Domini","Before Common Era","Common Era"]},dayPeriods:{am:"AM",pm:"PM"}},hebrew:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13","7"],short:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"],long:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AM"],short:["AM"],long:["AM"]},dayPeriods:{am:"AM",pm:"PM"}},indian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"],long:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Saka"],short:["Saka"],long:["Saka"]},dayPeriods:{am:"AM",pm:"PM"}},islamic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},islamicc:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},japanese:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Taika (645\u2013650)","Hakuchi (650\u2013671)","Hakuh\u014d (672\u2013686)","Shuch\u014d (686\u2013701)","Taih\u014d (701\u2013704)","Keiun (704\u2013708)","Wad\u014d (708\u2013715)","Reiki (715\u2013717)","Y\u014dr\u014d (717\u2013724)","Jinki (724\u2013729)","Tenpy\u014d (729\u2013749)","Tenpy\u014d-kamp\u014d (749-749)","Tenpy\u014d-sh\u014dh\u014d (749-757)","Tenpy\u014d-h\u014dji (757-765)","Tenpy\u014d-jingo (765-767)","Jingo-keiun (767-770)","H\u014dki (770\u2013780)","Ten-\u014d (781-782)","Enryaku (782\u2013806)","Daid\u014d (806\u2013810)","K\u014dnin (810\u2013824)","Tench\u014d (824\u2013834)","J\u014dwa (834\u2013848)","Kaj\u014d (848\u2013851)","Ninju (851\u2013854)","Saik\u014d (854\u2013857)","Ten-an (857-859)","J\u014dgan (859\u2013877)","Gangy\u014d (877\u2013885)","Ninna (885\u2013889)","Kanpy\u014d (889\u2013898)","Sh\u014dtai (898\u2013901)","Engi (901\u2013923)","Ench\u014d (923\u2013931)","J\u014dhei (931\u2013938)","Tengy\u014d (938\u2013947)","Tenryaku (947\u2013957)","Tentoku (957\u2013961)","\u014cwa (961\u2013964)","K\u014dh\u014d (964\u2013968)","Anna (968\u2013970)","Tenroku (970\u2013973)","Ten\u2019en (973\u2013976)","J\u014dgen (976\u2013978)","Tengen (978\u2013983)","Eikan (983\u2013985)","Kanna (985\u2013987)","Eien (987\u2013989)","Eiso (989\u2013990)","Sh\u014dryaku (990\u2013995)","Ch\u014dtoku (995\u2013999)","Ch\u014dh\u014d (999\u20131004)","Kank\u014d (1004\u20131012)","Ch\u014dwa (1012\u20131017)","Kannin (1017\u20131021)","Jian (1021\u20131024)","Manju (1024\u20131028)","Ch\u014dgen (1028\u20131037)","Ch\u014dryaku (1037\u20131040)","Ch\u014dky\u016b (1040\u20131044)","Kantoku (1044\u20131046)","Eish\u014d (1046\u20131053)","Tengi (1053\u20131058)","K\u014dhei (1058\u20131065)","Jiryaku (1065\u20131069)","Enky\u016b (1069\u20131074)","Sh\u014dho (1074\u20131077)","Sh\u014dryaku (1077\u20131081)","Eih\u014d (1081\u20131084)","\u014ctoku (1084\u20131087)","Kanji (1087\u20131094)","Kah\u014d (1094\u20131096)","Eich\u014d (1096\u20131097)","J\u014dtoku (1097\u20131099)","K\u014dwa (1099\u20131104)","Ch\u014dji (1104\u20131106)","Kash\u014d (1106\u20131108)","Tennin (1108\u20131110)","Ten-ei (1110-1113)","Eiky\u016b (1113\u20131118)","Gen\u2019ei (1118\u20131120)","H\u014dan (1120\u20131124)","Tenji (1124\u20131126)","Daiji (1126\u20131131)","Tensh\u014d (1131\u20131132)","Ch\u014dsh\u014d (1132\u20131135)","H\u014den (1135\u20131141)","Eiji (1141\u20131142)","K\u014dji (1142\u20131144)","Ten\u2019y\u014d (1144\u20131145)","Ky\u016ban (1145\u20131151)","Ninpei (1151\u20131154)","Ky\u016bju (1154\u20131156)","H\u014dgen (1156\u20131159)","Heiji (1159\u20131160)","Eiryaku (1160\u20131161)","\u014cho (1161\u20131163)","Ch\u014dkan (1163\u20131165)","Eiman (1165\u20131166)","Nin\u2019an (1166\u20131169)","Ka\u014d (1169\u20131171)","Sh\u014dan (1171\u20131175)","Angen (1175\u20131177)","Jish\u014d (1177\u20131181)","Y\u014dwa (1181\u20131182)","Juei (1182\u20131184)","Genryaku (1184\u20131185)","Bunji (1185\u20131190)","Kenky\u016b (1190\u20131199)","Sh\u014dji (1199\u20131201)","Kennin (1201\u20131204)","Genky\u016b (1204\u20131206)","Ken\u2019ei (1206\u20131207)","J\u014dgen (1207\u20131211)","Kenryaku (1211\u20131213)","Kenp\u014d (1213\u20131219)","J\u014dky\u016b (1219\u20131222)","J\u014d\u014d (1222\u20131224)","Gennin (1224\u20131225)","Karoku (1225\u20131227)","Antei (1227\u20131229)","Kanki (1229\u20131232)","J\u014dei (1232\u20131233)","Tenpuku (1233\u20131234)","Bunryaku (1234\u20131235)","Katei (1235\u20131238)","Ryakunin (1238\u20131239)","En\u2019\u014d (1239\u20131240)","Ninji (1240\u20131243)","Kangen (1243\u20131247)","H\u014dji (1247\u20131249)","Kench\u014d (1249\u20131256)","K\u014dgen (1256\u20131257)","Sh\u014dka (1257\u20131259)","Sh\u014dgen (1259\u20131260)","Bun\u2019\u014d (1260\u20131261)","K\u014dch\u014d (1261\u20131264)","Bun\u2019ei (1264\u20131275)","Kenji (1275\u20131278)","K\u014dan (1278\u20131288)","Sh\u014d\u014d (1288\u20131293)","Einin (1293\u20131299)","Sh\u014dan (1299\u20131302)","Kengen (1302\u20131303)","Kagen (1303\u20131306)","Tokuji (1306\u20131308)","Enky\u014d (1308\u20131311)","\u014cch\u014d (1311\u20131312)","Sh\u014dwa (1312\u20131317)","Bunp\u014d (1317\u20131319)","Gen\u014d (1319\u20131321)","Genk\u014d (1321\u20131324)","Sh\u014dch\u016b (1324\u20131326)","Karyaku (1326\u20131329)","Gentoku (1329\u20131331)","Genk\u014d (1331\u20131334)","Kenmu (1334\u20131336)","Engen (1336\u20131340)","K\u014dkoku (1340\u20131346)","Sh\u014dhei (1346\u20131370)","Kentoku (1370\u20131372)","Bunch\u016b (1372\u20131375)","Tenju (1375\u20131379)","K\u014dryaku (1379\u20131381)","K\u014dwa (1381\u20131384)","Gench\u016b (1384\u20131392)","Meitoku (1384\u20131387)","Kakei (1387\u20131389)","K\u014d\u014d (1389\u20131390)","Meitoku (1390\u20131394)","\u014cei (1394\u20131428)","Sh\u014dch\u014d (1428\u20131429)","Eiky\u014d (1429\u20131441)","Kakitsu (1441\u20131444)","Bun\u2019an (1444\u20131449)","H\u014dtoku (1449\u20131452)","Ky\u014dtoku (1452\u20131455)","K\u014dsh\u014d (1455\u20131457)","Ch\u014droku (1457\u20131460)","Kansh\u014d (1460\u20131466)","Bunsh\u014d (1466\u20131467)","\u014cnin (1467\u20131469)","Bunmei (1469\u20131487)","Ch\u014dky\u014d (1487\u20131489)","Entoku (1489\u20131492)","Mei\u014d (1492\u20131501)","Bunki (1501\u20131504)","Eish\u014d (1504\u20131521)","Taiei (1521\u20131528)","Ky\u014droku (1528\u20131532)","Tenbun (1532\u20131555)","K\u014dji (1555\u20131558)","Eiroku (1558\u20131570)","Genki (1570\u20131573)","Tensh\u014d (1573\u20131592)","Bunroku (1592\u20131596)","Keich\u014d (1596\u20131615)","Genna (1615\u20131624)","Kan\u2019ei (1624\u20131644)","Sh\u014dho (1644\u20131648)","Keian (1648\u20131652)","J\u014d\u014d (1652\u20131655)","Meireki (1655\u20131658)","Manji (1658\u20131661)","Kanbun (1661\u20131673)","Enp\u014d (1673\u20131681)","Tenna (1681\u20131684)","J\u014dky\u014d (1684\u20131688)","Genroku (1688\u20131704)","H\u014dei (1704\u20131711)","Sh\u014dtoku (1711\u20131716)","Ky\u014dh\u014d (1716\u20131736)","Genbun (1736\u20131741)","Kanp\u014d (1741\u20131744)","Enky\u014d (1744\u20131748)","Kan\u2019en (1748\u20131751)","H\u014dreki (1751\u20131764)","Meiwa (1764\u20131772)","An\u2019ei (1772\u20131781)","Tenmei (1781\u20131789)","Kansei (1789\u20131801)","Ky\u014dwa (1801\u20131804)","Bunka (1804\u20131818)","Bunsei (1818\u20131830)","Tenp\u014d (1830\u20131844)","K\u014dka (1844\u20131848)","Kaei (1848\u20131854)","Ansei (1854\u20131860)","Man\u2019en (1860\u20131861)","Bunky\u016b (1861\u20131864)","Genji (1864\u20131865)","Kei\u014d (1865\u20131868)","M","T","S","H"],short:["Taika (645\u2013650)","Hakuchi (650\u2013671)","Hakuh\u014d (672\u2013686)","Shuch\u014d (686\u2013701)","Taih\u014d (701\u2013704)","Keiun (704\u2013708)","Wad\u014d (708\u2013715)","Reiki (715\u2013717)","Y\u014dr\u014d (717\u2013724)","Jinki (724\u2013729)","Tenpy\u014d (729\u2013749)","Tenpy\u014d-kamp\u014d (749-749)","Tenpy\u014d-sh\u014dh\u014d (749-757)","Tenpy\u014d-h\u014dji (757-765)","Tenpy\u014d-jingo (765-767)","Jingo-keiun (767-770)","H\u014dki (770\u2013780)","Ten-\u014d (781-782)","Enryaku (782\u2013806)","Daid\u014d (806\u2013810)","K\u014dnin (810\u2013824)","Tench\u014d (824\u2013834)","J\u014dwa (834\u2013848)","Kaj\u014d (848\u2013851)","Ninju (851\u2013854)","Saik\u014d (854\u2013857)","Ten-an (857-859)","J\u014dgan (859\u2013877)","Gangy\u014d (877\u2013885)","Ninna (885\u2013889)","Kanpy\u014d (889\u2013898)","Sh\u014dtai (898\u2013901)","Engi (901\u2013923)","Ench\u014d (923\u2013931)","J\u014dhei (931\u2013938)","Tengy\u014d (938\u2013947)","Tenryaku (947\u2013957)","Tentoku (957\u2013961)","\u014cwa (961\u2013964)","K\u014dh\u014d (964\u2013968)","Anna (968\u2013970)","Tenroku (970\u2013973)","Ten\u2019en (973\u2013976)","J\u014dgen (976\u2013978)","Tengen (978\u2013983)","Eikan (983\u2013985)","Kanna (985\u2013987)","Eien (987\u2013989)","Eiso (989\u2013990)","Sh\u014dryaku (990\u2013995)","Ch\u014dtoku (995\u2013999)","Ch\u014dh\u014d (999\u20131004)","Kank\u014d (1004\u20131012)","Ch\u014dwa (1012\u20131017)","Kannin (1017\u20131021)","Jian (1021\u20131024)","Manju (1024\u20131028)","Ch\u014dgen (1028\u20131037)","Ch\u014dryaku (1037\u20131040)","Ch\u014dky\u016b (1040\u20131044)","Kantoku (1044\u20131046)","Eish\u014d (1046\u20131053)","Tengi (1053\u20131058)","K\u014dhei (1058\u20131065)","Jiryaku (1065\u20131069)","Enky\u016b (1069\u20131074)","Sh\u014dho (1074\u20131077)","Sh\u014dryaku (1077\u20131081)","Eih\u014d (1081\u20131084)","\u014ctoku (1084\u20131087)","Kanji (1087\u20131094)","Kah\u014d (1094\u20131096)","Eich\u014d (1096\u20131097)","J\u014dtoku (1097\u20131099)","K\u014dwa (1099\u20131104)","Ch\u014dji (1104\u20131106)","Kash\u014d (1106\u20131108)","Tennin (1108\u20131110)","Ten-ei (1110-1113)","Eiky\u016b (1113\u20131118)","Gen\u2019ei (1118\u20131120)","H\u014dan (1120\u20131124)","Tenji (1124\u20131126)","Daiji (1126\u20131131)","Tensh\u014d (1131\u20131132)","Ch\u014dsh\u014d (1132\u20131135)","H\u014den (1135\u20131141)","Eiji (1141\u20131142)","K\u014dji (1142\u20131144)","Ten\u2019y\u014d (1144\u20131145)","Ky\u016ban (1145\u20131151)","Ninpei (1151\u20131154)","Ky\u016bju (1154\u20131156)","H\u014dgen (1156\u20131159)","Heiji (1159\u20131160)","Eiryaku (1160\u20131161)","\u014cho (1161\u20131163)","Ch\u014dkan (1163\u20131165)","Eiman (1165\u20131166)","Nin\u2019an (1166\u20131169)","Ka\u014d (1169\u20131171)","Sh\u014dan (1171\u20131175)","Angen (1175\u20131177)","Jish\u014d (1177\u20131181)","Y\u014dwa (1181\u20131182)","Juei (1182\u20131184)","Genryaku (1184\u20131185)","Bunji (1185\u20131190)","Kenky\u016b (1190\u20131199)","Sh\u014dji (1199\u20131201)","Kennin (1201\u20131204)","Genky\u016b (1204\u20131206)","Ken\u2019ei (1206\u20131207)","J\u014dgen (1207\u20131211)","Kenryaku (1211\u20131213)","Kenp\u014d (1213\u20131219)","J\u014dky\u016b (1219\u20131222)","J\u014d\u014d (1222\u20131224)","Gennin (1224\u20131225)","Karoku (1225\u20131227)","Antei (1227\u20131229)","Kanki (1229\u20131232)","J\u014dei (1232\u20131233)","Tenpuku (1233\u20131234)","Bunryaku (1234\u20131235)","Katei (1235\u20131238)","Ryakunin (1238\u20131239)","En\u2019\u014d (1239\u20131240)","Ninji (1240\u20131243)","Kangen (1243\u20131247)","H\u014dji (1247\u20131249)","Kench\u014d (1249\u20131256)","K\u014dgen (1256\u20131257)","Sh\u014dka (1257\u20131259)","Sh\u014dgen (1259\u20131260)","Bun\u2019\u014d (1260\u20131261)","K\u014dch\u014d (1261\u20131264)","Bun\u2019ei (1264\u20131275)","Kenji (1275\u20131278)","K\u014dan (1278\u20131288)","Sh\u014d\u014d (1288\u20131293)","Einin (1293\u20131299)","Sh\u014dan (1299\u20131302)","Kengen (1302\u20131303)","Kagen (1303\u20131306)","Tokuji (1306\u20131308)","Enky\u014d (1308\u20131311)","\u014cch\u014d (1311\u20131312)","Sh\u014dwa (1312\u20131317)","Bunp\u014d (1317\u20131319)","Gen\u014d (1319\u20131321)","Genk\u014d (1321\u20131324)","Sh\u014dch\u016b (1324\u20131326)","Karyaku (1326\u20131329)","Gentoku (1329\u20131331)","Genk\u014d (1331\u20131334)","Kenmu (1334\u20131336)","Engen (1336\u20131340)","K\u014dkoku (1340\u20131346)","Sh\u014dhei (1346\u20131370)","Kentoku (1370\u20131372)","Bunch\u016b (1372\u20131375)","Tenju (1375\u20131379)","K\u014dryaku (1379\u20131381)","K\u014dwa (1381\u20131384)","Gench\u016b (1384\u20131392)","Meitoku (1384\u20131387)","Kakei (1387\u20131389)","K\u014d\u014d (1389\u20131390)","Meitoku (1390\u20131394)","\u014cei (1394\u20131428)","Sh\u014dch\u014d (1428\u20131429)","Eiky\u014d (1429\u20131441)","Kakitsu (1441\u20131444)","Bun\u2019an (1444\u20131449)","H\u014dtoku (1449\u20131452)","Ky\u014dtoku (1452\u20131455)","K\u014dsh\u014d (1455\u20131457)","Ch\u014droku (1457\u20131460)","Kansh\u014d (1460\u20131466)","Bunsh\u014d (1466\u20131467)","\u014cnin (1467\u20131469)","Bunmei (1469\u20131487)","Ch\u014dky\u014d (1487\u20131489)","Entoku (1489\u20131492)","Mei\u014d (1492\u20131501)","Bunki (1501\u20131504)","Eish\u014d (1504\u20131521)","Taiei (1521\u20131528)","Ky\u014droku (1528\u20131532)","Tenbun (1532\u20131555)","K\u014dji (1555\u20131558)","Eiroku (1558\u20131570)","Genki (1570\u20131573)","Tensh\u014d (1573\u20131592)","Bunroku (1592\u20131596)","Keich\u014d (1596\u20131615)","Genna (1615\u20131624)","Kan\u2019ei (1624\u20131644)","Sh\u014dho (1644\u20131648)","Keian (1648\u20131652)","J\u014d\u014d (1652\u20131655)","Meireki (1655\u20131658)","Manji (1658\u20131661)","Kanbun (1661\u20131673)","Enp\u014d (1673\u20131681)","Tenna (1681\u20131684)","J\u014dky\u014d (1684\u20131688)","Genroku (1688\u20131704)","H\u014dei (1704\u20131711)","Sh\u014dtoku (1711\u20131716)","Ky\u014dh\u014d (1716\u20131736)","Genbun (1736\u20131741)","Kanp\u014d (1741\u20131744)","Enky\u014d (1744\u20131748)","Kan\u2019en (1748\u20131751)","H\u014dreki (1751\u20131764)","Meiwa (1764\u20131772)","An\u2019ei (1772\u20131781)","Tenmei (1781\u20131789)","Kansei (1789\u20131801)","Ky\u014dwa (1801\u20131804)","Bunka (1804\u20131818)","Bunsei (1818\u20131830)","Tenp\u014d (1830\u20131844)","K\u014dka (1844\u20131848)","Kaei (1848\u20131854)","Ansei (1854\u20131860)","Man\u2019en (1860\u20131861)","Bunky\u016b (1861\u20131864)","Genji (1864\u20131865)","Kei\u014d (1865\u20131868)","Meiji","Taish\u014d","Sh\u014dwa","Heisei"],long:["Taika (645\u2013650)","Hakuchi (650\u2013671)","Hakuh\u014d (672\u2013686)","Shuch\u014d (686\u2013701)","Taih\u014d (701\u2013704)","Keiun (704\u2013708)","Wad\u014d (708\u2013715)","Reiki (715\u2013717)","Y\u014dr\u014d (717\u2013724)","Jinki (724\u2013729)","Tenpy\u014d (729\u2013749)","Tenpy\u014d-kamp\u014d (749-749)","Tenpy\u014d-sh\u014dh\u014d (749-757)","Tenpy\u014d-h\u014dji (757-765)","Tenpy\u014d-jingo (765-767)","Jingo-keiun (767-770)","H\u014dki (770\u2013780)","Ten-\u014d (781-782)","Enryaku (782\u2013806)","Daid\u014d (806\u2013810)","K\u014dnin (810\u2013824)","Tench\u014d (824\u2013834)","J\u014dwa (834\u2013848)","Kaj\u014d (848\u2013851)","Ninju (851\u2013854)","Saik\u014d (854\u2013857)","Ten-an (857-859)","J\u014dgan (859\u2013877)","Gangy\u014d (877\u2013885)","Ninna (885\u2013889)","Kanpy\u014d (889\u2013898)","Sh\u014dtai (898\u2013901)","Engi (901\u2013923)","Ench\u014d (923\u2013931)","J\u014dhei (931\u2013938)","Tengy\u014d (938\u2013947)","Tenryaku (947\u2013957)","Tentoku (957\u2013961)","\u014cwa (961\u2013964)","K\u014dh\u014d (964\u2013968)","Anna (968\u2013970)","Tenroku (970\u2013973)","Ten\u2019en (973\u2013976)","J\u014dgen (976\u2013978)","Tengen (978\u2013983)","Eikan (983\u2013985)","Kanna (985\u2013987)","Eien (987\u2013989)","Eiso (989\u2013990)","Sh\u014dryaku (990\u2013995)","Ch\u014dtoku (995\u2013999)","Ch\u014dh\u014d (999\u20131004)","Kank\u014d (1004\u20131012)","Ch\u014dwa (1012\u20131017)","Kannin (1017\u20131021)","Jian (1021\u20131024)","Manju (1024\u20131028)","Ch\u014dgen (1028\u20131037)","Ch\u014dryaku (1037\u20131040)","Ch\u014dky\u016b (1040\u20131044)","Kantoku (1044\u20131046)","Eish\u014d (1046\u20131053)","Tengi (1053\u20131058)","K\u014dhei (1058\u20131065)","Jiryaku (1065\u20131069)","Enky\u016b (1069\u20131074)","Sh\u014dho (1074\u20131077)","Sh\u014dryaku (1077\u20131081)","Eih\u014d (1081\u20131084)","\u014ctoku (1084\u20131087)","Kanji (1087\u20131094)","Kah\u014d (1094\u20131096)","Eich\u014d (1096\u20131097)","J\u014dtoku (1097\u20131099)","K\u014dwa (1099\u20131104)","Ch\u014dji (1104\u20131106)","Kash\u014d (1106\u20131108)","Tennin (1108\u20131110)","Ten-ei (1110-1113)","Eiky\u016b (1113\u20131118)","Gen\u2019ei (1118\u20131120)","H\u014dan (1120\u20131124)","Tenji (1124\u20131126)","Daiji (1126\u20131131)","Tensh\u014d (1131\u20131132)","Ch\u014dsh\u014d (1132\u20131135)","H\u014den (1135\u20131141)","Eiji (1141\u20131142)","K\u014dji (1142\u20131144)","Ten\u2019y\u014d (1144\u20131145)","Ky\u016ban (1145\u20131151)","Ninpei (1151\u20131154)","Ky\u016bju (1154\u20131156)","H\u014dgen (1156\u20131159)","Heiji (1159\u20131160)","Eiryaku (1160\u20131161)","\u014cho (1161\u20131163)","Ch\u014dkan (1163\u20131165)","Eiman (1165\u20131166)","Nin\u2019an (1166\u20131169)","Ka\u014d (1169\u20131171)","Sh\u014dan (1171\u20131175)","Angen (1175\u20131177)","Jish\u014d (1177\u20131181)","Y\u014dwa (1181\u20131182)","Juei (1182\u20131184)","Genryaku (1184\u20131185)","Bunji (1185\u20131190)","Kenky\u016b (1190\u20131199)","Sh\u014dji (1199\u20131201)","Kennin (1201\u20131204)","Genky\u016b (1204\u20131206)","Ken\u2019ei (1206\u20131207)","J\u014dgen (1207\u20131211)","Kenryaku (1211\u20131213)","Kenp\u014d (1213\u20131219)","J\u014dky\u016b (1219\u20131222)","J\u014d\u014d (1222\u20131224)","Gennin (1224\u20131225)","Karoku (1225\u20131227)","Antei (1227\u20131229)","Kanki (1229\u20131232)","J\u014dei (1232\u20131233)","Tenpuku (1233\u20131234)","Bunryaku (1234\u20131235)","Katei (1235\u20131238)","Ryakunin (1238\u20131239)","En\u2019\u014d (1239\u20131240)","Ninji (1240\u20131243)","Kangen (1243\u20131247)","H\u014dji (1247\u20131249)","Kench\u014d (1249\u20131256)","K\u014dgen (1256\u20131257)","Sh\u014dka (1257\u20131259)","Sh\u014dgen (1259\u20131260)","Bun\u2019\u014d (1260\u20131261)","K\u014dch\u014d (1261\u20131264)","Bun\u2019ei (1264\u20131275)","Kenji (1275\u20131278)","K\u014dan (1278\u20131288)","Sh\u014d\u014d (1288\u20131293)","Einin (1293\u20131299)","Sh\u014dan (1299\u20131302)","Kengen (1302\u20131303)","Kagen (1303\u20131306)","Tokuji (1306\u20131308)","Enky\u014d (1308\u20131311)","\u014cch\u014d (1311\u20131312)","Sh\u014dwa (1312\u20131317)","Bunp\u014d (1317\u20131319)","Gen\u014d (1319\u20131321)","Genk\u014d (1321\u20131324)","Sh\u014dch\u016b (1324\u20131326)","Karyaku (1326\u20131329)","Gentoku (1329\u20131331)","Genk\u014d (1331\u20131334)","Kenmu (1334\u20131336)","Engen (1336\u20131340)","K\u014dkoku (1340\u20131346)","Sh\u014dhei (1346\u20131370)","Kentoku (1370\u20131372)","Bunch\u016b (1372\u20131375)","Tenju (1375\u20131379)","K\u014dryaku (1379\u20131381)","K\u014dwa (1381\u20131384)","Gench\u016b (1384\u20131392)","Meitoku (1384\u20131387)","Kakei (1387\u20131389)","K\u014d\u014d (1389\u20131390)","Meitoku (1390\u20131394)","\u014cei (1394\u20131428)","Sh\u014dch\u014d (1428\u20131429)","Eiky\u014d (1429\u20131441)","Kakitsu (1441\u20131444)","Bun\u2019an (1444\u20131449)","H\u014dtoku (1449\u20131452)","Ky\u014dtoku (1452\u20131455)","K\u014dsh\u014d (1455\u20131457)","Ch\u014droku (1457\u20131460)","Kansh\u014d (1460\u20131466)","Bunsh\u014d (1466\u20131467)","\u014cnin (1467\u20131469)","Bunmei (1469\u20131487)","Ch\u014dky\u014d (1487\u20131489)","Entoku (1489\u20131492)","Mei\u014d (1492\u20131501)","Bunki (1501\u20131504)","Eish\u014d (1504\u20131521)","Taiei (1521\u20131528)","Ky\u014droku (1528\u20131532)","Tenbun (1532\u20131555)","K\u014dji (1555\u20131558)","Eiroku (1558\u20131570)","Genki (1570\u20131573)","Tensh\u014d (1573\u20131592)","Bunroku (1592\u20131596)","Keich\u014d (1596\u20131615)","Genna (1615\u20131624)","Kan\u2019ei (1624\u20131644)","Sh\u014dho (1644\u20131648)","Keian (1648\u20131652)","J\u014d\u014d (1652\u20131655)","Meireki (1655\u20131658)","Manji (1658\u20131661)","Kanbun (1661\u20131673)","Enp\u014d (1673\u20131681)","Tenna (1681\u20131684)","J\u014dky\u014d (1684\u20131688)","Genroku (1688\u20131704)","H\u014dei (1704\u20131711)","Sh\u014dtoku (1711\u20131716)","Ky\u014dh\u014d (1716\u20131736)","Genbun (1736\u20131741)","Kanp\u014d (1741\u20131744)","Enky\u014d (1744\u20131748)","Kan\u2019en (1748\u20131751)","H\u014dreki (1751\u20131764)","Meiwa (1764\u20131772)","An\u2019ei (1772\u20131781)","Tenmei (1781\u20131789)","Kansei (1789\u20131801)","Ky\u014dwa (1801\u20131804)","Bunka (1804\u20131818)","Bunsei (1818\u20131830)","Tenp\u014d (1830\u20131844)","K\u014dka (1844\u20131848)","Kaei (1848\u20131854)","Ansei (1854\u20131860)","Man\u2019en (1860\u20131861)","Bunky\u016b (1861\u20131864)","Genji (1864\u20131865)","Kei\u014d (1865\u20131868)","Meiji","Taish\u014d","Sh\u014dwa","Heisei"]},dayPeriods:{am:"AM",pm:"PM"}},persian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],long:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AP"],short:["AP"],long:["AP"]},dayPeriods:{am:"AM",pm:"PM"}},roc:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Before R.O.C.","Minguo"],short:["Before R.O.C.","Minguo"],long:["Before R.O.C.","Minguo"]},dayPeriods:{am:"AM",pm:"PM"}}}},number:{nu:["latn"],patterns:{decimal:{positivePattern:"{number}",negativePattern:"{minusSign}{number}"},currency:{positivePattern:"{currency}{number}",negativePattern:"{minusSign}{currency}{number}"},percent:{positivePattern:"{number}{percentSign}",negativePattern:"{minusSign}{number}{percentSign}"}},symbols:{latn:{decimal:".",group:",",nan:"NaN",plusSign:"+",minusSign:"-",percentSign:"%",infinity:"\u221e"}},currencies:{AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN\xa5",EUR:"\u20ac",GBP:"\xa3",HKD:"HK$",ILS:"\u20aa",INR:"\u20b9",JPY:"\xa5",KRW:"\u20a9",MXN:"MX$",NZD:"NZ$",TWD:"NT$",USD:"$",VND:"\u20ab",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF"}}})},x8Yj:function(e,t,n){var r=n("XKFU"),o=n("LVwc"),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},x8ZO:function(e,t,n){var r=n("XKFU"),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,u=arguments.length,s=0;a<u;)s<(n=o(arguments[a++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(i)}})},xfY5:function(e,t,n){"use strict";var r=n("dyZX"),o=n("aagx"),i=n("LZWt"),a=n("Xbzi"),u=n("apmT"),s=n("eeVq"),c=n("kJMx").f,l=n("EemH").f,f=n("hswa").f,h=n("qncB").trim,p=r.Number,g=p,d=p.prototype,v="Number"==i(n("Kuth")(d)),y="trim"in String.prototype,m=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=y?t.trim():h(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,s=t.slice(2),c=0,l=s.length;c<l;c++)if((a=s.charCodeAt(c))<48||a>o)return NaN;return parseInt(s,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?s(function(){d.valueOf.call(n)}):"Number"!=i(n))?a(new g(m(t)),n,p):m(t)};for(var b,k=n("nh4g")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;k.length>w;w++)o(g,b=k[w])&&!o(p,b)&&f(p,b,l(g,b));p.prototype=d,d.constructor=p,n("KroJ")(r,"Number",p)}},xpiv:function(e,t,n){var r=n("XKFU");r(r.S,"Reflect",{ownKeys:n("mQtv")})},xpql:function(e,t,n){e.exports=!n("nh4g")&&!n("eeVq")(function(){return 7!=Object.defineProperty(n("Iw71")("div"),"a",{get:function(){return 7}}).a})},y3w9:function(e,t,n){var r=n("0/R4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},yM4b:function(e,t,n){var r=n("K0xU")("toPrimitive"),o=Date.prototype;r in o||n("Mukb")(o,r,n("g4EE"))},ylqs:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},yt8O:function(e,t,n){"use strict";var r=n("nGyu"),o=n("1TsA"),i=n("hPIQ"),a=n("aCFj");e.exports=n("Afnz")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},z2o2:function(e,t,n){var r=n("0/R4"),o=n("Z6vF").onFreeze;n("Xtr8")("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},zRwo:function(e,t,n){var r=n("6FMO");e.exports=function(e,t){return new(r(e))(t)}},zhAb:function(e,t,n){var r=n("aagx"),o=n("aCFj"),i=n("w2a5")(!1),a=n("YTvA")("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},"zq+C":function(e,t,n){var r=n("N6cJ"),o=n("y3w9"),i=r.key,a=r.map,u=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:i(arguments[2]),r=a(o(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var s=u.get(t);return s.delete(n),!!s.size||u.delete(t)}})}},[[1,0]]]);;
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+/t3":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t[t.Stop="stop"]="Stop",t[t.POI="poi"]="POI",t[t.Suburb="suburb"]="Suburb",t[t.Locality="locality"]="Locality",t[t.District="district"]="District",t[t.Street="street"]="Street",t[t.Address="address"]="Address",t[t.CurrentLocation="current_location"]="CurrentLocation",t[t.Platform="platform"]="Platform",t}({})},"+7ml":function(t,e){},"+9V0":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.transform=function(t,e){if(!t)return null;var n=new Map;return t.forEach(function(t){n.set(t.id,t)}),Array.from(n.keys()).map(function(t){return n.get(t)})},t}()},"+TZ1":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lUqE"),i=n("AfO8"),o=n("MCcF"),a=n("oLF2"),s=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[r.a,i.a,o.a,a.a]}},t}()},"+ZEM":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("QJOd"),i=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[r.a]}},t}()},"+eoq":function(t,e,n){"use strict";var r=n("CcnG"),i=n("gIcY"),o=n("Ip0R"),a=n("0u4Y"),s=n("64ZZ"),l=n("3ZaB"),u=n("F/XL"),c=n("bne5"),p=n("Gi3i"),h=n("15JJ"),d=n("VnD/"),f=n("mrSG"),m=n("FFOo"),g=n("b7mW"),y=(n("G5J1"),function(){function t(t){if(this.total=t,this.total<0)throw new g.a}return t.prototype.call=function(t,e){return e.subscribe(new _(t,this.total))},t}()),_=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return f.c(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(m.a),v=n("R+r5"),b=n("67Y/"),x=n("xMyE"),w=(n("1Li2"),n("/y3m")),M=n("F/us"),C=function(){function t(t){var e=this;this.stopDataService=t,this.stopChange=new r.k,this.isValid=!0,this.errorMessage="",this.searchStops=function(t){var n,r;return t.pipe(Object(p.a)(50),Object(h.a)(function(t){return n=t,r=e.stopDataService.getAllStops(),n&&n.length>0?r.pipe(Object(d.a)(function(e){return e.nameStartsWith(t.trim())}),Object(d.a)(function(t){return!t.equals(e.excludeStop)}),function(t){return t.lift(new y(6))},Object(v.a)()):Object(u.a)([])}),Object(b.a)(function(t){var r=e.stopDataService.getRecentStops().filter(function(t){return!t.equals(e.excludeStop)});return n.length>0&&(r=r.filter(function(t){return t.nameStartsWith(n)})),M.uniq(r.concat(t).slice(0,6),"code")}))}}return t.prototype.ngAfterViewInit=function(){var t=this;this.parentForm.ngSubmit.subscribe(function(){t.validate()}),this.hideErrorPopover(),this.bindErrorPopoverClickListener()},t.prototype.bindErrorPopoverClickListener=function(){var t=this;Object(c.a)(this.errorPopover.nativeElement,"click").pipe(Object(x.a)(function(){t.hideErrorPopover(),t.autosuggestComp.focus()})).subscribe()},t.prototype.onSelectItem=function(t){this.selectStopAndClearErrors(t),this.stopChange.emit(t)},t.prototype.selectStopAndClearErrors=function(t){this.isValid=!0,this.hideErrorPopover(),this.stopChange.emit(t)},t.prototype.onInputChange=function(t){""===t&&this.stopChange.emit(t),this.unselectStopAndClearErrors()},t.prototype.unselectStopAndClearErrors=function(){this.isValid=!0,this.hideErrorPopover(),this.stopChange.emit(null)},t.prototype.validate=function(){return this.isStopSelected()?(this.hideErrorPopover(),void(this.isValid=!0)):!this.isStopSelected()&&this.autosuggestComp.inputText().trim().length<1?(this.isValid=!1,void this.showErrorPopover("Please enter a station or coach stop")):this.isStopSelected()?void 0:(this.isValid=!1,void this.showErrorPopover("Please select from list"))},t.prototype.isStopSelected=function(){return this.stop&&this.stop.code},t.prototype.showErrorPopover=function(t){this.errorMessage=t,this.errorPopover.nativeElement.style.visibility="visible"},t.prototype.hideErrorPopover=function(){this.errorPopover.nativeElement.style.visibility="hidden"},t}(),L=r.gb({encapsulation:0,styles:[".stop-search-container[_ngcontent-%COMP%]{position:relative;margin-top:10px}.stop-search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;color:#d03716;font-weight:400;padding:7px 15px 15px}.stop-search-container[_ngcontent-%COMP%]   label.invalid[_ngcontent-%COMP%]{color:#e4022d}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-input{padding-left:60px !important}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container{margin-left:50px !important}.stop-search-container[_ngcontent-%COMP%]   .error-popover[_ngcontent-%COMP%]{position:absolute;display:block;top:6px;right:5px;left:auto;border-radius:4px;z-index:1}.stop-search-container[_ngcontent-%COMP%]   .error-popover.right[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{left:-10px;border-right-color:rgba(0,0,0,0.4)}.stop-search-container[_ngcontent-%COMP%]   .error-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{padding:3px;font-size:0.95em}"],data:{}});function E(t){return r.Bb(0,[(t()(),r.zb(0,null,[" "," "]))],null,function(t,e){t(e,0,0,e.context.item.fullName)})}function k(t){return r.Bb(0,[r.xb(402653184,1,{autosuggestComp:0}),r.xb(402653184,2,{errorPopover:0}),(t()(),r.ib(2,0,null,null,10,"div",[["class","stop-search-container"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,1,"label",[["class","control-label"]],[[8,"htmlFor",0],[2,"invalid",null]],null,null,null,null)),(t()(),r.zb(4,null,["",""])),(t()(),r.ib(5,0,null,null,1,"tni-autosuggest",[["displayProperty","fullName"],["placeholder","Enter a station or coach stop"]],[[2,"invalid",null]],[[null,"selectItemChange"],[null,"inputTextChange"],["document","click"]],function(t,e,n){var i=!0,o=t.component;return"document:click"===e&&(i=!1!==r.sb(t,6).onDocumentClick(n)&&i),"selectItemChange"===e&&(i=!1!==o.onSelectItem(n)&&i),"inputTextChange"===e&&(i=!1!==o.onInputChange(n)&&i),i},a.b,a.a)),r.hb(6,4767744,[[1,4],["autosuggest",4]],0,s.a,[l.a],{id:[0,"id"],required:[1,"required"],placeholder:[2,"placeholder"],label:[3,"label"],ariaLabel:[4,"ariaLabel"],searchFn:[5,"searchFn"],displayProperty:[6,"displayProperty"],selectItem:[7,"selectItem"],resultTemplate:[8,"resultTemplate"]},{selectItemChange:"selectItemChange",inputTextChange:"inputTextChange"}),(t()(),r.Z(0,[["template",2]],null,0,null,E)),(t()(),r.ib(8,0,[[2,0],["errorPopover",1]],null,4,"div",[],null,null,null,null,null)),(t()(),r.ib(9,0,null,null,3,"div",[["aria-live","polite"],["class","popover error-popover right"],["role","alert"]],null,null,null,null,null)),(t()(),r.ib(10,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),r.ib(11,0,null,null,1,"div",[["class","popover-content"],["id","error-message-box"]],null,null,null,null,null)),(t()(),r.zb(12,null,[" "," "]))],function(t,e){var n=e.component;t(e,6,0,n.id,!0,"Enter a station or coach stop",r.kb(1,"",n.label,""),r.kb(1,"",n.label," Start typing, then use up and down keys and enter to select from list."),n.searchStops,"fullName",n.stop,r.sb(e,7))},function(t,e){var n=e.component;t(e,3,0,n.id,!n.isValid),t(e,4,0,n.label),t(e,5,0,!n.isValid),t(e,12,0,n.errorMessage)})}var T=function(){function t(){this.onModelChange=function(){}}return t.prototype.select=function(){this.radioButtonElement.nativeElement.checked=!0,this.onModelChange(this.value)},t.prototype.writeValue=function(t){null!=t&&(this.radioButtonElement.nativeElement.checked=this.value===t)},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){},t}(),S=r.gb({encapsulation:0,styles:[".radio-button-box[_ngcontent-%COMP%]{display:block}.radio-button-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline;color:#0069b7}.radio-button-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#0069b7}.radio-button-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;display:block;border:1px solid #bbb;border-radius:0;color:#555;font-size:14px;text-align:left;background:#fff;height:39px;padding:.5em .8em;line-height:23px}.radio-button-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;top:11px;left:15px;width:16px;height:16px}.radio-button-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + button[_ngcontent-%COMP%]{background:#ececec;border-color:#adadad;transition:opacity 0.3s ease-in-out;box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);padding:.5em .5em .5em 40px}.radio-button-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}"],data:{}});function A(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,":svg:svg",[["role","img"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,0,":svg:use",[[":xlink:href","/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg#tp_tick"],[":xmlns:xlink","http://www.w3.org/1999/xlink"]],null,null,null,null,null))],null,null)}function D(t){return r.Bb(0,[r.xb(402653184,1,{radioButtonElement:0}),(t()(),r.ib(1,0,null,null,5,"label",[["class","radio-button-box"]],null,null,null,null,null)),(t()(),r.ib(2,0,[[1,0],["radioButton",1]],null,0,"input",[["type","radio"]],[[1,"name",0],[1,"value",0]],[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.select()&&r),r},null,null)),(t()(),r.ib(3,0,null,null,3,"button",[["role","radio"],["type","button"]],[[1,"aria-checked",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.select()&&r),r},null,null)),(t()(),r.Z(16777216,null,null,1,null,A)),r.hb(5,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.zb(6,null,[" "," "]))],function(t,e){t(e,5,0,r.sb(e,2).checked)},function(t,e){var n=e.component;t(e,2,0,n.name,n.value),t(e,3,0,r.sb(e,2).checked),t(e,6,0,n.label)})}var I=n("H0RV"),P=n("0uBk"),O=n("0iHZ"),N=n("p0zj"),R=r.gb({encapsulation:2,styles:['.mydp .headertodaybtn,.mydp .monthcell,.mydp .selection,.mydp .weekdaytitle{overflow:hidden;white-space:nowrap}.mydp{line-height:1.1;display:inline-block;position:relative}.mydp *{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;padding:0;margin:0}.mydp,.mydp .headertodaybtn,.mydp .selection,.mydp .selectiongroup,.mydp .selector{border-radius:4px}.mydp .header{border-radius:4px 4px 0 0}.mydp .caltable,.mydp .monthtable,.mydp .yeartable{border-radius:0 0 4px 4px}.mydp .caltable tbody tr:nth-child(6) td:first-child,.mydp .monthtable tbody tr:nth-child(4) td:first-child,.mydp .yeartable tbody tr:nth-child(7) td:first-child{border-bottom-left-radius:4px}.mydp .caltable tbody tr:nth-child(6) td:last-child,.mydp .monthtable tbody tr:nth-child(4) td:last-child,.mydp .yeartable tbody tr:nth-child(7) td:last-child{border-bottom-right-radius:4px}.mydp .btnpicker{border-radius:0 4px 4px 0}.mydp .btnleftborderradius{border-top-left-radius:4px;border-bottom-left-radius:4px}.mydp .selector{margin-top:2px;margin-left:-1px;position:absolute;padding:0;border:1px solid #CCC;z-index:100;animation:selectorfadein .1s}.mydp .selector:focus{border:1px solid #ADD8E6;outline:0}@keyframes selectorfadein{from{opacity:0}to{opacity:1}}.mydp .selectorarrow{background:#FAFAFA;margin-top:12px;padding:0}.mydp .selectorarrow:after,.mydp .selectorarrow:before{bottom:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute}.mydp .selectorarrow:after{border-color:rgba(250,250,250,0);border-bottom-color:#FAFAFA;border-width:10px;margin-left:-10px}.mydp .selectorarrow:before{border-color:rgba(204,204,204,0);border-bottom-color:#CCC;border-width:11px;margin-left:-11px}.mydp .selectorarrow:focus:before{border-bottom-color:#ADD8E6}.mydp .selectorarrowleft:after,.mydp .selectorarrowleft:before{left:24px}.mydp .selectorarrowright:after,.mydp .selectorarrowright:before{left:86%}.mydp .alignselectorright{right:-1px}.mydp .selectiongroup{position:relative;display:table;border:none;border-spacing:0;background-color:#FFF}.mydp .selection{width:100%;outline:0;background-color:#FFF;display:table-cell;position:absolute;text-overflow:ellipsis;padding-left:6px;border:none;color:#555}.mydp .invaliddate{background-color:#F1DEDE}.mydp ::-ms-clear{display:none}.mydp .headerbtncell,.mydp .selbtngroup{display:table-cell;vertical-align:middle}.mydp .selbtngroup{position:relative;white-space:nowrap;width:1%;font-size:0}.mydp .btnclear,.mydp .btndecrease,.mydp .btnincrease,.mydp .btnpicker{height:100%;width:26px;border:none;padding:0;outline:0;font:inherit;-moz-user-select:none}.mydp .btnleftborder{border-left:1px solid #CCC}.mydp .btnclearenabled,.mydp .btndecreaseenabled,.mydp .btnincreaseenabled,.mydp .btnpickerenabled,.mydp .headerbtnenabled,.mydp .headertodaybtnenabled,.mydp .yearchangebtnenabled{cursor:pointer}.mydp .btncleardisabled,.mydp .btndecreasedisabled,.mydp .btnincreasedisabled,.mydp .btnpickerdisabled,.mydp .headerbtndisabled,.mydp .headertodaybtndisabled,.mydp .selectiondisabled,.mydp .yearchangebtndisabled{cursor:not-allowed;opacity:.65}.mydp .selectiondisabled{background-color:#EEE}.mydp .btnclear,.mydp .btndecrease,.mydp .btnincrease,.mydp .btnpicker,.mydp .headertodaybtn{background:#FFF}.mydp .header{width:100%;height:30px;background-color:#FAFAFA}.mydp .header td{vertical-align:middle;border:none;line-height:0}.mydp .header td:nth-child(1){padding-left:4px}.mydp .header td:nth-child(2){text-align:center}.mydp .header td:nth-child(3){padding-right:4px}.mydp .caltable,.mydp .monthtable,.mydp .yeartable{table-layout:fixed;width:100%;height:calc(100% - 30px);background-color:#FFF;font-size:14px}.mydp .caltable,.mydp .daycell,.mydp .monthcell,.mydp .monthtable,.mydp .weekdaytitle,.mydp .yearcell,.mydp .yeartable{border-collapse:collapse;color:#036;line-height:1.1}.mydp .daycell,.mydp .monthcell,.mydp .weekdaytitle,.mydp .yearcell{padding:4px;text-align:center}.mydp .weekdaytitle{background-color:#DDD;font-size:11px;font-weight:400;vertical-align:middle;max-width:36px}.mydp .weekdaytitleweeknbr{width:20px;border-right:1px solid #BBB}.mydp .monthcell{background-color:#FAFAFA}.mydp .yearcell{background-color:#FAFAFA;width:20%}.mydp .daycell .datevalue{background-color:inherit;vertical-align:middle}.mydp .daycell .datevalue span{vertical-align:middle}.mydp .daycellweeknbr{font-size:10px;border-right:1px solid #CCC;cursor:default;color:#000}.mydp .inlinedp{position:relative;margin-top:-1px}.mydp .nextmonth,.mydp .prevmonth{color:#CCC}.mydp .disabled{cursor:default!important;color:#CCC;background:#FBEFEF}.mydp .highlight{color:#C30000}.mydp .dimday{opacity:.5}.mydp .currmonth{background-color:#F6F6F6;font-weight:400}.mydp .markdate{position:absolute;width:4px;height:4px;border-radius:4px}.mydp .markcurrday,.mydp .markcurrmonth,.mydp .markcurryear{text-decoration:underline}.mydp .selectedday .datevalue,.mydp .selectedmonth .monthvalue,.mydp .selectedyear .yearvalue{border:none;background-color:#8EBFFF;border-radius:2px}.mydp .headerbtncell{background-color:#FAFAFA}.mydp .yearchangebtncell{text-align:center;background-color:#FAFAFA}.mydp .headerbtn,.mydp .headerlabelbtn,.mydp .yearchangebtn{background:#FAFAFA;border:none;height:22px}.mydp .headerbtn{width:16px}.mydp .headerlabelbtn{font-size:14px;outline:0;cursor:default}.mydp,.mydp .headertodaybtn{border:1px solid #CCC}.mydp .btnclear,.mydp .btndecrease,.mydp .btnincrease,.mydp .btnpicker,.mydp .headerbtn,.mydp .headermonthtxt,.mydp .headertodaybtn,.mydp .headeryeartxt,.mydp .yearchangebtn{color:#000}.mydp .headertodaybtn{padding:0 4px;font-size:11px;height:22px;min-width:60px;max-width:84px}.mydp button::-moz-focus-inner{border:0}.mydp .headermonthtxt,.mydp .headeryeartxt{text-align:center;display:table-cell;vertical-align:middle;font-size:14px;height:26px;width:40px;max-width:40px;overflow:hidden;white-space:nowrap}.mydp .btnclear:focus,.mydp .btndecrease:focus,.mydp .btnincrease:focus,.mydp .btnpicker:focus,.mydp .headertodaybtn:focus{background:#ADD8E6}.mydp .headerbtn:focus,.mydp .monthlabel:focus,.mydp .yearchangebtn:focus,.mydp .yearlabel:focus{color:#ADD8E6;outline:0}.mydp .daycell:focus,.mydp .monthcell:focus,.mydp .yearcell:focus{outline:#CCC solid 1px}.mydp .icon-mydpcalendar,.mydp .icon-mydpremove{font-size:16px}.mydp .icon-mydpdown,.mydp .icon-mydpleft,.mydp .icon-mydpright,.mydp .icon-mydpup{color:#222;font-size:20px}.mydp .btndecrease .icon-mydpleft,.mydp .btnincrease .icon-mydpright{font-size:16px}.mydp .icon-mydptoday{color:#222;font-size:11px}.mydp table{display:table;border-spacing:0}.mydp table td{padding:0}.mydp table,.mydp td,.mydp th{border:none}.mydp .btnclearenabled:hover,.mydp .btndecreaseenabled:hover,.mydp .btnincreaseenabled:hover,.mydp .btnpickerenabled:hover,.mydp .headertodaybtnenabled:hover{background-color:#E6E6E6}.mydp .tablesingleday:hover,.mydp .tablesinglemonth:hover,.mydp .tablesingleyear:hover{background-color:#DDD}.mydp .daycell,.mydp .inputnoteditable,.mydp .monthcell,.mydp .monthlabel,.mydp .yearcell,.mydp .yearlabel{cursor:pointer}.mydp .headerbtnenabled:hover,.mydp .monthlabel:hover,.mydp .yearchangebtnenabled:hover,.mydp .yearlabel:hover{color:#777}@font-face{font-family:mydatepicker;src:url(data:application/octet-stream;base64,AAEAAAAPAIAAAwBwR1NVQiCMJXkAAAD8AAAAVE9TLzI+IEhNAAABUAAAAFZjbWFw6UKcfwAAAagAAAHEY3Z0IAbV/wQAAAz8AAAAIGZwZ22KkZBZAAANHAAAC3BnYXNwAAAAEAAADPQAAAAIZ2x5Zqbn7ycAAANsAAAFXGhlYWQNX0bLAAAIyAAAADZoaGVhBzwDWQAACQAAAAAkaG10eBXB//8AAAkkAAAAIGxvY2EGNATEAAAJRAAAABJtYXhwAXgMOgAACVgAAAAgbmFtZZKUFgMAAAl4AAAC/XBvc3R9NuZlAAAMeAAAAHpwcmVw5UErvAAAGIwAAACGAAEAAAAKADAAPgACbGF0bgAOREZMVAAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAECuAGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOgA6AYDUv9qAFoDUgCWAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAFgAAEAAAAAAFoAAwABAAAALAADAAoAAAFgAAQALgAAAAQABAABAADoBv//AADoAP//AAAAAQAEAAAAAQACAAMABAAFAAYABwAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAZAAAAAAAAAAHAADoAAAA6AAAAAABAADoAQAA6AEAAAACAADoAgAA6AIAAAADAADoAwAA6AMAAAAEAADoBAAA6AQAAAAFAADoBQAA6AUAAAAGAADoBgAA6AYAAAAHAAEAAAAAAUECfQAOAAq3AAAAZhQBBRUrARQPAQYiJjURND4BHwEWAUEK+gscFhYcC/oKAV4OC/oLFg4B9A8UAgz6CgAAAQAAAAABZwJ8AA0AF0AUAAEAAQFHAAEAAW8AAABmFxMCBRYrAREUBiIvASY0PwE2MhYBZRQgCfoKCvoLHBgCWP4MDhYL+gscC/oLFgAAAAAFAAD/agOhA1IAFAAYACgAOABcALdAECoaAgoFMiICBgoNAQABA0dLsApQWEA/DgwCCgUGBgplAAIEAQQCAW0AAQAEAQBrAAADBAADawgBBgAEAgYEXwcBBQULWA0BCwsMSAADAwlYAAkJDQlJG0BADgwCCgUGBQoGbQACBAEEAgFtAAEABAEAawAAAwQAA2sIAQYABAIGBF8HAQUFC1gNAQsLDEgAAwMJWAAJCQ0JSVlAGFtZVlNQT0xJRkQ/PCYmJiQRFRQXEg8FHSsJAQYiLwEmND8BNjIfATc2Mh8BFhQBIREhNzU0JisBIgYdARQWOwEyNiU1NCYrASIGHQEUFjsBMjY3ERQGIyEiJjURNDY7ATU0NjsBMhYdATM1NDY7ATIWBxUzMhYC1/7iBQ4GoQUFGgUOBnv3Bg4GGQX9awMS/O7XCggkCAoKCCQICgGsCggjCAoKCCMICtcsHPzuHSoqHUg0JSQlNNY2JCMlNgFHHSoBOP7iBQWhBg4FGgUFe/gFBRoFDv5zAjxroQgKCgihCAoKCKEICgoIoQgKCiz9NR0qKh0Cyx0qNiU0NCU2NiU0NCU2KgAAAAAPAAD/agOhA1IAAwAHAAsADwATABcAGwAfACMAMwA3ADsAPwBPAHMAmECVQSUCHRJJLSQDEx0CRyEfAh0TCR1UGwETGRcNAwkIEwlfGBYMAwgVEQcDBQQIBV4UEAYDBA8LAwMBAAQBXhoBEhIeWCABHh4MSA4KAgMAABxYABwcDRxJcnBtamdmY2BdW1ZTTUxFRD8+PTw7Ojk4NzY1NDEvKScjIiEgHx4dHBsaGRgXFhUUExIRERERERERERAiBR0rFzM1IxczNSMnMzUjFzM1IyczNSMBMzUjJzM1IwEzNSMnMzUjAzU0JicjIgYHFRQWNzMyNgEzNSMnMzUjFzM1Izc1NCYnIyIGFxUUFjczMjY3ERQGIyEiJjURNDY7ATU0NjsBMhYdATM1NDY7ATIWBxUzMhZHoaHFsrLFoaHFsrLFoaEBm7Oz1rKyAayhodazs8QMBiQHCgEMBiQHCgGboaHWs7PWoaESCggjBwwBCggjCArXLBz87h0qKh1INCUkJTTWNiQjJTYBRx0qT6GhoSSysrIkof3Eofqh/cShJLIBMKEHCgEMBqEHDAEK/iayJKGhoWuhBwoBDAahBwwBCiz9NR0qKh0Cyx0qNiU0NCU2NiU0NCU2KgAAAAH//wAAAjsByQAOABFADgABAAFvAAAAZhUyAgUWKyUUBichIi4BPwE2Mh8BFgI7FA/+DA8UAgz6Ch4K+gqrDhYBFB4L+goK+gsAAAABAAAAAAI8Ae0ADgAXQBQAAQABAUcAAQABbwAAAGY1FAIFFisBFA8BBiIvASY0NjMhMhYCOwr6CxwL+gsWDgH0DhYByQ4L+gsL+gscFhYAAAEAAP/vAtQChgAkAB5AGyIZEAcEAAIBRwMBAgACbwEBAABmFBwUFAQFGCslFA8BBiIvAQcGIi8BJjQ/AScmND8BNjIfATc2Mh8BFhQPARcWAtQPTBAsEKSkECwQTBAQpKQQEEwQLBCkpBAsEEwPD6SkD3AWEEwPD6WlDw9MECwQpKQQLBBMEBCkpBAQTA8uD6SkDwABAAAAAQAAbdyczV8PPPUACwPoAAAAANUsgZUAAAAA1SyBlf///2oD6ANSAAAACAACAAAAAAAAAAEAAANS/2oAAAPo/////gPoAAEAAAAAAAAAAAAAAAAAAAAIA+gAAAFlAAABZQAAA+gAAAOgAAACO///AjsAAAMRAAAAAAAAACIASgEoAhYCPAJkAq4AAAABAAAACAB0AA8AAAAAAAIARABUAHMAAACpC3AAAAAAAAAAEgDeAAEAAAAAAAAANQAAAAEAAAAAAAEADAA1AAEAAAAAAAIABwBBAAEAAAAAAAMADABIAAEAAAAAAAQADABUAAEAAAAAAAUACwBgAAEAAAAAAAYADABrAAEAAAAAAAoAKwB3AAEAAAAAAAsAEwCiAAMAAQQJAAAAagC1AAMAAQQJAAEAGAEfAAMAAQQJAAIADgE3AAMAAQQJAAMAGAFFAAMAAQQJAAQAGAFdAAMAAQQJAAUAFgF1AAMAAQQJAAYAGAGLAAMAAQQJAAoAVgGjAAMAAQQJAAsAJgH5Q29weXJpZ2h0IChDKSAyMDE3IGJ5IG9yaWdpbmFsIGF1dGhvcnMgQCBmb250ZWxsby5jb21teWRhdGVwaWNrZXJSZWd1bGFybXlkYXRlcGlja2VybXlkYXRlcGlja2VyVmVyc2lvbiAxLjBteWRhdGVwaWNrZXJHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBDAG8AcAB5AHIAaQBnAGgAdAAgACgAQwApACAAMgAwADEANwAgAGIAeQAgAG8AcgBpAGcAaQBuAGEAbAAgAGEAdQB0AGgAbwByAHMAIABAACAAZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AbQB5AGQAYQB0AGUAcABpAGMAawBlAHIAUgBlAGcAdQBsAGEAcgBtAHkAZABhAHQAZQBwAGkAYwBrAGUAcgBtAHkAZABhAHQAZQBwAGkAYwBrAGUAcgBWAGUAcgBzAGkAbwBuACAAMQAuADAAbQB5AGQAYQB0AGUAcABpAGMAawBlAHIARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAECAQMBBAEFAQYBBwEIAQkACW15ZHByaWdodAhteWRwbGVmdAlteWRwdG9kYXkMbXlkcGNhbGVuZGFyBm15ZHB1cAhteWRwZG93bgpteWRwcmVtb3ZlAAAAAAABAAH//wAPAAAAAAAAAAAAAAAAAAAAAAAYABgAGAAYA1L/agNS/2qwACwgsABVWEVZICBLuAAOUUuwBlNaWLA0G7AoWWBmIIpVWLACJWG5CAAIAGNjI2IbISGwAFmwAEMjRLIAAQBDYEItsAEssCBgZi2wAiwgZCCwwFCwBCZasigBCkNFY0VSW1ghIyEbilggsFBQWCGwQFkbILA4UFghsDhZWSCxAQpDRWNFYWSwKFBYIbEBCkNFY0UgsDBQWCGwMFkbILDAUFggZiCKimEgsApQWGAbILAgUFghsApgGyCwNlBYIbA2YBtgWVlZG7ABK1lZI7AAUFhlWVktsAMsIEUgsAQlYWQgsAVDUFiwBSNCsAYjQhshIVmwAWAtsAQsIyEjISBksQViQiCwBiNCsQEKQ0VjsQEKQ7ABYEVjsAMqISCwBkMgiiCKsAErsTAFJbAEJlFYYFAbYVJZWCNZISCwQFNYsAErGyGwQFkjsABQWGVZLbAFLLAHQyuyAAIAQ2BCLbAGLLAHI0IjILAAI0JhsAJiZrABY7ABYLAFKi2wBywgIEUgsAtDY7gEAGIgsABQWLBAYFlmsAFjYESwAWAtsAgssgcLAENFQiohsgABAENgQi2wCSywAEMjRLIAAQBDYEItsAosICBFILABKyOwAEOwBCVgIEWKI2EgZCCwIFBYIbAAG7AwUFiwIBuwQFlZI7AAUFhlWbADJSNhRESwAWAtsAssICBFILABKyOwAEOwBCVgIEWKI2EgZLAkUFiwABuwQFkjsABQWGVZsAMlI2FERLABYC2wDCwgsAAjQrILCgNFWCEbIyFZKiEtsA0ssQICRbBkYUQtsA4ssAFgICCwDENKsABQWCCwDCNCWbANQ0qwAFJYILANI0JZLbAPLCCwEGJmsAFjILgEAGOKI2GwDkNgIIpgILAOI0IjLbAQLEtUWLEEZERZJLANZSN4LbARLEtRWEtTWLEEZERZGyFZJLATZSN4LbASLLEAD0NVWLEPD0OwAWFCsA8rWbAAQ7ACJUKxDAIlQrENAiVCsAEWIyCwAyVQWLEBAENgsAQlQoqKIIojYbAOKiEjsAFhIIojYbAOKiEbsQEAQ2CwAiVCsAIlYbAOKiFZsAxDR7ANQ0dgsAJiILAAUFiwQGBZZrABYyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsQAAEyNEsAFDsAA+sgEBAUNgQi2wEywAsQACRVRYsA8jQiBFsAsjQrAKI7ABYEIgYLABYbUQEAEADgBCQopgsRIGK7ByKxsiWS2wFCyxABMrLbAVLLEBEystsBYssQITKy2wFyyxAxMrLbAYLLEEEystsBkssQUTKy2wGiyxBhMrLbAbLLEHEystsBwssQgTKy2wHSyxCRMrLbAeLACwDSuxAAJFVFiwDyNCIEWwCyNCsAojsAFgQiBgsAFhtRAQAQAOAEJCimCxEgYrsHIrGyJZLbAfLLEAHistsCAssQEeKy2wISyxAh4rLbAiLLEDHistsCMssQQeKy2wJCyxBR4rLbAlLLEGHistsCYssQceKy2wJyyxCB4rLbAoLLEJHistsCksIDywAWAtsCosIGCwEGAgQyOwAWBDsAIlYbABYLApKiEtsCsssCorsCoqLbAsLCAgRyAgsAtDY7gEAGIgsABQWLBAYFlmsAFjYCNhOCMgilVYIEcgILALQ2O4BABiILAAUFiwQGBZZrABY2AjYTgbIVktsC0sALEAAkVUWLABFrAsKrABFTAbIlktsC4sALANK7EAAkVUWLABFrAsKrABFTAbIlktsC8sIDWwAWAtsDAsALABRWO4BABiILAAUFiwQGBZZrABY7ABK7ALQ2O4BABiILAAUFiwQGBZZrABY7ABK7AAFrQAAAAAAEQ+IzixLwEVKi2wMSwgPCBHILALQ2O4BABiILAAUFiwQGBZZrABY2CwAENhOC2wMiwuFzwtsDMsIDwgRyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsABDYbABQ2M4LbA0LLECABYlIC4gR7AAI0KwAiVJiopHI0cjYSBYYhshWbABI0KyMwEBFRQqLbA1LLAAFrAEJbAEJUcjRyNhsAlDK2WKLiMgIDyKOC2wNiywABawBCWwBCUgLkcjRyNhILAEI0KwCUMrILBgUFggsEBRWLMCIAMgG7MCJgMaWUJCIyCwCEMgiiNHI0cjYSNGYLAEQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsAJDYGQjsANDYWRQWLACQ2EbsANDYFmwAyWwAmIgsABQWLBAYFlmsAFjYSMgILAEJiNGYTgbI7AIQ0awAiWwCENHI0cjYWAgsARDsAJiILAAUFiwQGBZZrABY2AjILABKyOwBENgsAErsAUlYbAFJbACYiCwAFBYsEBgWWawAWOwBCZhILAEJWBkI7ADJWBkUFghGyMhWSMgILAEJiNGYThZLbA3LLAAFiAgILAFJiAuRyNHI2EjPDgtsDgssAAWILAII0IgICBGI0ewASsjYTgtsDkssAAWsAMlsAIlRyNHI2GwAFRYLiA8IyEbsAIlsAIlRyNHI2EgsAUlsAQlRyNHI2GwBiWwBSVJsAIlYbkIAAgAY2MjIFhiGyFZY7gEAGIgsABQWLBAYFlmsAFjYCMuIyAgPIo4IyFZLbA6LLAAFiCwCEMgLkcjRyNhIGCwIGBmsAJiILAAUFiwQGBZZrABYyMgIDyKOC2wOywjIC5GsAIlRlJYIDxZLrErARQrLbA8LCMgLkawAiVGUFggPFkusSsBFCstsD0sIyAuRrACJUZSWCA8WSMgLkawAiVGUFggPFkusSsBFCstsD4ssDUrIyAuRrACJUZSWCA8WS6xKwEUKy2wPyywNiuKICA8sAQjQoo4IyAuRrACJUZSWCA8WS6xKwEUK7AEQy6wKystsEAssAAWsAQlsAQmIC5HI0cjYbAJQysjIDwgLiM4sSsBFCstsEEssQgEJUKwABawBCWwBCUgLkcjRyNhILAEI0KwCUMrILBgUFggsEBRWLMCIAMgG7MCJgMaWUJCIyBHsARDsAJiILAAUFiwQGBZZrABY2AgsAErIIqKYSCwAkNgZCOwA0NhZFBYsAJDYRuwA0NgWbADJbACYiCwAFBYsEBgWWawAWNhsAIlRmE4IyA8IzgbISAgRiNHsAErI2E4IVmxKwEUKy2wQiywNSsusSsBFCstsEMssDYrISMgIDywBCNCIzixKwEUK7AEQy6wKystsEQssAAVIEewACNCsgABARUUEy6wMSotsEUssAAVIEewACNCsgABARUUEy6wMSotsEYssQABFBOwMiotsEcssDQqLbBILLAAFkUjIC4gRoojYTixKwEUKy2wSSywCCNCsEgrLbBKLLIAAEErLbBLLLIAAUErLbBMLLIBAEErLbBNLLIBAUErLbBOLLIAAEIrLbBPLLIAAUIrLbBQLLIBAEIrLbBRLLIBAUIrLbBSLLIAAD4rLbBTLLIAAT4rLbBULLIBAD4rLbBVLLIBAT4rLbBWLLIAAEArLbBXLLIAAUArLbBYLLIBAEArLbBZLLIBAUArLbBaLLIAAEMrLbBbLLIAAUMrLbBcLLIBAEMrLbBdLLIBAUMrLbBeLLIAAD8rLbBfLLIAAT8rLbBgLLIBAD8rLbBhLLIBAT8rLbBiLLA3Ky6xKwEUKy2wYyywNyuwOystsGQssDcrsDwrLbBlLLAAFrA3K7A9Ky2wZiywOCsusSsBFCstsGcssDgrsDsrLbBoLLA4K7A8Ky2waSywOCuwPSstsGossDkrLrErARQrLbBrLLA5K7A7Ky2wbCywOSuwPCstsG0ssDkrsD0rLbBuLLA6Ky6xKwEUKy2wbyywOiuwOystsHAssDorsDwrLbBxLLA6K7A9Ky2wciyzCQQCA0VYIRsjIVlCK7AIZbADJFB4sAEVMC0AS7gAyFJYsQEBjlmwAbkIAAgAY3CxAAVCsgABACqxAAVCswoCAQgqsQAFQrMOAAEIKrEABkK6AsAAAQAJKrEAB0K6AEAAAQAJKrEDAESxJAGIUViwQIhYsQNkRLEmAYhRWLoIgAABBECIY1RYsQMARFlZWVmzDAIBDCq4Af+FsASNsQIARAAA) format(\'truetype\');font-weight:400;font-style:normal}.mydp .mydpicon{font-family:mydatepicker;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.mydp .icon-mydpright:before{content:"\\e800"}.mydp .icon-mydpleft:before{content:"\\e801"}.mydp .icon-mydptoday:before{content:"\\e802"}.mydp .icon-mydpcalendar:before{content:"\\e803"}.mydp .icon-mydpup:before{content:"\\e804"}.mydp .icon-mydpdown:before{content:"\\e805"}.mydp .icon-mydpremove:before{content:"\\e806"}'],data:{}});function F(t){return r.Bb(0,[(t()(),r.ib(0,0,[[2,0],["inputBoxEl",1]],null,9,"input",[["autocomplete","off"],["autocorrect","off"],["class","selection"],["ngtype","text"],["spellcheck","false"]],[[1,"aria-label",0],[8,"placeholder",0],[8,"value",0],[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"ngModelChange"],[null,"keyup"],[null,"focus"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.sb(t,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.sb(t,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.sb(t,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.sb(t,5)._compositionEnd(n.target.value)&&i),"click"===e&&(i=!1!==(o.opts.openSelectorOnInputClick&&!o.opts.editableDateField&&o.openBtnClicked())&&i),"ngModelChange"===e&&(i=!1!==o.onUserDateInput(n)&&i),"keyup"===e&&(i=!1!==o.onCloseSelector(n)&&i),"focus"===e&&(i=!1!==(o.opts.editableDateField&&o.onFocusInput(n))&&i),"blur"===e&&(i=!1!==(o.opts.editableDateField&&o.onBlurInput(n))&&i),i},null,null)),r.hb(1,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{invaliddate:0,inputnoteditable:1,selectiondisabled:2}),r.hb(3,278528,null,0,o.j,[r.p,r.i,r.y],{ngStyle:[0,"ngStyle"]},null),r.ub(4,{height:0,"font-size":1}),r.hb(5,16384,null,0,i.c,[r.y,r.i,[2,i.a]],null,null),r.wb(1024,null,i.g,function(t){return[t]},[i.c]),r.hb(7,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),r.wb(2048,null,i.h,null,[i.l]),r.hb(9,16384,null,0,i.i,[[4,i.h]],null,null)],function(t,e){var n=e.component,r=t(e,2,0,n.invalidDate&&n.opts.indicateInvalidDate,n.opts.openSelectorOnInputClick&&!n.opts.editableDateField,n.opts.componentDisabled);t(e,1,0,"selection",r);var i=t(e,4,0,n.opts.height,n.opts.selectionTxtFontSize);t(e,3,0,i),t(e,7,0,n.opts.componentDisabled,n.selectionDayTxt)},function(t,e){var n=e.component;t(e,0,1,[n.opts.ariaLabelInputField,r.kb(1,"",n.placeholder,""),n.selectionDayTxt,!n.opts.editableDateField,r.sb(e,9).ngClassUntouched,r.sb(e,9).ngClassTouched,r.sb(e,9).ngClassPristine,r.sb(e,9).ngClassDirty,r.sb(e,9).ngClassValid,r.sb(e,9).ngClassInvalid,r.sb(e,9).ngClassPending])})}function Y(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"button",[["class","btndecrease"],["type","button"]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onDecreaseBtnClicked()&&r),r},null,null)),r.hb(1,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{btndecreaseenabled:0,btndecreasedisabled:1,btnleftborderradius:2}),(t()(),r.ib(3,0,null,null,0,"span",[["class","mydpicon icon-mydpleft"]],null,null,null,null,null))],function(t,e){var n=e.component,r=t(e,2,0,!n.opts.componentDisabled,n.opts.componentDisabled,!n.opts.showInputField);t(e,1,0,"btndecrease",r)},function(t,e){var n=e.component;t(e,0,0,n.opts.ariaLabelDecreaseDate,n.opts.componentDisabled)})}function B(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"button",[["class","btnincrease"],["type","button"]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onIncreaseBtnClicked()&&r),r},null,null)),r.hb(1,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{btnincreaseenabled:0,btnincreasedisabled:1,btnleftborderradius:2}),(t()(),r.ib(3,0,null,null,0,"span",[["class","mydpicon icon-mydpright"]],null,null,null,null,null))],function(t,e){var n=e.component,r=t(e,2,0,!n.opts.componentDisabled,n.opts.componentDisabled,!n.opts.showDecreaseDateBtn&&!n.opts.showInputField);t(e,1,0,"btnincrease",r)},function(t,e){var n=e.component;t(e,0,0,n.opts.ariaLabelIncreaseDate,n.opts.componentDisabled)})}function z(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"button",[["class","btnclear"],["type","button"]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.removeBtnClicked()&&r),r},null,null)),r.hb(1,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{btnclearenabled:0,btncleardisabled:1,btnleftborderradius:2}),(t()(),r.ib(3,0,null,null,0,"span",[["class","mydpicon icon-mydpremove"]],null,null,null,null,null))],function(t,e){var n=e.component,r=t(e,2,0,!n.opts.componentDisabled,n.opts.componentDisabled,!n.opts.showIncreaseDateBtn&&!n.opts.showDecreaseDateBtn&&!n.opts.showInputField);t(e,1,0,"btnclear",r)},function(t,e){var n=e.component;t(e,0,0,n.opts.ariaLabelClearDate,n.opts.componentDisabled)})}function j(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,13,"div",[["class","selectiongroup"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,F)),r.hb(2,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(3,0,null,null,10,"div",[["class","selbtngroup"]],[[4,"height",null]],null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,Y)),r.hb(5,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,B)),r.hb(7,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,z)),r.hb(9,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(10,0,null,null,3,"button",[["class","btnpicker"],["type","button"]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.openBtnClicked()&&r),r},null,null)),r.hb(11,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(12,{btnpickerenabled:0,btnpickerdisabled:1,btnleftborderradius:2}),(t()(),r.ib(13,0,null,null,0,"span",[["class","mydpicon icon-mydpcalendar"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,2,0,n.opts.showInputField),t(e,5,0,n.opts.showDecreaseDateBtn),t(e,7,0,n.opts.showIncreaseDateBtn),t(e,9,0,n.selectionDayTxt.length>0&&n.opts.showClearDateBtn);var r=t(e,12,0,!n.opts.componentDisabled,n.opts.componentDisabled,!n.opts.showClearDateBtn&&!n.opts.showIncreaseDateBtn&&!n.opts.showDecreaseDateBtn&&!n.opts.showInputField||0===n.selectionDayTxt.length&&!n.opts.showInputField);t(e,11,0,"btnpicker",r)},function(t,e){var n=e.component;t(e,3,0,n.opts.height),t(e,10,0,n.opts.ariaLabelOpenCalendar,n.opts.componentDisabled)})}function V(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,5,"button",[["class","headertodaybtn"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onTodayClicked()&&r),r},null,null)),r.hb(1,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{headertodaybtnenabled:0,headertodaybtndisabled:1}),(t()(),r.ib(3,0,null,null,0,"span",[["class","mydpicon icon-mydptoday"]],null,null,null,null,null)),(t()(),r.ib(4,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(5,null,["",""]))],function(t,e){var n=e.component,r=t(e,2,0,!n.disableTodayBtn,n.disableTodayBtn);t(e,1,0,"headertodaybtn",r)},function(t,e){var n=e.component;t(e,0,0,n.disableTodayBtn),t(e,5,0,n.opts.todayBtnTxt)})}function H(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"th",[["class","weekdaytitle weekdaytitleweeknbr"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["#"]))],null,null)}function U(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"th",[["class","weekdaytitle"],["scope","col"]],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.context.$implicit)})}function G(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"td",[["class","daycell daycellweeknbr"]],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.weekNbr)})}function q(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","markdate"]],null,null,null,null,null)),r.hb(1,278528,null,0,o.j,[r.p,r.i,r.y],{ngStyle:[0,"ngStyle"]},null),r.ub(2,{"background-color":0})],function(t,e){var n=t(e,2,0,e.parent.context.$implicit.markedDate.color);t(e,1,0,n)},null)}function W(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,12,"td",[["class","daycell"]],[[1,"tabindex",0],[1,"aria-label",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(!t.context.$implicit.disabled&&i.onCellClicked(t.context.$implicit),r=!1!==n.stopPropagation()&&r),"keydown"===e&&(r=!1!==i.onCellKeyDown(n,t.context.$implicit)&&r),r},null,null)),r.hb(1,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{currmonth:0,selectedday:1,disabled:2,tablesingleday:3}),r.vb(3,2),(t()(),r.Z(16777216,null,null,1,null,q)),r.hb(5,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(6,0,null,null,6,"div",[["class","datevalue"]],null,null,null,null,null)),r.hb(7,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(8,{prevmonth:0,currmonth:1,nextmonth:2,highlight:3}),(t()(),r.ib(9,0,null,null,3,"span",[],[[1,"aria-hidden",0]],null,null,null,null)),r.hb(10,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{ngClass:[0,"ngClass"]},null),r.ub(11,{markcurrday:0,dimday:1}),(t()(),r.zb(12,null,["",""]))],function(t,e){var n=e.component,r=t(e,2,0,e.context.$implicit.cmo===n.currMonthId&&!e.context.$implicit.disabled,n.selectedDate.day===e.context.$implicit.dateObj.day&&n.selectedDate.month===e.context.$implicit.dateObj.month&&n.selectedDate.year===e.context.$implicit.dateObj.year&&e.context.$implicit.cmo===n.currMonthId,e.context.$implicit.disabled,e.context.$implicit.cmo===n.currMonthId&&!e.context.$implicit.disabled);t(e,1,0,"daycell",r),t(e,5,0,e.context.$implicit.markedDate.marked);var i=t(e,8,0,e.context.$implicit.cmo===n.prevMonthId,e.context.$implicit.cmo===n.currMonthId,e.context.$implicit.cmo===n.nextMonthId,e.context.$implicit.highlight);t(e,7,0,"datevalue",i);var o=t(e,11,0,e.context.$implicit.currDay&&n.opts.markCurrentDay,e.context.$implicit.highlight&&(e.context.$implicit.cmo===n.prevMonthId||e.context.$implicit.cmo===n.nextMonthId||e.context.$implicit.disabled));t(e,10,0,o)},function(t,e){var n=e.component,i=r.kb(1,"",e.context.$implicit.disabled?-1:0,""),o=r.kb(1,"",e.context.$implicit.disabled?" ":r.Ab(e,0,1,t(e,3,0,r.sb(e.parent.parent.parent.parent,0),n.convertTojsDate(e.context.$implicit.dateObj),"EEEE dd MMMM yyyy")),"");t(e,0,0,i,o),t(e,9,0,!0),t(e,12,0,e.context.$implicit.dateObj.day)})}function Z(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,G)),r.hb(2,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,W)),r.hb(4,278528,null,0,o.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.opts.showWeekNumbers&&"mo"===n.opts.firstDayOfWeek),t(e,4,0,e.context.$implicit.week)},null)}function X(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,9,"table",[["class","caltable"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,5,"thead",[],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,H)),r.hb(4,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,U)),r.hb(6,278528,null,0,o.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.ib(7,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,Z)),r.hb(9,278528,null,0,o.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,4,0,n.opts.showWeekNumbers&&"mo"===n.opts.firstDayOfWeek),t(e,6,0,n.weekDays),t(e,9,0,n.dates)},null)}function J(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"td",[["class","monthcell tablesinglemonth"],["tabindex","0"]],null,[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(!t.context.$implicit.disabled&&i.onMonthCellClicked(t.context.$implicit),r=!1!==n.stopPropagation()&&r),"keydown"===e&&(r=!1!==i.onMonthCellKeyDown(n,t.context.$implicit)&&r),r},null,null)),r.hb(1,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{selectedmonth:0,disabled:1}),(t()(),r.ib(3,0,null,null,3,"div",[["class","monthvalue"]],null,null,null,null,null)),r.hb(4,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(5,{markcurrmonth:0}),(t()(),r.zb(6,null,["",""]))],function(t,e){var n=e.component,r=t(e,2,0,e.context.$implicit.selected,e.context.$implicit.disabled);t(e,1,0,"monthcell tablesinglemonth",r);var i=t(e,5,0,e.context.$implicit.currMonth&&n.opts.markCurrentMonth);t(e,4,0,"monthvalue",i)},function(t,e){t(e,6,0,e.context.$implicit.name)})}function K(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,J)),r.hb(2,278528,null,0,o.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.context.$implicit)},null)}function Q(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"table",[["class","monthtable"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,K)),r.hb(3,278528,null,0,o.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,3,0,e.component.months)},null)}function $(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"td",[["class","yearcell tablesingleyear"],["tabindex","0"]],null,[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(!t.context.$implicit.disabled&&i.onYearCellClicked(t.context.$implicit),r=!1!==n.stopPropagation()&&r),"keydown"===e&&(r=!1!==i.onYearCellKeyDown(n,t.context.$implicit)&&r),r},null,null)),r.hb(1,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{selectedyear:0,disabled:1}),(t()(),r.ib(3,0,null,null,3,"div",[["class","yearvalue"]],null,null,null,null,null)),r.hb(4,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(5,{markcurryear:0}),(t()(),r.zb(6,null,["",""]))],function(t,e){var n=e.component,r=t(e,2,0,e.context.$implicit.selected,e.context.$implicit.disabled);t(e,1,0,"yearcell tablesingleyear",r);var i=t(e,5,0,e.context.$implicit.currYear&&n.opts.markCurrentYear);t(e,4,0,"yearvalue",i)},function(t,e){t(e,6,0,e.context.$implicit.year)})}function tt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,$)),r.hb(2,278528,null,0,o.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.context.$implicit)},null)}function et(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,13,"table",[["class","yeartable"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,12,"tbody",[],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,3,"td",[["class","yearchangebtncell"],["colspan","5"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==n.stopPropagation()&&r),r},null,null)),(t()(),r.ib(4,0,null,null,2,"button",[["class","yearchangebtn mydpicon icon-mydpup"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onPrevYears(n,i.years[0][0].year)&&r),r},null,null)),r.hb(5,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(6,{yearchangebtnenabled:0,yearchangebtndisabled:1}),(t()(),r.Z(16777216,null,null,1,null,tt)),r.hb(8,278528,null,0,o.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.ib(9,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),r.ib(10,0,null,null,3,"td",[["class","yearchangebtncell"],["colspan","5"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==n.stopPropagation()&&r),r},null,null)),(t()(),r.ib(11,0,null,null,2,"button",[["class","yearchangebtn mydpicon icon-mydpdown"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onNextYears(n,i.years[0][0].year)&&r),r},null,null)),r.hb(12,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(13,{yearchangebtnenabled:0,yearchangebtndisabled:1})],function(t,e){var n=e.component,r=t(e,6,0,!n.prevYearsDisabled,n.prevYearsDisabled);t(e,5,0,"yearchangebtn mydpicon icon-mydpup",r),t(e,8,0,n.years);var i=t(e,13,0,!n.nextYearsDisabled,n.nextYearsDisabled);t(e,12,0,"yearchangebtn mydpicon icon-mydpdown",i)},function(t,e){var n=e.component;t(e,4,0,n.prevYearsDisabled),t(e,11,0,n.nextYearsDisabled)})}function nt(t){return r.Bb(0,[(t()(),r.ib(0,0,[[1,0],["selectorEl",1]],null,47,"div",[["class","selector"],["tabindex","0"]],null,[[null,"keyup"]],function(t,e,n){var r=!0;return"keyup"===e&&(r=!1!==t.component.onCloseSelector(n)&&r),r},null,null)),r.hb(1,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{inlinedp:0,alignselectorright:1,selectorarrow:2,selectorarrowleft:3,selectorarrowright:4}),r.hb(3,278528,null,0,o.j,[r.p,r.i,r.y],{ngStyle:[0,"ngStyle"]},null),r.ub(4,{width:0,height:1,bottom:2}),r.hb(5,4210688,null,0,I.a,[r.i,r.x],{value:[0,"value"]},null),(t()(),r.ib(6,0,null,null,35,"table",[["class","header"]],null,null,null,null,null)),(t()(),r.ib(7,0,null,null,34,"tbody",[],null,null,null,null,null)),(t()(),r.ib(8,0,null,null,33,"tr",[],null,null,null,null,null)),(t()(),r.ib(9,0,null,null,14,"td",[],null,null,null,null,null)),(t()(),r.ib(10,0,null,null,13,"div",[["style","float:left"]],null,null,null,null,null)),(t()(),r.ib(11,0,null,null,3,"div",[["class","headerbtncell"]],null,null,null,null,null)),(t()(),r.ib(12,0,null,null,2,"button",[["class","headerbtn mydpicon icon-mydpleft"],["type","button"]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onPrevMonth()&&r),r},null,null)),r.hb(13,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(14,{headerbtnenabled:0,headerbtndisabled:1}),(t()(),r.ib(15,0,null,null,4,"div",[["class","headermonthtxt"]],null,null,null,null,null)),(t()(),r.ib(16,0,null,null,3,"button",[["class","headerlabelbtn"],["type","button"]],[[8,"tabIndex",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i.opts.monthSelector&&i.onSelectMonthClicked(n))&&r),r},null,null)),r.hb(17,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(18,{monthlabel:0}),(t()(),r.zb(19,null,["",""])),(t()(),r.ib(20,0,null,null,3,"div",[["class","headerbtncell"]],null,null,null,null,null)),(t()(),r.ib(21,0,null,null,2,"button",[["class","headerbtn mydpicon icon-mydpright"],["type","button"]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onNextMonth()&&r),r},null,null)),r.hb(22,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(23,{headerbtnenabled:0,headerbtndisabled:1}),(t()(),r.ib(24,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,V)),r.hb(26,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(27,0,null,null,14,"td",[],null,null,null,null,null)),(t()(),r.ib(28,0,null,null,13,"div",[["style","float:right"]],null,null,null,null,null)),(t()(),r.ib(29,0,null,null,3,"div",[["class","headerbtncell"]],null,null,null,null,null)),(t()(),r.ib(30,0,null,null,2,"button",[["class","headerbtn mydpicon icon-mydpleft"],["type","button"]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onPrevYear()&&r),r},null,null)),r.hb(31,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(32,{headerbtnenabled:0,headerbtndisabled:1}),(t()(),r.ib(33,0,null,null,4,"div",[["class","headeryeartxt"]],null,null,null,null,null)),(t()(),r.ib(34,0,null,null,3,"button",[["class","headerlabelbtn"],["type","button"]],[[8,"tabIndex",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i.opts.yearSelector&&i.onSelectYearClicked(n))&&r),r},null,null)),r.hb(35,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(36,{yearlabel:0}),(t()(),r.zb(37,null,["",""])),(t()(),r.ib(38,0,null,null,3,"div",[["class","headerbtncell"]],null,null,null,null,null)),(t()(),r.ib(39,0,null,null,2,"button",[["class","headerbtn mydpicon icon-mydpright"],["type","button"]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onNextYear()&&r),r},null,null)),r.hb(40,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(41,{headerbtnenabled:0,headerbtndisabled:1}),(t()(),r.Z(16777216,null,null,1,null,X)),r.hb(43,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,Q)),r.hb(45,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,et)),r.hb(47,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,r=t(e,2,0,n.opts.inline,n.opts.alignSelectorRight,n.opts.showSelectorArrow&&!n.opts.inline,n.opts.showSelectorArrow&&!n.opts.alignSelectorRight&&!n.opts.inline,n.opts.showSelectorArrow&&n.opts.alignSelectorRight&&!n.opts.inline);t(e,1,0,"selector",r);var i=t(e,4,0,n.opts.selectorWidth,n.opts.selectorHeight,n.getSelectorTopPosition());t(e,3,0,i),t(e,5,0,n.opts.inline?"0":"1");var o=t(e,14,0,!n.prevMonthDisabled,n.prevMonthDisabled);t(e,13,0,"headerbtn mydpicon icon-mydpleft",o);var a=t(e,18,0,n.opts.monthSelector);t(e,17,0,"headerlabelbtn",a);var s=t(e,23,0,!n.nextMonthDisabled,n.nextMonthDisabled);t(e,22,0,"headerbtn mydpicon icon-mydpright",s),t(e,26,0,n.opts.showTodayBtn);var l=t(e,32,0,!n.prevYearDisabled,n.prevYearDisabled);t(e,31,0,"headerbtn mydpicon icon-mydpleft",l);var u=t(e,36,0,n.opts.yearSelector);t(e,35,0,"headerlabelbtn",u);var c=t(e,41,0,!n.nextYearDisabled,n.nextYearDisabled);t(e,40,0,"headerbtn mydpicon icon-mydpright",c),t(e,43,0,!n.selectMonth&&!n.selectYear),t(e,45,0,n.selectMonth),t(e,47,0,n.selectYear)},function(t,e){var n=e.component;t(e,12,0,n.opts.ariaLabelPrevMonth,n.prevMonthDisabled),t(e,16,0,r.kb(1,"",n.opts.monthSelector?"0":"-1","")),t(e,19,0,n.visibleMonth.monthTxt),t(e,21,0,n.opts.ariaLabelNextMonth,n.nextMonthDisabled),t(e,30,0,n.opts.ariaLabelPrevYear,n.prevYearDisabled),t(e,34,0,r.kb(1,"",n.opts.yearSelector?"0":"-1","")),t(e,37,0,n.visibleMonth.year),t(e,39,0,n.opts.ariaLabelNextYear,n.nextYearDisabled)})}function rt(t){return r.Bb(0,[r.tb(0,o.d,[r.q]),r.xb(671088640,1,{selectorEl:0}),r.xb(671088640,2,{inputBoxEl:0}),(t()(),r.ib(3,0,null,null,6,"div",[["class","mydp"]],null,null,null,null,null)),r.hb(4,278528,null,0,o.j,[r.p,r.i,r.y],{ngStyle:[0,"ngStyle"]},null),r.ub(5,{width:0,border:1}),(t()(),r.Z(16777216,null,null,1,null,j)),r.hb(7,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,nt)),r.hb(9,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,r=t(e,5,0,n.opts.showInputField?n.opts.width:null,n.opts.inline?"none":null);t(e,4,0,r),t(e,7,0,!n.opts.inline),t(e,9,0,n.showSelector||n.opts.inline)},null)}var it=n("wd/R"),ot=function(){function t(t,e){this.renderer=t,this.element=e,this.dateChanged=new r.k,this.dateInputFocused=!1,this.isKeyboard=!1,this.keyboardState={focus:!1},this.ctrlDown=!1,this.onModelChange=function(){},this.startDatePickerOptions()}return t.prototype.startDatePickerOptions=function(){var t=it(),e=it(t).add(6,"months");this.datePickerOptions={dateFormat:"dd mmm yyyy",showTodayBtn:!1,disableUntil:{year:t.year(),month:t.month()+1,day:t.date()-1},disableSince:{year:e.year(),month:e.month()+1,day:e.date()},yearSelector:!1,monthSelector:!1,openSelectorOnInputClick:!1,editableDateField:!1,showClearDateBtn:!1,ariaLabelOpenCalendar:""}},t.prototype.writeValue=function(t){null!=t&&(this.inputDateElement.nativeElement.valid=this.momentDate===t)},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.onDateChange=function(t){this.momentDate=this.convertMyDateToMoment(t),this.day=this.momentDate.format("DD"),this.month=this.momentDate.format("MM"),this.year=this.momentDate.format("YYYY"),this.dateChanged.emit({valid:!0,date:this.momentDate})},t.prototype.convertMyDateToMoment=function(t){if(null!=t)return it({year:t.date.year,month:t.date.month-1,day:t.date.day})},t.prototype.setClassKeyboard=function(){this.isKeyboard=!0,this.momentDate&&!this.keyboardState.focus&&(this.day=this.momentDate.format("DD"),this.month=this.momentDate.format("MM"),this.year=this.momentDate.format("YYYY")),this.renderer.setAttribute(this.element.nativeElement.querySelector(".btnpicker"),"tabindex","-1")},t.prototype.setClassClick=function(){this.isKeyboard=!1},t.prototype.isValidKeyboardDate=function(){var t=it(),e=it(t).subtract(1,"day"),n=it(this.datePickerOptions.disableSince.day+"-"+this.datePickerOptions.disableSince.month+"-"+this.datePickerOptions.disableSince.year,"DD-MM-YYYY");return this.keyboardDate=it(this.year+"-"+this.month+"-"+this.day),!(!this.keyboardDate.isValid()||this.keyboardDate<=e||this.keyboardDate>n)},t.prototype.onKeyboardDateBlur=function(t){var e=this;setTimeout(function(){e.keyboardState.focus||e.updateKeywordDate(t)},0)},t.prototype.onKeyboardDateUp=function(t){t.target.value&&(t.target.value=t.target.value.replace(/\D/g,""))},t.prototype.updateKeywordDate=function(t){t.stopPropagation(),this.day||this.month||this.year?this.isValidKeyboardDate()?(this.momentDate=this.keyboardDate,this.isKeyboard=!1,this.setKeyboardDateError("false"),this.dateChanged.emit({valid:!0,date:this.momentDate})):(this.setKeyboardDateError("true"),this.dateChanged.emit({valid:!1,date:null})):(this.isKeyboard=!1,this.dateChanged.emit({valid:!0,date:null}))},t.prototype.setKeyboardDateError=function(t){this.renderer.setAttribute(this.element.nativeElement.querySelector(".date-picker"),"aria-invalid",t)},t.prototype.getDateAriaLabel=function(){var t=this.label+" date ";return this.momentDate&&this.momentDate.isValid()?t+=this.momentDate.format("ddd DD MMM YYYY")+". Use TAB key to edit date as DD MM YYYY. You can only select a date up to "+this.disableAfterNmonths+" months from today.":t+=!this.momentDate&&this.day&&this.month&&this.year?"is "+it(this.day+"-"+this.month+"-"+this.year,"DD-MM-YYYY").format("DD/MM/YYYY")+". Use TAB key to edit date as DD MM YYYY. You can only select a date up to "+this.disableAfterNmonths+" months from today.":"is blank. Use TAB key to enter date as DD MM YYYY. You can only select a date up to "+this.disableAfterNmonths+" months from today.",t},t.prototype.getTextAriaLabel=function(t,e){var n="";return"day"===e?n="DD":"month"===e?n="MM":"year"===e&&(n="YYYY"),t?t+". Edit "+this.label+" "+e+" in "+n+" format":"Enter "+this.label+" "+e+" in "+n+" format"},t}(),at=r.gb({encapsulation:0,styles:['.date-picker[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid #eaeaea}.date-picker.invalid[_ngcontent-%COMP%]{border-bottom:1px solid #e4022d}.date-picker[_ngcontent-%COMP%]     .mydp{border:none;width:0}.date-picker[_ngcontent-%COMP%]     .mydp input{display:none}.date-picker--click__container[_ngcontent-%COMP%]{cursor:pointer}.date-picker--click__container[_ngcontent-%COMP%]     .btnpicker{background-color:transparent;position:relative;text-align:left;width:100%;z-index:2}.date-picker--click__container[_ngcontent-%COMP%]     .btnpicker:hover{background-color:inherit}.date-picker--click__container[_ngcontent-%COMP%]     .btnpicker span{padding:5px}.date-picker--click__container[_ngcontent-%COMP%]     .btnpicker span:hover{background-color:#E6E6E6}.date-picker--click__container[_ngcontent-%COMP%]     .btnpicker span:before{width:16px;height:16px;display:inline-block;content:"";background:url(/themes/custom/tfnsw_bootstrap/assets/images/tp_dates.svg) center/contain no-repeat}.date-picker--keyboard__container[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;font-size:16.2px;padding-top:5px;height:100%;padding-left:30px;position:absolute;top:0;width:100%;z-index:2}.date-picker--keyboard__container[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{display:inline-block;border:none}.date-picker--keyboard__container[_ngcontent-%COMP%]   .sr-only[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.date-picker--keyboard__inputs-separator[_ngcontent-%COMP%]{background:#fff;display:inline-flex;align-items:center;float:left;font-weight:700;width:5px}.date-picker--keyboard__item[_ngcontent-%COMP%]{float:left}.date-picker--keyboard__item[_ngcontent-%COMP%] > input[type="text"][_ngcontent-%COMP%]{border:none;max-width:40px;text-align:center}.date-picker__input[_ngcontent-%COMP%]{position:absolute;top:5px;left:40px;font-size:16.2px;border:none;cursor:pointer}.date-picker__input[_ngcontent-%COMP%]:hover, .date-picker__input[_ngcontent-%COMP%]:focus{border:none;outline:none}'],data:{}});function st(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,35,"div",[["class","date-picker--keyboard__container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,34,"fieldset",[],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,1,"legend",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" Date should be typed in the format dd/mm/yyyy "])),(t()(),r.ib(4,0,null,null,9,"div",[["class","date-picker--keyboard__item"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,8,"input",[["maxlength","2"],["pattern","[0-9]{2}"],["placeholder","DD"],["type","text"]],[[1,"name",0],[1,"aria-label",0],[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"focusout"],[null,"blur"],[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.sb(t,6)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.sb(t,6).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.sb(t,6)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.sb(t,6)._compositionEnd(n.target.value)&&i),"focus"===e&&(i=0!=(o.keyboardState.focus=!0)&&i),"focusout"===e&&(i=0!=(o.keyboardState.focus=!1)&&i),"blur"===e&&(i=!1!==o.onKeyboardDateBlur(n)&&i),"keyup"===e&&(i=!1!==o.onKeyboardDateUp(n)&&i),"ngModelChange"===e&&(i=!1!==(o.day=n)&&i),i},null,null)),r.hb(6,16384,null,0,i.c,[r.y,r.i,[2,i.a]],null,null),r.hb(7,540672,null,0,i.e,[],{maxlength:[0,"maxlength"]},null),r.hb(8,540672,null,0,i.m,[],{pattern:[0,"pattern"]},null),r.wb(1024,null,i.f,function(t,e){return[t,e]},[i.e,i.m]),r.wb(1024,null,i.g,function(t){return[t]},[i.c]),r.hb(11,671744,null,0,i.l,[[8,null],[6,i.f],[8,null],[6,i.g]],{model:[0,"model"]},{update:"ngModelChange"}),r.wb(2048,null,i.h,null,[i.l]),r.hb(13,16384,null,0,i.i,[[4,i.h]],null,null),(t()(),r.ib(14,0,null,null,1,"span",[["class","date-picker--keyboard__inputs-separator"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" / "])),(t()(),r.ib(16,0,null,null,8,"div",[["class","date-picker--keyboard__item"]],null,null,null,null,null)),(t()(),r.ib(17,0,null,null,7,"input",[["maxlength","2"],["placeholder","MM"],["type","text"]],[[1,"name",0],[1,"aria-label",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"focusout"],[null,"blur"],[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.sb(t,18)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.sb(t,18).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.sb(t,18)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.sb(t,18)._compositionEnd(n.target.value)&&i),"focus"===e&&(i=0!=(o.keyboardState.focus=!0)&&i),"focusout"===e&&(i=0!=(o.keyboardState.focus=!1)&&i),"blur"===e&&(i=!1!==o.onKeyboardDateBlur(n)&&i),"keyup"===e&&(i=!1!==o.onKeyboardDateUp(n)&&i),"ngModelChange"===e&&(i=!1!==(o.month=n)&&i),i},null,null)),r.hb(18,16384,null,0,i.c,[r.y,r.i,[2,i.a]],null,null),r.hb(19,540672,null,0,i.e,[],{maxlength:[0,"maxlength"]},null),r.wb(1024,null,i.f,function(t){return[t]},[i.e]),r.wb(1024,null,i.g,function(t){return[t]},[i.c]),r.hb(22,671744,null,0,i.l,[[8,null],[6,i.f],[8,null],[6,i.g]],{model:[0,"model"]},{update:"ngModelChange"}),r.wb(2048,null,i.h,null,[i.l]),r.hb(24,16384,null,0,i.i,[[4,i.h]],null,null),(t()(),r.ib(25,0,null,null,1,"span",[["class","date-picker--keyboard__inputs-separator"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" / "])),(t()(),r.ib(27,0,null,null,8,"div",[["class","date-picker--keyboard__item"]],null,null,null,null,null)),(t()(),r.ib(28,0,null,null,7,"input",[["maxlength","4"],["placeholder","YYYY"],["type","text"]],[[1,"name",0],[1,"aria-label",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"focusout"],[null,"blur"],[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.sb(t,29)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.sb(t,29).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.sb(t,29)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.sb(t,29)._compositionEnd(n.target.value)&&i),"focus"===e&&(i=0!=(o.keyboardState.focus=!0)&&i),"focusout"===e&&(i=0!=(o.keyboardState.focus=!1)&&i),"blur"===e&&(i=!1!==o.onKeyboardDateBlur(n)&&i),"keyup"===e&&(i=!1!==o.onKeyboardDateUp(n)&&i),"ngModelChange"===e&&(i=!1!==(o.year=n)&&i),i},null,null)),r.hb(29,16384,null,0,i.c,[r.y,r.i,[2,i.a]],null,null),r.hb(30,540672,null,0,i.e,[],{maxlength:[0,"maxlength"]},null),r.wb(1024,null,i.f,function(t){return[t]},[i.e]),r.wb(1024,null,i.g,function(t){return[t]},[i.c]),r.hb(33,671744,null,0,i.l,[[8,null],[6,i.f],[8,null],[6,i.g]],{model:[0,"model"]},{update:"ngModelChange"}),r.wb(2048,null,i.h,null,[i.l]),r.hb(35,16384,null,0,i.i,[[4,i.h]],null,null)],function(t,e){var n=e.component;t(e,7,0,"2"),t(e,8,0,"[0-9]{2}"),t(e,11,0,n.day),t(e,19,0,"2"),t(e,22,0,n.month),t(e,30,0,"4"),t(e,33,0,n.year)},function(t,e){var n=e.component;t(e,5,1,[r.kb(1,"",n.id+"Day",""),r.kb(1,"",n.getTextAriaLabel(n.day,"day"),""),r.sb(e,7).maxlength?r.sb(e,7).maxlength:null,r.sb(e,8).pattern?r.sb(e,8).pattern:null,r.sb(e,13).ngClassUntouched,r.sb(e,13).ngClassTouched,r.sb(e,13).ngClassPristine,r.sb(e,13).ngClassDirty,r.sb(e,13).ngClassValid,r.sb(e,13).ngClassInvalid,r.sb(e,13).ngClassPending]),t(e,17,0,r.kb(1,"",n.id+"Month",""),r.kb(1,"",n.getTextAriaLabel(n.month,"month"),""),r.sb(e,19).maxlength?r.sb(e,19).maxlength:null,r.sb(e,24).ngClassUntouched,r.sb(e,24).ngClassTouched,r.sb(e,24).ngClassPristine,r.sb(e,24).ngClassDirty,r.sb(e,24).ngClassValid,r.sb(e,24).ngClassInvalid,r.sb(e,24).ngClassPending),t(e,28,0,r.kb(1,"",n.id+"Year",""),r.kb(1,"",n.getTextAriaLabel(n.year,"year"),""),r.sb(e,30).maxlength?r.sb(e,30).maxlength:null,r.sb(e,35).ngClassUntouched,r.sb(e,35).ngClassTouched,r.sb(e,35).ngClassPristine,r.sb(e,35).ngClassDirty,r.sb(e,35).ngClassValid,r.sb(e,35).ngClassInvalid,r.sb(e,35).ngClassPending)})}function lt(t){return r.Bb(0,[r.xb(402653184,1,{inputDateElement:0}),(t()(),r.ib(1,0,null,null,19,"div",[["class","date-picker"],["role","group"],["tabindex","0"]],[[1,"aria-label",0]],[[null,"keydown.Tab"],[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"keydown.Tab"===e&&(r=!1!==i.setClassKeyboard()&&r),"click"===e&&(r=!1!==i.setClassClick()&&r),r},null,null)),(t()(),r.Z(16777216,null,null,1,null,st)),r.hb(3,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(4,0,null,null,16,"div",[["class","date-picker--click__container"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,9,"my-date-picker",[["ngModel",""]],[[1,"name",0],[1,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0;return"ngModelChange"===e&&(r=!1!==t.component.onDateChange(n)&&r),r},rt,R)),r.wb(512,null,O.a,O.a,[]),r.wb(512,null,N.a,N.a,[]),r.hb(8,573440,null,0,P.a,[r.i,r.x,r.f,O.a,N.a],{options:[0,"options"]},null),r.hb(9,16384,null,0,i.n,[],{required:[0,"required"]},null),r.wb(1024,null,i.f,function(t){return[t]},[i.n]),r.wb(1024,null,i.g,function(t){return[t]},[P.a]),r.hb(12,671744,null,0,i.l,[[8,null],[6,i.f],[8,null],[6,i.g]],{model:[0,"model"]},{update:"ngModelChange"}),r.wb(2048,null,i.h,null,[i.l]),r.hb(14,16384,null,0,i.i,[[4,i.h]],null,null),(t()(),r.ib(15,0,null,null,5,"input",[["aria-live","assertive"],["class","date-picker-label date-picker__input"],["readonly",""],["role","alert"],["tabindex","1"],["type","text"]],[[1,"id",0],[1,"name",0],[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r.sb(t,16)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.sb(t,16).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.sb(t,16)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.sb(t,16)._compositionEnd(n.target.value)&&i),i},null,null)),r.hb(16,16384,null,0,i.c,[r.y,r.i,[2,i.a]],null,null),r.wb(1024,null,i.g,function(t){return[t]},[i.c]),r.hb(18,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{model:[0,"model"]},null),r.wb(2048,null,i.h,null,[i.l]),r.hb(20,16384,null,0,i.i,[[4,i.h]],null,null)],function(t,e){var n=e.component;t(e,3,0,n.isKeyboard),t(e,8,0,n.datePickerOptions),t(e,9,0,r.kb(1,"",n.isRequired,"")),t(e,12,0,""),t(e,18,0,null==n.momentDate?null:n.momentDate.format("ddd DD MMM YYYY"))},function(t,e){var n=e.component;t(e,1,0,r.kb(1,"",n.getDateAriaLabel(),"")),t(e,5,0,r.kb(1,"",n.id+" date",""),r.kb(1,"",n.label+" date",""),r.sb(e,9).required?"":null,r.sb(e,14).ngClassUntouched,r.sb(e,14).ngClassTouched,r.sb(e,14).ngClassPristine,r.sb(e,14).ngClassDirty,r.sb(e,14).ngClassValid,r.sb(e,14).ngClassInvalid,r.sb(e,14).ngClassPending),t(e,15,0,r.kb(1,"",n.id+"Date",""),r.kb(1,"",n.id+"Date",""),r.kb(1,"",n.label+" date",""),r.sb(e,20).ngClassUntouched,r.sb(e,20).ngClassTouched,r.sb(e,20).ngClassPristine,r.sb(e,20).ngClassDirty,r.sb(e,20).ngClassValid,r.sb(e,20).ngClassInvalid,r.sb(e,20).ngClassPending)})}n("Ao8H");var ut=function(){function t(){this.passengerChanged=new r.k,this.srText="",this.passengerSummary=""}return t.prototype.ngOnInit=function(){this.passengerSummary=this.getSRPassengerSummary()},t.prototype.increaseCount=function(t){this.passengerTypes.increaseCountForType(t),this.passengerChanged.emit({passengerType:this.passengerTypes}),this.srText=this.getSRAddRemoveText(!0,t),this.passengerSummary=this.getSRPassengerSummary()},t.prototype.decreaseCount=function(t){this.passengerTypes.decreaseCountForType(t),this.passengerChanged.emit({passengerType:this.passengerTypes}),this.srText=this.getSRAddRemoveText(!1,t),this.passengerSummary=this.getSRPassengerSummary()},t.prototype.getCount=function(t){return this.passengerTypes.countForType(t)},t.prototype.getHeaderText=function(){return 0===this.passengerTypes.total()?"Select passengers":1===this.passengerTypes.total()?"1 Passenger":this.passengerTypes.total()>1?this.passengerTypes.total()+" Passengers":void 0},t.prototype.getSRAddRemoveText=function(t,e){var n=this.passengerTypes.singularForType(e)+" ";return n+=t?"added":"removed",(n+=". Total "+this.passengerTypes.total()+" passenger")+(1===this.passengerTypes.total()?".":"s.")},t.prototype.getSRPassengerSummary=function(){if(this.passengerTypes){var t=this.getHeaderText()+". ",e=this.passengerTypes.types;return Object.keys(e).forEach(function(n){var r=e[n].count;r>0&&(t+=e[n].count+" ",t+=1===r?e[n].single:e[n].label,t+=". ")}),t}},t.prototype.isInvalid=function(){return this.parentForm.submitted&&!this.passengerTypes.isValidCount()},t}(),ct=r.gb({encapsulation:0,styles:[".passenger-count-container[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{border:1px solid #e4022d}.passenger-count-container[_ngcontent-%COMP%]   .no-gutters[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.passenger-count-container[_ngcontent-%COMP%]   .passenger-type-group[_ngcontent-%COMP%]{border:1px solid #bbb;padding:4px 12px}.passenger-count-container[_ngcontent-%COMP%]   .passenger-type-box[_ngcontent-%COMP%]{display:flex;align-items:center}.passenger-count-container[_ngcontent-%COMP%]   .passenger-type-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}.passenger-count-container[_ngcontent-%COMP%]   .passenger-type-box[_ngcontent-%COMP%]   .passenger-type-text[_ngcontent-%COMP%]{flex:4}.passenger-count-container[_ngcontent-%COMP%]   .passenger-type-box[_ngcontent-%COMP%]   .btn-square[_ngcontent-%COMP%]{flex:1}.passenger-count-container[_ngcontent-%COMP%]   .passenger-type-box[_ngcontent-%COMP%]   .passenger-count-text[_ngcontent-%COMP%]{flex:1}.passenger-count-container[_ngcontent-%COMP%]   .btn-square[_ngcontent-%COMP%]{border:2px solid #ddd;box-shadow:none;color:#555;width:30px;height:30px;font-weight:600;font-size:1.1em;border-radius:6px;background-color:white;padding:0;margin:4px 10px}.passenger-count-container[_ngcontent-%COMP%]   .btn-square[_ngcontent-%COMP%]:hover:enabled{cursor:pointer}.passenger-count-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#e4022d;padding-bottom:10px}.passenger-count-container[_ngcontent-%COMP%]   .passenger-alert-box[_ngcontent-%COMP%]{display:flex;font-weight:400;color:#333;background:#eee;margin-bottom:1em;border:1px solid #ccc;border-radius:0;padding:10px 10px 10px 10px}.passenger-count-container[_ngcontent-%COMP%]   .passenger-alert-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex:1;width:18px;height:18px;margin-top:3px}.passenger-count-container[_ngcontent-%COMP%]   .passenger-alert-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:9}"],data:{}});function pt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,10,"div",[["aria-live","polite"],["class","passenger-alert-box"],["role","alert"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,":svg:svg",[["role","img"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,0,":svg:use",[[":xlink:href","/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg#tp_alert_blue"],[":xmlns:xlink","http://www.w3.org/1999/xlink"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,7,"span",[],null,null,null,null,null)),(t()(),r.zb(-1,null,[" You can select up to a maximum of 9 passengers. For group bookings of 10 or more call "])),(t()(),r.ib(5,0,null,null,1,"a",[["class","phone-icon"],["href","tel:132232"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["13 22 32"])),(t()(),r.zb(-1,null,[" or "])),(t()(),r.ib(8,0,null,null,1,"a",[["href","/sales-agents"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["visit a sales agent"])),(t()(),r.zb(-1,null,[". "]))],null,null)}function ht(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"a",[["href","/concessions"]],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.passengerTypes.labelForType(e.parent.context.$implicit))})}function dt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.passengerTypes.labelForType(e.parent.context.$implicit))})}function ft(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,12,"div",[["class","passenger-type-box"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,4,"div",[["class","passenger-type-text"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,ht)),r.hb(3,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,dt)),r.hb(5,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(6,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),r.ib(7,0,null,null,1,"button",[["class","btn btn-sm btn-square btn-outline-secondary"],["type","button"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.decreaseCount(t.context.$implicit)&&r),r},null,null)),(t()(),r.zb(-1,null,[" - "])),(t()(),r.ib(9,0,null,null,1,"span",[["class","passenger-count-text"]],null,null,null,null,null)),(t()(),r.zb(10,null,["",""])),(t()(),r.ib(11,0,null,null,1,"button",[["class","btn btn-sm btn-square btn-outline-secondary"],["type","button"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.increaseCount(t.context.$implicit)&&r),r},null,null)),(t()(),r.zb(-1,null,[" + "]))],function(t,e){t(e,3,0,"concessions"==e.context.$implicit),t(e,5,0,"concessions"!=e.context.$implicit)},function(t,e){var n=e.component;t(e,7,0,0==n.getCount(e.context.$implicit),r.kb(1,"Remove ",n.passengerTypes.labelForType(e.context.$implicit),"")),t(e,10,0,n.passengerTypes.countForType(e.context.$implicit)),t(e,11,0,n.passengerTypes.hasReachedMaxCount(),r.kb(1,"Add ",n.passengerTypes.labelForType(e.context.$implicit),""))})}function mt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["aria-live","polite"],["class","error"],["role","alert"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" Please select at least 1 passenger "]))],null,null)}function gt(t){return r.Bb(0,[r.xb(402653184,1,{passengerAccordion:0}),(t()(),r.ib(1,0,null,null,9,"div",[["class","passenger-count-container"],["id","tniPassengerCount"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,pt)),r.hb(3,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(4,0,null,null,2,"div",[["class","passenger-type-group"]],[[2,"invalid",null]],null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,ft)),r.hb(6,278528,null,0,o.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.ib(7,0,null,null,1,"div",[["aria-live","assertive"],["class","sr-only"],["role","region"]],null,null,null,null,null)),(t()(),r.zb(8,null,[" "," "])),(t()(),r.Z(16777216,null,null,1,null,mt)),r.hb(10,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.passengerTypes.hasReachedMaxCount()),t(e,6,0,n.passengerTypes.getTypes()),t(e,10,0,n.isInvalid())},function(t,e){var n=e.component;t(e,4,0,n.isInvalid()),t(e,8,0,n.srText)})}var yt=n("Ifgn"),_t=n("Uecl"),vt=n("kLtR");n.d(e,"b",function(){return bt}),n.d(e,"c",function(){return Ct}),n.d(e,"a",function(){return Et});var bt=r.gb({encapsulation:0,styles:[".booking-component-container[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.booking-component-container[_ngcontent-%COMP%]   .no-gutters[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]{background-color:white;padding:5px 15px 10px 15px}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:white}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin-bottom:6px}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .booking-submit[_ngcontent-%COMP%]{background-color:#d03716;border-color:#d03716;box-shadow:0 2px 2px 0 rgba(0,0,0,0.3)}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .booking-submit[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ad2e12;border-color:#a22b11}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{border-bottom:1px solid #e4022d}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#e4022d;padding-bottom:10px}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .date-picker[_ngcontent-%COMP%]{border-bottom:1px solid #eaeaea}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .date-picker.invalid[_ngcontent-%COMP%]{border-bottom:1px solid #e4022d}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .date-picker[_ngcontent-%COMP%]     .mydp{border:none;width:0}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .date-picker[_ngcontent-%COMP%]     .mydp input{display:none}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .date-picker[_ngcontent-%COMP%]   .date-picker-label[_ngcontent-%COMP%]{position:absolute;top:5px;left:40px;font-size:16.2px;border:none;cursor:default}.booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .date-picker[_ngcontent-%COMP%]   .date-picker-label[_ngcontent-%COMP%]:hover, .booking-component-container[_ngcontent-%COMP%]   .booking-form[_ngcontent-%COMP%]   .date-picker[_ngcontent-%COMP%]   .date-picker-label[_ngcontent-%COMP%]:focus{border:none;cursor:default;outline:none}"],data:{}});function xt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["aria-live","polite"],["class","error"],["role","alert"]],null,null,null,null,null)),(t()(),r.zb(1,null,[" Enter a valid date up to "," months from today "]))],null,function(t,e){t(e,1,0,e.component.monthLimit)})}function wt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["aria-live","polite"],["class","error"],["role","alert"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" Return date cannot be earlier than departure date "]))],null,null)}function Mt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["aria-live","polite"],["class","error"],["role","alert"]],null,null,null,null,null)),(t()(),r.zb(1,null,[" Enter a valid date up to "," months from today "]))],null,function(t,e){t(e,1,0,e.component.monthLimit)})}function Ct(t){return r.Bb(0,[r.xb(402653184,1,{bookingForm:0}),(t()(),r.ib(1,0,null,null,52,"div",[["class","booking-component-container"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,51,"div",[["class","booking-form row"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,50,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.sb(t,5).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.sb(t,5).onReset()&&i),i},null,null)),r.hb(4,16384,null,0,i.p,[],null,null),r.hb(5,4210688,[[1,4],["bookingForm",4]],0,i.k,[[8,null],[8,null]],null,null),r.wb(2048,null,i.b,null,[i.k]),r.hb(7,16384,null,0,i.j,[[4,i.b]],null,null),(t()(),r.ib(8,0,null,null,34,"div",[],null,null,null,null,null)),r.hb(9,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{ngClass:[0,"ngClass"]},null),(t()(),r.ib(10,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.ib(11,0,null,null,1,"tni-stop-search",[["label","From"]],null,[[null,"stopChange"]],function(t,e,n){var r=!0,i=t.component;return"stopChange"===e&&(r=!1!==(i.model.fromStop=n)&&r),"stopChange"===e&&(r=!1!==i.onStopChanged(n,"From")&&r),r},k,L)),r.hb(12,4243456,null,0,C,[w.a],{id:[0,"id"],label:[1,"label"],parentForm:[2,"parentForm"],stop:[3,"stop"],excludeStop:[4,"excludeStop"]},{stopChange:"stopChange"}),(t()(),r.ib(13,0,null,null,1,"tni-stop-search",[["label","To"]],null,[[null,"stopChange"]],function(t,e,n){var r=!0,i=t.component;return"stopChange"===e&&(r=!1!==(i.model.toStop=n)&&r),"stopChange"===e&&(r=!1!==i.onStopChanged(n,"To")&&r),r},k,L)),r.hb(14,4243456,null,0,C,[w.a],{id:[0,"id"],label:[1,"label"],parentForm:[2,"parentForm"],stop:[3,"stop"],excludeStop:[4,"excludeStop"]},{stopChange:"stopChange"}),(t()(),r.ib(15,0,null,null,12,"div",[["class","form-group col-xs-12 no-gutters"]],null,null,null,null,null)),(t()(),r.ib(16,0,null,null,5,"tni-radio-button",[["class","col-xs-6 no-gutters"],["label","One way"],["name","journeyType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0,i=t.component;return"ngModelChange"===e&&(r=!1!==(i.model.journeyType=n)&&r),"ngModelChange"===e&&(r=!1!==i.onJourneyTypeChanged(n)&&r),r},D,S)),r.hb(17,49152,null,0,T,[],{name:[0,"name"],value:[1,"value"],label:[2,"label"]},null),r.wb(1024,null,i.g,function(t){return[t]},[T]),r.hb(19,671744,null,0,i.l,[[2,i.b],[8,null],[8,null],[6,i.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.wb(2048,null,i.h,null,[i.l]),r.hb(21,16384,null,0,i.i,[[4,i.h]],null,null),(t()(),r.ib(22,0,null,null,5,"tni-radio-button",[["class","col-xs-6 no-gutters"],["label","Return"],["name","journeyType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0,i=t.component;return"ngModelChange"===e&&(r=!1!==(i.model.journeyType=n)&&r),"ngModelChange"===e&&(r=!1!==i.onJourneyTypeChanged(n)&&r),r},D,S)),r.hb(23,49152,null,0,T,[],{name:[0,"name"],value:[1,"value"],label:[2,"label"]},null),r.wb(1024,null,i.g,function(t){return[t]},[T]),r.hb(25,671744,null,0,i.l,[[2,i.b],[8,null],[8,null],[6,i.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.wb(2048,null,i.h,null,[i.l]),r.hb(27,16384,null,0,i.i,[[4,i.h]],null,null),(t()(),r.ib(28,0,null,null,14,"div",[["class","form-group col-xs-12 no-gutters"]],null,null,null,null,null)),(t()(),r.ib(29,0,null,null,3,"div",[["class","col-xs-12 no-gutters date-picker"],["id","tniDepartingDate"]],[[2,"invalid",null]],null,null,null,null)),(t()(),r.ib(30,0,null,null,2,"tni-date-picker",[],null,[[null,"dateChanged"]],function(t,e,n){var r=!0;return"dateChanged"===e&&(r=!1!==t.component.onDepartingDateChanged(n)&&r),r},lt,at)),r.wb(5120,null,i.g,function(t){return[t]},[ot]),r.hb(32,49152,null,0,ot,[r.y,r.i],{momentDate:[0,"momentDate"],id:[1,"id"],label:[2,"label"],disableAfterNmonths:[3,"disableAfterNmonths"],isRequired:[4,"isRequired"]},{dateChanged:"dateChanged"}),(t()(),r.Z(16777216,null,null,1,null,xt)),r.hb(34,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(35,0,null,null,3,"div",[["class","col-xs-12 no-gutters"],["id","tniReturningDate"]],[[8,"hidden",0],[2,"invalid",null]],null,null,null,null)),(t()(),r.ib(36,0,null,null,2,"tni-date-picker",[],null,[[null,"dateChanged"]],function(t,e,n){var r=!0;return"dateChanged"===e&&(r=!1!==t.component.onReturnDateChanged(n)&&r),r},lt,at)),r.wb(5120,null,i.g,function(t){return[t]},[ot]),r.hb(38,49152,null,0,ot,[r.y,r.i],{momentDate:[0,"momentDate"],id:[1,"id"],label:[2,"label"],disableAfterNmonths:[3,"disableAfterNmonths"],isRequired:[4,"isRequired"]},{dateChanged:"dateChanged"}),(t()(),r.Z(16777216,null,null,1,null,wt)),r.hb(40,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,Mt)),r.hb(42,16384,null,0,o.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(43,0,null,null,10,"div",[],null,null,null,null,null)),r.hb(44,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{ngClass:[0,"ngClass"]},null),(t()(),r.ib(45,0,null,null,2,"div",[["class","form-group col-xs-12 no-gutters"]],null,null,null,null,null)),(t()(),r.ib(46,0,null,null,1,"tni-passenger-count",[],[[8,"id",0]],[[null,"passengerChanged"]],function(t,e,n){var r=!0;return"passengerChanged"===e&&(r=!1!==t.component.onPassengerChanged(n)&&r),r},gt,ct)),r.hb(47,114688,null,0,ut,[],{passengerTypes:[0,"passengerTypes"],parentForm:[1,"parentForm"],isOpen:[2,"isOpen"]},{passengerChanged:"passengerChanged"}),(t()(),r.ib(48,0,null,null,2,"div",[["class","form-group col-xs-12 no-gutters"]],null,null,null,null,null)),(t()(),r.ib(49,0,null,null,1,"a",[["href","/regional-bookings/"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.trackEventSelectMorePassengersType()&&r),r},null,null)),(t()(),r.zb(-1,null,["Select more passenger types"])),(t()(),r.ib(51,0,null,null,2,"button",[["class","btn booking-submit"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.submitBooking()&&r),r},null,null)),r.hb(52,278528,null,0,o.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),r.zb(-1,null,[" Search "]))],function(t,e){var n=e.component;t(e,9,0,n.getResponsiveCssClass()),t(e,12,0,"tniFromStop","From",r.sb(e,5),n.model.fromStop,n.model.toStop),t(e,14,0,"tniToStop","To",r.sb(e,5),n.model.toStop,n.model.fromStop),t(e,17,0,"journeyType",n.JourneyType.ONE_WAY,"One way"),t(e,19,0,"journeyType",n.model.journeyType),t(e,23,0,"journeyType",n.JourneyType.RETURN,"Return"),t(e,25,0,"journeyType",n.model.journeyType),t(e,32,0,n.model.departingDate,"departureDate","Departure",n.monthLimit,!0),t(e,34,0,!n.dateStatus.departureDate||r.sb(e,5).submitted&&!n.model.departingDate),t(e,38,0,n.model.returningDate,"returningDate","Returning",n.monthLimit,!0),t(e,40,0,r.sb(e,5).submitted&&n.model.returningDate&&n.model.journeyType===n.JourneyType.RETURN&&n.isReturningDateBeforeDepartingDate()),t(e,42,0,!n.dateStatus.returningDate||r.sb(e,5).submitted&&n.model.journeyType===n.JourneyType.RETURN&&!n.model.returningDate),t(e,44,0,n.getResponsiveCssClass()),t(e,47,0,n.model.passengerTypes,r.sb(e,5),n.expandPassengerCount),t(e,52,0,"btn booking-submit",n.getResponsiveCssClass())},function(t,e){var n=e.component;t(e,3,0,r.sb(e,7).ngClassUntouched,r.sb(e,7).ngClassTouched,r.sb(e,7).ngClassPristine,r.sb(e,7).ngClassDirty,r.sb(e,7).ngClassValid,r.sb(e,7).ngClassInvalid,r.sb(e,7).ngClassPending),t(e,16,0,r.sb(e,21).ngClassUntouched,r.sb(e,21).ngClassTouched,r.sb(e,21).ngClassPristine,r.sb(e,21).ngClassDirty,r.sb(e,21).ngClassValid,r.sb(e,21).ngClassInvalid,r.sb(e,21).ngClassPending),t(e,22,0,r.sb(e,27).ngClassUntouched,r.sb(e,27).ngClassTouched,r.sb(e,27).ngClassPristine,r.sb(e,27).ngClassDirty,r.sb(e,27).ngClassValid,r.sb(e,27).ngClassInvalid,r.sb(e,27).ngClassPending),t(e,29,0,!n.dateStatus.departureDate||r.sb(e,5).submitted&&!n.model.departingDate),t(e,35,0,n.model.journeyType===n.JourneyType.ONE_WAY,!n.dateStatus.returningDate||r.sb(e,5).submitted&&(!n.model.returningDate||n.isReturningDateBeforeDepartingDate())),t(e,46,0,"tniPassengerCount")})}function Lt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-booking",[],null,null,null,Ct,bt)),r.hb(1,4308992,null,0,yt.a,[l.a,r.i,r.f,_t.a,vt.a,w.a],null,null)],function(t,e){t(e,1,0)},null)}var Et=r.eb("tni-booking",yt.a,Lt,{},{},[])},"+o+X":function(t,e,n){"use strict";n("6OR2");var r=n("XmvR"),i=n("SnAx"),o=n("bxum");n("lR7y"),n("UxfY"),n("+9V0"),n("yZql"),n("5IX/"),n("kLtR"),n("9lgY"),n("tUW/"),n("T1BI"),n("gTB4"),n("dEht"),n("8fF9"),n("gcOl"),n("3ZaB"),n.d(e,"b",function(){return r.a}),n.d(e,"c",function(){return i.b}),n.d(e,"a",function(){return i.a}),n.d(e,"d",function(){return o.c})},"+s0g":function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+ulk":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.tabId="tni-tab-"+t.nextId+++"-header"}return t.nextId=0,t}()},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"//9w":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},"/3+2":function(t,e){},"/8xC":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("8fF9"),i=n("dkuj"),o=n("UCMd"),a=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[i.a,i.e,i.b,o.a,o.c,i.c,i.d,r.b,o.b]}},t}()},"/JXh":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},"/Vdu":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("psW0"),i=n("67Y/"),o=n("9Z1F"),a=n("0/uQ"),s=n("XlPw"),l=n("e2Lp"),u=n("CcnG"),c=n("t/Na"),p=function(){function t(t){this.http=t,this.userPreferenceStoreEndpoint="/api/preferences",null===localStorage.getItem("alerts_pushed")&&localStorage.setItem("alerts_pushed","false"),null===localStorage.getItem("deps_pushed")&&localStorage.setItem("deps_pushed","false")}return t.prototype.getOrCreateUUID=function(){var t=localStorage.getItem("user_preference_store_uuid");if(null===t){var e=this.generateUUID();localStorage.setItem("user_preference_store_uuid",e),t=e}return t},t.prototype.generateUUID=function(){return(1e7+"-1000"+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]%16>>t/4).toString(16)})},t.prototype.getAlertsItem=function(t){var e=this,n=this.getOrCreateUUID();return"false"===localStorage.getItem("alerts_pushed")?Object(a.a)(this.pushFromLocalStorageAlerts(n)).pipe(Object(r.a)(function(t){return localStorage.setItem("alerts_pushed","true"),localStorage.removeItem(l.b),e.getAlerts(n)})):this.getAlerts(n)},t.prototype.getAlerts=function(t){return this.http.get(this.userPreferenceStoreEndpoint+"?id="+t).pipe(Object(i.a)(function(t){return t&&t.alerts&&t.alerts[l.b]?t.alerts[l.b]:[]}),Object(o.a)(function(t){return Object(s.a)(t)}))},t.prototype.getDepartures=function(t){return this.http.get(this.userPreferenceStoreEndpoint+"?id="+t).pipe(Object(i.a)(function(t){return t&&t.previous_departures&&t.previous_departures[l.a]?t.previous_departures[l.a]:[]}),Object(o.a)(function(t){return Object(s.a)(t)}))},t.prototype.getDeparturesItem=function(t){var e=this,n=this.getOrCreateUUID();return"false"===localStorage.getItem("deps_pushed")?Object(a.a)(this.pushFromLocalStorageDepartures(n)).pipe(Object(r.a)(function(t){return localStorage.removeItem(l.a),localStorage.setItem("deps_pushed","true"),e.getDepartures(n)})):this.getDepartures(n)},t.prototype.pushFromLocalStorageAlerts=function(t){var e=JSON.parse(localStorage.getItem(l.b));return this.http.put(this.userPreferenceStoreEndpoint+"/alerts",{id:t,alerts:{favouriteRouteCards:e||[]}})},t.prototype.pushFromLocalStorageDepartures=function(t){var e=localStorage.getItem(l.a)?JSON.parse(localStorage.getItem(l.a).replace(/""/g,null)):[];return this.http.put(this.userPreferenceStoreEndpoint+"/departures",{id:t,previous_departures:{previous_departures:e||[]}})},t.prototype.updateFavouriteRoutes=function(t){var e=this,n=this.getOrCreateUUID();this.getAllItems().subscribe(function(r){var i=r&&r.alerts&&r.alerts.favouriteRouteCards&&r.alerts.favouriteRouteCards.filter(function(e){return e.id!==t});e.http.put(e.userPreferenceStoreEndpoint+"/alerts",{id:n,alerts:{favouriteRouteCards:i||[]}}).subscribe()})},t.prototype.updateDepartures=function(t){var e=this.getOrCreateUUID();return this.http.put(this.userPreferenceStoreEndpoint+"/departures",{id:e,previous_departures:{previous_departures:t||[]}})},t.prototype.getAllItems=function(){var t=this.getOrCreateUUID();return this.http.get(this.userPreferenceStoreEndpoint+"?id="+t).pipe(Object(i.a)(function(t){return t||[]}),Object(o.a)(function(t){return Object(s.a)(t)}))},t.ngInjectableDef=u.K({factory:function(){return new t(u.O(c.c))},token:t,providedIn:"root"}),t}()},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},"/X5v":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},"/aI6":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=(n("UCMd"),function(){function t(t){this.routeDetailsHelper=t,this.toggleCard=new r.k,this.selectMap=new r.k}return t.prototype.displayMap=function(t){var e={card:t,extraInfo:{routesInfo:this.getStopRoutes(t),mode:this.getMode(t),modeName:this.getModeName(t),suburb:this.getSuburbName(t),departuresLink:this.getDeparturesLink(t)}};this.selectMap.emit(e)},t.prototype.onToggleCard=function(t,e){var n={expanded:t,card:e,extraInfo:{routesInfo:this.getStopRoutes(e),mode:this.getMode(e),modeName:this.getModeName(e),suburb:this.getSuburbName(e),departuresLink:this.getDeparturesLink(e)}};this.toggleCard.emit(n)},t.prototype.getStopRoutes=function(t){return this.routeDetailsHelper.getStopRoutes(this.stopsRoutes,t)},t.prototype.getMode=function(t){return this.routeDetailsHelper.getMode(this.stopsRoutes,t)},t.prototype.getModeName=function(t){return this.routeDetailsHelper.getModeName(this.stopsRoutes,t)},t.prototype.getSuburbName=function(t){return this.routeDetailsHelper.getSuburbName(t)},t.prototype.getDeparturesLink=function(t){return this.routeDetailsHelper.getDeparturesLink(t)},t}())},"/hO8":function(t,e,n){"use strict";n("GooZ");var r=n("MMzP"),i=n("mrSG"),o=n("FFOo"),a=n("pugT");function s(t){return function(e){return e.lift(new l(t))}}var l=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.callback))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new a.a(n)),r}return i.c(e,t),e}(o.a),c=(n("nfFZ"),n("wd/R")),p=(n("kLtR"),n("dEht"),n("VNr4")),h=n("F8mC");n("J5xx"),n("QWsm"),n("mr1O"),n.d(e,"a",function(){return d});var d=function(){function t(t,e,n,r,i,o,a){this.alertMessageService=t,this.alertsStore=e,this.appRef=n,this.mediaService=r,this.routesService=i,this.trackEvent=o,this.liveTrafficMessageService=a,this.isRefreshClick=!1}return t.prototype.ngOnInit=function(){var t=this;this.alertsStore.getFavouriteRoutes().subscribe(function(e){t.getFavRoutes(e),t.validateFavouriteBusRoutes(t.favRoutes)})},t.prototype.getFavRoutes=function(t){t&&(this.favRoutes=t.map(function(t){return r.a.fromJson(t)}))},t.prototype.reload=function(){var t=this;this.alertsStore.getFavouriteRoutes().subscribe(function(e){if(t.getFavRoutes(e),t.favRoutes.reverse().sort(function(t,e){return t.compareTo(e)}),t.favRoutes.length){t.isLoadingData=!0;var n=t.getModeIds();Object(p.a)(t.alertMessageService.get(n),t.routesService.loadAllProductIdsExceptBus()).pipe(s(function(){t.isLoadingData=!1,t.appRef.tick(),t.focusRefreshButton()})).subscribe(function(e){t.lastUpdated=c(),t.attachAlertMsgsToRoutes(e[0])}),t.fetchTrafficAlerts()}t.setDisplayLimit(),t.setIndicatorDisplay()})},t.prototype.validateFavouriteBusRoutes=function(t){var e=this,n=[],r=[];if(t.forEach(function(t){t.productId!==h.a.DEFAULT_PUBLIC_TRANSPORT_MODES.BUS.productCode&&t.productId!==h.a.DEFAULT_PUBLIC_TRANSPORT_MODES.SCHOOL_BUS.productCode||(n.push(t),r.push(t.operatingBranchRouteNumber))}),r&&r.length>0){var i=[];this.routesService.search(r).subscribe(function(t){t.forEach(function(t){i.findIndex(function(e){return e===t.operatingBranchRouteNumber()})<0&&i.push(t.operatingBranchRouteNumber())}),n.map(function(t){i.indexOf(t.operatingBranchRouteNumber)>-1||e.alertsStore.removeFavouriteRoute(t.id)}),e.reload()})}else this.reload()},t.prototype.setIndicatorDisplay=function(){var t=this,e=t.favRoutes.map(function(e){var n=t.isTrainRoute(e);return"route"!==e.type||n?e.type:""}),n=t.alertsStore.getAlertPreferences().announcementTypeFilters,r=t.alertsStore.getAlertPreferences().trafficFilters;t.showTrainIndicator=e.indexOf("route")>=0&&n&&n.length>0,t.showDriveIndicator=e.indexOf("region")>=0&&r&&r.length>0},t.prototype.getModeIds=function(){var t=new Set;return this.favRoutes.map(function(t){return t.modeIds}).forEach(function(e){e.forEach(function(e){return t.add(e)})}),Array.from(t)},t.prototype.fetchTrafficAlerts=function(){var t=this,e=[],n=this.alertsStore.getAlertPreferences().trafficFilters;n&&0!==n.length||(n=Object.keys(h.a.LIVE_TRAFFIC_MESSAGE_TYPES)),this.isLoadingTrafficMessages=!0,this.liveTrafficMessageService.getTrafficAlerts(n).pipe(s(function(){t.isLoadingTrafficMessages=!1,t.appRef.tick(),t.focusRefreshButton()})).subscribe(function(n){t.lastUpdated=c(),n.forEach(function(t){return e=e.concat(t)}),t.attachTrafficMsgToRegions(e)})},t.prototype.attachTrafficMsgToRegions=function(t){this.favRoutes.forEach(function(e){if(!e.isRouteType()){var n=t.filter(function(t){return t&&t.isValid()&&t.isRegionAffected(e.id)});e.setTrafficMessages(n)}})},t.prototype.attachAlertMsgsToRoutes=function(t){var e=this;this.favRoutes.filter(function(t){return t.isRouteType()}).forEach(function(n){var r=e.alertsStore.getAlertPreferences().announcementTypeFilters||[],i=e.findRelatedRouteIds(n),o=t.filter(function(t){return t&&t.priority&&("low"===t.priority.value||"normal"===t.priority.value)&&(!t.isTrackwork()&&!t.isServiceAlert()||"low"!==t.priority.value)}).filter(function(t){return t.publishToAreas&&!!t.publishToAreas}).filter(function(t){return t.isRouteIdAffected(i)}).filter(function(t){return 0===r.length||!e.isTrainRoute(n)||t.isOfType(r)});n.setAlertMessages(o)})},t.prototype.findRelatedRouteIds=function(t){return t.productId===h.a.DEFAULT_PUBLIC_TRANSPORT_MODES.BUS.productCode||t.productId===h.a.TRANSPORT_MODE_NETWORKS.regionalTrains.productId||t.productId===h.a.TRANSPORT_MODE_NETWORKS.regionalCoaches.productId?[t.id]:this.routesService.findRouteIdsByRouteNumber(t.lineNumber)},t.prototype.onRefreshClick=function(){this.reload(),this.isRefreshClick=!0,this.trackEvent.refreshAlerts()},t.prototype.setDisplayLimit=function(){this.displayLimit=this.mediaService.isMobileView()?3:this.favRoutes.length},t.prototype.onLoadMore=function(){this.displayLimit=this.displayLimit+3},t.prototype.onFavouriteToggle=function(t,e){t||(this.alertsStore.removeFavouriteRoute(e),this.favRoutes=this.favRoutes.filter(function(t){return t.id!==e})),this.setIndicatorDisplay()},t.prototype.focusRefreshButton=function(){var t=this;this.isLoadingData||this.isLoadingTrafficMessages||this.isRefreshClick&&(this.isRefreshClick=!1,setTimeout(function(){return t.alertRefresh.refreshButton.nativeElement.focus()}))},t.prototype.isTrainRoute=function(t){return h.a.TRANSPORT_MODES.train.productsIds.indexOf(t.productId)>=0},t}()},"/n73":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t){return t[t.Metro=2]="Metro",t[t.Train=1]="Train",t[t.Bus=5]="Bus",t[t.Ferry=9]="Ferry",t[t.LightRail=4]="LightRail",t[t.Coach=7]="Coach",t[t.SchoolBus=11]="SchoolBus",t}({}),i=function(t){return t[t.Train=2]="Train",t}({})},"/y3m":function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.c(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n("h9Dq").a),a=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.c(e,t),e}(n("CS9Q").a))(o),s=n("pugT"),l=n("FFOo"),u=n("G5J1"),c=n("F/XL"),p=n("XlPw"),h=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(c.a)(this.value);case"E":return Object(p.a)(this.error);case"C":return Object(u.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),d=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return r.c(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new f(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(h.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(h.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(h.createComplete()),this.unsubscribe()},e}(l.a),f=function(){return function(t,e){this.notification=t,this.destination=e}}(),m=n("8g8A"),g=n("uMaO"),y=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.c(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new _(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new m.a;if(this.isStopped||this.hasError?e=s.a.EMPTY:(this.observers.push(t),e=new g.a(this,t)),i&&t.add(t=new d(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.a),_=function(){return function(t,e){this.time=t,this.value=e}}(),v=n("0/uQ"),b=n("6blF"),x=n("5tAl"),w=n("67Y/"),M=n("15JJ"),C=n("R+r5"),L=n("MODd"),E=n("1Li2"),k=n("F/us");n.d(e,"a",function(){return T});var T=function(){function t(t){this.http=t,this.destinationApiURL="/drupal-api/destinations/list?_format=json",this.localStorageKey="recent_stops",this.recentStops=[]}return t.prototype.loadStops=function(){var t=new y;this.http.get(this.destinationApiURL).pipe(Object(x.a)(3),Object(w.a)(function(t){return t.map(function(t){return new E.a(t.name,t.full_name,t.station_code,t.lastUsed)})}),Object(w.a)(function(t){return k.sortBy(t,"fullName")}),Object(M.a)(function(t){return Object(v.a)(t)})).subscribe(t),this.cachedStops$=t.asObservable()},t.prototype.getAllStops=function(){return this.cachedStops$},t.prototype.validateStopsInLocalStorage=function(){var t,e=this,n=this.getRecentStops();this.getAllStops().pipe(Object(C.a)()).subscribe(function(r){t=n.filter(function(t){for(var e=0;e<r.length;e++)if(r[e].equals(t))return!0;return!1}),e.setRecentStops(t)})},t.prototype.validateStop=function(t){var e=this;return b.a.create(function(n){e.getAllStops().pipe(Object(C.a)()).subscribe(function(e){n.next(!t||e.findIndex(function(e){return e.equals(t)})>=0),n.complete()})})},t.prototype.getRecentStops=function(){var t=L.a.getItem(this.localStorageKey)||[];return k.sortBy(t.map(function(t){return new E.a(t.name,t.fullName,t.code,t.lastUsed)}),"lastUsed").reverse()},t.prototype.setRecentStops=function(t){L.a.setItem(this.localStorageKey,t)},t}()},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),a=n("xTla"),s=n("En8+"),l=n("IUTb"),u=n("pugT"),c=n("S5XQ"),p=n("u67D"),h=n("JcRv"),d=n("Fxb1");function f(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(d.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new u.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(h.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new u.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(c.a)(t))}(t,e);if(Object(o.a)(t))return Object(l.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new u.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:Object(p.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return f})},"0Nn5":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},"0Ylq":function(t,e,n){"use strict";var r,i=n("t/Na"),o=n("pugT"),a=n("bne5"),s=(n("3ZaB"),n("F8mC")),l=n("WVt+"),u=(n("dkuj"),n("XBuN")),c=(n("UCMd"),function(t){return t[t.Facilities="facilities"]="Facilities",t[t.NearbyStops="nearbyStops"]="NearbyStops",t}({}));!function(t){t.bus="#00b5ef",t.train="#f6891f",t.metro="#168388",t.coach="#732a82",t.ferry="#5ab031",t.lightrail="#ee343f",t["bus-school"]="#00b5ef",t.default="#999999"}(r||(r={}));var p=n("4ZJM");n("8fF9"),n("XYEn"),n.d(e,"a",function(){return h});var h=function(){function t(t,e,n,r,i,a,l,u,p,h){this.windowRef=t,this.renderer=e,this.facilitiesService=n,this.locationSchemaService=r,this.stopsDataService=i,this.queryStringSearchHelper=a,this.trackStationFacilitiesService=l,this.featureToggleService=u,this.routeDetailsHelper=p,this.routesDataService=h,this.stationHasFacilities=!1,this.showMap=!1,this.showAutoSuggest=!1,this.isLoadingData=!1,this.LIST_VIEW="tni-list-tab",this.MAP_VIEW="tni-map-tab",this.GroupTypeEnum=c,this.mapStyle=s.a.MAPBOX_CONSTANTS.stopFacilitiesGreyscaleStyleUrl,this.markers=[],this.listViewFacilities=[],this.listAndMapViewFacilities=[],this.uniqueFacilityTypes=[],this.uniqueFacilityIds=[],this.dedupedFacilitiesByChildId={},this.dedupedFacilities=[],this.displaySpinner=!0,this.displaySpinnerForStops=!0,this.facilitySchemaErrorMessage="",this.stopSchemaErrorMessage="",this.displayErrorMessageForFacilities=!1,this.displayErrorMessageForStops=!1,this.sortedStops=[],this.subscription=new o.a}return t.prototype.ngOnInit=function(){this.loadStationFacilitiesComponent()},t.prototype.loadStationFacilitiesComponent=function(){var t=this;this.activeViewId=this.LIST_VIEW,this.activeGroupId=c.Facilities,this.trackStationFacilitiesService.viewGroupView(u.g,u.g+u.f);var e=this.queryStringSearchHelper.queryStringParam("q");this.isMobileView()&&this.trackStationFacilitiesService.viewListTab(u.j),e.length>0&&(this.locationSchemaService.getLocationSchema(e).subscribe(function(e){t.locationName="",e&&e.location_name&&(t.locationName=e.location_name),e&&e.latitude&&e.longitude?(t.centerLngLat=[e.longitude,e.latitude],t.resetBounds()):t.centerLngLat=[s.a.MAPBOX_CONSTANTS.sydneyCenter[0],s.a.MAPBOX_CONSTANTS.sydneyCenter[1]]},function(e){t.centerLngLat=[s.a.MAPBOX_CONSTANTS.sydneyCenter[0],s.a.MAPBOX_CONSTANTS.sydneyCenter[1]],t.locationName="",t.resetBounds()}),this.getStopsData(e),this.getFacilityData(e)),this.resizeObservable=Object(a.a)(window,"resize");var n=this.resizeObservable.subscribe(function(e){t.forceMapResize()});this.subscription.add(n),setTimeout(function(){t.displaySpinner=!1},u.l)},t.prototype.ngOnChanges=function(){this.isMobileView()||(this.activeViewId=this.LIST_VIEW)},t.prototype.isMobileView=function(){return this.windowRef.isMobileView()},t.prototype.onViewChange=function(t){t===this.MAP_VIEW?(this.activeViewId=this.MAP_VIEW,this.showMap=!0,this.forceMapResize()):t===this.LIST_VIEW&&(this.activeViewId=this.LIST_VIEW,this.showMap=!1)},t.prototype.trackViewChange=function(t){t===this.MAP_VIEW?this.trackStationFacilitiesService.viewMapTabOnMobile():t===this.LIST_VIEW&&this.trackStationFacilitiesService.viewListTab(u.k)},t.prototype.switchType=function(t){this.activeGroupId=t,this.trackStationFacilitiesService.viewGroupView(t===c.Facilities?u.g:u.i,t===c.Facilities?u.g+u.h:u.i+u.h)},t.prototype.setMapInstance=function(t){this.mapInstance=t,this.forceMapResize()},t.prototype.onClickMapMarker=function(t){t&&(t.type===u.o?this.trackStationFacilitiesService.selectStopPointOnMap(this.locationName,t.title):t.type===u.n&&this.trackStationFacilitiesService.selectFacilityOnMap(this.locationName,t.title))},t.prototype.forceMapResize=function(){var t=this;this.mapInstance&&setTimeout(function(){t.mapInstance.resize()},500)},t.prototype.resetBounds=function(){this.bounds=new p.LngLatBounds(this.centerLngLat,this.centerLngLat)},t.prototype.getLineDistance=function(t,e){var n={type:"Feature",geometry:{type:"LineString",coordinates:[t,e]},properties:{id:String((new Date).getTime())}};return l.lineDistance(n)},t.prototype.getStopCards=function(){this.sortedStops=this.allStops.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})},t.prototype.alphabeticalFacilitySort=function(t,e){return t.FACILITY_DESC<e.FACILITY_DESC?-1:t.FACILITY_DESC>e.FACILITY_DESC?1:0},t.prototype.dedupFacilitiesByChildCode=function(t){return t.forEach(function(e){var n=t.filter(function(t){return t.CHILD_CODE===e.CHILD_CODE&&t.TYPE_CODE===e.TYPE_CODE});n.length>1&&(e.TOTAL_NUMBER=0,n.forEach(function(t){e.TOTAL_NUMBER=+e.TOTAL_NUMBER+(""===t.NUMBER?1:+t.NUMBER)}))}),t},t.prototype.onToggleStopCard=function(t){t.expanded&&!this.isMobileView()&&t.card&&(t.card.identifier=t.card.id,this.trackStationFacilitiesService.viewStopCardFromList(this.locationName,t.card.parent.disassembledName),this.displayOnMap(t.card),this.centrePopupsOnMap(t.card.identifier))},t.prototype.displayMap=function(t){this.isMobileView()&&t.card&&(t.card.identifier=t.card.id,this.displayOnMap(t.card),this.trackStationFacilitiesService.selectMapFromStopCardOnMobile(this.locationName,t.card.parent.disassembledName))},t.prototype.createFacilityMapMarker=function(t){"Y"===t.MAP&&t.LONG&&t.LAT&&this.markers.push({type:u.n,title:""===t.MORE_INFO?t.FACILITY_DESC:t.FACILITY_DESC+": "+t.MORE_INFO,messageBody:t.CHILD_DESC_MAPVIEW,icon:void 0===t.ICON||""===t.ICON||"TBC"===t.ICON?"information":t.ICON,geometry:{type:"Point",coordinates:[Number(t.LONG),Number(t.LAT)]},identifier:t.TYPE_CODE})},t.prototype.generateFacilityChildDescription=function(t,e){var n=this;if(""===t.CHILD_DESC_LISTVIEW||""===t.CHILD_DESC_MAPVIEW){var r=e.filter(function(e){return e.FACILITY_ID===t.FACILITY_ID}),i="";r.forEach(function(t){""!==t.CHILD_DESC&&(i+="<p>"+t.CHILD_DESC,""!==t.NUMBER&&(i+=':&nbsp;<span class="facility-count">'+t.NUMBER+"</span>"),i+="</p>")}),t.CHILD_DESC_MAPVIEW=i;var o="";e.filter(function(e){return e.TYPE_CODE===t.TYPE_CODE}).forEach(function(t){""!==t.CHILD_DESC&&(t.TOTAL_NUMBER&&!n.dedupedFacilitiesByChildId[t.TYPE_CODE+t.CHILD_CODE]&&(o+="<p>"+t.CHILD_DESC,""!==t.TOTAL_NUMBER&&(o+='&nbsp;(total):&nbsp;<span class="facility-count">'+t.TOTAL_NUMBER+"</span>"),o+="</p>",n.dedupedFacilitiesByChildId[t.TYPE_CODE+t.CHILD_CODE]=!0),t.TOTAL_NUMBER||(o+="<p>"+t.CHILD_DESC,""!==t.NUMBER&&(o+=':&nbsp;<span class="facility-count">'+t.NUMBER+"</span>"),o+="</p>"))}),t.CHILD_DESC_LISTVIEW=o}},t.prototype.getFacilityData=function(t){var e=this,n=this.facilitiesService.getFacilities(t).subscribe(function(t){if(e.allFacilities=t,e.displayErrorMessageForFacilities=!1,e.allFacilities.length>0){e.stationHasFacilities=!0;var n=t.sort(function(t,e){return Number(t.RANK)-Number(e.RANK)}).sort(e.alphabeticalFacilitySort);e.dedupFacilitiesByChildCode(n),n.forEach(function(t){t.FACILITY_CAT!==u.d&&(e.generateFacilityChildDescription(t,n),-1===e.uniqueFacilityTypes.indexOf(t.TYPE_CODE)?e.uniqueFacilityTypes.push(t.TYPE_CODE):t[u.a]=!0,"Y"===t.MAP?e.listAndMapViewFacilities.push(t):e.listViewFacilities.push(t),-1===e.uniqueFacilityIds.indexOf(t.FACILITY_ID)&&(e.uniqueFacilityIds.push(t.FACILITY_ID),e.createFacilityMapMarker(t)))})}e.displaySpinner=!1},function(t){(t instanceof i.f||"TimeoutError"===t.name)&&(e.displaySpinner=!1,e.facilitySchemaErrorMessage=u.e,e.displayErrorMessageForFacilities=!0)});this.subscription.add(n)},t.prototype.getPopupMessageBody=function(t){var e=t.card.parent.parent.name+" (Stop ID "+t.card.parent.id+")";if(t.extraInfo&&t.extraInfo.routes&&0===t.extraInfo.routes.length)return e+'<div class="routes-info-with-no-routes">Currently there are no routes servicing this stop.</div>';var n='<div class="mode" aria-label="'+t.extraInfo.modeName+'"><span><svg class="tp-icon md">\x3c!-- --\x3e<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg#tp_'+t.extraInfo.modeName+'"></use>\x3c!-- --\x3e</svg></span></div>',r="";return t.extraInfo&&t.extraInfo.routes&&t.extraInfo.routes.forEach(function(t){r+='<div class="route"><span class="route-icon-number" style="background-color: '+t.colour.foreground+";color: "+t.colour.text+';">'+t.route_number+"</span></div>"}),e+'<div class="routes-info">'+n+'<div class="routes-table">'+r+"</div></div>"},t.prototype.updateMapPopupMarkers=function(t){var e=this;t.forEach(function(t){if(t.coord[0]&&t.coord[1]){var n=void 0,i="#999";t.extraInfo&&t.extraInfo.modeName&&(n=t.extraInfo.modeName,i=r[t.extraInfo.modeName]);var o={card:t,extraInfo:t.extraInfo};e.markers.push({type:u.o,title:t.parent.disassembledName,marker:n,messageBody:o.extraInfo?e.getPopupMessageBody(o):t.parent.parent.name+" (Stop ID "+t.parent.id+")",colour:i,links:[{hideMap:!1,link:"/trip#/departures?depart="+t.parent.id+"&type=platform",icon:"arrow_from",name:"Departures from here"}],geometry:{type:"Point",coordinates:[t.coord[1],t.coord[0]]},identifier:t.id})}})},t.prototype.getStopsData=function(t){var e=this;this.displaySpinnerForStops=!0;var n=this.stopsDataService.getStops(t).subscribe(function(t){e.allStops=t;var n=t.map(function(t){return t.properties.STOPPOINT_GLOBAL_ID}),r=e.routesDataService.getRoutesByStopId({stops:n}).subscribe(function(t){e.displayErrorMessageForStops=!1,e.displaySpinnerForStops=!1,e.routeDetails=t,e.allStops.forEach(function(t){t.extraInfo={modeName:e.routeDetailsHelper.getModeName(e.routeDetails,t),departuresLink:e.routeDetailsHelper.getDeparturesLink(t),suburb:e.routeDetailsHelper.getSuburbName(t),routes:e.routeDetailsHelper.getStopRoutes(e.routeDetails,t).routes.sort(e.sortRoutes)}}),e.getStopCards(),e.updateMapPopupMarkers(e.allStops)},function(t){(t instanceof i.f||"TimeoutError"===t.name)&&(e.displaySpinnerForStops=!1,e.updateMapPopupMarkers(e.allStops),e.stopSchemaErrorMessage=u.q,e.displayErrorMessageForStops=!0)});e.subscription.add(r)},function(t){(t instanceof i.f||"TimeoutError"===t.name)&&(e.displaySpinnerForStops=!1,e.stopSchemaErrorMessage=u.q,e.displayErrorMessageForStops=!0)});this.subscription.add(n)},t.prototype.centrePopupsOnMap=function(t){var e=this,n=this.markers.filter(function(e){return t===e.identifier});n.length>1&&(n.forEach(function(t){e.bounds.extend(t.geometry.coordinates)}),setTimeout(function(){e.mapInstance.fitBounds(e.bounds,{padding:100})},100))},t.prototype.sortRoutes=function(t,e){return t.route_number<e.route_number?-1:t.route_number>e.route_number?1:0},t.prototype.displayOnMap=function(t){this.isMobileView()&&(this.showMap=!0,this.onViewChange(this.MAP_VIEW)),this.closeAllPopups(),this.resetBounds(),this.activeGroupId===c.Facilities&&this.trackStationFacilitiesService.viewFacilityCardFromList(this.locationName,t.title);for(var e=document.getElementsByClassName("mapboxgl-marker"),n=0;n<e.length;n++){var r=e[n].dataset.identifier;if(r&&r===t.identifier){var i=void 0;"function"==typeof Event?(i=new Event("click"),e[n].dispatchEvent(i)):((i=document.createEvent("Event")).initEvent("click",!1,!1),e[n].dispatchEvent(i))}}},t.prototype.closeAllPopups=function(){for(var t=document.getElementsByClassName("mapboxgl-popup-close-button"),e=t.length-1;e>=0;e--)t[e].click()},t.prototype.scrollToTabs=function(){this.isMobileView()&&setTimeout(function(){document.getElementsByClassName("tab-view-container")[0].scrollIntoView()},100)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.id=0,t}()},"0iHZ":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.locales={en:{dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"mm/dd/yyyy",todayBtnTxt:"Today",firstDayOfWeek:"mo",sunHighlight:!0},he:{dayLabels:{su:"\u05e8\u05d0",mo:"\u05e9\u05e0",tu:"\u05e9\u05dc",we:"\u05e8\u05d1",th:"\u05d7\u05de",fr:"\u05e9\u05d9",sa:"\u05e9\u05d1"},monthLabels:{1:"\u05d9\u05e0\u05d5",2:"\u05e4\u05d1\u05e8",3:"\u05de\u05e8\u05e5",4:"\u05d0\u05e4\u05e8",5:"\u05de\u05d0\u05d9",6:"\u05d9\u05d5\u05e0",7:"\u05d9\u05d5\u05dc",8:"\u05d0\u05d5\u05d2",9:"\u05e1\u05e4\u05d8",10:"\u05d0\u05d5\u05e7",11:"\u05e0\u05d5\u05d1",12:"\u05d3\u05e6\u05de"},dateFormat:"dd/mm/yyyy",todayBtnTxt:"\u05d4\u05d9\u05d5\u05dd",firstDayOfWeek:"su",sunHighlight:!1},ja:{dayLabels:{su:"\u65e5",mo:"\u6708",tu:"\u706b",we:"\u6c34",th:"\u6728",fr:"\u91d1",sa:"\u571f"},monthLabels:{1:"\uff11\u6708",2:"\uff12\u6708",3:"\uff13\u6708",4:"\uff14\u6708",5:"\uff15\u6708",6:"\uff16\u6708",7:"\uff17\u6708",8:"\uff18\u6708",9:"\uff19\u6708",10:"\uff11\uff10\u6708",11:"\uff11\uff11\u6708",12:"\uff11\uff12\u6708"},dateFormat:"yyyy.mm.dd",todayBtnTxt:"\u4eca\u65e5",sunHighlight:!1},fr:{dayLabels:{su:"Dim",mo:"Lun",tu:"Mar",we:"Mer",th:"Jeu",fr:"Ven",sa:"Sam"},monthLabels:{1:"Jan",2:"F\xe9v",3:"Mar",4:"Avr",5:"Mai",6:"Juin",7:"Juil",8:"Ao\xfb",9:"Sep",10:"Oct",11:"Nov",12:"D\xe9c"},dateFormat:"dd/mm/yyyy",todayBtnTxt:"Aujourd'hui",firstDayOfWeek:"mo",sunHighlight:!0},fi:{dayLabels:{su:"Su",mo:"Ma",tu:"Ti",we:"Ke",th:"To",fr:"Pe",sa:"La"},monthLabels:{1:"Tam",2:"Hel",3:"Maa",4:"Huh",5:"Tou",6:"Kes",7:"Hei",8:"Elo",9:"Syy",10:"Lok",11:"Mar",12:"Jou"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"T\xe4n\xe4\xe4n",firstDayOfWeek:"mo",sunHighlight:!0},es:{dayLabels:{su:"Do",mo:"Lu",tu:"Ma",we:"Mi",th:"Ju",fr:"Vi",sa:"Sa"},monthLabels:{1:"Ene",2:"Feb",3:"Mar",4:"Abr",5:"May",6:"Jun",7:"Jul",8:"Ago",9:"Sep",10:"Oct",11:"Nov",12:"Dic"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"Hoy",firstDayOfWeek:"mo",sunHighlight:!0},hu:{dayLabels:{su:"Vas",mo:"H\xe9t",tu:"Kedd",we:"Sze",th:"Cs\xfc",fr:"P\xe9n",sa:"Szo"},monthLabels:{1:"Jan",2:"Feb",3:"M\xe1r",4:"\xc1pr",5:"M\xe1j",6:"J\xfan",7:"J\xfal",8:"Aug",9:"Szep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"yyyy-mm-dd",todayBtnTxt:"Ma",firstDayOfWeek:"mo",sunHighlight:!0},sv:{dayLabels:{su:"S\xf6n",mo:"M\xe5n",tu:"Tis",we:"Ons",th:"Tor",fr:"Fre",sa:"L\xf6r"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Maj",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"yyyy-mm-dd",todayBtnTxt:"Idag",firstDayOfWeek:"mo",sunHighlight:!1},nl:{dayLabels:{su:"Zon",mo:"Maa",tu:"Din",we:"Woe",th:"Don",fr:"Vri",sa:"Zat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mei",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd-mm-yyyy",todayBtnTxt:"Vandaag",firstDayOfWeek:"mo",sunHighlight:!1},ru:{dayLabels:{su:"\u0412\u0441",mo:"\u041f\u043d",tu:"\u0412\u0442",we:"\u0421\u0440",th:"\u0427\u0442",fr:"\u041f\u0442",sa:"\u0421\u0431"},monthLabels:{1:"\u042f\u043d\u0432",2:"\u0424\u0435\u0432",3:"\u041c\u0430\u0440\u0442",4:"\u0410\u043f\u0440",5:"\u041c\u0430\u0439",6:"\u0418\u044e\u043d\u044c",7:"\u0418\u044e\u043b\u044c",8:"\u0410\u0432\u0433",9:"\u0421\u0435\u043d\u0442",10:"\u041e\u043a\u0442",11:"\u041d\u043e\u044f",12:"\u0414\u0435\u043a"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",firstDayOfWeek:"mo",sunHighlight:!0},uk:{dayLabels:{su:"\u041d\u0434",mo:"\u041f\u043d",tu:"\u0412\u0442",we:"\u0421\u0440",th:"\u0427\u0442",fr:"\u041f\u0442",sa:"\u0421\u0431"},monthLabels:{1:"\u0421\u0456\u0447",2:"\u041b\u044e\u0442",3:"\u0411\u0435\u0440",4:"\u041a\u0432\u0456",5:"\u0422\u0440\u0430",6:"\u0427\u0435\u0440",7:"\u041b\u0438\u043f",8:"\u0421\u0435\u0440",9:"\u0412\u0435\u0440",10:"\u0416\u043e\u0432",11:"\u041b\u0438\u0441",12:"\u0413\u0440\u0443"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456",firstDayOfWeek:"mo",sunHighlight:!0},no:{dayLabels:{su:"S\xf8n",mo:"Man",tu:"Tir",we:"Ons",th:"Tor",fr:"Fre",sa:"L\xf8r"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Des"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"I dag",firstDayOfWeek:"mo",sunHighlight:!1},tr:{dayLabels:{su:"Paz",mo:"Pzt",tu:"Sal",we:"\xc7ar",th:"Per",fr:"Cum",sa:"Cmt"},monthLabels:{1:"Oca",2:"\u015eub",3:"Mar",4:"Nis",5:"May",6:"Haz",7:"Tem",8:"A\u011fu",9:"Eyl",10:"Eki",11:"Kas",12:"Ara"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"Bug\xfcn",firstDayOfWeek:"mo",sunHighlight:!1},"pt-br":{dayLabels:{su:"Dom",mo:"Seg",tu:"Ter",we:"Qua",th:"Qui",fr:"Sex",sa:"Sab"},monthLabels:{1:"Jan",2:"Fev",3:"Mar",4:"Abr",5:"Mai",6:"Jun",7:"Jul",8:"Ago",9:"Set",10:"Out",11:"Nov",12:"Dez"},dateFormat:"dd/mm/yyyy",todayBtnTxt:"Hoje",firstDayOfWeek:"su",sunHighlight:!0},de:{dayLabels:{su:"So",mo:"Mo",tu:"Di",we:"Mi",th:"Do",fr:"Fr",sa:"Sa"},monthLabels:{1:"Jan",2:"Feb",3:"M\xe4r",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dez"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"Heute",firstDayOfWeek:"mo",sunHighlight:!0},it:{dayLabels:{su:"Dom",mo:"Lun",tu:"Mar",we:"Mer",th:"Gio",fr:"Ven",sa:"Sab"},monthLabels:{1:"Gen",2:"Feb",3:"Mar",4:"Apr",5:"Mag",6:"Giu",7:"Lug",8:"Ago",9:"Set",10:"Ott",11:"Nov",12:"Dic"},dateFormat:"dd/mm/yyyy",todayBtnTxt:"Oggi",firstDayOfWeek:"mo",sunHighlight:!0},"it-ch":{dayLabels:{su:"Dom",mo:"Lun",tu:"Mar",we:"Mer",th:"Gio",fr:"Ven",sa:"Sab"},monthLabels:{1:"Gen",2:"Feb",3:"Mar",4:"Apr",5:"Mag",6:"Giu",7:"Lug",8:"Ago",9:"Set",10:"Ott",11:"Nov",12:"Dic"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"Oggi",firstDayOfWeek:"mo",sunHighlight:!0},pl:{dayLabels:{su:"Nie",mo:"Pon",tu:"Wto",we:"\u015aro",th:"Czw",fr:"Pi\u0105",sa:"Sob"},monthLabels:{1:"Sty",2:"Lut",3:"Mar",4:"Kwi",5:"Maj",6:"Cze",7:"Lip",8:"Sie",9:"Wrz",10:"Pa\u017a",11:"Lis",12:"Gru"},dateFormat:"yyyy-mm-dd",todayBtnTxt:"Dzisiaj",firstDayOfWeek:"mo",sunHighlight:!0},my:{dayLabels:{su:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031",mo:"\u1010\u1014\u1004\u103a\u1039\u101c\u102c",tu:"\u1021\u1004\u103a\u1039\u1002\u102b",we:"\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038",th:"\u1000\u103c\u101e\u1015\u1010\u1031\u1038",fr:"\u101e\u1031\u102c\u1000\u103c\u102c",sa:"\u1005\u1014\u1031"},monthLabels:{1:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e",2:"\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e",3:"\u1019\u1010\u103a",4:"\u1027\u1015\u103c\u102e",5:"\u1019\u1031",6:"\u1007\u103d\u1014\u103a",7:"\u1007\u1030\u101c\u102d\u102f\u1004\u103a",8:"\u1029\u1002\u102f\u1010\u103a",9:"\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c",10:"\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c",11:"\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c",12:"\u1012\u102e\u1007\u1004\u103a\u1018\u102c"},dateFormat:"yyyy-mm-dd",todayBtnTxt:"\u101a\u1014\u1031\u1037",firstDayOfWeek:"mo",sunHighlight:!0},sk:{dayLabels:{su:"Ne",mo:"Po",tu:"Ut",we:"St",th:"\u0160t",fr:"Pi",sa:"So"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"M\xe1j",6:"J\xfan",7:"J\xfal",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"Dnes",firstDayOfWeek:"mo",sunHighlight:!0},sl:{dayLabels:{su:"Ned",mo:"Pon",tu:"Tor",we:"Sre",th:"\u010cet",fr:"Pet",sa:"Sob"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Maj",6:"Jun",7:"Jul",8:"Avg",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd. mm. yyyy",todayBtnTxt:"Danes",firstDayOfWeek:"mo",sunHighlight:!0},"zh-cn":{dayLabels:{su:"\u65e5",mo:"\u4e00",tu:"\u4e8c",we:"\u4e09",th:"\u56db",fr:"\u4e94",sa:"\u516d"},monthLabels:{1:"1\u6708",2:"2\u6708",3:"3\u6708",4:"4\u6708",5:"5\u6708",6:"6\u6708",7:"7\u6708",8:"8\u6708",9:"9\u6708",10:"10\u6708",11:"11\u6708",12:"12\u6708"},dateFormat:"yyyy-mm-dd",todayBtnTxt:"\u4eca\u5929",firstDayOfWeek:"mo",sunHighlight:!0},ro:{dayLabels:{su:"du",mo:"lu",tu:"ma",we:"mi",th:"jo",fr:"vi",sa:"sa"},monthLabels:{1:"ian",2:"feb",3:"mart",4:"apr",5:"mai",6:"iun",7:"iul",8:"aug",9:"sept",10:"oct",11:"nov",12:"dec"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"Ast\u0103zi",firstDayOfWeek:"mo",sunHighlight:!0},ca:{dayLabels:{su:"dg",mo:"dl",tu:"dt",we:"dc",th:"dj",fr:"dv",sa:"ds"},monthLabels:{1:"Gen",2:"Febr",3:"Mar\xe7",4:"Abr",5:"Maig",6:"Juny",7:"Jul",8:"Ag",9:"Set",10:"Oct",11:"Nov",12:"Des"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"Avui",firstDayOfWeek:"mo",sunHighlight:!0},id:{dayLabels:{su:"Min",mo:"Sen",tu:"Sel",we:"Rab",th:"Kam",fr:"Jum",sa:"Sab"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mei",6:"Jun",7:"Jul",8:"Ags",9:"Sep",10:"Okt",11:"Nov",12:"Des"},dateFormat:"dd-mm-yyyy",todayBtnTxt:"Hari ini",firstDayOfWeek:"su",sunHighlight:!0},"en-au":{dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"dd/mm/yyyy",todayBtnTxt:"Today",firstDayOfWeek:"mo",sunHighlight:!0},"am-et":{dayLabels:{su:"\u12a5\u1211\u12f5",mo:"\u1230\u129e",tu:"\u121b\u12ad\u1230\u129e",we:"\u1228\u1261\u12d5",th:"\u1210\u1219\u1235",fr:"\u12d3\u122d\u1265",sa:"\u1245\u12f3\u121c"},monthLabels:{1:"\u1303\u1295\u12e9",2:"\u134c\u1265\u1229",3:"\u121b\u122d\u127d",4:"\u12a4\u1355\u1228",5:"\u121c\u12ed",6:"\u1301\u1295",7:"\u1301\u120b\u12ed",8:"\u12a6\u1308\u1235",9:"\u1234\u1355\u1274",10:"\u12a6\u12ad\u1270",11:"\u1296\u126c\u121d",12:"\u12f2\u1234\u121d"},dateFormat:"yyyy-mm-dd",todayBtnTxt:"\u12db\u122c",firstDayOfWeek:"mo",sunHighlight:!0},cs:{dayLabels:{su:"Ne",mo:"Po",tu:"\xdat",we:"St",th:"\u010ct",fr:"P\xe1",sa:"So"},monthLabels:{1:"Led",2:"\xdano",3:"B\u0159e",4:"Dub",5:"Kv\u011b",6:"\u010cvn",7:"\u010cvc",8:"Srp",9:"Z\xe1\u0159",10:"\u0158\xedj",11:"Lis",12:"Pro"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"Dnes",firstDayOfWeek:"mo",sunHighlight:!0},el:{dayLabels:{su:"\u039a\u03c5\u03c1",mo:"\u0394\u03b5\u03c5",tu:"\u03a4\u03c1\u03b9",we:"\u03a4\u03b5\u03c4",th:"\u03a0\u03b5\u03bc",fr:"\u03a0\u03b1\u03c1",sa:"\u03a3\u03b1\u03b2"},monthLabels:{1:"\u0399\u03b1\u03bd",2:"\u03a6\u03b5\u03b2",3:"\u039c\u03b1\u03c1",4:"\u0391\u03c0\u03c1",5:"\u039c\u03b1\u03b9",6:"\u0399\u03bf\u03c5\u03bd",7:"\u0399\u03bf\u03c5\u03bb",8:"\u0391\u03c5\u03b3",9:"\u03a3\u03b5\u03c0",10:"\u039f\u03ba\u03c4",11:"\u039d\u03bf\u03b5",12:"\u0394\u03b5\u03ba"},dateFormat:"dd/mm/yyyy",todayBtnTxt:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1",firstDayOfWeek:"mo",sunHighlight:!0},kk:{dayLabels:{su:"\u0416\u043a",mo:"\u0414\u0441",tu:"\u0421\u0441",we:"\u0421\u0440",th:"\u0411\u0441",fr:"\u0416\u043c",sa:"\u0421\u0431"},monthLabels:{1:"\u049a\u0430\u04a3",2:"\u0410\u049b\u043f",3:"\u041d\u0430\u0443",4:"\u0421\u04d9\u0443",5:"\u041c\u0430\u043c",6:"\u041c\u0430\u0443",7:"\u0428\u0456\u043b",8:"\u0422\u0430\u043c",9:"\u049a\u044b\u0440\u043a",10:"\u049a\u0430\u0437",11:"\u049a\u0430\u0440",12:"\u0416\u0435\u043b\u0442"},dateFormat:"dd-mmm-yyyy",todayBtnTxt:"\u0411\u04af\u0433\u0456\u043d",firstDayOfWeek:"mo",sunHighlight:!0},th:{dayLabels:{su:"\u0e2d\u0e32",mo:"\u0e08",tu:"\u0e2d",we:"\u0e1e",th:"\u0e1e\u0e24",fr:"\u0e28",sa:"\u0e2a"},monthLabels:{1:"\u0e21.\u0e04",2:"\u0e01.\u0e1e.",3:"\u0e21\u0e35.\u0e04.",4:"\u0e40\u0e21.\u0e22.",5:"\u0e1e.\u0e04.",6:"\u0e21\u0e34.\u0e22.",7:"\u0e01.\u0e04.",8:"\u0e2a.\u0e04.",9:"\u0e01.\u0e22.",10:"\u0e15.\u0e04.",11:"\u0e1e.\u0e22.",12:"\u0e18.\u0e04."},dateFormat:"dd-mm-yyyy",todayBtnTxt:"\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49",firstDayOfWeek:"su",sunHighlight:!0},"ko-kr":{dayLabels:{su:"\uc77c",mo:"\uc6d4",tu:"\ud654",we:"\uc218",th:"\ubaa9",fr:"\uae08",sa:"\ud1a0"},monthLabels:{1:"1\uc6d4",2:"2\uc6d4",3:"3\uc6d4",4:"4\uc6d4",5:"5\uc6d4",6:"6\uc6d4",7:"7\uc6d4",8:"8\uc6d4",9:"9\uc6d4",10:"10\uc6d4",11:"11\uc6d4",12:"12\uc6d4"},dateFormat:"yyyy mm dd",todayBtnTxt:"\uc624\ub298",firstDayOfWeek:"su",sunHighlight:!0},da:{dayLabels:{su:"S\xf8n",mo:"Man",tu:"Tir",we:"Ons",th:"Tor",fr:"Fre",sa:"L\xf8r"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Maj",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd-mm-yyyy",todayBtnTxt:"I dag",firstDayOfWeek:"mo",sunHighlight:!0},lt:{dayLabels:{su:"Sk",mo:"Pr",tu:"An",we:"Tr",th:"Kt",fr:"Pn",sa:"\u0160t"},monthLabels:{1:"Saus.",2:"Vas.",3:"Kov.",4:"Bal.",5:"Geg.",6:"Bir\u017e.",7:"Liep.",8:"Rugp.",9:"Rugs.",10:"Sapl.",11:"Lapkr.",12:"Gruod."},dateFormat:"yyyy-mm-dd",todayBtnTxt:"\u0160ianien",firstDayOfWeek:"mo",sunHighlight:!0},vi:{dayLabels:{su:"CN",mo:"T2",tu:"T3",we:"T4",th:"T5",fr:"T6",sa:"T7"},monthLabels:{1:"THG 1",2:"THG 2",3:"THG 3",4:"THG 4",5:"THG 5",6:"THG 6",7:"THG 7",8:"THG 8",9:"THG 9",10:"THG 10",11:"THG 11",12:"THG 12"},dateFormat:"dd/mm/yyyy",todayBtnTxt:"H\xf4m nay",firstDayOfWeek:"mo",sunHighlight:!0},bn:{dayLabels:{su:"\u09b0\u09ac\u09bf",mo:"\u09b8\u09cb\u09ae",tu:"\u09ae\u0999\u09cd\u0997\u09b2",we:"\u09ac\u09c1\u09a7",th:"\u09ac\u09c3\u09b9\u0983",fr:"\u09b6\u09c1\u0995\u09cd\u09b0",sa:"\u09b6\u09a8\u09bf"},monthLabels:{1:"\u099c\u09be\u09a8\u09c1",2:"\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1",3:"\u09ae\u09be\u09b0\u09cd\u099a",4:"\u098f\u09aa\u09cd\u09b0\u09bf\u09b2",5:"\u09ae\u09c7",6:"\u099c\u09c1\u09a8",7:"\u099c\u09c1\u09b2\u09be\u0987",8:"\u0986\u0997\u09b8\u09cd\u099f",9:"\u09b8\u09c7\u09aa\u09cd\u099f\u09c7",10:"\u0985\u0995\u09cd\u099f\u09cb",11:"\u09a8\u09ad\u09c7",12:"\u09a1\u09bf\u09b8\u09c7"},dateFormat:"dd-mm-yyyy",todayBtnTxt:"\u0986\u099c",firstDayOfWeek:"su",sunHighlight:!0},bg:{dayLabels:{su:"\u043d\u0434",mo:"\u043f\u043d",tu:"\u0432\u0442",we:"\u0441\u0440",th:"\u0447\u0442",fr:"\u043f\u0442",sa:"\u0441\u0431"},monthLabels:{1:"\u044f\u043d\u0443.",2:"\u0444\u0435\u0432.",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440.",5:"\u043c\u0430\u0439",6:"\u044e\u043d\u0438",7:"\u044e\u043b\u0438",8:"\u0430\u0432\u0433.",9:"\u0441\u0435\u043f.",10:"\u043e\u043a\u0442.",11:"\u043d\u043e\u0435.",12:"\u0434\u0435\u043a."},dateFormat:"dd.mm.yyyy",todayBtnTxt:"\u0434\u043d\u0435\u0441",firstDayOfWeek:"mo",sunHighlight:!0},hr:{dayLabels:{su:"Ne",mo:"Po",tu:"Ul",we:"Sr",th:"\u010ce",fr:"Pe",sa:"Su"},monthLabels:{1:"Sij",2:"Vel",3:"O\u017eu",4:"Tra",5:"Svi",6:"Lip",7:"Srp",8:"Kol",9:"Ruj",10:"Lis",11:"Stu",12:"Pro"},dateFormat:"dd.mm.yyyy.",todayBtnTxt:"danas",firstDayOfWeek:"su",sunHighlight:!0},ar:{dayLabels:{su:"\u0627\u0644\u0623\u062d\u062f",mo:"\u0627\u0644\u0627\u062b\u0646\u064a\u0646",tu:"\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621",we:"\u0627\u0644\u0627\u0631\u0628\u0639\u0627\u0621",th:"\u0627\u0644\u062e\u0645\u064a\u0633",fr:"\u0627\u0644\u062c\u0645\u0639\u0629",sa:"\u0627\u0644\u0633\u0628\u062a"},monthLabels:{1:"\u064a\u0646\u0627\u064a\u0631",2:"\u0641\u0628\u0631\u0627\u064a\u0631",3:"\u0645\u0627\u0631\u0633",4:"\u0627\u0628\u0631\u064a\u0644",5:"\u0645\u0627\u064a\u0648",6:"\u064a\u0648\u0646\u064a\u0648",7:"\u064a\u0648\u0644\u064a\u0648",8:"\u0623\u063a\u0633\u0637\u0633",9:"\u0633\u0628\u062a\u0645\u0628\u0631",10:"\u0623\u0643\u062a\u0648\u0628\u0631",11:"\u0646\u0648\u0641\u0645\u0628\u0631",12:"\u062f\u064a\u0633\u0645\u0628\u0631"},dateFormat:"yyyy-mm-dd",todayBtnTxt:"\u0627\u0644\u064a\u0648\u0645",firstDayOfWeek:"sa",sunHighlight:!0},is:{dayLabels:{su:"sun",mo:"m\xe1n",tu:"\xferi",we:"mi\xf0",th:"fim",fr:"f\xf6s",sa:"lau"},monthLabels:{1:"jan",2:"feb",3:"mar",4:"apr",5:"ma\xed",6:"j\xfan",7:"j\xfal",8:"\xe1g\xfa",9:"sep",10:"okt",11:"n\xf3v",12:"des"},dateFormat:"dd.mm.yyyy",todayBtnTxt:"\xcd dag",firstDayOfWeek:"su",sunHighlight:!0}}}return t.prototype.getLocaleOptions=function(t){return t&&this.locales.hasOwnProperty(t)?this.locales[t]:this.locales.en},t.ctorParameters=[],t}()},"0mo+":function(t,e,n){!function(t){"use strict";var e={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},n={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};t.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(t){return t.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===e&&t>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===e&&t<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":t<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":t<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":t<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(n("wd/R"))},"0tRk":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba"})}()},"0u4Y":function(t,e,n){"use strict";var r=n("CcnG"),i=n("Ip0R"),o=n("kWcY"),a=r.gb({encapsulation:0,styles:[".autosuggest-dropdown-container[_ngcontent-%COMP%]{width:82%;z-index:5;position:absolute;box-shadow:0 2px 0.5em rgba(0,0,0,0.4);background:#fff;border:0;border-radius:0;overflow-y:auto;margin:0 40px 0 5px;color:#555;font-size:14px;line-height:20px}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{list-style:none;display:block;width:99%;cursor:pointer;font-weight:400;color:#555;padding:6px 15px 5px;margin:2px 25px 2px 2px;border:none;border-bottom:1px solid #eaeaea;background:#fff;text-align:left;min-height:35px}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover, .autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:focus, .autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active, .autosuggest-dropdown-container[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{background-color:#f5f5f5;outline:thin solid #1d69b4}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{border-bottom:none}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .autosuggest-dropdown-header[_ngcontent-%COMP%]{font-size:90%;color:#777;font-weight:normal;padding:10px 15px 0}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .autosuggest-alert-box[_ngcontent-%COMP%]{padding:5px 15px 10px}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .autosuggest-footer-box[_ngcontent-%COMP%]{border:1px solid #eaeaea;padding:10px 15px}"],data:{}});function s(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["class","autosuggest-dropdown-header"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" Choose a location "]))],null,null)}function l(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["aria-live","assertive"],["class","autosuggest-alert-box"],["role","region"]],null,null,null,null,null)),(t()(),r.zb(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.alertBoxMessage||"Sorry, we couldn't find any results for that search.")})}function u(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit[e.component.displayProperty])})}function c(t){return r.Bb(0,[(t()(),r.Z(0,null,null,0))],null,null)}function p(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,5,"div",[["class","item"],["role","option"],["tabindex","-1"],["type","button"]],[[1,"id",0],[2,"active",null]],[[null,"click"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onItemClick(t.context.$implicit)&&r),"focus"===e&&(r=!1!==i.onItemFocus()&&r),"blur"===e&&(r=!1!==i.onItemBlur()&&r),r},null,null)),(t()(),r.Z(16777216,null,null,1,null,u)),r.hb(2,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),r.Z(16777216,[["templateBlock",2]],null,2,null,c)),r.hb(4,540672,null,0,i.k,[r.G],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r.ub(5,{item:0})],function(t,e){var n=e.component;t(e,2,0,null===n.resultTemplate,r.sb(e,3));var i=t(e,5,0,e.context.$implicit);t(e,4,0,i,n.resultTemplate)},function(t,e){var n=e.component;t(e,0,0,r.kb(1,"","autosuggest-item-"+e.context.index,""),e.context.index===n.highlightedItemIndex||n.selectedItem&&n.selectedItem[n.displayProperty]===e.context.$implicit[n.displayProperty])})}function h(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","autosuggest-buttons"],["role","listbox"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,p)),r.hb(2,278528,null,0,i.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.items)},null)}function d(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["aria-live","assertive"],["class","autosuggest-footer-box"],["role","region"]],null,null,null,null,null)),(t()(),r.zb(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.footerBoxMessage||"Too many results to display. Please try a more specific search.")})}function f(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,8,"div",[["class","autosuggest-dropdown-container"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,s)),r.hb(2,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,l)),r.hb(4,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,h)),r.hb(6,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,d)),r.hb(8,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,!n.hideDropdownHeader&&n.items.length>0),t(e,4,0,n.items&&0===n.items.length&&!n.isNumeric),t(e,6,0,n.items&&n.items.length>0),t(e,8,0,n.showFooterBox)},null)}function m(t){return r.Bb(0,[(t()(),r.Z(16777216,null,null,1,null,f)),r.hb(1,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.dropdownVisible&&n.items)},null)}n("64ZZ"),n("3ZaB"),n.d(e,"a",function(){return g}),n.d(e,"b",function(){return v});var g=r.gb({encapsulation:0,styles:[".autosuggest-container[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #eaeaea;min-height:38px}.autosuggest-container.invalid[_ngcontent-%COMP%]{border-bottom:1px solid #E4022D}.autosuggest-container[_ngcontent-%COMP%]   .autosuggest-input[_ngcontent-%COMP%]{border:0 rgba(0,0,0,0.2);border-radius:0;box-shadow:none;width:100%;height:36px;padding:0 20px 0 7px;font-size:16.2px}.autosuggest-container[_ngcontent-%COMP%]   .autosuggest-clear-button[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:10px;right:5px;background:transparent;border:none;padding:0}.autosuggest-container[_ngcontent-%COMP%]   .autosuggest-clear-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:17px !important;height:17px !important;color:#333}.autosuggest-container[_ngcontent-%COMP%]   .error-popover[_ngcontent-%COMP%]{display:block;right:35px;top:-3px;left:auto;border-radius:4px;line-height:16px}"],data:{}});function y(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[["aria-live","polite"],["class","popover error-popover right"],["role","alert"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,1,"div",[["class","popover-content"]],null,null,null,null,null)),(t()(),r.zb(3,null,["",""]))],null,function(t,e){t(e,3,0,e.component.errorMessage)})}function _(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"button",[["class","autosuggest-clear-button"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClearClick()&&r),r},null,null)),(t()(),r.ib(1,0,null,null,1,":svg:svg",[["role","img"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,0,":svg:use",[[":xlink:href","/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg#tp_close-circle"],[":xmlns:xlink","http://www.w3.org/1999/xlink"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,r.kb(1,"","Clear "+e.component.label,""))})}function v(t){return r.Bb(0,[r.xb(402653184,1,{inputEl:0}),r.xb(402653184,2,{dropdown:0}),(t()(),r.ib(2,0,null,null,8,"div",[["class","autosuggest-container"]],[[2,"invalid",null]],null,null,null,null)),(t()(),r.ib(3,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),r.ib(4,0,[[1,0],["inputElement",1]],null,0,"input",[["aria-haspopup","false"],["autocapitalize","off"],["autocomplete","off"],["class","autosuggest-input form-control"],["role","textbox"],["spellcheck","false"],["type","text"]],[[8,"id",0],[1,"required",0],[1,"placeholder",0],[1,"aria-label",0],[1,"aria-required",0],[1,"aria-activedescendant",0]],[[null,"keydown"],[null,"click"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"keydown"===e&&(r=!1!==i.onKeydown(n)&&r),"click"===e&&(r=!1!==i.onInputClick()&&r),"blur"===e&&(r=!1!==i.onInputBlur()&&r),r},null,null)),(t()(),r.Z(16777216,null,null,1,null,y)),r.hb(6,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,_)),r.hb(8,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(9,0,null,null,1,"tni-autosuggest-dropdown",[],null,[[null,"selectItem"]],function(t,e,n){var r=!0;return"selectItem"===e&&(r=!1!==t.component.onSelectItem(n)&&r),r},m,a)),r.hb(10,49152,[[2,4],["autosuggestDropdown",4]],0,o.a,[],{isNumeric:[0,"isNumeric"],items:[1,"items"],displayProperty:[2,"displayProperty"],hideDropdownHeader:[3,"hideDropdownHeader"],alertBoxMessage:[4,"alertBoxMessage"],selectedItem:[5,"selectedItem"],showFooterBox:[6,"showFooterBox"],footerBoxMessage:[7,"footerBoxMessage"],resultTemplate:[8,"resultTemplate"]},{selectItem:"selectItem"})],function(t,e){var n=e.component;t(e,6,0,!n.isValid()),t(e,8,0,n.hasInputText()),t(e,10,0,n.isNumeric,n.items,n.displayProperty,n.hideDropdownHeader,n.alertBoxMessage,n.selectItem,n.showFooterBox,n.footerBoxMessage,n.resultTemplate)},function(t,e){var n=e.component;t(e,2,0,!n.isValid()),t(e,4,0,n.id,n.required,n.placeholder,n.ariaLabel,n.required,n.highlightedItemElId)})}},"0uBk":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("CcnG"),i=(n("gIcY"),n("0iHZ")),o=n("p0zj"),a=(Object(r.M)(function(){return p}),function(t){return t[t.Open=1]="Open",t[t.CloseByDateSel=2]="CloseByDateSel",t[t.CloseByCalBtn=3]="CloseByCalBtn",t[t.CloseByOutClick=4]="CloseByOutClick",t[t.CloseByEsc=5]="CloseByEsc",t[t.CloseByApi=6]="CloseByApi",t}({})),s=function(t){return t[t.min=1e3]="min",t[t.max=9999]="max",t}({}),l=function(t){return t[t.focus=1]="focus",t[t.blur=2]="blur",t}({}),u=function(t){return t[t.enter=13]="enter",t[t.esc=27]="esc",t[t.space=32]="space",t}({}),c=function(t){return t[t.prev=1]="prev",t[t.curr=2]="curr",t[t.next=3]="next",t}({}),p=function(){function t(t,e,n,i,o){var l=this;this.elem=t,this.renderer=e,this.cdr=n,this.localeService=i,this.utilService=o,this.dateChanged=new r.k,this.inputFieldChanged=new r.k,this.calendarViewChanged=new r.k,this.calendarToggle=new r.k,this.inputFocusBlur=new r.k,this.onChangeCb=function(){},this.onTouchedCb=function(){},this.showSelector=!1,this.visibleMonth={monthTxt:"",monthNbr:0,year:0},this.selectedMonth={monthTxt:"",monthNbr:0,year:0},this.selectedDate={year:0,month:0,day:0},this.weekDays=[],this.dates=[],this.months=[],this.years=[],this.selectionDayTxt="",this.invalidDate=!1,this.disableTodayBtn=!1,this.dayIdx=0,this.selectMonth=!1,this.selectYear=!1,this.prevMonthDisabled=!1,this.nextMonthDisabled=!1,this.prevYearDisabled=!1,this.nextYearDisabled=!1,this.prevYearsDisabled=!1,this.nextYearsDisabled=!1,this.prevMonthId=c.prev,this.currMonthId=c.curr,this.nextMonthId=c.next,this.opts={dayLabels:{},monthLabels:{},dateFormat:"",showTodayBtn:!0,todayBtnTxt:"",firstDayOfWeek:"",satHighlight:!1,sunHighlight:!0,highlightDates:[],markCurrentDay:!0,markCurrentMonth:!0,markCurrentYear:!0,disableUntil:{year:0,month:0,day:0},disableSince:{year:0,month:0,day:0},disableDays:[],enableDays:[],markDates:[],markWeekends:{},disableDateRanges:[],disableWeekends:!1,disableWeekdays:[],showWeekNumbers:!1,height:"34px",width:"100%",selectionTxtFontSize:"14px",selectorHeight:"232px",selectorWidth:"252px",allowDeselectDate:!1,inline:!1,showClearDateBtn:!0,showDecreaseDateBtn:!1,showIncreaseDateBtn:!1,alignSelectorRight:!1,openSelectorTopOfInput:!1,indicateInvalidDate:!0,editableDateField:!0,monthSelector:!0,yearSelector:!0,disableHeaderButtons:!0,minYear:s.min,maxYear:s.max,componentDisabled:!1,showSelectorArrow:!0,showInputField:!0,openSelectorOnInputClick:!1,ariaLabelInputField:"Date input field",ariaLabelClearDate:"Clear Date",ariaLabelDecreaseDate:"Decrease Date",ariaLabelIncreaseDate:"Increase Date",ariaLabelOpenCalendar:"Open Calendar",ariaLabelPrevMonth:"Previous Month",ariaLabelNextMonth:"Next Month",ariaLabelPrevYear:"Previous Year",ariaLabelNextYear:"Next Year"},this.setLocaleOptions(),e.listenGlobal("document","click",function(t){l.showSelector&&t.target&&l.elem.nativeElement!==t.target&&!l.elem.nativeElement.contains(t.target)&&(l.showSelector=!1,l.calendarToggle.emit(a.CloseByOutClick)),(l.opts.monthSelector||l.opts.yearSelector)&&l.resetMonthYearSelect()})}return t.prototype.setLocaleOptions=function(){var t=this,e=this.localeService.getLocaleOptions(this.locale);Object.keys(e).forEach(function(n){t.opts[n]=e[n]})},t.prototype.setOptions=function(){var t=this;void 0!==this.options&&Object.keys(this.options).forEach(function(e){t.opts[e]=t.options[e]}),this.opts.minYear<s.min&&(this.opts.minYear=s.min),this.opts.maxYear>s.max&&(this.opts.maxYear=s.max),void 0!==this.disabled&&(this.opts.componentDisabled=this.disabled)},t.prototype.getSelectorTopPosition=function(){if(this.opts.openSelectorTopOfInput)return this.elem.nativeElement.children[0].offsetHeight+"px"},t.prototype.resetMonthYearSelect=function(){this.selectMonth=!1,this.selectYear=!1},t.prototype.onSelectMonthClicked=function(t){if(t.stopPropagation(),this.selectMonth=!this.selectMonth,this.selectYear=!1,this.cdr.detectChanges(),this.selectMonth){var e=this.getToday();this.months.length=0;for(var n=1;n<=12;n+=3){for(var r=[],i=n;i<n+3;i++){var o=this.utilService.isMonthDisabledByDisableUntil({year:this.visibleMonth.year,month:i,day:this.daysInMonth(i,this.visibleMonth.year)},this.opts.disableUntil)||this.utilService.isMonthDisabledByDisableSince({year:this.visibleMonth.year,month:i,day:1},this.opts.disableSince);r.push({nbr:i,name:this.opts.monthLabels[i],currMonth:i===e.month&&this.visibleMonth.year===e.year,selected:i===this.visibleMonth.monthNbr,disabled:o})}this.months.push(r)}}},t.prototype.onMonthCellClicked=function(t){var e=t.nbr!==this.visibleMonth.monthNbr;this.visibleMonth={monthTxt:this.monthText(t.nbr),monthNbr:t.nbr,year:this.visibleMonth.year},this.generateCalendar(t.nbr,this.visibleMonth.year,e),this.selectMonth=!1,this.selectorEl.nativeElement.focus()},t.prototype.onMonthCellKeyDown=function(t,e){t.keyCode!==u.enter&&t.keyCode!==u.space||e.disabled||(t.preventDefault(),this.onMonthCellClicked(e))},t.prototype.onSelectYearClicked=function(t){t.stopPropagation(),this.selectYear=!this.selectYear,this.selectMonth=!1,this.cdr.detectChanges(),this.selectYear&&this.generateYears(this.visibleMonth.year)},t.prototype.onYearCellClicked=function(t){var e=t.year!==this.visibleMonth.year;this.visibleMonth={monthTxt:this.visibleMonth.monthTxt,monthNbr:this.visibleMonth.monthNbr,year:t.year},this.generateCalendar(this.visibleMonth.monthNbr,t.year,e),this.selectYear=!1,this.selectorEl.nativeElement.focus()},t.prototype.onYearCellKeyDown=function(t,e){t.keyCode!==u.enter&&t.keyCode!==u.space||e.disabled||(t.preventDefault(),this.onYearCellClicked(e))},t.prototype.onPrevYears=function(t,e){t.stopPropagation(),this.generateYears(e-25)},t.prototype.onNextYears=function(t,e){t.stopPropagation(),this.generateYears(e+25)},t.prototype.generateYears=function(t){this.years.length=0;for(var e=this.getToday(),n=t;n<=20+t;n+=5){for(var r=[],i=n;i<n+5;i++){var o=this.utilService.isMonthDisabledByDisableUntil({year:i,month:this.visibleMonth.monthNbr,day:this.daysInMonth(this.visibleMonth.monthNbr,i)},this.opts.disableUntil)||this.utilService.isMonthDisabledByDisableSince({year:i,month:this.visibleMonth.monthNbr,day:1},this.opts.disableSince);r.push({year:i,currYear:i===e.year,selected:i===this.visibleMonth.year,disabled:o||i<this.opts.minYear||i>this.opts.maxYear})}this.years.push(r)}this.prevYearsDisabled=this.years[0][0].year<=this.opts.minYear||this.utilService.isMonthDisabledByDisableUntil({year:this.years[0][0].year-1,month:this.visibleMonth.monthNbr,day:this.daysInMonth(this.visibleMonth.monthNbr,this.years[0][0].year-1)},this.opts.disableUntil),this.nextYearsDisabled=this.years[4][4].year>=this.opts.maxYear||this.utilService.isMonthDisabledByDisableSince({year:this.years[4][4].year+1,month:this.visibleMonth.monthNbr,day:1},this.opts.disableSince)},t.prototype.onUserDateInput=function(t){if(0===t.length)this.utilService.isInitializedDate(this.selectedDate)?this.clearDate():this.invalidInputFieldChanged(t);else{var e=this.utilService.isDateValid(t,this.opts.dateFormat,this.opts.minYear,this.opts.maxYear,this.opts.disableUntil,this.opts.disableSince,this.opts.disableWeekends,this.opts.disableWeekdays,this.opts.disableDays,this.opts.disableDateRanges,this.opts.monthLabels,this.opts.enableDays);0!==e.day&&0!==e.month&&0!==e.year?this.utilService.isSameDate(e,this.selectedDate)?this.updateDateValue(e,!1):this.selectDate(e,a.CloseByDateSel):this.invalidInputFieldChanged(t)}},t.prototype.onFocusInput=function(t){this.inputFocusBlur.emit({reason:l.focus,value:t.target.value})},t.prototype.onBlurInput=function(t){this.selectionDayTxt=t.target.value,this.onTouchedCb(),this.inputFocusBlur.emit({reason:l.blur,value:t.target.value})},t.prototype.onCloseSelector=function(t){t.keyCode===u.esc&&this.showSelector&&!this.opts.inline&&(this.calendarToggle.emit(a.CloseByEsc),this.showSelector=!1)},t.prototype.invalidInputFieldChanged=function(t){this.invalidDate=t.length>0,this.inputFieldChanged.emit({value:t,dateFormat:this.opts.dateFormat,valid:!1}),this.onChangeCb(null),this.onTouchedCb()},t.prototype.isTodayDisabled=function(){this.disableTodayBtn=this.utilService.isDisabledDay(this.getToday(),this.opts.minYear,this.opts.maxYear,this.opts.disableUntil,this.opts.disableSince,this.opts.disableWeekends,this.opts.disableWeekdays,this.opts.disableDays,this.opts.disableDateRanges,this.opts.enableDays)},t.prototype.parseOptions=function(){this.locale&&this.setLocaleOptions(),this.setOptions();var t=this.utilService.getWeekDays();if(this.isTodayDisabled(),this.dayIdx=t.indexOf(this.opts.firstDayOfWeek),-1!==this.dayIdx)for(var e=this.dayIdx,n=0;n<t.length;n++)this.weekDays.push(this.opts.dayLabels[t[e]]),e="sa"===t[e]?0:e+1},t.prototype.writeValue=function(t){if(t&&(t.date||t.jsdate||t.formatted)){this.selectedDate=this.parseSelectedDate(t.date?t.date:t.jsdate?this.jsDateToMyDate(t.jsdate):t.formatted);var e=this.visibleMonth.year!==this.selectedDate.year||this.visibleMonth.monthNbr!==this.selectedDate.month;e&&(this.visibleMonth={monthTxt:this.opts.monthLabels[this.selectedDate.month],monthNbr:this.selectedDate.month,year:this.selectedDate.year},this.generateCalendar(this.selectedDate.month,this.selectedDate.year,e)),this.opts.inline||this.updateDateValue(this.selectedDate,!1)}else null!==t&&""!==t||(this.opts.inline?this.selectedDate={year:0,month:0,day:0}:this.updateDateValue({year:0,month:0,day:0},!0))},t.prototype.setDisabledState=function(t){this.opts.componentDisabled=t},t.prototype.registerOnChange=function(t){this.onChangeCb=t},t.prototype.registerOnTouched=function(t){this.onTouchedCb=t},t.prototype.ngOnChanges=function(t){var e=this;if(t.hasOwnProperty("selector")){var n=t.selector.currentValue;"object"==typeof n?n.open?(this.showSelector=!0,this.openSelector(a.Open)):(this.showSelector=!1,this.closeSelector(a.CloseByApi)):n>0&&this.openBtnClicked()}t.hasOwnProperty("placeholder")&&(this.placeholder=t.placeholder.currentValue),t.hasOwnProperty("locale")&&(this.locale=t.locale.currentValue),t.hasOwnProperty("disabled")&&(this.disabled=t.disabled.currentValue),t.hasOwnProperty("options")&&(this.options=t.options.currentValue),this.weekDays.length=0,this.parseOptions();var r=!1;if(t.hasOwnProperty("defaultMonth")){var i=t.defaultMonth.currentValue;"object"==typeof i&&(i=i.defMonth),this.selectedMonth=null!=i&&""!==i?this.parseSelectedMonth(i):{monthTxt:"",monthNbr:0,year:0},r=!0}if(t.hasOwnProperty("selDate")){var o=t.selDate;null!=o.currentValue&&""!==o.currentValue&&0!==Object.keys(o.currentValue).length?(this.selectedDate=this.parseSelectedDate(o.currentValue),setTimeout(function(){e.onChangeCb(e.getDateModel(e.selectedDate))})):o.isFirstChange()||this.clearDate()}0===this.visibleMonth.year&&0===this.visibleMonth.monthNbr||r?this.setVisibleMonth():(this.visibleMonth.monthTxt=this.opts.monthLabels[this.visibleMonth.monthNbr],this.generateCalendar(this.visibleMonth.monthNbr,this.visibleMonth.year,!1))},t.prototype.removeBtnClicked=function(){this.clearDate(),this.showSelector&&this.calendarToggle.emit(a.CloseByCalBtn),this.showSelector=!1},t.prototype.onDecreaseBtnClicked=function(){this.decreaseIncreaseDate(!0)},t.prototype.onIncreaseBtnClicked=function(){this.decreaseIncreaseDate(!1)},t.prototype.openBtnClicked=function(){this.showSelector=!this.showSelector,this.cdr.detectChanges(),this.showSelector?this.openSelector(a.Open):this.closeSelector(a.CloseByCalBtn)},t.prototype.openSelector=function(t){this.setVisibleMonth(),this.calendarToggle.emit(t)},t.prototype.closeSelector=function(t){this.calendarToggle.emit(t)},t.prototype.setVisibleMonth=function(){var t=0,e=0;if(this.utilService.isInitializedDate(this.selectedDate))t=this.selectedDate.year,e=this.selectedDate.month;else if(0===this.selectedMonth.year&&0===this.selectedMonth.monthNbr){var n=this.getToday();t=n.year,e=n.month}else t=this.selectedMonth.year,e=this.selectedMonth.monthNbr;this.visibleMonth={monthTxt:this.opts.monthLabels[e],monthNbr:e,year:t},this.generateCalendar(e,t,!0)},t.prototype.onPrevMonth=function(){var t=this.getDate(this.visibleMonth.year,this.visibleMonth.monthNbr,1);t.setMonth(t.getMonth()-1);var e=t.getFullYear(),n=t.getMonth()+1;this.visibleMonth={monthTxt:this.monthText(n),monthNbr:n,year:e},this.generateCalendar(n,e,!0)},t.prototype.onNextMonth=function(){var t=this.getDate(this.visibleMonth.year,this.visibleMonth.monthNbr,1);t.setMonth(t.getMonth()+1);var e=t.getFullYear(),n=t.getMonth()+1;this.visibleMonth={monthTxt:this.monthText(n),monthNbr:n,year:e},this.generateCalendar(n,e,!0)},t.prototype.onPrevYear=function(){this.visibleMonth.year--,this.generateCalendar(this.visibleMonth.monthNbr,this.visibleMonth.year,!0)},t.prototype.onNextYear=function(){this.visibleMonth.year++,this.generateCalendar(this.visibleMonth.monthNbr,this.visibleMonth.year,!0)},t.prototype.onTodayClicked=function(){var t=this.getToday();this.selectDate(t,a.CloseByDateSel),(this.opts.inline&&t.year!==this.visibleMonth.year||t.month!==this.visibleMonth.monthNbr)&&(this.visibleMonth={monthTxt:this.opts.monthLabels[t.month],monthNbr:t.month,year:t.year},this.generateCalendar(t.month,t.year,!0))},t.prototype.onCellClicked=function(t){t.cmo===this.prevMonthId?this.onPrevMonth():t.cmo===this.currMonthId?this.opts.allowDeselectDate&&this.utilService.isSameDate(t.dateObj,this.selectedDate)?this.clearDate():this.selectDate(t.dateObj,a.CloseByDateSel):t.cmo===this.nextMonthId&&this.onNextMonth(),this.resetMonthYearSelect()},t.prototype.onCellKeyDown=function(t,e){t.keyCode!==u.enter&&t.keyCode!==u.space||e.disabled||(t.preventDefault(),this.onCellClicked(e))},t.prototype.clearDate=function(){var t={year:0,month:0,day:0};this.dateChanged.emit({date:t,jsdate:null,formatted:"",epoc:0}),this.onChangeCb(null),this.onTouchedCb(),this.updateDateValue(t,!0),this.setFocusToInputBox()},t.prototype.decreaseIncreaseDate=function(t){var e=this.selectedDate;if(this.utilService.isInitializedDate(e)){var n=this.getDate(e.year,e.month,e.day);n.setDate(t?n.getDate()-1:n.getDate()+1),e={year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()}}else e=this.getToday();this.selectDate(e,a.CloseByCalBtn)},t.prototype.selectDate=function(t,e){var n=this.getDateModel(t);this.dateChanged.emit(n),this.onChangeCb(n),this.onTouchedCb(),this.updateDateValue(t,!1),this.showSelector&&this.calendarToggle.emit(e),this.showSelector=!1,this.setFocusToInputBox()},t.prototype.setFocusToInputBox=function(){var t=this;!this.opts.inline&&this.opts.showInputField&&setTimeout(function(){t.inputBoxEl.nativeElement.focus()},100)},t.prototype.updateDateValue=function(t,e){this.selectedDate=t,this.selectionDayTxt=e?"":this.formatDate(t),this.inputFieldChanged.emit({value:this.selectionDayTxt,dateFormat:this.opts.dateFormat,valid:!e}),this.invalidDate=!1},t.prototype.getDateModel=function(t){return{date:t,jsdate:this.getDate(t.year,t.month,t.day),formatted:this.formatDate(t),epoc:Math.round(this.getTimeInMilliseconds(t)/1e3)}},t.prototype.convertTojsDate=function(t){return this.getDate(t.year,t.month,t.day)},t.prototype.preZero=function(t){return parseInt(t)<10?"0"+t:t},t.prototype.formatDate=function(t){var e=this.opts.dateFormat.replace("yyyy",t.year).replace("dd",this.preZero(t.day));return-1!==this.opts.dateFormat.indexOf("mmm")?e.replace("mmm",this.monthText(t.month)):e.replace("mm",this.preZero(t.month))},t.prototype.monthText=function(t){return this.opts.monthLabels[t]},t.prototype.monthStartIdx=function(t,e){var n=new Date;n.setDate(1),n.setMonth(e-1),n.setFullYear(t);var r=n.getDay()+this.sundayIdx();return r>=7?r-7:r},t.prototype.daysInMonth=function(t,e){return new Date(e,t,0).getDate()},t.prototype.daysInPrevMonth=function(t,e){var n=this.getDate(e,t,1);return n.setMonth(n.getMonth()-1),this.daysInMonth(n.getMonth()+1,n.getFullYear())},t.prototype.isCurrDay=function(t,e,n,r,i){return t===i.day&&e===i.month&&n===i.year&&r===this.currMonthId},t.prototype.getToday=function(){var t=new Date;return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}},t.prototype.getTimeInMilliseconds=function(t){return this.getDate(t.year,t.month,t.day).getTime()},t.prototype.getWeekday=function(t){return this.utilService.getWeekDays()[this.utilService.getDayNumber(t)]},t.prototype.getDate=function(t,e,n){return new Date(t,e-1,n,0,0,0,0)},t.prototype.sundayIdx=function(){return this.dayIdx>0?7-this.dayIdx:0},t.prototype.generateCalendar=function(t,e,n){this.dates.length=0;for(var r=this.getToday(),i=this.monthStartIdx(e,t),o=this.daysInMonth(t,e),a=this.daysInPrevMonth(t,e),s=1,l=this.prevMonthId,u=1;u<7;u++){var c=[];if(1===u){for(var p=a-i+1;p<=a;p++)c.push({dateObj:d={year:1===t?e-1:e,month:1===t?12:t-1,day:p},cmo:l,currDay:this.isCurrDay(p,t,e,l,r),disabled:this.utilService.isDisabledDay(d,this.opts.minYear,this.opts.maxYear,this.opts.disableUntil,this.opts.disableSince,this.opts.disableWeekends,this.opts.disableWeekdays,this.opts.disableDays,this.opts.disableDateRanges,this.opts.enableDays),markedDate:this.utilService.isMarkedDate(d,this.opts.markDates,this.opts.markWeekends),highlight:this.utilService.isHighlightedDate(d,this.opts.sunHighlight,this.opts.satHighlight,this.opts.highlightDates)});l=this.currMonthId;var h=7-c.length;for(p=0;p<h;p++)c.push({dateObj:d={year:e,month:t,day:s},cmo:l,currDay:this.isCurrDay(s,t,e,l,r),disabled:this.utilService.isDisabledDay(d,this.opts.minYear,this.opts.maxYear,this.opts.disableUntil,this.opts.disableSince,this.opts.disableWeekends,this.opts.disableWeekdays,this.opts.disableDays,this.opts.disableDateRanges,this.opts.enableDays),markedDate:this.utilService.isMarkedDate(d,this.opts.markDates,this.opts.markWeekends),highlight:this.utilService.isHighlightedDate(d,this.opts.sunHighlight,this.opts.satHighlight,this.opts.highlightDates)}),s++}else for(p=1;p<8;p++){var d;s>o&&(s=1,l=this.nextMonthId),c.push({dateObj:d={year:l===this.nextMonthId&&12===t?e+1:e,month:l===this.currMonthId?t:l===this.nextMonthId&&t<12?t+1:1,day:s},cmo:l,currDay:this.isCurrDay(s,t,e,l,r),disabled:this.utilService.isDisabledDay(d,this.opts.minYear,this.opts.maxYear,this.opts.disableUntil,this.opts.disableSince,this.opts.disableWeekends,this.opts.disableWeekdays,this.opts.disableDays,this.opts.disableDateRanges,this.opts.enableDays),markedDate:this.utilService.isMarkedDate(d,this.opts.markDates,this.opts.markWeekends),highlight:this.utilService.isHighlightedDate(d,this.opts.sunHighlight,this.opts.satHighlight,this.opts.highlightDates)}),s++}var f=this.opts.showWeekNumbers&&"mo"===this.opts.firstDayOfWeek?this.utilService.getWeekNumber(c[0].dateObj):0;this.dates.push({week:c,weekNbr:f})}this.setHeaderBtnDisabledState(t,e),n&&this.calendarViewChanged.emit({year:e,month:t,first:{number:1,weekday:this.getWeekday({year:e,month:t,day:1})},last:{number:o,weekday:this.getWeekday({year:e,month:t,day:o})}})},t.prototype.parseSelectedDate=function(t){var e={day:0,month:0,year:0};if("string"==typeof t){var n=t,r=this.opts.dateFormat;e.month=-1!==r.indexOf("mmm")?this.utilService.parseDatePartMonthName(r,n,"mmm",this.opts.monthLabels):this.utilService.parseDatePartNumber(r,n,"mm"),-1!==r.indexOf("mmm")&&this.opts.monthLabels[e.month]&&(r=this.utilService.changeDateFormat(r,this.opts.monthLabels[e.month].length)),e.day=this.utilService.parseDatePartNumber(r,n,"dd"),e.year=this.utilService.parseDatePartNumber(r,n,"yyyy")}else"object"==typeof t&&(e=t);return this.selectionDayTxt=this.formatDate(e),e},t.prototype.jsDateToMyDate=function(t){return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}},t.prototype.parseSelectedMonth=function(t){return this.utilService.parseDefaultMonth(t)},t.prototype.setHeaderBtnDisabledState=function(t,e){var n=!1,r=!1,i=!1,o=!1;this.opts.disableHeaderButtons&&(n=this.utilService.isMonthDisabledByDisableUntil({year:1===t?e-1:e,month:1===t?12:t-1,day:this.daysInMonth(1===t?12:t-1,1===t?e-1:e)},this.opts.disableUntil),r=this.utilService.isMonthDisabledByDisableUntil({year:e-1,month:t,day:this.daysInMonth(t,e-1)},this.opts.disableUntil),i=this.utilService.isMonthDisabledByDisableSince({year:12===t?e+1:e,month:12===t?1:t+1,day:1},this.opts.disableSince),o=this.utilService.isMonthDisabledByDisableSince({year:e+1,month:t,day:1},this.opts.disableSince)),this.prevMonthDisabled=1===t&&e===this.opts.minYear||n,this.prevYearDisabled=e-1<this.opts.minYear||r,this.nextMonthDisabled=12===t&&e===this.opts.maxYear||i,this.nextYearDisabled=e+1>this.opts.maxYear||o},t.ctorParameters=[{type:r.i},{type:r.x},{type:r.f},{type:i.a},{type:o.a}],t}()},"0zd0":function(t,e,n){"use strict";var r=n("T1DM");function i(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}i.prototype=Object.create(Error.prototype);var o=i,a=n("mrSG"),s=n("MGBS"),l=n("zotm"),u=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),c=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=i,a.scheduler=o,a.action=null,a.scheduleTimeout(),a}return a.c(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(l.a)(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(s.a),p=n("XlPw");function h(t,e){return void 0===e&&(e=r.a),function(t,e,n){return void 0===n&&(n=r.a),function(r){var i,o=(i=t)instanceof Date&&!isNaN(+i),a=o?+t-n.now():Math.abs(t);return r.lift(new u(a,o,e,n))}}(t,Object(p.a)(new o),e)}n.d(e,"a",function(){return h})},"15JJ":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("mrSG"),i=n("MGBS"),o=n("rPjj"),a=n("zotm"),s=n("67Y/"),l=n("0/uQ");function u(t,e){return"function"==typeof e?function(n){return n.pipe(u(function(n,r){return Object(l.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new c(t))}}var c=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.project))},t}(),p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.c(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(a.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.a)},"1Li2":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r){this.name=t,this.fullName=e,this.code=n,this.lastUsed=r}return t.prototype.nameStartsWith=function(t){return null!=t&&""!==t.trim()&&(this.name.toLowerCase().startsWith(t.toLowerCase())||this.fullName.toLowerCase().startsWith(t.toLowerCase()))},t.prototype.equals=function(t){return null!=t&&(this===t||this.code===t.code)},t}()},"1rYy":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(t){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(t)},meridiem:function(t){return t<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":t<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":t<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-\u056b\u0576":t+"-\u0580\u0564";default:return t}},week:{dow:1,doy:7}})}()},"1xZ4":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"\xe8";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}()},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2La6":function(t,e,n){"use strict";var r=n("CcnG"),i=n("gIcY"),o=n("eYWh"),a=n("ka1Z"),s=n("Ip0R"),l=n("3g9f"),u=n("5IX/"),c=n("T1BI"),p=n("iUDz"),h=n("0u4Y"),d=n("64ZZ"),f=n("3ZaB"),m=n("tUW/"),g=n("R+r5"),y=n("Gi3i"),_=n("15JJ"),v=n("67Y/"),b=n("F/XL"),x=n("9lgY"),w=n("cQAX"),M=n("lR7y"),C=n("UxfY"),L=n("+9V0"),E=function(){function t(t,e,n,i,o){var a=this;this.locationFinderService=t,this.locationSortPipe=e,this.recentLocationsService=n,this.locationDescriptionPipe=i,this.uniqueLocationsPipe=o,this.locationChange=new r.k,this.inputTextChange=new r.k,this.formSubmit=new r.k,this.searchLocations=function(t){var e;return t.pipe(Object(y.a)(100),Object(_.a)(function(t){return function(t){return(e=t)&&e.length>=3?a.locationFinderService.search(t).pipe(Object(g.a)()):Object(b.a)(null)}(t)}),Object(v.a)(function(t){var n=a.currentAndRecentLocations(e);return t||0!==n.length?a.uniqueLocationsPipe.transform(n.concat(a.locationSortPipe.transform(t||[]))).filter(function(t){return!t.equals(a.excludeLocation)}).slice(0,6):null}))}}return t.prototype.currentAndRecentLocations=function(t){return this.locationDescriptionPipe.transform([w.a.createCurrentLocation()].concat(this.recentLocationsService.getLocations().reverse()),t)},t.prototype.onInputTextChange=function(t){this.inputTextChange.emit(t),this.locationChange.emit(null)},t.prototype.focus=function(){this.autosuggestEl.focus()},t}(),k=r.gb({encapsulation:0,styles:[".location-search-container[_ngcontent-%COMP%]{position:relative;margin-top:10px}.location-search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;color:#1D69B4;font-weight:normal;padding:7px 15px 15px;z-index:1;height:36px}.location-search-container[_ngcontent-%COMP%]   label.error[_ngcontent-%COMP%]{color:#E4022D}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-input{padding:0 60px 0 60px !important}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container{margin-left:50px !important;width:calc(100% - 50px - 42px)}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container svg.tp-icon.track-icon{margin:1px 3px 0 0}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .list-group-item-title{font-weight:500}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline{margin:0 0 0  -5px;font-size:0.95em;font-weight:400}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline li:not(:first-child){padding:0}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-clear-button{right:42px !important;height:17px}.location-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]{color:#555;line-height:1.1em}.location-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:3px}.location-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-detail[_ngcontent-%COMP%]   .item-suburb[_ngcontent-%COMP%]{font-size:.95em;font-weight:400}"],data:{}});function T(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-icon",[],null,null,null,o.b,o.a)),r.hb(1,49152,null,0,a.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null)],function(t,e){t(e,1,0,"track","xs pull-left mr-5 track-icon")},null)}function S(t){return r.Bb(0,[(t()(),r.Z(16777216,null,null,1,null,T)),r.hb(1,16384,null,0,s.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(2,0,null,null,3,"tni-mode-summary",[],null,null,null,l.b,l.a)),r.wb(512,null,u.a,u.a,[]),r.wb(512,null,c.a,c.a,[]),r.hb(5,49152,null,0,p.a,[u.a,c.a],{location:[0,"location"]},null)],function(t,e){t(e,1,0,e.context.item.isCurrent),t(e,5,0,e.context.item)},null)}function A(t){return r.Bb(0,[r.xb(402653184,1,{autosuggestEl:0}),(t()(),r.ib(1,0,null,null,5,"div",[["class","location-search-container"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,1,"label",[["class","control-label"]],[[8,"htmlFor",0],[2,"error",null]],null,null,null,null)),(t()(),r.zb(3,null,["",""])),(t()(),r.ib(4,0,null,null,1,"tni-autosuggest",[["displayProperty","fullName"]],null,[[null,"selectItemChange"],[null,"inputTextChange"],[null,"formSubmit"],["document","click"]],function(t,e,n){var i=!0,o=t.component;return"document:click"===e&&(i=!1!==r.sb(t,5).onDocumentClick(n)&&i),"selectItemChange"===e&&(i=!1!==o.locationChange.emit(n)&&i),"inputTextChange"===e&&(i=!1!==o.onInputTextChange(n)&&i),"formSubmit"===e&&(i=!1!==o.formSubmit.emit()&&i),i},h.b,h.a)),r.hb(5,4767744,[[1,4],["autosuggest",4]],0,d.a,[f.a],{id:[0,"id"],required:[1,"required"],placeholder:[2,"placeholder"],label:[3,"label"],ariaLabel:[4,"ariaLabel"],searchFn:[5,"searchFn"],displayProperty:[6,"displayProperty"],selectItem:[7,"selectItem"],resultTemplate:[8,"resultTemplate"],errorMessage:[9,"errorMessage"],textValue:[10,"textValue"]},{selectItemChange:"selectItemChange",inputTextChange:"inputTextChange",formSubmit:"formSubmit"}),(t()(),r.Z(0,[["template",2]],null,0,null,S))],function(t,e){var n=e.component;t(e,5,1,[n.id,!0,n.placeholder,r.kb(1,"",n.label,""),r.kb(1,"",n.label," Start typing, then use up and down keys and enter to select from list."),n.searchLocations,"fullName",n.location,r.sb(e,6),n.errorMessage,n.textValue])},function(t,e){var n=e.component;t(e,2,0,n.id,!!n.errorMessage),t(e,3,0,n.label)})}var D=function(){function t(){this.fromText="",this.toText=""}return t.prototype.isValid=function(){return this.toText||this.toLocation},t.prototype.fromLocationUrlParam=function(){return this.fromLocation?this.fromLocation.isCurrent?"current":this.fromLocation.id:this.fromText},t.prototype.toLocationUrlParam=function(){return this.toLocation?this.toLocation.isCurrent?"current":this.toLocation.id:this.toText},t.prototype.swap=function(){var t=w.a.fromJson(this.fromLocation);this.fromLocation=w.a.fromJson(this.toLocation),this.toLocation=t;var e=this.fromText;this.fromText=this.toText,this.toText=e},t.prototype.clearError=function(){this.toError=null},t}(),I=n("E4Jq"),P=n("4ATH"),O=function(){function t(t,e,n){this.windowRef=t,this.trackTripPlannerWidgetEventService=e,this.tes=n,this.tripPlannerUrl="/trip#/?accessible=false&arrDep=dep&bus=true&coach=true&ferry=true&itMode=walk&lightRail=true&opalOnly=false&routeFilter=time&schoolBus=false&train=true&wDuration=20&wSpeed=4",this.trip=new D}return t.prototype.onSearch=function(){if(this.form.onSubmit(null),!this.trip.isValid())return this.trip.toError="Please enter a location",this.toLocationSearchEl.focus(),!1;if(this.windowRef.url().indexOf("regional")>-1){var t={event:"planTrip",tab:"Trip Planner",action:"Go",departureFrom:this.trip.fromLocation.description()||"current location",arrivalTo:this.trip.toLocation.description()};this.tes.pushDataLayerEvent(t)}this.trackTripPlannerWidgetEventService.go("now"),this._trackMyLocationEventInGA(),this.windowRef.redirectToUrl(this._generateURL())},t.prototype._trackMyLocationEventInGA=function(){this.trip.fromLocationUrlParam().trim()&&"current"!==this.trip.fromLocationUrlParam().trim()?"current"===this.trip.toLocationUrlParam()&&this.trackTripPlannerWidgetEventService.myLocation("Destination"):this.trackTripPlannerWidgetEventService.myLocation("Origin")},t.prototype.onMoreOptionsClick=function(){var t=this._generateURL();if(t=t.concat("&blockSearch=true"),this.trackTripPlannerWidgetEventService.options(),this.windowRef.url().indexOf("regional")>-1){var e={event:"planTrip",tab:"Trip Planner",action:"More options",departureFrom:this.trip.fromLocation.description()||"current location",arrivalTo:this.trip.toLocation.description()||""};this.tes.pushDataLayerEvent(e)}this.windowRef.redirectToUrl(t)},t.prototype._generateURL=function(){return this.tripPlannerUrl.concat("&from="+(this.trip.fromLocationUrlParam().trim()||"current")).concat("&to="+this.trip.toLocationUrlParam())},t.prototype.swapFromTo=function(){this.trip.swap(),this.trip.clearError()},t.prototype.updateErrorMessage=function(){this.trip.toError&&this.trip.isValid()&&this.trip.clearError()},t.prototype.fromLocationChange=function(){this.trip.fromLocation&&(this.trip.fromText=this.trip.fromLocation.description(),"current_location"===this.trip.fromLocation.id&&this.windowRef.url().indexOf("regional")>-1)&&this.tes.pushDataLayerEvent({event:"planTrip",tab:"Trip Planner",action:"current location"})},t.prototype.toLocationChange=function(){this.trip.toLocation&&(this.trip.toText=this.trip.toLocation.description(),"current_location"===this.trip.toLocation.id&&this.windowRef.url().indexOf("regional")>-1)&&this.tes.pushDataLayerEvent({event:"planTrip",tab:"Trip Planner",action:"current location"}),this.updateErrorMessage()},t}(),N=r.gb({encapsulation:0,styles:[".trip-planner-container[_ngcontent-%COMP%]{min-height:165px;background-color:#fff;font-size:14px}@media (max-width: 767px){.trip-planner-container[_ngcontent-%COMP%]{min-height:155px}}.trip-planner-container[_ngcontent-%COMP%]   .tp-search-switch[_ngcontent-%COMP%]{width:30px;height:30px;float:right;border-radius:50%;margin:-65px 7px 0 0;box-shadow:0 1px 2px 0 rgba(0,0,0,0.3);position:relative;background:#fff;fill:#333;color:#333;transition:background .05s ease-in-out;border:1px solid #eaeaea;padding:0}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-buttons-panel[_ngcontent-%COMP%]{position:relative;padding:7px 15px 0 0;display:flex;margin-left:auto;margin-right:0;justify-content:flex-end}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-buttons-panel[_ngcontent-%COMP%]   .more-options-link[_ngcontent-%COMP%]{font-weight:lighter;font-size:14px;margin-right:2px;text-decoration:underline}"],data:{}});function R(t){return r.Bb(0,[r.xb(402653184,1,{form:0}),r.xb(402653184,2,{toLocationSearchEl:0}),(t()(),r.ib(2,0,null,null,19,"div",[["class","trip-planner-container"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,18,"form",[["class","form col-xs-12"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.sb(t,5).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.sb(t,5).onReset()&&i),i},null,null)),r.hb(4,16384,null,0,i.p,[],null,null),r.hb(5,4210688,[[1,4]],0,i.k,[[8,null],[8,null]],null,null),r.wb(2048,null,i.b,null,[i.k]),r.hb(7,16384,null,0,i.j,[[4,i.b]],null,null),(t()(),r.ib(8,0,null,null,2,"tni-location-search",[["label","From"]],null,[[null,"locationChange"],[null,"inputTextChange"],[null,"formSubmit"]],function(t,e,n){var r=!0,i=t.component;return"locationChange"===e&&(r=!1!==(i.trip.fromLocation=n)&&r),"inputTextChange"===e&&(r=!1!==(i.trip.fromText=n)&&r),"locationChange"===e&&(r=!1!==i.fromLocationChange()&&r),"formSubmit"===e&&(r=!1!==i.onSearch()&&r),r},A,k)),r.wb(512,null,m.a,m.a,[]),r.hb(10,49152,null,0,E,[x.a,M.a,m.a,C.a,L.a],{id:[0,"id"],label:[1,"label"],location:[2,"location"],excludeLocation:[3,"excludeLocation"],placeholder:[4,"placeholder"],textValue:[5,"textValue"]},{locationChange:"locationChange",inputTextChange:"inputTextChange",formSubmit:"formSubmit"}),(t()(),r.ib(11,0,null,null,2,"tni-location-search",[["label","To"]],null,[[null,"locationChange"],[null,"inputTextChange"],[null,"formSubmit"]],function(t,e,n){var r=!0,i=t.component;return"locationChange"===e&&(r=!1!==(i.trip.toLocation=n)&&r),"inputTextChange"===e&&(i.trip.toText=n,r=!1!==i.updateErrorMessage()&&r),"locationChange"===e&&(r=!1!==i.toLocationChange()&&r),"formSubmit"===e&&(r=!1!==i.onSearch()&&r),r},A,k)),r.wb(512,null,m.a,m.a,[]),r.hb(13,49152,[[2,4],["toLocationSearch",4]],0,E,[x.a,M.a,m.a,C.a,L.a],{id:[0,"id"],label:[1,"label"],location:[2,"location"],excludeLocation:[3,"excludeLocation"],errorMessage:[4,"errorMessage"],textValue:[5,"textValue"]},{locationChange:"locationChange",inputTextChange:"inputTextChange",formSubmit:"formSubmit"}),(t()(),r.ib(14,0,null,null,2,"button",[["class","tp-search-switch"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.swapFromTo()&&r),r},null,null)),(t()(),r.ib(15,0,null,null,1,"tni-icon",[],null,null,null,o.b,o.a)),r.hb(16,49152,null,0,a.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(17,0,null,null,4,"div",[["class","trip-planner-buttons-panel"]],null,null,null,null,null)),(t()(),r.ib(18,0,null,null,1,"button",[["class","btn-link more-options-link"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onMoreOptionsClick()&&r),r},null,null)),(t()(),r.zb(-1,null,["More options"])),(t()(),r.ib(20,0,null,null,1,"button",[["class","btn btn-primary go-btn"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSearch()&&r),r},null,null)),(t()(),r.zb(-1,null,["Go"]))],function(t,e){var n=e.component;t(e,10,0,"tniFromTripLocation","From",n.trip.fromLocation,n.trip.toLocation,"My current location",n.trip.fromText),t(e,13,0,"tniToTripLocation","To",n.trip.toLocation,n.trip.fromLocation,n.trip.toError,n.trip.toText),t(e,16,0,"switch","Swap from and to locations","xs",!1)},function(t,e){t(e,3,0,r.sb(e,7).ngClassUntouched,r.sb(e,7).ngClassTouched,r.sb(e,7).ngClassPristine,r.sb(e,7).ngClassDirty,r.sb(e,7).ngClassValid,r.sb(e,7).ngClassInvalid,r.sb(e,7).ngClassPending)})}var F=function(){function t(){}return t.fromJson=function(e){return e?Object.assign(new t,e,{origin:e.origin?w.a.fromJson(e.origin):null,destination:e.destination?w.a.fromJson(e.destination):null}):null},t.prototype.equals=function(t){return!!t&&this.favourite===t.favourite&&!!this.origin.equals(t.origin)&&!!this.destination.equals(t.destination)},t}(),Y=n("+o+X"),B=function(){function t(t,e,n,i,o){this.windowRef=t,this.trackTripPlannerWidgetEventService=e,this.modeSortPipe=n,this.iconService=i,this.tes=o,this.removeTrip=new r.k,this.toggleTrip=new r.k,this.focusTrip=new r.k,this.blurTrip=new r.k,this.tripPlannerUrl="/trip#/?accessible=false&arrDep=dep&bus=true&coach=true&ferry=true&itMode=walk&lightRail=true&opalOnly=false&routeFilter=time&schoolBus=false&train=true&wDuration=20&wSpeed=4"}return t.prototype.selectTrip=function(){var t=this._locationId(this.favouriteTrip.origin),e=this._locationId(this.favouriteTrip.destination),n=this.tripPlannerUrl.concat("&from="+t);n=n.concat("&to="+e),this._trackMyLocationEventInGA(t,e),this._trackRequestEventInGA(),this.windowRef.redirectToUrl(n)},t.prototype._trackRequestEventInGA=function(){this.favouriteTrip.favourite?this.trackTripPlannerWidgetEventService.requestFavouriteTrip():this.trackTripPlannerWidgetEventService.requestPreviousTrip()},t.prototype._trackMyLocationEventInGA=function(t,e){"current"===t?this.trackTripPlannerWidgetEventService.myLocation("Origin"):"current"===e&&this.trackTripPlannerWidgetEventService.myLocation("Destination")},t.prototype._locationId=function(t){return t.isCurrent?"current":t.id},t.prototype.toggleFavourite=function(){this.windowRef.url().indexOf("regional")>-1&&this.tes.pushDataLayerEvent({event:"planTrip",tab:"Trip Planner",action:this.favouriteTrip.favourite?"Remove from favourites":"Add to favourites",departureFrom:this.favouriteTrip.origin.fullName,arrivalTo:this.favouriteTrip.destination.fullName}),this.toggleTrip.emit(this.favouriteTrip)},t.prototype.remove=function(){this.removeTrip.emit(this.favouriteTrip)},t.prototype.getSRText=function(){var t="Show trips from "+this.favouriteTrip.origin.stopfinderName()+" ";return this.isStopOrPlatform(this.favouriteTrip.origin)&&(t+="servicing "+this.getAllTransportModeSRText(this.favouriteTrip.origin)+" "),t+="to "+this.favouriteTrip.destination.stopfinderName()+" ",this.isStopOrPlatform(this.favouriteTrip.destination)&&(t+="servicing "+this.getAllTransportModeSRText(this.favouriteTrip.destination)),t.trim()},t.prototype.isStopOrPlatform=function(t){return t.type===Y.b.Stop||t.type===Y.b.Platform},t.prototype.getAllTransportModeSRText=function(t){var e=this,n=this.modeSortPipe.transform(t.motTypes,null).map(function(t){return e.iconService.getModeIcon(t)}).map(function(t){return"bus-school"===t?"school bus":t});return n.indexOf("bus")>=0&&n.indexOf("school bus")>=0&&n.splice(n.indexOf("school bus"),1),Y.c.joinWithAnd(n)},t}(),z=r.gb({encapsulation:0,styles:[".tp-past-searches-item[_ngcontent-%COMP%]{background:white;padding:0;border-radius:3px;box-shadow:0px 2px 3px 0px rgba(0,0,0,0.4);transition:box-shadow .2s ease-in-out;margin:0 0 15px;font-size:16px;overflow:hidden;position:relative;cursor:pointer}.tp-past-searches-item[_ngcontent-%COMP%]:hover, .tp-past-searches-item[_ngcontent-%COMP%]:focus, .tp-past-searches-item[_ngcontent-%COMP%]:focus{box-shadow:0px 4px 8px 0px rgba(0,0,0,0.4)}@media (min-width: 768px){.tp-past-searches-item[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.tp-past-searches-item[_ngcontent-%COMP%]{font-size:12px}}.tp-past-searches-item-search[_ngcontent-%COMP%]{padding:15px 60px 15px 41px;border:2px solid white;display:block;color:#555;padding-right:3em;text-overflow:ellipsis;white-space:nowrap}.tp-past-searches-item-search[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}.tp-past-searches-item-search[_ngcontent-%COMP%]:hover, .tp-past-searches-item-search[_ngcontent-%COMP%]:focus{text-decoration:none}.tp-past-searches-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none !important}.tp-past-searches-item-arrow[_ngcontent-%COMP%]{margin:0 10px}.tp-past-searches-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{box-shadow:none !important;-moz-box-shadow:none !important;-webkit-box-shadow:none !important}.tp-past-searches-item-favourite[_ngcontent-%COMP%], .tp-past-searches-item-remove[_ngcontent-%COMP%]{position:absolute !important;top:0;height:100%;min-height:1px}.tp-past-searches-item-favourite[_ngcontent-%COMP%]   .favourite-selected[_ngcontent-%COMP%], .tp-past-searches-item-favourite[_ngcontent-%COMP%]   .favourite-unselected[_ngcontent-%COMP%], .tp-past-searches-item-favourite[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%], .tp-past-searches-item-remove[_ngcontent-%COMP%]   .favourite-selected[_ngcontent-%COMP%], .tp-past-searches-item-remove[_ngcontent-%COMP%]   .favourite-unselected[_ngcontent-%COMP%], .tp-past-searches-item-remove[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]{position:relative;transform:translateY(-50%);top:50%;color:#1D69B4 !important}.tp-past-searches-item-favourite[_ngcontent-%COMP%]   .favourite-selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .tp-past-searches-item-favourite[_ngcontent-%COMP%]   .favourite-unselected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .tp-past-searches-item-favourite[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .tp-past-searches-item-remove[_ngcontent-%COMP%]   .favourite-selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .tp-past-searches-item-remove[_ngcontent-%COMP%]   .favourite-unselected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .tp-past-searches-item-remove[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#1D69B4 !important}.tp-past-searches-item-favourite[_ngcontent-%COMP%]   .favourite-selected[_ngcontent-%COMP%]:hover, .tp-past-searches-item-favourite[_ngcontent-%COMP%]   .favourite-unselected[_ngcontent-%COMP%]:hover, .tp-past-searches-item-remove[_ngcontent-%COMP%]   .favourite-selected[_ngcontent-%COMP%]:hover, .tp-past-searches-item-remove[_ngcontent-%COMP%]   .favourite-unselected[_ngcontent-%COMP%]:hover{color:#175490 !important}.tp-past-searches-item-favourite[_ngcontent-%COMP%]   .favourite-selected[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .tp-past-searches-item-favourite[_ngcontent-%COMP%]   .favourite-unselected[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .tp-past-searches-item-remove[_ngcontent-%COMP%]   .favourite-selected[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .tp-past-searches-item-remove[_ngcontent-%COMP%]   .favourite-unselected[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#175490 !important}.tp-past-searches-item-favourite[_ngcontent-%COMP%]{padding-right:0;padding-left:15px}.tp-past-searches-item-remove[_ngcontent-%COMP%]{right:5px;width:27px !important;padding-left:0}.tp-past-searches-item[_ngcontent-%COMP%]   .origin-input[_ngcontent-%COMP%], .tp-past-searches-item[_ngcontent-%COMP%]   .destination-input[_ngcontent-%COMP%]{width:42%;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.tp-past-searches-item[_ngcontent-%COMP%]   .list-group-item-title[_ngcontent-%COMP%]{font-weight:500;white-space:normal;line-height:14px}.tp-past-searches-item[_ngcontent-%COMP%]   .list-group-item-list-inline[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;white-space:normal}.tp-past-searches-item[_ngcontent-%COMP%]   .list-group-item-list-inline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-left:6px;padding-right:0}.tp-past-searches-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin:0}"],data:{}});function j(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","favourite-selected"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[],null,null,null,o.b,o.a)),r.hb(2,49152,null,0,a.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"]},null)],function(t,e){t(e,2,0,"favourite-selected","Remove from favourite","xs")},null)}function V(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","favourite-unselected"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[],null,null,null,o.b,o.a)),r.hb(2,49152,null,0,a.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"]},null)],function(t,e){t(e,2,0,"favourite-unselected","Add to favourite","xs")},null)}function H(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"a",[["class","tp-past-searches-item-favourite"],["href","javascript:;"],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleFavourite()&&r),r},null,null)),(t()(),r.Z(16777216,null,null,1,null,j)),r.hb(2,16384,null,0,s.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,V)),r.hb(4,16384,null,0,s.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(5,0,null,null,18,"a",[["class","tp-past-searches-item-search"],["role","presentation"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.selectTrip()&&r),r},null,null)),(t()(),r.ib(6,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["From:"])),(t()(),r.ib(8,0,null,null,4,"div",[["class","origin-input"]],null,null,null,null,null)),(t()(),r.ib(9,0,null,null,3,"tni-mode-summary",[],null,null,null,l.b,l.a)),r.wb(512,null,u.a,u.a,[]),r.wb(512,null,c.a,c.a,[]),r.hb(12,49152,null,0,p.a,[u.a,c.a],{location:[0,"location"]},null),(t()(),r.ib(13,0,null,null,1,"tni-icon",[],null,null,null,o.b,o.a)),r.hb(14,49152,null,0,a.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"]},null),(t()(),r.ib(15,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["to:"])),(t()(),r.ib(17,0,null,null,4,"div",[["class","destination-input"]],null,null,null,null,null)),(t()(),r.ib(18,0,null,null,3,"tni-mode-summary",[],null,null,null,l.b,l.a)),r.wb(512,null,u.a,u.a,[]),r.wb(512,null,c.a,c.a,[]),r.hb(21,49152,null,0,p.a,[u.a,c.a],{location:[0,"location"]},null),(t()(),r.ib(22,0,null,null,1,"button",[["class","sr-only"]],null,[[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==i.focusTrip.emit(i.favouriteTrip)&&r),"blur"===e&&(r=!1!==i.blurTrip.emit(i.favouriteTrip)&&r),r},null,null)),(t()(),r.zb(23,null,[" "," "])),(t()(),r.ib(24,0,null,null,3,"a",[["class","tp-past-searches-item-remove"],["href","javascript:;"],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.remove()&&r),r},null,null)),(t()(),r.ib(25,0,null,null,2,"div",[["class","remove-container"]],null,null,null,null,null)),(t()(),r.ib(26,0,null,null,1,"tni-icon",[],null,null,null,o.b,o.a)),r.hb(27,49152,null,0,a.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"]},null)],function(t,e){var n=e.component;t(e,2,0,n.favouriteTrip.favourite),t(e,4,0,!n.favouriteTrip.favourite),t(e,12,0,n.favouriteTrip.origin),t(e,14,0,"arrow-right-small","to","sm tp-past-searches-item-arrow"),t(e,21,0,n.favouriteTrip.destination),t(e,27,0,"close-circle","remove favourite trip","sm close-icon")},function(t,e){t(e,23,0,e.component.getSRText())})}var U=n("MODd"),G=function(){function t(){this.localStorageKey="previous_trips"}return t.prototype.getTrips=function(){return(U.a.getItem(this.localStorageKey)||[]).map(function(t){return F.fromJson(t)})},t.prototype.setTrips=function(t){U.a.setItem(this.localStorageKey,t)},t.prototype.hasTrip=function(t){return this.getTrips().filter(function(e){return e.equals(t)}).length>0},t}(),q=n("kLtR"),W=n("wd/R"),Z=function(){function t(t,e,n){this.favouriteTripsService=t,this.mediaService=e,this.trackTripPlannerWidgetEventService=n,this.initialPastSearches=6,this.pastSearchesIncrement=6,this.maxPastSearches=60}return t.prototype.ngOnInit=function(){this.mediaService.isMobileView()&&(this.initialPastSearches=1),this.limitTo=this.initialPastSearches||this.pastSearchesIncrement,this._loadTrips(),this._refreshCurrentTrips()},t.prototype.onRemoveTrip=function(t){var e=this._searchTrip(this.favouriteTrips,t);this.favouriteTrips.splice(e,1),this.currentFavouriteTrips.splice(e,1),this._refreshCurrentTrips(),this.favouriteTripsService.setTrips(this.currentFavouriteTrips),t.favourite?this.trackTripPlannerWidgetEventService.deleteFavouriteTrip():this.trackTripPlannerWidgetEventService.deletePreviousTrip()},t.prototype.onToggleTrip=function(t){var e=!t.favourite,n=this.favouriteTripsService.getTrips(),r=this._searchTrip(n,t),i=n.filter(function(t){return t.favourite});if(r!==(e?i.length:i.length-1)){this._toggleTripItem(t),this.favouriteTrips.splice(r,1),this.currentFavouriteTrips.splice(r,1);var o=t.favourite?i.length:i.length-1;this.favouriteTrips.splice(o,0,t),this.currentFavouriteTrips.splice(o,0,t),this.favouriteTripsService.setTrips(this.favouriteTrips)}else this._toggleTripItem(t),this.currentFavouriteTrips[r].favourite=t.favourite,this.favouriteTripsService.setTrips(this.currentFavouriteTrips);e?this.trackTripPlannerWidgetEventService.setFavourite():this.trackTripPlannerWidgetEventService.removeFavourite()},t.prototype._toggleTripItem=function(t){t.favourite=!t.favourite,t.lastModified=W(),t.favouritedDate=t.favourite?W():null},t.prototype._searchTrip=function(t,e){var n=-1;return t.forEach(function(t,r){if(t.equals(e))return n=r,r}),n},t.prototype.showMoreTrips=function(){this.trackTripPlannerWidgetEventService.loadMorePreviousTrips(),this.limitTo+=this.pastSearchesIncrement,this.limitTo>=this.maxPastSearches&&(this.limitTo=this.maxPastSearches),this._refreshCurrentTrips()},t.prototype.onFocusTrip=function(t){t.focused=!0},t.prototype.onBlurTrip=function(t){t.focused=!1},t.prototype._loadTrips=function(){this.currentFavouriteTrips=this.favouriteTripsService.getTrips().sort(function(t,e){return t.favourite===e.favourite?0:t.favourite?-1:1}),this._refreshCurrentTrips()},t.prototype._refreshCurrentTrips=function(){this.favouriteTrips=this.currentFavouriteTrips.slice(0,this.limitTo)},t}(),X=r.gb({encapsulation:0,styles:[".tp-past-searches[_ngcontent-%COMP%]{margin-top:15px;min-height:0}.tp-past-searches-item[_ngcontent-%COMP%]{display:block}.tp-past-searches-none-container[_ngcontent-%COMP%]{padding:0px !important}.tp-past-searches-none[_ngcontent-%COMP%]{background:#F6F6F6;padding:10px;border:1px solid #e0e0e0;font-size:16px;display:flex;flex-direction:row;align-items:center;margin-bottom:15px}.tp-past-searches-none[_ngcontent-%COMP%]     svg.tp-icon{fill:#1D69B4 !important;color:#1D69B4 !important;margin:0 10px 0 5px}.tp-past-searches-none[_ngcontent-%COMP%]     svg.tp-icon.baseline{margin:0}.tp-past-searches-none[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{display:inline;flex-grow:1;line-height:1em;color:#555}.tp-past-searches-none[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}.tp-past-searches-more[_ngcontent-%COMP%]{margin-bottom:10px}"],data:{}});function J(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"li",[["class","card as-sortable-item tp-past-searches-item favourite-list"]],[[2,"focused",null],[2,"hidden",null]],null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-favourite-trip-item",[],null,[[null,"removeTrip"],[null,"toggleTrip"],[null,"focusTrip"],[null,"blurTrip"]],function(t,e,n){var r=!0,i=t.component;return"removeTrip"===e&&(r=!1!==i.onRemoveTrip(n)&&r),"toggleTrip"===e&&(r=!1!==i.onToggleTrip(n)&&r),"focusTrip"===e&&(r=!1!==i.onFocusTrip(n)&&r),"blurTrip"===e&&(r=!1!==i.onBlurTrip(n)&&r),r},H,z)),r.hb(2,49152,null,0,B,[f.a,I.a,u.a,c.a,P.a],{favouriteTrip:[0,"favouriteTrip"]},{removeTrip:"removeTrip",toggleTrip:"toggleTrip",focusTrip:"focusTrip",blurTrip:"blurTrip"})],function(t,e){t(e,2,0,e.context.$implicit)},function(t,e){t(e,0,0,e.context.$implicit.focused,!e.context.$implicit.favourite)})}function K(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"li",[["class","card as-sortable-item tp-past-searches-item favourite-list"]],[[2,"focused",null],[2,"hidden",null]],null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-favourite-trip-item",[],null,[[null,"removeTrip"],[null,"toggleTrip"],[null,"focusTrip"],[null,"blurTrip"]],function(t,e,n){var r=!0,i=t.component;return"removeTrip"===e&&(r=!1!==i.onRemoveTrip(n)&&r),"toggleTrip"===e&&(r=!1!==i.onToggleTrip(n)&&r),"focusTrip"===e&&(r=!1!==i.onFocusTrip(n)&&r),"blurTrip"===e&&(r=!1!==i.onBlurTrip(n)&&r),r},H,z)),r.hb(2,49152,null,0,B,[f.a,I.a,u.a,c.a,P.a],{favouriteTrip:[0,"favouriteTrip"]},{removeTrip:"removeTrip",toggleTrip:"toggleTrip",focusTrip:"focusTrip",blurTrip:"blurTrip"})],function(t,e){t(e,2,0,e.context.$implicit)},function(t,e){t(e,0,0,e.context.$implicit.focused,e.context.$implicit.favourite)})}function Q(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["aria-hidden","true"],["class","tp-past-searches-more text-center xs mb-10"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"button",[["class","btn btn-default btn-secondary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showMoreTrips()&&r),r},null,null)),(t()(),r.zb(-1,null,[" Load more "]))],null,null)}function $(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,9,"div",[["class","tp-past-searches"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,8,"div",[],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,5,"div",[["class","select-disable"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,4,"ol",[["aria-invalid","false"],["class","cards card-list tp-past-searches-list trip tfnsw-list-none"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,J)),r.hb(5,278528,null,0,s.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.Z(16777216,null,null,1,null,K)),r.hb(7,278528,null,0,s.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.Z(16777216,null,null,1,null,Q)),r.hb(9,16384,null,0,s.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,n.favouriteTrips),t(e,7,0,n.favouriteTrips),t(e,9,0,n.currentFavouriteTrips.length>n.limitTo)},null)}var tt=n("+/t3"),et=function(){function t(t,e,n,i,o){var a=this;this.locationFinderService=t,this.locationSortPipe=e,this.recentLocationsService=n,this.locationDescriptionPipe=i,this.uniqueLocationsPipe=o,this.locationChange=new r.k,this.inputTextChange=new r.k,this.formSubmit=new r.k,this.searchLocations=function(t){var e;return t.pipe(Object(y.a)(100),Object(_.a)(function(t){return a._isTSN(e=t)?Object(b.a)(null):e&&e.length>=3?a.locationFinderService.search(t,!0).pipe(Object(g.a)()):Object(b.a)(null)}),Object(v.a)(function(t){if(a._isTSN(e))return null;var n=a.recentStops(e);return t||0!==n.length?a.uniqueLocationsPipe.transform(n.concat(a.locationSortPipe.transform(t||[]))).slice(0,6):null}))}}return t.prototype.recentStops=function(t){return this.locationDescriptionPipe.transform(this.recentLocationsService.getLocations().reverse().filter(function(t){return t.type===tt.a.Stop}),t)},t.prototype._isTSN=function(t){return!!t&&!!t.match(/^\d{5,}/)},t.prototype.onInputTextChange=function(t){this.inputTextChange.emit(t),this.locationChange.emit(null)},t}(),nt=r.gb({encapsulation:0,styles:[".location-search-container[_ngcontent-%COMP%]{position:relative;margin-top:10px}.location-search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;color:#1D69B4;font-weight:normal;padding:7px 15px 15px;z-index:1;height:36px}.location-search-container[_ngcontent-%COMP%]   label.error[_ngcontent-%COMP%]{color:#E4022D}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-input{padding:0 25px 0 60px !important}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container{margin-left:50px !important;width:calc(100% - 50px)}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .list-group-item-title{font-weight:500}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline{margin:0 0 0  -5px;font-size:0.95em;font-weight:400}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline li:not(:first-child){padding:0}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-clear-button{height:17px}.location-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]{color:#555;line-height:1.1em}.location-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:3px}.location-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-detail[_ngcontent-%COMP%]   .item-suburb[_ngcontent-%COMP%]{font-size:.95em;font-weight:400}"],data:{}});function rt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"tni-mode-summary",[],null,null,null,l.b,l.a)),r.wb(512,null,u.a,u.a,[]),r.wb(512,null,c.a,c.a,[]),r.hb(3,49152,null,0,p.a,[u.a,c.a],{location:[0,"location"]},null)],function(t,e){t(e,3,0,e.context.item)},null)}function it(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,5,"div",[["class","location-search-container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"label",[["class","control-label"]],[[8,"htmlFor",0],[2,"error",null]],null,null,null,null)),(t()(),r.zb(2,null,["",""])),(t()(),r.ib(3,0,null,null,1,"tni-autosuggest",[["displayProperty","fullName"]],null,[[null,"selectItemChange"],[null,"inputTextChange"],[null,"formSubmit"],["document","click"]],function(t,e,n){var i=!0,o=t.component;return"document:click"===e&&(i=!1!==r.sb(t,4).onDocumentClick(n)&&i),"selectItemChange"===e&&(i=!1!==o.locationChange.emit(n)&&i),"inputTextChange"===e&&(i=!1!==o.onInputTextChange(n)&&i),"formSubmit"===e&&(i=!1!==o.formSubmit.emit()&&i),i},h.b,h.a)),r.hb(4,4767744,null,0,d.a,[f.a],{id:[0,"id"],required:[1,"required"],placeholder:[2,"placeholder"],label:[3,"label"],ariaLabel:[4,"ariaLabel"],searchFn:[5,"searchFn"],displayProperty:[6,"displayProperty"],selectItem:[7,"selectItem"],resultTemplate:[8,"resultTemplate"],errorMessage:[9,"errorMessage"]},{selectItemChange:"selectItemChange",inputTextChange:"inputTextChange",formSubmit:"formSubmit"}),(t()(),r.Z(0,[["template",2]],null,0,null,rt))],function(t,e){var n=e.component;t(e,4,0,n.id,!0,n.placeholder,r.kb(1,"",n.label,""),r.kb(1,"",n.label," Start typing, then use up and down keys and enter to select from list."),n.searchLocations,"fullName",n.location,r.sb(e,5),n.errorMessage)},function(t,e){var n=e.component;t(e,1,0,n.id,!!n.errorMessage),t(e,2,0,n.label)})}var ot=n("kz5P"),at=function(){function t(t,e,n){this.windowRef=t,this.trackEventService=e,this.tes=n}return t.prototype.onSearch=function(){var t=this._departId();if(!t)return this.fromError="Please enter a location",!1;var e=this._isTSN(this.fromText)?"platform":"stop";t&&(this.windowRef.url().indexOf("regional")>-1&&this.tes.pushDataLayerEvent({event:"planTrip",tab:"Departures",action:"Go",departureFrom:this.fromLocation.fullName||""}),this.trackEventService.go(),this.windowRef.redirectToUrl("/trip#/departures?depart="+t+"&type="+e+"&accessible=false"))},t.prototype._isTSN=function(t){return!!t&&!!t.match(/^\d{5,}/)},t.prototype._departId=function(){return this.fromLocation&&this.fromLocation.id||this.fromText},t.prototype.updateErrorMessage=function(){this.fromError&&this._departId()&&(this.fromError=null)},t}(),st=r.gb({encapsulation:0,styles:[".departures-container[_ngcontent-%COMP%]{min-height:115px;background-color:#fff;font-size:14px}@media (max-width: 767px){.departures-container[_ngcontent-%COMP%]{min-height:105px}}.departures-container[_ngcontent-%COMP%]   .buttons-panel[_ngcontent-%COMP%]{position:relative;padding:7px 15px 0 0;display:flex;margin-left:auto;margin-right:0;justify-content:flex-end}"],data:{}});function lt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,7,"div",[["class","departures-container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,6,"form",[["class","form col-xs-12"],["novalidate",""]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,2,"tni-departure-location-search",[["label","From"]],null,[[null,"locationChange"],[null,"inputTextChange"],[null,"formSubmit"]],function(t,e,n){var r=!0,i=t.component;return"locationChange"===e&&(r=!1!==(i.fromLocation=n)&&r),"inputTextChange"===e&&(r=!1!==(i.fromText=n)&&r),"locationChange"===e&&(r=!1!==i.updateErrorMessage()&&r),"formSubmit"===e&&(r=!1!==i.onSearch()&&r),r},it,nt)),r.wb(512,null,m.a,m.a,[]),r.hb(4,49152,null,0,et,[x.a,M.a,m.a,C.a,L.a],{id:[0,"id"],label:[1,"label"],location:[2,"location"],errorMessage:[3,"errorMessage"],placeholder:[4,"placeholder"]},{locationChange:"locationChange",inputTextChange:"inputTextChange",formSubmit:"formSubmit"}),(t()(),r.ib(5,0,null,null,2,"div",[["class","buttons-panel"]],null,null,null,null,null)),(t()(),r.ib(6,0,null,null,1,"button",[["class","btn btn-primary go-btn"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSearch()&&r),r},null,null)),(t()(),r.zb(-1,null,["Go"]))],function(t,e){var n=e.component;t(e,4,0,"tniFromDepartureLocation","From",n.fromLocation,n.fromError,"Enter a stop name or ID")},null)}var ut=n("Eslu");n.d(e,"b",function(){return ct}),n.d(e,"c",function(){return dt}),n.d(e,"a",function(){return mt});var ct=r.gb({encapsulation:2,styles:['\n    /deep/ .opal-login-container,.ng4-form{background:#fff}/deep/ .opal-login-container label,.ng4-form label{color:#1D69B4;font-weight:500;font-size:14px;height:0;padding:7px 7px 7px 0}@media (max-width: 767px){/deep/ .opal-login-container label,.ng4-form label{font-size:13px}}/deep/ .opal-login-container input[type="text"],/deep/ .opal-login-container input[type="password"],.ng4-form input[type="text"],.ng4-form input[type="password"]{border:0;box-shadow:none;height:0;position:relative}/deep/ .opal-login-container .opal-login-form,.ng4-form .opal-login-form{padding:0}/deep/ .opal-login-container h1,.ng4-form h1{display:flex;align-items:center;height:35px;justify-content:center;color:#555}@media (max-width: 767px){/deep/ .opal-login-container h1,.ng4-form h1{font-size:19.53px}}/deep/ .opal-login-container h1 svg,.ng4-form h1 svg{height:35px;width:70px}/deep/ .opal-login-container h1 .separator,.ng4-form h1 .separator{font-size:26px;display:inline;color:#999}/deep/ .opal-login-container .form-group,.ng4-form .form-group{display:flex;border-bottom:1px solid #ccc;height:40px;margin:25px 0;position:relative}/deep/ .opal-login-container .btn-panel,.ng4-form .btn-panel{display:flex;margin:20px 0}/deep/ .opal-login-container .btn-panel button,.ng4-form .btn-panel button{flex-grow:1}/deep/ .opal-login-container .form .popover.error-popover.right,.ng4-form .form .popover.error-popover.right{display:none;position:absolute;right:0;top:-9px;font-size:15px;left:auto;border-radius:4px;font-family:transtext, sans-serif}@media (max-width: 767px){/deep/ .opal-login-container .form .popover.error-popover.right,.ng4-form .form .popover.error-popover.right{font-size:13px;width:165px}}/deep/ .opal-login-container .form .form-group.error,.ng4-form .form .form-group.error{border-bottom-color:#E4022D}/deep/ .opal-login-container .form .form-group.error label,.ng4-form .form .form-group.error label{color:#E4022D}/deep/ .opal-login-container .form .form-group.error .popover.error-popover.right,.ng4-form .form .form-group.error .popover.error-popover.right{display:block}/deep/ .opal-login-container .success,/deep/ .opal-login-container .error.incorrect,/deep/ .opal-login-container .error.blocked,.ng4-form .success,.ng4-form .error.incorrect,.ng4-form .error.blocked{font-size:13px;margin:0 20px;border:1px solid #E4022D;padding:10px 15px 10px 10px;font-weight:400;display:flex}/deep/ .opal-login-container .success .tp-icon,/deep/ .opal-login-container .error.incorrect .tp-icon,/deep/ .opal-login-container .error.blocked .tp-icon,.ng4-form .success .tp-icon,.ng4-form .error.incorrect .tp-icon,.ng4-form .error.blocked .tp-icon{margin:3px 5px}/deep/ .opal-login-container .success,.ng4-form .success{border-color:#009E4D}/deep/ .opal-login-container .go-btn,.ng4-form .go-btn{width:50px;height:42px;padding:0;font-size:113%;box-shadow:0 1px 2px 0 rgba(0,0,0,0.3);transition:background .05s ease-in-out}.tp-past-searches-item.ng-enter{-webkit-transition:500ms ease-in all;transition:500ms ease-in all}.tp-past-searches-item.ng-leave{-webkit-transition:500ms ease-in all;transition:500ms ease-in all}.tp-past-searches-item.ng-leave.ng-leave-active,.tp-past-searches-item.ng-enter{opacity:0}.tp-past-searches-item.ng-leave,.tp-past-searches-item.ng-enter.ng-enter-active{opacity:1}.tp-past-searches{padding:0 .5em;background:#ececec}.tp-past-searches-list{margin:0;padding:0}.tp-past-searches-list li a{text-decoration:none}.tp-past-searches-item-arrow{fill:#757575;color:#757575}.tp-past-searches a{text-decoration:none}h2.tp-past-searches-title{margin-top:25px;margin-bottom:20px;font-weight:400;text-align:center}h2.tp-past-searches-title+h5{font-weight:200}li.stop-animation.ng-enter{opacity:0.0;transition:0s opacity ease}li.stop-animation.ng-enter-active{opacity:1.0}li.stop-animation.ng-leave{transition:0s opacity ease}li.stop-animation.ng-leave-active{opacity:0.0}.select-disable{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#tripPlannerWebclient .as-sortable-item{-ms-touch-action:auto;touch-action:auto;-webkit-touch-callout:inherit}#tripPlannerWebclient .as-sortable-item-handle{-ms-touch-action:auto;touch-action:auto;-webkit-touch-callout:inherit}#tripPlannerWebclient .as-sortable-placeholder{border:1px dashed darkgrey;box-sizing:border-box;background-color:#dbdbdb;margin:0 0 15px}#tripPlannerWebclient .as-sortable-drag{opacity:.8}@media (max-width: 767px){.tp-past-searches{overflow:hidden;min-height:51vh}.state-mapview .tp-past-searches{display:none}}.tp-past-searches-item{background:white;padding:0;border-radius:3px;box-shadow:0px 2px 3px 0px rgba(0,0,0,0.4);transition:box-shadow .2s ease-in-out;margin:0 0 15px;font-size:14px;overflow:hidden;position:relative;cursor:pointer}.tp-past-searches-item:hover,.tp-past-searches-item:focus,.tp-past-searches-item:focus{box-shadow:0px 4px 8px 0px rgba(0,0,0,0.4)}.tp-past-searches-item.focused{outline:4px solid rgba(0,0,0,0.4);outline-offset:-2px}.tp-past-searches-item.focused .item-favourite{margin:2px 0}.tp-past-searches-item.focused .item-favourite a{margin-top:-2px 0}.tp-past-searches-item-search{padding:15px 60px 15px 41px;border:2px solid white;display:block;color:#555;padding-right:3em;text-overflow:ellipsis;white-space:nowrap}.tp-past-searches-item-search span{vertical-align:middle}.tp-past-searches-item-search:hover,.tp-past-searches-item-search:focus{text-decoration:none}.tp-past-searches-item-arrow{margin:0 10px}.tp-past-searches-item-favourite,.tp-past-searches-item-remove{position:absolute !important;top:0;height:100%;min-height:1px}.tp-past-searches-item-favourite .favourite-selected,.tp-past-searches-item-favourite .favourite-unselected,.tp-past-searches-item-favourite .remove-container,.tp-past-searches-item-remove .favourite-selected,.tp-past-searches-item-remove .favourite-unselected,.tp-past-searches-item-remove .remove-container{position:relative;transform:translateY(-50%);top:50%;fill:#1D69B4;color:#1D69B4}.tp-past-searches-item-favourite .favourite-selected:hover,.tp-past-searches-item-favourite .favourite-unselected:hover,.tp-past-searches-item-remove .favourite-selected:hover,.tp-past-searches-item-remove .favourite-unselected:hover{fill:#175490;color:#175490}.tp-past-searches-item-favourite{padding-right:0;padding-left:15px}.tp-past-searches-item-remove{right:0px;width:32px;padding-left:0}.tp-past-searches-item .origin-input,.tp-past-searches-item .destination-input{width:42%;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.tp-past-searches-item .list-group-item-title{font-weight:500;white-space:normal;line-height:14px}.tp-past-searches-item .list-group-item-list-inline{margin:0;white-space:normal}.tp-past-searches-item .list-group-item-list-inline>li{padding-left:6px;padding-right:0}.tp-past-searches-item .list-group-item-list-inline>li:first-child{padding:0}.next-departures-container .tp-past-searches-item-search .origin-input{width:100%}.tp-past-searches-list.dep .past-departure-item{display:flex;position:relative;box-shadow:0 1px 0 0 #cacaca}.tp-past-searches-list.dep .item-favourite{width:45px;text-align:center;background:#F9F9F9}.tp-past-searches-list.dep .item-favourite a{display:flex;flex-direction:column;height:100%;justify-content:center}.tp-past-searches-list.dep .item-favourite .favourite-selected,.tp-past-searches-list.dep .item-favourite .favourite-unselected{fill:#1D69B4}.tp-past-searches-list.dep .item-search{padding:5px 10px 5px 10px;width:100%}.tp-past-searches-list.dep .item-search .destination{height:20px;line-height:20px;margin-top:5px;color:#6a6a68;font-size:12px}.tp-past-searches-list.dep .item-search .destination.spacer{height:0}.tp-past-searches-list.dep .item-remove{position:absolute;right:5px;top:5px}.tp-past-searches-list.dep .tp-past-searches-item{border-radius:0px;border-left:3px solid #999;display:block}.tp-past-searches-list.dep .tp-past-searches-item .list-group-item-title{font-size:14px;color:#1C1C1B;line-height:12px;margin:5px 0 -3px 0}.tp-past-searches-list.dep .tp-past-searches-item .list-group-item-list-inline>li{font-size:13px;height:14px;color:#757575;line-height:14px;margin-top:0}.tp-past-searches-list.dep .tp-past-searches-item .origin-input,.tp-past-searches-list.dep .tp-past-searches-item .destination-input{width:100%}.tp-past-searches-list.dep .step-dot{position:absolute;top:13px;left:37px;border-radius:4px;border:2px solid #999;width:8px;height:8px}.tp-past-searches-list.dep .step-dot.destination{top:49px;height:8px}.tp-past-searches-list.dep .step-line{width:2px;position:absolute;left:40px;border-left:2px solid #999;top:21px;height:6px}.tp-past-searches-list.dep .step-line.towards{border-left:2px solid #999;top:27px;height:16px}.tp-past-searches-list.dep .step-line.towards.destination{top:22px;height:29px}.tp-past-searches-list.dep .step-line.towards.none{border-left:2px dotted #999}.tp-past-searches-list.dep .transport-modes{position:absolute;right:7px;bottom:1px}.tp-past-searches-list.dep .past-departure-filters{margin:7px 10px;positon:relative;display:flex}.tp-past-searches-list.dep .past-departure-filters .accessibility{margin-left:auto}.route-icon-number{font-weight:500 !important;font-size:13px;padding:0 0.35em 0.1em;min-width:1.8em;color:#fff;text-transform:uppercase;font-variant:small-caps;border-radius:3px;letter-spacing:0.01em;text-align:center;vertical-align:middle;fill:inherit;border:0;display:inline-block;line-height:22.65px}.route-icon-number.privateFerries{min-width:50px}.route-icon-number.lg{font-size:24px;padding:0.11em 0.18em;height:1.4em;position:relative;line-height:26px}.route-icon-number.lg.route-icon-align{top:-0.24em}.route-name{margin-left:0.1em}.plan-container .tfnsw-tab-content{background:none}.plan-container .departures-widget,.plan-container .trip-planner-widget{display:flex;flex-direction:column}.plan-container ul.tfnsw-nav-tabs{margin-top:0px;border-bottom:none}.plan-container ul.tfnsw-nav-tabs li.active{margin-top:0;box-shadow:none;border-bottom:4px solid #1D69B4}.plan-container ul.tfnsw-nav-tabs li.active .arrow-down{border-left:5px solid transparent;border-right:5px solid transparent;width:0;height:0;left:0;right:0;border-top:5px solid #0069B7;bottom:-9px;margin:auto;position:absolute}.plan-container ul.tfnsw-nav-tabs li a,.plan-container ul.tfnsw-nav-tabs li a:focus,.plan-container ul.tfnsw-nav-tabs li.active a,.plan-container ul.tfnsw-nav-tabs li.active a:focus{background-color:#ececec;color:#555;border:none;padding:15px;font-weight:500;font-size:15px}@media (max-width: 767px){.plan-container ul.tfnsw-nav-tabs li a,.plan-container ul.tfnsw-nav-tabs li a:focus,.plan-container ul.tfnsw-nav-tabs li.active a,.plan-container ul.tfnsw-nav-tabs li.active a:focus{font-size:14px}}\n  '],data:{}});function pt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"div",[["class","trip-planner-widget"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-trip-search-form",[],null,null,null,R,N)),r.hb(2,49152,null,0,O,[f.a,I.a,P.a],null,null),(t()(),r.ib(3,0,null,null,3,"tni-favourite-trips",[],null,null,null,$,X)),r.wb(512,null,G,G,[]),r.wb(512,null,q.a,q.a,[]),r.hb(6,114688,null,0,Z,[G,q.a,I.a],null,null)],function(t,e){t(e,6,0)},null)}function ht(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","departures-widget"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-departures-form",[],null,null,null,lt,st)),r.hb(2,49152,null,0,at,[f.a,ot.a,P.a],null,null)],null,null)}function dt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,16,"div",[["class","plan-container ng4-form"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,15,"div",[["class","tab-group-no-gutter"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,8,"ul",[["class","nav nav-tabs tfnsw-nav-tabs nav-justified"],["role","tablist"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,3,"li",[],[[2,"active",null]],null,null,null,null)),(t()(),r.ib(4,0,null,null,1,"a",[["aria-controls","tab-pan-tp"],["href","javascript:;"],["id","tab-pane-tp"],["role","tab"]],[[1,"aria-selected",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.switchType(i.PlanTypeEnum.TripPlanner)&&r),r},null,null)),(t()(),r.zb(-1,null,["Trip Planner"])),(t()(),r.ib(6,0,null,null,0,"div",[["class","arrow-down"]],null,null,null,null,null)),(t()(),r.ib(7,0,null,null,3,"li",[],[[2,"active",null]],null,null,null,null)),(t()(),r.ib(8,0,null,null,1,"a",[["aria-controls","tab-pan-tp"],["href","javascript:;"],["id","tab-pane-nd"],["role","tab"]],[[1,"aria-selected",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.switchType(i.PlanTypeEnum.Departures)&&r),r},null,null)),(t()(),r.zb(-1,null,["Departures"])),(t()(),r.ib(10,0,null,null,0,"div",[["class","arrow-down"]],null,null,null,null,null)),(t()(),r.ib(11,0,null,null,5,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),r.ib(12,0,null,null,4,"div",[["class","tab-pane active"],["id","tab-pane-active-content"],["role","tabpanel"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,pt)),r.hb(14,16384,null,0,s.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,ht)),r.hb(16,16384,null,0,s.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,14,0,n.preferences.planType===n.PlanTypeEnum.TripPlanner),t(e,16,0,n.preferences.planType===n.PlanTypeEnum.Departures)},function(t,e){var n=e.component;t(e,3,0,n.preferences.planType===n.PlanTypeEnum.TripPlanner),t(e,4,0,n.preferences.planType===n.PlanTypeEnum.TripPlanner),t(e,7,0,n.preferences.planType===n.PlanTypeEnum.Departures),t(e,8,0,n.preferences.planType===n.PlanTypeEnum.Departures)})}function ft(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"tni-plan",[],null,null,null,dt,ct)),r.wb(4608,null,U.a,U.a,[]),r.hb(2,114688,null,0,ut.a,[],null,null)],function(t,e){t(e,2,0)},null)}var mt=r.eb("tni-plan",ut.a,ft,{},{},[])},"2On9":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("4ATH");var r=n("XmvR"),i=function(){function t(t){this.trackEventService=t,this.category="Stop interactive map"}return t.prototype.viewMapTabOnMobile=function(){this.trackEventService.trackEvent(this.category,{action:r.d.ViewMapTabOnMobile.toString(),label:"Map view - selected"})},t.prototype.viewListTab=function(t){this.trackEventService.trackEvent(this.category,{action:r.d.ViewListTab.toString(),label:t})},t.prototype.viewGroupView=function(t,e){this.trackEventService.trackEvent(this.category,{action:"View "+t+" tab",label:e})},t.prototype.viewFacilityCardFromList=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.d.ViewFacilityCardFromList.toString(),label:t+" - "+e})},t.prototype.viewStopCardFromList=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.d.ViewStopCardFromList.toString(),label:t+" - "+e})},t.prototype.selectFacilityOnMap=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.d.SelectFacilityOnMap.toString(),label:t+" - "+e})},t.prototype.selectStopPointOnMap=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.d.SelectStopPointOnMap.toString(),label:t+" - "+e})},t.prototype.selectMapFromStopCardOnMobile=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.d.SelectMapFromStopCardOnMobile.toString(),label:t+" - "+e})},t}()},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"2fjn":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}()},"2ykv":function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},"34mC":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("wd/R"),i=function(){function t(){}return t.prototype.transform=function(t){var e=r(),n=r("2399-12-31T00:00:00Z");if(e.isSameOrAfter(t.from)&&e.isSameOrBefore(t.to)&&t.to.isBefore(n))return"Ongoing - "+t.to.format("ddd D MMM HH:mm");var i="";return i=this.isSameDay(e,t.from)?"Today "+t.from.format("HH:mm"):e.isAfter(t.from)?"Ongoing":t.from.format("ddd D MMM HH:mm"),t.to&&(this.isSameDay(t.from,t.to)?i+=" - "+t.to.format("HH:mm"):t.to.isAfter(n)?i+=" - Until further notice":i+=" - "+t.to.format("ddd D MMM HH:mm")),i},t.prototype.isSameDay=function(t,e){return t.isSame(e,"day")},t}()},"3E1r":function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};t.defineLocale("hi",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924"===e?t<4?t:t+12:"\u0938\u0941\u092c\u0939"===e?t:"\u0926\u094b\u092a\u0939\u0930"===e?t>=10?t:t+12:"\u0936\u093e\u092e"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0930\u093e\u0924":t<10?"\u0938\u0941\u092c\u0939":t<17?"\u0926\u094b\u092a\u0939\u0930":t<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(n("wd/R"))},"3ZaB":function(t,e,n){"use strict";function r(){return window}n.d(e,"a",function(){return i});var i=function(){function t(){this.drupalSettings=r().drupalSettings}return t.prototype.redirectToUrl=function(t){encodeURI(t)===location.href?location.reload():location.href=encodeURI(t)},t.prototype.ALLUtils=function(){return r().ALLUtils},t.prototype.Utils=function(){return r().Utils},t.prototype.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(this.navigator().userAgent)},t.prototype.navigator=function(){return navigator},t.prototype.queryParams=function(){return r().location.search},t.prototype.isMobileView=function(){return window.innerWidth<768},t.prototype.url=function(){return r().location.href},t.prototype.dataLayer=function(){return r().dataLayer},t.prototype.pushHistory=function(t){r().history.replaceState("","",t)},t}()},"3fdv":function(t,e,n){"use strict";n("3ZaB"),n("8fF9");var r=n("HPWP"),i=(n("dJjl"),n("u4wI"),n("K48Q"),n("gv8m"),n("b497"),n("IuMT"),n("CLdD"),n("8a/j")),o=(n("zOFj"),n("d8H3"),function(){return function(){this.Text=""}}()),a=n("Qn/6");n.d(e,"a",function(){return s});var s=function(){function t(t,e,n,r,i,s){this.windowRef=t,this.mapboxDatasetService=e,this.cardService=n,this.linksService=r,this.trackMetroService=i,this.transportModesHelper=s,this.showMap=!1,this.showAutoSuggest=!1,this.isLoadingData=!1,this.mapLayers=[],this.mapStyle=a.e,this.stopDataSetList=[],this.selectStop=new o,this.stopSearchPlaceholder="Enter a train station",this.sourceLayers=[a.f,a.h,a.g],this.clickSourceLayers=[a.h],this.activeViewId=a.d}return t.prototype.onResize=function(t){this.isMobileView()},t.prototype.ngOnInit=function(){var t=this;this.transportModes=this.transportModesHelper.defaultTransportModes,this.selectedMode=this.transportModes[0],this.transportModesHelper.getTransportModes().subscribe(function(e){t.transportModes=e,t.displayModeHeading=e.length>1,t.foundMode=t.selectModeByUrl(t.windowRef.url()),t.selectedMode=t.foundMode&&t.foundMode.length>0?t.foundMode[0]:t.transportModes[0],t.isMobileView()&&t.trackMetroService.viewListTab(a.b,t.selectedMode.name),t.selectMode(t.selectedMode,!0),t.tabMessage="",t.stopTabList=[],t.cardList=[]})},t.prototype.selectModeByUrl=function(t){var e=this;return this.transportModes.filter(function(t){var n=new RegExp("\\?"+t.id,"gi");return e.windowRef.url().search(n)>-1})||[]},t.prototype.ngOnChanges=function(){this.isMobileView||(this.activeViewId=a.d)},t.prototype.ngAfterViewInit=function(){this.showAutoSuggest&&(this.stopSearchEl.autosuggestEl.inputEl.nativeElement.value="")},t.prototype.displayMap=function(t){this.onViewChange(a.j),this.trackMetroService.selectMapFromCard(t,this.selectedMode.name)},t.prototype.onViewChange=function(t){t===a.j?(this.activeViewId=a.j,this.trackMetroService.viewMapTab(a.i,this.selectedMode.name),this.showMap=!0):t===a.d&&(this.activeViewId=a.d,this.trackMetroService.viewListTab(a.c,this.selectedMode.name),this.showMap=!1)},t.prototype.hideMap=function(){this.showMap=!1},t.prototype.isMobileView=function(){return this.windowRef.isMobileView()},t.prototype.selectMode=function(t,e){if(void 0===e&&(e=!1),!e){var n=this.windowRef.url(),r=new RegExp("\\?"+this.selectedMode.id,"gi");n.replace(r,"?"+t.id),this.windowRef.pushHistory(n.replace(r,"?"+t.id))}this.selectedMode&&this.cardList&&"train"===this.selectedMode.id&&(this.cardService.stationCards=this.cardList.filter(function(t){return t.isStation})),this.selectedMode=t,this.popup=null,this.cardList=[],this.tabMessage="",this.mapLayers=[],this.isLoadingData=!0,this.populateDatasetList(),this.showAutoSuggest=this.selectedMode.showAutoSuggest},t.prototype.populateDatasetList=function(){var t=this;this.popup=null,"bus"===this.selectedMode.id?this.mapboxDatasetService.getRegionsDataset().subscribe(function(e){var n=e.filter(function(t){return!!t.rank});n.length&&(t.cardList=t.cardService.getCardList(r.a.region,n),t.cardList.sort(function(t,e){return t.rank-e.rank}),t.cardList.forEach(function(e){t.mapLayers=t.mapLayers.concat(e.extraInfo.layerNames)}),t.tabMessage=n[0].busRegionTabMessage),t.bounds=t.selectedMode.bounds,t.isLoadingData=!1}):this.mapboxDatasetService.getLinesDataset().subscribe(function(e){var n=e.filter(function(e){return e.routeTypeText===t.selectedMode.type&&e.rank});"train"===t.selectedMode.id&&n.length>0&&(t.cardList=t.cardService.getCardList(r.a.line,n),t.cardList.sort(function(t,e){return t.rank-e.rank}),t.cardList.forEach(function(e){t.mapLayers=t.mapLayers.concat(e.extraInfo.layerNames)}),t.tabMessage=n[0].lineTabMessage,t.cardList=t.cardService.stationCards.concat(t.cardList)),t.bounds=t.selectedMode.bounds,t.mapboxDatasetService.getStopsDataset().subscribe(function(e){t.stopDataSetList=e.filter(function(e){return e.stopType===t.selectedMode.type&&e.rank});var i=t.cardService.getCardList(r.a.stop,t.stopDataSetList);i&&i.length>1&&(i.sort(function(t,e){return t.rank-e.rank}),i.forEach(function(e,n){e.id=n,e.extraInfo.layerNames=t.mapboxDatasetService.getLineLayersName(e.extraInfo.routeShortNames)})),n.filter(function(e){return e.routeTypeText===t.selectedMode.type&&e.rank}).forEach(function(e){t.mapLayers=t.mapLayers.concat(e.layerNames)}),t.bounds=t.selectedMode.bounds,t.tabMessage=t.stopDataSetList[0]?t.stopDataSetList[0].stopTabMessage:"","metro"===t.selectedMode.id&&(t.cardList=i),t.isLoadingData=!1}),t.cardList&&t.cardList.length>0&&t.collapseAllCardsExcept()})},t.prototype.onToggleCard=function(t){if(t.expanded){this.collapseAllCardsExcept(t.card);var e=t.card;e&&(this.mapLayers=e.extraInfo&&e.extraInfo.layerNames?e.extraInfo.layerNames:null,this.bounds=e.extraInfo&&e.extraInfo.bounds?e.extraInfo.bounds:null,this.loadMapPopup(e),this.trackMetroService.viewCard(e.headerName,this.selectedMode.name))}else{this.popup=null,this.bounds=this.selectedMode.bounds;var n=[];this.cardList.forEach(function(t){n=n.concat(t.extraInfo.layerNames)}),"metro"===this.selectedMode.id&&(n=n.filter(function(t){return"M"===t.name[0]})),this.mapLayers=n}},t.prototype.onSelectFooterLink=function(t){this.trackMetroService.selectLinkOnCard(this.selectedMode.name,t.cardLink.linkName,t.card.headerName)},t.prototype.onClickStopFeature=function(t){this.bounds=null,this.mapLayers=this.mapboxDatasetService.getLineLayersName(t.lineShortNames),this.popup={title:t.feature.properties.STATIONS,messageBody:t.feature.properties.KEY_MESSAGE||"",colour:t.feature.properties.LINE_COLOUR,links:this.linksService.get([{key:i.a.stationInfo,value:t.feature.properties.LINK_STOPPAGE},{key:i.a.departures,value:t.feature.properties.LINK_DEPARTURES}]),coordinates:t.feature.geometry.coordinates},this.trackMetroService.viewBubbleOnMap(t.feature.properties.STATIONS,this.selectedMode.name)},t.prototype.onClickRegionFeature=function(t){var e=this.cardList.filter(function(e){return e.id===t.regionName});e&&this.onToggleCard({card:e[0],expanded:!0})},t.prototype.collapseAllCardsExcept=function(t){this.cardList&&this.cardList.forEach(t?function(e){e.expanded=e.id===t.id}:function(t){return t.expanded=!1})},t.prototype.addStopToList=function(t){var e,n=this.cardList.slice();n?-1===(e=n.findIndex(function(e){return e.id===t.id}))?n.unshift(t):(n.unshift(t),n.splice(e+1,1)):n.unshift(t),this.stopTabList=n,n.forEach(function(t){return t.expanded=!1}),n[0].expanded=!0,n[0].extraInfo.layerNames=this.mapboxDatasetService.getLineLayersName(n[0].extraInfo.routeShortNames),n[0].extraInfo.bounds=null;var r=n[0];this.mapLayers=r.extraInfo.layerNames,this.bounds=r.extraInfo.bounds,this.loadMapPopup(r),this.cardList=n},t.prototype.loadMapPopup=function(t){var e=this.selectedMode&&"train"===this.selectedMode.id&&!t.isStation&&t.headerName?t.lineNumber+"-"+t.headerName:t.headerName.trim();this.popup={title:e,messageBody:t.bodyMessage&&t.bodyMessage.trim(),colour:t.lineColour&&t.lineColour.trim(),links:t.footerLinks.map(function(t){return{name:t.linkName,icon:t.linkIcon.iconName,link:t.linkPath,hideMap:t.hideMap}}),coordinates:t.extraInfo.midPoint},this.trackMetroService.viewBubbleOnMap(t.headerName.trim(),this.selectedMode.name)},t.prototype.selectStopChange=function(){var t=this;if(this.selectStop.stop){this.selectStop.Text="";var e=[];e.push(this.stopDataSetList.find(function(e){return e.efaNumber===t.selectStop.stop.id}));var n=this.cardService.getCardList(r.a.stop,e);n&&n.length&&(n[0].isStation=!0),this.addStopToList(n[0]),this.stopSearchEl&&this.showAutoSuggest&&this.stopSearchEl.autosuggestEl.onClearClick()}},t.prototype.ngOnDestroy=function(){this.featureToggleSubscription&&this.featureToggleSubscription.unsubscribe()},t.prototype.getStationCards=function(){return this.cardList?this.cardList.filter(function(t){return!!t.isStation}):[]},t.prototype.getLinesCards=function(){return this.cardList?this.cardList.filter(function(t){return!t.isStation}):[]},t.id=0,t}()},"3g9f":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return p});var r=n("CcnG"),i=n("eYWh"),o=n("ka1Z"),a=n("Ip0R"),s=(n("5IX/"),n("T1BI"),n("iUDz"),r.gb({encapsulation:2,styles:[],data:{}}));function l(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.location.suburb())})}function u(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){t(e,2,0,e.context.$implicit,e.context.$implicit,"xs",!1)},null)}function c(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,4,"ul",[["class","list-group-item-list-inline list-inline"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,l)),r.hb(3,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,u)),r.hb(5,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,!n.location.isLocality()),t(e,5,0,n.modeIcons())},null)}function p(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[["class","list-group-item-title"]],null,null,null,null,null)),r.hb(1,278528,null,0,a.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{"pull-left":0,"single-line":1}),(t()(),r.zb(3,null,[" "," "])),(t()(),r.Z(16777216,null,null,1,null,c)),r.hb(5,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,r=t(e,2,0,n.location.isCurrent,n.location.isLocality()||!n.location.suburb());t(e,1,0,"list-group-item-title",r),t(e,5,0,!n.location.isLocality()&&!n.location.isCurrent&&!!n.location.suburb())},function(t,e){var n=e.component;t(e,3,0,(n.location.buildingNumber?n.location.buildingNumber+" ":"")+(n.location.shortName||n.location.fullName))})}},"3pWC":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},"3qSw":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("+o+X"),i=function(){function t(){}return t.prototype.ngOnChanges=function(){this.backgroundColour=this.iconBackgroundColour||this._getBackgroundColour(+this.productId),this.colour=this.iconFontColour},t.prototype._getBackgroundColour=function(t){return r.d.getColourByProductId(t)},t}()},"4ATH":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("3ZaB");var r=function(){function t(t){this.winRef=t}return t.prototype.Utils=function(){return this.winRef.ALLUtils()||this.winRef.Utils()},t.prototype.trackEvent=function(t,e,n){this.Utils()&&this.Utils().safelyExecute&&e?this.Utils().safelyExecute.call(this,e.action,function(){null!=n?this.Utils().sendGAEvent(t,e.action,e.label,n):e.label?this.Utils().sendGAEvent(t,e.action,e.label):this.Utils().sendGAEvent(t,e.action)}):"Opal transaction"!==t&&"NSW TrainLink"!==t||!e||this.pushDataLayerEvent({event:"fireGAEvent","GA Event Category":t,"GA Event Action":e.action,"GA Event Label":e.label,"GA Event Value":n})},t.prototype.pushDataLayerEvent=function(t){var e=this.winRef.dataLayer()||[];void 0!==e&&e.push(t)},t.prototype.trackSocial=function(t,e){this.Utils()&&t&&this.Utils().safelyExecute.call(this,t.network+" "+t.action,function(){null!=e?this.Utils().sendGASocial(t.network,t.action,e):this.Utils().sendGASocial(t.network,t.action)})},t}()},"4D6R":function(t,e){},"4MV3":function(t,e,n){!function(t){"use strict";var e={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},n={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};t.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ac7\u0ab9\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(t){return t.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0ab0\u0abe\u0aa4"===e?t<4?t:t+12:"\u0ab8\u0ab5\u0abe\u0ab0"===e?t:"\u0aac\u0aaa\u0acb\u0ab0"===e?t>=10?t:t+12:"\u0ab8\u0abe\u0a82\u0a9c"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0ab0\u0abe\u0aa4":t<10?"\u0ab8\u0ab5\u0abe\u0ab0":t<17?"\u0aac\u0aaa\u0acb\u0ab0":t<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(n("wd/R"))},"4ZJM":function(t,e,n){t.exports=function(){"use strict";var t,e,n;function r(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),(n=i(a)).workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))}else e=i;else t=i}return r(0,function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r;function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=o;function o(t,e){this.x=t,this.y=e}function a(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!a(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!a(t[r],e[r]))return!1;return!0}return t===e}function s(t,e,r,i){var o=new n(t,e,r,i);return function(t){return o.solve(t)}}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-r*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var l=s(.25,.1,.25,1);function u(t,e,n){return Math.min(n,Math.max(e,t))}function c(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function p(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var h=1;function d(){return h++}function f(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function m(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function g(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})}function y(t,e){return-1!==t.indexOf(e,t.length-e.length)}function _(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function v(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function b(t){return Array.isArray(t)?t.map(b):"object"==typeof t&&t?_(t,b):t}var x={};function w(t){x[t]||("undefined"!=typeof console&&console.warn(t),x[t]=!0)}function M(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function C(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)e+=((a=t[i]).x-(o=t[n]).x)*(o.y+a.y);return e}function L(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var E=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),k=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,T=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,S={now:E,frame:function(t){var e=k(t);return{cancel:function(){return T(e)}}},getImageData:function(t){var e=self.document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)},resolveURL:function(t){var e=self.document.createElement("a");return e.href=t,e.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},supportsWebp:!1};if(self.document){var A=self.document.createElement("img");A.onload=function(){S.supportsWebp=!0},A.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var D={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return 0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":"https://events.mapbox.com/events/v2"},REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},I="See https://www.mapbox.com/api-documentation/#access-tokens";function P(t,e){var n=B(D.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!D.REQUIRE_ACCESS_TOKEN)return z(t);if(!(e=e||D.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+I);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+I);return t.params.push("access_token="+e),z(t)}function O(t){return 0===t.indexOf("mapbox:")}var N=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function R(t){return N.test(t)}var F=/(\.(png|jpg)\d*)(?=$)/,Y=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/;function B(t){var e=t.match(Y);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function z(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var j=function(t){this.type=t,this.anonId=null,this.eventData={lastSuccess:null,accessToken:D.ACCESS_TOKEN},this.queue=[],this.pendingRequest=null};j.prototype.fetchEventData=function(){var t=L("localStorage"),e="mapbox.eventData:"+(D.ACCESS_TOKEN||""),n="mapbox.eventData.uuid:"+(D.ACCESS_TOKEN||"");if(t)try{var r=self.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=self.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){w("Unable to read from LocalStorage")}},j.prototype.saveEventData=function(){var t=L("localStorage"),e="mapbox.eventData:"+(D.ACCESS_TOKEN||""),n="mapbox.eventData.uuid:"+(D.ACCESS_TOKEN||"");if(t)try{self.localStorage.setItem(n,this.anonId),this.eventData.lastSuccess&&self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){w("Unable to write to LocalStorage")}},j.prototype.processRequests=function(){},j.prototype.postEvent=function(t,e,n){var r=this,i=B(D.EVENTS_URL);i.params.push("access_token="+(D.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"0.51.0",userId:this.anonId},a=e?p(o,e):o,s={url:z(i),headers:{"Content-Type":"text/plain"},body:JSON.stringify([a])};this.pendingRequest=Q(s,function(t){r.pendingRequest=null,n(t),r.saveEventData(),r.processRequests()})},j.prototype.queueRequest=function(t){this.queue.push(t),this.processRequests()};var V=function(t){function e(){t.call(this,"map.load"),this.success={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e){D.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(t){return R(t)})&&this.queueRequest({id:e,timestamp:Date.now()})},e.prototype.processRequests=function(){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var e=this.queue.shift(),n=e.id,r=e.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=f()),this.postEvent(r,{},function(e){e||n&&(t.success[n]=!0)}))}},e}(j),H=new(function(t){function e(){t.call(this,"appUserTurnstile")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t){D.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(t){return R(t)})&&this.queueRequest(Date.now())},e.prototype.processRequests=function(){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var e=!!this.eventData.accessToken&&this.eventData.accessToken!==D.ACCESS_TOKEN;e&&(this.anonId=this.eventData.lastSuccess=null),this.anonId&&this.eventData.lastSuccess||this.fetchEventData(),m(this.anonId)||(this.anonId=f(),e=!0);var n=this.queue.shift();if(this.eventData.lastSuccess){var r=new Date(this.eventData.lastSuccess),i=new Date(n),o=(n-this.eventData.lastSuccess)/864e5;e=e||o>=1||o<-1||r.getDate()!==i.getDate()}else e=!0;if(!e)return this.processRequests();this.postEvent(n,{"enabled.telemetry":!1},function(e){e||(t.eventData.lastSuccess=n,t.eventData.accessToken=D.ACCESS_TOKEN)})}},e}(j)),U=H.postTurnstileEvent.bind(H),G=new V,q=G.postMapLoadEvent.bind(G),W={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(W);var Z=function(t){function e(e,n,r){401===n&&R(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens"),t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),X="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope?function(){return self.worker&&self.worker.referrer}:function(){var t=self.location.origin;if(t&&"null"!==t&&"file://"!==t)return t+self.location.pathname},J=self.fetch&&self.Request&&self.AbortController?function(t,e){var n=new self.AbortController,r=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:X(),signal:n.signal});return"json"===t.type&&r.headers.set("Accept","application/json"),self.fetch(r).then(function(n){n.ok?n[t.type||"text"]().then(function(t){e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires"))}).catch(function(t){return e(new Error(t.message))}):e(new Z(n.statusText,n.status,t.url))}).catch(function(t){e(new Error(t.message))}),{cancel:function(){return n.abort()}}}:function(t,e){var n=new self.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&n.setRequestHeader("Accept","application/json"),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new Z(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}},K=function(t,e){return J(p(t,{type:"arrayBuffer"}),e)},Q=function(t,e){return J(p(t,{method:"POST"}),e)},$=[],tt=0,et=function(t,e){if(tt>=D.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:e,cancelled:!1};return $.push(n),{cancel:function(){n.cancelled=!0}}}return tt++,K(t,function(t,n,r,i){for(tt--;$.length&&tt<D.MAX_PARALLEL_IMAGE_REQUESTS;){var o=$.shift();o.cancelled||et(o.requestParameters,o.callback)}if(t)e(t);else if(n){var a=new self.Image,s=self.URL||self.webkitURL;a.onload=function(){e(null,a),s.revokeObjectURL(a.src)},a.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var l=new self.Blob([new Uint8Array(n)],{type:"image/png"});a.cacheControl=r,a.expires=i,a.src=n.byteLength?s.createObjectURL(l):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})};function nt(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function rt(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var it=function(t,e){void 0===e&&(e={}),p(this,e),this.type=t},ot=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",p({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(it),at=function(){};at.prototype.on=function(t,e){return this._listeners=this._listeners||{},nt(t,e,this._listeners),this},at.prototype.off=function(t,e){return rt(t,e,this._listeners),rt(t,e,this._oneTimeListeners),this},at.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},nt(t,e,this._oneTimeListeners),this},at.prototype.fire=function(t){"string"==typeof t&&(t=new it(t,arguments[1]||{}));var e=t.type;if(this.listens(e)){t.target=this;for(var n=0,r=this._listeners&&this._listeners[e]?this._listeners[e].slice():[];n<r.length;n+=1)r[n].call(this,t);for(var i=0,o=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[];i<o.length;i+=1){var a=o[i];rt(e,a,this._oneTimeListeners),a.call(this,t)}var s=this._eventedParent;s&&(p(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),s.fire(t))}else t instanceof ot&&console.error(t.error);return this},at.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},at.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var st={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-z-order":{type:"enum",values:{"viewport-y":{},source:{}},default:"viewport-y",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},lt=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function ut(t){var e=t.value;return e?[new lt(t.key,e,"constants have been deprecated as of v8")]:[]}function ct(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function pt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function ht(t){return Array.isArray(t)?t.map(ht):pt(t)}var dt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),ft=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};ft.prototype.concat=function(t){return new ft(this,t)},ft.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},ft.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var mt={kind:"null"},gt={kind:"number"},yt={kind:"string"},_t={kind:"boolean"},vt={kind:"color"},bt={kind:"object"},xt={kind:"value"},wt={kind:"collator"},Mt={kind:"formatted"};function Ct(t,e){return{kind:"array",itemType:t,N:e}}function Lt(t){if("array"===t.kind){var e=Lt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Et=[mt,gt,yt,_t,vt,Mt,bt,Ct(xt)];function kt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!kt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=Et;n<r.length;n+=1)if(!kt(r[n],e))return null}return"Expected "+Lt(t)+" but found "+Lt(e)+" instead."}var Tt=e(function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return function(t){return t<0?0:t>1?1:t}("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),p=s.substr(l+1,u-(l+1)).split(","),h=1;switch(c){case"rgba":if(4!==p.length)return null;h=o(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),h];case"hsla":if(4!==p.length)return null;h=o(p.pop());case"hsl":if(3!==p.length)return null;var d=(parseFloat(p[0])%360+360)%360/360,f=o(p[1]),m=o(p[2]),g=m<=.5?m*(f+1):m+f-m*f,y=2*m-g;return[r(255*a(y,g,d+1/3)),r(255*a(y,g,d)),r(255*a(y,g,d-1/3)),h];default:return null}}return null}}catch(t){}}).parseCSSColor,St=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};St.parse=function(t){if(t){if(t instanceof St)return t;if("string"==typeof t){var e=Tt(t);if(e)return new St(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},St.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],r=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+r+")"},St.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},St.black=new St(0,0,0,1),St.white=new St(1,1,1,1),St.transparent=new St(0,0,0,0),St.red=new St(1,0,0,1);var At=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};At.prototype.compare=function(t,e){return this.collator.compare(t,e)},At.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Dt=function(t,e,n){this.text=t,this.scale=e,this.fontStack=n},It=function(t){this.sections=t};function Pt(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Ot(t){if(null===t)return mt;if("string"==typeof t)return yt;if("boolean"==typeof t)return _t;if("number"==typeof t)return gt;if(t instanceof St)return vt;if(t instanceof At)return wt;if(t instanceof It)return Mt;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=Ot(i[r]);if(e){if(e===o)continue;e=xt;break}e=o}return Ct(e||xt,n)}return bt}function Nt(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof St||t instanceof It?t.toString():JSON.stringify(t)}It.fromString=function(t){return new It([new Dt(t,null,null)])},It.prototype.toString=function(){return this.sections.map(function(t){return t.text}).join("")},It.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),t.push(i)}return t};var Rt=function(t,e){this.type=t,this.value=e};Rt.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof St)return!0;if(e instanceof At)return!0;if(e instanceof It)return!0;if(Array.isArray(e)){for(var n=0,r=e;n<r.length;n+=1)if(!t(r[n]))return!1;return!0}if("object"==typeof e){for(var i in e)if(!t(e[i]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");var n=t[1],r=Ot(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new Rt(r,n)},Rt.prototype.evaluate=function(){return this.value},Rt.prototype.eachChild=function(){},Rt.prototype.possibleOutputs=function(){return[this.value]},Rt.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof St?["rgba"].concat(this.value.toArray()):this.value instanceof It?this.value.serialize():this.value};var Ft=function(t){this.name="ExpressionEvaluationError",this.message=t};Ft.prototype.toJSON=function(){return this.message};var Yt={string:yt,number:gt,boolean:_t,object:bt},Bt=function(t,e){this.type=t,this.args=e};Bt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in Yt)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=Yt[s],r++}else o=xt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=Ct(o,a)}else n=Yt[i];for(var l=[];r<t.length;r++){var u=e.parse(t[r],r,xt);if(!u)return null;l.push(u)}return new Bt(n,l)},Bt.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!kt(this.type,Ot(n)))return n;if(e===this.args.length-1)throw new Ft("Expected value to be of type "+Lt(this.type)+", but found "+Lt(Ot(n))+" instead.")}return null},Bt.prototype.eachChild=function(t){this.args.forEach(t)},Bt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},Bt.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map(function(t){return t.serialize()}))};var zt=function(t){this.type=Mt,this.sections=t};zt.parse=function(t,e){if(t.length<3)return e.error("Expected at least two arguments.");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");for(var n=[],r=1;r<t.length-1;r+=2){var i=e.parse(t[r],1,xt);if(!i)return null;var o=i.type.kind;if("string"!==o&&"value"!==o&&"null"!==o)return e.error("Formatted text type must be 'string', 'value', or 'null'.");var a=t[r+1];if("object"!=typeof a||Array.isArray(a))return e.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,gt)))return null;var l=null;if(a["text-font"]&&!(l=e.parse(a["text-font"],1,Ct(yt))))return null;n.push({text:i,scale:s,font:l})}return new zt(n)},zt.prototype.evaluate=function(t){return new It(this.sections.map(function(e){return new Dt(Nt(e.text.evaluate(t)),e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null)}))},zt.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.text),r.scale&&t(r.scale),r.font&&t(r.font)}},zt.prototype.possibleOutputs=function(){return[void 0]},zt.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),t.push(i)}return t};var jt={"to-boolean":_t,"to-color":vt,"to-number":gt,"to-string":yt},Vt=function(t,e){this.type=t,this.args=e};Vt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=jt[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,xt);if(!a)return null;i.push(a)}return new Vt(r,i)},Vt.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof St)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":Pt(e[0],e[1],e[2],e[3])))return new St(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new Ft(n||"Could not parse color from value '"+("string"==typeof e?e:JSON.stringify(e))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(t)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new Ft("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?It.fromString(Nt(this.args[0].evaluate(t))):Nt(this.args[0].evaluate(t))},Vt.prototype.eachChild=function(t){this.args.forEach(t)},Vt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},Vt.prototype.serialize=function(){if("formatted"===this.type.kind)return new zt([{text:this.args[0],scale:null,font:null}]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(e){t.push(e.serialize())}),t};var Ht=["Unknown","Point","LineString","Polygon"],Ut=function(){this.globals=null,this.feature=null,this.featureState=null,this._parseColorCache={}};Ut.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ut.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Ht[this.feature.type]:this.feature.type:null},Ut.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ut.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=St.parse(t)),e};var Gt=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};Gt.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Gt.prototype.eachChild=function(t){this.args.forEach(t)},Gt.prototype.possibleOutputs=function(){return[void 0]},Gt.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},Gt.parse=function(t,e){var n=t[0],r=Gt.definitions[n];if(!r)return e.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter(function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1}),s=null,l=0,u=a;l<u.length;l+=1){var c=u[l],p=c[0],h=c[1];s=new Kt(e.registry,e.path,null,e.scope);for(var d=[],f=!1,m=1;m<t.length;m++){var g=t[m],y=Array.isArray(p)?p[m-1]:p.type,_=s.parse(g,1+d.length,y);if(!_){f=!0;break}d.push(_)}if(!f)if(Array.isArray(p)&&p.length!==d.length)s.error("Expected "+p.length+" arguments, but found "+d.length+" instead.");else{for(var v=0;v<d.length;v++){var b=Array.isArray(p)?p[v]:p.type,x=d[v];s.concat(v+1).checkSubtype(b,x.type)}if(0===s.errors.length)return new Gt(n,i,h,d)}}if(1===a.length)e.errors.push.apply(e.errors,s.errors);else{for(var w=(a.length?a:o).map(function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Lt).join(", ")+")":"("+Lt(e.type)+"...)"}).join(" | "),M=[],C=1;C<t.length;C++){var L=e.parse(t[C],1+M.length);if(!L)return null;M.push(Lt(L.type))}e.error("Expected arguments of type "+w+", but found ("+M.join(", ")+") instead.")}return null},Gt.register=function(t,e){for(var n in Gt.definitions=e,e)t[n]=Gt};var qt=function(t,e,n){this.type=wt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function Wt(t){if(t instanceof Gt){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild(function(t){e&&!Wt(t)&&(e=!1)}),e}function Zt(t){if(t instanceof Gt&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild(function(t){e&&!Zt(t)&&(e=!1)}),e}function Xt(t,e){if(t instanceof Gt&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild(function(t){n&&!Xt(t,e)&&(n=!1)}),n}qt.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,_t);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,_t);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,yt))?null:new qt(r,i,o)},qt.prototype.evaluate=function(t){return new At(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},qt.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},qt.prototype.possibleOutputs=function(){return[void 0]},qt.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Jt=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Jt.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Jt(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Jt.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Jt.prototype.eachChild=function(){},Jt.prototype.possibleOutputs=function(){return[void 0]},Jt.prototype.serialize=function(){return["var",this.name]};var Kt=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new ft),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Qt(t,e){for(var n,r=0,i=t.length-1,o=0;r<=i;){if(e===(n=t[o=Math.floor((r+i)/2)])||e>n&&e<t[o+1])return o;if(n<e)r=o+1;else{if(!(n>e))throw new Ft("Input is not a number.");i=o-1}}return Math.max(o-1,0)}Kt.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Kt.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new Bt(e,[t]):"coerce"===n?new Vt(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof Rt)&&function t(e){if(e instanceof Jt)return t(e.boundExpression);if(e instanceof Gt&&"error"===e.name)return!1;if(e instanceof qt)return!1;var n=e instanceof Vt||e instanceof Bt,r=!0;return e.eachChild(function(e){r=n?r&&t(e):r&&e instanceof Rt}),!!r&&Wt(e)&&Xt(e,["zoom","heatmap-density","line-progress","is-supported-script"])}(o)){var l=new Ut;try{o=new Rt(o.type,o.evaluate(l))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},Kt.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Kt(this.registry,r,e||null,i,this.errors)},Kt.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new dt(r,t))},Kt.prototype.checkSubtype=function(t,e){var n=kt(t,e);return n&&this.error(n),n};var $t=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};$t.parse=function(t,e){var n=t[1],r=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,1,gt)))return null;var i=[],o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType),r.unshift(-1/0);for(var a=0;a<r.length;a+=2){var s=r[a],l=r[a+1],u=a+1,c=a+2;if("number"!=typeof s)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=s)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var p=e.parse(l,c,o);if(!p)return null;o=o||p.type,i.push([s,p])}return new $t(o,n,i)},$t.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[Qt(e,r)].evaluate(t)},$t.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},$t.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},$t.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var te=ee;function ee(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}function ne(t,e,n){return t*(1-n)+e*n}ee.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},ee.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},ee.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},ee.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},ee.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var re=Object.freeze({number:ne,color:function(t,e,n){return new St(ne(t.r,e.r,n),ne(t.g,e.g,n),ne(t.b,e.b,n),ne(t.a,e.a,n))},array:function(t,e,n){return t.map(function(t,r){return ne(t,e[r],n)})}}),ie=.95047,oe=1,ae=1.08883,se=4/29,le=6/29,ue=3*le*le,ce=le*le*le,pe=Math.PI/180,he=180/Math.PI;function de(t){return t>ce?Math.pow(t,1/3):t/ue+se}function fe(t){return t>le?t*t*t:ue*(t-se)}function me(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ge(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=ge(t.r),n=ge(t.g),r=ge(t.b),i=de((.4124564*e+.3575761*n+.1804375*r)/ie),o=de((.2126729*e+.7151522*n+.072175*r)/oe);return{l:116*o-16,a:500*(i-o),b:200*(o-de((.0193339*e+.119192*n+.9503041*r)/ae)),alpha:t.a}}function _e(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=oe*fe(e),n=ie*fe(n),r=ae*fe(r),new St(me(3.2404542*n-1.5371385*e-.4985314*r),me(-.969266*n+1.8760108*e+.041556*r),me(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}var ve={forward:ye,reverse:_e,interpolate:function(t,e,n){return{l:ne(t.l,e.l,n),a:ne(t.a,e.a,n),b:ne(t.b,e.b,n),alpha:ne(t.alpha,e.alpha,n)}}},be={forward:function(t){var e=ye(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*he;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*pe,n=t.c;return _e({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:function(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}(t.h,e.h,n),c:ne(t.c,e.c,n),l:ne(t.l,e.l,n),alpha:ne(t.alpha,e.alpha,n)}}},xe=Object.freeze({lab:ve,hcl:be}),we=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function Me(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}we.interpolationFactor=function(t,e,n,r){var i=0;if("exponential"===t.name)i=Me(e,t.base,n,r);else if("linear"===t.name)i=Me(e,1,n,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;i=new te(o[0],o[1],o[2],o[3]).solve(Me(e,1,n,r))}return i},we.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some(function(t){return"number"!=typeof t||t<0||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,gt)))return null;var l=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=vt:e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var c=0;c<o.length;c+=2){var p=o[c],h=o[c+1],d=c+3,f=c+4;if("number"!=typeof p)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(l.length&&l[l.length-1][0]>=p)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var m=e.parse(h,f,u);if(!m)return null;u=u||m.type,l.push([p,m])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new we(u,n,r,i,l):e.error("Type "+Lt(u)+" is not interpolatable.")},we.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Qt(e,r),a=we.interpolationFactor(this.interpolation,r,e[o],e[o+1]),s=n[o].evaluate(t),l=n[o+1].evaluate(t);return"interpolate"===this.operator?re[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?be.reverse(be.interpolate(be.forward(s),be.forward(l),a)):ve.reverse(ve.interpolate(ve.forward(s),ve.forward(l),a))},we.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},we.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},we.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var Ce=function(t,e){this.type=t,this.args=e};Ce.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=e.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var l=r&&i.some(function(t){return kt(r,t.type)});return new Ce(l?xt:n,i)},Ce.prototype.evaluate=function(t){for(var e=null,n=0,r=this.args;n<r.length&&null===(e=r[n].evaluate(t));n+=1);return e},Ce.prototype.eachChild=function(t){this.args.forEach(t)},Ce.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},Ce.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(e){t.push(e.serialize())}),t};var Le=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};Le.prototype.evaluate=function(t){return this.result.evaluate(t)},Le.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},Le.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new Le(n,a):null},Le.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Le.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e];t.push(r[0],r[1].serialize())}return t.push(this.result.serialize()),t};var Ee=function(t,e,n){this.type=t,this.index=e,this.input=n};Ee.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,gt),r=e.parse(t[2],2,Ct(e.expectedType||xt));return n&&r?new Ee(r.type.itemType,n,r):null},Ee.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new Ft("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new Ft("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new Ft("Array index must be an integer, but found "+e+" instead.");return n[e]},Ee.prototype.eachChild=function(t){t(this.index),t(this.input)},Ee.prototype.possibleOutputs=function(){return[void 0]},Ee.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ke=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};ke.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],l=t[a+1];Array.isArray(s)||(s=[s]);var u=e.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var h=p[c];if("number"!=typeof h&&"string"!=typeof h)return u.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,Ot(h)))return null}else n=Ot(h);if(void 0!==i[String(h)])return u.error("Branch labels must be unique.");i[String(h)]=o.length}var d=e.parse(l,a,r);if(!d)return null;r=r||d.type,o.push(d)}var f=e.parse(t[1],1,xt);if(!f)return null;var m=e.parse(t[t.length-1],t.length-1,r);return m?"value"!==f.type.kind&&e.concat(1).checkSubtype(n,f.type)?null:new ke(n,r,f,i,o,m):null},ke.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(Ot(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},ke.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},ke.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},ke.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i],s=r[t.cases[a]];void 0===s?(r[t.cases[a]]=n.length,n.push([t.cases[a],[a]])):n[s][1].push(a)}for(var l=function(e){return"number"===t.inputType.kind?Number(e):e},u=0,c=n;u<c.length;u+=1){var p=c[u],h=p[0],d=p[1];e.push(1===d.length?l(d[0]):d.map(l)),e.push(t.outputs[h].serialize())}return e.push(this.otherwise.serialize()),e};var Te=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};function Se(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Ae(t,e,n,r){return 0===r.compare(e,n)}function De(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=_t,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,xt);if(!o)return null;if(!Se(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Lt(o.type)+"'.");var a=e.parse(t[2],2,xt);if(!a)return null;if(!Se(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Lt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Lt(o.type)+"' and '"+Lt(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Bt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Bt(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,wt)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=Ot(o),l=Ot(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Ft('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var u=Ot(o),c=Ot(a);if("string"!==u.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var e=[t];return this.eachChild(function(t){e.push(t.serialize())}),e},i}()}Te.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,_t);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new Te(n,r,s):null},Te.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];if(r[0].evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},Te.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];t(r[0]),t(i)}t(this.otherwise)},Te.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map(function(t){return t[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},Te.prototype.serialize=function(){var t=["case"];return this.eachChild(function(e){t.push(e.serialize())}),t};var Ie=De("==",function(t,e,n){return e===n},Ae),Pe=De("!=",function(t,e,n){return e!==n},function(t,e,n,r){return!Ae(0,e,n,r)}),Oe=De("<",function(t,e,n){return e<n},function(t,e,n,r){return r.compare(e,n)<0}),Ne=De(">",function(t,e,n){return e>n},function(t,e,n,r){return r.compare(e,n)>0}),Re=De("<=",function(t,e,n){return e<=n},function(t,e,n,r){return r.compare(e,n)<=0}),Fe=De(">=",function(t,e,n){return e>=n},function(t,e,n,r){return r.compare(e,n)>=0}),Ye=function(t){this.type=gt,this.input=t};Ye.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+Lt(n.type)+" instead."):new Ye(n):null},Ye.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new Ft("Expected value to be of type string or array, but found "+Lt(Ot(e))+" instead.")},Ye.prototype.eachChild=function(t){t(this.input)},Ye.prototype.possibleOutputs=function(){return[void 0]},Ye.prototype.serialize=function(){var t=["length"];return this.eachChild(function(e){t.push(e.serialize())}),t};var Be={"==":Ie,"!=":Pe,">":Ne,"<":Oe,">=":Fe,"<=":Re,array:Bt,at:Ee,boolean:Bt,case:Te,coalesce:Ce,collator:qt,format:zt,interpolate:we,"interpolate-hcl":we,"interpolate-lab":we,length:Ye,let:Le,literal:Rt,match:ke,number:Bt,object:Bt,step:$t,string:Bt,"to-boolean":Vt,"to-color":Vt,"to-number":Vt,"to-string":Vt,var:Jt};function ze(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=Pt(n,r,i,a);if(s)throw new Ft(s);return new St(n/255*a,r/255*a,i/255*a,a)}function je(t,e){return t in e}function Ve(t,e){var n=e[t];return void 0===n?null:n}function He(t){return{type:t}}function Ue(t){return{result:"success",value:t}}function Ge(t){return{result:"error",value:t}}function qe(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function We(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Ze(t){return!!t.expression&&t.expression.interpolated}function Xe(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Je(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Ke(t){return t}function Qe(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function $e(t,e,n,r,i){return Qe(typeof n===i?r[n]:void 0,t.default,e.default)}function tn(t,e,n){if("number"!==Xe(n))return Qe(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=rn(t.stops,n);return t.stops[i][1]}function en(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==Xe(n))return Qe(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=rn(t.stops,n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],l=t.stops[o+1][1],u=re[e.type]||Ke;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=xe[t.colorSpace];u=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return u(n,r,a)}}:u(s,l,a)}function nn(t,e,n){return"color"===e.type?n=St.parse(n):"formatted"===e.type?n=It.fromString(n.toString()):Xe(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Qe(n,t.default,e.default)}function rn(t,e){for(var n,r=0,i=t.length-1,o=0;r<=i;){if(e===(n=t[o=Math.floor((r+i)/2)][0])||e>n&&e<t[o+1][0])return o;n<e?r=o+1:n>e&&(i=o-1)}return Math.max(o-1,0)}Gt.register(Be,{error:[{kind:"error"},[yt],function(t,e){throw new Ft(e[0].evaluate(t))}],typeof:[yt,[xt],function(t,e){return Lt(Ot(e[0].evaluate(t)))}],"to-rgba":[Ct(gt,4),[vt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[vt,[gt,gt,gt],ze],rgba:[vt,[gt,gt,gt,gt],ze],has:{type:_t,overloads:[[[yt],function(t,e){return je(e[0].evaluate(t),t.properties())}],[[yt,bt],function(t,e){var n=e[1];return je(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:xt,overloads:[[[yt],function(t,e){return Ve(e[0].evaluate(t),t.properties())}],[[yt,bt],function(t,e){var n=e[1];return Ve(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[xt,[yt],function(t,e){return Ve(e[0].evaluate(t),t.featureState||{})}],properties:[bt,[],function(t){return t.properties()}],"geometry-type":[yt,[],function(t){return t.geometryType()}],id:[xt,[],function(t){return t.id()}],zoom:[gt,[],function(t){return t.globals.zoom}],"heatmap-density":[gt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[gt,[],function(t){return t.globals.lineProgress||0}],"+":[gt,He(gt),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[gt,He(gt),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:gt,overloads:[[[gt,gt],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[gt],function(t,e){return-e[0].evaluate(t)}]]},"/":[gt,[gt,gt],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[gt,[gt,gt],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[gt,[],function(){return Math.LN2}],pi:[gt,[],function(){return Math.PI}],e:[gt,[],function(){return Math.E}],"^":[gt,[gt,gt],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[gt,[gt],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[gt,[gt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[gt,[gt],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[gt,[gt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[gt,[gt],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[gt,[gt],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[gt,[gt],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[gt,[gt],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[gt,[gt],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[gt,[gt],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[gt,He(gt),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[gt,He(gt),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],abs:[gt,[gt],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[gt,[gt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[gt,[gt],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[gt,[gt],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[_t,[yt,xt],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[_t,[xt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[_t,[yt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[_t,[yt,xt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[_t,[xt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[_t,[yt,xt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[_t,[xt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[_t,[yt,xt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[_t,[xt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[_t,[yt,xt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[_t,[xt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[_t,[xt],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[_t,[],function(t){return null!==t.id()}],"filter-type-in":[_t,[Ct(yt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[_t,[Ct(xt)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[_t,[yt,Ct(xt)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[_t,[yt,Ct(xt)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:_t,overloads:[[[_t,_t],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[He(_t),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:_t,overloads:[[[_t,_t],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[He(_t),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[_t,[_t],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[_t,[yt],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[yt,[yt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[yt,[yt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[yt,He(xt),function(t,e){return e.map(function(e){return Nt(e.evaluate(t))}).join("")}],"resolved-locale":[yt,[wt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var on=function(t,e){var n;this.expression=t,this._warningHistory={},this._evaluator=new Ut,this._defaultValue="color"===(n=e).type&&Je(n.default)?new St(0,0,0,0):"color"===n.type?St.parse(n.default)||null:void 0===n.default?null:n.default,this._enumValues="enum"===e.type?e.values:null};function an(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Be}function sn(t,e){var n=new Kt(Be,[],function(t){var e={color:vt,string:yt,number:gt,enum:yt,boolean:_t,formatted:Mt};return"array"===t.type?Ct(e[t.value]||xt,t.length):e[t.type]}(e)),r=n.parse(t,void 0,void 0,void 0,"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?Ue(new on(r,e)):Ge(n.errors)}on.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this.expression.evaluate(this._evaluator)},on.prototype.evaluate=function(t,e,n){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null;try{var r=this.expression.evaluate(this._evaluator);if(null==r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new Ft("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var ln=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Zt(e.expression)};ln.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},ln.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)};var un=function(t,e,n){this.kind=t,this.zoomStops=n.labels,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Zt(e.expression),n instanceof we&&(this._interpolationType=n.interpolation)};function cn(t,e){if("error"===(t=sn(t,e)).result)return t;var n=t.value.expression,r=Wt(n);if(!r&&!qe(e))return Ge([new dt("","data expressions not supported")]);var i=Xt(n,["zoom"]);if(!i&&!We(e))return Ge([new dt("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof Le)n=t(e.result);else if(e instanceof Ce)for(var r=0,i=e.args;r<i.length&&!(n=t(i[r]));r+=1);else(e instanceof $t||e instanceof we)&&e.input instanceof Gt&&"zoom"===e.input.name&&(n=e);return n instanceof dt?n:(e.eachChild(function(e){var r=t(e);r instanceof dt?n=r:!n&&r?n=new dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new dt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n)}(n);return o||i?o instanceof dt?Ge([o]):o instanceof we&&!Ze(e)?Ge([new dt("",'"interpolate" expressions cannot be used with this property')]):Ue(o?new un(r?"camera":"composite",t.value,o):new ln(r?"constant":"source",t.value)):Ge([new dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}un.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},un.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)},un.prototype.interpolationFactor=function(t,e,n){return this._interpolationType?we.interpolationFactor(this._interpolationType,t,e,n):0};var pn=function(t,e){this._parameters=t,this._specification=e,ct(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],l=s||!(s||void 0!==e.property),u=e.type||(Ze(n)?"exponential":"interval");if(a&&((e=ct({},e)).stops&&(e.stops=e.stops.map(function(t){return[t[0],St.parse(t[1])]})),e.default=St.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!xe[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===u)r=en;else if("interval"===u)r=tn;else if("categorical"===u){r=$e,i=Object.create(null);for(var c=0,p=e.stops;c<p.length;c+=1){var h=p[c];i[h[0]]=h[1]}o=typeof e.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');r=nn}if(s){for(var d={},f=[],m=0;m<e.stops.length;m++){var g=e.stops[m],y=g[0].zoom;void 0===d[y]&&(d[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},f.push(y)),d[y].stops.push([g[0].value,g[1]])}for(var _=[],v=0,b=f;v<b.length;v+=1){var x=b[v];_.push([d[x].zoom,t(d[x],n)])}return{kind:"composite",interpolationFactor:we.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:_.map(function(t){return t[0]}),evaluate:function(t,r){var i=t.zoom;return en({stops:_,base:e.base},n,i).evaluate(i,r)}}}return l?{kind:"camera",interpolationFactor:"exponential"===u?we.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==e.base?e.base:1}):function(){return 0},zoomStops:e.stops.map(function(t){return t[0]}),evaluate:function(t){return r(e,n,t.zoom,i,o)}}:{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?Qe(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))};function hn(t,e){if(Je(t))return new pn(t,e);if(an(t)){var n=cn(t,e);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=St.parse(t)),{kind:"constant",evaluate:function(){return r}}}function dn(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],l=Xe(n);if("object"!==l)return[new lt(e,n,"object expected, "+l+" found")];for(var u in n){var c=u.split(".")[0],p=r[c]||r["*"],h=void 0;if(i[c])h=i[c];else if(r[c])h=Fn;else if(i["*"])h=i["*"];else{if(!r["*"]){s.push(new lt(e,n[u],'unknown property "'+u+'"'));continue}h=Fn}s=s.concat(h({key:(e?e+".":e)+u,value:n[u],valueSpec:p,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var d in r)i[d]||r[d].required&&void 0===r[d].default&&void 0===n[d]&&s.push(new lt(e,n,'missing required property "'+d+'"'));return s}function fn(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||Fn;if("array"!==Xe(e))return[new lt(o,e,"array expected, "+Xe(e)+" found")];if(n.length&&e.length!==n.length)return[new lt(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new lt(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value};i.$version<7&&(s.function=n.function),"object"===Xe(n.value)&&(s=n.value);for(var l=[],u=0;u<e.length;u++)l=l.concat(a({array:e,arrayIndex:u,value:e[u],valueSpec:s,style:r,styleSpec:i,key:o+"["+u+"]"}));return l}function mn(t){var e=t.key,n=t.value,r=t.valueSpec,i=Xe(n);return"number"!==i?[new lt(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new lt(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new lt(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function gn(t){var e,n,r,i=t.valueSpec,o=pt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,l=!s,u="array"===Xe(t.value.stops)&&"array"===Xe(t.value.stops[0])&&"object"===Xe(t.value.stops[0][0]),c=dn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new lt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(fn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:p})),"array"===Xe(n)&&0===n.length&&e.push(new lt(t.key,n,"array must have at least one stop")),e},default:function(t){return Fn({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new lt(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new lt(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Ze(t.valueSpec)&&c.push(new lt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!qe(t.valueSpec)?c.push(new lt(t.key,t.value,"property functions not supported")):s&&!We(t.valueSpec)&&c.push(new lt(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==t.value.property||c.push(new lt(t.key,t.value,'"property" property is required')),c;function p(t){var e=[],o=t.value,s=t.key;if("array"!==Xe(o))return[new lt(s,o,"array expected, "+Xe(o)+" found")];if(2!==o.length)return[new lt(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==Xe(o[0]))return[new lt(s,o,"object expected, "+Xe(o[0])+" found")];if(void 0===o[0].zoom)return[new lt(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new lt(s,o,"object stop key must have value")];if(r&&r>pt(o[0].zoom))return[new lt(s,o[0].zoom,"stop zoom values must appear in ascending order")];pt(o[0].zoom)!==r&&(r=pt(o[0].zoom),n=void 0,a={}),e=e.concat(dn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:mn,value:h}}))}else e=e.concat(h({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return an(ht(o[1]))?e.concat([new lt(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(Fn({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function h(t,r){var s=Xe(t.value),l=pt(t.value),u=null!==t.value?t.value:r;if(e){if(s!==e)return[new lt(t.key,u,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new lt(t.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return qe(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new lt(t.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==n&&l<n?[new lt(t.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===o&&l in a?[new lt(t.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new lt(t.key,u,"integer expected, found "+l)]}}function yn(t){var e=("property"===t.expressionContext?cn:sn)(ht(t.value),t.valueSpec);return"error"===e.result?e.value.map(function(e){return new lt(""+t.key+e.key,t.value,e.message)}):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new lt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')]:"property"!==t.expressionContext||"layout"!==t.propertyType||Zt(e.value._styleExpression.expression)?"filter"!==t.expressionContext||Zt(e.value.expression)?[]:[new lt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')]:[new lt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')]}function _n(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(pt(n))&&i.push(new lt(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(pt(n))&&i.push(new lt(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function vn(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!vn(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}pn.deserialize=function(t){return new pn(t._parameters,t._specification)},pn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var bn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function xn(t){if(null==t)return function(){return!0};vn(t)||(t=Mn(t));var e=sn(t,bn);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function wn(t,e){return t<e?-1:t>e?1:0}function Mn(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?Cn(t[1],t[2],"=="):"!="===n?kn(Cn(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Cn(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(Mn))):"all"===n?["all"].concat(t.slice(1).map(Mn)):"none"===n?["all"].concat(t.slice(1).map(Mn).map(kn)):"in"===n?Ln(t[1],t.slice(2)):"!in"===n?kn(Ln(t[1],t.slice(2))):"has"===n?En(t[1]):"!has"!==n||kn(En(t[1]))}function Cn(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function Ln(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(wn)]]:["filter-in-small",t,["literal",e]]}}function En(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function kn(t){return["!",t]}function Tn(t){return vn(ht(t.value))?yn(ct({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==Xe(n))return[new lt(r,n,"array expected, "+Xe(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new lt(r,n,"filter array must have at least 1 element")];switch(a=a.concat(_n({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),pt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===pt(n[1])&&a.push(new lt(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new lt(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Xe(n[1]))&&a.push(new lt(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Xe(n[s]),"$type"===pt(n[1])?a=a.concat(_n({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new lt(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)a=a.concat(t({key:r+"["+l+"]",value:n[l],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Xe(n[1]),2!==n.length?a.push(new lt(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new lt(r+"[1]",n[1],"string expected, "+i+" found"))}return a}(t)}function Sn(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return Fn({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var u,c=t.valueSpec||s[a];if(!c)return[new lt(n,o,'unknown property "'+a+'"')];if("string"===Xe(o)&&qe(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new lt(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var p=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&p.push(new lt(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Je(ht(o))&&"identity"===pt(o.type)&&p.push(new lt(n,o,'"text-font" does not support identity functions'))),p.concat(Fn({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function An(t){return Sn(t,"paint")}function Dn(t){return Sn(t,"layout")}function In(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new lt(r,n,'either "type" or "ref" is required'));var a,s=pt(n.type),l=pt(n.ref);if(n.id)for(var u=pt(n.id),c=0;c<t.arrayIndex;c++){var p=i.layers[c];pt(p.id)===u&&e.push(new lt(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+p.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new lt(r,n[t],'"'+t+'" is prohibited for ref layers'))}),i.layers.forEach(function(t){pt(t.id)===l&&(a=t)}),a?a.ref?e.push(new lt(r,n.ref,"ref cannot reference another ref layer")):s=pt(a.type):e.push(new lt(r,n.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(n.source){var h=i.sources&&i.sources[n.source],d=h&&pt(h.type);h?"vector"===d&&"raster"===s?e.push(new lt(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===d&&"raster"!==s?e.push(new lt(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==d||n["source-layer"]?"raster-dem"===d&&"hillshade"!==s?e.push(new lt(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===d&&h.lineMetrics||e.push(new lt(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new lt(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new lt(r,n.source,'source "'+n.source+'" not found'))}else e.push(new lt(r,n,'missing required property "source"'));return e=e.concat(dn({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Fn({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:Tn,layout:function(t){return dn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Dn(ct({layerType:s},t))}}})},paint:function(t){return dn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return An(ct({layerType:s},t))}}})}}}))}function Pn(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new lt(n,e,'"type" is required')];var o=pt(e.type),a=[];switch(o){case"vector":case"raster":case"raster-dem":if(a=a.concat(dn({key:n,value:e,valueSpec:r["source_"+o.replace("-","_")],style:t.style,styleSpec:r})),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&a.push(new lt(n+"."+s,e[s],'a source with a "url" property may not include a "'+s+'" property'));return a;case"geojson":return dn({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r});case"video":return dn({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return dn({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return a.push(new lt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")),a;default:return _n({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function On(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=Xe(e);if(void 0===e)return o;if("object"!==a)return o.concat([new lt("light",e,"object expected, "+a+" found")]);for(var s in e){var l=s.match(/^(.*)-transition$/);o=o.concat(l&&r[l[1]]&&r[l[1]].transition?Fn({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Fn({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n}):[new lt(s,e[s],'unknown property "'+s+'"')])}return o}function Nn(t){var e=t.value,n=t.key,r=Xe(e);return"string"!==r?[new lt(n,e,"string expected, "+r+" found")]:[]}var Rn={"*":function(){return[]},array:fn,boolean:function(t){var e=t.value,n=t.key,r=Xe(e);return"boolean"!==r?[new lt(n,e,"boolean expected, "+r+" found")]:[]},number:mn,color:function(t){var e=t.key,n=t.value,r=Xe(n);return"string"!==r?[new lt(e,n,"color expected, "+r+" found")]:null===Tt(n)?[new lt(e,n,'color expected, "'+n+'" found')]:[]},constants:ut,enum:_n,filter:Tn,function:gn,layer:In,object:dn,source:Pn,light:On,string:Nn,formatted:function(t){return 0===Nn(t).length?[]:yn(t)}};function Fn(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&Je(pt(e))?gn(t):n.expression&&an(ht(e))?yn(t):n.type&&Rn[n.type]?Rn[n.type](t):dn(ct({},t,{valueSpec:n.type?r[n.type]:n}))}function Yn(t){var e=t.value,n=t.key,r=Nn(t);return r.length?r:(-1===e.indexOf("{fontstack}")&&r.push(new lt(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new lt(n,e,'"glyphs" url must include a "{range}" token')),r)}function Bn(t,e){var n=[];return n=n.concat(Fn({key:"",value:t,valueSpec:(e=e||st).$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Yn,"*":function(){return[]}}})),t.constants&&(n=n.concat(ut({key:"constants",value:t.constants,style:t,styleSpec:e}))),zn(n)}function zn(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function jn(t){return function(){return zn(t.apply(this,arguments))}}Bn.source=jn(Pn),Bn.light=jn(On),Bn.layer=jn(In),Bn.filter=jn(Tn),Bn.paintProperty=jn(An),Bn.layoutProperty=jn(Dn);var Vn=Bn,Hn=Bn.light,Un=Bn.paintProperty,Gn=Bn.layoutProperty;function qn(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1)t.fire(new ot(new Error(i[r].message))),n=!0;return n}var Wn=Xn,Zn=3;function Xn(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[Zn+o],s=i[Zn+o+1];r.push(a===s?null:i.subarray(a,s))}var l=i[Zn+r.length+1];this.keys=i.subarray(i[Zn+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var c=n/e*t;this.min=-c,this.max=t+c}Xn.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Xn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Xn.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},Xn.prototype.query=function(t,e,n,r){var i=this.min,o=this.max;if(t<=i&&e<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(t,e,n,r,this._queryCell,a,{}),a},Xn.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var l=this.keys,u=this.bboxes,c=0;c<s.length;c++){var p=s[c];if(void 0===a[p]){var h=4*p;t<=u[h+2]&&e<=u[h+3]&&n>=u[h+0]&&r>=u[h+1]?(a[p]=!0,o.push(l[p])):a[p]=!1}}},Xn.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(n),c=this._convertToCellCoord(r),p=s;p<=u;p++)for(var h=l;h<=c;h++)if(i.call(this,t,e,n,r,this.d*h+p,o,a))return},Xn.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Xn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=Zn+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[Zn+a]=o,i.set(s,o),o+=s.length}return i[Zn+t.length]=o,i.set(this.keys,o),i[Zn+t.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Jn=self.ImageData,Kn={};function Qn(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Kn[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var $n in Qn("Object",Object),Wn.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Wn.deserialize=function(t){return new Wn(t.buffer)},Qn("Grid",Wn),Qn("Color",St),Qn("Error",Error),Qn("StylePropertyFunction",pn),Qn("StyleExpression",on,{omit:["_evaluator"]}),Qn("ZoomDependentExpression",un),Qn("ZoomConstantExpression",ln),Qn("CompoundExpression",Gt,{omit:["_evaluate"]}),Be)Be[$n]._classRegistryKey||Qn("Expression_"+$n,Be[$n]);function tr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof Jn)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1)r.push(tr(o[i],e));return r}if("object"==typeof t){var a=t.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var l=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var u in t)if(t.hasOwnProperty(u)&&!(Kn[s].omit.indexOf(u)>=0)){var c=t[u];l[u]=Kn[s].shallow.indexOf(u)>=0?c:tr(c,e)}t instanceof Error&&(l.message=t.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(l.$name=s),l}throw new Error("can't serialize object of type "+typeof t)}function er(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof Jn)return t;if(Array.isArray(t))return t.map(er);if("object"==typeof t){var e=t.$name||"Object",n=Kn[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=t[a];r[a]=Kn[e].shallow.indexOf(a)>=0?s:er(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}var nr=function(){this.first=!0};nr.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var rr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function ir(t){for(var e=0,n=t;e<n.length;e+=1)if(ar(n[e].charCodeAt(0)))return!0;return!1}function or(t){return!(rr.Arabic(t)||rr["Arabic Supplement"](t)||rr["Arabic Extended-A"](t)||rr["Arabic Presentation Forms-A"](t)||rr["Arabic Presentation Forms-B"](t))}function ar(t){return!(746!==t&&747!==t&&(t<4352||!(rr["Bopomofo Extended"](t)||rr.Bopomofo(t)||rr["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||rr["CJK Compatibility Ideographs"](t)||rr["CJK Compatibility"](t)||rr["CJK Radicals Supplement"](t)||rr["CJK Strokes"](t)||!(!rr["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||rr["CJK Unified Ideographs Extension A"](t)||rr["CJK Unified Ideographs"](t)||rr["Enclosed CJK Letters and Months"](t)||rr["Hangul Compatibility Jamo"](t)||rr["Hangul Jamo Extended-A"](t)||rr["Hangul Jamo Extended-B"](t)||rr["Hangul Jamo"](t)||rr["Hangul Syllables"](t)||rr.Hiragana(t)||rr["Ideographic Description Characters"](t)||rr.Kanbun(t)||rr["Kangxi Radicals"](t)||rr["Katakana Phonetic Extensions"](t)||rr.Katakana(t)&&12540!==t||!(!rr["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!rr["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||rr["Unified Canadian Aboriginal Syllabics"](t)||rr["Unified Canadian Aboriginal Syllabics Extended"](t)||rr["Vertical Forms"](t)||rr["Yijing Hexagram Symbols"](t)||rr["Yi Syllables"](t)||rr["Yi Radicals"](t))))}function sr(t){return!(ar(t)||function(t){return!!(rr["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||rr["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||rr["Letterlike Symbols"](t)||rr["Number Forms"](t)||rr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||rr["Control Pictures"](t)&&9251!==t||rr["Optical Character Recognition"](t)||rr["Enclosed Alphanumerics"](t)||rr["Geometric Shapes"](t)||rr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||rr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||rr["CJK Symbols and Punctuation"](t)||rr.Katakana(t)||rr["Private Use Area"](t)||rr["CJK Compatibility Forms"](t)||rr["Small Form Variants"](t)||rr["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function lr(t,e){return!(!e&&(t>=1424&&t<=2303||rr["Arabic Presentation Forms-A"](t)||rr["Arabic Presentation Forms-B"](t))||t>=2304&&t<=3583||t>=3840&&t<=4255||rr.Khmer(t))}var ur,cr=!1,pr=null,hr=!1,dr=new at,fr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return hr||null!=fr.applyArabicShaping}},mr=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new nr,this.transition={})};mr.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!lr(r[n].charCodeAt(0),e))return!1;return!0}(t,fr.isLoaded())},mr.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},mr.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var gr=function(t,e){this.property=t,this.value=e,this.expression=hn(void 0===e?t.specification.default:e,t.specification)};gr.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},gr.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var yr=function(t){this.property=t,this.value=new gr(t,void 0)};yr.prototype.transitioned=function(t,e){return new vr(this.property,this.value,e,p({},t.transition,this.transition),t.now)},yr.prototype.untransitioned=function(){return new vr(this.property,this.value,null,{},0)};var _r=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};_r.prototype.getValue=function(t){return b(this._values[t].value.value)},_r.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new yr(this._values[t].property)),this._values[t].value=new gr(this._values[t].property,null===e?void 0:b(e))},_r.prototype.getTransition=function(t){return b(this._values[t].transition)},_r.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new yr(this._values[t].property)),this._values[t].transition=b(e)||void 0},_r.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},_r.prototype.transitioned=function(t,e){for(var n=new br(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},_r.prototype.untransitioned=function(){for(var t=new br(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var vr=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};vr.prototype.possiblyEvaluate=function(t){var e=t.now||0,n=this.value.possiblyEvaluate(t),r=this.prior;if(r){if(e>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(e<this.begin)return r.possiblyEvaluate(t);var i=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t),n,function(t){if(i<=0)return 0;if(i>=1)return 1;var e=i*i,n=e*i;return 4*(i<.5?n:3*(i-e)+n-.75)}())}return n};var br=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};br.prototype.possiblyEvaluate=function(t){for(var e=new Mr(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e},br.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var xr=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};xr.prototype.getValue=function(t){return b(this._values[t].value)},xr.prototype.setValue=function(t,e){this._values[t]=new gr(this._values[t].property,null===e?void 0:b(e))},xr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},xr.prototype.possiblyEvaluate=function(t){for(var e=new Mr(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e};var wr=function(t,e,n){this.property=t,this.value=e,this.parameters=n};wr.prototype.isConstant=function(){return"constant"===this.value.kind},wr.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},wr.prototype.evaluate=function(t,e){return this.property.evaluate(this.value,this.parameters,t,e)};var Mr=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};Mr.prototype.get=function(t){return this._values[t]};var Cr=function(t){this.specification=t};Cr.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Cr.prototype.interpolate=function(t,e,n){var r=re[this.specification.type];return r?r(t,e,n):t};var Lr=function(t){this.specification=t};Lr.prototype.possiblyEvaluate=function(t,e){return new wr(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e)}:t.expression,e)},Lr.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new wr(this,{kind:"constant",value:void 0},t.parameters);var r=re[this.specification.type];return r?new wr(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},Lr.prototype.evaluate=function(t,e,n,r){return"constant"===t.kind?t.value:t.evaluate(e,n,r)};var Er=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e){if(void 0===t.value)return new wr(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var n=t.expression.evaluate(e),r=this._calculate(n,n,n,e);return new wr(this,{kind:"constant",value:r},e)}if("camera"===t.expression.kind){var i=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new wr(this,{kind:"constant",value:i},e)}return new wr(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,r){if("source"===t.kind){var i=t.evaluate(e,n,r);return this._calculate(i,i,i,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value},e.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(Lr),kr=function(t){this.specification=t};kr.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var n=t.expression.evaluate(e);return this._calculate(n,n,n,e)}return this._calculate(t.expression.evaluate(new mr(Math.floor(e.zoom-1),e)),t.expression.evaluate(new mr(Math.floor(e.zoom),e)),t.expression.evaluate(new mr(Math.floor(e.zoom+1),e)),e)}},kr.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},kr.prototype.interpolate=function(t){return t};var Tr=function(t){this.specification=t};Tr.prototype.possiblyEvaluate=function(t,e){return!!t.expression.evaluate(e)},Tr.prototype.interpolate=function(){return!1};var Sr=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var n=t[e],r=this.defaultPropertyValues[e]=new gr(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new yr(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};Qn("DataDrivenProperty",Lr),Qn("DataConstantProperty",Cr),Qn("CrossFadedDataDrivenProperty",Er),Qn("CrossFadedProperty",kr),Qn("ColorRampProperty",Tr);var Ar=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this.visibility="visible",this._featureFilter=function(){return!0},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new xr(n.layout)),n.paint)){for(var r in this._transitionablePaint=new _r(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){null!=e&&this._validate(Gn,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible")},e.prototype.getPaintProperty=function(t){return y(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(null!=e&&this._validate(Un,"layers."+this.id+".paint."+t,t,e,n))return!1;if(y(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var r=this._transitionablePaint._values[t],i="cross-faded-data-driven"===r.property.specification["property-type"]&&!r.value.value&&e,o=this._transitionablePaint._values[t].value.isDataDriven();this._transitionablePaint.setValue(t,e);var a=this._transitionablePaint._values[t].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(t),a||o||i},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),v(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,n,r,i){return(!i||!1!==i.validate)&&qn(this,t.call(Vn,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:st,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof wr&&qe(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(at),Dr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ir=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Pr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Or(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map(function(t){var i=Dr[t.type].BYTES_PER_ELEMENT,o=n=Nr(n,Math.max(e,i)),a=t.components||1;return r=Math.max(r,i),n+=i*a,{name:t.name,type:t.type,components:a,offset:o}}),size:Nr(n,Math.max(r,e)),alignment:e}}function Nr(t,e){return Math.ceil(t/e)*e}Pr.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Pr.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Pr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Pr.prototype.clear=function(){this.length=0},Pr.prototype.resize=function(t){this.reserve(t),this.length=t},Pr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Pr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Rr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Pr);Rr.prototype.bytesPerElement=4,Qn("StructArrayLayout2i4",Rr);var Fr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Pr);Fr.prototype.bytesPerElement=8,Qn("StructArrayLayout4i8",Fr);var Yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Pr);Yr.prototype.bytesPerElement=12,Qn("StructArrayLayout2i4i12",Yr);var Br=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l){var u=6*t,c=12*t;return this.int16[u+0]=e,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=i,this.uint8[c+8]=o,this.uint8[c+9]=a,this.uint8[c+10]=s,this.uint8[c+11]=l,t},e}(Pr);Br.prototype.bytesPerElement=12,Qn("StructArrayLayout4i4ub12",Br);var zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l){var u=8*t;return this.uint16[u+0]=e,this.uint16[u+1]=n,this.uint16[u+2]=r,this.uint16[u+3]=i,this.uint16[u+4]=o,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,t},e}(Pr);zr.prototype.bytesPerElement=16,Qn("StructArrayLayout8ui16",zr);var jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l){var u=8*t;return this.int16[u+0]=e,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=i,this.uint16[u+4]=o,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,t},e}(Pr);jr.prototype.bytesPerElement=16,Qn("StructArrayLayout4i4ui16",jr);var Vr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Pr);Vr.prototype.bytesPerElement=12,Qn("StructArrayLayout3f12",Vr);var Hr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(Pr);Hr.prototype.bytesPerElement=4,Qn("StructArrayLayout1ul4",Hr);var Ur=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c){var p=this.length;return this.resize(p+1),this.emplace(p,t,e,n,r,i,o,a,s,l,u,c)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p){var h=12*t,d=6*t;return this.int16[h+0]=e,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.int16[h+4]=o,this.int16[h+5]=a,this.uint32[d+3]=s,this.uint16[h+8]=l,this.uint16[h+9]=u,this.int16[h+10]=c,this.int16[h+11]=p,t},e}(Pr);Ur.prototype.bytesPerElement=24,Qn("StructArrayLayout6i1ul2ui2i24",Ur);var Gr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Pr);Gr.prototype.bytesPerElement=12,Qn("StructArrayLayout2i2i2i12",Gr);var qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=4*t;return this.uint8[r+0]=e,this.uint8[r+1]=n,t},e}(Pr);qr.prototype.bytesPerElement=4,Qn("StructArrayLayout2ub4",qr);var Wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,h,d){var f=this.length;return this.resize(f+1),this.emplace(f,t,e,n,r,i,o,a,s,l,u,c,p,h,d)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,h,d,f){var m=20*t,g=10*t,y=40*t;return this.int16[m+0]=e,this.int16[m+1]=n,this.uint16[m+2]=r,this.uint16[m+3]=i,this.uint32[g+2]=o,this.uint32[g+3]=a,this.uint32[g+4]=s,this.uint16[m+10]=l,this.uint16[m+11]=u,this.uint16[m+12]=c,this.float32[g+7]=p,this.float32[g+8]=h,this.uint8[y+36]=d,this.uint8[y+37]=f,t},e}(Pr);Wr.prototype.bytesPerElement=40,Qn("StructArrayLayout2i2ui3ul3ui2f2ub40",Wr);var Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,h,d){var f=this.length;return this.resize(f+1),this.emplace(f,t,e,n,r,i,o,a,s,l,u,c,p,h,d)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,h,d,f){var m=16*t,g=8*t;return this.int16[m+0]=e,this.int16[m+1]=n,this.int16[m+2]=r,this.int16[m+3]=i,this.uint16[m+4]=o,this.uint16[m+5]=a,this.uint16[m+6]=s,this.uint16[m+7]=l,this.uint16[m+8]=u,this.uint16[m+9]=c,this.uint16[m+10]=p,this.uint16[m+11]=h,this.uint16[m+12]=d,this.uint32[g+7]=f,t},e}(Pr);Zr.prototype.bytesPerElement=32,Qn("StructArrayLayout4i9ui1ul32",Zr);var Xr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(Pr);Xr.prototype.bytesPerElement=4,Qn("StructArrayLayout1f4",Xr);var Jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Pr);Jr.prototype.bytesPerElement=6,Qn("StructArrayLayout3i6",Jr);var Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=n,this.uint16[i+3]=r,t},e}(Pr);Kr.prototype.bytesPerElement=8,Qn("StructArrayLayout1ul2ui8",Kr);var Qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Pr);Qr.prototype.bytesPerElement=6,Qn("StructArrayLayout3ui6",Qr);var $r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Pr);$r.prototype.bytesPerElement=4,Qn("StructArrayLayout2ui4",$r);var ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(Pr);ti.prototype.bytesPerElement=2,Qn("StructArrayLayout1ui2",ti);var ei=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Pr);ei.prototype.bytesPerElement=8,Qn("StructArrayLayout2f8",ei);var ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Pr);ni.prototype.bytesPerElement=16,Qn("StructArrayLayout4f16",ni);var ri=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(Ir);ri.prototype.size=24;var ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new ri(this,t)},e}(Ur);Qn("CollisionBoxArray",ii);var oi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,n),e}(Ir);oi.prototype.size=40;var ai=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new oi(this,t)},e}(Wr);Qn("PlacedSymbolArray",ai);var si=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},horizontalPlacedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.horizontalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.horizontalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t},n.key.get=function(){return this._structArray.uint16[this._pos2+4]},n.key.set=function(t){this._structArray.uint16[this._pos2+4]=t},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+5]},n.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+5]=t},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+6]},n.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+6]=t},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},n.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+7]=t},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.featureIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.numGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+10]},n.numGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+11]},n.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+12]},n.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+7]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+7]=t},Object.defineProperties(e.prototype,n),e}(Ir);si.prototype.size=32;var li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new si(this,t)},e}(Zr);Qn("SymbolInstanceArray",li);var ui=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(Ir);ui.prototype.size=4;var ci=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new ui(this,t)},e}(Xr);Qn("GlyphOffsetArray",ci);var pi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(Ir);pi.prototype.size=6;var hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new pi(this,t)},e}(Jr);Qn("SymbolLineVertexArray",hi);var di=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(Ir);di.prototype.size=8;var fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new di(this,t)},e}(Kr);Qn("FeatureIndexArray",fi);var mi=Or([{name:"a_pos",components:2,type:"Int16"}],4).members,gi=function(t){void 0===t&&(t=[]),this.segments=t};gi.prototype.prepareSegment=function(t,e,n){var r=this.segments[this.segments.length-1];return t>gi.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+gi.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!r||r.vertexLength+t>gi.MAX_VERTEX_ARRAY_LENGTH)&&this.segments.push(r={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0}),r},gi.prototype.get=function(){return this.segments},gi.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},gi.simpleSegment=function(t,e,n,r){return new gi([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{}}])},gi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Qn("SegmentVector",gi);var yi=function(t,e){return 256*(t=u(Math.floor(t),0,255))+u(Math.floor(e),0,255)},_i=function(){this.ids=[],this.positions=[],this.indexed=!1};function vi(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}_i.prototype.add=function(t,e,n,r){this.ids.push(t),this.positions.push(e,n,r)},_i.prototype.getPositions=function(t){for(var e=0,n=this.ids.length-1;e<n;){var r=e+n>>1;this.ids[r]>=t?n=r:e=r+1}for(var i=[];this.ids[e]===t;)i.push({index:this.positions[3*e],start:this.positions[3*e+1],end:this.positions[3*e+2]}),e++;return i},_i.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){if(!(r>=i)){for(var o=e[r+i>>1],a=r-1,s=i+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;vi(e,a,s),vi(n,3*a,3*s),vi(n,3*a+1,3*s+1),vi(n,3*a+2,3*s+2)}t(e,n,r,s),t(e,n,s+1,i)}}(n,r,0,n.length-1),e.push(n.buffer,r.buffer),{ids:n,positions:r}},_i.deserialize=function(t){var e=new _i;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e},Qn("FeaturePositionMap",_i);var bi=function(t,e){this.gl=t.gl,this.location=e},xi=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(bi),wi=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(bi),Mi=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(bi),Ci=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(bi),Li=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(bi),Ei=function(t){function e(e,n){t.call(this,e,n),this.current=St.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(bi),ki=new Float32Array(16),Ti=function(t){function e(e,n){t.call(this,e,n),this.current=ki}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(bi);function Si(t){return[yi(255*t.r,255*t.g),yi(255*t.b,255*t.a)]}var Ai=function(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map(function(t){return"u_"+t}),this.type=n,this.maxValue=-1/0};Ai.prototype.defines=function(){return this.names.map(function(t){return"#define HAS_UNIFORM_u_"+t})},Ai.prototype.setConstantPatternPositions=function(){},Ai.prototype.populatePaintArray=function(){},Ai.prototype.updatePaintArray=function(){},Ai.prototype.upload=function(){},Ai.prototype.destroy=function(){},Ai.prototype.setUniforms=function(t,e,n,r){e.set(r.constantOr(this.value))},Ai.prototype.getBinding=function(t,e){return"color"===this.type?new Ei(t,e):new wi(t,e)},Ai.serialize=function(t){var e=t.names,n=t.type;return{value:tr(t.value),names:e,type:n}},Ai.deserialize=function(t){var e=t.names,n=t.type;return new Ai(er(t.value),e,n)};var Di=function(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map(function(t){return"u_"+t}),this.type=n,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Di.prototype.defines=function(){return this.names.map(function(t){return"#define HAS_UNIFORM_u_"+t})},Di.prototype.populatePaintArray=function(){},Di.prototype.updatePaintArray=function(){},Di.prototype.upload=function(){},Di.prototype.destroy=function(){},Di.prototype.setConstantPatternPositions=function(t,e){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=e.tlbr},Di.prototype.setUniforms=function(t,e,n,r,i){var o=this.patternPositions;"u_pattern_to"===i&&o.patternTo&&e.set(o.patternTo),"u_pattern_from"===i&&o.patternFrom&&e.set(o.patternFrom)},Di.prototype.getBinding=function(t,e){return new Li(t,e)};var Ii=function(t,e,n,r){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map(function(t){return"a_"+t}),this.maxValue=-1/0,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}}),this.paintVertexArray=new r};Ii.prototype.defines=function(){return[]},Ii.prototype.setConstantPatternPositions=function(){},Ii.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new mr(0),e,{});if("color"===this.type)for(var o=Si(i),a=r;a<t;a++)n.emplaceBack(o[0],o[1]);else{for(var s=r;s<t;s++)n.emplaceBack(i);this.maxValue=Math.max(this.maxValue,i)}},Ii.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:0},n,r);if("color"===this.type)for(var a=Si(o),s=t;s<e;s++)i.emplace(s,a[0],a[1]);else{for(var l=t;l<e;l++)i.emplace(l,o);this.maxValue=Math.max(this.maxValue,o)}},Ii.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ii.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ii.prototype.setUniforms=function(t,e){e.set(0)},Ii.prototype.getBinding=function(t,e){return new wi(t,e)};var Pi=function(t,e,n,r,i,o){this.expression=t,this.names=e,this.uniformNames=this.names.map(function(t){return"a_"+t+"_t"}),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0;var a=o;this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}}),this.paintVertexArray=new a};Pi.prototype.defines=function(){return[]},Pi.prototype.setConstantPatternPositions=function(){},Pi.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new mr(this.zoom),e,{}),o=this.expression.evaluate(new mr(this.zoom+1),e,{});if("color"===this.type)for(var a=Si(i),s=Si(o),l=r;l<t;l++)n.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var u=r;u<t;u++)n.emplaceBack(i,o);this.maxValue=Math.max(this.maxValue,i,o)}},Pi.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);if("color"===this.type)for(var s=Si(o),l=Si(a),u=t;u<e;u++)i.emplace(u,s[0],s[1],l[0],l[1]);else{for(var c=t;c<e;c++)i.emplace(c,o,a);this.maxValue=Math.max(this.maxValue,o,a)}},Pi.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Pi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Pi.prototype.interpolationFactor=function(t){return this.expression.interpolationFactor(this.useIntegerZoom?Math.floor(t):t,this.zoom,this.zoom+1)},Pi.prototype.setUniforms=function(t,e,n){e.set(this.interpolationFactor(n.zoom))},Pi.prototype.getBinding=function(t,e){return new wi(t,e)};var Oi=function(t,e,n,r,i,o,a){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map(function(t){return"a_"+t+"_t"}),this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o};Oi.prototype.defines=function(){return[]},Oi.prototype.setConstantPatternPositions=function(){},Oi.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray,i=this.zoomOutPaintVertexArray,o=this.layerId,a=r.length;if(r.reserve(t),i.reserve(t),n&&e.patterns&&e.patterns[o]){var s=e.patterns[o],l=n[s.min],u=n[s.mid],c=n[s.max];if(!l||!u||!c)return;for(var p=a;p<t;p++)r.emplaceBack(u.tl[0],u.tl[1],u.br[0],u.br[1],l.tl[0],l.tl[1],l.br[0],l.br[1]),i.emplaceBack(u.tl[0],u.tl[1],u.br[0],u.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1])}},Oi.prototype.updatePaintArray=function(t,e,n,r,i){var o=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(i&&n.patterns&&n.patterns[s]){var l=n.patterns[s],u=i[l.min],c=i[l.mid],p=i[l.max];if(!u||!c||!p)return;for(var h=t;h<e;h++)o.emplace(h,c.tl[0],c.tl[1],c.br[0],c.br[1],u.tl[0],u.tl[1],u.br[0],u.br[1]),a.emplace(h,c.tl[0],c.tl[1],c.br[0],c.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1])}},Oi.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Oi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},Oi.prototype.setUniforms=function(t,e){e.set(0)},Oi.prototype.getBinding=function(t,e){return new wi(t,e)};var Ni=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new _i,this._bufferOffset=0};Ni.createDynamic=function(t,e,n){var r=new Ni,i=[];for(var o in t.paint._values)if(n(o)){var a=t.paint.get(o);if(a instanceof wr&&qe(a.property.specification)){var s=Fi(o,t.type),l=a.property.specification.type,u=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)r.binders[o]=new Di(a.value.value,s,l),i.push("/u_"+o);else{var c=Yi(o,l,"source");r.binders[o]=new Oi(a.value,s,l,u,e,c,t.id),i.push("/a_"+o)}else if("constant"===a.value.kind)r.binders[o]=new Ai(a.value.value,s,l),i.push("/u_"+o);else if("source"===a.value.kind){var p=Yi(o,l,"source");r.binders[o]=new Ii(a.value,s,l,p),i.push("/a_"+o)}else{var h=Yi(o,l,"composite");r.binders[o]=new Pi(a.value,s,l,u,e,h),i.push("/z_"+o)}}}return r.cacheKey=i.sort().join(""),r},Ni.prototype.populatePaintArrays=function(t,e,n,r){for(var i in this.binders)this.binders[i].populatePaintArray(t,e,r);void 0!==e.id&&this._featureMap.add(+e.id,n,this._bufferOffset,t),this._bufferOffset=t},Ni.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders)this.binders[n].setConstantPatternPositions(t,e)},Ni.prototype.updatePaintArrays=function(t,e,n,r){var i=!1;for(var o in t)for(var a=0,s=this._featureMap.getPositions(+o);a<s.length;a+=1){var l=s[a],u=e.feature(l.index);for(var c in this.binders){var p=this.binders[c];if(!(p instanceof Ai||p instanceof Di)&&!0===p.expression.isStateDependent){var h=n.paint.get(c);p.expression=h.value,p.updatePaintArray(l.start,l.end,u,t[o],r),i=!0}}}return i},Ni.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},Ni.prototype.getPaintVertexBuffers=function(){return this._buffers},Ni.prototype.getUniforms=function(t,e){var n={};for(var r in this.binders)for(var i=this.binders[r],o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];n[s]=i.getBinding(t,e[s])}return n},Ni.prototype.setUniforms=function(t,e,n,r){for(var i in this.binders)for(var o=this.binders[i],a=0,s=o.uniformNames;a<s.length;a+=1){var l=s[a];o.setUniforms(t,e[l],r,n.get(i),l)}},Ni.prototype.updatePatternPaintBuffers=function(t){var e=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof Oi){var i=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;i&&e.push(i)}else(r instanceof Ii||r instanceof Pi)&&r.paintVertexBuffer&&e.push(r.paintVertexBuffer)}this._buffers=e},Ni.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var n=[];for(var r in this.binders){var i=this.binders[r];(i instanceof Ii||i instanceof Pi)&&i.paintVertexBuffer&&n.push(i.paintVertexBuffer)}this._buffers=n},Ni.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var Ri=function(t,e,n,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var i=0,o=e;i<o.length;i+=1){var a=o[i];this.programConfigurations[a.id]=Ni.createDynamic(a,n,r),this.programConfigurations[a.id].layoutAttributes=t}this.needsUpload=!1};function Fi(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function Yi(t,e,n){var r={color:{source:ei,composite:ni},number:{source:Xr,composite:ei}},i=function(t){return{"line-pattern":{source:zr,composite:zr},"fill-pattern":{source:zr,composite:zr},"fill-extrusion-pattern":{source:zr,composite:zr}}[t]}(t);return i&&i[n]||r[e][n]}Ri.prototype.populatePaintArrays=function(t,e,n,r){for(var i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(t,e,n,r);this.needsUpload=!0},Ri.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,e,a,r)||this.needsUpload}},Ri.prototype.get=function(t){return this.programConfigurations[t]},Ri.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Ri.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Qn("ConstantBinder",Ai),Qn("CrossFadedConstantBinder",Di),Qn("SourceExpressionBinder",Ii),Qn("CrossFadedCompositeBinder",Oi),Qn("CompositeExpressionBinder",Pi),Qn("ProgramConfiguration",Ni,{omit:["_buffers"]}),Qn("ProgramConfigurationSet",Ri);var Bi=8192,zi={min:-1*Math.pow(2,15),max:Math.pow(2,15)-1};function ji(t){for(var e=Bi/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<zi.min||a.x>zi.max||a.y<zi.min||a.y>zi.max)&&w("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Vi(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var Hi=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Rr,this.indexArray=new Qr,this.segments=new gi,this.programConfigurations=new Ri(mi,t.layers,t.zoom)};function Ui(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if($i(i,e))return!0;if(Ji(e,i,n))return!0}return!1}function Gi(t,e){if(1===t.length&&1===t[0].length)return Qi(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(Qi(t,r[i]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(Qi(e,a[s]))return!0;for(var l=0;l<e.length;l++)if(Zi(a,e[l]))return!0}return!1}function qi(t,e,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];if(a.length>=3)for(var s=0;s<i.length;s++)if($i(a,i[s]))return!0;if(Wi(a,i,n))return!0}return!1}function Wi(t,e,n){if(t.length>1){if(Zi(t,e))return!0;for(var r=0;r<e.length;r++)if(Ji(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(Ji(t[i],e,n))return!0;return!1}function Zi(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(Xi(r,i,e[o],e[o+1]))return!0;return!1}function Xi(t,e,n,r){return M(t,n,r)!==M(e,n,r)&&M(t,e,n)!==M(t,e,r)}function Ji(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(Ki(t,e[i-1],e[i])<r)return!0;return!1}function Ki(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return t.distSqr(i<0?e:i>1?n:n.sub(e)._mult(i)._add(e))}function Qi(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,l=(n=t[a]).length-1;s<n.length;l=s++)(r=n[s]).y>e.y!=(i=n[l]).y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function $i(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function to(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).binders[t].maxValue}function eo(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function no(t,e,n,r,o){if(!e[0]&&!e[1])return t;var a=i.convert(e);"viewport"===n&&a._rotate(-r);for(var s=[],l=0;l<t.length;l++){for(var u=t[l],c=[],p=0;p<u.length;p++)c.push(u[p].sub(a._mult(o)));s.push(c)}return s}Hi.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new mr(this.zoom),o)){var l=ji(o);this.addFeature(o,l,a),e.featureIndex.insert(o,l,a,s,this.index)}}},Hi.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Hi.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Hi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Hi.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,mi),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Hi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Hi.prototype.addFeature=function(t,e,n){for(var r=0,i=e;r<i.length;r+=1)for(var o=0,a=i[r];o<a.length;o+=1){var s=a[o],l=s.x,u=s.y;if(!(l<0||l>=Bi||u<0||u>=Bi)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=c.vertexLength;Vi(this.layoutVertexArray,l,u,-1,-1),Vi(this.layoutVertexArray,l,u,1,-1),Vi(this.layoutVertexArray,l,u,1,1),Vi(this.layoutVertexArray,l,u,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{})},Qn("CircleBucket",Hi,{omit:["layers"]});var ro={paint:new Sr({"circle-radius":new Lr(st.paint_circle["circle-radius"]),"circle-color":new Lr(st.paint_circle["circle-color"]),"circle-blur":new Lr(st.paint_circle["circle-blur"]),"circle-opacity":new Lr(st.paint_circle["circle-opacity"]),"circle-translate":new Cr(st.paint_circle["circle-translate"]),"circle-translate-anchor":new Cr(st.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Cr(st.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Cr(st.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Lr(st.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Lr(st.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Lr(st.paint_circle["circle-stroke-opacity"])})},io="undefined"!=typeof Float32Array?Float32Array:Array;function oo(){var t=new io(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ao(){var t=new io(3);return t[0]=0,t[1]=0,t[2]=0,t}function so(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function lo(t,e,n){var r=new io(3);return r[0]=t,r[1]=e,r[2]=n,r}Math;var uo,co=so,po=(uo=ao(),function(t,e,n,r,i,o){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)uo[0]=t[a],uo[1]=t[a+1],uo[2]=t[a+2],i(uo,uo,o),t[a]=uo[0],t[a+1]=uo[1],t[a+2]=uo[2];return t});function ho(){var t=new io(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function fo(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}var mo=function(){var t=ho();return function(e,n,r,i,o,a){var s,l;for(n||(n=4),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function go(){var t=new io(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}ao(),lo(1,0,0),lo(0,1,0),go(),go(),oo(),function(){var t;(t=new io(2))[0]=0,t[1]=0}();var yo=function(t){function e(e){t.call(this,e,ro)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Hi(t)},e.prototype.queryRadius=function(t){var e=t;return to("circle-radius",this,e)+to("circle-stroke-width",this,e)+eo(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var l=no(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:function(t,e,n){return l.map(function(t){return t.map(function(t){return _o(t,e,n)})})}(0,s,o),h=c?u*a:u,d=0,f=r;d<f.length;d+=1)for(var m=0,g=f[d];m<g.length;m+=1){var y=g[m],_=c?y:_o(y,s,o),v=h,b=fo([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?v*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(v*=o.cameraToCenterDistance/b[3]),Ui(p,_,v))return!0}return!1},e}(Ar);function _o(t,e,n){var r=fo([],[t.x,t.y,0,1],e);return new i((r[0]/r[3]+1)*n.width*.5,(r[1]/r[3]+1)*n.height*.5)}var vo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Hi);function bo(t,e,n,r){var i=e.width,o=e.height;if(r){if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function xo(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=bo({},{width:r,height:i},n);wo(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function wo(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,l=0;l<i.height;l++)for(var u=((n.y+l)*t.width+n.x)*o,c=((r.y+l)*e.width+r.x)*o,p=0;p<i.width*o;p++)s[c+p]=a[u+p];return e}Qn("HeatmapBucket",vo,{omit:["layers"]});var Mo=function(t,e){bo(this,t,1,e)};Mo.prototype.resize=function(t){xo(this,t,1)},Mo.prototype.clone=function(){return new Mo({width:this.width,height:this.height},new Uint8Array(this.data))},Mo.copy=function(t,e,n,r,i){wo(t,e,n,r,i,1)};var Co=function(t,e){bo(this,t,4,e)};Co.prototype.resize=function(t){xo(this,t,4)},Co.prototype.clone=function(){return new Co({width:this.width,height:this.height},new Uint8Array(this.data))},Co.copy=function(t,e,n,r,i){wo(t,e,n,r,i,4)},Qn("AlphaImage",Mo),Qn("RGBAImage",Co);var Lo={paint:new Sr({"heatmap-radius":new Lr(st.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Lr(st.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Cr(st.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Tr(st.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Cr(st.paint_heatmap["heatmap-opacity"])})};function Eo(t,e){for(var n=new Uint8Array(1024),r={},i=0,o=0;i<256;i++,o+=4){r[e]=i/255;var a=t.evaluate(r);n[o+0]=Math.floor(255*a.r/a.a),n[o+1]=Math.floor(255*a.g/a.a),n[o+2]=Math.floor(255*a.b/a.a),n[o+3]=Math.floor(255*a.a)}return new Co({width:256,height:1},n)}var ko=function(t){function e(e){t.call(this,e,Lo),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new vo(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=Eo(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(Ar),To={paint:new Sr({"hillshade-illumination-direction":new Cr(st.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Cr(st.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Cr(st.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Cr(st.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Cr(st.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Cr(st.paint_hillshade["hillshade-accent-color"])})},So=function(t){function e(e){t.call(this,e,To)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(Ar),Ao=Or([{name:"a_pos",components:2,type:"Int16"}],4).members,Do=Po,Io=Po;function Po(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,p=c?e[0]*n:t.length,h=Oo(t,0,p,n,!0),d=[];if(!h)return d;if(c&&(h=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Oo(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Uo(a));for(s.sort(jo),i=0;i<s.length;i++)Vo(s[i],n),n=No(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var f=n;f<p;f+=n)(s=t[f])<r&&(r=s),(l=t[f+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Ro(h,d,n,r,i,u),d}function Oo(t,e,n,r,i){var o,a;if(i===ea(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Qo(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Qo(o,t[o],t[o+1],a);return a&&Zo(a,a.next)&&($o(a),a=a.next),a}function No(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Zo(r,r.next)&&0!==Wo(r.prev,r,r.next))r=r.next;else{if($o(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Ro(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Ho(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(t,r,i,o);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Yo(t,r,i,o):Fo(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),$o(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?Ro(t=Bo(t,e,n),e,n,r,i,o,2):2===a&&zo(t,e,n,r,i,o):Ro(No(t),e,n,r,i,o,1);break}}}function Fo(t){var e=t.prev,n=t,r=t.next;if(Wo(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Go(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Wo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Yo(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Wo(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=Ho(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),c=Ho(s,l,e,n,r),p=t.prevZ,h=t.nextZ;p&&p.z>=u&&h&&h.z<=c;){if(p!==t.prev&&p!==t.next&&Go(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Wo(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,h!==t.prev&&h!==t.next&&Go(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Wo(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;p&&p.z>=u;){if(p!==t.prev&&p!==t.next&&Go(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Wo(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;h&&h.z<=c;){if(h!==t.prev&&h!==t.next&&Go(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Wo(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function Bo(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Zo(i,o)&&Xo(i,r,r.next,o)&&Jo(i,o)&&Jo(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),$o(r),$o(r.next),r=t=o),r=r.next}while(r!==t);return r}function zo(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&qo(a,s)){var l=Ko(a,s);return a=No(a,a.next),l=No(l,l.next),Ro(a,e,n,r,i,o),void Ro(l,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function jo(t,e){return t.x-e.x}function Vo(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,p=n.y,h=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&Go(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<h||l===h&&r.x>n.x)&&Jo(r,t)&&(n=r,h=l),r=r.next;return n}(t,e)){var n=Ko(e,t);No(n,n.next)}}function Ho(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Uo(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function Go(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function qo(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Xo(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Jo(t,e)&&Jo(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function Wo(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Zo(t,e){return t.x===e.x&&t.y===e.y}function Xo(t,e,n,r){return!!(Zo(t,e)&&Zo(n,r)||Zo(t,r)&&Zo(n,e))||Wo(t,e,n)>0!=Wo(t,e,r)>0&&Wo(n,r,t)>0!=Wo(n,r,e)>0}function Jo(t,e){return Wo(t.prev,t,t.next)<0?Wo(t,e,t.next)>=0&&Wo(t,t.prev,e)>=0:Wo(t,e,t.prev)<0||Wo(t,t.next,e)<0}function Ko(t,e){var n=new ta(t.i,t.x,t.y),r=new ta(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Qo(t,e,n,r){var i=new ta(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function $o(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ta(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ea(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}Po.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(ea(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(ea(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var l=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,p=r[a+2]*n;l+=Math.abs((t[u]-t[p])*(t[c+1]-t[u+1])-(t[u]-t[c])*(t[p+1]-t[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Po.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},Do.default=Io;var na=ra;function ra(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var p=e[n],h=r,d=i;for(ia(e,r,n),o(e[i],p)>0&&ia(e,r,i);h<d;){for(ia(e,h,d),h++,d--;o(e[h],p)<0;)h++;for(;o(e[d],p)>0;)d--}0===o(e[r],p)?ia(e,r,d):ia(e,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}(t,e,n||0,r||t.length-1,i||oa)}function ia(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function oa(t,e){return t<e?-1:t>e?1:0}function aa(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=C(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var l=0;l<o.length;l++)o[l].length<=e||(na(o[l],e,1,o[l].length-1,sa),o[l]=o[l].slice(0,e));return o}function sa(t,e){return e.area-t.area}function la(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,r[l.to]=!0,r[l.from]=!0)}return i}function ua(t,e,n,r,i){for(var o=i.patternDependencies,a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.paint.get(t+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{}),p=u.evaluate({zoom:r},n,{}),h=u.evaluate({zoom:r+1},n,{});o[c]=!0,o[p]=!0,o[h]=!0,n.patterns[l.id]={min:c,mid:p,max:h}}}return n}na.default=ra;var ca=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Rr,this.indexArray=new Qr,this.indexArray2=new $r,this.programConfigurations=new Ri(Ao,t.layers,t.zoom),this.segments=new gi,this.segments2=new gi};ca.prototype.populate=function(t,e){this.features=[],this.hasPattern=la("fill",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new mr(this.zoom),o)){var l=ji(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(ua("fill",this.layers,u,this.zoom,e)):this.addFeature(u,l,a,{}),e.featureIndex.insert(o,l,a,s,this.index)}}},ca.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ca.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n];this.addFeature(i,i.geometry,i.index,e)}},ca.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ca.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ca.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ao),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},ca.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ca.prototype.addFeature=function(t,e,n,r){for(var i=0,o=aa(e,500);i<o.length;i+=1){for(var a=o[i],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),p=c.vertexLength,h=[],d=[],f=0,m=a;f<m.length;f+=1){var g=m[f];if(0!==g.length){g!==a[0]&&d.push(h.length/2);var y=this.segments2.prepareSegment(g.length,this.layoutVertexArray,this.indexArray2),_=y.vertexLength;this.layoutVertexArray.emplaceBack(g[0].x,g[0].y),this.indexArray2.emplaceBack(_+g.length-1,_),h.push(g[0].x),h.push(g[0].y);for(var v=1;v<g.length;v++)this.layoutVertexArray.emplaceBack(g[v].x,g[v].y),this.indexArray2.emplaceBack(_+v-1,_+v),h.push(g[v].x),h.push(g[v].y);y.vertexLength+=g.length,y.primitiveLength+=g.length}}for(var b=Do(h,d),x=0;x<b.length;x+=3)this.indexArray.emplaceBack(p+b[x],p+b[x+1],p+b[x+2]);c.vertexLength+=s,c.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},Qn("FillBucket",ca,{omit:["layers","features"]});var pa={paint:new Sr({"fill-antialias":new Cr(st.paint_fill["fill-antialias"]),"fill-opacity":new Lr(st.paint_fill["fill-opacity"]),"fill-color":new Lr(st.paint_fill["fill-color"]),"fill-outline-color":new Lr(st.paint_fill["fill-outline-color"]),"fill-translate":new Cr(st.paint_fill["fill-translate"]),"fill-translate-anchor":new Cr(st.paint_fill["fill-translate-anchor"]),"fill-pattern":new Er(st.paint_fill["fill-pattern"])})},ha=function(t){function e(e){t.call(this,e,pa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new ca(t)},e.prototype.queryRadius=function(){return eo(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return Gi(no(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e}(Ar),da=Or([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,fa=Math.pow(2,13);function ma(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*fa)+a,i*fa*2,o*fa*2,Math.round(s))}var ga=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Yr,this.indexArray=new Qr,this.programConfigurations=new Ri(da,t.layers,t.zoom),this.segments=new gi};function ya(t,e){return t.x===e.x&&(t.x<0||t.x>Bi)||t.y===e.y&&(t.y<0||t.y>Bi)}function _a(t){return t.every(function(t){return t.x<0})||t.every(function(t){return t.x>Bi})||t.every(function(t){return t.y<0})||t.every(function(t){return t.y>Bi})}ga.prototype.populate=function(t,e){this.features=[],this.hasPattern=la("fill-extrusion",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new mr(this.zoom),o)){var l=ji(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(ua("fill-extrusion",this.layers,u,this.zoom,e)):this.addFeature(u,l,a,{}),e.featureIndex.insert(o,l,a,s,this.index)}}},ga.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n];this.addFeature(i,i.geometry,i.index,e)}},ga.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ga.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ga.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ga.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,da),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},ga.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ga.prototype.addFeature=function(t,e,n,r){for(var i=0,o=aa(e,500);i<o.length;i+=1){for(var a=o[i],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,h=a;p<h.length;p+=1){var d=h[p];if(0!==d.length&&!_a(d))for(var f=0,m=0;m<d.length;m++){var g=d[m];if(m>=1){var y=d[m-1];if(!ya(g,y)){c.vertexLength+4>gi.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=g.sub(y)._perp()._unit(),v=y.dist(g);f+v>32768&&(f=0),ma(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,0,f),ma(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,1,f),ma(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,f+=v),ma(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,f);var b=c.vertexLength;this.indexArray.emplaceBack(b,b+2,b+1),this.indexArray.emplaceBack(b+1,b+2,b+3),c.vertexLength+=4,c.primitiveLength+=2}}}}c.vertexLength+s>gi.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray));for(var x=[],w=[],M=c.vertexLength,C=0,L=a;C<L.length;C+=1){var E=L[C];if(0!==E.length){E!==a[0]&&w.push(x.length/2);for(var k=0;k<E.length;k++){var T=E[k];ma(this.layoutVertexArray,T.x,T.y,0,0,1,1,0),x.push(T.x),x.push(T.y)}}}for(var S=Do(x,w),A=0;A<S.length;A+=3)this.indexArray.emplaceBack(M+S[A],M+S[A+2],M+S[A+1]);c.primitiveLength+=S.length/3,c.vertexLength+=s}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},Qn("FillExtrusionBucket",ga,{omit:["layers","features"]});var va={paint:new Sr({"fill-extrusion-opacity":new Cr(st["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Lr(st["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Cr(st["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Cr(st["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Er(st["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Lr(st["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Lr(st["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Cr(st["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},ba=function(t){function e(e){t.call(this,e,va)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new ga(t)},e.prototype.queryRadius=function(){return eo(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return Gi(no(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,a),r)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e}(Ar),xa=Or([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,wa=Ma;function Ma(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(Ca,this,e)}function Ca(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function La(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)r+=((n=t[a]).x-(e=t[i]).x)*(e.y+n.y);return r}Ma.types=["Unknown","Point","LineString","Polygon"],Ma.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,a=0,s=0,l=[];t.pos<n;){if(o<=0){var u=t.readVarint();r=7&u,o=u>>3}if(o--,1===r||2===r)a+=t.readSVarint(),s+=t.readSVarint(),1===r&&(e&&l.push(e),e=[]),e.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&l.push(e),l},Ma.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},Ma.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,l=this.loadGeometry(),u=Ma.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<l.length;r++)p[r]=l[r][0];c(l=p);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=La(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Ea=ka;function ka(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Ta,this,e),this.length=this._features.length}function Ta(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function Sa(t,e,n){if(3===t){var r=new Ea(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}ka.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new wa(this._pbf,e,this.extent,this._keys,this._values)};var Aa={VectorTile:function(t,e){this.layers=t.readFields(Sa,{},e)},VectorTileFeature:wa,VectorTileLayer:Ea},Da=Aa.VectorTileFeature.types,Ia=63,Pa=Math.cos(Math.PI/180*37.5),Oa=.5,Na=Math.pow(2,14)/Oa;function Ra(t,e,n,r,i,o,a){t.emplaceBack(e.x,e.y,r?1:0,i?1:-1,Math.round(Ia*n.x)+128,Math.round(Ia*n.y)+128,1+(0===o?0:o<0?-1:1)|(a*Oa&63)<<2,a*Oa>>6)}var Fa=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new Br,this.indexArray=new Qr,this.programConfigurations=new Ri(xa,t.layers,t.zoom),this.segments=new gi};function Ya(t,e){return(t/e.tileTotal*(e.end-e.start)+e.start)*(Na-1)}Fa.prototype.populate=function(t,e){this.features=[],this.hasPattern=la("line",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new mr(this.zoom),o)){var l=ji(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(ua("line",this.layers,u,this.zoom,e)):this.addFeature(u,l,a,{}),e.featureIndex.insert(o,l,a,s,this.index)}}},Fa.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Fa.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n];this.addFeature(i,i.geometry,i.index,e)}},Fa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Fa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Fa.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,xa),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Fa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Fa.prototype.addFeature=function(t,e,n,r){for(var i=this.layers[0].layout,o=i.get("line-join").evaluate(t,{}),a=i.get("line-cap"),s=i.get("line-miter-limit"),l=i.get("line-round-limit"),u=0,c=e;u<c.length;u+=1)this.addLine(c[u],t,o,a,s,l,n,r)},Fa.prototype.addLine=function(t,e,n,r,i,o,a,s){var l=null;e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")&&(l={start:e.properties.mapbox_clip_start,end:e.properties.mapbox_clip_end,tileTotal:void 0});for(var u="Polygon"===Da[e.type],c=t.length;c>=2&&t[c-1].equals(t[c-2]);)c--;for(var p=0;p<c-1&&t[p].equals(t[p+1]);)p++;if(!(c<(u?3:2))){l&&(l.tileTotal=function(t,e,n){for(var r=0,i=p;i<n-1;i++)r+=t[i].dist(t[i+1]);return r}(t,0,c)),"bevel"===n&&(i=1.05);var h=Bi/(512*this.overscaling)*15,d=t[p],f=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray);this.distance=0;var m,g,y,_=r,v=u?"butt":r,b=!0,x=void 0,w=void 0,M=void 0,C=void 0;this.e1=this.e2=this.e3=-1,u&&(C=d.sub(m=t[c-2])._unit()._perp());for(var L=p;L<c;L++)if(!(w=u&&L===c-1?t[p+1]:t[L+1])||!t[L].equals(w)){C&&(M=C),m&&(x=m),m=t[L],C=w?w.sub(m)._unit()._perp():M;var E=(M=M||C).add(C);0===E.x&&0===E.y||E._unit();var k=E.x*C.x+E.y*C.y,T=0!==k?1/k:1/0,S=k<Pa&&x&&w;if(S&&L>p){var A=m.dist(x);if(A>2*h){var D=m.sub(m.sub(x)._mult(h/A)._round());this.distance+=D.dist(x),this.addCurrentVertex(D,this.distance,M.mult(1),0,0,!1,f,l),x=D}}var I=x&&w,P=I?n:w?_:v;if(I&&"round"===P&&(T<o?P="miter":T<=2&&(P="fakeround")),"miter"===P&&T>i&&(P="bevel"),"bevel"===P&&(T>2&&(P="flipbevel"),T<i&&(P="miter")),x&&(this.distance+=m.dist(x)),"miter"===P)E._mult(T),this.addCurrentVertex(m,this.distance,E,0,0,!1,f,l);else if("flipbevel"===P){if(T>100)E=C.clone().mult(-1);else{var O=M.x*C.y-M.y*C.x>0?-1:1,N=T*M.add(C).mag()/M.sub(C).mag();E._perp()._mult(N*O)}this.addCurrentVertex(m,this.distance,E,0,0,!1,f,l),this.addCurrentVertex(m,this.distance,E.mult(-1),0,0,!1,f,l)}else if("bevel"===P||"fakeround"===P){var R=M.x*C.y-M.y*C.x>0,F=-Math.sqrt(T*T-1);if(R?(y=0,g=F):(g=0,y=F),b||this.addCurrentVertex(m,this.distance,M,g,y,!1,f,l),"fakeround"===P){for(var Y=Math.floor(8*(.5-(k-.5))),B=void 0,z=0;z<Y;z++)B=C.mult((z+1)/(Y+1))._add(M)._unit(),this.addPieSliceVertex(m,this.distance,B,R,f,l);this.addPieSliceVertex(m,this.distance,E,R,f,l);for(var j=Y-1;j>=0;j--)B=M.mult((j+1)/(Y+1))._add(C)._unit(),this.addPieSliceVertex(m,this.distance,B,R,f,l)}w&&this.addCurrentVertex(m,this.distance,C,-g,-y,!1,f,l)}else"butt"===P?(b||this.addCurrentVertex(m,this.distance,M,0,0,!1,f,l),w&&this.addCurrentVertex(m,this.distance,C,0,0,!1,f,l)):"square"===P?(b||(this.addCurrentVertex(m,this.distance,M,1,1,!1,f,l),this.e1=this.e2=-1),w&&this.addCurrentVertex(m,this.distance,C,-1,-1,!1,f,l)):"round"===P&&(b||(this.addCurrentVertex(m,this.distance,M,0,0,!1,f,l),this.addCurrentVertex(m,this.distance,M,1,1,!0,f,l),this.e1=this.e2=-1),w&&(this.addCurrentVertex(m,this.distance,C,-1,-1,!0,f,l),this.addCurrentVertex(m,this.distance,C,0,0,!1,f,l)));if(S&&L<c-1){var V=m.dist(w);if(V>2*h){var H=m.add(w.sub(m)._mult(h/V)._round());this.distance+=H.dist(m),this.addCurrentVertex(H,this.distance,C.mult(1),0,0,!1,f,l),m=H}}b=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a,s)}},Fa.prototype.addCurrentVertex=function(t,e,n,r,i,o,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;s&&(e=Ya(e,s)),l=n.clone(),r&&l._sub(n.perp()._mult(r)),Ra(u,t,l,o,!1,r,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=n.mult(-1),i&&l._sub(n.perp()._mult(i)),Ra(u,t,l,o,!0,-i,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>Na/2&&!s&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,i,o,a))},Fa.prototype.addPieSliceVertex=function(t,e,n,r,i,o){n=n.mult(r?-1:1);var a=this.layoutVertexArray,s=this.indexArray;o&&(e=Ya(e,o)),Ra(a,t,n,!1,r,0,e),this.e3=i.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},Qn("LineBucket",Fa,{omit:["layers","features"]});var Ba=new Sr({"line-cap":new Cr(st.layout_line["line-cap"]),"line-join":new Lr(st.layout_line["line-join"]),"line-miter-limit":new Cr(st.layout_line["line-miter-limit"]),"line-round-limit":new Cr(st.layout_line["line-round-limit"])}),za={paint:new Sr({"line-opacity":new Lr(st.paint_line["line-opacity"]),"line-color":new Lr(st.paint_line["line-color"]),"line-translate":new Cr(st.paint_line["line-translate"]),"line-translate-anchor":new Cr(st.paint_line["line-translate-anchor"]),"line-width":new Lr(st.paint_line["line-width"]),"line-gap-width":new Lr(st.paint_line["line-gap-width"]),"line-offset":new Lr(st.paint_line["line-offset"]),"line-blur":new Lr(st.paint_line["line-blur"]),"line-dasharray":new kr(st.paint_line["line-dasharray"]),"line-pattern":new Er(st.paint_line["line-pattern"]),"line-gradient":new Tr(st.paint_line["line-gradient"])}),layout:Ba},ja=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new mr(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r,i){return n=p({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r,i)},e}(Lr))(za.paint.properties["line-width"].specification);ja.useIntegerZoom=!0;var Va=function(t){function e(e){t.call(this,e,za)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},e.prototype._updateGradient=function(){this.gradient=Eo(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=ja.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new Fa(t)},e.prototype.queryRadius=function(t){var e=t,n=Ha(to("line-width",this,e),to("line-gap-width",this,e)),r=to("line-offset",this,e);return n/2+Math.abs(r)+eo(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s){var l=no(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*Ha(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(r=function(t,e){for(var n=[],r=new i(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],l=0;l<a.length;l++){var u=a[l],c=a[l+1],p=0===l?r:u.sub(a[l-1])._unit()._perp(),h=l===a.length-1?r:c.sub(u)._unit()._perp(),d=p._add(h)._unit();d._mult(1/(d.x*h.x+d.y*h.y)),s.push(d._mult(e)._add(u))}n.push(s)}return n}(r,c*s)),qi(l,r,u)},e}(Ar);function Ha(t,e){return e>0?e+2*t:t}var Ua=Or([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),Ga=Or([{name:"a_projected_pos",components:3,type:"Float32"}],4),qa=(Or([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Or([{name:"a_placed",components:2,type:"Uint8"}],4)),Wa=(Or([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Or([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Za=Or([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function Xa(t,e,n){return t.sections.forEach(function(t){t.text=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),fr.applyArabicShaping&&(t=fr.applyArabicShaping(t)),t}(t.text,e,n)}),t}Or([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),Or([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"horizontalPlacedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"}]),Or([{type:"Float32",name:"offsetX"}]),Or([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ja={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ka=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);function Qa(t,e){var n=e.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate(new mr(t+1))};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,i=0;i<r.length&&r[i]<=t;)i++;for(var o=i=Math.max(0,i-1);o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var a={min:r[i],max:r[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:n.evaluate(new mr(t+1)),zoomRange:a,sizeRange:{min:n.evaluate(new mr(a.min)),max:n.evaluate(new mr(a.max))},propertyValue:e.value}}Qn("Anchor",Ka);var $a=Aa.VectorTileFeature.types,ts=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function es(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,s?s[0]:0,s?s[1]:0)}function ns(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var rs=function(t){this.layoutVertexArray=new jr,this.indexArray=new Qr,this.programConfigurations=t,this.segments=new gi,this.dynamicLayoutVertexArray=new Vr,this.opacityVertexArray=new Hr,this.placedSymbolArray=new ai};rs.prototype.upload=function(t,e,n,r){n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ua.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Ga.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,ts,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t)},rs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Qn("SymbolBuffers",rs);var is=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new gi,this.collisionVertexArray=new qr};is.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,qa.members,!0)},is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Qn("CollisionBuffers",is);var os=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Qa(this.zoom,e["text-size"]),this.iconSizeData=Qa(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r="viewport-y"===n.get("symbol-z-order");this.sortFeaturesByY=r&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),this.sourceID=t.sourceID};os.prototype.createArrays=function(){this.text=new rs(new Ri(Ua.members,this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new rs(new Ri(Ua.members,this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.collisionBox=new is(Gr,Wa.members,$r),this.collisionCircle=new is(Gr,Za.members,Qr),this.glyphOffsetArray=new ci,this.lineVertexArray=new hi,this.symbolInstances=new li},os.prototype.calculateGlyphDependencies=function(t,e,n,r){for(var i=0;i<t.length;i++)if(e[t.charCodeAt(i)]=!0,n&&r){var o=Ja[t.charAt(i)];o&&(e[o.charCodeAt(0)]=!0)}},os.prototype.populate=function(t,e){var n=this.layers[0],r=n.layout,i=r.get("text-font"),o=r.get("text-field"),a=r.get("icon-image"),s=("constant"!==o.value.kind||o.value.value.toString().length>0)&&("constant"!==i.value.kind||i.value.value.length>0),l="constant"!==a.value.kind||a.value.value&&a.value.value.length>0;if(this.features=[],s||l){for(var u=e.iconDependencies,c=e.glyphDependencies,p=new mr(this.zoom),h=0,d=t;h<d.length;h+=1){var f=d[h],m=f.feature,g=f.index,y=f.sourceLayerIndex;if(n._featureFilter(p,m)){var _=void 0;if(s){var v=n.getValueAndResolveTokens("text-field",m);_=Xa(v instanceof It?v:It.fromString(v),n,m)}var b=void 0;if(l&&(b=n.getValueAndResolveTokens("icon-image",m)),_||b){var x={text:_,icon:b,index:g,sourceLayerIndex:y,geometry:ji(m),properties:m.properties,type:$a[m.type]};if(void 0!==m.id&&(x.id=m.id),this.features.push(x),b&&(u[b]=!0),_)for(var w=i.evaluate(m,{}).join(","),M="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement"),C=0,L=_.sections;C<L.length;C+=1){var E=L[C],k=ir(_.toString()),T=E.fontStack||w,S=c[T]=c[T]||{};this.calculateGlyphDependencies(E.text,S,M,k)}}}}"line"===r.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var u=0;u<t.length;u++){var c=t[u],p=c.geometry,h=c.text?c.text.toString():null;if(h){var d=l(h,p),f=l(h,p,!0);if(d in n&&f in e&&n[d]!==e[f]){var m=s(d,f,p),g=a(d,f,r[m].geometry);delete e[d],delete n[f],n[l(h,r[g].geometry,!0)]=g,r[m].geometry=null}else d in n?a(d,f,p):f in e?s(d,f,p):(o(u),e[d]=i-1,n[f]=i-1)}else o(u)}return r.filter(function(t){return t.geometry})}(this.features))}},os.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},os.prototype.isEmpty=function(){return 0===this.symbolInstances.length},os.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},os.prototype.upload=function(t){this.uploaded||(this.collisionBox.upload(t),this.collisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},os.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},os.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var l=0;l<e.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},os.prototype.addSymbols=function(t,e,n,r,i,o,a,s,l,u){for(var c=t.indexArray,p=t.layoutVertexArray,h=t.dynamicLayoutVertexArray,d=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),f=this.glyphOffsetArray.length,m=d.vertexLength,g=0,y=e;g<y.length;g+=1){var _=y[g],v=_.tl,b=_.tr,x=_.bl,w=_.br,M=_.tex,C=d.vertexLength,L=_.glyphOffset[1];es(p,s.x,s.y,v.x,L+v.y,M.x,M.y,n),es(p,s.x,s.y,b.x,L+b.y,M.x+M.w,M.y,n),es(p,s.x,s.y,x.x,L+x.y,M.x,M.y+M.h,n),es(p,s.x,s.y,w.x,L+w.y,M.x+M.w,M.y+M.h,n),ns(h,s,0),c.emplaceBack(C,C+1,C+2),c.emplaceBack(C+1,C+2,C+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(_.glyphOffset[0])}t.placedSymbolArray.emplaceBack(s.x,s.y,f,this.glyphOffsetArray.length-f,m,l,u,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{})},os.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},os.prototype.addCollisionDebugVertices=function(t,e,n,r,o,a,s,l){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),c=u.vertexLength,p=o.layoutVertexArray,h=o.collisionVertexArray,d=s.anchorX,f=s.anchorY;if(this._addCollisionDebugVertex(p,h,a,d,f,new i(t,e)),this._addCollisionDebugVertex(p,h,a,d,f,new i(n,e)),this._addCollisionDebugVertex(p,h,a,d,f,new i(n,r)),this._addCollisionDebugVertex(p,h,a,d,f,new i(t,r)),u.vertexLength+=4,l){var m=o.indexArray;m.emplaceBack(c,c+1,c+2),m.emplaceBack(c,c+2,c+3),u.primitiveLength+=2}else{var g=o.indexArray;g.emplaceBack(c,c+1),g.emplaceBack(c+1,c+2),g.emplaceBack(c+2,c+3),g.emplaceBack(c+3,c),u.primitiveLength+=4}},os.prototype.addDebugCollisionBoxes=function(t,e,n){for(var r=t;r<e;r++){var i=this.collisionBoxArray.get(r),o=i.radius>0;this.addCollisionDebugVertices(i.x1,i.y1,i.x2,i.y2,o?this.collisionCircle:this.collisionBox,i.anchorPoint,n,o)}},os.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e)}},os.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i){for(var o={},a=e;a<n;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},o.textFeatureIndex=s.featureIndex;break}o.textCircles||(o.textCircles=[],o.textFeatureIndex=s.featureIndex),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=r;l<i;l++){var u=t.get(l);if(0===u.radius){o.iconBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY},o.iconFeatureIndex=u.featureIndex;break}}return o},os.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex))}},os.prototype.hasTextData=function(){return this.text.segments.get().length>0},os.prototype.hasIconData=function(){return this.icon.segments.get().length>0},os.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},os.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},os.prototype.addIndicesForPlacedTextSymbol=function(t){for(var e=this.text.placedSymbolArray.get(t),n=e.vertexStartIndex+4*e.numGlyphs,r=e.vertexStartIndex;r<n;r+=4)this.text.indexArray.emplaceBack(r,r+1,r+2),this.text.indexArray.emplaceBack(r+1,r+2,r+3)},os.prototype.sortFeatures=function(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var e=[],n=0;n<this.symbolInstances.length;n++)e.push(n);for(var r=Math.sin(t),i=Math.cos(t),o=[],a=[],s=0;s<this.symbolInstances.length;s++){var l=this.symbolInstances.get(s);o.push(0|Math.round(r*l.anchorX+i*l.anchorY)),a.push(l.featureIndex)}e.sort(function(t,e){return o[t]-o[e]||a[e]-a[t]}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var u=0,c=e;u<c.length;u+=1){var p=c[u],h=this.symbolInstances.get(p);this.featureSortOrder.push(h.featureIndex),h.horizontalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.horizontalPlacedTextSymbolIndex),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.verticalPlacedTextSymbolIndex);var d=this.icon.placedSymbolArray.get(p);if(d.numGlyphs){var f=d.vertexStartIndex;this.icon.indexArray.emplaceBack(f,f+1,f+2),this.icon.indexArray.emplaceBack(f+1,f+2,f+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Qn("SymbolBucket",os,{omit:["layers","collisionBoxArray","features","compareText"]}),os.MAX_GLYPHS=65535,os.addDynamicAttributes=ns;var as=new Sr({"symbol-placement":new Cr(st.layout_symbol["symbol-placement"]),"symbol-spacing":new Cr(st.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Cr(st.layout_symbol["symbol-avoid-edges"]),"symbol-z-order":new Cr(st.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Cr(st.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Cr(st.layout_symbol["icon-ignore-placement"]),"icon-optional":new Cr(st.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Cr(st.layout_symbol["icon-rotation-alignment"]),"icon-size":new Lr(st.layout_symbol["icon-size"]),"icon-text-fit":new Cr(st.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Cr(st.layout_symbol["icon-text-fit-padding"]),"icon-image":new Lr(st.layout_symbol["icon-image"]),"icon-rotate":new Lr(st.layout_symbol["icon-rotate"]),"icon-padding":new Cr(st.layout_symbol["icon-padding"]),"icon-keep-upright":new Cr(st.layout_symbol["icon-keep-upright"]),"icon-offset":new Lr(st.layout_symbol["icon-offset"]),"icon-anchor":new Lr(st.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Cr(st.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Cr(st.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Cr(st.layout_symbol["text-rotation-alignment"]),"text-field":new Lr(st.layout_symbol["text-field"]),"text-font":new Lr(st.layout_symbol["text-font"]),"text-size":new Lr(st.layout_symbol["text-size"]),"text-max-width":new Lr(st.layout_symbol["text-max-width"]),"text-line-height":new Cr(st.layout_symbol["text-line-height"]),"text-letter-spacing":new Lr(st.layout_symbol["text-letter-spacing"]),"text-justify":new Lr(st.layout_symbol["text-justify"]),"text-anchor":new Lr(st.layout_symbol["text-anchor"]),"text-max-angle":new Cr(st.layout_symbol["text-max-angle"]),"text-rotate":new Lr(st.layout_symbol["text-rotate"]),"text-padding":new Cr(st.layout_symbol["text-padding"]),"text-keep-upright":new Cr(st.layout_symbol["text-keep-upright"]),"text-transform":new Lr(st.layout_symbol["text-transform"]),"text-offset":new Lr(st.layout_symbol["text-offset"]),"text-allow-overlap":new Cr(st.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Cr(st.layout_symbol["text-ignore-placement"]),"text-optional":new Cr(st.layout_symbol["text-optional"])}),ss={paint:new Sr({"icon-opacity":new Lr(st.paint_symbol["icon-opacity"]),"icon-color":new Lr(st.paint_symbol["icon-color"]),"icon-halo-color":new Lr(st.paint_symbol["icon-halo-color"]),"icon-halo-width":new Lr(st.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Lr(st.paint_symbol["icon-halo-blur"]),"icon-translate":new Cr(st.paint_symbol["icon-translate"]),"icon-translate-anchor":new Cr(st.paint_symbol["icon-translate-anchor"]),"text-opacity":new Lr(st.paint_symbol["text-opacity"]),"text-color":new Lr(st.paint_symbol["text-color"]),"text-halo-color":new Lr(st.paint_symbol["text-halo-color"]),"text-halo-width":new Lr(st.paint_symbol["text-halo-width"]),"text-halo-blur":new Lr(st.paint_symbol["text-halo-blur"]),"text-translate":new Cr(st.paint_symbol["text-translate"]),"text-translate-anchor":new Cr(st.paint_symbol["text-translate-anchor"])}),layout:as},ls=function(t){function e(e){t.call(this,e,ss)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var n,r=this.layout.get(t).evaluate(e,{}),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||an(i.value)?r:(n=e.properties,r.replace(/{([^{}]+)}/g,function(t,e){return e in n?String(n[e]):""}))},e.prototype.createBucket=function(t){return new os(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(Ar),us={paint:new Sr({"background-color":new Cr(st.paint_background["background-color"]),"background-pattern":new kr(st.paint_background["background-pattern"]),"background-opacity":new Cr(st.paint_background["background-opacity"])})},cs=function(t){function e(e){t.call(this,e,us)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ar),ps={paint:new Sr({"raster-opacity":new Cr(st.paint_raster["raster-opacity"]),"raster-hue-rotate":new Cr(st.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Cr(st.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Cr(st.paint_raster["raster-brightness-max"]),"raster-saturation":new Cr(st.paint_raster["raster-saturation"]),"raster-contrast":new Cr(st.paint_raster["raster-contrast"]),"raster-resampling":new Cr(st.paint_raster["raster-resampling"]),"raster-fade-duration":new Cr(st.paint_raster["raster-fade-duration"])})},hs=function(t){function e(e){t.call(this,e,ps)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ar),ds=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender||"3d"===this.implementation.renderingMode},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t)},e}(Ar),fs={circle:yo,heatmap:ko,hillshade:So,fill:ha,"fill-extrusion":ba,line:Va,symbol:ls,background:cs,raster:hs};function ms(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort(function(t,e){return e.h-t.h});for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,l=0,u=0,c=t;u<c.length;u+=1)for(var p=c[u],h=a.length-1;h>=0;h--){var d=a[h];if(!(p.w>d.w||p.h>d.h)){if(p.x=d.x,p.y=d.y,l=Math.max(l,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===d.w&&p.h===d.h){var f=a.pop();h<a.length&&(a[h]=f)}else p.h===d.h?(d.x+=p.w,d.w-=p.w):p.w===d.w?(d.y+=p.h,d.h-=p.h):(a.push({x:d.x+p.w,y:d.y,w:d.w-p.w,h:p.h}),d.y+=p.h,d.h-=p.h);break}}return{w:s,h:l,fill:e/(s*l)||0}}var gs=function(t,e){var n=e.pixelRatio;this.paddedRect=t,this.pixelRatio=n},ys={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};ys.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},ys.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},ys.tlbr.get=function(){return this.tl.concat(this.br)},ys.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(gs.prototype,ys);var _s=function(t,e){var n={},r={},i=[];for(var o in t){var a=t[o],s={x:0,y:0,w:a.data.width+2,h:a.data.height+2};i.push(s),n[o]=new gs(s,a)}for(var l in e){var u=e[l],c={x:0,y:0,w:u.data.width+2,h:u.data.height+2};i.push(c),r[l]=new gs(c,u)}var p=ms(i),h=new Co({width:p.w||1,height:p.h||1});for(var d in t){var f=t[d],m=n[d].paddedRect;Co.copy(f.data,h,{x:0,y:0},{x:m.x+1,y:m.y+1},f.data)}for(var g in e){var y=e[g],_=r[g].paddedRect,v=_.x+1,b=_.y+1,x=y.data.width,w=y.data.height;Co.copy(y.data,h,{x:0,y:0},{x:v,y:b},y.data),Co.copy(y.data,h,{x:0,y:w-1},{x:v,y:b-1},{width:x,height:1}),Co.copy(y.data,h,{x:0,y:0},{x:v,y:b+w},{width:x,height:1}),Co.copy(y.data,h,{x:x-1,y:0},{x:v-1,y:b},{width:1,height:w}),Co.copy(y.data,h,{x:0,y:0},{x:v+x,y:b},{width:1,height:w})}this.image=h,this.iconPositions=n,this.patternPositions=r};Qn("ImagePosition",gs),Qn("ImageAtlas",_s);var vs=self.HTMLImageElement,bs=self.HTMLCanvasElement,xs=self.HTMLVideoElement,ws=self.ImageData,Ms=function(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};Ms.prototype.update=function(t,e){var n=t.width,r=t.height,i=!this.size||this.size[0]!==n||this.size[1]!==r,o=this.context,a=o.gl;this.useMipmap=Boolean(e&&e.useMipmap),a.bindTexture(a.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===a.RGBA&&(!e||!1!==e.premultiply)),i?(this.size=[n,r],t instanceof vs||t instanceof bs||t instanceof xs||t instanceof ws?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,t):a.texImage2D(a.TEXTURE_2D,0,this.format,n,r,0,this.format,a.UNSIGNED_BYTE,t.data)):t instanceof vs||t instanceof bs||t instanceof xs||t instanceof ws?a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,t):a.texSubImage2D(a.TEXTURE_2D,0,0,0,n,r,a.RGBA,a.UNSIGNED_BYTE,t.data),this.useMipmap&&this.isSizePowerOfTwo()&&a.generateMipmap(a.TEXTURE_2D)},Ms.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Ms.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ms.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Cs=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,h=n?-1:1,d=t[e+p];for(p+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+p],p+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+p],p+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},Ls=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,p=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+p>=1?h/l:h*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*l-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+d]=255&a,d+=f,a/=256,u-=8);t[n+d-f]|=128*m},Es=ks;function ks(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function Ts(t){return t.type===ks.Bytes?t.readVarint()+t.pos:t.pos+1}function Ss(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function As(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function Ds(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function Is(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function Ps(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Os(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function Ns(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function Rs(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function Fs(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function Ys(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function Bs(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function zs(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function js(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function Vs(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}ks.Varint=0,ks.Fixed64=1,ks.Bytes=2,ks.Fixed32=5,ks.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=zs(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Vs(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=zs(this.buf,this.pos)+4294967296*zs(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=zs(this.buf,this.pos)+4294967296*Vs(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Cs(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Cs(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return Ss(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return Ss(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return Ss(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return Ss(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return Ss(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return Ss(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=Ts(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===ks.Varint)for(;this.buf[this.pos++]>127;);else if(e===ks.Bytes)this.pos=this.readVarint()+this.pos;else if(e===ks.Fixed32)this.pos+=4;else{if(e!==ks.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),js(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),js(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),js(this.buf,-1&t,this.pos),js(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),js(this.buf,-1&t,this.pos),js(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&As(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Ls(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Ls(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&As(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,ks.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,Ds,e)},writePackedSVarint:function(t,e){this.writeMessage(t,Is,e)},writePackedBoolean:function(t,e){this.writeMessage(t,Ns,e)},writePackedFloat:function(t,e){this.writeMessage(t,Ps,e)},writePackedDouble:function(t,e){this.writeMessage(t,Os,e)},writePackedFixed32:function(t,e){this.writeMessage(t,Rs,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,Fs,e)},writePackedFixed64:function(t,e){this.writeMessage(t,Ys,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,Bs,e)},writeBytesField:function(t,e){this.writeTag(t,ks.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,ks.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,ks.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,ks.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,ks.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,ks.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,ks.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,ks.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,ks.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,ks.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Hs=3;function Us(t,e,n){1===t&&n.readMessage(Gs,e)}function Gs(t,e,n){if(3===t){var r=n.readMessage(qs,{}),i=r.width,o=r.height,a=r.left,s=r.top,l=r.advance;e.push({id:r.id,bitmap:new Mo({width:i+2*Hs,height:o+2*Hs},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function qs(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}var Ws=Hs,Zs=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,g(["receive"],this),this.target.addEventListener("message",this.receive,!1)};function Xs(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}Zs.prototype.send=function(t,e,n,r){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n);var o=[];this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(i),data:tr(e,o)},o)},Zs.prototype.receive=function(t){var e,n=this,r=t.data,i=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var o=function(t,e){var r=[];n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(i),error:t?tr(t):null,data:tr(e,r)},r)};if("<response>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&r.error?e(er(r.error)):e&&e(null,er(r.data));else if(void 0!==r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,er(r.data),o);else if(void 0!==r.id&&this.parent.getWorkerSource){var a=r.type.split("."),s=er(r.data);this.parent.getWorkerSource(r.sourceMapId,a[0],s.source)[a[1]](s,o)}else this.parent[r.type](er(r.data))}},Zs.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var Js=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Js.prototype.setNorthEast=function(t){return this._ne=t instanceof Ks?new Ks(t.lng,t.lat):Ks.convert(t),this},Js.prototype.setSouthWest=function(t){return this._sw=t instanceof Ks?new Ks(t.lng,t.lat):Ks.convert(t),this},Js.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof Ks)e=t,n=t;else{if(!(t instanceof Js))return Array.isArray(t)?t.every(Array.isArray)?this.extend(Js.convert(t)):this.extend(Ks.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Ks(e.lng,e.lat),this._ne=new Ks(n.lng,n.lat)),this},Js.prototype.getCenter=function(){return new Ks((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Js.prototype.getSouthWest=function(){return this._sw},Js.prototype.getNorthEast=function(){return this._ne},Js.prototype.getNorthWest=function(){return new Ks(this.getWest(),this.getNorth())},Js.prototype.getSouthEast=function(){return new Ks(this.getEast(),this.getSouth())},Js.prototype.getWest=function(){return this._sw.lng},Js.prototype.getSouth=function(){return this._sw.lat},Js.prototype.getEast=function(){return this._ne.lng},Js.prototype.getNorth=function(){return this._ne.lat},Js.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Js.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Js.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Js.convert=function(t){return!t||t instanceof Js?t:new Js(t)};var Ks=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};function Qs(t){return 2*Math.PI*6378137*Math.cos(t*Math.PI/180)}function $s(t){return(180+t)/360}function tl(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function el(t,e){return t/Qs(e)}function nl(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}Ks.prototype.wrap=function(){return new Ks(c(this.lng,-180,180),this.lat)},Ks.prototype.toArray=function(){return[this.lng,this.lat]},Ks.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ks.prototype.toBounds=function(t){var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Js(new Ks(this.lng-n,this.lat-e),new Ks(this.lng+n,this.lat+e))},Ks.convert=function(t){if(t instanceof Ks)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Ks(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Ks(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var rl=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};rl.fromLngLat=function(t,e){void 0===e&&(e=0);var n=Ks.convert(t);return new rl($s(n.lng),tl(n.lat),el(e,n.lat))},rl.prototype.toLngLat=function(){return new Ks(360*this.x-180,nl(this.y))},rl.prototype.toAltitude=function(){return this.z*Qs(nl(this.y))};var il=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=sl(0,t,e,n)};il.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},il.prototype.url=function(t,e){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Xs(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Xs(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},il.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new i((t.x*e-this.x)*Bi,(t.y*e-this.y)*Bi)};var ol=function(t,e){this.wrap=t,this.canonical=e,this.key=sl(t,e.z,e.x,e.y)},al=function(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new il(n,+r,+i),this.key=sl(e,t,r,i)};function sl(t,e,n,r){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*r+n)+e}al.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},al.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new al(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new al(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},al.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},al.prototype.children=function(t){if(this.overscaledZ>=t)return[new al(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new al(e,this.wrap,e,n,r),new al(e,this.wrap,e,n+1,r),new al(e,this.wrap,e,n,r+1),new al(e,this.wrap,e,n+1,r+1)]},al.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},al.prototype.wrapped=function(){return new al(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},al.prototype.unwrapTo=function(t){return new al(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},al.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},al.prototype.toUnwrapped=function(){return new ol(this.wrap,this.canonical)},al.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},al.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new rl(t.x-this.wrap,t.y))},Qn("CanonicalTileID",il),Qn("OverscaledTileID",al,{omit:["posMatrix"]});var ll=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return w('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var r=this.dim=e.height;this.border=Math.max(Math.ceil(e.height/2),1),this.stride=this.dim+2*this.border,this.data=new Int32Array(this.stride*this.stride);for(var i=e.data,o="terrarium"===n?this._unpackTerrarium:this._unpackMapbox,a=0;a<r;a++)for(var s=0;s<r;s++){var l=4*(a*r+s);this.set(s,a,o(i[l],i[l+1],i[l+2]))}for(var u=0;u<r;u++)this.set(-1,u,this.get(0,u)),this.set(r,u,this.get(r-1,u)),this.set(u,-1,this.get(u,0)),this.set(u,r,this.get(u,r-1));this.set(-1,-1,this.get(0,0)),this.set(r,-1,this.get(r-1,0)),this.set(-1,r,this.get(0,r-1)),this.set(r,r,this.get(r-1,r-1))};ll.prototype.set=function(t,e,n){this.data[this._idx(t,e)]=n+65536},ll.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},ll.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},ll.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},ll.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},ll.prototype.getPixels=function(){return new Co({width:this.dim+2*this.border,height:this.dim+2*this.border},new Uint8Array(this.data.buffer))},ll.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=u(r,-this.border,this.dim+this.border),l=u(i,-this.border,this.dim+this.border),c=u(o,-this.border,this.dim+this.border),p=u(a,-this.border,this.dim+this.border),h=-e*this.dim,d=-n*this.dim,f=c;f<p;f++)for(var m=s;m<l;m++)this.set(m,f,t.get(m+h,f+d))},Qn("DEMData",ll);var ul=Or([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),cl=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};cl.prototype.encode=function(t){return this._stringToNumber[t]},cl.prototype.decode=function(t){return this._numberToString[t]};var pl=function(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},hl={geometry:{configurable:!0}};hl.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},hl.geometry.set=function(t){this._geometry=t},pl.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(pl.prototype,hl);var dl=function(){this.state={},this.stateChanges={}};dl.prototype.updateState=function(t,e,n){var r=String(e);this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},p(this.stateChanges[t][r],n)},dl.prototype.getState=function(t,e){var n=String(e);return p({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n])},dl.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},dl.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),p(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}if(this.stateChanges={},0!==Object.keys(n).length)for(var a in t)t[a].setFeatureState(n,e)};var fl=function(t,e,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new Wn(Bi,16,0),this.featureIndexArray=n||new fi};function ml(t,e){return e-t}fl.prototype.insert=function(t,e,n,r,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var a=0;a<e.length;a++){for(var s=e[a],l=[1/0,1/0,-1/0,-1/0],u=0;u<s.length;u++){var c=s[u];l[0]=Math.min(l[0],c.x),l[1]=Math.min(l[1],c.y),l[2]=Math.max(l[2],c.x),l[3]=Math.max(l[3],c.y)}l[0]<Bi&&l[1]<Bi&&l[2]>=0&&l[3]>=0&&this.grid.insert(o,l[0],l[1],l[2],l[3])}},fl.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Aa.VectorTile(new Es(this.rawTileData)).layers,this.sourceLayerCoder=new cl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},fl.prototype.query=function(t,e,n){var r=this;this.loadVTLayers();for(var i=t.params||{},o=Bi/t.tileSize/t.scale,a=xn(i.filter),s=t.queryGeometry,l=t.queryPadding*o,u=1/0,c=1/0,p=-1/0,h=-1/0,d=0;d<s.length;d++)for(var f=s[d],m=0;m<f.length;m++){var g=f[m];u=Math.min(u,g.x),c=Math.min(c,g.y),p=Math.max(p,g.x),h=Math.max(h,g.y)}var y=this.grid.query(u-l,c-l,p+l,h+l);y.sort(ml);for(var _,v={},b=function(l){var u=y[l];if(u!==_){_=u;var c=r.featureIndexArray.get(u),p=null;r.loadMatchingFeature(v,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,a,i.layers,e,function(e,i){p||(p=ji(e));var a={};return e.id&&(a=n.getState(i.sourceLayer||"_geojsonTileLayer",e.id)),i.queryIntersectsFeature(s,e,a,p,r.z,t.transform,o,t.posMatrix)})}},x=0;x<y.length;x++)b(x);return v},fl.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s){var l=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,l)){var u=this.sourceLayerCoder.decode(n),c=this.vtLayers[u].feature(r);if(i(new mr(this.tileID.overscaledZ),c))for(var p=0;p<l.length;p++){var h=l[p];if(!(o&&o.indexOf(h)<0)){var d=a[h];if(d&&(!s||s(c,d))){var f=new pl(c,this.z,this.x,this.y);f.layer=d.serialize();var m=t[h];void 0===m&&(m=t[h]=[]),m.push({featureIndex:r,feature:f})}}}}},fl.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o){var a={};this.loadVTLayers();for(var s=xn(r),l=0,u=t;l<u.length;l+=1)this.loadMatchingFeature(a,e,n,u[l],s,i,o);return a},fl.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},Qn("FeatureIndex",fl,{omit:["rawTileData","sourceLayerCoder"]});var gl=function(t,e){this.tileID=t,this.uid=d(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};gl.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<S.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},gl.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},gl.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){o.layers=a,o.stateDependentLayers=a.filter(function(t){return t.isStateDependent()});for(var s=0,l=a;s<l.length;s+=1)n[l[s].id]=o}}return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof os){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}for(var o in this.queryPadding=0,this.buckets){var a=this.buckets[o];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(o).queryRadius(a))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new ii},gl.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},gl.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},gl.prototype.getBucket=function(t){return this.buckets[t.id]},gl.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ms(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ms(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},gl.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,scale:r,tileSize:this.tileSize,posMatrix:s,transform:o,params:i,queryPadding:this.queryPadding*a},t,e):{}},gl.prototype.querySourceFeatures=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),r=n._geojsonTileLayer||n[e?e.sourceLayer:""];if(r)for(var i=xn(e&&e.filter),o=this.tileID.canonical,a=o.z,s=o.x,l=o.y,u={z:a,x:s,y:l},c=0;c<r.length;c++){var p=r.feature(c);if(i(new mr(this.tileID.overscaledZ),p)){var h=new pl(p,a,s,l);h.tile=u,t.push(h)}}}},gl.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},gl.prototype.setMask=function(t,e){if(!a(this.mask,t)&&(this.mask=t,this.clearMask(),!a(t,{0:!0}))){var n=new Fr,r=new Qr;this.segments=new gi,this.segments.prepareSegment(0,n,r);for(var o=Object.keys(t),s=0;s<o.length;s++){var l=t[o[s]],u=Bi>>l.z,c=new i(l.x*u,l.y*u),p=new i(c.x+u,c.y+u),h=this.segments.prepareSegment(4,n,r);n.emplaceBack(c.x,c.y,c.x,c.y),n.emplaceBack(p.x,c.y,p.x,c.y),n.emplaceBack(c.x,p.y,c.x,p.y),n.emplaceBack(p.x,p.y,p.x,p.y);var d=h.vertexLength;r.emplaceBack(d,d+1,d+2),r.emplaceBack(d+1,d+2,d+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(n,ul.members),this.maskedIndexBuffer=e.createIndexBuffer(r)}},gl.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},gl.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},gl.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=function(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""}),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},gl.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},gl.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];a&&s&&0!==Object.keys(s).length&&(i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(r).queryRadius(i))))}}},gl.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},gl.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<S.now()},gl.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},gl.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=S.now()+t};var yl={horizontal:1,vertical:2,horizontalOnly:3},_l=function(){this.text="",this.sectionIndex=[],this.sections=[]};_l.fromFeature=function(t,e){for(var n=new _l,r=0;r<t.sections.length;r++){var i=t.sections[r];n.sections.push({scale:i.scale||1,fontStack:i.fontStack||e}),n.text+=i.text;for(var o=0;o<i.text.length;o++)n.sectionIndex.push(r)}return n},_l.prototype.length=function(){return this.text.length},_l.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},_l.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},_l.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;r&&sr(r)&&!Ja[t[n+1]]||i&&sr(i)&&!Ja[t[n-1]]||!Ja[t[n]]?e+=t[n]:e+=Ja[t[n]]}return e}(this.text)},_l.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&vl[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&vl[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},_l.prototype.substring=function(t,e){var n=new _l;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},_l.prototype.toString=function(){return this.text},_l.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(e,n){return Math.max(e,t.sections[n].scale)},0)};var vl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},bl={};function xl(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function wl(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function Ml(t,e,n,r,i,o){for(var a=null,s=xl(e,n,i,o),l=0,u=r;l<u.length;l+=1){var c=u[l],p=xl(e-c.x,n,i,o)+c.badness;p<=s&&(a=c,s=p)}return{index:t,x:e,priorBreak:a,badness:s}}function Cl(t,e,n,r){if(!n)return[];if(!t)return[];for(var i,o=[],a=function(t,e,n,r){for(var i=0,o=0;o<t.length();o++){var a=t.getSection(o),s=r[a.fontStack],l=s&&s[t.getCharCode(o)];l&&(i+=l.metrics.advance*a.scale+e)}return i/Math.max(1,Math.ceil(i/n))}(t,e,n,r),s=0,l=0;l<t.length();l++){var u=t.getSection(l),c=t.getCharCode(l),p=r[u.fontStack],h=p&&p[c];h&&!vl[c]&&(s+=h.metrics.advance*u.scale+e),l<t.length()-1&&(bl[c]||!((i=c)<11904)&&(rr["Bopomofo Extended"](i)||rr.Bopomofo(i)||rr["CJK Compatibility Forms"](i)||rr["CJK Compatibility Ideographs"](i)||rr["CJK Compatibility"](i)||rr["CJK Radicals Supplement"](i)||rr["CJK Strokes"](i)||rr["CJK Symbols and Punctuation"](i)||rr["CJK Unified Ideographs Extension A"](i)||rr["CJK Unified Ideographs"](i)||rr["Enclosed CJK Letters and Months"](i)||rr["Halfwidth and Fullwidth Forms"](i)||rr.Hiragana(i)||rr["Ideographic Description Characters"](i)||rr["Kangxi Radicals"](i)||rr["Katakana Phonetic Extensions"](i)||rr.Katakana(i)||rr["Vertical Forms"](i)||rr["Yi Radicals"](i)||rr["Yi Syllables"](i)))&&o.push(Ml(l+1,s,a,o,wl(c,t.getCharCode(l+1)),!1))}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Ml(t.length(),s,a,o,0,!0))}function Ll(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function El(t,e,n,r,i){if(i){var o=t[r],a=e[o.fontStack],s=a&&a[o.glyph];if(s)for(var l=(t[r].x+s.metrics.advance*o.scale)*i,u=n;u<=r;u++)t[u].x-=l}}bl[10]=!0,bl[32]=!0,bl[38]=!0,bl[40]=!0,bl[41]=!0,bl[43]=!0,bl[45]=!0,bl[47]=!0,bl[173]=!0,bl[183]=!0,bl[8203]=!0,bl[8208]=!0,bl[8211]=!0,bl[8231]=!0,t.createCommonjsModule=e,t.Point=i,t.window=self,t.getJSON=function(t,e){return J(p(t,{type:"json"}),e)},t.getImage=et,t.ResourceType=W,t.browser=S,t.normalizeSpriteURL=function(t,e,n,r){var i=B(t);return O(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,P(i,r)):(i.path+=""+e+n,z(i))},t.RGBAImage=Co,t.potpack=ms,t.ImagePosition=gs,t.Texture=Ms,t.normalizeGlyphsURL=function(t,e){if(!O(t))return t;var n=B(t);return n.path="/fonts/v1"+n.path,P(n,e)},t.getArrayBuffer=K,t.parseGlyphPBF=function(t){return new Es(t).readFields(Us,[])},t.isChar=rr,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)})})},t.AlphaImage=Mo,t.styleSpec=st,t.endsWith=y,t.extend=p,t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.Evented=at,t.validateStyle=Vn,t.validateLight=Hn,t.emitValidationErrors=qn,t.Color=St,t.number=ne,t.Properties=Sr,t.Transitionable=_r,t.Transitioning=br,t.PossiblyEvaluated=Mr,t.DataConstantProperty=Cr,t.warnOnce=w,t.uniqueId=d,t.Actor=Zs,t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.normalizeSourceURL=function(t,e){if(!O(t))return t;var n=B(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),P(n,e)},t.LngLatBounds=Js,t.clamp=u,t.Event=it,t.ErrorEvent=ot,t.normalizeTileURL=function(t,e,n){if(!e||!O(e))return t;var r=B(t);return r.path=r.path.replace(F,(S.devicePixelRatio>=2||512===n?"@2x":"")+(S.supportsWebp?".webp":"$1")),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(D.ACCESS_TOKEN||""))}(r.params),z(r)},t.postTurnstileEvent=U,t.postMapLoadEvent=q,t.OverscaledTileID=al,t.EXTENT=Bi,t.CanonicalTileID=il,t.StructArrayLayout4i8=Fr,t.rasterBoundsAttributes=ul,t.SegmentVector=gi,t.MercatorCoordinate=rl,t.getVideo=function(t,e){var n,r,i=self.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var a=self.document.createElement("source");n=t[o],r=void 0,(r=self.document.createElement("a")).href=n,(r.protocol!==self.document.location.protocol||r.host!==self.document.location.host)&&(i.crossOrigin="Anonymous"),a.src=t[o],i.appendChild(a)}return{cancel:function(){}}},t.ValidationError=lt,t.bindAll=g,t.isEqual=a,t.Tile=gl,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.SourceFeatureState=dl,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.create=function(){var t=new io(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],h=e[10],d=e[11],f=e[12],m=e[13],g=e[14],y=e[15],_=n*s-r*a,v=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,M=i*u-o*l,C=c*m-p*f,L=c*g-h*f,E=c*y-d*f,k=p*g-h*m,T=p*y-d*m,S=h*y-d*g,A=_*S-v*T+b*k+x*E-w*L+M*C;return A?(t[0]=(s*S-l*T+u*k)*(A=1/A),t[1]=(i*T-r*S-o*k)*A,t[2]=(m*M-g*w+y*x)*A,t[3]=(h*w-p*M-d*x)*A,t[4]=(l*E-a*S-u*L)*A,t[5]=(n*S-i*E+o*L)*A,t[6]=(g*b-f*M-y*v)*A,t[7]=(c*M-h*b+d*v)*A,t[8]=(a*T-s*E+u*C)*A,t[9]=(r*E-n*T-o*C)*A,t[10]=(f*w-m*b+y*_)*A,t[11]=(p*b-c*w-d*_)*A,t[12]=(s*L-a*k-l*C)*A,t[13]=(n*k-r*L+i*C)*A,t[14]=(m*v-f*x-g*_)*A,t[15]=(c*x-p*v+h*_)*A,t):null},t.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],d=e[10],f=e[11],m=e[12],g=e[13],y=e[14],_=e[15],v=n[0],b=n[1],x=n[2],w=n[3];return t[0]=v*r+b*s+x*p+w*m,t[1]=v*i+b*l+x*h+w*g,t[2]=v*o+b*u+x*d+w*y,t[3]=v*a+b*c+x*f+w*_,t[4]=(v=n[4])*r+(b=n[5])*s+(x=n[6])*p+(w=n[7])*m,t[5]=v*i+b*l+x*h+w*g,t[6]=v*o+b*u+x*d+w*y,t[7]=v*a+b*c+x*f+w*_,t[8]=(v=n[8])*r+(b=n[9])*s+(x=n[10])*p+(w=n[11])*m,t[9]=v*i+b*l+x*h+w*g,t[10]=v*o+b*u+x*d+w*y,t[11]=v*a+b*c+x*f+w*_,t[12]=(v=n[12])*r+(b=n[13])*s+(x=n[14])*p+(w=n[15])*m,t[13]=v*i+b*l+x*h+w*g,t[14]=v*o+b*u+x*d+w*y,t[15]=v*a+b*c+x*f+w*_,t},t.translate=function(t,e,n){var r,i,o,a,s,l,u,c,p,h,d,f,m=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],d=e[10],f=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=h,t[10]=d,t[11]=f,t[12]=r*m+s*g+p*y+e[12],t[13]=i*m+l*g+h*y+e[13],t[14]=o*m+u*g+d*y+e[14],t[15]=a*m+c*g+f*y+e[15]),t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+p*r,t[7]=l*i+h*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=p*i-s*r,t[11]=h*i-l*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+p*r,t[3]=l*i+h*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=p*i-s*r,t[7]=h*i-l*r,t},t.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t},t.create$1=ho,t.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t},t.transformMat4=fo,t.forEach=mo,t.getSizeData=Qa,t.evaluateSizeForFeature=function(t,e,n){var r=e;return"source"===t.functionType?n.lowerSize/256:"composite"===t.functionType?ne(n.lowerSize/256,n.upperSize/256,r.uSizeT):r.uSize},t.evaluateSizeForZoom=function(t,e,n){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var r=t.zoomRange,i=t.sizeRange,o=u(hn(t.propertyValue,n.specification).interpolationFactor(e,r.min,r.max),0,1);return{uSizeT:0,uSize:i.min+o*(i.max-i.min)}}var a=t.zoomRange;return{uSizeT:u(hn(t.propertyValue,n.specification).interpolationFactor(e,a.min,a.max),0,1),uSize:0}},t.SIZE_PACK_FACTOR=256,t.addDynamicAttributes=ns,t.properties=ss,t.WritingMode=yl,t.multiPolygonIntersectsBufferedPoint=Ui,t.multiPolygonIntersectsMultiPolygon=Gi,t.multiPolygonIntersectsBufferedMultiLine=qi,t.polygonIntersectsPolygon=function(t,e){for(var n=0;n<t.length;n++)if($i(e,t[n]))return!0;for(var r=0;r<e.length;r++)if($i(t,e[r]))return!0;return!!Zi(t,e)},t.distToSegmentSquared=Ki,t.SymbolInstanceArray=li,t.StyleLayer=Ar,t.createStyleLayer=function(t){return"custom"===t.type?new ds(t):new fs[t.type](t)},t.clone=b,t.filterObject=v,t.mapObject=_,t.getReferrer=X,t.isMapboxURL=O,t.normalizeStyleURL=function(t,e){if(!O(t))return t;var n=B(t);return n.path="/styles/v1"+n.path,P(n,e)},t.registerForPluginAvailability=function(t){return pr?t({pluginURL:pr,completionCallback:ur}):dr.once("pluginAvailable",t),t},t.evented=dr,t.ZoomHistory=nr,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.createLayout=Or,t.ProgramConfiguration=Ni,t.Uniform1i=xi,t.Uniform1f=wi,t.Uniform2f=Mi,t.Uniform4f=Li,t.Uniform3f=Ci,t.UniformMatrix4f=Ti,t.create$2=oo,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.create$3=ao,t.length=so,t.fromValues=lo,t.normalize$1=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t},t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.len=co,t.forEach$1=po,t.UniformColor=Ei,t.StructArrayLayout2i4=Rr,t.StructArrayLayout2ui4=$r,t.StructArrayLayout3ui6=Qr,t.StructArrayLayout1ui2=ti,t.LngLat=Ks,t.mercatorXfromLng=$s,t.mercatorYfromLat=tl,t.mercatorZfromAltitude=el,t.wrap=c,t.UnwrappedTileID=ol,t.create$4=function(){var t=new io(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l,t},t.ease=l,t.bezier=s,t.config=D,t.EvaluationParameters=mr,t.version="0.51.0",t.setRTLTextPlugin=function(t,e){if(cr)throw new Error("setRTLTextPlugin cannot be called multiple times.");cr=!0,pr=S.resolveURL(t),ur=function(t){t?(cr=!1,pr=null,e&&e(t)):hr=!0},dr.fire(new it("pluginAvailable",{pluginURL:pr,completionCallback:ur}))},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.featureFilter=xn,t.Anchor=Ka,t.GLYPH_PBF_BORDER=Ws,t.shapeText=function(t,e,n,r,i,o,a,s,l,u,c){var p=_l.fromFeature(t,n);c===yl.vertical&&p.verticalizePunctuation();var h,d=[],f={positionedGlyphs:d,text:p,top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:c},m=fr.processBidirectionalText,g=fr.processStyledBidirectionalText;if(m&&1===p.sections.length){h=[];for(var y=0,_=m(p.toString(),Cl(p,s,r,e));y<_.length;y+=1){var v=_[y],b=new _l;b.text=v,b.sections=p.sections;for(var x=0;x<v.length;x++)b.sectionIndex.push(0);h.push(b)}}else if(g){h=[];for(var w=0,M=g(p.text,p.sectionIndex,Cl(p,s,r,e));w<M.length;w+=1){var C=M[w],L=new _l;L.text=C[0],L.sectionIndex=C[1],L.sections=p.sections,h.push(L)}}else h=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(i,s)),i=s}return i<r.length&&n.push(t.substring(i,r.length)),n}(p,Cl(p,s,r,e));return function(t,e,n,r,i,o,a,s,l){for(var u=0,c=-17,p=0,h=t.positionedGlyphs,d="right"===o?1:"left"===o?0:.5,f=0,m=n;f<m.length;f+=1){var g=m[f];g.trim();var y=g.getMaxScale();if(g.length()){for(var _=h.length,v=0;v<g.length();v++){var b=g.getSection(v),x=g.getCharCode(v),w=24*(y-b.scale),M=e[b.fontStack],C=M&&M[x];C&&(ar(x)&&a!==yl.horizontal?(h.push({glyph:x,x:u,y:w,vertical:!0,scale:b.scale,fontStack:b.fontStack}),u+=l*b.scale+s):(h.push({glyph:x,x:u,y:c+w,vertical:!1,scale:b.scale,fontStack:b.fontStack}),u+=C.metrics.advance*b.scale+s))}h.length!==_&&(p=Math.max(u-s,p),El(h,e,_,h.length-1,d)),u=0,c+=r*y}else c+=r}var L=Ll(i),E=L.horizontalAlign,k=L.verticalAlign;!function(t,e,n,r,i,o,a){for(var s=(d-E)*p,l=(-k*a+.5)*o,u=0;u<t.length;u++)t[u].x+=s,t[u].y+=l}(h,0,0,0,0,r,n.length);var T=c- -17;t.top+=-k*T,t.bottom=t.top+T,t.left+=-E*p,t.right=t.left+p}(f,e,h,i,o,a,c,s,u),!!d.length&&(f.text=f.text.toString(),f)},t.shapeIcon=function(t,e,n){var r=Ll(n),i=e[0]-t.displaySize[0]*r.horizontalAlign,o=e[1]-t.displaySize[1]*r.verticalAlign;return{image:t,top:o,bottom:o+t.displaySize[1],left:i,right:i+t.displaySize[0]}},t.allowsVerticalWritingMode=ir,t.allowsLetterSpacing=function(t){for(var e=0,n=t;e<n.length;e+=1)if(!or(n[e].charCodeAt(0)))return!1;return!0},t.classifyRings=aa,t.SymbolBucket=os,t.register=Qn,t.FeatureIndex=fl,t.CollisionBoxArray=ii,t.DictionaryCoder=cl,t.LineBucket=Fa,t.FillBucket=ca,t.FillExtrusionBucket=ga,t.ImageAtlas=_s,t.mvt=Aa,t.Protobuf=Es,t.DEMData=ll,t.vectorTile=Aa,t.Point$1=i,t.pbf=Es,t.plugin=fr}),r(0,function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",i=0,o=t;i<o.length;i+=1)r+=e(o[i])+",";return r+"]"}for(var a=Object.keys(t).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+e(t[a[l]])+",";return s+"}"}function n(n){for(var r="",i=0,o=t.refProperties;i<o.length;i+=1)r+="/"+e(n[o[i]]);return r}var r=function(t){t&&this.replace(t)};function i(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=t[a],p=t[a+1];if(!p)return!1;var h=t[a-1].angleTo(c)-c.angleTo(p);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),u+=h;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=c.dist(p)}return!0}function o(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function a(t,e,n){return t?.6*e*n:0}function s(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function l(e,n,r,l,u,c){for(var p=a(r,u,c),h=s(r,l)*c,d=0,f=o(e)/2,m=0;m<e.length-1;m++){var g=e[m],y=e[m+1],_=g.dist(y);if(d+_>f){var v=(f-d)/_,b=t.number(g.x,y.x,v),x=t.number(g.y,y.y,v),w=new t.Anchor(b,x,y.angleTo(g),m);return w._round(),!p||i(e,w,h,p,n)?w:void 0}d+=_}}function u(e,n,r,l,u,c,p,h,d){var f=a(l,c,p),m=s(l,u),g=m*p,y=0===e[0].x||e[0].x===d||0===e[0].y||e[0].y===d;return n-g<n/4&&(n=g+n/4),function e(n,r,a,s,l,u,c,p,h){for(var d=u/2,f=o(n),m=0,g=r-a,y=[],_=0;_<n.length-1;_++){for(var v=n[_],b=n[_+1],x=v.dist(b),w=b.angleTo(v);g+a<m+x;){var M=((g+=a)-m)/x,C=t.number(v.x,b.x,M),L=t.number(v.y,b.y,M);if(C>=0&&C<h&&L>=0&&L<h&&g-d>=0&&g+d<=f){var E=new t.Anchor(C,L,w,_);E._round(),s&&!i(n,E,u,s,l)||y.push(E)}}m+=x}return p||y.length||c||(y=e(n,m/2,a,s,l,u,c,!0,h)),y}(e,y?n/2*h%n:(m/2+2*c)*p*h%n,n,f,r,g,y,!1,d)}r.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},r.prototype.update=function(e,r){for(var i=this,o=0,a=e;o<a.length;o+=1){var s=a[o];i._layerConfigs[s.id]=s;var l=i._layers[s.id]=t.createStyleLayer(s);l._featureFilter=t.featureFilter(l.filter)}for(var u=0,c=r;u<c.length;u+=1){var p=c[u];delete i._layerConfigs[p],delete i._layers[p]}this.familiesBySource={};for(var h=0,d=function(t){for(var e={},r=0;r<t.length;r++){var i=n(t[r]),o=e[i];o||(o=e[i]=[]),o.push(t[r])}var a=[];for(var s in e)a.push(e[s]);return a}(t.values(this._layerConfigs));h<d.length;h+=1){var f=d[h].map(function(t){return i._layers[t.id]}),m=f[0];if("none"!==m.visibility){var g=m.source||"",y=i.familiesBySource[g];y||(y=i.familiesBySource[g]={});var _=m.sourceLayer||"_geojsonTileLayer",v=y[_];v||(v=y[_]=[]),v.push(f)}}};var c=function(e,n,r,i,o,a,s,l,u,c,p,h){var d=s.top*l-u,f=s.bottom*l+u,m=s.left*l-u,g=s.right*l+u;if(this.boxStartIndex=e.length,c){var y=f-d,_=g-m;y>0&&(y=Math.max(10*l,y),this._addLineCollisionCircles(e,n,r,r.segment,_,y,i,o,a,p))}else{if(h){var v=new t.Point(m,d),b=new t.Point(g,d),x=new t.Point(m,f),w=new t.Point(g,f),M=h*Math.PI/180;v._rotate(M),b._rotate(M),x._rotate(M),w._rotate(M),m=Math.min(v.x,b.x,x.x,w.x),g=Math.max(v.x,b.x,x.x,w.x),d=Math.min(v.y,b.y,x.y,w.y),f=Math.max(v.y,b.y,x.y,w.y)}e.emplaceBack(r.x,r.y,m,d,g,f,i,o,a,0,0)}this.boxEndIndex=e.length};c.prototype._addLineCollisionCircles=function(t,e,n,r,i,o,a,s,l,u){var c=o/2,p=Math.floor(i/c)||1,h=1+.4*Math.log(u)/Math.LN2,d=Math.floor(p*h/2),f=-o/2,m=n,g=r+1,y=f,_=-i/2,v=_-i/4;do{if(--g<0){if(y>_)return;g=0;break}y-=e[g].dist(m),m=e[g]}while(y>v);for(var b=e[g].dist(e[g+1]),x=-d;x<p+d;x++){var w=x*c,M=_+w;if(w<0&&(M+=w),w>i&&(M+=w-i),!(M<y)){for(;y+b<M;){if(y+=b,++g+1>=e.length)return;b=e[g].dist(e[g+1])}var C=M-y,L=e[g],E=e[g+1].sub(L)._unit()._mult(C)._add(L)._round(),k=Math.abs(M-f)<c?0:.8*(M-f);t.emplaceBack(E.x,E.y,-o/2,-o/2,o/2,o/2,a,s,l,o/2,k)}}};var p=d,h=d;function d(t,e){if(!(this instanceof d))return new d(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||f,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function f(t,e){return t<e?-1:t>e?1:0}function m(e,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);for(var i=1/0,o=1/0,a=-1/0,s=-1/0,l=e[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<i)&&(i=c.x),(!u||c.y<o)&&(o=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var h=Math.min(a-i,s-o),d=h/2,f=new p(null,g);if(0===h)return new t.Point(i,o);for(var m=i;m<a;m+=h)for(var _=o;_<s;_+=h)f.push(new y(m+d,_+d,d,e));for(var v=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var l=i[o],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,e+=3*c}return new y(n/e,r/e,0,t)}(e),b=f.length;f.length;){var x=f.pop();(x.d>v.d||!v.d)&&(v=x,r&&console.log("found best %d after %d probes",Math.round(1e4*x.d)/1e4,b)),x.max-v.d<=n||(f.push(new y(x.p.x-(d=x.h/2),x.p.y-d,d,e)),f.push(new y(x.p.x+d,x.p.y-d,d,e)),f.push(new y(x.p.x-d,x.p.y+d,d,e)),f.push(new y(x.p.x+d,x.p.y+d,d,e)),b+=4)}return r&&(console.log("num probes: "+b),console.log("best distance: "+v.d)),v.p}function g(t,e){return e.max-t.max}function y(e,n,r,i){this.p=new t.Point(e,n),this.h=r,this.d=function(e,n){for(var r=!1,i=1/0,o=0;o<n.length;o++)for(var a=n[o],s=0,l=a.length,u=l-1;s<l;u=s++){var c=a[s],p=a[u];c.y>e.y!=p.y>e.y&&e.x<(p.x-c.x)*(e.y-c.y)/(p.y-c.y)+c.x&&(r=!r),i=Math.min(i,t.distToSegmentSquared(e,c,p))}return(r?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}d.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}},p.default=h;var _=t.createCommonjsModule(function(t){t.exports=function(t,e){var n,r,i,o,a,s,l,u;for(r=t.length-(n=3&t.length),i=e,a=3432918353,s=461845907,u=0;u<r;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}}),v=t.createCommonjsModule(function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}}),b=_,x=v;function w(e,n,r,i,o,a){e.createArrays(),e.tilePixelRatio=t.EXTENT/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,u={};if("composite"===e.textSizeData.functionType){var c=e.textSizeData.zoomRange,p=c.max;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new t.EvaluationParameters(c.min)),l["text-size"].possiblyEvaluate(new t.EvaluationParameters(p))]}if("composite"===e.iconSizeData.functionType){var h=e.iconSizeData.zoomRange,d=h.max;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new t.EvaluationParameters(h.min)),l["icon-size"].possiblyEvaluate(new t.EvaluationParameters(d))]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new t.EvaluationParameters(e.zoom+1)),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new t.EvaluationParameters(e.zoom+1)),u.textMaxSize=l["text-size"].possiblyEvaluate(new t.EvaluationParameters(18));for(var f=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),g=s.get("text-keep-upright"),y=0,_=e.features;y<_.length;y+=1){var v=_[y],b=s.get("text-font").evaluate(v,{}).join(","),x=r,w={},C=v.text;if(C){var L=C.toString(),E=s.get("text-offset").evaluate(v,{}).map(function(t){return 24*t}),k=24*s.get("text-letter-spacing").evaluate(v,{}),T=t.allowsLetterSpacing(L)?k:0,S=s.get("text-anchor").evaluate(v,{}),A=s.get("text-justify").evaluate(v,{}),D="point"===s.get("symbol-placement")?24*s.get("text-max-width").evaluate(v,{}):0;w.horizontal=t.shapeText(C,n,b,D,f,S,A,T,E,24,t.WritingMode.horizontal),t.allowsVerticalWritingMode(L)&&m&&g&&(w.vertical=t.shapeText(C,n,b,D,f,S,A,T,E,24,t.WritingMode.vertical))}var I=void 0;if(v.icon){var P=i[v.icon];P&&(I=t.shapeIcon(o[v.icon],s.get("icon-offset").evaluate(v,{}),s.get("icon-anchor").evaluate(v,{})),void 0===e.sdfIcons?e.sdfIcons=P.sdf:e.sdfIcons!==P.sdf&&t.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),P.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==s.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}(w.horizontal||I)&&M(e,v,w,I,x,u)}a&&e.generateCollisionDebugBuffers()}function M(e,n,r,i,o,a){var s=a.layoutTextSize.evaluate(n,{}),p=a.layoutIconSize.evaluate(n,{}),h=a.textMaxSize.evaluate(n,{});void 0===h&&(h=s);var d=e.layers[0].layout,f=d.get("text-offset").evaluate(n,{}),g=d.get("icon-offset").evaluate(n,{}),y=e.tilePixelRatio*(s/24),_=e.tilePixelRatio*h/24,v=e.tilePixelRatio*p,x=e.tilePixelRatio*d.get("symbol-spacing"),w=d.get("text-padding")*e.tilePixelRatio,M=d.get("icon-padding")*e.tilePixelRatio,k=d.get("text-max-angle")/180*Math.PI,T="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),S="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),A=d.get("symbol-placement"),D=x/2,I=function(s,l){l.x<0||l.x>=t.EXTENT||l.y<0||l.y>=t.EXTENT||function(e,n,r,i,o,a,s,l,u,p,h,d,f,m,g,y,_,v,x,w,M){var E,k,T=e.addToLineVertexArray(n,r),S=0,A=0,D=0,I=b(i.horizontal?i.horizontal.text:""),P=[];if(i.horizontal){var O=a.layout.get("text-rotate").evaluate(x,{});E=new c(s,r,n,l,u,p,i.horizontal,h,d,f,e.overscaling,O),A+=L(e,n,i.horizontal,a,f,x,m,T,i.vertical?t.WritingMode.horizontal:t.WritingMode.horizontalOnly,P,w,M),i.vertical&&(D+=L(e,n,i.vertical,a,f,x,m,T,t.WritingMode.vertical,P,w,M))}var N=E?E.boxStartIndex:e.collisionBoxArray.length,R=E?E.boxEndIndex:e.collisionBoxArray.length;if(o){var F=function(e,n,r,i,o,a){var s,l,u,c,p=n.image,h=r.layout,d=n.top-1/p.pixelRatio,f=n.left-1/p.pixelRatio,m=n.bottom+1/p.pixelRatio,g=n.right+1/p.pixelRatio;if("none"!==h.get("icon-text-fit")&&o){var y=g-f,_=m-d,v=h.get("text-size").evaluate(a,{})/24,b=o.left*v,x=o.top*v,w=o.right*v-b,M=o.bottom*v-x,C=h.get("icon-text-fit-padding")[0],L=h.get("icon-text-fit-padding")[1],E=h.get("icon-text-fit-padding")[2],k=h.get("icon-text-fit-padding")[3],T="width"===h.get("icon-text-fit")?.5*(M-_):0,S="height"===h.get("icon-text-fit")?.5*(w-y):0,A="width"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?w:y,D="height"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?M:_;s=new t.Point(b+S-k,x+T-C),l=new t.Point(b+S+L+A,x+T-C),u=new t.Point(b+S+L+A,x+T+E+D),c=new t.Point(b+S-k,x+T+E+D)}else s=new t.Point(f,d),l=new t.Point(g,d),u=new t.Point(g,m),c=new t.Point(f,m);var I=r.layout.get("icon-rotate").evaluate(a,{})*Math.PI/180;if(I){var P=Math.sin(I),O=Math.cos(I),N=[O,-P,P,O];s._matMult(N),l._matMult(N),c._matMult(N),u._matMult(N)}return[{tl:s,tr:l,bl:c,br:u,tex:p.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,o,a,0,i.horizontal,x),Y=a.layout.get("icon-rotate").evaluate(x,{});k=new c(s,r,n,l,u,p,o,g,y,!1,e.overscaling,Y),S=4*F.length;var B=e.iconSizeData,z=null;"source"===B.functionType?(z=[t.SIZE_PACK_FACTOR*a.layout.get("icon-size").evaluate(x,{})])[0]>C&&t.warnOnce(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===B.functionType&&((z=[t.SIZE_PACK_FACTOR*M.compositeIconSizes[0].evaluate(x,{}),t.SIZE_PACK_FACTOR*M.compositeIconSizes[1].evaluate(x,{})])[0]>C||z[1]>C)&&t.warnOnce(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),e.addSymbols(e.icon,F,z,v,_,x,!1,n,T.lineStartIndex,T.lineLength)}var j=k?k.boxStartIndex:e.collisionBoxArray.length,V=k?k.boxEndIndex:e.collisionBoxArray.length;e.glyphOffsetArray.length>=t.SymbolBucket.MAX_GLYPHS&&t.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),e.symbolInstances.emplaceBack(n.x,n.y,P.length>0?P[0]:-1,P.length>1?P[1]:-1,I,N,R,j,V,l,A,D,S,0)}(e,l,s,r,i,e.layers[0],e.collisionBoxArray,n.index,n.sourceLayerIndex,e.index,y,w,T,f,v,M,S,g,n,o,a)};if("line"===A)for(var P=0,O=function(e,n,r,i,o){for(var a=[],s=0;s<e.length;s++)for(var l=e[s],u=void 0,c=0;c<l.length-1;c++){var p=l[c],h=l[c+1];p.x<0&&h.x<0||(p.x<0?p=new t.Point(0,p.y+(0-p.x)/(h.x-p.x)*(h.y-p.y))._round():h.x<0&&(h=new t.Point(0,p.y+(0-p.x)/(h.x-p.x)*(h.y-p.y))._round()),p.y<0&&h.y<0||(p.y<0?p=new t.Point(p.x+(0-p.y)/(h.y-p.y)*(h.x-p.x),0)._round():h.y<0&&(h=new t.Point(p.x+(0-p.y)/(h.y-p.y)*(h.x-p.x),0)._round()),p.x>=i&&h.x>=i||(p.x>=i?p=new t.Point(i,p.y+(i-p.x)/(h.x-p.x)*(h.y-p.y))._round():h.x>=i&&(h=new t.Point(i,p.y+(i-p.x)/(h.x-p.x)*(h.y-p.y))._round()),p.y>=o&&h.y>=o||(p.y>=o?p=new t.Point(p.x+(o-p.y)/(h.y-p.y)*(h.x-p.x),o)._round():h.y>=o&&(h=new t.Point(p.x+(o-p.y)/(h.y-p.y)*(h.x-p.x),o)._round()),u&&p.equals(u[u.length-1])||a.push(u=[p]),u.push(h)))))}return a}(n.geometry,0,0,t.EXTENT,t.EXTENT);P<O.length;P+=1)for(var N=O[P],R=0,F=u(N,x,k,r.vertical||r.horizontal,i,24,_,e.overscaling,t.EXTENT);R<F.length;R+=1){var Y=F[R],B=r.horizontal;B&&E(e,B.text,D,Y)||I(N,Y)}else if("line-center"===A)for(var z=0,j=n.geometry;z<j.length;z+=1){var V=j[z];if(V.length>1){var H=l(V,k,r.vertical||r.horizontal,i,24,_);H&&I(V,H)}}else if("Polygon"===n.type)for(var U=0,G=t.classifyRings(n.geometry,0);U<G.length;U+=1){var q=G[U],W=m(q,16);I(q[0],new t.Anchor(W.x,W.y,0))}else if("LineString"===n.type)for(var Z=0,X=n.geometry;Z<X.length;Z+=1){var J=X[Z];I(J,new t.Anchor(J[0].x,J[0].y,0))}else if("Point"===n.type)for(var K=0,Q=n.geometry;K<Q.length;K+=1)for(var $=0,tt=Q[K];$<tt.length;$+=1){var et=tt[$];I([et],new t.Anchor(et.x,et.y,0))}}b.murmur3=_,b.murmur2=x;var C=65535;function L(e,n,r,i,o,a,s,l,u,c,p,h){var d=function(e,n,r,i,o,a){for(var s=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,l=r.layout.get("text-offset").evaluate(o,{}).map(function(t){return 24*t}),u=n.positionedGlyphs,c=[],p=0;p<u.length;p++){var h=u[p],d=a[h.fontStack],f=d&&d[h.glyph];if(f){var m=f.rect;if(m){var g=t.GLYPH_PBF_BORDER+1,y=f.metrics.advance*h.scale/2,_=i?[h.x+y,h.y]:[0,0],v=i?[0,0]:[h.x+y+l[0],h.y+l[1]],b=(f.metrics.left-g)*h.scale-y+v[0],x=(-f.metrics.top-g)*h.scale+v[1],w=b+m.w*h.scale,M=x+m.h*h.scale,C=new t.Point(b,x),L=new t.Point(w,x),E=new t.Point(b,M),k=new t.Point(w,M);if(i&&h.vertical){var T=new t.Point(-y,y),S=-Math.PI/2,A=new t.Point(5,0);C._rotateAround(S,T)._add(A),L._rotateAround(S,T)._add(A),E._rotateAround(S,T)._add(A),k._rotateAround(S,T)._add(A)}if(s){var D=Math.sin(s),I=Math.cos(s),P=[I,-D,D,I];C._matMult(P),L._matMult(P),E._matMult(P),k._matMult(P)}c.push({tl:C,tr:L,bl:E,br:k,tex:m,writingMode:n.writingMode,glyphOffset:_})}}}return c}(0,r,i,o,a,p),f=e.textSizeData,m=null;return"source"===f.functionType?(m=[t.SIZE_PACK_FACTOR*i.layout.get("text-size").evaluate(a,{})])[0]>C&&t.warnOnce(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===f.functionType&&((m=[t.SIZE_PACK_FACTOR*h.compositeTextSizes[0].evaluate(a,{}),t.SIZE_PACK_FACTOR*h.compositeTextSizes[1].evaluate(a,{})])[0]>C||m[1]>C)&&t.warnOnce(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),e.addSymbols(e.text,d,m,s,o,a,u,n,l.lineStartIndex,l.lineLength),c.push(e.text.placedSymbolArray.length-1),4*d.length}function E(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}var k=function(e){var n={},r=[];for(var i in e){var o=e[i],a=n[i]={};for(var s in o){var l=o[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};r.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=t.potpack(r),p=new t.AlphaImage({width:c.w||1,height:c.h||1});for(var h in e){var d=e[h];for(var f in d){var m=d[+f];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var g=n[h][f].rect;t.AlphaImage.copy(m.bitmap,p,{x:0,y:0},{x:g.x+1,y:g.y+1},m.bitmap)}}}this.image=p,this.positions=n};t.register("GlyphAtlas",k);var T=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies};function S(e,n){for(var r=new t.EvaluationParameters(n),i=0,o=e;i<o.length;i+=1)o[i].recalculate(r)}T.prototype.parse=function(e,n,r,i){var o=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var a=new t.DictionaryCoder(Object.keys(e.layers).sort()),s=new t.FeatureIndex(this.tileID);s.bucketLayerIDs=[];var l,u,c,p,h={},d={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},f=n.familiesBySource[this.source];for(var m in f){var g=e.layers[m];if(g){1===g.version&&t.warnOnce('Vector tile source "'+o.source+'" layer "'+m+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var y=a.encode(m),_=[],v=0;v<g.length;v++){var b=g.feature(v);_.push({feature:b,index:v,sourceLayerIndex:y})}for(var x=0,M=f[m];x<M.length;x+=1){var C=M[x],L=C[0];L.minzoom&&o.zoom<Math.floor(L.minzoom)||L.maxzoom&&o.zoom>=L.maxzoom||"none"!==L.visibility&&(S(C,o.zoom),(h[L.id]=L.createBucket({index:s.bucketLayerIDs.length,layers:C,zoom:o.zoom,pixelRatio:o.pixelRatio,overscaling:o.overscaling,collisionBoxArray:o.collisionBoxArray,sourceLayerIndex:y,sourceID:o.source})).populate(_,d),s.bucketLayerIDs.push(C.map(function(t){return t.id})))}}}var E=t.mapObject(d.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(E).length?r.send("getGlyphs",{uid:this.uid,stacks:E},function(t,e){l||(l=t,u=e,D.call(o))}):u={};var T=Object.keys(d.iconDependencies);T.length?r.send("getImages",{icons:T},function(t,e){l||(l=t,c=e,D.call(o))}):c={};var A=Object.keys(d.patternDependencies);function D(){if(l)return i(l);if(u&&c&&p){var e=new k(u),n=new t.ImageAtlas(c,p);for(var r in h){var o=h[r];o instanceof t.SymbolBucket?(S(o.layers,this.zoom),w(o,u,e.positions,c,n.iconPositions,this.showCollisionBoxes)):o.hasPattern&&(o instanceof t.LineBucket||o instanceof t.FillBucket||o instanceof t.FillExtrusionBucket)&&(S(o.layers,this.zoom),o.addFeatures(d,n.patternPositions))}this.status="done",i(null,{buckets:t.values(h).filter(function(t){return!t.isEmpty()}),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?u:null,iconMap:this.returnDependencies?c:null,glyphPositions:this.returnDependencies?e.positions:null})}}A.length?r.send("getImages",{icons:A},function(t,e){l||(l=t,p=e,D.call(o))}):p={},D.call(this)};var A="undefined"!=typeof performance,D={getEntriesByName:function(t){return!!(A&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(t)},mark:function(t){return!!(A&&performance&&performance.mark)&&performance.mark(t)},measure:function(t,e,n){return!!(A&&performance&&performance.measure)&&performance.measure(t,e,n)},clearMarks:function(t){return!!(A&&performance&&performance.clearMarks)&&performance.clearMarks(t)},clearMeasures:function(t){return!!(A&&performance&&performance.clearMeasures)&&performance.clearMeasures(t)}},I=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},D.mark(this._marks.start)};function P(e,n){var r=t.getArrayBuffer(e.request,function(e,r,i,o){e?n(e):r&&n(null,{vectorTile:new t.mvt.VectorTile(new t.Protobuf(r)),rawData:r,cacheControl:i,expires:o})});return function(){r.cancel(),n()}}I.prototype.finish=function(){D.mark(this._marks.end);var t=D.getEntriesByName(this._marks.measure);return 0===t.length&&(D.measure(this._marks.measure,this._marks.start,this._marks.end),t=D.getEntriesByName(this._marks.measure),D.clearMarks(this._marks.start),D.clearMarks(this._marks.end),D.clearMeasures(this._marks.measure)),t},D.Performance=I;var O=function(t,e,n){this.actor=t,this.layerIndex=e,this.loadVectorData=n||P,this.loading={},this.loaded={}};O.prototype.loadTile=function(e,n){var r=this,i=e.uid;this.loading||(this.loading={});var o=!!(e&&e.request&&e.request.collectResourceTiming)&&new D.Performance(e.request),a=this.loading[i]=new T(e);a.abort=this.loadVectorData(e,function(e,s){if(delete r.loading[i],e||!s)return a.status="done",r.loaded[i]=a,n(e);var l=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl);var c={};if(o){var p=o.finish();p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}a.vectorTile=s.vectorTile,a.parse(s.vectorTile,r.layerIndex,r.actor,function(e,r){if(e||!r)return n(e);n(null,t.extend({rawTileData:l.slice(0)},r,u,c))}),r.loaded=r.loaded||{},r.loaded[i]=a})},O.prototype.reloadTile=function(t,e){var n=this.loaded,r=t.uid,i=this;if(n&&n[r]){var o=n[r];o.showCollisionBoxes=t.showCollisionBoxes;var a=function(t,n){var r=o.reloadCallback;r&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,i.actor,r)),e(t,n)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.actor,a):a())}},O.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},O.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var N=function(){this.loaded={}};N.prototype.loadTile=function(e,n){var r=e.uid,i=new t.DEMData(r,e.rawImageData,e.encoding);this.loaded=this.loaded||{},this.loaded[r]=i,n(null,i)},N.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var R={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function F(t){var e=0;if(t&&t.length>0){e+=Math.abs(Y(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(Y(t[n]))}return e}function Y(t){var e,n,r,i,o,a,s=0,l=t.length;if(l>2){for(a=0;a<l;a++)a===l-2?(r=l-2,i=l-1,o=0):a===l-1?(r=l-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(B(t[o][0])-B(e[0]))*Math.sin(B(n[1]));s=s*R.RADIUS*R.RADIUS/2}return s}function B(t){return t*Math.PI/180}var z={geometry:function t(e){var n,r=0;switch(e.type){case"Polygon":return F(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=F(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},ring:Y};function j(t,e){return function(n){return t(n,e)}}function V(t,e){t[0]=H(t[0],e=!!e);for(var n=1;n<t.length;n++)t[n]=H(t[n],!e);return t}function H(t,e){return function(t){return z.ring(t)>=0}(t)===e?t:t.reverse()}var U=t.mvt.VectorTileFeature.prototype.toGeoJSON,G=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};G.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];e.push([new t.Point(i[0],i[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var p=c[u];l.push(new t.Point(p[0],p[1]))}o.push(l)}return o},G.prototype.toGeoJSON=function(t,e,n){return U.call(this,t,e,n)};var q=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};q.prototype.feature=function(t){return new G(this._features[t])};var W=t.vectorTile.VectorTileFeature,Z=X;function X(t,e){this.options=e||{},this.features=t,this.length=t.length}function J(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}X.prototype.feature=function(t){return new J(this.features[t],this.options.extent)},J.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++)i.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},J.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[e,r,n,i]},J.prototype.toGeoJSON=W.prototype.toGeoJSON;var K=$,Q=Z;function $(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,tt,t.layers[n])}(e,n),n.finish()}function tt(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,et,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,at,o[n])}function et(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,nt,t),e.writeVarintField(3,n.type),e.writeMessage(4,ot,n)}function nt(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(r.push(s),o[s]=l=r.length-1),e.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var p=c+":"+u,h=a[p];void 0===h&&(i.push(u),a[p]=h=i.length-1),e.writeVarint(h)}}function rt(t,e){return(e<<3)+(7&t)}function it(t){return t<<1^t>>31}function ot(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===r&&(u=l.length),e.writeVarint(rt(1,u));for(var c=3===r?l.length-1:l.length,p=0;p<c;p++){1===p&&1!==r&&e.writeVarint(rt(2,c-1));var h=l[p].x-i,d=l[p].y-o;e.writeVarint(it(h)),e.writeVarint(it(d)),i+=h,o+=d}3===r&&e.writeVarint(rt(7,0))}}function at(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function st(t,e,n,r){lt(t,n,r),lt(e,2*n,2*r),lt(e,2*n+1,2*r+1)}function lt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ut(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function ct(t,e,n,r,i){return new pt(t,e,n,r,i)}function pt(t,e,n,r,i){e=e||ht,n=n||dt,i=i||Array,this.nodeSize=r||64,this.points=t,this.ids=new i(t.length),this.coords=new i(2*t.length);for(var o=0;o<t.length;o++)this.ids[o]=o,this.coords[2*o]=e(t[o]),this.coords[2*o+1]=n(t[o]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=Math.floor((i+o)/2);!function t(e,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-l*c/s+p)),Math.min(o,Math.floor(r+(s-l)*c/s+p)),a)}var h=n[2*r+a],d=i,f=o;for(st(e,n,i,r),n[2*o+a]>h&&st(e,n,i,o);d<f;){for(st(e,n,d,f),d++,f--;n[2*d+a]<h;)d++;for(;n[2*f+a]>h;)f--}n[2*i+a]===h?st(e,n,i,f):st(e,n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function ht(t){return t[0]}function dt(t){return t[1]}function ft(t){this.options=bt(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function mt(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function gt(t){return{type:"Feature",id:t.id,properties:yt(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function yt(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return bt(bt({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function _t(t){return t/360+.5}function vt(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function bt(t,e){for(var n in e)t[n]=e[n];return t}function xt(t){return t.x}function wt(t){return t.y}function Mt(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=t-n)*a+(s=e-r)*s}function Ct(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Lt(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)Lt(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)Lt(t,e[r][i])}(i),i}function Lt(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function Et(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=e.id;if(n.promoteId?l=e.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)kt(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)kt(i[u],s);else if("LineString"===o)Tt(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)Tt(i[u],s=[],a,!1),t.push(Ct(l,"LineString",s,e.properties));return}St(i,s,a,!1)}else if("Polygon"===o)St(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<e.geometry.geometries.length;u++)Et(t,{id:l,geometry:e.geometry.geometries[u],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];St(i[u],c,a,!0),s.push(c)}}t.push(Ct(l,o,s,e.properties))}}function kt(t,e){e.push(At(t[0])),e.push(Dt(t[1])),e.push(0)}function Tt(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var l=At(t[s][0]),u=Dt(t[s][1]);e.push(l),e.push(u),e.push(0),s>0&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,l=r-n,u=e[n],c=e[n+1],p=e[r],h=e[r+1],d=n+3;d<r;d+=3){var f=Mt(e[d],e[d+1],u,c,p,h);if(f>a)o=d,a=f;else if(f===a){var m=Math.abs(d-s);m<l&&(o=d,l=m)}}a>i&&(o-n>3&&t(e,n,o,i),e[o+2]=a,r-o>3&&t(e,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function St(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];Tt(t[i],o,n,r),e.push(o)}}function At(t){return t/360+.5}function Dt(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function It(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var l=[],u=0;u<t.length;u++){var c=t[u],p=c.geometry,h=c.type,d=0===i?c.minX:c.minY,f=0===i?c.maxX:c.maxY;if(d>=n&&f<r)l.push(c);else if(!(f<n||d>=r)){var m=[];if("Point"===h||"MultiPoint"===h)Pt(p,m,n,r,i);else if("LineString"===h)Ot(p,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===h)Rt(p,m,n,r,i,!1);else if("Polygon"===h)Rt(p,m,n,r,i,!0);else if("MultiPolygon"===h)for(var g=0;g<p.length;g++){var y=[];Rt(p[g],y,n,r,i,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(g=0;g<m.length;g++)l.push(Ct(c.id,h,m[g],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),l.push(Ct(c.id,h,m,c.tags))}}}return l.length?l:null}function Pt(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function Ot(t,e,n,r,i,o,a){for(var s,l,u=Nt(t),c=0===i?Yt:Bt,p=t.start,h=0;h<t.length-3;h+=3){var d=t[h],f=t[h+1],m=t[h+2],g=t[h+3],y=t[h+4],_=0===i?d:f,v=0===i?g:y,b=!1;a&&(s=Math.sqrt(Math.pow(d-g,2)+Math.pow(f-y,2))),_<n?v>n&&(l=c(u,d,f,g,y,n),a&&(u.start=p+s*l)):_>r?v<r&&(l=c(u,d,f,g,y,r),a&&(u.start=p+s*l)):Ft(u,d,f,m),v<n&&_>=n&&(l=c(u,d,f,g,y,n),b=!0),v>r&&_<=r&&(l=c(u,d,f,g,y,r),b=!0),!o&&b&&(a&&(u.end=p+s*l),e.push(u),u=Nt(t)),a&&(p+=s)}var x=t.length-3;d=t[x],f=t[x+1],m=t[x+2],(_=0===i?d:f)>=n&&_<=r&&Ft(u,d,f,m),x=u.length-3,o&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&Ft(u,u[0],u[1],u[2]),u.length&&e.push(u)}function Nt(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function Rt(t,e,n,r,i,o){for(var a=0;a<t.length;a++)Ot(t[a],e,n,r,i,o,!1)}function Ft(t,e,n,r){t.push(e),t.push(n),t.push(r)}function Yt(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function Bt(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function zt(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=jt(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(jt(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(jt(o.geometry[s][u],e));i.push(l)}n.push(Ct(o.id,a,i,o.tags))}return n}function jt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function Vt(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(Ht(u[r],u[r+1],e,o,a,s));else for(r=0;r<u.length;r++){var p=[];for(i=0;i<u[r].length;i+=2)p.push(Ht(u[r][i],u[r][i+1],e,o,a,s));l.geometry.push(p)}}return t.transformed=!0,t}function Ht(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function Ut(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,Gt(a,t[s],o,i);var l=t[s].minX,u=t[s].minY,c=t[s].maxX,p=t[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function Gt(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)qt(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)qt(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)qt(a,u[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var p in c={},e.tags)c[p]=e.tags[p];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(h.id=e.id),t.features.push(h)}}function qt(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===r||e[l+2]>a)&&(n.numSimplified++,s.push(e[l]),s.push(e[l+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function Wt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)Et(n,t.features[r],e,r);else Et(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=It(t,1,-1-n,n,0,-1,2,e),o=It(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=It(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=zt(i,1).concat(r)),o&&(r=r.concat(zt(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Zt(t,e,n){return 32*((1<<t)*n+e)+t}function Xt(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new q(r.features),o=K(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}K.fromVectorTileJs=$,K.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new Z(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return $({layers:n})},K.GeoJSONWrapper=Q,pt.prototype={range:function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var p=u.pop(),h=u.pop(),d=u.pop();if(h-d<=a)for(var f=d;f<=h;f++)l=e[2*f+1],(s=e[2*f])>=n&&s<=i&&l>=r&&l<=o&&c.push(t[f]);else{var m=Math.floor((d+h)/2);l=e[2*m+1],(s=e[2*m])>=n&&s<=i&&l>=r&&l<=o&&c.push(t[m]);var g=(p+1)%2;(0===p?n<=s:r<=l)&&(u.push(d),u.push(m-1),u.push(g)),(0===p?i>=s:o>=l)&&(u.push(m+1),u.push(h),u.push(g))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],l=i*i;a.length;){var u=a.pop(),c=a.pop(),p=a.pop();if(c-p<=o)for(var h=p;h<=c;h++)ut(e[2*h],e[2*h+1],n,r)<=l&&s.push(t[h]);else{var d=Math.floor((p+c)/2),f=e[2*d],m=e[2*d+1];ut(f,m,n,r)<=l&&s.push(t[d]);var g=(u+1)%2;(0===u?n-i<=f:r-i<=m)&&(a.push(p),a.push(d-1),a.push(g)),(0===u?n+i>=f:r+i>=m)&&(a.push(d+1),a.push(c),a.push(g))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)}},ft.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;for(var r,i,o=[],a=0;a<t.length;a++)t[a].geometry&&o.push((r=a,{x:_t((i=t[a].geometry.coordinates)[0]),y:vt(i[1]),zoom:1/0,index:r,parentId:-1}));this.trees[this.options.maxZoom+1]=ct(o,xt,wt,this.options.nodeSize,Float32Array),e&&console.timeEnd(n);for(var s=this.options.maxZoom;s>=this.options.minZoom;s--){var l=+Date.now();o=this._cluster(o,s),this.trees[s]=ct(o,xt,wt,this.options.nodeSize,Float32Array),e&&console.log("z%d: %d clusters in %dms",s,o.length,+Date.now()-l)}return e&&console.timeEnd("total time"),this},getClusters:function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var l=this.trees[this._limitZoom(e)],u=l.range(_t(n),vt(o),_t(i),vt(r)),c=[],p=0;p<u.length;p++){var h=l.points[u[p]];c.push(h.numPoints?gt(h):this.points[h.index])}return c},getChildren:function(t){var e=t>>5,n=t%32,r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o.x,o.y,a),l=[],u=0;u<s.length;u++){var c=i.points[s[u]];c.parentId===t&&l.push(c.numPoints?gt(c):this.points[c.index])}if(0===l.length)throw new Error(r);return l},getLeaves:function(t,e,n){var r=[];return this._appendLeaves(r,t,e=e||10,n=n||0,0),r},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options.radius/this.options.extent,a=(n-o)/i,s=(n+1+o)/i,l={features:[]};return this._addTileFeatures(r.range((e-o)/i,a,(e+1+o)/i,s),r.points,e,n,i,l),0===e&&this._addTileFeatures(r.range(1-o/i,a,1,s),r.points,i,n,i,l),e===i-1&&this._addTileFeatures(r.range(0,a,o/i,s),r.points,-1,n,i,l),l.features.length?l:null},getClusterExpansionZoom:function(t){for(var e=t%32-1;e<this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,n,r,i){for(var o=this.getChildren(e),a=0;a<o.length;a++){var s=o[a].properties;if(s&&s.cluster?i+s.point_count<=r?i+=s.point_count:i=this._appendLeaves(t,s.cluster_id,n,r,i):i<r?i++:t.push(o[a]),t.length===n)break}return i},_addTileFeatures:function(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[t[a]],l={type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.numPoints?yt(s):this.points[s.index].properties},u=s.numPoints?s.id:this.points[s.index].id;void 0!==u&&(l.id=u),o.features.push(l)}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var o=t[i];if(!(o.zoom<=e)){o.zoom=e;var a=this.trees[e+1],s=a.within(o.x,o.y,r),l=o.numPoints||1,u=o.x*l,c=o.y*l,p=null;this.options.reduce&&(p=this.options.initial(),this._accumulate(p,o));for(var h=(i<<5)+(e+1),d=0;d<s.length;d++){var f=a.points[s[d]];if(!(f.zoom<=e)){f.zoom=e;var m=f.numPoints||1;u+=f.x*m,c+=f.y*m,l+=m,f.parentId=h,this.options.reduce&&this._accumulate(p,f)}}1===l?n.push(o):(o.parentId=h,n.push(mt(u/l,c/l,h,l,p)))}}return n},_accumulate:function(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.index].properties);this.options.reduce(t,n)}},Wt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Wt.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,p=Zt(e,n,r),h=this.tiles[p];if(!h&&(u>1&&console.time("creation"),h=this.tiles[p]=Ut(t,e,n,r,l),this.tileCoords.push({z:e,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var d="z"+e;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(h.source=t,i){if(e===l.maxZoom||e===i)continue;var f=1<<i-e;if(n!==Math.floor(o/f)||r!==Math.floor(a/f))continue}else if(e===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==t.length){u>1&&console.time("clipping");var m,g,y,_,v,b,x=.5*l.buffer/l.extent,w=.5-x,M=.5+x,C=1+x;m=g=y=_=null,v=It(t,c,n-x,n+M,0,h.minX,h.maxX,l),b=It(t,c,n+w,n+C,0,h.minX,h.maxX,l),t=null,v&&(m=It(v,c,r-x,r+M,1,h.minY,h.maxY,l),g=It(v,c,r+w,r+C,1,h.minY,h.maxY,l),v=null),b&&(y=It(b,c,r-x,r+M,1,h.minY,h.maxY,l),_=It(b,c,r+w,r+C,1,h.minY,h.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*r),s.push(g||[],e+1,2*n,2*r+1),s.push(y||[],e+1,2*n+1,2*r),s.push(_||[],e+1,2*n+1,2*r+1)}}},Wt.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=Zt(t,e=(e%a+a)%a,n);if(this.tiles[s])return Vt(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var l,u=t,c=e,p=n;!l&&u>0;)u--,c=Math.floor(c/2),p=Math.floor(p/2),l=this.tiles[Zt(u,c,p)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,p),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,p,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?Vt(this.tiles[s],i):null):null};var Jt=function(e){function n(t,n,r){e.call(this,t,n,Xt),r&&(this.loadGeoJSON=r)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var e=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var r=!!(n&&n.request&&n.request.collectResourceTiming)&&new D.Performance(n.request);this.loadGeoJSON(n,function(i,o){if(i||!o)return e(i);if("object"!=typeof o)return e(new Error("Input data is not a valid GeoJSON object."));!function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(j(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=V(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(j(V,e))),t}(e,n);default:return e}}(o,!0);try{t._geoJSONIndex=n.cluster?(a=n.superclusterOptions,new ft(a)).load(o.features):new Wt(o,n.geojsonVtOptions)}catch(i){return e(i)}t.loaded={};var a,s={};if(r){var l=r.finish();l&&(s.resourceTiming={},s.resourceTiming[n.source]=JSON.parse(JSON.stringify(l)))}e(null,s)})}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var r=this.loaded;return r&&r[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))},n.prototype.getClusterChildren=function(t,e){e(null,this._geoJSONIndex.getChildren(t.clusterId))},n.prototype.getClusterLeaves=function(t,e){e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))},n}(O),Kt=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.workerSourceTypes={vector:O,geojson:Jt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isLoaded())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return Kt.prototype.setReferrer=function(t,e){this.referrer=e},Kt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},Kt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},Kt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},Kt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},Kt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},Kt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},Kt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},Kt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},Kt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},Kt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},Kt.prototype.loadRTLTextPlugin=function(e,n,r){try{t.plugin.isLoaded()||(this.self.importScripts(n),r(t.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+n)))}catch(t){r(t.toString())}},Kt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},Kt.prototype.getWorkerSource=function(t,e,n){var r=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,i){r.actor.send(e,n,i,t)}},this.getLayerIndex(t))),this.workerSources[t][e][n]},Kt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new N),this.demWorkerSources[t][e]},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Kt(self)),Kt}),r(0,function(t){var e=t.createCommonjsModule(function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(t){return void 0===n[t]&&(n[t]=function(t){var n=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(t)),n[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var n={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),n={create:function(e,n,r){var i=t.window.document.createElement(e);return n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},r=t.window.document?t.window.document.documentElement.style:null;function i(t){if(!r)return null;for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[s]=e};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});t.window.addEventListener("test",u,u),t.window.removeEventListener("test",u,u)}catch(t){l=!1}n.addEventListener=function(t,e,n,r){void 0===r&&(r={}),t.addEventListener(e,n,"passive"in r&&l?r:r.capture)},n.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),t.removeEventListener(e,n,"passive"in r&&l?r:r.capture)};var c=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",c,!0)};n.suppressClick=function(){t.window.addEventListener("click",c,!0),t.window.setTimeout(function(){t.window.removeEventListener("click",c,!0)},0)},n.mousePos=function(e,n){var r=e.getBoundingClientRect();return new t.Point((n=n.touches?n.touches[0]:n).clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop)},n.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o="touchend"===n.type?n.changedTouches:n.touches,a=0;a<o.length;a++)i.push(new t.Point(o[a].clientX-r.left-e.clientLeft,o[a].clientY-r.top-e.clientTop));return i},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var p=function(){this.images={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0};p.prototype.isLoaded=function(){return this.loaded},p.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e];this._notify(r.ids,r.callback)}this.requestors=[]}},p.prototype.getImage=function(t){return this.images[t]},p.prototype.addImage=function(t,e){this.images[t]=e},p.prototype.removeImage=function(t){delete this.images[t],delete this.patterns[t]},p.prototype.listImages=function(){return Object.keys(this.images)},p.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},p.prototype._notify=function(t,e){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=this.images[o];a&&(n[o]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,n)},p.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},p.prototype.getPattern=function(e){var n=this.patterns[e];if(n)return n.position;var r=this.getImage(e);if(!r)return null;var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);return this.patterns[e]={bin:i,position:o},this._updatePatternAtlas(),o},p.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},p.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,p=this.images[s].data,h=p.width,d=p.height;t.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c},{width:h,height:d}),t.RGBAImage.copy(p,a,{x:0,y:d-1},{x:u,y:c-1},{width:h,height:1}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c+d},{width:h,height:1}),t.RGBAImage.copy(p,a,{x:h-1,y:0},{x:u-1,y:c},{width:1,height:d}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:u+h,y:c},{width:1,height:d})}this.dirty=!0};var h=f,d=1e20;function f(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function m(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var l=0;l<n;l++)r[l]=t[l*e+s];for(g(r,i,o,a,n),l=0;l<n;l++)t[l*e+s]=i[l]}for(l=0;l<n;l++){for(s=0;s<e;s++)r[s]=t[l*e+s];for(g(r,i,o,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(i[s])}}function g(t,e,n,r,i){n[0]=0,r[0]=-d,r[1]=+d;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)s=(t[o]+o*o-(t[n[--a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+d}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}f.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?d:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?d:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(m(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),m(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n};var y=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};y.prototype.setURL=function(t){this.url=t},y.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});t.asyncAll(i,function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{}});var a=o.glyphs[i];if(void 0===a)if(a=r._tinySDF(o,n,i))e(null,{stack:n,id:i,glyph:a});else{var s=Math.floor(i/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var l=o.requests[s];l||(l=o.requests[s]=[],y.loadGlyphRange(n,s,r.url,r.requestTransform,function(t,e){if(e)for(var n in e)o.glyphs[+n]=e[+n];for(var r=0,i=l;r<i.length;r+=1)(0,i[r])(t,e);delete o.requests[s]})),l.push(function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})})}}else e(null,{stack:n,id:i,glyph:a})},function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.stack,l=a.id,u=a.glyph;(r[s]||(r[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}n(null,r)}})},y.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&(t.isChar["CJK Unified Ideographs"](r)||t.isChar["Hangul Syllables"](r))){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new y.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},y.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,l=i(t.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}})},y.TinySDF=h;var _=function(){this.specification=t.styleSpec.light.position};_.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},_.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var v=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new _,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),b=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(v),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e){if(!this._validate(t.validateLight,e))for(var n in e){var r=e[n];t.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),r):this._transitionable.setValue(n,r)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),x=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};x.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},x.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];for(var s=this.width/o,l=s/2,u=e.length%2==1,c=-r;c<=r;c++)for(var p=this.width*(this.nextRow+r+c),h=u?-e[e.length-1]:0,d=e[0],f=1,m=0;m<this.width;m++){for(;d<m/s;)h=d,d+=e[f],u&&f===e.length-1&&(d+=e[0]),f++;var g=Math.abs(m-h*s),y=Math.abs(m-d*s),_=Math.min(g,y),v=f%2==1,b=void 0;if(n){var x=r?c/r*(l+1):0;if(v){var w=l-Math.abs(x);b=Math.sqrt(_*_+w*w)}else b=l-Math.sqrt(_*_+x*x)}else b=(v?1:-1)*_;this.data[3+4*(p+m)]=Math.max(0,Math.min(255,b+128))}var M={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,M},x.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var w=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new e.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function M(e,n,r){var i=function(e,n){if(e)return r(e);if(n){var i=t.pick(n,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);n.vector_layers&&(i.vectorLayers=n.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(t){return t.id})),r(null,i)}};return e.url?t.getJSON(n(t.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame(function(){return i(null,e)})}w.prototype.broadcast=function(e,n,r){t.asyncAll(this.actors,function(t,r){t.send(e,n,r)},r=r||function(){})},w.prototype.send=function(t,e,n,r){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n),r},w.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},w.Actor=t.Actor;var C=function(e,n,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24};C.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},C.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),n=Math.floor(this.latY(this.bounds.getNorth(),t.z)),r=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),i=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<r&&t.y>=n&&t.y<i},C.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},C.prototype.latY=function(e,n){var r=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),i=Math.pow(2,n)/(2*Math.PI);return Math.pow(2,n-1)+.5*Math.log((1+r)/(1-r))*-i};var L=function(e){function n(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(r,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=M(this._options,this.map._transformRequest,function(n,r){e._tileJSONRequest=null,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new C(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId()),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var r=t.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url),i={request:this.map._transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function o(t,r){return e.aborted?n(null):t&&404!==t.status?n(t):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",i,o.bind(this)):"loading"===e.state?e.reloadCallback=n:this.dispatcher.send("reloadTile",i,o.bind(this),e.workerID)},n.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),E=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=M(this._options,this.map._transformRequest,function(n,r){e._tileJSONRequest=null,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new C(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId()),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var r=this,i=t.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(i,t.ResourceType.Tile),function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",n(null)}})},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),k=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},r),this.encoding=r.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var r=t.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(r,t.ResourceType.Tile),(function(r,i){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(i){this.map._refreshExpiredTiles&&e.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=t.browser.getImageData(i);e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",{uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding},(function(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}).bind(this)))}}).bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},n}(E),T=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=i,this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution);var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1}},r.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}})},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}}),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e,this.workerID),this},n.prototype.getClusterChildren=function(t,e){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e,this.workerID),this},n.prototype.getClusterLeaves=function(t,e,n,r){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r,this.workerID),this},n.prototype._updateWorkerData=function(e){var n=this,r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.workerID=this.dispatcher.send(this.type+".loadData",r,function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.dispatcher.send(n.type+".coalesce",{source:r.source},null,n.workerID),e(t))},this.workerID)},n.prototype.loadTile=function(e,n){var r=this,i=void 0===e.workerID?"loadTile":"reloadTile";e.workerID=this.dispatcher.send(i,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes},function(t,o){return e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))},this.workerID)},n.prototype.abortTile=function(t){t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},n.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),S=function(e){function n(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(i),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var r=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),function(i,o){i?r.fire(new t.ErrorEvent(i)):o&&(r.image=t.browser.getImageData(o),e&&(r.coordinates=e),n&&n(),r._finishLoading())})},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,function(){e.texture=null}),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var l=s[a];n=Math.min(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y)}var u=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),p=Math.pow(2,c);return new t.CanonicalTileID(c,Math.floor((n+i)/2*p),Math.floor((r+o)/2*p))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map(function(t){return n.tileID.getTilePoint(t)._round()});return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),A=function(e){function n(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this,n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)e.urls.push(e.map._transformRequest(i[r],t.ResourceType.Source).url);t.getVideo(this.urls,function(n,r){n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map.triggerRepaint()}),e.map&&e.video.play(),e._finishLoading())})},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(S),D=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some(function(t){return!Array.isArray(t)||2!==t.length||t.some(function(t){return"number"!=typeof t})})||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing=!1},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(S),I={vector:L,raster:E,"raster-dem":k,geojson:T,video:A,image:S,canvas:D},P=function(e,n,r,i){var o=new I[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o};function O(t,e,n,r,i){var o=i.maxPitchScaleFactor(),a=t.tilesIn(n,o);a.sort(N);for(var s=[],l=0,u=a;l<u.length;l+=1){var c=u[l];s.push({wrappedTileID:c.tileID.wrapped().key,queryResults:c.tile.queryRenderedFeatures(e,t._state,c.queryGeometry,c.scale,r,i,o,t.transform.calculatePosMatrix(c.tileID.toUnwrapped()))})}var p=function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],p=l[u]=l[u]||{},h=e[u]=e[u]||[],d=0,f=c;d<f.length;d+=1){var m=f[d];p[m.featureIndex]||(p[m.featureIndex]=!0,h.push(m.feature))}}return e}(s);for(var h in p)p[h].forEach(function(e){var n=t.getFeatureState(e.layer["source-layer"],e.id);e.source=e.layer.source,e.layer["source-layer"]&&(e.sourceLayer=e.layer["source-layer"]),e.state=n});return p}function N(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var R=function(t,e){this.max=t,this.onRemove=e,this.reset()};R.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},R.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout(function(){r.remove(t,o)},n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},R.prototype.has=function(t){return t.wrapped().key in this.data},R.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},R.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},R.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},R.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},R.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var F=function(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};F.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},F.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},F.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Y={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},B=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};B.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},B.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},B.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=e.attributes[this.attributes[n].name];void 0!==r&&t.enableVertexAttribArray(r)}},B.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[Y[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},B.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var z=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};z.prototype.get=function(){return this.current},z.prototype.set=function(t){},z.prototype.getDefault=function(){return this.default},z.prototype.setDefault=function(){this.set(this.default)};var j=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(z),V=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(z),H=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(z),U=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(z),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(z),q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(z),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(z),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(z),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(z),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(z),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(z),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(z),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(z),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(z),et=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(z),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(z),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(z),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(z),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(z),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(z),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(z),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(z),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(z),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(z),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(z),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(z),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(z),ft=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(z),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(z),gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(z),yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(z),_t=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(z),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(_t),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(_t),xt=function(t,e,n){this.context=t,this.width=e,this.height=n;var r=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new vt(t,r),this.depthAttachment=new bt(t,r)};xt.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)};var wt=function(t,e,n){this.func=t,this.mask=e,this.range=n};wt.ReadOnly=!1,wt.ReadWrite=!0,wt.disabled=new wt(519,wt.ReadOnly,[0,1]);var Mt=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Mt.disabled=new Mt({func:519,mask:0},0,0,7680,7680,7680);var Ct=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};Ct.disabled=new Ct(Ct.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),Ct.unblended=new Ct(Ct.Replace,t.Color.transparent,[!0,!0,!0,!0]),Ct.alphaBlended=new Ct([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Lt=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};Lt.disabled=new Lt(!1,1029,2305),Lt.backCCW=new Lt(!0,1029,2305);var Et=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new j(this),this.clearDepth=new V(this),this.clearStencil=new H(this),this.colorMask=new U(this),this.depthMask=new G(this),this.stencilMask=new q(this),this.stencilFunc=new W(this),this.stencilOp=new Z(this),this.stencilTest=new X(this),this.depthRange=new J(this),this.depthTest=new K(this),this.depthFunc=new Q(this),this.blend=new $(this),this.blendFunc=new tt(this),this.blendColor=new et(this),this.blendEquation=new nt(this),this.cullFace=new rt(this),this.cullFaceSide=new it(this),this.frontFace=new ot(this),this.program=new at(this),this.activeTexture=new st(this),this.viewport=new lt(this),this.bindFramebuffer=new ut(this),this.bindRenderbuffer=new ct(this),this.bindTexture=new pt(this),this.bindVertexBuffer=new ht(this),this.bindElementBuffer=new dt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ft(this),this.pixelStoreUnpack=new mt(this),this.pixelStoreUnpackPremultiplyAlpha=new gt(this),this.pixelStoreUnpackFlipY=new yt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};Et.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Et.prototype.createIndexBuffer=function(t,e){return new F(this,t,e)},Et.prototype.createVertexBuffer=function(t,e,n){return new B(this,t,e,n)},Et.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},Et.prototype.createFramebuffer=function(t,e){return new xt(this,t,e)},Et.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Et.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Et.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Et.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Et.prototype.setColorMode=function(e){t.isEqual(e.blendFunction,Ct.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Et.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var kt=function(e){function n(n,r,i){var o=this;e.call(this),this.id=n,this.dispatcher=i,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),this.on("error",function(){o._sourceErrored=!0}),this._source=P(n,r,i,this),this._tiles={},this._cache=new R(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles)this._tiles[e].upload(t)},n.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Tt)},n.prototype.getRenderableIds=function(e){var n=this,r=[];for(var i in n._tiles)n._isIdRenderable(+i,e)&&r.push(+i);return r.sort(e?function(e,r){var i=n._tiles[e].tileID,o=n._tiles[r].tileID,a=new t.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x}:Tt)},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},n.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>e;)if(t[(l=l.scaledTo(l.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){for(var n=t.overscaledZ-1;n>=e;n--){var r=t.scaledTo(n);if(!r)return;var i=String(r.key),o=this._tiles[i];if(o&&o.hasData())return o;if(this._cache.has(r))return this._cache.get(r)}},n.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),n=Math.floor(5*e),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(i=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter(function(t){return r._source.hasTile(t)}))):i=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,o);if(St(this._source.type)){for(var u={},c={},p=0,h=Object.keys(l);p<h.length;p+=1){var d=h[p],f=l[d],m=r._tiles[d];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=t.browser.now())){var g=r.findLoadedParent(f,a);g&&(r._addTile(g.tileID),u[g.tileID.key]=g.tileID),c[d]=f}}for(var y in this._retainLoadedChildren(c,o,s,l),u)l[y]||(r._coveredTiles[y]=!0,l[y]=u[y])}for(var _ in l)r._tiles[_].clearFadeHold();for(var v=0,b=t.keysDifference(this._tiles,l);v<b.length;v+=1){var x=b[v],w=r._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(r.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||r._removeTile(x)}}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var r={},i={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},l=0,u=t;l<u.length;l+=1){var c=u[l],p=this._addTile(c);r[c.key]=c,p.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,r);for(var h=0,d=t;h<d.length;h+=1){var f=d[h],m=this._tiles[f.key];if(!m.hasData()){if(e+1>this._source.maxzoom){var g=f.children(this._source.maxzoom)[0],y=this.getTile(g);if(y&&y.hasData()){r[g.key]=g;continue}}else{var _=f.children(this._source.maxzoom);if(r[_[0].key]&&r[_[1].key]&&r[_[2].key]&&r[_[3].key])continue}for(var v=m.wasRequested(),b=f.overscaledZ-1;b>=o;--b){var x=f.scaledTo(b);if(i[x.key])break;if(i[x.key]=!0,!(m=this.getTile(x))&&v&&(m=this._addTile(x)),m&&(r[x.key]=x,v=m.wasRequested(),m.hasData()))break}}}return r},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var r=Boolean(n);return r||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout(function(){n._reloadTile(t,"expired"),delete n._timers[t]},r))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n){for(var r=[],i=this.getIds(),o=1/0,a=1/0,s=-1/0,l=-1/0,u=0;u<e.length;u++){var c=e[u];o=Math.min(o,c.x),a=Math.min(a,c.y),s=Math.max(s,c.x),l=Math.max(l,c.y)}for(var p=0;p<i.length;p++){var h=this._tiles[i[p]];if(!h.holdingForFade()){var d=h.tileID,f=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),m=n*h.queryPadding*t.EXTENT/h.tileSize/f,g=[d.getTilePoint(new t.MercatorCoordinate(o,a)),d.getTilePoint(new t.MercatorCoordinate(s,l))];if(g[0].x-m<t.EXTENT&&g[0].y-m<t.EXTENT&&g[1].x+m>=0&&g[1].y+m>=0){for(var y=[],_=0;_<e.length;_++)y.push(d.getTilePoint(e[_]));r.push({tile:h,tileID:d,queryGeometry:[y],scale:f})}}}return r},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map(function(t){return e._tiles[t].tileID}),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=e.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(St(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n}(t.Evented);function Tt(t,e){return t%32-e%32||e-t}function St(t){return"raster"===t||"image"===t||"video"===t}function At(){return new t.window.Worker(Zr.workerUrl)}kt.maxOverzooming=10,kt.maxUnderzooming=3;var Dt=function(){this.active={}};Dt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Dt.workerCount;)this.workers.push(new At);return this.active[t]=!0,this.workers.slice()},Dt.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)};var It,Pt=Math.floor(t.browser.hardwareConcurrency/2);function Ot(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach(function(t){t in n&&(r[t]=n[t])}),r}function Nt(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=Ot(t[r],e[t[r].ref]));return t}Dt.workerCount=Math.max(Math.min(Pt,6),1);var Rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ft(t,e,n){n.push({command:Rt.addSource,args:[t,e[t]]})}function Yt(t,e,n){e.push({command:Rt.removeSource,args:[t]}),n[t]=!0}function Bt(t,e,n,r){Yt(t,n,r),Ft(t,e,n)}function zt(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.isEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.isEqual(e[r][i],n[r][i]))return!1;return!0}function jt(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.isEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.isEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Vt(t){return t.id}function Ht(t,e){return t[e.id]=e,t}var Ut=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};Ut.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ut.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ut.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Ut.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Ut.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Ut.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],p=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-p,y1:c-p,x2:u+p,y2:c+p})}return o?a.filter(o):a}return this._forEachCell(t,e,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Ut.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,l=e+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];var u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u},Ut.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Ut.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},Ut.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},Ut.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,p=0,h=u;p<h.length;p+=1){var d=h[p];if(!l.box[d]){l.box[d]=!0;var f=4*d;if(t<=c[f+2]&&e<=c[f+3]&&n>=c[f+0]&&r>=c[f+1]&&(!s||s(this.boxKeys[d]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[d],x1:c[f],y1:c[f+1],x2:c[f+2],y2:c[f+3]})}}}var m=this.circleCells[i];if(null!==m)for(var g=this.circles,y=0,_=m;y<_.length;y+=1){var v=_[y];if(!l.circle[v]){l.circle[v]=!0;var b=3*v;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],t,e,n,r)&&(!s||s(this.circleKeys[v]))){if(a.hitTest)return o.push(!0),!0;var x=g[b],w=g[b+1],M=g[b+2];o.push({key:this.circleKeys[v],x1:x-M,y1:w-M,x2:x+M,y2:w+M})}}}},Ut.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var p=this.bboxes,h=0,d=c;h<d.length;h+=1){var f=d[h];if(!u.box[f]){u.box[f]=!0;var m=4*f;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[m+0],p[m+1],p[m+2],p[m+3])&&(!s||s(this.boxKeys[f])))return o.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var y=this.circles,_=0,v=g;_<v.length;_+=1){var b=v[_];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(this._circlesCollide(y[x],y[x+1],y[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Ut.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),p=this._convertToYCellCoord(r),h=l;h<=c;h++)for(var d=u;d<=p;d++)if(i.call(this,t,e,n,r,this.xCellCount*d+h,o,a,s))return},Ut.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Ut.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Ut.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,l=n+o;return l*l>a*a+s*s},Ut.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(t-(r+s));if(l>s+n)return!1;var u=(a-i)/2,c=Math.abs(e-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var p=l-s,h=c-u;return p*p+h*h<=n*n};var Gt=t.properties.layout;function qt(e,n,r,i,o){var a=t.identity(new Float32Array(16));return n?(t.identity(a),t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):(t.scale(a,a,[i.width/2,-i.height/2,1]),t.translate(a,a,[1,-1,0]),t.multiply(a,a,e)),a}function Wt(e,n,r,i,o){var a=t.identity(new Float32Array(16));return n?(t.multiply(a,a,e),t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle)):(t.scale(a,a,[1,-1,1]),t.translate(a,a,[-1,-1,0]),t.scale(a,a,[2/i.width,2/i.height,1])),a}function Zt(e,n){var r=[e.x,e.y,0,1];ie(r,r,n);var i=r[3];return{point:new t.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function Xt(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function Jt(e,n,r,i,o,a,s,l){var u=i?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(u,r.transform.zoom,Gt.properties[i?"text-size":"icon-size"]),p=[256/r.width*2+1,256/r.height*2+1],h=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;h.clear();for(var d=e.lineVertexArray,f=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=r.transform.width/r.transform.height,g=!1,y=0;y<f.length;y++){var _=f.get(y);if(_.hidden||_.writingMode===t.WritingMode.vertical&&!g)re(_.numGlyphs,h);else{g=!1;var v=[_.anchorX,_.anchorY,0,1];if(t.transformMat4(v,v,n),Xt(v,p)){var b=.5+v[3]/r.transform.cameraToCenterDistance*.5,x=t.evaluateSizeForFeature(u,c,_),w=s?x*b:x/b,M=new t.Point(_.anchorX,_.anchorY),C=Zt(M,o).point,L={},E=$t(_,w,!1,l,n,o,a,e.glyphOffsetArray,d,h,C,M,L,m);g=E.useVertical,(E.notEnoughRoom||g||E.needsFlipping&&$t(_,w,!0,l,n,o,a,e.glyphOffsetArray,d,h,C,M,L,m).notEnoughRoom)&&re(_.numGlyphs,h)}else re(_.numGlyphs,h)}}i?e.text.dynamicLayoutVertexBuffer.updateData(h):e.icon.dynamicLayoutVertexBuffer.updateData(h)}function Kt(t,e,n,r,i,o,a,s,l,u,c,p){var h=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),g=e.getoffsetX(h-1),y=ee(t*m,n,r,i,o,a,s.segment,d,f,l,u,c,p);if(!y)return null;var _=ee(t*g,n,r,i,o,a,s.segment,d,f,l,u,c,p);return _?{first:y,last:_}:null}function Qt(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function $t(e,n,r,i,o,a,s,l,u,c,p,h,d,f){var m,g=n/24,y=e.lineOffsetX*n,_=e.lineOffsetY*n;if(e.numGlyphs>1){var v=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,w=Kt(g,l,y,_,r,p,h,e,u,a,d,!1);if(!w)return{notEnoughRoom:!0};var M=Zt(w.first.point,s).point,C=Zt(w.last.point,s).point;if(i&&!r){var L=Qt(e.writingMode,M,C,f);if(L)return L}m=[w.first];for(var E=e.glyphStartIndex+1;E<v-1;E++)m.push(ee(g*l.getoffsetX(E),y,_,r,p,h,e.segment,b,x,u,a,d,!1));m.push(w.last)}else{if(i&&!r){var k=Zt(h,o).point,T=e.lineStartIndex+e.segment+1,S=new t.Point(u.getx(T),u.gety(T)),A=Zt(S,o),D=A.signedDistanceFromCamera>0?A.point:te(h,S,k,1,o),I=Qt(e.writingMode,k,D,f);if(I)return I}var P=ee(g*l.getoffsetX(e.glyphStartIndex),y,_,r,p,h,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,u,a,d,!1);if(!P)return{notEnoughRoom:!0};m=[P]}for(var O=0,N=m;O<N.length;O+=1){var R=N[O];t.addDynamicAttributes(c,R.point,R.angle)}return{}}function te(t,e,n,r,i){var o=Zt(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function ee(e,n,r,i,o,a,s,l,u,c,p,h,d){var f=i?e-n:e+n,m=f>0?1:-1,g=0;i&&(m*=-1,g=Math.PI),m<0&&(g+=Math.PI);for(var y=m>0?l+s:l+s+1,_=y,v=o,b=o,x=0,w=0,M=Math.abs(f);x+w<=M;){if((y+=m)<l||y>=u)return null;if(b=v,void 0===(v=h[y])){var C=new t.Point(c.getx(y),c.gety(y)),L=Zt(C,p);if(L.signedDistanceFromCamera>0)v=h[y]=L.point;else{var E=y-m;v=te(0===x?a:new t.Point(c.getx(E),c.gety(E)),C,b,M-x+1,p)}}x+=w,w=b.dist(v)}var k=(M-x)/w,T=v.sub(b),S=T.mult(k)._add(b);return S._add(T._unit()._perp()._mult(r*m)),{point:S,angle:g+Math.atan2(v.y-b.y,v.x-b.x),tileDistance:d?{prevTileDistance:y-m===_?0:c.gettileUnitDistanceFromAnchor(y-m),lastSegmentViewportDistance:M-x}:null}}var ne=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function re(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(ne,3*r)}}function ie(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var oe=function(t,e,n){void 0===e&&(e=new Ut(t.width+200,t.height+200,25)),void 0===n&&(n=new Ut(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function ae(t,e,n){t[e+4]=n?1:0}function se(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}oe.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,l=t.y1*a+o.point.y,u=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,l,u,c)||!e&&this.grid.hitTest(s,l,u,c,i)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},oe.prototype.approximateTileDistance=function(t,e,n,r,i){var o=t.lastSegmentViewportDistance*n;return t.prevTileDistance+o+((i?1:r/this.pitchfactor)-1)*o*Math.abs(Math.sin(e))},oe.prototype.placeCollisionCircles=function(e,n,r,i,o,a,s,l,u,c,p,h,d){var f=[],m=this.projectAnchor(u,o.anchorX,o.anchorY),g=l/24,y=o.lineOffsetX*l,_=o.lineOffsetY*l,v=new t.Point(o.anchorX,o.anchorY),b=Kt(g,s,y,_,!1,Zt(v,c).point,v,o,a,c,{},!0),x=!1,w=!1,M=!0,C=m.perspectiveRatio*i,L=1/(i*r),E=0,k=0;b&&(E=this.approximateTileDistance(b.first.tileDistance,b.first.angle,L,m.cameraDistance,h),k=this.approximateTileDistance(b.last.tileDistance,b.last.angle,L,m.cameraDistance,h));for(var T=0;T<e.length;T+=5){var S=e[T],A=e[T+1],D=e[T+2],I=e[T+3];if(!b||I<-E||I>k)ae(e,T,!1);else{var P=this.projectPoint(u,S,A),O=D*C;if(f.length>0){var N=P.x-f[f.length-4],R=P.y-f[f.length-3];if(O*O*2>N*N+R*R&&T+8<e.length){var F=e[T+8];if(F>-E&&F<k){ae(e,T,!1);continue}}}f.push(P.x,P.y,O,T/5),ae(e,T,!0);var Y=P.x-O,B=P.y-O,z=P.x+O,j=P.y+O;if(M=M&&this.isOffscreen(Y,B,z,j),w=w||this.isInsideGrid(Y,B,z,j),!n&&this.grid.hitTestCircle(P.x,P.y,O,d)){if(!p)return{circles:[],offscreen:!1};x=!0}}}return{circles:x||!w?[]:f,offscreen:M}},oe.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,l=e;s<l.length;s+=1){var u=l[s],c=new t.Point(u.x+100,u.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var p={},h={},d=0,f=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));d<f.length;d+=1){var m=f[d],g=m.key;if(void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]={}),!p[g.bucketInstanceId][g.featureIndex]){var y=[new t.Point(m.x1,m.y1),new t.Point(m.x2,m.y1),new t.Point(m.x2,m.y2),new t.Point(m.x1,m.y2)];t.polygonIntersectsPolygon(n,y)&&(p[g.bucketInstanceId][g.featureIndex]=!0,void 0===h[g.bucketInstanceId]&&(h[g.bucketInstanceId]=[]),h[g.bucketInstanceId].push(g.featureIndex))}}return h},oe.prototype.insertCollisionBox=function(t,e,n,r,i){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},t[0],t[1],t[2],t[3])},oe.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},oe.prototype.projectAnchor=function(t,e,n){var r=[e,n,0,1];return ie(r,r,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},oe.prototype.projectPoint=function(e,n,r){var i=[n,r,0,1];return ie(i,i,e),new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100)},oe.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return ie(i,i,e),{point:new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},oe.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},oe.prototype.isInsideGrid=function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary};var le=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};le.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var ue=function(t,e,n,r,i){this.text=new le(t?t.text:null,e,n,i),this.icon=new le(t?t.icon:null,e,r,i)};ue.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ce=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},pe=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};pe.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var he=function(t,e,n){this.transform=t.clone(),this.collisionIndex=new oe(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new pe(n)};function de(t,e,n){t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0)}he.prototype.placeLayerTile=function(e,n,r,i){var o=n.getBucket(e),a=n.latestFeatureIndex;if(o&&a&&e.id===o.layerIds[0]){var s=n.collisionBoxArray,l=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/t.EXTENT,p=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),h=qt(p,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,se(n,1,this.transform.zoom)),d=qt(p,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,se(n,1,this.transform.zoom));this.retainedQueryData[o.bucketInstanceId]=new function(t,e,n,r,i){this.bucketInstanceId=o.bucketInstanceId,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i}(0,a,o.sourceLayerIndex,o.index,n.tileID),this.placeLayerBucket(o,p,h,d,u,c,r,n.holdingForFade(),i,s)}},he.prototype.placeLayerBucket=function(e,n,r,i,o,a,s,l,u,c){var p=e.layers[0].layout,h=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,t.properties.layout.properties["text-size"]),d=p.get("text-optional"),f=p.get("icon-optional"),m=p.get("text-allow-overlap"),g=p.get("icon-allow-overlap"),y=m&&(g||!e.hasIconData()||f),_=g&&(m||!e.hasTextData()||d),v=this.collisionGroups.get(e.sourceID);!e.collisionArrays&&c&&e.deserializeCollisionBoxes(c);for(var b=0;b<e.symbolInstances.length;b++){var x=e.symbolInstances.get(b);if(!u[x.crossTileID]){if(l){this.placements[x.crossTileID]=new ce(!1,!1,!1);continue}var w=!1,M=!1,C=!0,L=null,E=null,k=null,T=0,S=0,A=e.collisionArrays[b];A.textFeatureIndex&&(T=A.textFeatureIndex),A.textBox&&(w=(L=this.collisionIndex.placeCollisionBox(A.textBox,p.get("text-allow-overlap"),a,n,v.predicate)).box.length>0,C=C&&L.offscreen);var D=A.textCircles;if(D){var I=e.text.placedSymbolArray.get(x.horizontalPlacedTextSymbolIndex),P=t.evaluateSizeForFeature(e.textSizeData,h,I);E=this.collisionIndex.placeCollisionCircles(D,p.get("text-allow-overlap"),o,a,I,e.lineVertexArray,e.glyphOffsetArray,P,n,r,s,"map"===p.get("text-pitch-alignment"),v.predicate),w=p.get("text-allow-overlap")||E.circles.length>0,C=C&&E.offscreen}A.iconFeatureIndex&&(S=A.iconFeatureIndex),A.iconBox&&(M=(k=this.collisionIndex.placeCollisionBox(A.iconBox,p.get("icon-allow-overlap"),a,n,v.predicate)).box.length>0,C=C&&k.offscreen);var O=d||0===x.numGlyphVertices&&0===x.numVerticalGlyphVertices,N=f||0===x.numIconVertices;O||N?N?O||(M=M&&w):w=M&&w:M=w=M&&w,w&&L&&this.collisionIndex.insertCollisionBox(L.box,p.get("text-ignore-placement"),e.bucketInstanceId,T,v.ID),M&&k&&this.collisionIndex.insertCollisionBox(k.box,p.get("icon-ignore-placement"),e.bucketInstanceId,S,v.ID),w&&E&&this.collisionIndex.insertCollisionCircles(E.circles,p.get("text-ignore-placement"),e.bucketInstanceId,T,v.ID),this.placements[x.crossTileID]=new ce(w||y,M||_,C||e.justReloaded),u[x.crossTileID]=!0}}e.justReloaded=!1},he.prototype.commit=function(t,e){this.commitTime=e;var n=!1,r=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,i=t?t.opacities:{};for(var o in this.placements){var a=this.placements[o],s=i[o];s?(this.opacities[o]=new ue(s,r,a.text,a.icon),n=n||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[o]=new ue(null,r,a.text,a.icon,a.skipFade),n=n||a.text||a.icon)}for(var l in i){var u=i[l];if(!this.opacities[l]){var c=new ue(u,r,!1,!1);c.isHidden()||(this.opacities[l]=c,n=n||u.text.placed||u.icon.placed)}}n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},he.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},he.prototype.updateBucketOpacities=function(t,e,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();var r=t.layers[0].layout,i=new ue(null,0,!1,!1,!0),o=r.get("text-allow-overlap"),a=r.get("icon-allow-overlap"),s=new ue(null,0,o&&(a||!t.hasIconData()||r.get("icon-optional")),a&&(o||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasCollisionBoxData()||t.hasCollisionCircleData())&&t.deserializeCollisionBoxes(n);for(var l=0;l<t.symbolInstances.length;l++){var u=t.symbolInstances.get(l),c=e[u.crossTileID],p=this.opacities[u.crossTileID];c?p=i:p||(this.opacities[u.crossTileID]=p=s),e[u.crossTileID]=!0;var h=u.numIconVertices>0;if(u.numGlyphVertices>0||u.numVerticalGlyphVertices>0){for(var d=xe(p.text),f=(u.numGlyphVertices+u.numVerticalGlyphVertices)/4,m=0;m<f;m++)t.text.opacityVertexArray.emplaceBack(d);t.text.placedSymbolArray.get(u.horizontalPlacedTextSymbolIndex).hidden=p.text.isHidden(),u.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(u.verticalPlacedTextSymbolIndex).hidden=p.text.isHidden())}if(h){for(var g=xe(p.icon),y=0;y<u.numIconVertices/4;y++)t.icon.opacityVertexArray.emplaceBack(g);t.icon.placedSymbolArray.get(l).hidden=p.icon.isHidden()}if(t.hasCollisionBoxData()||t.hasCollisionCircleData()){var _=t.collisionArrays[l];if(_){_.textBox&&de(t.collisionBox.collisionVertexArray,p.text.placed,!1),_.iconBox&&de(t.collisionBox.collisionVertexArray,p.icon.placed,!1);var v=_.textCircles;if(v&&t.hasCollisionCircleData())for(var b=0;b<v.length;b+=5)de(t.collisionCircle.collisionVertexArray,p.text.placed,c||0===v[b+4])}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},he.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},he.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},he.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},he.prototype.setStale=function(){this.stale=!0};var fe=Math.pow(2,25),me=Math.pow(2,24),ge=Math.pow(2,17),ye=Math.pow(2,16),_e=Math.pow(2,9),ve=Math.pow(2,8),be=Math.pow(2,1);function xe(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*fe+e*me+n*ge+e*ye+n*_e+e*ve+n*be+e}var we=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};we.prototype.continuePlacement=function(t,e,n,r,i){for(;this._currentTileIndex<t.length;)if(e.placeLayerTile(r,t[this._currentTileIndex],n,this._seenCrossTileIDs),this._currentTileIndex++,i())return!0};var Me=function(t,e,n,r,i,o){this.placement=new he(t,i,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Me.prototype.isDone=function(){return this._done},Me.prototype.continuePlacement=function(e,n,r){for(var i=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[i._currentPlacementIndex]],l=i.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(i._inProgressLayer||(i._inProgressLayer=new we),i._inProgressLayer.continuePlacement(r[s.source],i.placement,i._showCollisionBoxes,s,a))return;delete i._inProgressLayer}i._currentPlacementIndex--}this._done=!0},Me.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var Ce=512/t.EXTENT/2,Le=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};Le.prototype.getScaledCoordinates=function(e,n){var r=Ce/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*r)}},Le.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Ee=function(){this.maxCrossTileID=0};Ee.prototype.generate=function(){return++this.maxCrossTileID};var ke=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ke.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},ke.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,i)}else{var u=a[t.scaledTo(Number(o)).key];u&&u.findMatches(e.symbolInstances,t,i)}}for(var c=0;c<e.symbolInstances.length;c++){var p=e.symbolInstances.get(c);p.crossTileID||(p.crossTileID=n.generate(),i[p.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Le(t,e.symbolInstances,e.bucketInstanceId),!0},ke.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[t][i[r].crossTileID]},ke.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var Te=function(){this.layerIndexes={},this.crossTileIDs=new Ee,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Te.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new ke);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.getBucket(t);u&&t.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,u,this.crossTileIDs)&&(i=!0),o[u.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Te.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var Se=function(e,n){return t.emitValidationErrors(e,n&&n.filter(function(t){return"source.canvas"!==t.identifier}))},Ae=t.pick(Rt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),De=t.pick(Rt,["setCenter","setZoom","setBearing","setPitch"]),Ie=function(e){function n(r,i){var o=this;void 0===i&&(i={}),e.call(this),this.map=r,this.dispatcher=new w((It||(It=new Dt),It),this),this.imageManager=new p,this.glyphManager=new y(r._transformRequest,i.localIdeographFontFamily),this.lineAtlas=new x(256,512),this.crossTileSymbolIndex=new Te,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginAvailability(function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}})}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=t.normalizeStyleURL(e,n.accessToken);var o=this.map._transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,function(e,n){r._request=null,e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)})},n.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame(function(){r._request=null,r._load(e,!1!==n.validate)})},n.prototype._load=function(e,n){var r=this;if(!n||!Se(this,t.validateStyle(e))){for(var i in this._loaded=!0,this.stylesheet=e,e.sources)r.addSource(i,e.sources[i],{validate:!1});e.sprite?this._spriteRequest=function(e,n,r){var i,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(n(t.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),function(t,e){l=null,a||(a=t,i=e,c())}),u=t.getImage(n(t.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),function(t,e){u=null,a||(a=t,o=e,c())});function c(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var s in i){var l=i[s],u=l.width,c=l.height,p=l.x,h=l.y,d=l.sdf,f=l.pixelRatio,m=new t.RGBAImage({width:u,height:c});t.RGBAImage.copy(e,m,{x:p,y:h},{x:0,y:0},{width:u,height:c}),n[s]={data:m,pixelRatio:f,sdf:d}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(e.sprite,this.map._transformRequest,function(e,n){if(r._spriteRequest=null,e)r.fire(new t.ErrorEvent(e));else if(n)for(var i in n)r.imageManager.addImage(i,n[i]);r.imageManager.setLoaded(!0),r.fire(new t.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var o=Nt(this.stylesheet.layers);this._order=o.map(function(t){return t.id}),this._layers={};for(var a=0,s=o;a<s.length;a+=1){var l=s[a];(l=t.createStyleLayer(l)).setEventedParent(r,{layer:{id:l.id}}),r._layers[l.id]=l}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&e.push(i.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}for(var l in this.sourceCaches)this.sourceCaches[l].used=!1;for(var u=0,c=this._order;u<c.length;u+=1){var p=this._layers[c[u]];p.recalculate(e),!p.isHidden(e.zoom)&&p.source&&(this.sourceCaches[p.source].used=!0)}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),Se(this,t.validateStyle(e)))return!1;(e=t.clone(e)).layers=Nt(e.layers);var r=function(e,n){if(!e)return[{command:Rt.setStyle,args:[n]}];var r=[];try{if(!t.isEqual(e.version,n.version))return[{command:Rt.setStyle,args:[n]}];t.isEqual(e.center,n.center)||r.push({command:Rt.setCenter,args:[n.center]}),t.isEqual(e.zoom,n.zoom)||r.push({command:Rt.setZoom,args:[n.zoom]}),t.isEqual(e.bearing,n.bearing)||r.push({command:Rt.setBearing,args:[n.bearing]}),t.isEqual(e.pitch,n.pitch)||r.push({command:Rt.setPitch,args:[n.pitch]}),t.isEqual(e.sprite,n.sprite)||r.push({command:Rt.setSprite,args:[n.sprite]}),t.isEqual(e.glyphs,n.glyphs)||r.push({command:Rt.setGlyphs,args:[n.glyphs]}),t.isEqual(e.transition,n.transition)||r.push({command:Rt.setTransition,args:[n.transition]}),t.isEqual(e.light,n.light)||r.push({command:Rt.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Yt(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.isEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&zt(e,n,o)?r.push({command:Rt.setGeoJSONSourceData,args:[o,n[o].data]}):Bt(o,n,r,i)):Ft(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach(function(t){i[t.source]?r.push({command:Rt.removeLayer,args:[t.id]}):a.push(t)}),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,s,l,u,c,p=(e=e||[]).map(Vt),h=n.map(Vt),d=e.reduce(Ht,{}),f=n.reduce(Ht,{}),m=p.slice(),g=Object.create(null);for(i=0,o=0;i<p.length;i++)f.hasOwnProperty(a=p[i])?o++:(r.push({command:Rt.removeLayer,args:[a]}),m.splice(m.indexOf(a,o),1));for(i=0,o=0;i<h.length;i++)m[m.length-1-i]!==(a=h[h.length-1-i])&&(d.hasOwnProperty(a)?(r.push({command:Rt.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-o),1)):o++,r.push({command:Rt.addLayer,args:[f[a],u=m[m.length-i]]}),m.splice(m.length-i,0,a),g[a]=!0);for(i=0;i<h.length;i++)if(s=d[a=h[i]],l=f[a],!g[a]&&!t.isEqual(s,l))if(t.isEqual(s.source,l.source)&&t.isEqual(s["source-layer"],l["source-layer"])&&t.isEqual(s.type,l.type)){for(c in jt(s.layout,l.layout,r,a,null,Rt.setLayoutProperty),jt(s.paint,l.paint,r,a,null,Rt.setPaintProperty),t.isEqual(s.filter,l.filter)||r.push({command:Rt.setFilter,args:[a,l.filter]}),t.isEqual(s.minzoom,l.minzoom)&&t.isEqual(s.maxzoom,l.maxzoom)||r.push({command:Rt.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?jt(s[c],l[c],r,a,c.slice(6),Rt.setPaintProperty):t.isEqual(s[c],l[c])||r.push({command:Rt.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?jt(s[c],l[c],r,a,c.slice(6),Rt.setPaintProperty):t.isEqual(s[c],l[c])||r.push({command:Rt.setLayerProperty,args:[a,c,l[c]]}))}else r.push({command:Rt.removeLayer,args:[a]}),u=m[m.lastIndexOf(a)+1],r.push({command:Rt.addLayer,args:[l,u]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Rt.setStyle,args:[n]}]}return r}(this.serialize(),e).filter(function(t){return!(t.command in De)});if(0===r.length)return!1;var i=r.filter(function(t){return!(t.command in Ae)});if(i.length>0)throw new Error("Unimplemented: "+i.map(function(t){return t.command}).join(", ")+".");return r.forEach(function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)}),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,r){var i=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new kt(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}}),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,r){this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===e.type){if(Se(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}})}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n){this._checkLoaded();var r=this.getLayer(e);if(r){if(!t.isEqual(r.filter,n))return null==n?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(t.validateStyle.filter,"layers."+r.id+".filter",n)||(r.filter=t.clone(n),this._updateLayer(r)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?t.isEqual(i.getLayoutProperty(n),r)||(i.setLayoutProperty(n,r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},n.prototype.setPaintProperty=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?t.isEqual(i.getPaintProperty(n),r)||(i.setPaintProperty(n,r)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.sourceCaches[r],a=parseInt(e.id,10);void 0!==o?"vector"!==o.getSource().type||i?isNaN(a)||a<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):o.setFeatureState(i,a,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types."))):this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.sourceCaches[n],o=parseInt(e.id,10);if(void 0!==i)if("vector"!==i.getSource().type||r){if(!(isNaN(o)||o<0))return i.getFeatureState(r,o);this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._serializeLayers(this._order)},function(t){return void 0!==t})},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenRenderedFeatures=function(t){for(var e=[],n=this._order.length-1;n>=0;n--)for(var r=this._order[n],i=0,o=t;i<o.length;i+=1){var a=o[i][r];if(a)for(var s=0,l=a;s<l.length;s+=1)e.push(l[s])}return e},n.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[l.source]=!0}}var u=[],c=e.map(function(t){return r.pointCoordinate(t)});for(var p in this.sourceCaches)n.layers&&!i[p]||u.push(O(this.sourceCaches[p],this._layers,c,n,r));return this.placement&&u.push(function(t,e,n,r,i,o){for(var a={},s=i.queryRenderedSymbols(n),l=[],u=0,c=Object.keys(s).map(Number);u<c.length;u+=1)l.push(o[c[u]]);l.sort(N);for(var p=function(){var e=d[h],n=e.featureIndex.lookupSymbolFeatures(s[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,r.filter,r.layers,t);for(var i in n){var o=a[i]=a[i]||[],l=n[i];l.sort(function(t,n){var r=e.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(n.featureIndex)-i}return n.featureIndex-t.featureIndex});for(var u=0,c=l;u<c.length;u+=1)o.push(c[u].feature)}},h=0,d=l;h<d.length;h+=1)p();var f=function(n){a[n].forEach(function(r){var i=e[t[n].source].getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=i})};for(var m in a)f(m);return a}(this._layers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(u)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},n.prototype.addSourceType=function(t,e,r){return n.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e){this._checkLoaded();var n=this.light.getLight(),r=!1;for(var i in e)if(!t.isEqual(e[i],n[i])){r=!0;break}if(r){var o={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(o)}},n.prototype._validate=function(e,n,r,i,o){return(!o||!1!==o.validate)&&Se(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,r,i){for(var o=!1,a=!1,s={},l=0,u=this._order;l<u.length;l+=1){var c=this._layers[u[l]];if("symbol"===c.type){if(!s[c.source]){var p=this.sourceCaches[c.source];s[c.source]=p.getRenderableIds(!0).map(function(t){return p.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var h=this.crossTileSymbolIndex.addLayer(c,s[c.source],e.center.lng);o=o||h}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now()))&&(this.pauseablePlacement=new Me(e,this._order,d,n,r,i),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,t.browser.now()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(var f=0,m=this._order;f<m.length;f+=1){var g=this._layers[m[f]];"symbol"===g.type&&this.placement.updateLayerOpacities(g,s[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n}(t.Evented);Ie.getSourceType=function(t){return I[t]},Ie.setSourceType=function(t,e){I[t]=e},Ie.registerForPluginAvailability=t.registerForPluginAvailability;var Pe=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),Oe=sn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ne=sn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Re=sn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Fe=sn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/DEVICE_PIXEL_RATIO/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ye=sn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Be=sn("#pragma mapbox: define highp float weight\nuniform highp float u_intensity;varying vec2 v_extrude;\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;const highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),ze=sn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),je=sn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=a_extrude*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ve=sn("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),He=sn("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ue=sn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Ge=sn("#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_pos;void main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),qe=sn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),We=sn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Ze=sn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);}"),Xe=sn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));}"),Je=sn("uniform sampler2D u_image;uniform float u_opacity;varying vec2 v_pos;void main() {gl_FragColor=texture2D(u_image,v_pos)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ke=sn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;return (data.r+data.g*256.0+data.b*256.0*256.0)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(a_texture_pos/8192.0)/2.0+0.25;}"),Qe=sn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),$e=sn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),tn=sn("#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nuniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;void main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),en=sn("uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_gl_units_to_pixels;uniform mediump float u_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),nn=sn("uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),rn=sn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),on=sn("uniform sampler2D u_texture;\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;\n#pragma mapbox: define lowp float opacity\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),an=sn("#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function sn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r={};return{fragmentSource:t=t.replace(n,function(t,e,n,i,o){return r[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+n+" "+i+" "+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n"}),vertexSource:e=e.replace(n,function(t,e,n,i,o){var a="float"===i?"vec2":"vec4",s=o.match(/color/)?"color":a;return r[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\nvarying "+n+" "+i+" "+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = a_"+o+";\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = a_"+o+";\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n"})}}var ln=Object.freeze({prelude:Oe,background:Ne,backgroundPattern:Re,circle:Fe,clippingMask:Ye,heatmap:Be,heatmapTexture:ze,collisionBox:je,collisionCircle:Ve,debug:He,fill:Ue,fillOutline:Ge,fillOutlinePattern:qe,fillPattern:We,fillExtrusion:Ze,fillExtrusionPattern:Xe,extrusionTexture:Je,hillshadePrepare:Ke,hillshade:Qe,line:$e,lineGradient:tn,linePattern:en,lineSDF:nn,raster:rn,symbolIcon:on,symbolSDF:an}),un=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};un.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==r.length,u=0;!l&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(l=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(e,n,r,i,o,a,s)},un.prototype.freshBind=function(t,e,n,r,i,o,a){var s,l=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}e.enableAttributes(c,t);for(var h=0,d=n;h<d.length;h+=1)d[h].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var f=0,m=n;f<m.length;f+=1){var g=m[f];g.bind(),g.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),u.currentNumAttributes=l},un.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var cn=function(e,n,r,i,o){var a=e.gl;this.program=a.createProgram();var s=r.defines().concat("#define DEVICE_PIXEL_RATIO "+t.browser.devicePixelRatio.toFixed(1));o&&s.push("#define OVERDRAW_INSPECTOR;");var l=s.concat(Oe.fragmentSource,n.fragmentSource).join("\n"),u=s.concat(Oe.vertexSource,n.vertexSource).join("\n"),c=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(c,l),a.compileShader(c),a.attachShader(this.program,c);var p=a.createShader(a.VERTEX_SHADER);a.shaderSource(p,u),a.compileShader(p),a.attachShader(this.program,p);for(var h=r.layoutAttributes||[],d=0;d<h.length;d++)a.bindAttribLocation(this.program,d,h[d].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var f={},m=0;m<this.numAttributes;m++){var g=a.getActiveAttrib(this.program,m);g&&(this.attributes[g.name]=a.getAttribLocation(this.program,g.name))}for(var y=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),_=0;_<y;_++){var v=a.getActiveUniform(this.program,_);v&&(f[v.name]=a.getUniformLocation(this.program,v.name))}this.fixedUniforms=i(e,f),this.binderUniforms=r.getUniforms(e,f)};function pn(e,n,r){var i=1/se(r,1,n.transform.tileZoom),o=Math.pow(2,r.tileID.overscaledZ),a=r.tileSize*Math.pow(2,n.transform.tileZoom)/o,s=a*(r.tileID.canonical.x+r.tileID.wrap*o),l=a*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,i,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}cn.prototype.draw=function(t,e,n,r,i,o,a,s,l,u,c,p,h,d,f,m){var g,y=t.gl;for(var _ in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[_].set(a[_]);d&&d.setUniforms(t,this.binderUniforms,p,{zoom:h});for(var v=(g={},g[y.LINES]=2,g[y.TRIANGLES]=3,g[y.LINE_STRIP]=1,g)[e],b=0,x=c.get();b<x.length;b+=1){var w=x[b],M=w.vaos||(w.vaos={});(M[s]||(M[s]=new un)).bind(t,this,l,d?d.getPaintVertexBuffers():[],u,w.vertexOffset,f,m),y.drawElements(e,w.primitiveLength*v,y.UNSIGNED_SHORT,w.primitiveOffset*v*2)}};var hn=function(e,n,r){var i=n.style.light,o=i.properties.get("position"),a=[o.x,o.y,o.z],s=t.create$2();"viewport"===i.properties.get("anchor")&&t.fromRotation(s,-n.transform.angle),t.transformMat3(a,a,s);var l=i.properties.get("color");return{u_matrix:e,u_lightpos:a,u_lightintensity:i.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+r}},dn=function(e,n,r,i,o,a){return t.extend(hn(e,n,r),pn(o,n,a),{u_height_factor:-Math.pow(2,i.overscaledZ)/a.tileSize/8})},fn=function(e,n,r){var i=t.create();t.ortho(i,0,e.width,e.height,0,0,1);var o=e.context.gl;return{u_matrix:i,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:r,u_opacity:n}},mn=function(t){return{u_matrix:t}},gn=function(e,n,r,i){return t.extend(mn(e),pn(r,n,i))},yn=function(t,e){return{u_matrix:t,u_world:e}},_n=function(e,n,r,i,o){return t.extend(gn(e,n,r,i),{u_world:o})},vn=function(t,e,n,r){var i,o,a=t.transform;if("map"===r.paint.get("circle-pitch-alignment")){var s=se(n,1,a.zoom);i=!0,o=[s,s]}else i=!1,o=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(e.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+i,u_extrude_scale:o}},bn=function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},xn=function(t,e,n){var r=se(n,1,e.zoom),i=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*i),e.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},wn=function(t,e){return{u_matrix:t,u_color:e}},Mn=function(t){return{u_matrix:t}},Cn=function(t,e,n,r){return{u_matrix:t,u_extrude_scale:se(e,1,n),u_intensity:r}},Ln=function(e,n,r){var i,o,a,s=r.paint.get("hillshade-shadow-color"),l=r.paint.get("hillshade-highlight-color"),u=r.paint.get("hillshade-accent-color"),c=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);return"viewport"===r.paint.get("hillshade-illumination-anchor")&&(c-=e.transform.angle),{u_matrix:e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),!0),u_image:0,u_latrange:(i=n.tileID,o=Math.pow(2,i.canonical.z),a=i.canonical.y,[new t.MercatorCoordinate(0,a/o).toLngLat().lat,new t.MercatorCoordinate(0,(a+1)/o).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),c],u_shadow:s,u_highlight:l,u_accent:u}},En=function(e,n){var r=e.dem.dim,i=t.create();return t.ortho(i,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(i,i,[0,-t.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[2*r,2*r],u_zoom:e.tileID.overscaledZ,u_maxzoom:n}},kn=function(t,e,n){var r=t.transform;return{u_matrix:In(t,e,n),u_ratio:1/se(e,1,r.zoom),u_gl_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Tn=function(e,n,r){return t.extend(kn(e,n,r),{u_image:0})},Sn=function(e,n,r,i){var o=e.transform,a=Dn(n,o);return{u_matrix:In(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/se(n,1,o.zoom),u_image:0,u_scale:[t.browser.devicePixelRatio,a,i.fromScale,i.toScale],u_fade:i.t,u_gl_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},An=function(e,n,r,i,o){var a=e.lineAtlas,s=Dn(n,e.transform),l="round"===r.layout.get("line-cap"),u=a.getDash(i.from,l),c=a.getDash(i.to,l),p=u.width*o.fromScale,h=c.width*o.toScale;return t.extend(kn(e,n,r),{u_patternscale_a:[s/p,-u.height/2],u_patternscale_b:[s/h,-c.height/2],u_sdfgamma:a.width/(256*Math.min(p,h)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:o.t})};function Dn(t,e){return 1/se(t,1,e.tileZoom)}function In(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Pn=function(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:function(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}(i.paint.get("raster-hue-rotate"))};var o,a},On=function(t,e,n,r,i,o,a,s,l,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},Nn=function(e,n,r,i,o,a,s,l,u,c,p){var h=o.transform;return t.extend(On(e,n,r,i,o,a,s,l,u,c),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_is_halo:+p})},Rn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Fn=function(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from),o=n.imageManager.getPattern(t.to),a=n.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,p=c*(r.tileID.canonical.x+r.tileID.wrap*u),h=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/se(r,1,n.transform.tileZoom),u_pixel_coord_upper:[p>>16,h>>16],u_pixel_coord_lower:[65535&p,65535&h]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},Yn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},extrusionTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:bn,collisionCircle:bn,debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_maxzoom:new t.Uniform1f(e,n.u_maxzoom)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,n.u_gl_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,n.u_gl_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_image:new t.Uniform1i(e,n.u_image),u_gl_units_to_pixels:new t.Uniform2f(e,n.u_gl_units_to_pixels),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,n.u_gl_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,n.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,n.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_is_halo:new t.Uniform1f(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Bn(e,n){for(var r=e.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),i=0;i<r.length;i++){var o={},a=r[i],s=r.slice(i+1);zn(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),o),a.setMask(o,n)}}function zn(e,n,r,i,o){for(var a=0;a<r.length;a++){var s=r[a];if(i.isLessThan(s.tileID))break;if(n.key===s.tileID.key)return;if(s.tileID.isChildOf(n)){for(var l=n.children(1/0),u=0;u<l.length;u++)zn(e,l[u],r.slice(a),i,o);return}}var c=n.overscaledZ-e.overscaledZ,p=new t.CanonicalTileID(c,n.canonical.x-(e.canonical.x<<c),n.canonical.y-(e.canonical.y<<c));o[p.key]=o[p.key]||p}function jn(t,e,n,r,i){for(var o=t.context,a=o.gl,s=t.useProgram(i?"collisionCircle":"collisionBox"),l=0;l<r.length;l++){var u=r[l],c=e.getTile(u),p=c.getBucket(n);if(p){var h=i?p.collisionCircle:p.collisionBox;h&&s.draw(o,i?a.TRIANGLES:a.LINES,wt.disabled,Mt.disabled,t.colorModeForRenderPass(),Lt.disabled,xn(u.posMatrix,t.transform,c),n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,null,t.transform.zoom,null,null,h.collisionVertexBuffer)}}}var Vn=t.identity(new Float32Array(16)),Hn=t.properties.layout;function Un(e,n,r,i,o,a,s,l,u,c,p,h){for(var d,f,m=e.context,g=m.gl,y=e.transform,_="map"===l,v="map"===u,b=_&&"point"!==r.layout.get("symbol-placement"),x=_&&!v&&!b,w=v?e.depthModeForSublayer(0,wt.ReadOnly):wt.disabled,M=0,C=i;M<C.length;M+=1){var L=C[M],E=n.getTile(L),k=E.getBucket(r);if(k){var T=o?k.text:k.icon;if(T&&T.segments.get().length){var S=T.programConfigurations.get(r.id),A=o||k.sdfIcons,D=o?k.textSizeData:k.iconSizeData;d||(d=e.useProgram(A?"symbolSDF":"symbolIcon",S),f=t.evaluateSizeForZoom(D,y.zoom,Hn.properties[o?"text-size":"icon-size"])),m.activeTexture.set(g.TEXTURE0);var I=void 0;if(o)E.glyphAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),I=E.glyphAtlasTexture.size;else{var P=1!==r.layout.get("icon-size").constantOr(0)||k.iconsNeedLinear;E.imageAtlasTexture.bind(A||e.options.rotating||e.options.zooming||P||v||0!==y.pitch?g.LINEAR:g.NEAREST,g.CLAMP_TO_EDGE),I=E.imageAtlasTexture.size}var O=se(E,1,e.transform.zoom),N=qt(L.posMatrix,v,_,e.transform,O),R=Wt(L.posMatrix,v,_,e.transform,O);b&&Jt(k,L.posMatrix,e,o,N,R,v,c);var F=e.translatePosMatrix(L.posMatrix,E,a,s),Y=b?Vn:N,B=e.translatePosMatrix(R,E,a,s,!0),z=void 0;if(A){var j=0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);z=Nn(D.functionType,f,x,v,e,F,Y,B,o,I,!0),j&&Gn(T,r,e,d,w,p,h,z),z.u_is_halo=0}else z=On(D.functionType,f,x,v,e,F,Y,B,o,I);Gn(T,r,e,d,w,p,h,z)}}}}function Gn(t,e,n,r,i,o,a,s){var l=n.context;r.draw(l,l.gl.TRIANGLES,i,o,a,Lt.disabled,s,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,e.paint,n.transform.zoom,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function qn(t,e,n,r,i,o,a){var s,l,u,c,p,h=t.context.gl,d=n.paint.get("fill-pattern"),f=d&&d.constantOr(1),m=n.getCrossfadeParameters();a?(l=f&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(l=f?"fillPattern":"fill",s=h.TRIANGLES);for(var g=0,y=r;g<y.length;g+=1){var _=y[g],v=e.getTile(_);if(!f||v.patternsLoaded()){var b=v.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),w=t.useProgram(l,x);f&&(t.context.activeTexture.set(h.TEXTURE0),v.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),x.updatePatternPaintBuffers(m));var M=d.constantOr(null);if(M&&v.imageAtlas){var C=v.imageAtlas.patternPositions[M.to],L=v.imageAtlas.patternPositions[M.from];C&&L&&x.setConstantPatternPositions(C,L)}var E=t.translatePosMatrix(_.posMatrix,v,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,p=b.segments2;var k=[h.drawingBufferWidth,h.drawingBufferHeight];u="fillOutlinePattern"===l&&f?_n(E,t,m,v,k):yn(E,k)}else c=b.indexBuffer,p=b.segments,u=f?gn(E,t,m,v):mn(E);w.draw(t.context,s,i,t.stencilModeForClipping(_),o,Lt.disabled,u,n.id,b.layoutVertexBuffer,c,p,n.paint,t.transform.zoom,x)}}}}function Wn(e,n){var r=e.context,i=r.gl,o=n.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!o){var a=new t.Texture(r,{width:e.width,height:e.height,data:null},i.RGBA);a.bind(i.LINEAR,i.CLAMP_TO_EDGE),(o=n.viewportFrame=r.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture)}r.bindFramebuffer.set(o.framebuffer),o.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(r.clear({depth:1}),e.depthRboNeedsClear=!1),r.clear({color:t.Color.transparent}),r.setStencilMode(Mt.disabled),r.setDepthMode(new wt(i.LEQUAL,wt.ReadWrite,[0,1])),r.setColorMode(e.colorModeForRenderPass())}function Zn(t,e,n){var r=e.viewportFrame;if(r){var i=t.context,o=i.gl;i.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),t.useProgram("extrusionTexture").draw(i,o.TRIANGLES,wt.disabled,Mt.disabled,t.colorModeForRenderPass(),Lt.disabled,fn(t,n,0),e.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,e.paint,t.transform.zoom)}}function Xn(t,e,n,r,i,o){var a=t.context,s=a.gl,l=e.fbo;if(l){var u=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());var c=Ln(t,e,n);e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments?u.draw(a,s.TRIANGLES,r,i,o,Lt.disabled,c,n.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments):u.draw(a,s.TRIANGLES,r,i,o,Lt.disabled,c,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function Jn(e,n,r,i,o,a,s){var l=e.context,u=l.gl;if(n.dem&&n.dem.data){var c=n.dem.dim,p=n.dem.getPixels();if(l.activeTexture.set(u.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(n.tileSize),n.demTexture){var h=n.demTexture;h.update(p,{premultiply:!1}),h.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(l,p,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);l.activeTexture.set(u.TEXTURE0);var d=n.fbo;if(!d){var f=new t.Texture(l,{width:c,height:c,data:null},u.RGBA);f.bind(u.LINEAR,u.CLAMP_TO_EDGE),(d=n.fbo=l.createFramebuffer(c,c)).colorAttachment.set(f.texture)}l.bindFramebuffer.set(d.framebuffer),l.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(l,u.TRIANGLES,o,a,s,Lt.disabled,En(n,i),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function Kn(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),l=(s-e.timeAdded)/a,u=n?(s-n.timeAdded)/a:-1,c=r.getSource(),p=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),d=h&&e.refreshedUponExpiration?1:t.clamp(h?l:1-u,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}function Qn(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,s=e.useProgram("debug"),l=wt.disabled,u=Mt.disabled,c=e.colorModeForRenderPass(),p="$debug";s.draw(i,o.LINE_STRIP,l,u,c,Lt.disabled,wn(a,t.Color.red),p,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);for(var h=function(t,e,n,r){r=r||1;var i,o,a,s,l,u,c,p,h=[];for(i=0,o=t.length;i<o;i++)if(l=$n[t[i]]){for(p=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?p=null:(u=e+l[1][a]*r,c=200-l[1][a+1]*r,p&&h.push(p.x,p.y,u,c),p={x:u,y:c});e+=l[0]*r}return h}(r.toString(),50,0,5),d=new t.StructArrayLayout2i4,f=new t.StructArrayLayout2ui4,m=0;m<h.length;m+=2)d.emplaceBack(h[m],h[m+1]),f.emplaceBack(m,m+1);for(var g=i.createVertexBuffer(d,Pe.members),y=i.createIndexBuffer(f),_=t.SegmentVector.simpleSegment(0,0,d.length/2,d.length/2),v=n.getTile(r).tileSize,b=t.EXTENT/(Math.pow(2,e.transform.zoom-r.overscaledZ)*v),x=[[-1,-1],[-1,1],[1,-1],[1,1]],w=0;w<x.length;w++){var M=x[w];s.draw(i,o.LINES,l,u,c,Lt.disabled,wn(t.translate([],a,[b*M[0],b*M[1],0]),t.Color.white),p,g,y,_)}s.draw(i,o.LINES,l,u,c,Lt.disabled,wn(a,t.Color.black),p,g,y,_)}var $n={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},tr={symbol:function(t,e,n,r){if("translucent"===t.renderPass){var i=Mt.disabled,o=t.colorModeForRenderPass();0!==n.paint.get("icon-opacity").constantOr(1)&&Un(t,e,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),i,o),0!==n.paint.get("text-opacity").constantOr(1)&&Un(t,e,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),i,o),e.map.showCollisionBoxes&&function(t,e,n,r){jn(t,e,n,r,!1),jn(t,e,n,r,!0)}(t,e,n,r)}},circle:function(t,e,n,r){if("translucent"===t.renderPass){var i=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),a=n.paint.get("circle-stroke-opacity");if(0!==i.constantOr(1)||0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.context,l=s.gl,u=t.depthModeForSublayer(0,wt.ReadOnly),c=Mt.disabled,p=t.colorModeForRenderPass(),h=0;h<r.length;h++){var d=r[h],f=e.getTile(d),m=f.getBucket(n);if(m){var g=m.programConfigurations.get(n.id);t.useProgram("circle",g).draw(s,l.TRIANGLES,u,c,p,Lt.disabled,vn(t,d,f,n),n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,t.transform.zoom,g)}}}},heatmap:function(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=e.depthModeForSublayer(0,wt.ReadOnly),l=Mt.disabled,u=new Ct([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,n,r,i){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n.width/4,n.height/4,0,o.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),i.colorAttachment.set(r),e.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,i.colorAttachment.setDirty(),t(e,n,r,i))}(t,e,o,i)}}(o,e,r),o.clear({color:t.Color.transparent});for(var c=0;c<i.length;c++){var p=i[c];if(!n.hasRenderableParent(p)){var h=n.getTile(p),d=h.getBucket(r);if(d){var f=d.programConfigurations.get(r.id);e.useProgram("heatmap",f).draw(o,a.TRIANGLES,s,l,u,Lt.disabled,Cn(p.posMatrix,h,e.transform.zoom,r.paint.get("heatmap-intensity")),r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,r.paint,e.transform.zoom,f)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,wt.disabled,Mt.disabled,e.colorModeForRenderPass(),Lt.disabled,function(e,n,r,i){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1)){var s=e.depthModeForSublayer(0,wt.ReadOnly),l=e.colorModeForRenderPass(),u=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),p=c.constantOr(1),h=r.paint.get("line-gradient"),d=r.getCrossfadeParameters(),f=u?"lineSDF":p?"linePattern":h?"lineGradient":"line",m=e.context,g=m.gl,y=!0;if(h){m.activeTexture.set(g.TEXTURE0);var _=r.gradientTexture;if(!r.gradient)return;_||(_=r.gradientTexture=new t.Texture(m,r.gradient,g.RGBA)),_.bind(g.LINEAR,g.CLAMP_TO_EDGE)}for(var v=0,b=i;v<b.length;v+=1){var x=b[v],w=n.getTile(x);if(!p||w.patternsLoaded()){var M=w.getBucket(r);if(M){var C=M.programConfigurations.get(r.id),L=e.context.program.get(),E=e.useProgram(f,C),k=y||E.program!==L,T=c.constantOr(null);if(T&&w.imageAtlas){var S=w.imageAtlas.patternPositions[T.to],A=w.imageAtlas.patternPositions[T.from];S&&A&&C.setConstantPatternPositions(S,A)}var D=u?An(e,w,r,u,d):p?Sn(e,w,r,d):h?Tn(e,w,r):kn(e,w,r);u&&(k||e.lineAtlas.dirty)?(m.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(m)):p&&(m.activeTexture.set(g.TEXTURE0),w.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),C.updatePatternPaintBuffers(d)),E.draw(m,g.TRIANGLES,s,e.stencilModeForClipping(x),l,Lt.disabled,D,r.id,M.layoutVertexBuffer,M.indexBuffer,M.segments,r.paint,e.transform.zoom,C),y=!1}}}}}},fill:function(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),l=r.paint.get("fill-pattern").constantOr(1)||1!==o.constantOr(t.Color.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===l&&qn(e,n,r,i,e.depthModeForSublayer(1,"opaque"===e.renderPass?wt.ReadWrite:wt.ReadOnly),s,!1),"translucent"===e.renderPass&&r.paint.get("fill-antialias")&&qn(e,n,r,i,e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,wt.ReadOnly),s,!0)}},"fill-extrusion":function(t,e,n,r){0!==n.paint.get("fill-extrusion-opacity")&&("offscreen"===t.renderPass?(Wn(t,n),function(t,e,n,r,i,o,a){for(var s=t.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),p=n.getCrossfadeParameters(),h=0,d=r;h<d.length;h+=1){var f=d[h],m=e.getTile(f),g=m.getBucket(n);if(g){var y=g.programConfigurations.get(n.id),_=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",y);c&&(t.context.activeTexture.set(l.TEXTURE0),m.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePatternPaintBuffers(p));var v=u.constantOr(null);if(v&&m.imageAtlas){var b=m.imageAtlas.patternPositions[v.to],x=m.imageAtlas.patternPositions[v.from];b&&x&&y.setConstantPatternPositions(b,x)}var w=t.translatePosMatrix(f.posMatrix,m,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),M=n.paint.get("fill-extrusion-vertical-gradient"),C=c?dn(w,t,M,f,p,m):hn(w,t,M);_.draw(s,s.gl.TRIANGLES,i,o,a,Lt.backCCW,C,n.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,n.paint,t.transform.zoom,y)}}}(t,e,n,r,new wt(t.context.gl.LEQUAL,wt.ReadWrite,[0,1]),Mt.disabled,t.colorModeForRenderPass())):"translucent"===t.renderPass&&Zn(t,n,n.paint.get("fill-extrusion-opacity")))},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=e.getSource().maxzoom,a=t.depthModeForSublayer(0,wt.ReadOnly),s=Mt.disabled,l=t.colorModeForRenderPass(),u=0,c=r;u<c.length;u+=1){var p=e.getTile(c[u]);p.needsHillshadePrepare&&"offscreen"===t.renderPass?Jn(t,p,n,o,a,s,l):"translucent"===t.renderPass&&Xn(t,p,n,a,s,l)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity"))for(var i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),l=Mt.disabled,u=t.colorModeForRenderPass(),c=r.length&&r[0].overscaledZ,p=0,h=r;p<h.length;p+=1){var d=h[p],f=t.depthModeForSublayer(d.overscaledZ-c,1===n.paint.get("raster-opacity")?wt.ReadWrite:wt.ReadOnly,o.LESS),m=e.getTile(d),g=t.transform.calculatePosMatrix(d.toUnwrapped(),!0);m.registerFadeDuration(n.paint.get("raster-fade-duration"));var y=e.findLoadedParent(d,0),_=Kn(m,y,e,n,t.transform),v=void 0,b=void 0,x="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),m.texture.bind(x,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),y?(y.texture.bind(x,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),v=Math.pow(2,y.tileID.overscaledZ-m.tileID.overscaledZ),b=[m.tileID.canonical.x*v%1,m.tileID.canonical.y*v%1]):m.texture.bind(x,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var w=Pn(g,b||[0,0],v||1,_,n);a instanceof S?s.draw(i,o.TRIANGLES,f,l,u,Lt.disabled,w,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):m.maskedBoundsBuffer&&m.maskedIndexBuffer&&m.segments?s.draw(i,o.TRIANGLES,f,l,u,Lt.disabled,w,n.id,m.maskedBoundsBuffer,m.maskedIndexBuffer,m.segments,n.paint,t.transform.zoom):s.draw(i,o.TRIANGLES,f,l,u,Lt.disabled,w,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,l=s.tileSize,u=n.paint.get("background-pattern");if(!t.isPatternMissing(u)){var c=u||1!==r.a||1!==i?"translucent":"opaque";if(t.renderPass===c){var p=Mt.disabled,h=t.depthModeForSublayer(0,"opaque"===c?wt.ReadWrite:wt.ReadOnly),d=t.colorModeForRenderPass(),f=t.useProgram(u?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:l});u&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var g=n.getCrossfadeParameters(),y=0,_=m;y<_.length;y+=1){var v=_[y],b=t.transform.calculatePosMatrix(v.toUnwrapped()),x=u?Fn(b,i,t,u,{tileID:v,tileSize:l},g):Rn(b,i,r);f.draw(o,a.TRIANGLES,h,p,d,Lt.disabled,x,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)Qn(t,e,n[r])},custom:function(t,e,n){var r=t.context,i=n.implementation;if("offscreen"===t.renderPass){var o=i.prerender;o&&(t.setCustomLayerDefaults(),o.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState()),"3d"===i.renderingMode&&(t.setCustomLayerDefaults(),Wn(t,n),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass)if("3d"===i.renderingMode)Zn(t,n,1);else{t.setCustomLayerDefaults(),r.setStencilMode(Mt.disabled);var a=t.depthModeForSublayer(0,wt.ReadOnly);r.setDepthMode(a),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},er=function(e,n){this.context=new Et(e),this.transform=n,this._tileTextures={},this.setup(),this.numSublayers=kt.maxUnderzooming+kt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.ProgramConfiguration,this.crossTileSymbolIndex=new Te};function nr(t,e){if(t.y>e.y){var n=t;t=e,e=n}return{x0:t.x,y0:t.y,x1:e.x,y1:e.y,dx:e.x-t.x,dy:e.y-t.y}}function rr(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=t.dx>0,p=e.dx<0,h=o;h<a;h++){var d=l*Math.max(0,Math.min(t.dy,h+c-t.y0))+t.x0,f=u*Math.max(0,Math.min(e.dy,h+p-e.y0))+e.x0;i(Math.floor(f),Math.ceil(d),h)}}function ir(t,e,n,r,i,o){var a,s=nr(t,e),l=nr(e,n),u=nr(n,t);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>u.dy&&(a=s,s=u,u=a),l.dy>u.dy&&(a=l,l=u,u=a),s.dy&&rr(u,s,r,i,o),l.dy&&rr(u,l,r,i,o)}er.prototype.resize=function(e,n){var r=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var i=0,o=this.style._order;i<o.length;i+=1)this.style._layers[o[i]].resize();this.depthRbo&&(r.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},er.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,Pe.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,Pe.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,t.rasterBoundsAttributes.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,Pe.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var l=this.context.gl;this.stencilClearMode=new Mt({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},er.prototype.clearStencil=function(){var e=this.context,n=e.gl,r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,wt.disabled,this.stencilClearMode,Ct.disabled,Lt.disabled,Mn(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},er.prototype._renderTileClippingMasks=function(t){var e=this.context,n=e.gl;e.setColorMode(Ct.disabled),e.setDepthMode(wt.disabled);var r=this.useProgram("clippingMask"),i=1;this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=i++;r.draw(e,n.TRIANGLES,wt.disabled,new Mt({func:n.ALWAYS,mask:0},l,255,n.KEEP,n.KEEP,n.REPLACE),Ct.disabled,Lt.disabled,Mn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}},er.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Mt({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},er.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new Ct([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ct.unblended:Ct.alphaBlended},er.prototype.depthModeForSublayer=function(t,e,n){var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new wt(n||this.context.gl.LEQUAL,e,[r-1+this.depthRange,r])},er.prototype.render=function(e,n){this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now());var r=this.style._order,i=this.style.sourceCaches;for(var o in i){var a=i[o];a.used&&a.prepare(this.context)}var s,l={},u={},c={};for(var p in i){var h=i[p];l[p]=h.getVisibleCoordinates(),u[p]=l[p].slice().reverse(),c[p]=h.getVisibleCoordinates(!0).reverse()}for(var d in i){var f=i[d],m=f.getSource();if("raster"===m.type||"raster-dem"===m.type){for(var g=[],y=0,_=l[d];y<_.length;y+=1)g.push(f.getTile(_[y]));Bn(g,this.context)}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var v=0,b=r;v<b.length;v+=1){var x=this.style._layers[b[v]];if(x.hasOffscreenPass()&&!x.isHidden(this.transform.zoom)){var w=u[x.source];("custom"===x.type||w.length)&&this.renderLayer(this,i[x.source],x,w)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var M=this.style._layers[r[this.currentLayer]],C=i[M.source],L=l[M.source];M.source!==s&&C&&(this.clearStencil(),C.getSource().isTileClipped&&this._renderTileClippingMasks(L)),this.renderLayer(this,C,M,L),s=M.source}for(this.renderPass="translucent",this.currentLayer=0,s=null;this.currentLayer<r.length;this.currentLayer++){var E=this.style._layers[r[this.currentLayer]],k=i[E.source],T=("symbol"===E.type?c:u)[E.source];E.source!==s&&k&&(this.clearStencil(),k.getSource().isTileClipped&&this._renderTileClippingMasks(l[E.source])),this.renderLayer(this,k,E,T),s=E.source}if(this.options.showTileBoundaries)for(var S in i){tr.debug(this,i[S],l[S]);break}this.setCustomLayerDefaults()},er.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},er.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,tr[n.type](t,e,n,r))},er.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var u=[o?r[0]:se(n,r[0],this.transform.zoom),o?r[1]:se(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,u),c},er.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},er.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},er.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from),n=this.imageManager.getPattern(t.to);return!e||!n},er.prototype.useProgram=function(t,e){void 0===e&&(e=this.emptyProgramConfiguration),this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new cn(this.context,ln[t],e,Yn[t],this._showOverdrawInspector)),this.cache[n]},er.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},er.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)};var or=function(e,n,r){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===r||r,this._minZoom=e||0,this._maxZoom=n||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},ar={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};or.prototype.clone=function(){var t=new or(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},ar.minZoom.get=function(){return this._minZoom},ar.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},ar.maxZoom.get=function(){return this._maxZoom},ar.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},ar.renderWorldCopies.get=function(){return this._renderWorldCopies},ar.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},ar.worldSize.get=function(){return this.tileSize*this.scale},ar.centerPoint.get=function(){return this.size._div(2)},ar.size.get=function(){return new t.Point(this.width,this.height)},ar.bearing.get=function(){return-this.angle/Math.PI*180},ar.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$4(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ar.pitch.get=function(){return this._pitch/Math.PI*180},ar.pitch.set=function(e){var n=t.clamp(e,0,60)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},ar.fov.get=function(){return this._fov/Math.PI*180},ar.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},ar.zoom.get=function(){return this._zoom},ar.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},ar.center.get=function(){return this._center},ar.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},or.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},or.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&n.push(new t.UnwrappedTileID(u,e));return n},or.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=new t.Point(o*i.x-.5,o*i.y-.5);return function(e,n,r,i){void 0===i&&(i=!0);var o=1<<e,a={};function s(n,s,l){var u,c,p;if(l>=0&&l<=o)for(u=n;u<s;u++)0!==(c=Math.floor(u/o))&&!0!==i||(p=new t.OverscaledTileID(r,c,e,(u%o+o)%o,l),a[p.key]=p)}var l=n.map(function(e){return new t.Point(e.x,e.y)._mult(o)});return ir(l[0],l[1],l[2],0,o,s),ir(l[2],l[3],l[0],0,o,s),Object.keys(a).map(function(t){return a[t]})}(n,[this.pointCoordinate(new t.Point(0,0)),this.pointCoordinate(new t.Point(this.width,0)),this.pointCoordinate(new t.Point(this.width,this.height)),this.pointCoordinate(new t.Point(0,this.height))],e.reparseOverscaled?r:n,this._renderWorldCopies).sort(function(t,e){return a.dist(t.canonical)-a.dist(e.canonical)})},or.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},ar.unmodified.get=function(){return this._unmodified},or.prototype.zoomScale=function(t){return Math.pow(2,t)},or.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},or.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},or.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},ar.point.get=function(){return this.project(this.center)},or.prototype.setLocationAtPoint=function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},or.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},or.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},or.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},or.prototype.coordinateLocation=function(t){return t.toLngLat()},or.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,l=n[2]/i,u=r[2]/o,c=l===u?0:(0-l)/(u-l);return new t.MercatorCoordinate(t.number(n[0]/i,r[0]/o,c)/this.worldSize,t.number(a,s,c)/this.worldSize)},or.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},or.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},or.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},or.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},or.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,l=t.identity(new Float64Array(16));return t.translate(l,l,[s*a,o.y*a,0]),t.scale(l,l,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),i[r]=new Float32Array(l),i[r]},or.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},or.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;o=t.mercatorYfromLat(p[1])*this.worldSize,e=(a=t.mercatorYfromLat(p[0])*this.worldSize)-o<u.y?u.y/(a-o):0}if(this.lngRange){var h=this.lngRange;s=t.mercatorXfromLng(h[0])*this.worldSize,n=(l=t.mercatorXfromLng(h[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var d=this.point,f=Math.max(n||0,e||0);if(f)return this.center=this.unproject(new t.Point(n?(l+s)/2:d.x,e?(a+o)/2:d.y)),this.zoom+=this.scaleZoom(f),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=d.y,g=u.y/2;m-g<o&&(i=o+g),m+g>a&&(i=a-g)}if(this.lngRange){var y=d.x,_=u.x/2;y-_<s&&(r=s+_),y+_>l&&(r=l-_)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:d.x,void 0!==i?i:d.y))),this._unmodified=c,this._constraining=!1}},or.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,n=Math.PI/2+this._pitch,r=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-n-e),i=this.point,o=i.x,a=i.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),l=new Float64Array(16);t.perspective(l,this._fov,this.width/this.height,1,s),t.scale(l,l,[1,-1,1]),t.translate(l,l,[0,0,-this.cameraToCenterDistance]),t.rotateX(l,l,this._pitch),t.rotateZ(l,l,this.angle),t.translate(l,l,[-o,-a,0]),this.mercatorMatrix=t.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),t.scale(l,l,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l;var u=this.width%2/2,c=this.height%2/2,p=Math.cos(this.angle),h=Math.sin(this.angle),d=o-Math.round(o)+p*u+h*c,f=a-Math.round(a)+p*c+h*u,m=new Float64Array(l);if(t.translate(m,m,[d>.5?d-1:d,f>.5?f-1:f,0]),this.alignedProjMatrix=m,l=t.create(),t.scale(l,l,[this.width/2,-this.height/2,1]),t.translate(l,l,[1,-1,0]),this.pixelMatrix=t.multiply(new Float64Array(16),l,this.projMatrix),!(l=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},or.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(or.prototype,ar);var sr=function(){var e,n,r,i;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),n=!1,r=0,i=function(){r=0,n&&(e(),r=setTimeout(i,300),n=!1)},function(){return n=!0,r||i(),r})};sr.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},sr.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},sr.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(e.lng*i)/i,a=Math.round(e.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch(),u="";return u+=t?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},sr.prototype._onHashChange=function(){var e=t.window.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},sr.prototype._updateHashUnthrottled=function(){var e=this.getHashString();try{t.window.history.replaceState(t.window.history.state,"",e)}catch(t){}};var lr=function(e){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),l=i.unproject(s);e.call(this,r,t.extend({point:s,lngLat:l,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),ur=function(e){function r(r,i,o){var a=n.touchPos(i.getCanvasContainer(),o),s=a.map(function(t){return i.unproject(t)}),l=a.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new t.Point(0,0)),u=i.unproject(l);e.call(this,r,{points:a,point:l,lngLats:s,lngLat:u,originalEvent:o}),this._defaultPrevented=!1}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),cr=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),pr=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};pr.prototype.isEnabled=function(){return!!this._enabled},pr.prototype.isActive=function(){return!!this._active},pr.prototype.isZooming=function(){return!!this._zooming},pr.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},pr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},pr.prototype.onWheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this.isActive()||this._start(e)),e.preventDefault()}},pr.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},pr.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._zooming=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var r=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},pr.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:n.zoom,s=this._startZoom,l=this._easing,u=!1;if("wheel"===this._type&&s&&l){var c=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),p=l(c);n.zoom=t.number(s,a,p),c<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):u=!0}else n.zoom=a,u=!0;n.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),u&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._zooming=!1,e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom},200))}},pr.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n};var hr=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};hr.prototype.isEnabled=function(){return!!this._enabled},hr.prototype.isActive=function(){return!!this._active},hr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},hr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},hr.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),n.disableDrag(),this._startPos=this._lastPos=n.mousePos(this._el,e),this._active=!0)},hr.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=e,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var i=Math.min(r.x,e.x),o=Math.max(r.x,e.x),a=Math.min(r.y,e.y),s=Math.max(r.y,e.y);n.setTransform(this._box,"translate("+i+"px,"+a+"px)"),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"}},hr.prototype._onMouseUp=function(e){if(0===e.button){var r=this._startPos,i=n.mousePos(this._el,e);this._finish(),n.suppressClick(),r.x===i.x&&r.y===i.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(r,i,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}))}},hr.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},hr.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},hr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var dr=t.bezier(0,0,.25,1),fr=function(e,n){this._map=e,this._el=n.element||e.getCanvasContainer(),this._state="disabled",this._button=n.button||"right",this._bearingSnap=n.bearingSnap||0,this._pitchWithRotate=!1!==n.pitchWithRotate,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};fr.prototype.isEnabled=function(){return"disabled"!==this._state},fr.prototype.isActive=function(){return"active"===this._state},fr.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},fr.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},fr.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=n.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==n.mouseButton(e))return;this._eventButton=0}n.disableDrag(),t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=n.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},fr.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},fr.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var n=this._map.transform,r=this._startPos,i=this._lastPos,o=n.bearing-.8*(r.x-i.x),a=n.pitch- -.5*(r.y-i.y),s=this._inertia,l=s[s.length-1];this._drainInertiaBuffer(),s.push([t.browser.now(),this._map._normalizeBearing(o,l[1])]),n.bearing=o,this._pitchWithRotate&&(this._fireEvent("pitch",e),n.pitch=a),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._startPos=this._lastPos}},fr.prototype._onMouseUp=function(t){if(n.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},fr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},fr.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),n.enableDrag()},fr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},fr.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),i=this._inertia,o=function(){Math.abs(r)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(i.length<2)o();else{var a=i[0],s=i[i.length-1],l=n._normalizeBearing(r,i[i.length-2][1]),u=s[1]-a[1],c=u<0?-1:1,p=(s[0]-a[0])/1e3;if(0!==u&&0!==p){var h=Math.abs(u*(.25/p));h>180&&(h=180);var d=h/180;l+=c*h*(d/2),Math.abs(n._normalizeBearing(l,0))<this._bearingSnap&&(l=n._normalizeBearing(0,l)),n.rotateTo(l,{duration:1e3*d,easing:dr,noMoveStart:!0},{originalEvent:t})}else o()}},fr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},fr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var mr=t.bezier(0,0,.3,1),gr=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};gr.prototype.isEnabled=function(){return"disabled"!==this._state},gr.prototype.isActive=function(){return"active"===this._state},gr.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},gr.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},gr.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==n.mouseButton(e)||(n.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)))},gr.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(n.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)))},gr.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=n.mousePos(this._el,e),this._inertia=[[t.browser.now(),this._startPos]]},gr.prototype._onMove=function(e){e.preventDefault();var r=n.mousePos(this._el,e);this._lastPos.equals(r)||"pending"===this._state&&r.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=r,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",e),this._fireEvent("movestart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},gr.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._startPos=this._lastPos,delete this._lastMoveEvent}},gr.prototype._onMouseUp=function(t){if(0===n.mouseButton(t))switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},gr.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},gr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},gr.prototype._unbind=function(){n.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onTouchEnd),n.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.removeEventListener(t.window.document,"mouseup",this._onMouseUp),n.removeEventListener(t.window,"blur",this._onBlur)},gr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},gr.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var n=e[e.length-1],r=e[0],i=n[1].sub(r[1]),o=(n[0]-r[0])/1e3;if(0===o||n[1].equals(r[1]))this._fireEvent("moveend",t);else{var a=i.mult(.3/o),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,u=a.mult(-l/2);this._map.panBy(u,{duration:1e3*l,easing:mr,noMoveStart:!0},{originalEvent:t})}}},gr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},gr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var yr=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function _r(t){return t*(2-t)}yr.prototype.isEnabled=function(){return!!this._enabled},yr.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},yr.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},yr.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,r=0,i=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),i=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),i=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?r=-1:(o=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:_r,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*n,pitch:a.getPitch()+10*r,offset:[100*-i,100*-o],center:a.getCenter()};a.easeTo(l,{originalEvent:t})}};var vr=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};vr.prototype.isEnabled=function(){return!!this._enabled},vr.prototype.isActive=function(){return!!this._active},vr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},vr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vr.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null},300)))},vr.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},vr.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},vr.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var br=t.bezier(0,0,.15,1),xr=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};xr.prototype.isEnabled=function(){return!!this._enabled},xr.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},xr.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},xr.prototype.disableRotation=function(){this._rotationDisabled=!0},xr.prototype.enableRotation=function(){this._rotationDisabled=!1},xr.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var r=n.mousePos(this._el,e.touches[0]),i=n.mousePos(this._el,e.touches[1]),o=r.add(i).div(2);this._startVec=r.sub(i),this._startAround=this._map.transform.pointLocation(o),this._gestureIntent=void 0,this._inertia=[],n.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.addEventListener(t.window.document,"touchend",this._onEnd)}},xr.prototype._getTouchEventData=function(t){var e=n.mousePos(this._el,t.touches[0]),r=n.mousePos(this._el,t.touches[1]),i=e.sub(r);return{vec:i,center:e.add(r).div(2),scale:i.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI}},xr.prototype._onMove=function(e){if(2===e.touches.length){var n=this._getTouchEventData(e),r=n.vec,i=n.bearing;if(!this._gestureIntent){var o=Math.abs(1-n.scale)>.15;Math.abs(i)>10?this._gestureIntent="rotate":o&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=r)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},xr.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var n=this._map.transform;this._startScale||(this._startScale=n.scale,this._startBearing=n.bearing);var r=this._getTouchEventData(this._lastTouchEvent),i=r.center,o=r.bearing,a=r.scale,s=n.pointLocation(i),l=n.locationPoint(s);"rotate"===e&&(n.bearing=this._startBearing+o),n.zoom=n.scaleZoom(this._startScale*a),n.setLocationAtPoint(this._startAround,l),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),a,i])}},xr.prototype._onEnd=function(e){n.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onEnd);var r=this._gestureIntent,i=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,r){this._map.fire(new t.Event(r+"end",{originalEvent:e})),this._drainInertiaBuffer();var o=this._inertia,a=this._map;if(o.length<2)a.snapToNorth({},{originalEvent:e});else{var s=o[o.length-1],l=o[0],u=a.transform.scaleZoom(i*s[1]),c=a.transform.scaleZoom(i*l[1]),p=(s[0]-l[0])/1e3,h=s[2];if(0!==p&&u!==c){var d=.15*(u-c)/p;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var f=1e3*Math.abs(d/(12*.15)),m=u+d*f/2e3;m<0&&(m=0),a.easeTo({zoom:m,duration:f,easing:br,around:this._aroundCenter?a.getCenter():a.unproject(h),noMoveStart:!0},{originalEvent:e})}else a.snapToNorth({},{originalEvent:e})}}},xr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>2&&n-e[0][0]>160;)e.shift()};var wr={scrollZoom:pr,boxZoom:hr,dragRotate:fr,dragPan:gr,keyboard:yr,doubleClickZoom:vr,touchZoomRotate:xr},Mr=function(e){function n(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return this.transform.center},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},n.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){return e=t.LngLatBounds.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,n)},n.prototype._cameraForBoxAndBearing=function(e,n,r,i){if("number"==typeof(i=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}if(t.isEqual(Object.keys(i.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"])){var a=[(i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2],s=Math.min(i.padding.right,i.padding.left),l=Math.min(i.padding.top,i.padding.bottom);i.offset=[i.offset[0]+a[0],i.offset[1]+a[1]];var u=this.transform,c=u.project(t.LngLat.convert(e)),p=u.project(t.LngLat.convert(n)),h=c.rotate(-r*Math.PI/180),d=p.rotate(-r*Math.PI/180),f=new t.Point(Math.max(h.x,d.x),Math.max(h.y,d.y)),m=new t.Point(Math.min(h.x,d.x),Math.min(h.y,d.y)),g=t.Point.convert(i.offset),y=f.sub(m),_=(u.width-2*s-2*Math.abs(g.x))/y.x,v=(u.height-2*l-2*Math.abs(g.y))/y.y;if(!(v<0||_<0))return i.center=u.unproject(c.add(p).div(2)),i.zoom=Math.min(u.scaleZoom(u.scale*Math.min(_,v)),i.maxZoom),i.bearing=r,i;t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(e,n,r){return e?(n=t.extend(e,n)).linear?this.easeTo(n,r):this.flyTo(n,r):this},n.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var r=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?+e.zoom:o,u="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,p=i.centerPoint.add(t.Point.convert(e.offset)),h=i.pointLocation(p),d=t.LngLat.convert(e.center||h);this._normalizeCenter(d);var f,m,g=i.project(h),y=i.project(d).sub(g),_=i.zoomScale(l-o);return e.around&&(f=t.LngLat.convert(e.around),m=i.locationPoint(f)),this._zooming=l!==o,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(n,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(e){if(r._zooming&&(i.zoom=t.number(o,l,e)),r._rotating&&(i.bearing=t.number(a,u,e)),r._pitching&&(i.pitch=t.number(s,c,e)),f)i.setLocationAtPoint(f,m);else{var h=i.zoomScale(i.zoom-o),d=l>o?Math.min(2,_):Math.max(.5,_),v=Math.pow(d,1-e),b=i.unproject(g.add(y.mult(e*v)).mult(h));i.setLocationAtPoint(i.renderWorldCopies?b.wrap():b,p)}r._fireMoveEvents(n)},function(){e.delayEndEvents?r._easeEndTimeoutID=setTimeout(function(){return r._afterEase(n)},e.delayEndEvents):r._afterEase(n)},e),this},n.prototype._prepareEase=function(e,n){this._moving=!0,n||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e){var n=this._zooming,r=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,n&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),i&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},n.prototype.flyTo=function(e,n){var r=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,i.minZoom,i.maxZoom):o,u="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,p=i.zoomScale(l-o),h=i.centerPoint.add(t.Point.convert(e.offset)),d=i.pointLocation(h),f=t.LngLat.convert(e.center||d);this._normalizeCenter(f);var m=i.project(d),g=i.project(f).sub(m),y=e.curve,_=Math.max(i.width,i.height),v=_/p,b=g.mag();if("minZoom"in e){var x=t.clamp(Math.min(e.minZoom,o,l),i.minZoom,i.maxZoom),w=_/i.zoomScale(x-o);y=Math.sqrt(w/b*2)}var M=y*y;function C(t){var e=(v*v-_*_+(t?-1:1)*M*M*b*b)/(2*(t?v:_)*M*b);return Math.log(Math.sqrt(e*e+1)-e)}function L(t){return(Math.exp(t)-Math.exp(-t))/2}function E(t){return(Math.exp(t)+Math.exp(-t))/2}var k=C(0),T=function(t){return E(k)/E(k+y*t)},S=function(t){return _*((E(k)*(L(e=k+y*t)/E(e))-L(k))/M)/b;var e},A=(C(1)-k)/y;if(Math.abs(b)<1e-6||!isFinite(A)){if(Math.abs(_-v)<1e-6)return this.easeTo(e,n);var D=v<_?-1:1;A=Math.abs(Math.log(v/_))/y,S=function(){return 0},T=function(t){return Math.exp(D*y*t)}}return e.duration="duration"in e?+e.duration:1e3*A/("screenSpeed"in e?+e.screenSpeed/y:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(n,!1),this._ease(function(e){var p=e*A,d=1/T(p);i.zoom=1===e?l:o+i.scaleZoom(d),r._rotating&&(i.bearing=t.number(a,u,e)),r._pitching&&(i.pitch=t.number(s,c,e));var y=1===e?f:i.unproject(m.add(g.mult(S(p))).mult(d));i.setLocationAtPoint(i.renderWorldCopies?y.wrap():y,h),r._fireMoveEvents(n)},function(){return r._afterEase(n)},e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},n.prototype._ease=function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),Cr=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Cr.prototype.getDefaultPosition=function(){return"bottom-right"},Cr.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Cr.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Cr.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:t.config.ACCESS_TOKEN}];if(e){var r=n.reduce(function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<n.length-1?"&":"")),t},"?");e.href="https://www.mapbox.com/feedback/"+r+(this._map._hash?this._map._hash.getHashString(!0):"")}},Cr.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},Cr.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map(function(t){return"string"!=typeof t?"":"<p>"+t+"</p>"})):"string"==typeof this.options.customAttribution&&t.push("<p>"+this.options.customAttribution+"</p>")),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort(function(t,e){return t.length-e.length}),(t=t.filter(function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0})).length?(this._container.innerHTML=t.join("<p> | </p>"),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},Cr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Lr=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};Lr.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Lr.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Lr.prototype.getDefaultPosition=function(){return"bottom-left"},Lr.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Lr.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},Lr.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var Er=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Er.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},Er.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},Er.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!r.cancelled&&(r.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Er.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var kr=t.window.HTMLImageElement,Tr=t.window.HTMLElement,Sr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Ar=function(r){function i(e){var i=this;if(null!=(e=t.extend({},Sr,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var o=new or(e.minZoom,e.maxZoom,e.renderWorldCopies);r.call(this,o,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new Er,this._controls=[],this._mapId=t.uniqueId();var a=e.transformRequest;if(this._transformRequest=a?function(t,e){return a(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Tr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return i._update(!1)}),this.on("zoom",function(){return i._update(!0)}),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var r=t.getCanvasContainer(),i=null,o=!1,a=null;for(var s in wr)t[s]=new wr[s](t,e),e.interactive&&e[s]&&t[s].enable(e[s]);n.addEventListener(r,"mouseout",function(e){t.fire(new lr("mouseout",t,e))}),n.addEventListener(r,"mousedown",function(i){o=!0,a=n.mousePos(r,i);var s=new lr("mousedown",t,i);t.fire(s),s.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(i),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(i),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(i))}),n.addEventListener(r,"mouseup",function(e){var n=t.dragRotate.isActive();i&&!n&&t.fire(new lr("contextmenu",t,i)),i=null,o=!1,t.fire(new lr("mouseup",t,e))}),n.addEventListener(r,"mousemove",function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new lr("mousemove",t,e))}}),n.addEventListener(r,"mouseover",function(e){for(var n=e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new lr("mouseover",t,e))}),n.addEventListener(r,"touchstart",function(n){var r=new ur("touchstart",t,n);t.fire(r),r.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(n),t.touchZoomRotate.onStart(n),t.doubleClickZoom.onTouchStart(r))},{passive:!1}),n.addEventListener(r,"touchmove",function(e){t.fire(new ur("touchmove",t,e))},{passive:!1}),n.addEventListener(r,"touchend",function(e){t.fire(new ur("touchend",t,e))}),n.addEventListener(r,"touchcancel",function(e){t.fire(new ur("touchcancel",t,e))}),n.addEventListener(r,"click",function(i){var o=n.mousePos(r,i);(o.equals(a)||o.dist(a)<e.clickTolerance)&&t.fire(new lr("click",t,i))}),n.addEventListener(r,"dblclick",function(e){var n=new lr("dblclick",t,e);t.fire(n),n.defaultPrevented||t.doubleClickZoom.onDblClick(n)}),n.addEventListener(r,"contextmenu",function(e){var n=t.dragRotate.isActive();o||n?o&&(i=e):t.fire(new lr("contextmenu",t,e)),(t.dragRotate.isEnabled()||t.listens("contextmenu"))&&e.preventDefault()}),n.addEventListener(r,"wheel",function(n){e.interactive&&t.stop();var r=new cr("wheel",t,n);t.fire(r),r.defaultPrevented||t.scrollZoom.onWheel(n)},{passive:!1})}(this,e),this._hash=e.hash&&(new sr).addTo(this),this._hash&&this._hash._onHashChange()||(e.bounds?(this.resize(),this.fitBounds(e.bounds,{duration:0})):this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch})),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new Cr({customAttribution:e.customAttribution})),this.addControl(new Lr,e.logoPosition),this.on("style.load",function(){i.transform.unmodified&&i.jumpTo(i.style.stylesheet)}),this.on("data",function(e){i._update("style"===e.dataType),i.fire(new t.Event(e.dataType+"data",e))}),this.on("dataloading",function(e){i.fire(new t.Event(e.dataType+"dataloading",e))})}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(e,n){if(void 0===n&&e.getDefaultPosition&&(n=e.getDefaultPosition()),void 0===n&&(n="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},i.prototype.resize=function(e){var n=this._containerDimensions(),r=n[0],i=n[1];return this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},i.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},i.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},i.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},i.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},i.prototype.on=function(t,e,n){var i,o=this;if(void 0===n)return r.prototype.on.call(this,t,e);var a=function(){if("mouseenter"===t||"mouseover"===t){var r=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){var a=o.getLayer(e)?o.queryRenderedFeatures(i.point,{layers:[e]}):[];a.length?r||(r=!0,n.call(o,new lr(t,o,i.originalEvent,{features:a}))):r=!1},mouseout:function(){r=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){(o.getLayer(e)?o.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(o,new lr(t,o,r.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(o,new lr(t,o,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(i={},i[t]=function(t){var r=o.getLayer(e)?o.queryRenderedFeatures(t.point,{layers:[e]}):[];r.length&&(t.features=r,n.call(o,t),delete t.features)},i)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)o.on(s,a.delegates[s]);return this},i.prototype.off=function(t,e,n){if(void 0===n)return r.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var i=this._delegatedListeners[t],o=0;o<i.length;o++){var a=i[o];if(a.layer===e&&a.listener===n){for(var s in a.delegates)this.off(s,a.delegates[s]);return i.splice(o,1),this}}return this},i.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var r;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var i=t.Point.convert(e[0]),o=t.Point.convert(e[1]);r=[i,new t.Point(o.x,i.y),o,new t.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},i.prototype.setStyle=function(e,n){if((!n||!1!==n.diff&&!n.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Ie(this,n||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0)},i.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},i.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},i.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},i.prototype.getSource=function(t){return this.style.getSource(t)},i.prototype.addImage=function(e,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;if(void 0===o&&(o=!1),n instanceof kr){var a=t.browser.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:a.width,height:a.height},a.data),pixelRatio:i,sdf:o})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));this.style.addImage(e,{data:new t.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,sdf:o})}},i.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(t){this.style.removeImage(t)},i.prototype.loadImage=function(e,n){t.getImage(this._transformRequest(e,t.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0)},i.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},i.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},i.prototype.getLayer=function(t){return this.style.getLayer(t)},i.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0)},i.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},i.prototype.getFilter=function(t){return this.style.getFilter(t)},i.prototype.setPaintProperty=function(t,e,n){return this.style.setPaintProperty(t,e,n),this._update(!0)},i.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},i.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0)},i.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},i.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},i.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=n.create("div","mapboxgl-ctrl-"+t,i)})},i.prototype._resizeCanvas=function(e,n){var r=t.window.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},e.webGLContextAttributes),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?this.painter=new er(r,this.transform):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},i.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},i.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},i.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var n=this.transform.zoom,r=t.browser.now();this.style.zoomHistory.update(n,r);var i=new t.EvaluationParameters(n,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=i.crossFadingFactor();1===o&&o===this._crossFadingFactor||(e=!0,this._crossFadingFactor=o),this.style.update(i)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this.triggerRepaint(),this},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Dr(this._canvasContainer),Dr(this._controlContainer),Dr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},i.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame(function(){e._frame=null,e._render()}))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint=t,this._update()},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},Object.defineProperties(i.prototype,o),i}(Mr);function Dr(t){t.parentNode&&t.parentNode.removeChild(t)}var Ir={showCompass:!0,showZoom:!0},Pr=function(e){var r=this;this.options=t.extend({},Ir,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",function(){return r._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",function(){return r._map.zoomOut()})),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",function(){return r._map.resetNorth()}),this._compassArrow=n.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function Or(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(n);r.locationPoint(i).distSqr(n)<a?e=i:r.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}Pr.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},Pr.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fr(t,{button:"left",element:this._compass}),n.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Pr.prototype.onRemove=function(){n.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),n.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Pr.prototype._createButton=function(t,e,r){var i=n.create("button",t,this._container);return i.type="button",i.title=e,i.setAttribute("aria-label",e),i.addEventListener("click",r),i};var Nr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Rr(t,e,n){var r=t.classList;for(var i in Nr)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var Fr,Yr=function(e){function r(r){if(e.call(this),(arguments[0]instanceof t.window.HTMLElement||2===arguments.length)&&(r=t.extend({element:r},arguments[1])),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._draggable=r&&r.draggable||!1,this._state="inactive",r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div");var i=n.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var o=n.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var l=0,u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<u.length;l+=1){var c=u[l],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",c.rx),p.setAttributeNS(null,"ry",c.ry),s.appendChild(p)}var h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var d=n.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(d);var f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");var m=n.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(m);var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var v=n.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),y.appendChild(_),y.appendChild(v),a.appendChild(s),a.appendChild(h),a.appendChild(f),a.appendChild(g),a.appendChild(y),i.appendChild(a),this._element.appendChild(i),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},r.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},r.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Or(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,Nr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),Rr(this._element,this._anchor,"marker"))},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},r.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r}(t.Evented),Br={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},zr=function(e){function r(n){e.call(this),this.options=t.extend({},Br,n),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.onAdd=function(e){var r;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Fr?r(Fr):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(function(t){r(Fr="denied"!==t.state)}):r(Fr=!!t.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),n.remove(this._container),this._map=void 0},r.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},r.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._map.fitBounds(n.toBounds(e.coords.accuracy),this.options.fitBoundsOptions,{geolocateSource:!0})},r.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},r.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(e){var r=this;!1!==e?(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=n.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Yr(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))})):t.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},r.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(t.Evented),jr={maxWidth:100,unit:"metric"},Vr=function(e){this.options=t.extend({},jr,e),t.bindAll(["_onMove","setUnit"],this)};function Hr(t,e,n){var r,i,o,a,s,l,u=n&&n.maxWidth||100,c=t._container.clientHeight/2,p=(r=t.unproject([0,c]),i=t.unproject([u,c]),o=Math.PI/180,a=r.lat*o,s=i.lat*o,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((i.lng-r.lng)*o),6371e3*Math.acos(Math.min(l,1)));if(n&&"imperial"===n.unit){var h=3.2808*p;h>5280?Ur(e,u,h/5280,"mi"):Ur(e,u,h,"ft")}else n&&"nautical"===n.unit?Ur(e,u,p/1852,"nm"):Ur(e,u,p,"m")}function Ur(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a))),l=s/n;"m"===r&&s>=1e3&&(s/=1e3,r="km"),t.style.width=e*l+"px",t.innerHTML=s+r}Vr.prototype.getDefaultPosition=function(){return"bottom-left"},Vr.prototype._onMove=function(){Hr(this._map,this._container,this.options)},Vr.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vr.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vr.prototype.setUnit=function(t){this.options.unit=t,Hr(this._map,this._container,this.options)};var Gr=function(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Gr.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=n.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},Gr.prototype.onRemove=function(){n.remove(this._container),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Gr.prototype._setupUI=function(){var e=this._fullscreenButton=n.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._isFullscreen=function(){return this._fullscreen},Gr.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},Gr.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var qr={closeButton:!0,closeOnClick:!0,className:""},Wr=function(e){function r(n){e.call(this),this.options=t.extend(Object.create(qr),n),t.bindAll(["_update","_onClickClose"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._update(),this},r.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},r.prototype.setHTML=function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},r.prototype._createContent=function(){this._content&&n.remove(this._content),this._content=n.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},r.prototype._update=function(){var e=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(t){return e._container.classList.add(t)})),this._map.transform.renderWorldCopies&&(this._lngLat=Or(this._lngLat,this._pos,this._map.transform));var r=this._pos=this._map.project(this._lngLat),i=this.options.anchor,o=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!i){var a,s=this._container.offsetWidth,l=this._container.offsetHeight;a=r.y+o.bottom.y<l?["top"]:r.y>this._map.transform.height-l?["bottom"]:[],r.x<s/2?a.push("left"):r.x>this._map.transform.width-s/2&&a.push("right"),i=0===a.length?"bottom":a.join("-")}var u=r.add(o[i]).round();n.setTransform(this._container,Nr[i]+" translate("+u.x+"px,"+u.y+"px)"),Rr(this._container,i,"popup")}},r.prototype._onClickClose=function(){this.remove()},r}(t.Evented),Zr={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,Map:Ar,NavigationControl:Pr,GeolocateControl:zr,AttributionControl:Cr,ScaleControl:Vr,FullscreenControl:Gr,Popup:Wr,Marker:Yr,Style:Ie,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get workerCount(){return Dt.workerCount},set workerCount(t){Dt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},workerUrl:""};return Zr}),n}()},"4dOw":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},"5IX/":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("/n73"),i=function(){function t(){}return t.prototype.transform=function(t,e){var n=[r.a.Metro,r.a.Train,r.a.Bus,r.a.SchoolBus,r.a.Ferry,r.a.LightRail,r.a.Coach];return t.sort(function(t,e){return n.indexOf(t)-n.indexOf(e)})},t}()},"5WcC":function(t,e,n){"use strict";n("3ZaB");var r=n("F8mC"),i=(n("oLF2"),n("YWy8")),o=(n("wkhI"),n("RmBF"),n("6N39")),a=function(){function t(){}return t.getTransportModes=function(t){var e=[];return t===i.b.STATIONLINK&&(e=this.stationLinkModes),e},t.stationLinkModes=[{id:"stationlink",icon:"stationlink",name:"Station Link",showTabs:!0,showModes:!1,tabs:[{id:"lines",label:"Buses",type:"ECRL",bounds:{ne:[151.2063,-33.734],sw:[151.0512,-33.8403]},trackEvent:o.a.StationLinkBus},{id:"stops",label:"Stations",type:"ECRL_Rail",bounds:{ne:[151.23252,-33.683331],sw:[150.952788,-33.923728]},trackEvent:o.a.StationLinkStations}],alwaysVisibleLayers:[]}],t}(),s=(n("lUqE"),n("plTY")),l=(n("MCcF"),n("AfO8"),function(){return function(){this.Text=""}}());n.d(e,"a",function(){return u});var u=function(){function t(t,e,n,i,o,a){this.windowRef=t,this.renderer=e,this.mapboxDatasetService=n,this.cardService=i,this.linksService=o,this.trackStationLinkService=a,this.showMap=!1,this.showAutoSuggest=!1,this.isLoadingData=!1,this.mapLayers=[],this.mapStyle=r.a.MAPBOX_CONSTANTS.greyscaleStyleUrl,this.selectStop=new l,this.sourceLayers=["OCT_TESTING_DEV_MTMS_LINES","OCT_TESTING_DEV_MTMS_STOPS","DEV_MTMS_BUS_REGIONS"],this.clickSourceLayers=["OCT_TESTING_DEV_MTMS_STOPS","DEV_MTMS_BUS_REGIONS"]}return t.prototype.ngOnInit=function(){this.transportModes=a.getTransportModes(i.b.STATIONLINK),this.selectedMode=this.transportModes[0],this.selectMode(this.selectedMode),this.selectedTab=this.transportModes[0].tabs[0],this.stopSearchPlaceholder="",this.tabMessage="",this.stopTabList=[],this.cardList=[]},t.prototype.ngAfterViewInit=function(){this.showAutoSuggest&&(this.stopSearchEl.autosuggestEl.inputEl.nativeElement.value="")},t.prototype.displayMap=function(t){this.showMap=!0,this.renderer.addClass(document.body,"map-only"),this.trackStationLinkService.selectMapFromCard(t)},t.prototype.hideMap=function(){this.showMap=!1,this.renderer.removeClass(document.body,"map-only")},t.prototype.isMobileView=function(){return this.windowRef.isMobileView()},t.prototype.selectMode=function(t){this.selectedMode=t,this.popup=null,this.selectedMode.tabs&&this.selectedMode.tabs.length>0?(this.selectTab(this.selectedMode.tabs[0]),this.bounds=this.selectedMode.tabs[0].bounds):(this.cardList=[],this.tabMessage="",this.stopSearchPlaceholder="",this.isLoadingData=!1,this.mapLayers=[]),this.showAutoSuggest=!(!this.selectedMode.showTabs||!this.selectedMode.tabs[0].showAutoSuggest)&&this.selectedMode.tabs[0].showAutoSuggest},t.prototype.selectTab=function(t){this.selectedTab=t,this.showAutoSuggest=t.showAutoSuggest,this.trackStationLinkService.selectTab(t.trackEvent),this.populateDatasetList()},t.prototype.populateDatasetList=function(){var t=this;this.isLoadingData=!0,this.mapLayers=[],this.tabMessage="",this.cardList=[],this.popup=null,"lines"===this.selectedTab.id?this.mapboxDatasetService.getLinesDataset().subscribe(function(e){var n=e.filter(function(e){return e.routeTypeText===t.selectedTab.type&&e.rank});n.length>0&&(t.cardList=t.cardService.getCardList(i.a.line,n),t.cardList.sort(function(t,e){return t.rank-e.rank}),t.cardList.forEach(function(e){t.mapLayers=t.mapLayers.concat(e.extraInfo.layerNames)}),t.tabMessage=n[0].lineTabMessage),t.bounds=t.selectedTab.bounds,t.isLoadingData=!1}):"stops"===this.selectedTab.id?(this.mapboxDatasetService.getLinesDataset().subscribe(function(e){e.filter(function(t){return"Rail"===t.routeTypeText&&t.rank}).forEach(function(e){t.mapLayers=t.mapLayers.concat(e.layerNames)})}),"Rail"===this.selectedTab.type&&(this.cardList=this.stopTabList),this.cardList&&this.cardList.length>0&&this.collapseAllCardsExcept(),this.mapboxDatasetService.getStopsDataset().subscribe(function(e){if(t.stopDataSetList=e.filter("ECRL_Rail"===t.selectedTab.type?function(e){return e.stopType===t.selectedTab.type&&e.rank}:function(e){return e.stopType===t.selectedTab.type}),t.tabMessage=t.stopDataSetList[0].stopTabMessage,t.bounds=t.selectedTab.bounds,t.stopSearchPlaceholder=t.selectedTab.stopSearchPlaceholder,t.isLoadingData=!1,"ECRL_Rail"===t.selectedTab.type){var n=t.cardService.getCardList(i.a.stop,t.stopDataSetList);n&&n.length>1&&(n.sort(function(t,e){return t.rank-e.rank}),n.forEach(function(e,n){e.id=n,e.extraInfo.layerNames=t.mapboxDatasetService.getLineLayersName(e.extraInfo.routeShortNames)})),t.cardList=n}})):"regions"===this.selectedTab.id&&this.mapboxDatasetService.getRegionsDataset().subscribe(function(e){var n=e.filter(function(t){return t.rank});t.cardList=t.cardService.getCardList(i.a.region,n),t.cardList.sort(function(t,e){return t.rank-e.rank}),t.tabMessage=n[0].busRegionTabMessage,t.mapLayers=n.reduce(function(t,e){return t.concat(e.layerNames),t},[]),t.bounds=t.selectedTab.bounds,t.isLoadingData=!1})},t.prototype.onToggleCard=function(t){var e=this;if(t.expanded){this.collapseAllCardsExcept(t.card);var n=t.card;n&&(this.mapLayers=n.extraInfo&&n.extraInfo.layerNames?n.extraInfo.layerNames:null,this.bounds=n.extraInfo&&n.extraInfo.bounds?n.extraInfo.bounds:null,this.loadMapPopup(n),this.trackStationLinkService.viewCard(n.headerName))}else this.popup=null,this.bounds=this.selectedTab.bounds,this.cardList.forEach(function(t){e.mapLayers=e.mapLayers.concat(t.extraInfo.layerNames)})},t.prototype.onSelectFooterLink=function(t){this.trackStationLinkService.selectLinkOnCard(this.selectedMode.name,t.linkName)},t.prototype.onClickStopFeature=function(t){this.bounds=null,this.mapLayers=this.mapboxDatasetService.getLineLayersName(t.lineShortNames),this.popup={title:t.feature.properties.Stations,messageBody:t.feature.properties.Key_Message,colour:t.feature.properties.Line_colour,links:this.linksService.get([{key:s.a.moreInfo,value:t.feature.properties.Hyperlink},{key:s.a.departures,value:t.feature.properties.Departures},{key:s.a.planTrip,value:t.feature.properties.Plan_Trip}]),coordinates:t.feature.geometry.coordinates},this.trackStationLinkService.viewBubbleOnMap(t.feature.properties.Stations)},t.prototype.onClickRegionFeature=function(t){var e=this.cardList.filter(function(e){return e.id===t.regionName});e&&this.onToggleCard({card:e[0],expanded:!0})},t.prototype.collapseAllCardsExcept=function(t){this.cardList&&this.cardList.forEach(t?function(e){e.expanded=e.id===t.id}:function(t){return t.expanded=!1})},t.prototype.addStopToList=function(t){var e,n=this.cardList.slice();n?-1===(e=n.findIndex(function(e){return e.id===t.id}))?n.unshift(t):(n.unshift(t),n.splice(e+1,1)):n.unshift(t),this.stopTabList=n,n.forEach(function(t){return t.expanded=!1}),n[0].expanded=!0,n[0].extraInfo.layerNames=this.mapboxDatasetService.getLineLayersName(n[0].extraInfo.routeShortNames),n[0].extraInfo.bounds=null;var r=n[0];this.mapLayers=r.extraInfo.layerNames,this.bounds=r.extraInfo.bounds,this.loadMapPopup(r),this.cardList=n,this.trackStationLinkService.searchLocation(r.headerName)},t.prototype.loadMapPopup=function(t){this.popup={title:t.headerName.trim(),messageBody:t.bodyMessage.trim(),colour:t.lineColour.trim(),links:t.footerLinks.map(function(t){return{name:t.linkName,icon:t.linkIcon.iconName,link:t.linkPath,hideMap:t.hideMap}}),coordinates:t.extraInfo.midPoint},this.trackStationLinkService.viewBubbleOnMap(t.headerName.trim())},t.prototype.selectStopChange=function(){var t=this;if(this.selectStop.stop){this.selectStop.Text="";var e=[];e.push(this.stopDataSetList.find(function(e){return e.efaNumber===t.selectStop.stop.id}));var n=this.cardService.getCardList(i.a.stop,e);n&&this.addStopToList(n[0]),this.stopSearchEl&&this.showAutoSuggest&&this.stopSearchEl.autosuggestEl.onClearClick()}},t.id=0,t}()},"5tAl":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t){return void 0===t&&(t=-1),function(e){return e.lift(new a(t,e))}}var a=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.count,this.source))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.c(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(i.a)},"6+QB":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}()},"64ZZ":function(t,e,n){"use strict";var r=n("67Y/"),i=n("xMyE"),o=n("mrSG"),a=n("FFOo"),s=n("Ehmk"),l=n("eihs"),u=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return o.c(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=Object(s.a)(this.keySelector)(t))===l.a)return this.destination.error(l.a.e);var n=!1;if(this.hasKey){if((n=Object(s.a)(this.compare)(this.key,e))===l.a)return this.destination.error(l.a.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(a.a),p=n("CcnG"),h=n("p0ib"),d=n("6blF");n("kWcY"),n("+o+X"),n.d(e,"a",function(){return f});var f=function(){function t(t){this.windowRef=t,this.items=[],this.selectItemChange=new p.k,this.inputTextChange=new p.k,this.formSubmit=new p.k,this.isCancelled=!1,this.isClickOnAutosuggestComp=!1,this.highlightedItemElId=""}return t.prototype.ngOnChanges=function(t){t.selectItem&&t.selectItem.currentValue&&(this.inputEl.nativeElement.value=t.selectItem.currentValue[this.displayProperty]),t.textValue&&(this.inputEl.nativeElement.value=t.textValue.currentValue)},t.prototype.ngAfterViewInit=function(){this.selectItem&&(this.inputEl.nativeElement.value=this.selectItem[this.displayProperty]),this.bindSearchFnToInputEvents(),this.triggerEventOnInputChange()},t.prototype.bindSearchFnToInputEvents=function(){var t=this,e=this.fromEvent(this.inputEl.nativeElement,"input").pipe(Object(r.a)(function(t){return t.target.value})),n=this.fromEvent(this.inputEl.nativeElement,"focus").pipe(Object(r.a)(function(t){return t.target.value})),o=Object(h.a)(e,n).pipe(Object(i.a)(function(){return t.isCancelled=!1}));this.searchFn(o).pipe(Object(i.a)(function(e){t.isCancelled?t.dropdown.close():e&&e.length>0||t.hasInputText()?t.dropdown.open():t.dropdown.close()})).subscribe(function(e){return t.items=e})},t.prototype.fromEvent=function(t,e){return new d.a(function(n){var r=function(t){return n.next(t)};return t.addEventListener(e,r),function(){t.removeEventListener(e,r)}})},t.prototype.hasInputText=function(){return this.inputEl.nativeElement.value.trim().length>0},t.prototype.triggerEventOnInputChange=function(){var t=this;this.fromEvent(this.inputEl.nativeElement,"input").pipe(function(t){return t.lift(new u(void 0,void 0))}).subscribe(function(){t.isNumeric=t.isNumberOnly(t.inputEl.nativeElement.value),t.inputTextChange.emit(t.inputEl.nativeElement.value)})},t.prototype.isNumberOnly=function(t){return!Number.isNaN(Number(t))},t.prototype.onClearClick=function(){this.inputEl.nativeElement.value="";var t=document.createEvent("Event");t.initEvent("input",!0,!0),this.inputEl.nativeElement.dispatchEvent(t),this.inputEl.nativeElement.focus()},t.prototype.focus=function(){this.inputEl.nativeElement.focus()},t.prototype.inputText=function(){return this.inputEl.nativeElement.value},t.prototype.onSelectItem=function(t){this.inputEl.nativeElement.value=t[this.displayProperty],this.selectItemChange.emit(t),this.dropdown.close()},t.prototype.onInputClick=function(){this.isClickOnAutosuggestComp=!0},t.prototype.onDocumentClick=function(t){2!==t.button&&(this.isClickOnAutosuggestComp||(this.isCancelled=!0,this.dropdown.close()),this.isClickOnAutosuggestComp=!1)},t.prototype.onKeydown=function(t){if("Enter"===t.key&&!this.highlightedItemElId){if(this.ignoreKeyEvents&&!this.highlightedItemElId&&this.ignoreKeyEvents.indexOf(t.key)>=0)return;return this.formSubmit.emit(),this.isCancelled=!0,this.dropdown.close(),void t.preventDefault()}if(this.dropdown.isOpen())switch(t.key){case"Tab":this.isCancelled=!0,this.dropdown.close();break;case"ArrowDown":this.highlightedItemElId=this.dropdown.highlightNextItem(),t.preventDefault();break;case"ArrowUp":this.highlightedItemElId=this.dropdown.highlightPrevItem(),t.preventDefault();break;case"Enter":this.dropdown.selectHighlightedItem(),this.highlightedItemElId="",t.preventDefault();break;default:this.highlightedItemElId="","keydown"===t.type&&"Up"===t.key?(this.highlightedItemElId=this.dropdown.highlightPrevItem(),t.preventDefault()):"keydown"===t.type&&"Down"===t.key&&(this.highlightedItemElId=this.dropdown.highlightNextItem(),t.preventDefault())}else this.highlightedItemElId=""},t.prototype.isValid=function(){return!this.errorMessage},t.prototype.onInputBlur=function(){var t=this;this.windowRef.isSafari()||setTimeout(function(){t.dropdown.isFocusOnDropdown||(t.isCancelled=!0,t.dropdown.close())})},t}()},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.c(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.a)},"6B0Y":function(t,e,n){!function(t){"use strict";var e={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},n={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};t.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(t){return"\u179b\u17d2\u1784\u17b6\u1785"===t},meridiem:function(t,e,n){return t<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(t){return t.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}(n("wd/R"))},"6N39":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t[t.TrainStations="Train-stations"]="TrainStations",t[t.TrainLines="Train-lines"]="TrainLines",t[t.StationLinkStations="Station Link-stations"]="StationLinkStations",t[t.StationLinkBus="Station Link-bus"]="StationLinkBus",t[t.Bus="Bus"]="Bus",t}({})},"6OR2":function(t,e,n){"use strict";var r=n("e2Lp");n.d(e,"a",function(){return"maxlength"}),n.d(e,"b",function(){return r.b})},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),s=n("y3By"),l=n("iLxQ");n.d(e,"a",function(){return u});var u=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?a.call(s,this.source):s.add(this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"7BjC":function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[t+" minuti",t+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[t+" tunni",t+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[t+" kuu",t+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[t+" aasta",t+" aastat"]};return e?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}n("wd/R").defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d p\xe4eva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},"7aV9":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(t){return t+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(t){return"\u0db4.\u0dc0."===t||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===t},meridiem:function(t,e,n){return t>11?n?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":n?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}()},"8/+R":function(t,e,n){!function(t){"use strict";var e={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},n={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};t.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(t){return t.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0a30\u0a3e\u0a24"===e?t<4?t:t+12:"\u0a38\u0a35\u0a47\u0a30"===e?t:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===e?t>=10?t:t+12:"\u0a38\u0a3c\u0a3e\u0a2e"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0a30\u0a3e\u0a24":t<10?"\u0a38\u0a35\u0a47\u0a30":t<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":t<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(n("wd/R"))},"8a/j":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t[t.moreInfo=0]="moreInfo",t[t.timetable=1]="timetable",t[t.planTrip=2]="planTrip",t[t.departures=3]="departures",t[t.stationInfo=4]="stationInfo",t}({})},"8a0D":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("0uBk"),n("H0RV");var r=function(){function t(){}return t.ctorParameters=[],t}()},"8fF9":function(t,e,n){"use strict";n("4ATH"),n("mr1O"),n("kz5P"),n("p7CD"),n("oLF2"),n("UTGZ"),n("w7Xv"),n("E4Jq"),n("UcfC"),n("Uecl");var r=n("Q6bz"),i=n("2On9");n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return i.a})},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"8mBD":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}()},"9BpC":function(t,e){},"9Poh":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("Yl2j"),n("dtn5"),n("UCMd");var r=function(){function t(t,e,n,r,i){this.routesDataService=t,this.orderRoutesService=e,this.queryStringSearchHelper=n,this.scrollFocusHelper=r,this.changeDetectorRef=i,this.routesData=[],this.rawDataRoutes=[],this.displayRoutes=[],this.showAll=!1,this.defaultRecordsToDisplay=6,this.dataError=!1}return t.prototype.ngOnInit=function(){var t=this,e=this.queryStringSearchHelper.queryStringParam("q");this.routesDataService.getRoutes(e).subscribe(function(e){e&&e.lines&&e.lines.length?(t.routesData=t.orderRoutesService.getOrderedRoutes(e.lines),t.routesDataService.getRouteDataAndCreateElasticSubject(t.routesData).subscribe(function(){t.subscribeToElasticSearch()})):t.dataError=!0},function(){return t.dataError=!0})},t.prototype.getRouteList=function(t){t&&(this.showAll=!this.showAll),this.rawDataRoutes&&(this.displayRoutes=this.rawDataRoutes.slice(0,this.showAll&&this.rawDataRoutes.length?this.rawDataRoutes.length:this.defaultRecordsToDisplay)),this.showMoreLessLink&&this.moreLessLink&&this.scrollFocusHelper.scrollToElementAndFocus(this.moreLessLink.nativeElement),this.changeDetectorRef.detectChanges()},t.prototype.subscribeToElasticSearch=function(){var t=this;this.routesDataService.eSearchData$.subscribe(function(e){e&&t.getRouteIconData(e)}),this.routesDataService.routeDataError$.subscribe(function(e){return t.dataError=!!e})},t.prototype.getRouteIconData=function(t){var e=[];this.routesData&&this.routesData.map(function(n){var r=n.id.split(":"),i=""+r[2]==" "||r[1].toLowerCase().indexOf("t1")>-1?r[1]:r[1]+"-"+r[2];t.forEach(function(t){var n=t._source,r=n.payload.route,o=r.operator_name.split(" ").join("-");if(n.operating_branch_route_number===i){var a={number:n.number,iconBackgroundColour:n.payload.route.colour.foreground,iconFontColour:n.payload.route.colour.text,productId:i,name:r.service_direction,detailsLink:("/routes/details/"+o+"/"+n.number+"/"+r.operating_branch_route_number).toLowerCase()};e.find(function(t){return t.name===a.name&&t.number===a.number})||e.push(a)}})}),this.rawDataRoutes=e.slice(),this.getRouteList(null)},Object.defineProperty(t.prototype,"moreLessLinkLabel",{get:function(){return this.showAll?"View less":"View "+(this.rawDataRoutes.length-(this.defaultRecordsToDisplay-1))+" more routes"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMoreLessLink",{get:function(){return this.rawDataRoutes.length>this.defaultRecordsToDisplay},enumerable:!0,configurable:!0}),t}()},"9Z1F":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("MGBS"),o=n("rPjj"),a=n("zotm");function s(t){return function(e){var n=new l(t),r=e.lift(n);return n.caught=r}}var l=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.c(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new o.a(this,void 0,void 0);this.add(r),Object(a.a)(this,n,void 0,void 0,r)}},e}(i.a)},"9lgY":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("5tAl"),i=n("67Y/"),o=n("15JJ"),a=n("bxum"),s=n("t/Na"),l=n("0/uQ"),u=function(){function t(t){this.http=t,this.locationFinderUrl="/web/XML_STOPFINDER_REQUEST?coordOutputFormat=EPSG:4326&language=en&outputFormat=rapidJSON&type_sf=any&version=10.2.2.48"}return t.prototype.search=function(t,e,n){var u=this.locationFinderUrl.concat(e?"&TfNSWSFStopsOnly=true&":"&TfNSWSF=true&");return u=(u=n?u.concat("w_prefStModesAm="+n+"&"):u).concat((new s.h).set("name_sf",t).toString()),this.http.get(u).pipe(Object(r.a)(3),Object(i.a)(function(t){return t.locations}),Object(i.a)(function(t){return t.map(function(t){return a.a.fromStopFinder(t)})}),Object(o.a)(function(t){return Object(l.a)(t)}))},t}()},"9rRi":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}()},"A+xa":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(t){return t+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(t)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(t)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}()},AQ68:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}()},AfO8:function(t,e,n){"use strict";var r=n("YWy8"),i=function(){return function(){}}(),o=n("yTny");n.d(e,"a",function(){return a});var a=function(){function t(){}return t.prototype.getLinks=function(t){var e=[];return t&&t.length>0&&t.forEach(function(t){e.push({linkName:t.name,hideMobile:!1,hideMap:!1,linkAriaLabel:t.label,linkPath:t.link,linkIcon:{iconTitle:t.label,iconAriaHidden:!1,iconName:t.icon}})}),e},t.prototype.getCardList=function(t,e){var n,a=this;switch(t){case r.a.line:return n=[],e.forEach(function(t,e){var r=new i;r.id=e,r.expanded=!1,r.showRouteIcon=!0,r.lineNumber=t.line,r.rank=t.rank,r.foregroundColour=t.foregroundColour,r.fontColour=t.textColour,r.lineColour=t.lineColour,r.headerName=t.routeLongName,r.bodyMessage=t.message,r.extraInfo={layerNames:t.layerNames,bounds:t.bounds,midPoint:t.midPoint},r.iconList=[],n.push(r),r.footerLinks=a.getLinks(t.links),r.footerLinks.forEach(function(t){return t.hideMobile=t.hideMap=t.linkName===o.c})}),n;case r.a.stop:return n=[],e.forEach(function(t){var e=new i;e.id=t.efaNumber,e.expanded=!1,e.showRouteIcon=!1,e.rank=t.rank,e.lineColour=t.lineColour,e.headerName=t.stop,e.bodyMessage=t.message,e.extraInfo={routeShortNames:t.routeShortNames,bounds:null,layerNames:[],midPoint:t.coordinates},e.footerLinks=a.getLinks(t.links),e.footerLinks.forEach(function(t){return t.hideMobile=t.hideMap=t.linkName===o.a});var r=[];t.icons.forEach(function(t){r.push({iconName:t,iconTitle:t,iconClasses:"md",iconAriaHidden:!0})}),e.iconList=r,n.push(e)}),n;case r.a.region:return n=e.map(function(t){return a.fromRegion(t)})}return null},t.prototype.fromRegion=function(t){var e=new i;return e.id=t.region,e.expanded=!1,e.showRouteIcon=!1,e.rank=t.rank,e.lineColour=t.lineColour,e.headerName=t.region,e.bodyMessage=t.message,e.extraInfo={layerNames:t.layerNames,midPoint:t.midPoint,bounds:t.bounds},e.footerLinks=this.getLinks(t.links),e.iconList=t.icon&&[{iconName:t.icon,iconTitle:t.icon,iconAriaHidden:!0}]||[],e},t}()},Aiio:function(t,e,n){"use strict";n.d(e,"a",function(){return I});var r=n("CcnG"),i=n("2La6"),o=n("MODd"),a=n("Eslu"),s=n("tuOl"),l=n("/hO8"),u=n("GooZ"),c=n("nfFZ"),p=n("kLtR"),h=n("dEht"),d=n("mr1O"),f=n("J5xx"),m=n("+eoq"),g=n("Ifgn"),y=n("3ZaB"),_=n("Uecl"),v=n("/y3m"),b=n("eYWh"),x=n("ka1Z"),w=n("Ip0R"),M=n("N467"),C=n("QJOd"),L=n("UcfC"),E=r.gb({encapsulation:0,styles:[".tridget-tab-container[_ngcontent-%COMP%]{display:flex;font-size:15px;font-weight:400;background:#fff;border-top:2px solid #ececec}.tridget-tab-container[_ngcontent-%COMP%]   .tridget-tab[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;text-align:center;text-decoration:none;color:#555;border-bottom:2px solid #ddd;padding-bottom:3px}.tridget-tab-container[_ngcontent-%COMP%]   .tridget-tab.active-tab[_ngcontent-%COMP%]{background-color:#0069B7;color:#fff;padding-bottom:0}.tridget-tab-container[_ngcontent-%COMP%]   .tridget-tab.active-tab.tridget-tab-book[_ngcontent-%COMP%]{background-color:#d03716}.tridget-tab-container[_ngcontent-%COMP%]   .tridget-tab.active-tab.tridget-tab-book[_ngcontent-%COMP%]     svg{fill:#fff}.tridget-tab-container[_ngcontent-%COMP%]   .tridget-tab[_ngcontent-%COMP%]:hover:not(.active-tab){border-bottom:5px solid #0069B7;padding-bottom:0;color:#175490}.tridget-tab-container[_ngcontent-%COMP%]   .tridget-tab[_ngcontent-%COMP%]:hover:not(.active-tab).tridget-tab-book{color:#d03716;border-bottom:5px solid #d03716}.tridget-tab-container[_ngcontent-%COMP%]   .tridget-tab[_ngcontent-%COMP%]:hover:not(.active-tab).tridget-tab-book     svg{fill:#d03716}.tridget-tab-container[_ngcontent-%COMP%]   .tridget-tab[_ngcontent-%COMP%]     svg{position:relative;top:10px}.tridget-tab-container[_ngcontent-%COMP%]   .tridget-tab[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:15px}.tridget-tab-content[_ngcontent-%COMP%]   .booking-header[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#d03716;height:50px}.tridget-tab-content[_ngcontent-%COMP%]   .booking-header[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{height:4px}.tridget-tab-content[_ngcontent-%COMP%]   .booking-header[_ngcontent-%COMP%]   .train-link-logo[_ngcontent-%COMP%]{flex:1 0 0;border-right:1px solid white;margin:0 10px;min-width:130px;max-width:130px}.tridget-tab-content[_ngcontent-%COMP%]   .booking-header[_ngcontent-%COMP%]   .train-link-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:120px;max-height:2em}.tridget-tab-content[_ngcontent-%COMP%]   .booking-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:2 1;font-size:1.2em;color:#fff;margin:0 0 0 5px}.tridget-tab-content[_ngcontent-%COMP%]   .booking-form-content[_ngcontent-%COMP%]{padding:0 15px 10px 15px}"],data:{}});function k(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[["id","plan-content"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r.ib(1,0,null,null,2,"tni-plan",[],null,null,null,i.c,i.b)),r.wb(4608,null,o.a,o.a,[]),r.hb(3,114688,null,0,a.a,[],null,null)],function(t,e){t(e,3,0)},function(t,e){var n=e.component;t(e,0,0,n.activeTabType!==n.TridgetTabType.PlanTab)})}function T(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["id","alerts-content"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-alerts-widget",[],null,null,null,s.c,s.b)),r.hb(2,114688,null,0,l.a,[u.a,c.a,r.e,p.a,h.a,d.a,f.a],null,null)],function(t,e){t(e,2,0)},function(t,e){var n=e.component;t(e,0,0,n.activeTabType!==n.TridgetTabType.AlertsTab)})}function S(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,9,"div",[["id","booking-content"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r.ib(1,0,null,null,5,"div",[["class","booking-header"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,2,"a",[["aria-label","NSW Trainlink Regional Trains and Coaches"],["class","train-link-logo"],["href","/regional"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,1,":svg:svg",[["role","img"]],null,null,null,null,null)),(t()(),r.ib(4,0,null,null,0,":svg:use",[[":xlink:href","/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg#logo_trainslink_white"],[":xmlns:xlink","http://www.w3.org/1999/xlink"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Fares and bookings"])),(t()(),r.ib(7,0,null,null,2,"div",[["class","booking-form-content"]],null,null,null,null,null)),(t()(),r.ib(8,0,null,null,1,"tni-booking",[],null,null,null,m.c,m.b)),r.hb(9,4308992,null,0,g.a,[y.a,r.i,r.f,_.a,p.a,v.a],null,null)],function(t,e){t(e,9,0)},function(t,e){var n=e.component;t(e,0,0,n.activeTabType!==n.TridgetTabType.BookTab)})}function A(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,15,"div",[["class","tridget-tab-container"],["role","tablist"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,4,"a",[["aria-controls","plan-content"],["class","tridget-tab"],["href","javascript:;"],["id","tridget-plan-tab"],["role","tab"]],[[2,"active-tab",null],[1,"aria-expanded",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onTabClick(i.TridgetTabType.PlanTab)&&r),r},null,null)),(t()(),r.ib(2,0,null,null,1,"tni-icon",[["iconClasses","tp-icon md"],["iconName","trip-planner"]],null,null,null,b.b,b.a)),r.hb(3,49152,null,0,x.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"],iconAriaHidden:[2,"iconAriaHidden"]},null),(t()(),r.ib(4,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Plan"])),(t()(),r.ib(6,0,null,null,4,"a",[["aria-controls","alerts-content"],["class","tridget-tab"],["href","javascript:;"],["id","tridget-alert-tab"],["role","tab"]],[[2,"active-tab",null],[1,"aria-expanded",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onTabClick(i.TridgetTabType.AlertsTab)&&r),r},null,null)),(t()(),r.ib(7,0,null,null,1,"tni-icon",[["iconClasses","tp-icon md"],["iconName","alert"]],null,null,null,b.b,b.a)),r.hb(8,49152,null,0,x.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"],iconAriaHidden:[2,"iconAriaHidden"]},null),(t()(),r.ib(9,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Alerts"])),(t()(),r.ib(11,0,null,null,4,"a",[["aria-controls","booking-content"],["class","tridget-tab tridget-tab-book"],["href","javascript:;"],["id","tridget-book-tab"],["role","tab"]],[[2,"active-tab",null],[1,"aria-expanded",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onTabClick(i.TridgetTabType.BookTab)&&r),r},null,null)),(t()(),r.ib(12,0,null,null,1,"tni-icon",[["iconClasses","tp-icon md"],["iconName","vendor"]],null,null,null,b.b,b.a)),r.hb(13,49152,null,0,x.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"],iconAriaHidden:[2,"iconAriaHidden"]},null),(t()(),r.ib(14,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Book"])),(t()(),r.ib(16,0,null,null,6,"div",[["class","tridget-tab-content"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,k)),r.hb(18,16384,null,0,w.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,T)),r.hb(20,16384,null,0,w.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,S)),r.hb(22,16384,null,0,w.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,"trip-planner","tp-icon md",!0),t(e,8,0,"alert","tp-icon md",!0),t(e,13,0,"vendor","tp-icon md",!0),t(e,18,0,n.isTabLoaded(n.TridgetTabType.PlanTab)),t(e,20,0,n.isTabLoaded(n.TridgetTabType.AlertsTab)),t(e,22,0,n.isTabLoaded(n.TridgetTabType.BookTab))},function(t,e){var n=e.component;t(e,1,0,n.activeTabType===n.TridgetTabType.PlanTab,n.activeTabType===n.TridgetTabType.PlanTab),t(e,6,0,n.activeTabType===n.TridgetTabType.AlertsTab,n.activeTabType===n.TridgetTabType.AlertsTab),t(e,11,0,n.activeTabType===n.TridgetTabType.BookTab,n.activeTabType===n.TridgetTabType.BookTab)})}function D(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-trip-planner-tridget",[],null,null,null,A,E)),r.hb(1,114688,null,0,M.a,[C.a,L.a],null,null)],function(t,e){t(e,1,0)},null)}var I=r.eb("tni-trip-planner-tridget",M.a,D,{},{},[])},Ao8H:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.MAX_COUNT=9,this.types={adults:{label:"Adults",count:0,urlParam:"numAdults",single:"adult"}}}return t.prototype.getTypes=function(){return Object.keys(this.types)},t.prototype.increaseCountForType=function(t){this.hasReachedMaxCount()||this.types[t].count++},t.prototype.decreaseCountForType=function(t){this.types[t].count>0&&this.types[t].count--},t.prototype.labelForType=function(t){return this.types[t].label},t.prototype.countForType=function(t){return this.types[t].count},t.prototype.singularForType=function(t){return this.types[t].single},t.prototype.urlParamForType=function(t){return this.types[t].urlParam},t.prototype.total=function(){var t=this,e=0;return Object.keys(this.types).forEach(function(n){e+=t.types[n].count}),e},t.prototype.isValidCount=function(){return this.total()>=1&&this.total()<=this.MAX_COUNT},t.prototype.hasReachedMaxCount=function(){return this.total()>=this.MAX_COUNT},t}()},AvvY:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===e&&t>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===e||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":t<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":t<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":t<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}()},B55N:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ja",{months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5f8c"===t},meridiem:function(t,e,n){return t<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(t){return t.week()<this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(t){return this.week()<t.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";default:return t}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}()},BVg3:function(t,e,n){!function(t){"use strict";function e(t){return t%100==11||t%10!=1}function r(t,n,r,i){var o=t+" ";switch(r){case"s":return n||i?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return e(t)?o+(n||i?"sek\xfandur":"sek\xfandum"):o+"sek\xfanda";case"m":return n?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return e(t)?o+(n||i?"m\xedn\xfatur":"m\xedn\xfatum"):n?o+"m\xedn\xfata":o+"m\xedn\xfatu";case"hh":return e(t)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return e(t)?n?o+"dagar":o+(i?"daga":"d\xf6gum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"m\xe1nu\xf0ur":i?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return e(t)?n?o+"m\xe1nu\xf0ir":o+(i?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):n?o+"m\xe1nu\xf0ur":o+(i?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return n||i?"\xe1r":"\xe1ri";case"yy":return e(t)?o+(n||i?"\xe1r":"\xe1rum"):o+(n||i?"\xe1r":"\xe1ri")}}n("wd/R").defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:r,ss:r,m:r,mm:r,h:"klukkustund",hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},BvNR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},ByF4:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0i",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},CLdD:function(t,e,n){"use strict";var r=n("F/XL"),i=n("67Y/"),o=n("zOFj"),a=n("8a/j"),s=function(){function t(){}return t.fromResponse=function(e){if(!e)return null;var n=new o.a,r=new t;return r.backgroundColour=e.BACKGROUND_COLOUR,r.foregroundColour=e.FOREGROUND_COLOUR,r.line=e.LINE,r.lineColour=e.LINE_COLOUR,r.lineTabMessage=e.LINE_TAB_MESSAGE,r.message=e.MESSAGE,r.rank=e.RANK,r.textColour=e.TEXT_COLOUR,r.routeLongName=e.ROUTE_LONG_NAME,r.routeShortName=e.ROUTE_SHORT_NAME,r.routeTypeText=e.ROUTE_TYPE,r.midPoint=[e.MIDPOINT_X,e.MIDPOINT_Y],r.layerNames=[{name:e.STYLE_LAYER_NAME_LINES},{name:e.STYLE_LAYER_NAME_STOPS}],r.links=n.get([{key:a.a.moreInfo,value:e.LINK_MOREINFO},{key:a.a.timetable,value:e.LINK_TIMETABLE},{key:a.a.planTrip,value:e.LINK_TRIPPLAN}]),r.bounds={ne:[e.BOUNDS_NE_X,e.BOUNDS_NE_Y],sw:[e.BOUNDS_SW_X,e.BOUNDS_SW_Y]},r},t}(),l=function(){function t(){}return t.fromResponse=function(e){if(!e)return null;var n=new t,r=new o.a;n.stop=e.properties.STATIONS,n.stopType=e.properties.TYPE,n.tsn=e.properties.TSN,n.lineColour=e.properties.LINE_COLOUR||"",n.stopTabMessage=e.properties.STATION_TAB_MESSAGE||"",n.message=e.properties.KEY_MESSAGE,n.link_MoreInfo=e.properties.LINK_MOREINFO||"",n.link_StationInfo=e.properties.LINK_STOPPAGE||"",n.rank=e.properties.RANK,n.link_TripPlan=e.properties.LINK_TRIPPLAN||"",n.link_Departures=e.properties.LINK_DEPARTURES||"",n.icons=[];var i=e.properties.ICON?e.properties.ICON.trim().split("||"):[];i.length>0&&i.forEach(function(t){return n.icons.push(t)}),n.efaNumber=e.properties.EFA_NUMBER,n.coordinates=e.geometry.coordinates,n.links=r.get([{key:a.a.stationInfo,value:n.link_StationInfo},{key:a.a.departures,value:n.link_Departures},{key:a.a.planTrip,value:n.link_TripPlan}]);var s=[];return Object.keys(e.properties).forEach(function(t){"Y"===e.properties[t]&&s.push(t)}),n.routeShortNames=s,n},t}(),u=function(){function t(){}return t.fromResponse=function(e){if(!e)return null;var n=new t;n.backgroundColour=e.BACKGROUND_COLOUR,n.busRegionTabMessage=e.REGION_TAB_MESSAGE,n.region=e.REGION_NAME,n.foregroundColour=e.FOREGROUND_COLOUR,n.hyperlink=e.LINK_MOREINFO,n.icon=e.ICON,n.lineColour=e.LINE_COLOUR,n.hyperlink_TP=e.LINK_TRIPPLAN,n.rank=e.RANK,n.textColour=e.TEXT_COLOUR,n.message=e.MESSAGE;var r=new o.a;return n.links=r.get([{key:a.a.moreInfo,value:e.LINK_MOREINFO},{key:a.a.planTrip,value:e.LINK_TRIPPLAN}]),n.midPoint=[e.MIDPOINT_X,e.MIDPOINT_Y],n.bounds={ne:[e.BOUNDS_NE_X,e.BOUNDS_NE_Y],sw:[e.BOUNDS_SW_X,e.BOUNDS_SW_Y]},n.layerNames=[{name:e.STYLE_LAYER_NAME_FILL,layerType:"fill"}],n},t}(),c=n("Qn/6"),p=function(){function t(){}return t.getDataset=function(t){return this.dataset[t]},t.getTransportModeFeatureTypeMap=function(t){return this.transportModeFeatureTypeMap[t]},t.dataset={stop:c.m,line:c.k,region:c.l},t.transportModeFeatureTypeMap={train:"Rail",ferry:"Ferry",stationlink:"ECRL",bus:"Bus",lightrail:"Light rail",other:"Bus"},t}(),h=n("HPWP");n.d(e,"a",function(){return d});var d=function(){function t(t){this.http=t,this.baseUrl="/mapbox-api/datasets/"}return t.prototype.getLinesDataset=function(){var t=this;if(this.lineDatasetCache$)return this.lineDatasetCache$;var e=this.baseUrl+p.getDataset(h.a.line);return this.http.get(e).pipe(Object(i.a)(function(e){var n=[];return e.features.forEach(function(t){var e=s.fromResponse(t.properties);n.push(e)}),t.lineDatasetCache$=Object(r.a)(n),n}))},t.prototype.getLineLayersName=function(t){var e=[],n=[];return this.lineDatasetCache$?(this.lineDatasetCache$.subscribe(function(n){e=n.filter(function(e){return t.indexOf(e.routeShortName)>=0&&e.rank})}),e.forEach(function(t){n=n.concat(t.layerNames)}),n):n},t.prototype.getStopsDataset=function(){var t=this;if(this.stopDatasetCache$)return this.stopDatasetCache$;var e=this.baseUrl+p.getDataset(h.a.stop);return this.http.get(e).pipe(Object(i.a)(function(e){var n=[];return e.features.forEach(function(t){var e=l.fromResponse(t);n.push(e)}),t.stopDatasetCache$=Object(r.a)(n),n}))},t.prototype.getRegionsDataset=function(){var t=this;if(this.regionDatasetCache$)return this.regionDatasetCache$;var e=this.baseUrl+p.getDataset(h.a.region);return this.http.get(e).pipe(Object(i.a)(function(e){var n=e.features.map(function(t){return u.fromResponse(t.properties)});return t.regionDatasetCache$=Object(r.a)(n),n}))},t}()},CS9Q:function(t,e,n){"use strict";var r=n("mrSG"),i=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}();n.d(e,"a",function(){return o});var o=function(t){function e(n,r){void 0===r&&(r=i.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.c(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i)},CcnG:function(t,e,n){"use strict";var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),a=n("6blF"),s=n("p0ib"),l=n("FFOo");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new p(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.c(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(l.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.c(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=i.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(a.a).prototype,d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.c(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.b);function m(){return new o.a}function g(t){for(var e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}n.d(e,"bb",function(){return Oi}),n.d(e,"cb",function(){return Ni}),n.d(e,"db",function(){return Ri}),n.d(e,"ab",function(){return Lr}),n.d(e,"e",function(){return oi}),n.d(e,"J",function(){return ei}),n.d(e,"s",function(){return ti}),n.d(e,"L",function(){return Yn}),n.d(e,"P",function(){return Fn}),n.d(e,"a",function(){return Cr}),n.d(e,"w",function(){return kr}),n.d(e,"v",function(){return Tr}),n.d(e,"b",function(){return wr}),n.d(e,"c",function(){return Mr}),n.d(e,"N",function(){return mi}),n.d(e,"E",function(){return Zr}),n.d(e,"R",function(){return Jr}),n.d(e,"q",function(){return Pi}),n.d(e,"d",function(){return Fi}),n.d(e,"k",function(){return Pn}),n.d(e,"j",function(){return vr}),n.d(e,"B",function(){return sr}),n.d(e,"C",function(){return ar}),n.d(e,"H",function(){return ct}),n.d(e,"F",function(){return pr}),n.d(e,"K",function(){return x}),n.d(e,"M",function(){return R}),n.d(e,"O",function(){return lt}),n.d(e,"n",function(){return W}),n.d(e,"m",function(){return C}),n.d(e,"l",function(){return Y}),n.d(e,"u",function(){return B}),n.d(e,"t",function(){return jr}),n.d(e,"x",function(){return un}),n.d(e,"y",function(){return hn}),n.d(e,"z",function(){return cn}),n.d(e,"A",function(){return pn}),n.d(e,"g",function(){return Or}),n.d(e,"h",function(){return Xe}),n.d(e,"i",function(){return ln}),n.d(e,"r",function(){return Qe}),n.d(e,"D",function(){return On}),n.d(e,"G",function(){return ui}),n.d(e,"f",function(){return ci}),n.d(e,"o",function(){return ki}),n.d(e,"p",function(){return Ti}),n.d(e,"I",function(){return St}),n.d(e,"Q",function(){return Ii}),n.d(e,"lb",function(){return Dt}),n.d(e,"U",function(){return Ar}),n.d(e,"S",function(){return bn}),n.d(e,"T",function(){return Je}),n.d(e,"W",function(){return ir}),n.d(e,"X",function(){return cr}),n.d(e,"Y",function(){return Vn}),n.d(e,"jb",function(){return S}),n.d(e,"ob",function(){return O}),n.d(e,"yb",function(){return N}),n.d(e,"mb",function(){return xr}),n.d(e,"nb",function(){return br}),n.d(e,"V",function(){return Do}),n.d(e,"Z",function(){return Io}),n.d(e,"eb",function(){return Qo}),n.d(e,"fb",function(){return ol}),n.d(e,"gb",function(){return eo}),n.d(e,"hb",function(){return wa}),n.d(e,"ib",function(){return Po}),n.d(e,"kb",function(){return So}),n.d(e,"pb",function(){return Ho}),n.d(e,"qb",function(){return Vo}),n.d(e,"rb",function(){return Ua}),n.d(e,"sb",function(){return ua}),n.d(e,"tb",function(){return Ma}),n.d(e,"wb",function(){return Ca}),n.d(e,"ub",function(){return Wa}),n.d(e,"vb",function(){return qa}),n.d(e,"xb",function(){return Ba}),n.d(e,"zb",function(){return Xa}),n.d(e,"Ab",function(){return Qi}),n.d(e,"Bb",function(){return Qa});var y=g({ngComponentDef:g}),_=g({ngInjectableDef:g}),v=g({ngInjectorDef:g}),b=g({ngModuleDef:g});function x(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return t.hasOwnProperty(_)?t[_]:null}function M(t){return t.hasOwnProperty(v)?t[v]:null}var C=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?x({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),L="__parameters__";function E(t,e,n){var i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.g)(e));for(var o in i)this[o]=i[o]}}}(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.g)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(L)?t[L]:Object.defineProperty(t,L,{value:[]})[L];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}var k="undefined"!=typeof window&&window,T="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,S="undefined"!=typeof global&&global||k||T,A=Promise.resolve(0),D=null;function I(){if(!D){var t=S.Symbol;if(t&&t.iterator)D=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(D=r)}}return D}function P(t){"undefined"==typeof Zone?A.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function O(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function N(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(N).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function R(t){return t.__forward_ref__=R,t.toString=function(){return N(this())},t}function F(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===R?t():t}var Y=E("Inject",function(t){return{token:t}}),B=E("Optional"),z=E("Self"),j=E("SkipSelf"),V="__source",H=new Object,U=H,G=new C("INJECTOR"),q=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=H),e===H)throw new Error("NullInjectorError: No provider for "+N(t)+"!");return e},t}(),W=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new nt(t,e):new nt(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=H,t.NULL=new q,t.ngInjectableDef=x({providedIn:"any",factory:function(){return lt(G)}}),t}(),Z=function(t){return t},X=[],J=Z,K=function(){return Array.prototype.slice.call(arguments)},Q=g({provide:String,useValue:g}),$=W.NULL,tt=/\n/gm,et="\u0275",nt=function(){function t(t,e,n){void 0===e&&(e=$),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(W,{token:W,fn:Z,deps:X,value:this,useNew:!1}),r.set(G,{token:G,fn:Z,deps:X,value:this,useNew:!1}),function t(e,n){if(n)if((n=F(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw ot("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ot("Unexpected provider",n);var i=F(n.provide),o=function(t){var e=function(t){var e=X,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((l=F(n[r]))instanceof Array)for(var o=0,a=l;o<a.length;o++){var s=a[o];s instanceof B||s==B?i|=1:s instanceof j||s==j?i&=-3:s instanceof z||s==z?i&=-5:l=s instanceof Y?s.token:F(s)}e.push({token:l,options:i})}}else if(t.useExisting){var l;e=[{token:l=F(t.useExisting),options:6}]}else if(!(n||Q in t))throw ot("'deps' required",t);return e}(t),n=Z,r=X,i=!1,o=F(t.provide);if(Q in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=F(t.useClass);else{if("function"!=typeof o)throw ot("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==K)throw rt(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:K,value:X});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==K)throw rt(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=0);var i=this._records.get(t);try{return function t(e,n,i,o,a,s){try{return function(e,n,i,o,a,s){var l,u;if(!n||4&s)2&s||(u=o.get(e,a,0));else{if((u=n.value)==J)throw Error(et+"Circular dependency");if(u===X){n.value=J;var c=n.useNew,p=n.fn,h=n.deps,d=X;if(h.length){d=[];for(var f=0;f<h.length;f++){var m=h[f],g=m.options,y=2&g?i.get(m.token):void 0;d.push(t(m.token,y,i,y||4&g?o:$,1&g?null:W.THROW_IF_NOT_FOUND,0))}}n.value=u=c?new((l=p).bind.apply(l,Object(r.g)([void 0],d))):p.apply(void 0,d)}}return u}(e,n,i,o,a,s)}catch(l){throw l instanceof Error||(l=new Error(l)),(l.ngTempTokenPath=l.ngTempTokenPath||[]).unshift(e),n&&n.value==J&&(n.value=X),l}}(t,i,this._records,this.parent,e,n)}catch(a){var o=a.ngTempTokenPath;throw t[V]&&o.unshift(t[V]),a.message=it("\n"+a.message,o,this.source),a.ngTokenPath=o,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(N(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function rt(t){return ot("Cannot mix multi providers and regular providers",t)}function it(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==et?t.substr(2):t;var r=N(e);if(e instanceof Array)r=e.map(N).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):N(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(tt,"\n  ")}function ot(t,e){return new Error(it(t,e))}var at=void 0;function st(t){var e=at;return at=t,e}function lt(t,e){if(void 0===e&&(e=0),void 0===at)throw new Error("inject() must be called from an injection context");if(null===at){var n=w(t);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(8&e)return null;throw new Error("Injector: NOT_FOUND ["+N(t)+"]")}return at.get(t,8&e?null:void 0,e)}function ut(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=0,a=0;a<r.length;a++){var s=r[a];s instanceof B||"Optional"===s.ngMetadataName?o|=8:s instanceof j||"SkipSelf"===s.ngMetadataName?o|=4:s instanceof z||"Self"===s.ngMetadataName?o|=2:i=s instanceof Y?s.token:s}e.push(lt(i,o))}else e.push(lt(r))}return e}Function;var ct=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),pt="__ngContext__",ht=17,dt=0,ft=1,mt=2,gt=3,yt=4,_t=5,vt=6,bt=7,xt=8,wt=9,Mt=10,Ct=11,Lt=12,Et=14,kt=16;function Tt(t,e){var n=Dt(t),r=Dt(e);return n&&r?function(t,e,n){for(var r=t[I()](),i=e[I()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,Tt):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||O(t,e)}var St=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),At=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Dt(t){return!!It(t)&&(Array.isArray(t)||!(t instanceof Map)&&I()in t)}function It(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Pt=0,Ot=1,Nt=6;function Rt(t){for(;Array.isArray(t);)t=t[_t];return t}function Ft(t,e){return Rt(e[t.index])}function Yt(t,e){var n=e[t];return n.length>=ht?n:n[_t]}function Bt(t){return t[pt]}function zt(t){var e=Bt(t);return e?Array.isArray(e)?e:e.lViewData:null}function jt(t,e){t[pt]=e}function Vt(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function Ht(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function Ut(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function Gt(t,e,n){16&t[ft]&&(qt(t,e.initHooks,e.checkHooks,n),t[ft]&=-17)}function qt(t,e,n,r){var i=r?e:n;i&&Wt(t,i)}function Wt(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}var Zt=9,Xt="ngProjectAs";function Jt(t){return!!t.listen}var Kt={createRenderer:function(t,e){return document}},Qt=[];function $t(t){for(var e=t[vt];e&&2===e.type;)e=(t=t[mt])[vt];return t}function te(t,e,n,r,i){0===t?Jt(e)?e.insertBefore(n,r,i):n.insertBefore(r,i,!0):1===t?Jt(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function ee(t){var e=t[dt].childIndex;return-1===e?null:t[e]}function ne(t,e){var n;return t.length>=ht&&(n=t[vt])&&2===n.type?function(e,n){if(-1===e.index){var r=t[Et];return r>-1?t[mt][r]:null}return t[mt][e.parent.index]}(n):t[mt]===e?null:t[mt]}function re(t){if(t.length>=ht){var e=t;!function(t){var e=t[dt].cleanup;if(null!=e){for(var n=0;n<e.length-1;n+=2)"string"==typeof e[n]?(Rt(t[e[n+1]]).removeEventListener(e[n],t[xt][e[n+2]],e[n+3]),n+=2):"number"==typeof e[n]?(0,t[xt][e[n]])():e[n].call(t[xt][e[n+1]]);t[xt]=null}}(e),function(t){var e,n=t[dt];null!=n&&null!=(e=n.destroyHooks)&&Wt(t,e)}(e),(r=(n=e)[dt]&&n[dt].pipeDestroyHooks)&&Wt(n,r),-1===e[dt].id&&Jt(e[Ct])&&e[Ct].destroy()}var n,r}var ie,oe,ae,se,le,ue,ce,pe,he=Promise.resolve(null);function de(){return oe}var fe=!1,me=!0,ge=-1;function ye(t,e){var n=pe;return le=t&&t[dt],ce=t&&1==(1&t[ft]),me=t&&le.firstTemplatePass,ge=t&&le.bindingStartIndex,ie=t&&t[Ct],ae=e,se=!0,pe=t,n&&(n[yt]=ue),ue=t&&t[yt],n}function _e(t,e){e||(fe||qt(pe,le.viewHooks,le.viewCheckHooks,ce),pe[ft]&=-6),pe[ft]|=16,pe[bt]=le.bindingStartIndex,ye(t,null)}function ve(){be();var t=me;le.firstTemplatePass=me=!1,fe||Gt(pe,le,ce),function(t){for(var e=ee(pe);null!==e;e=e[gt])if(e.length<ht&&-1===e[Pt])for(var n=e,r=0;r<n[Ot].length;r++){var i=n[Ot][r];Me(i,i[dt],i[wt],2)}}(),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.data[n].contentQueriesRefresh(n-ht,t.contentQueries[e+1])}}(le),fe||qt(pe,le.contentHooks,le.contentCheckHooks,ce),function(t,e){if(null!=t)for(var n=0;n<t.length;n++)De(t[n],e)}(le.components,t)}function be(){if(le.expandoInstructions){ge=pe[bt]=le.expandoStartIndex;for(var t=-1,e=-1,n=0;n<le.expandoInstructions.length;n++){var r=le.expandoInstructions[n];"number"==typeof r?r<=0?(e=-r,"number"==typeof pe[ge]&&(ge+=Zt),t=ge):ge+=r:(pe[bt]=ge,r(t-ht,e),t++)}}}function xe(t,e,n,r,i){var o=e.blueprint.slice();return o[ft]=25|r,o[mt]=o[kt]=pe,o[wt]=n,o[Mt]=pe?pe[Mt]:null,o[Ct]=t,o[Lt]=i||null,o}function we(t,e,n,r,i){var o=t+ht;pe[o]=n;var a=le.data[o];return null==a&&(a=le.data[o]=Ae(e,o,r,i,null),ae&&(!se||null!=ae.child||null===a.parent&&2!==ae.type?se||(ae.next=a):ae.child=a)),null==le.firstChild&&3===e&&(le.firstChild=a),ae=a,se=!0,a}function Me(t,e,n,r){var i,o=se,a=ae;if(64&t[ft])Pe(t[wt]);else try{se=!0,ae=null,i=ye(t,t[vt]),ke(),e.template(r,n),2&r?ve():t[dt].firstTemplatePass=me=!1}finally{_e(i,1==(1&r)),se=o,ae=a}}function Ce(t,e,n){var r=ye(t,t[vt]);try{oe.begin&&oe.begin(),n?(ke(),n(Le(t),e),ve()):(fe||(Gt(pe,le,ce),qt(pe,le.contentHooks,le.contentCheckHooks,ce)),be(),De(ht,!1))}finally{oe.end&&oe.end(),_e(r)}}function Le(t){return 1&t[ft]?3:2}var Ee=null;function ke(){Ee=null}function Te(t,e,n,r,i,o,a){var s=ht+n,l=s+r,u=function(t,e){var n=new Array(e).fill(null,0,t).fill(Fe,t);return n[Et]=-1,n[bt]=t,n}(s,l);return u[dt]={id:t,blueprint:u,template:e,viewQuery:a,node:null,data:u.slice(),childIndex:-1,bindingStartIndex:s,expandoStartIndex:l,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,currentMatches:null,firstChild:null}}function Se(t,e){oe=t;var n=t.createRenderer(null,null);return"string"==typeof e?Jt(n)?n.selectRootElement(e):n.querySelector(e):e}function Ae(t,e,n,r,i){var o=se?ae:ae&&ae.parent,a=o&&pe&&o!==pe[vt]?o:null;return{type:t,index:e,injectorIndex:a?a.injectorIndex:-1,flags:0,tagName:n,attrs:r,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:i,next:null,child:null,parent:a,detached:null,stylingTemplate:null,projection:null}}function De(t,e){var n=Yt(t,pe);Ie(n)&&6&n[ft]&&(e&&function(t){for(var e=t[dt],n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),Re(n,n[wt]))}function Ie(t){return 8==(8&t[ft])}function Pe(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];Ce(zt(n),n)}}function Oe(t){Re(function(t){var e,n=Bt(t);if(Array.isArray(n)){var r=function(t,e){var n=t[dt].components;if(n)for(var r=0;r<n.length;r++){var i=n[r];if(Yt(i,t)[wt]===e)return i}else if(Yt(ht,t)[wt]===e)return ht;return-1}(n,t);(i=function(t,e,n){return{lViewData:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}(n,r,(e=Yt(r,n))[_t])).component=t,jt(t,i),jt(i.native,i)}else{var i;e=Yt((i=n).nodeIndex,i.lViewData)}return e}(t),t)}function Ne(t){Pe(t[wt])}function Re(t,e){var n=t[dt],r=ye(t,t[vt]),i=n.template,o=n.viewQuery;try{ke(),function(e,n,r){e&&1&t[ft]&&e(1,r)}(o,0,e),i(Le(t),e),ve(),function(t,e){t&&t(2,e)}(o,e)}finally{_e(r)}}var Fe={},Ye=he,Be=[0,1];function ze(t,e,n,r,i,o){var a=function(t,e,n,r){if(jt(e,pe),r&&jt(r,pe),pe[t]=e,me){var i=ae.flags;0===i?ae.flags=t<<15|4096&i|1:ae.flags++,le.data.push(n),le.blueprint.push(null),n.hostBindings&&le.expandoInstructions.push((a=n).hostBindings,a.hostVars)}else{var o=n.diPublic;o&&o(n)}var a;return null!=n.attributes&&3==ae.type&&function(t,e){for(var n=Jt(ie),r=0;r<e.length;){var i=e[r];if(1===i)break;if(i===Xt)r+=2;else if(0===i){var o=e[r+1],a=e[r+2],s=e[r+3];n?ie.setAttribute(t,a,s,o):t.setAttributeNS(o,a,s),r+=4}else s=e[r+1],n?ie.setAttribute(t,i,s):t.setAttribute(i,s),r+=2}}(r,n.attributes),e}(r.length,n.factory(),n,t);return i.components.push(a),e[wt]=a,o&&o.forEach(function(t){return t(a,n)}),r[dt].firstTemplatePass&&function(t){for(var e=0;e<t;e++)pe.push(Fe),le.blueprint.push(Fe),le.data.push(null)}(n.hostVars),be(),a}function je(t,e){return{components:[],scheduler:t,clean:Ye,playerHandler:e||null,flags:0}}function Ve(t,e){var n,r,i,o,a=zt(t)[dt],s=a.data.length-1;n=s,i=e.doCheck,o=a,(r=e.onInit)&&(o.initHooks||(o.initHooks=[])).push(n,r),i&&((o.initHooks||(o.initHooks=[])).push(n,i),(o.checkHooks||(o.checkHooks=[])).push(n,i)),function(t,e){if(e.firstTemplatePass)for(var n=t>>15,r=n+(4095&t),i=n;i<r;i++){var o=e.data[i];Vt(o,e,i),Ht(o,e,i),Ut(o,e,i)}}(s<<15|1,a)}var He=function(){return function(){}}(),Ue=function(){return function(){}}();function Ge(t){var e=Error("No component factory found for "+N(t)+". Did you add it to @NgModule.entryComponents?");return e[We]=t,e}var qe,We="ngComponent",Ze=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Ge(t)},t}(),Xe=function(){function t(){}return t.NULL=new Ze,t}(),Je=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ge(t);return new Ke(e,this._ngModule)},t}(),Ke=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.c)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Ue),Qe=function(){return function(){}}(),$e=function(){return function(){}}(),tn=function(t){function e(e){var n=t.call(this,e,null,-1)||this;return n._view=e,n}return Object(r.c)(e,t),e.prototype.detectChanges=function(){Ne(this._view)},e.prototype.checkNoChanges=function(){!function(t){fe=!0;try{Ne(t)}finally{fe=!1}}(this._view)},e}(function(){function t(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._view=t}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 32==(32&this._view[ft])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var t,e;this._viewContainerRef&&Ie(this._view)&&(this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),this._viewContainerRef=null),Jt(e=(t=this._view)[Ct])&&e.destroyNode&&function(e,n,r,i,o){for(var a=t[dt].node,s=-1,l=t,u=a.child;u;){var c=null;if(3===u.type){te(2,r,null,Ft(u,l),o);var p=l[u.index];m=p,Array.isArray(m)&&"number"==typeof m[Pt]&&te(2,r,null,p[Nt],o)}else if(0===u.type){var h=l[u.index];te(2,r,null,h[Nt],o),h[Ot].length&&(c=(l=h[Ot][0])[dt].node,o=h[Nt])}else if(1===u.type){var d=$t(l),f=d[vt].projection[u.projection];Qt[++s]=u,Qt[++s]=l,f&&(c=(l=d[mt])[dt].data[f.index])}else c=u.child;if(null===c)for(null===u.next&&8192&u.flags&&(l=Qt[s--],u=Qt[s--]),c=u.next;!c;){if(null===(u=u.parent||l[dt].node)||u===a)return null;0===u.type&&(o=(l=l[mt])[u.index][Nt]),c=2===u.type&&l[gt]?(l=l[gt])[dt].node:u.next}u=c}var m}(0,0,e),function(t){if(-1===t[dt].childIndex)return re(t);for(var e=ee(t);e;){var n=null;if(e.length>=ht?e[dt].childIndex>-1&&(n=ee(e)):e[Ot].length&&(n=e[Ot][0]),null==n){for(;e&&!e[gt]&&e!==t;)re(e),e=ne(e,t);re(e||t),n=e&&e[gt]}e=n}}(t),t[ft]|=32},t.prototype.onDestroy=function(t){var e,n;n=t,function(t){return t[xt]||(t[xt]=[])}(e=this._view).push(n),e[dt].firstTemplatePass&&function(t){return t[dt].cleanup||(t[dt].cleanup=[])}(e).push(e[xt].length-1,null)},t.prototype.markForCheck=function(){!function(t){for(var e=t;e&&!(64&e[ft]);)e[ft]|=4,e=e[mt];var n,r,i;e[ft]|=4,i=0===(n=e[wt]).flags,n.flags|=1,i&&n.clean==he&&(n.clean=new Promise(function(t){return r=t}),n.scheduler(function(){if(1&n.flags&&(n.flags&=-2,Pe(n)),2&n.flags){n.flags&=-3;var t=n.playerHandler;t&&t.flushPlayers()}n.clean=he,r(null)}))}(this._view)},t.prototype.detach=function(){this._view[ft]&=-9},t.prototype.reattach=function(){this._view[ft]|=8},t.prototype.detectChanges=function(){var t=de();t.begin&&t.begin(),Oe(this.context),t.end&&t.end()},t.prototype.checkNoChanges=function(){!function(t){fe=!0;try{Oe(t)}finally{fe=!1}}(this.context)},t.prototype.attachToViewContainerRef=function(t){this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){this._appRef=t},t.prototype._lookUpContext=function(){return this._context=this._view[mt][this._componentIndex]},t}());function en(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var nn=en,rn=en,on=en,an=en,sn=en,ln=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return nn(t)},t}(),un=function(){return function(){}}(),cn=function(){return function(){}}(),pn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),hn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return sn()},t}(),dn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.resolveComponentFactory=function(t){return new _n(t[y]||null)},e}(Xe);function fn(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var mn=new C("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return je(lt(gn))}}),gn=new C("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return"undefined"!=typeof requestAnimationFrame&&"undefined"!=typeof window?requestAnimationFrame.bind(window):setTimeout}}),yn=new C("WRAP_RENDERER_FACTORY2"),_n=function(t){function e(e){var n=t.call(this)||this;return n.componentDef=e,n.componentType=e.type,n.selector=e.selectors[0][0],n.ngContentSelectors=[],n}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return fn(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return fn(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){var o,a=void 0===n;o=i?i.injector.get(yn,function(t){return t})(i.injector.get(cn)):Kt;var s,l,u=a?(s=this.selector,Jt(l=o.createRenderer(null,this.componentDef)||ie)?l.createElement(s,Ee):null===Ee?l.createElement(s):l.createElementNS(Ee,s)):Se(o,n),c=this.componentDef.onPush?68:66,p=i&&!a?i.injector.get(mn):je(requestAnimationFrame.bind(window)),h=o.createRenderer(u,this.componentDef),d=xe(h,Te(-1,null,1,0,null,null,null),p,c);d[Mt]=i&&i.injector||null;var f,m,g,y,_=ye(d,null);try{o.begin&&o.begin();var v=function(t,e,n,r,i){se=!1,ae=null;var o,a=n[dt],s=xe(r,(o=e.template).ngPrivateData||(o.ngPrivateData=Te(-1,o,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery)),null,e.onPush?4:2,i),l=we(0,3,t,null,null);return a.firstTemplatePass&&(a.expandoInstructions=Be.slice(),e.diPublic&&e.diPublic(e),l.flags=n.length<<15|4096),s[_t]=n[ht],s[vt]=l,n[ht]=s}(u,this.componentDef,d,h);if(m=d[dt].data[0+ht],e)for(var b=0,x=m.projection=[],w=0;w<e.length;w++){for(var M=e[w],C=null,L=null,E=0;E<M.length;E++){y=void 0,(y=(g=d)[dt]).firstTemplatePass&&(y.expandoStartIndex++,y.blueprint.push(null),g.push(null));var k=we(++b,3,M[E],null,null);L?L.next=k:C=k,L=k}x.push(C)}f=ze(u,v,this.componentDef,d,p,[Ve]),Me(v,v[dt],f,1),v[ft]&=-2}finally{ye(_,null),o.end&&o.end()}var T=new vn(this.componentType,f,d,t,function(t,e,n){return qe||(qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e}(ln)),new qe(Ft(e,n))}(0,m,d));return a&&(T.hostView._tViewNode.child=m),T},e}(Ue),vn=function(t){function e(e,n,r,i,o){var a,s=t.call(this)||this;return s.location=o,s.destroyCbs=[],s.instance=n,s.hostView=s.changeDetectorRef=new tn(r),s.hostView._tViewNode=(-1,null==(a=r)[dt].node&&(a[dt].node=Ae(2,-1,null,null,null)),se=!0,ae=a[vt]=a[dt].node),s.injector=i,s.componentType=e,s}return Object(r.c)(e,t),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(He),bn=new C("The presence of this token marks an injector as being the root injector."),xn={},wn={},Mn=[],Cn=void 0;function Ln(){return void 0===Cn&&(Cn=new q),Cn}var En=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1,Sn([t],function(t){return r.processInjectorType(t,new Set)}),e&&Sn(e,function(t){return r.processProvider(t)}),this.records.set(G,Tn(void 0,this)),this.isRootInjector=this.records.has(bn),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=U),void 0===n&&(n=0),this.assertNotDestroyed();var r,i=st(this);try{if(!(4&n)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof C)&&w(t);a&&this.injectableDefInScope(a)&&(o=kn(t),this.records.set(t,o))}if(void 0!==o)return this.hydrate(t,o)}return 2&n&&Ln(),this.parent.get(t,e)}finally{st(i)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e){var n=this,r=M(t=F(t)),i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,a=void 0!==i&&t.providers||Mn;if(void 0!==i&&(r=M(i)),null!=r){if(e.has(o))throw new Error("Circular dependency: type "+N(o)+" ends up importing itself.");if(this.injectorDefTypes.add(o),this.records.set(o,Tn(r.factory)),null!=r.imports){e.add(o);try{Sn(r.imports,function(t){return n.processInjectorType(t,e)})}finally{e.delete(o)}}null!=r.providers&&Sn(r.providers,function(t){return n.processProvider(t)}),Sn(a,function(t){return n.processProvider(t)})}},t.prototype.processProvider=function(t){var e=An(t=F(t))?t:F(t.provide),n=function(t){var e=F(t),n=xn,i=void 0;if(An(t))return kn(t);if(e=F(t.provide),Q in t)n=t.useValue;else if(t.useExisting)i=function(){return lt(t.useExisting)};else if(t.useFactory)i=function(){return t.useFactory.apply(t,Object(r.g)(ut(t.deps||[])))};else{var o=t.useClass||e;if(!t.deps)return kn(o);i=function(){return new(o.bind.apply(o,Object(r.g)([void 0],ut(t.deps))))}}return Tn(i,n)}(t);if(An(t)||!0!==t.multi){var i=this.records.get(e);if(i&&void 0!==i.multi)throw new Error("Mixed multi-provider for "+N(e))}else{var o=this.records.get(e);if(o){if(void 0===o.multi)throw new Error("Mixed multi-provider for "+e+".")}else(o=Tn(void 0,xn,!0)).factory=function(){return ut(o.multi)},this.records.set(e,o);e=t,o.multi.push(t)}this.records.set(e,n)},t.prototype.hydrate=function(t,e){if(e.value===wn)throw new Error("Circular dep for "+N(t));var n;return e.value===xn&&(e.value=wn,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function kn(t){var e=w(t);if(null===e){if(t instanceof C)throw new Error("Token "+N(t)+" is missing an ngInjectableDef definition.");return Tn(function(){return new t})}return Tn(e.factory)}function Tn(t,e,n){return void 0===e&&(e=xn),void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function Sn(t,e){t.forEach(function(t){return Array.isArray(t)?Sn(t,e):e(t)})}function An(t){return"function"==typeof t}var Dn={provide:Xe,useFactory:function(){return new dn},deps:[]},In=function(t){function e(e,n){var r=t.call(this)||this;return r._bootstrapComponents=[],r.destroyCbs=[],r._bootstrapComponents=(e[b]||null).bootstrap,r.injector=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Ln(),new En(t,n,e)}(e,n,[Dn,{provide:Qe,useValue:r}]),r.instance=r.injector.get(e),r.componentFactoryResolver=new dn,r}return Object(r.c)(e,t),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Qe);!function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}Object(r.c)(e,t),e.prototype.create=function(t){return new In(this.moduleType,t)}}($e);var Pn=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.c)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var l=t.prototype.subscribe.call(this,o,a,s);return e instanceof i.a&&e.add(l),l},e}(o.a),On=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return rn(t,ln)},t}(),Nn=!0,Rn=!1;function Fn(){return Rn=!0,Nn}function Yn(){if(Rn)throw new Error("Cannot enable prod mode after platform setup.");Nn=!1}var Bn=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),zn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vn(t){return(t=String(t)).match(zn)||t.match(jn)?t:(Fn()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Hn(t){var e,n,i={};try{for(var o=Object(r.h)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function Un(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=Object(r.h)(n),s=a.next();!s.done;s=a.next()){var l=s.value;for(var u in l)l.hasOwnProperty(u)&&(o[u]=!0)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var Gn,qn=Hn("area,br,col,hr,img,wbr"),Wn=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zn=Hn("rp,rt"),Xn=Un(Zn,Wn),Jn=Un(qn,Un(Wn,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Un(Zn,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xn),Kn=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qn=Hn("srcset"),$n=Un(Kn,Qn,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),tr=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(Jn.hasOwnProperty(e)){this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if($n.hasOwnProperty(s)){var l=o.value;Kn[s]&&(l=Vn(l)),Qn[s]&&(n=l,l=(n=String(n)).split(",").map(function(t){return Vn(t.trim())}).join(", ")),this.buf.push(" ",a,'="',rr(l),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(rr(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),er=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nr=/([^\#-~ |!])/g;function rr(t){return t.replace(/&/g,"&amp;").replace(er,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ir(t,e){var n=null;try{Gn=Gn||new Bn(t);var r=e?String(e):"";n=Gn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Gn.getInertBodyElement(r)}while(r!==o);var a=new tr,s=a.sanitizeChildren(or(n)||n);return Fn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}finally{if(n)for(var l=or(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}function or(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ar=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),sr=function(){return function(){}}(),lr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ur=/^url\(([^)]+)\)$/;function cr(t){if(!(t=String(t).trim()))return"";var e=t.match(ur);return e&&Vn(e[1])===e[1]||t.match(lr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Fn()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}String,String;var pr=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),hr=new pr("7.0.3"),dr="ngDebugContext",fr="ngOriginalError",mr="ngErrorLogger";function gr(t){return t[dr]}function yr(t){return t[fr]}function _r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.g)(e))}var vr=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[mr]||_r}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?gr(t)?gr(t):this._findContext(yr(t)):null},t.prototype._findOriginalError=function(t){for(var e=yr(t);e&&yr(e);)e=yr(e);return e},t}();function br(t){return!!t&&"function"==typeof t.then}function xr(t){return!!t&&"function"==typeof t.subscribe}var wr=new C("Application Initializer"),Mr=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();br(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Cr=new C("AppId");function Lr(){return""+Er()+Er()+Er()}function Er(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var kr=new C("Platform Initializer"),Tr=new C("Platform ID"),Sr=new C("appBootstrapListener"),Ar=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function Dr(){throw new Error("Runtime compiler is not loaded")}var Ir,Pr,Or=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Dr()},t.prototype.compileModuleAsync=function(t){throw Dr()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Dr()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Dr()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Nr=function(){return function(){}}();function Rr(){var t=S.wtf;return!(!t||!(Ir=t.trace)||(Pr=Ir.events,0))}var Fr=Rr();function Yr(t,e){return null}var Br=Fr?function(t,e){return void 0===e&&(e=null),Pr.createScope(t,e)}:function(t,e){return Yr},zr=Fr?function(t,e){return Ir.leaveScope(t,e),e}:function(t,e){return e},jr=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pn(!1),this.onMicrotaskEmpty=new Pn(!1),this.onStable=new Pn(!1),this.onError=new Pn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return Gr(e),t.invokeTask(r,i,o,a)}finally{qr(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return Gr(e),t.invoke(r,i,o,a,s)}finally{qr(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Ur(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Hr,Vr,Vr);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Vr(){}var Hr={};function Ur(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Gr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qr(t){t._nesting--,Ur(t)}var Wr=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pn,this.onMicrotaskEmpty=new Pn,this.onStable=new Pn,this.onError=new Pn}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Zr=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){jr.assertNotInAngularZone(),P(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())P(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Xr=function(){function t(){this._applications=new Map,Qr.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Qr.findTestabilityInTree(this,t,e)},Object(r.b)([Object(r.d)("design:paramtypes",[])],t)}();function Jr(t){Qr=t}var Kr,Qr=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),$r=new C("AllowMultipleToken"),ti=function(){return function(t,e){this.name=t,this.token=e}}();function ei(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new C(r);return function(e){void 0===e&&(e=[]);var o=ni();if(!o||o.injector.get($r,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Kr&&!Kr.destroyed&&!Kr.injector.get($r,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Kr=t.get(ri);var e=t.get(kr,null);e&&e.forEach(function(t){return t()})}(W.create({providers:a,name:r}))}return function(t){var e=ni();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ni(){return Kr&&!Kr.destroyed?Kr:null}var ri=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new Wr:("zone.js"===n?void 0:n)||new jr({enableLongStackTrace:Fn()}),o=[{provide:jr,useValue:i}];return i.run(function(){var e=W.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(vr,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return ai(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(Mr)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return br(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=ii({},e);return function(t,e,n){return t.get(Nr).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(oi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+N(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function ii(t,e){return Array.isArray(e)?e.reduce(ii,t):Object(r.a)({},t,e)}var oi=function(){function t(t,e,n,r,i,o){var l=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Fn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}});var c=new a.a(function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular(function(){t.next(l._stable),t.complete()})}),p=new a.a(function(t){var e;l._zone.runOutsideAngular(function(){e=l._zone.onStable.subscribe(function(){jr.assertNotInAngularZone(),P(function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))})})});var n=l._zone.onUnstable.subscribe(function(){jr.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,p.pipe(function(t){return u()((e=m,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ue?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof Ke?null:this._injector.get(Qe),o=n.create(W.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Zr,null);return a&&o.injector.get(Xr).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Fn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,zr(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;ai(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Sr,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),ai(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Br("ApplicationRef#tick()"),t}();function ai(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var si,li=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Pn,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[I()]=function(){return this._results[I()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),ui=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return an(t,ln)},t}(),ci=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return on()},t}(),pi=(si=ci,Object(r.c)(function(){return null!==si&&si.apply(this,arguments)||this},si),function(){return function(t,e){this.name=t,this.callback=e}}()),hi=function(){function t(t,e,n){this.nativeNode=t,this._debugContext=n,this.listeners=[],this.parent=null,e&&e instanceof di&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),di=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.c)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.g)([o+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof di&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof di&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof di&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(hi),fi=new Map;function mi(t){return fi.get(t)||null}function gi(t){fi.set(t.nativeNode,t)}var yi=function(){function t(){}return t.prototype.supports=function(t){return Dt(t)},t.prototype.create=function(t){return new vi(t)},t}(),_i=function(t,e){return e},vi=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_i}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Mi(n,r,i)?e:n,a=Mi(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var l=a-r,u=s-r;if(l!=u){for(var c=0;c<l;c++){var p=c<i.length?i[c]:i[c]=0,h=p+c;u<=h&&h<l&&(i[c]=p+1)}i[o.previousIndex]=u-l}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Dt(t))throw new Error("Error trying to diff '"+N(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&O(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),O(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[I()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&O(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),O(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(O(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(O(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new bi(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wi),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wi),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),bi=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),xi=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&O(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),wi=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new xi,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Mi(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ci=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||It(t)},t.prototype.create=function(){return new Li},t}(),Li=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||It(t)))throw new Error("Error trying to diff '"+N(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ei(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){O(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Ei=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),ki=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new j,new B]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=x({providedIn:"root",factory:function(){return new t([new yi])}}),t}(),Ti=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new j,new B]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Si=[new Ci],Ai=new ki([new yi]),Di=new Ti(Si),Ii=ei(null,"core",[{provide:Tr,useValue:"unknown"},{provide:ri,deps:[W]},{provide:Xr,deps:[]},{provide:Ar,deps:[]}]),Pi=new C("LocaleId");function Oi(){return Ai}function Ni(){return Di}function Ri(t){return t||"en-US"}var Fi=function(){return function(t){}}();function Yi(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Bi(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function zi(t,e){return t.nodes[e]}function ji(t,e){return t.nodes[e]}function Vi(t,e){return t.nodes[e]}function Hi(t,e){return t.nodes[e]}function Ui(t,e){return t.nodes[e]}var Gi={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function qi(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Wi(n,e),n}(i,t)}function Wi(t,e){t[dr]=e,t[mr]=e.logError.bind(e)}function Zi(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var Xi=function(){},Ji=new Map;function Ki(t){var e=Ji.get(t);return e||(e=N(t)+"_"+Ji.size,Ji.set(t,e)),e}function Qi(t,e,n,r){if(St.isWrapped(r)){r=St.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=St.unwrap(t.oldValues[i]);t.oldValues[i]=new St(o)}return r}var $i="$$undefined",to="$$empty";function eo(t){return{id:$i,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var no=0;function ro(t,e,n,r){return!(!(2&t.state)&&O(t.oldValues[e.bindingIndex+n],r))}function io(t,e,n,r){return!!ro(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function oo(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Tt(i,r)){var o=e.bindings[n].name;throw qi(Gi.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function ao(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function so(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function lo(t,e,n,r){try{return ao(33554432&t.def.nodes[e].flags?ji(t,e).componentView:t),Gi.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function uo(t){return t.parent?ji(t.parent,t.parentNodeDef.nodeIndex):null}function co(t){return t.parent?t.parentNodeDef.parent:null}function po(t,e){switch(201347067&e.flags){case 1:return ji(t,e.nodeIndex).renderElement;case 2:return zi(t,e.nodeIndex).renderText}}function ho(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function fo(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function mo(t){return 1<<t%32}function go(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.f)(t,2),a=o[0],s=o[1];"number"==typeof a?(e[a]=s,n|=mo(a)):i[a]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function yo(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=Object(r.f)(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,V,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:Ki(i)}})}function _o(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ct.Native?ji(t,n.renderParent.nodeIndex).renderElement:void 0:e}var vo=new WeakMap;function bo(t){var e=vo.get(t);return e||((e=t(function(){return Xi})).factory=t,vo.set(t,e)),e}function xo(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(po(t,t.def.lastRenderRootNode))),wo(t,e,0,t.def.nodes.length-1,n,r,i)}function wo(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var l=t.def.nodes[s];11&l.flags&&Co(t,l,e,i,o,a),s+=l.childCount}}function Mo(t,e,n,r,i,o){for(var a=t;a&&!ho(a);)a=a.parent;for(var s=a.parent,l=co(a),u=l.nodeIndex+l.childCount,c=l.nodeIndex+1;c<=u;c++){var p=s.def.nodes[c];p.ngContentIndex===e&&Co(s,p,n,r,i,o),c+=p.childCount}if(!s.parent){var h=t.root.projectableNodes[e];if(h)for(c=0;c<h.length;c++)Lo(t,h[c],n,r,i,o)}}function Co(t,e,n,r,i,o){if(8&e.flags)Mo(t,e.ngContent.index,n,r,i,o);else{var a=po(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Lo(t,a,n,r,i,o),32&e.bindingFlags&&Lo(ji(t,e.nodeIndex).componentView,a,n,r,i,o)):Lo(t,a,n,r,i,o),16777216&e.flags)for(var s=ji(t,e.nodeIndex).viewContainer._embeddedViews,l=0;l<s.length;l++)xo(s[l],n,r,i,o);1&e.flags&&!e.element.name&&wo(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Lo(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Eo=/^:([^:]+):(.+)$/;function ko(t){if(":"===t[0]){var e=t.match(Eo);return[e[1],e[2]]}return["",t]}function To(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function So(t,e,n,r,i,o,a,s,l,u,c,p,h,d,f,m,g,y,_,v){switch(t){case 1:return e+Ao(n)+r;case 2:return e+Ao(n)+r+Ao(i)+o;case 3:return e+Ao(n)+r+Ao(i)+o+Ao(a)+s;case 4:return e+Ao(n)+r+Ao(i)+o+Ao(a)+s+Ao(l)+u;case 5:return e+Ao(n)+r+Ao(i)+o+Ao(a)+s+Ao(l)+u+Ao(c)+p;case 6:return e+Ao(n)+r+Ao(i)+o+Ao(a)+s+Ao(l)+u+Ao(c)+p+Ao(h)+d;case 7:return e+Ao(n)+r+Ao(i)+o+Ao(a)+s+Ao(l)+u+Ao(c)+p+Ao(h)+d+Ao(f)+m;case 8:return e+Ao(n)+r+Ao(i)+o+Ao(a)+s+Ao(l)+u+Ao(c)+p+Ao(h)+d+Ao(f)+m+Ao(g)+y;case 9:return e+Ao(n)+r+Ao(i)+o+Ao(a)+s+Ao(l)+u+Ao(c)+p+Ao(h)+d+Ao(f)+m+Ao(g)+y+Ao(_)+v;default:throw new Error("Does not support more than 9 expressions")}}function Ao(t){return null!=t?t.toString():""}var Do=[];function Io(t,e,n,r,i,o){t|=1;var a=go(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?bo(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Xi},provider:null,text:null,query:null,ngContent:null}}function Po(t,e,n,i,o,a,s,l,u,c,p,h){var d;void 0===s&&(s=[]),c||(c=Xi);var f=go(n),m=f.matchedQueries,g=f.references,y=f.matchedQueryIds,_=null,v=null;a&&(_=(d=Object(r.f)(ko(a),2))[0],v=d[1]),l=l||[];for(var b=new Array(l.length),x=0;x<l.length;x++){var w=Object(r.f)(l[x],3),M=w[0],C=w[1],L=w[2],E=Object(r.f)(ko(C),2),k=E[0],T=E[1],S=void 0,A=void 0;switch(15&M){case 4:A=L;break;case 1:case 8:S=L}b[x]={flags:M,ns:k,name:T,nonMinifiedName:T,securityContext:S,suffix:A}}u=u||[];var D=new Array(u.length);for(x=0;x<u.length;x++){var I=Object(r.f)(u[x],2);D[x]={type:0,target:I[0],eventName:I[1],propName:null}}var P=(s=s||[]).map(function(t){var e=Object(r.f)(t,2),n=e[0],i=e[1],o=Object(r.f)(ko(n),2);return[o[0],o[1],i]});return h=function(t){if(t&&t.id===$i){var e=null!=t.encapsulation&&t.encapsulation!==ct.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+no++:to}return t&&t.id===to&&(t=null),t||null}(h),p&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:y,references:g,ngContentIndex:i,childCount:o,bindings:b,bindingFlags:To(b),outputs:D,element:{ns:_,name:v,attrs:P,template:null,componentProvider:null,componentView:p||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Xi},provider:null,text:null,query:null,ngContent:null}}function Oo(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var l=_o(t,e,n);l&&s.appendChild(l,i)}else i=s.selectRootElement(a,!!o.componentRendererType&&o.componentRendererType.encapsulation===ct.ShadowDom);if(o.attrs)for(var u=0;u<o.attrs.length;u++){var c=Object(r.f)(o.attrs[u],3);s.setAttribute(i,c[1],c[2],c[0])}return i}function No(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Ro(t,n.nodeIndex,(p=o.eventName,(c=o.target)?c+":"+p:p)),s=o.target,l=t;"component"===o.target&&(s=null,l=e);var u=l.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=u}var c,p}function Ro(t,e,n){return function(r){return lo(t,e,n,r)}}function Fo(t,e,n,r){if(!io(t,e,n,r))return!1;var i=e.bindings[n],o=ji(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var l=t.renderer;null!=o?l.setAttribute(n,i,s,r):l.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(ar.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var Yo=new Object,Bo=Ki(W),zo=Ki(G),jo=Ki(Qe);function Vo(t,e,n,r){return n=F(n),{index:-1,deps:yo(r,N(e)),flags:t,token:e,value:n}}function Ho(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===bn&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Ki(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Uo(t,e,n){void 0===n&&(n=W.THROW_IF_NOT_FOUND);var r,i,o=st(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case Bo:case zo:case jo:return t}var s,l=t._def.providersByKey[a];if(l){var u=t._providers[l.index];return void 0===u&&(u=t._providers[l.index]=Go(t,l)),u===Yo?void 0:u}if((s=w(e.token))&&(r=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:e.token},t._providers[c]=Yo,t._providers[c]=Go(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{st(o)}}function Go(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Uo(t,n[0]));case 2:return new e(Uo(t,n[0]),Uo(t,n[1]));case 3:return new e(Uo(t,n[0]),Uo(t,n[1]),Uo(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=Uo(t,n[a]);return new(e.bind.apply(e,Object(r.g)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Uo(t,n[0]));case 2:return e(Uo(t,n[0]),Uo(t,n[1]));case 3:return e(Uo(t,n[0]),Uo(t,n[1]),Uo(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=Uo(t,n[a]);return e.apply(void 0,Object(r.g)(o))}}(t,e.value,e.deps);break;case 2048:n=Uo(t,e.deps[0]);break;case 256:n=e.value}return n===Yo||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Yo:n}function qo(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Jo(n,e),Gi.dirtyParentQueries(r),Zo(r),r}function Wo(t,e,n){var r=e?po(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);xo(n,2,i,o,void 0)}function Zo(t){xo(t,3,null,null,void 0)}function Xo(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jo(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Ko=new Object;function Qo(t,e,n,r,i,o){return new $o(t,e,n,r,i,o)}var $o=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=bo(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Gi.createRootView(t,e||[],n,i,r,Ko),s=Vi(a,o).instance;return n&&a.renderer.setAttribute(ji(a,0).renderElement,"ng-version",hr.full),new ta(a,new ia(a),s)},e}(Ue),ta=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new ln(ji(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new la(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(He);function ea(t,e,n){return new na(t,e,n)}var na=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new ln(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new la(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=co(t),t=t.parent;return t?new la(t,e):new la(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=qo(this._data,t);Gi.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new ia(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Ke||(i=o.get(Qe));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return o=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=o.length),(i=a._view).viewContainerParent=this._view,Xo(o,r,i),function(t,e){var n=uo(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),Gi.dirtyParentQueries(i),Wo(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],Jo(o,r),null==i&&(i=o.length),Xo(o,i,a),Gi.dirtyParentQueries(a),Zo(a),Wo(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=qo(this._data,t);e&&Gi.destroyView(e)},t.prototype.detach=function(t){var e=qo(this._data,t);return e?new ia(e):null},t}();function ra(t){return new ia(t)}var ia=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return xo(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){ao(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Gi.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Gi.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Gi.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Zo(this._view),Gi.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function oa(t,e){return new aa(t,e)}var aa=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.c)(e,t),e.prototype.createEmbeddedView=function(t){return new ia(Gi.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new ln(ji(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(On);function sa(t,e){return new la(t,e)}var la=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=W.THROW_IF_NOT_FOUND),Gi.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Ki(t)},e)},t}();function ua(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=ji(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return zi(t,n.nodeIndex).renderText;if(20240&n.flags)return Vi(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function ca(t){return new pa(t.renderer)}var pa=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.f)(ko(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.f)(ko(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function ha(t,e,n,r){return new da(t,e,n,r)}var da=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Go(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=W.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),Uo(this,{token:t,tokenKey:Ki(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Xe)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+N(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==Yo){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),fa=Ki(un),ma=Ki(hn),ga=Ki(ln),ya=Ki(ui),_a=Ki(On),va=Ki(ci),ba=Ki(W),xa=Ki(G);function wa(t,e,n,i,o,a,s,l){var u=[];if(s)for(var c in s){var p=Object(r.f)(s[c],2);u[p[0]]={flags:8,name:c,nonMinifiedName:p[1],ns:null,securityContext:null,suffix:null}}var h=[];if(l)for(var d in l)h.push({type:1,propName:d,target:null,eventName:l[d]});return La(t,e|=16384,n,i,o,o,a,u,h)}function Ma(t,e,n){return La(-1,t|=16,null,0,e,e,n)}function Ca(t,e,n,r,i){return La(-1,t,e,0,n,r,i)}function La(t,e,n,r,i,o,a,s,l){var u=go(n),c=u.matchedQueries,p=u.references,h=u.matchedQueryIds;l||(l=[]),s||(s=[]),o=F(o);var d=yo(a,N(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:p,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:To(s),outputs:l,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Ea(t,e){return Aa(t,e)}function ka(t,e){for(var n=t;n.parent&&!ho(n);)n=n.parent;return Da(n.parent,co(n),!0,e.provider.value,e.provider.deps)}function Ta(t,e){var n=Da(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!xr(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(Sa(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Sa(t,e,n){return function(r){return lo(t,e,n,r)}}function Aa(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return Da(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(Pa(t,e,n,o[0]));case 2:return i(Pa(t,e,n,o[0]),Pa(t,e,n,o[1]));case 3:return i(Pa(t,e,n,o[0]),Pa(t,e,n,o[1]),Pa(t,e,n,o[2]));default:for(var s=Array(a),l=0;l<a;l++)s[l]=Pa(t,e,n,o[l]);return i.apply(void 0,Object(r.g)(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return Pa(t,e.parent,n,i.deps[0]);case 256:return i.value}}function Da(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(Pa(t,e,n,o[0]));case 2:return new i(Pa(t,e,n,o[0]),Pa(t,e,n,o[1]));case 3:return new i(Pa(t,e,n,o[0]),Pa(t,e,n,o[1]),Pa(t,e,n,o[2]));default:for(var s=new Array(a),l=0;l<a;l++)s[l]=Pa(t,e,n,o[l]);return new(i.bind.apply(i,Object(r.g)([void 0],s)))}}var Ia={};function Pa(t,e,n,r,i){if(void 0===i&&(i=W.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===va&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case fa:return ca(Oa(s,e,n));case ma:return Oa(s,e,n).renderer;case ga:return new ln(ji(s,e.nodeIndex).renderElement);case ya:return ji(s,e.nodeIndex).viewContainer;case _a:if(e.element.template)return ji(s,e.nodeIndex).template;break;case va:return ra(Oa(s,e,n));case ba:case xa:return sa(s,e);default:var l=(n?e.element.allProviders:e.element.publicProviders)[a];if(l){var u=Vi(s,l.nodeIndex);return u||(u={instance:Aa(s,l)},s.nodes[l.nodeIndex]=u),u.instance}}n=ho(s),e=co(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,Ia);return c!==Ia||i===Ia?c:o.root.ngModule.injector.get(r.token,i)}function Oa(t,e,n){var r;if(n)r=ji(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ho(r);)r=r.parent;return r}function Na(t,e,n,r,i,o){if(32768&n.flags){var a=ji(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=St.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new At(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Ra(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&Ya(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Fa(t,a,e,r)),a=a.parent}}function Fa(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&Ya(t,i,o.flags&n,r++),i+=o.childCount}return r}function Ya(t,e,n,r){var i=Vi(t,e);if(i){var o=i.instance;o&&(Gi.setCurrentNode(t,e),1048576&n&&Bi(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Bi(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Ba(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:mo(e),bindings:r},ngContent:null}}function za(t){for(var e=t.def.nodeMatchedQueries;t.parent&&fo(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Ui(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&Ui(t,i).setDirty(),i+=o.childCount}}function ja(t,e){var n=Ui(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Va(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Vi(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Va(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,l=0;l<a.length;l++){var u=a[l],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[u.propName]=c}s&&n.notifyOnChanges()}}function Va(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(Ha(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var l=ji(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Va(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var u=l.viewContainer._embeddedViews,c=0;c<u.length;c++){var p=u[c],h=uo(p);h&&h===l&&Va(p,0,p.def.nodes.length-1,r,i)}var d=l.template._projectedViews;if(d)for(c=0;c<d.length;c++){var f=d[c];Va(f,0,f.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Ha(t,e,n){if(null!=n)switch(n){case 1:return ji(t,e.nodeIndex).renderElement;case 0:return new ln(ji(t,e.nodeIndex).renderElement);case 2:return ji(t,e.nodeIndex).template;case 3:return ji(t,e.nodeIndex).viewContainer;case 4:return Vi(t,e.nodeIndex).instance}}function Ua(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ga(t,e,n){var r=_o(t,e,n);r&&Mo(t,n.ngContent.index,1,r,null,void 0)}function qa(t,e){return Za(128,t,new Array(e+1))}function Wa(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return Za(64,t,i)}function Za(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:To(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Xa(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ja(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=_o(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Ka(t,e){return(null!=t?t.toString():"")+e.suffix}function Qa(t,e,n,r){for(var i=0,o=0,a=0,s=0,l=0,u=null,c=null,p=!1,h=!1,d=null,f=0;f<e.length;f++){var m=e[f];if(m.nodeIndex=f,m.parent=u,m.bindingIndex=i,m.outputIndex=o,m.renderParent=c,a|=m.flags,l|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=u?u.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,p=!1,h=!1,m.element.template&&(l|=m.element.template.nodeMatchedQueries)}if(ts(u,m,e.length),i+=m.bindings.length,o+=m.outputs.length,!c&&3&m.flags&&(d=m),20224&m.flags){p||(p=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var y=0!=(32768&m.flags);0==(8192&m.flags)||y?u.element.publicProviders[Ki(m.provider.token)]=m:(h||(h=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Ki(m.provider.token)]=m),y&&(u.element.componentProvider=m)}if(u?(u.childFlags|=m.flags,u.directChildFlags|=m.flags,u.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(u.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)u=m,$a(m)||(c=m);else for(;u&&f===u.nodeIndex+u.childCount;){var _=u.parent;_&&(_.childFlags|=u.childFlags,_.childMatchedQueries|=u.childMatchedQueries),c=(u=_)&&$a(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Xi,updateRenderer:r||Xi,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function $a(t){return 0!=(1&t.flags)&&null===t.element.name}function ts(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function es(t,e,n,r){var i=is(t.root,t.renderer,t,e,n);return os(i,t.component,r),as(i),i}function ns(t,e,n){var r=is(t,t.renderer,null,null,e);return os(r,n,n),as(r),r}function rs(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,is(t.root,i,t,e.element.componentProvider,n)}function is(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function os(t,e,n){t.component=e,t.context=n}function as(t){var e;ho(t)&&(e=ji(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];Gi.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=Oo(t,e,o),l=void 0;if(33554432&o.flags){var u=bo(o.element.componentView);l=Gi.createComponentView(t,o,u,s)}No(t,l,o,s),a={renderElement:s,componentView:l,viewContainer:null,template:o.element.template?oa(t,o):void 0},16777216&o.flags&&(a.viewContainer=ea(t,o,a));break;case 2:a=Ja(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Ea(t,o)});break;case 16:a={instance:ka(t,o)};break;case 16384:(a=r[i])||(a={instance:Ta(t,o)}),32768&o.flags&&os(ji(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new li;break;case 8:Ga(t,e,o),a=void 0}r[i]=a}ms(t,fs.CreateViewNodes),vs(t,201326592,268435456,0)}function ss(t){cs(t),Gi.updateDirectives(t,1),gs(t,fs.CheckNoChanges),Gi.updateRenderer(t,1),ms(t,fs.CheckNoChanges),t.state&=-97}function ls(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Yi(t,0,256),cs(t),Gi.updateDirectives(t,0),gs(t,fs.CheckAndUpdate),vs(t,67108864,536870912,0);var e=Yi(t,256,512);Ra(t,2097152|(e?1048576:0)),Gi.updateRenderer(t,0),ms(t,fs.CheckAndUpdate),vs(t,134217728,536870912,0),Ra(t,8388608|((e=Yi(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Yi(t,768,1024)}function us(t,e,n,i,o,a,s,l,u,c,p,h,d){return 0===n?function(t,e,n,r,i,o,a,s,l,u,c,p){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,l,u,c,p){var h=e.bindings.length,d=!1;return h>0&&Fo(t,e,0,n)&&(d=!0),h>1&&Fo(t,e,1,r)&&(d=!0),h>2&&Fo(t,e,2,i)&&(d=!0),h>3&&Fo(t,e,3,o)&&(d=!0),h>4&&Fo(t,e,4,a)&&(d=!0),h>5&&Fo(t,e,5,s)&&(d=!0),h>6&&Fo(t,e,6,l)&&(d=!0),h>7&&Fo(t,e,7,u)&&(d=!0),h>8&&Fo(t,e,8,c)&&(d=!0),h>9&&Fo(t,e,9,p)&&(d=!0),d}(t,e,n,r,i,o,a,s,l,u,c,p);case 2:return function(t,e,n,r,i,o,a,s,l,u,c,p){var h=!1,d=e.bindings,f=d.length;if(f>0&&io(t,e,0,n)&&(h=!0),f>1&&io(t,e,1,r)&&(h=!0),f>2&&io(t,e,2,i)&&(h=!0),f>3&&io(t,e,3,o)&&(h=!0),f>4&&io(t,e,4,a)&&(h=!0),f>5&&io(t,e,5,s)&&(h=!0),f>6&&io(t,e,6,l)&&(h=!0),f>7&&io(t,e,7,u)&&(h=!0),f>8&&io(t,e,8,c)&&(h=!0),f>9&&io(t,e,9,p)&&(h=!0),h){var m=e.text.prefix;f>0&&(m+=Ka(n,d[0])),f>1&&(m+=Ka(r,d[1])),f>2&&(m+=Ka(i,d[2])),f>3&&(m+=Ka(o,d[3])),f>4&&(m+=Ka(a,d[4])),f>5&&(m+=Ka(s,d[5])),f>6&&(m+=Ka(l,d[6])),f>7&&(m+=Ka(u,d[7])),f>8&&(m+=Ka(c,d[8])),f>9&&(m+=Ka(p,d[9]));var g=zi(t,e.nodeIndex).renderText;t.renderer.setValue(g,m)}return h}(t,e,n,r,i,o,a,s,l,u,c,p);case 16384:return function(t,e,n,r,i,o,a,s,l,u,c,p){var h=Vi(t,e.nodeIndex),d=h.instance,f=!1,m=void 0,g=e.bindings.length;return g>0&&ro(t,e,0,n)&&(f=!0,m=Na(t,h,e,0,n,m)),g>1&&ro(t,e,1,r)&&(f=!0,m=Na(t,h,e,1,r,m)),g>2&&ro(t,e,2,i)&&(f=!0,m=Na(t,h,e,2,i,m)),g>3&&ro(t,e,3,o)&&(f=!0,m=Na(t,h,e,3,o,m)),g>4&&ro(t,e,4,a)&&(f=!0,m=Na(t,h,e,4,a,m)),g>5&&ro(t,e,5,s)&&(f=!0,m=Na(t,h,e,5,s,m)),g>6&&ro(t,e,6,l)&&(f=!0,m=Na(t,h,e,6,l,m)),g>7&&ro(t,e,7,u)&&(f=!0,m=Na(t,h,e,7,u,m)),g>8&&ro(t,e,8,c)&&(f=!0,m=Na(t,h,e,8,c,m)),g>9&&ro(t,e,9,p)&&(f=!0,m=Na(t,h,e,9,p,m)),m&&d.ngOnChanges(m),65536&e.flags&&Bi(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),f}(t,e,n,r,i,o,a,s,l,u,c,p);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,l,u,c,p){var h=e.bindings,d=!1,f=h.length;if(f>0&&io(t,e,0,n)&&(d=!0),f>1&&io(t,e,1,r)&&(d=!0),f>2&&io(t,e,2,i)&&(d=!0),f>3&&io(t,e,3,o)&&(d=!0),f>4&&io(t,e,4,a)&&(d=!0),f>5&&io(t,e,5,s)&&(d=!0),f>6&&io(t,e,6,l)&&(d=!0),f>7&&io(t,e,7,u)&&(d=!0),f>8&&io(t,e,8,c)&&(d=!0),f>9&&io(t,e,9,p)&&(d=!0),d){var m=Hi(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(h.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=a),f>5&&(g[5]=s),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=p);break;case 64:g={},f>0&&(g[h[0].name]=n),f>1&&(g[h[1].name]=r),f>2&&(g[h[2].name]=i),f>3&&(g[h[3].name]=o),f>4&&(g[h[4].name]=a),f>5&&(g[h[5].name]=s),f>6&&(g[h[6].name]=l),f>7&&(g[h[7].name]=u),f>8&&(g[h[8].name]=c),f>9&&(g[h[9].name]=p);break;case 128:var y=n;switch(f){case 1:g=y.transform(n);break;case 2:g=y.transform(r);break;case 3:g=y.transform(r,i);break;case 4:g=y.transform(r,i,o);break;case 5:g=y.transform(r,i,o,a);break;case 6:g=y.transform(r,i,o,a,s);break;case 7:g=y.transform(r,i,o,a,s,l);break;case 8:g=y.transform(r,i,o,a,s,l,u);break;case 9:g=y.transform(r,i,o,a,s,l,u,c);break;case 10:g=y.transform(r,i,o,a,s,l,u,c,p)}}m.value=g}return d}(t,e,n,r,i,o,a,s,l,u,c,p);default:throw"unreachable"}}(t,e,i,o,a,s,l,u,c,p,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Fo(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)io(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=Ka(n[o],r[o]);a=e.text.prefix+a;var s=zi(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Vi(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)ro(t,e,s,n[s])&&(o=!0,a=Na(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Bi(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)io(t,e,a,n[a])&&(o=!0);if(o){var s=Hi(t,e.nodeIndex),l=void 0;switch(201347067&e.flags){case 32:l=n;break;case 64:for(l={},a=0;a<n.length;a++)l[i[a].name]=n[a];break;case 128:var u=n[0],c=n.slice(1);l=u.transform.apply(u,Object(r.g)(c))}s.value=l}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function cs(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=ji(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,so(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ps(t,e,n,r,i,o,a,s,l,u,c,p,h){return 0===n?function(t,e,n,r,i,o,a,s,l,u,c,p){var h=e.bindings.length;h>0&&oo(t,e,0,n),h>1&&oo(t,e,1,r),h>2&&oo(t,e,2,i),h>3&&oo(t,e,3,o),h>4&&oo(t,e,4,a),h>5&&oo(t,e,5,s),h>6&&oo(t,e,6,l),h>7&&oo(t,e,7,u),h>8&&oo(t,e,8,c),h>9&&oo(t,e,9,p)}(t,e,r,i,o,a,s,l,u,c,p,h):function(t,e,n){for(var r=0;r<n.length;r++)oo(t,e,r,n[r])}(t,e,r),!1}function hs(t,e){if(Ui(t,e.nodeIndex).dirty)throw qi(Gi.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function ds(t){if(!(128&t.state)){if(gs(t,fs.Destroy),ms(t,fs.Destroy),Ra(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=uo(t);if(e){var n=e.template._projectedViews;n&&(Jo(n,n.indexOf(t)),Gi.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(ji(t,n).renderElement):2&r.flags?t.renderer.destroyNode(zi(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Ui(t,n).destroy()}}(t),ho(t)&&t.renderer.destroy(),t.state|=128}}var fs=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function ms(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?ys(ji(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function gs(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=ji(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)ys(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ys(t,e){var n=t.state;switch(e){case fs.CheckNoChanges:0==(128&n)&&(12==(12&n)?ss(t):64&n&&_s(t,fs.CheckNoChangesProjectedViews));break;case fs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ss(t):64&n&&_s(t,e));break;case fs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ls(t):64&n&&_s(t,fs.CheckAndUpdateProjectedViews));break;case fs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ls(t):64&n&&_s(t,e));break;case fs.Destroy:ds(t);break;case fs.CreateViewNodes:as(t)}}function _s(t,e){gs(t,e),ms(t,e)}function vs(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Gi.setCurrentNode(t,a.nodeIndex),r){case 0:ja(t,a);break;case 1:hs(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var bs=!1;function xs(t,e,n,r,i,o){var a=i.injector.get(cn);return ns(Ms(t,i,a,e,n),r,o)}function ws(t,e,n,r,i,o){var a=i.injector.get(cn),s=Ms(t,i,new rl(a),e,n),l=Ps(r);return el(Vs.create,ns,null,[s,l,o])}function Ms(t,e,n,r,i){var o=e.injector.get(sr),a=e.injector.get(vr),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Cs(t,e,n,r){var i=Ps(n);return el(Vs.create,es,null,[t,e,i,r])}function Ls(t,e,n,r){return n=Ss.get(e.element.componentProvider.provider.token)||Ps(n),el(Vs.create,rs,null,[t,e,n,r])}function Es(t,e,n,r){return ha(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===ks.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=ks.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Ts.forEach(function(r,i){w(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=ks.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=yo(i.deps),r.value=i.value)}if(Ts.size>0){var o=new Set(t.modules);Ts.forEach(function(e,r){if(o.has(w(r).providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:yo(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Ki(r)]=i}})}}(t=t.factory(function(){return Xi})),t):t}(r))}var ks=new Map,Ts=new Map,Ss=new Map;function As(t){var e;ks.set(t.token,t),"function"==typeof t.token&&(e=w(t.token))&&"function"==typeof e.providedIn&&Ts.set(t.token,t)}function Ds(t,e){var n=bo(e.viewDefFactory),r=bo(n.nodes[0].element.componentView);Ss.set(t,r)}function Is(){ks.clear(),Ts.clear(),Ss.clear()}function Ps(t){if(0===ks.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ks.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Xi});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=ks.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=yo(o.deps),i.value=o.value)}}}}function Os(t,e,n,r,i,o,a,s,l,u,c,p,h){var d=t.def.nodes[e];return us(t,d,n,r,i,o,a,s,l,u,c,p,h),224&d.flags?Hi(t,e).value:void 0}function Ns(t,e,n,r,i,o,a,s,l,u,c,p,h){var d=t.def.nodes[e];return ps(t,d,n,r,i,o,a,s,l,u,c,p,h),224&d.flags?Hi(t,e).value:void 0}function Rs(t){return el(Vs.detectChanges,ls,null,[t])}function Fs(t){return el(Vs.checkNoChanges,ss,null,[t])}function Ys(t){return el(Vs.destroy,ds,null,[t])}var Bs,zs,js,Vs=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Hs(t,e){zs=t,js=e}function Us(t,e,n,r){return Hs(t,e),el(Vs.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Gs(t,e){if(128&t.state)throw Zi(Vs[Bs]);return Hs(t,Ks(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Ws(t,a,r,i):Zs(t,a,r,i),16384&a.flags&&Hs(t,Ks(t,n)),224&a.flags?Hi(t,a.nodeIndex).value:void 0},t)}function qs(t,e){if(128&t.state)throw Zi(Vs[Bs]);return Hs(t,Qs(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Ws(t,a,r,i):Zs(t,a,r,i),3&a.flags&&Hs(t,Qs(t,n)),224&a.flags?Hi(t,a.nodeIndex).value:void 0},t)}function Ws(t,e,n,i){if(us.apply(void 0,Object(r.g)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var l=e.bindings[s],u=o[s];8&l.flags&&(a[(d=l.nonMinifiedName,f=void 0,f=d.replace(/[$@]/g,"_"),"ng-reflect-"+(d=f.replace(Xs,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=Js(u))}var c=e.parent,p=ji(t,c.nodeIndex).renderElement;if(c.element.name)for(var h in a)null!=(u=a[h])?t.renderer.setAttribute(p,h,u):t.renderer.removeAttribute(p,h);else t.renderer.setValue(p,"bindings="+JSON.stringify(a,null,2))}}var d,f}function Zs(t,e,n,i){ps.apply(void 0,Object(r.g)([t,e,n],i))}var Xs=/([A-Z])/g;function Js(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Ks(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Qs(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var $s=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=co(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return ji(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return sa(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){tl(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&tl(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!ho(t);)t=t.parent;return t.parent?ji(t.parent,co(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?po(this.view,this.nodeDef):po(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.g)([t],i)):Xi}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.g)(i)))},t}();function tl(t,e,n){for(var r in e.references)n[r]=Ha(t,e,e.references[r])}function el(t,e,n,r){var i=Bs,o=zs,a=js;try{Bs=t;var s=e.apply(n,r);return zs=o,js=a,Bs=i,s}catch(l){if(gr(l)||!zs)throw l;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Wi(t,e),t}(l,nl())}}function nl(){return zs?new $s(zs,js):null}var rl=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new il(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),il=function(){function t(t){this.delegate=t,this.debugContextFactory=nl,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){fi.delete(t.nativeNode)}(mi(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new di(n,null,r);i.name=t,gi(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&gi(new hi(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&gi(new hi(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=mi(t),r=mi(e);n&&r&&n instanceof di&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=mi(t),i=mi(e),o=mi(n);r&&i&&r instanceof di&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=mi(t),r=mi(e);n&&r&&n instanceof di&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=nl()||null;return r&&gi(new di(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=mi(t);i&&i instanceof di&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=mi(t);r&&r instanceof di&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=mi(t);n&&n instanceof di&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=mi(t);n&&n instanceof di&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=mi(t);i&&i instanceof di&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=mi(t);r&&r instanceof di&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=mi(t);r&&r instanceof di&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=mi(t);r&&r.listeners.push(new pi(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function ol(t,e,n){return new al(t,e,n)}var al=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.c)(e,t),e.prototype.create=function(t){!function(){if(!bs){bs=!0;var t=Fn()?{setCurrentNode:Hs,createRootView:ws,createEmbeddedView:Cs,createComponentView:Ls,createNgModuleRef:Es,overrideProvider:As,overrideComponentView:Ds,clearOverrides:Is,checkAndUpdateView:Rs,checkNoChangesView:Fs,destroyView:Ys,createDebugContext:function(t,e){return new $s(t,e)},handleEvent:Us,updateDirectives:Gs,updateRenderer:qs}:{setCurrentNode:function(){},createRootView:xs,createEmbeddedView:es,createComponentView:rs,createNgModuleRef:ha,overrideProvider:Xi,overrideComponentView:Xi,clearOverrides:Xi,checkAndUpdateView:ls,checkNoChangesView:ss,destroyView:ds,createDebugContext:function(t,e){return new $s(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Os:Ns,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Os:Ns,t)}};Gi.setCurrentNode=t.setCurrentNode,Gi.createRootView=t.createRootView,Gi.createEmbeddedView=t.createEmbeddedView,Gi.createComponentView=t.createComponentView,Gi.createNgModuleRef=t.createNgModuleRef,Gi.overrideProvider=t.overrideProvider,Gi.overrideComponentView=t.overrideComponentView,Gi.clearOverrides=t.clearOverrides,Gi.checkAndUpdateView=t.checkAndUpdateView,Gi.checkNoChangesView=t.checkNoChangesView,Gi.destroyView=t.destroyView,Gi.resolveDep=Pa,Gi.createDebugContext=t.createDebugContext,Gi.handleEvent=t.handleEvent,Gi.updateDirectives=t.updateDirectives,Gi.updateRenderer=t.updateRenderer,Gi.dirtyParentQueries=za}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(bo(this._ngModuleDefFactory));return Gi.createNgModuleRef(this.moduleType,t||W.NULL,this._bootstrapComponents,e)},e}($e)},CjzT:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},CoRJ:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:6,doy:12}})}()},"D/JM":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}()},DHEB:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("67Y/"),i=function(){function t(t){this.http=t}return t.prototype.getTweets=function(t){return this.http.get("/es-twitter/_search?q="+t+"*&sort=number&size=11").pipe(Object(r.a)(function(t){return t.hits.hits}))},t}()},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},"DKr+":function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["thodde secondanim","thodde second"],ss:[t+" secondanim",t+" second"],m:["eka mintan","ek minute"],mm:[t+" mintanim",t+" mintam"],h:["eka horan","ek hor"],hh:[t+" horanim",t+" horam"],d:["eka disan","ek dis"],dd:[t+" disanim",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineanim",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsanim",t+" vorsam"]};return e?i[n][0]:i[n][1]}n("wd/R").defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokalli"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokalli":t<16?"donparam":t<20?"sanje":"rati"}})}()},Dkky:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}()},Dmvi:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},DoHr:function(t,e,n){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};t.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'\u0131nc\u0131";var r=t%10;return t+(e[r]||e[t%100-r]||e[t>=100?100:null])}},week:{dow:1,doy:7}})}(n("wd/R"))},DxQv:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},Dzi0:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}()},"E+lV":function(t,e,n){!function(t){"use strict";var e={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"\u0434\u0430\u043d",dd:e.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:e.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},E4Jq:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("4ATH");var r=function(){function t(t){this.trackEventService=t}return t.prototype.go=function(t){this.trackEventService.trackEvent("Trip planner widget",{action:"Go button",label:t})},t.prototype.options=function(){this.trackEventService.trackEvent("Trip planner widget",{action:"More options"})},t.prototype.myLocation=function(t){this.trackEventService.trackEvent("Trip planner widget",{action:"Trip plan - My location",label:t})},t.prototype.requestPreviousTrip=function(){this.trackEventService.trackEvent("Favourites widget",{action:"Previous trip requests"})},t.prototype.requestFavouriteTrip=function(){this.trackEventService.trackEvent("Favourites widget",{action:"Favourite trip requests"})},t.prototype.setFavourite=function(){this.trackEventService.trackEvent("Favourites widget",{action:"Set favourite"})},t.prototype.removeFavourite=function(){this.trackEventService.trackEvent("Favourites widget",{action:"Remove favourite"})},t.prototype.deleteFavouriteTrip=function(){this.trackEventService.trackEvent("Favourites widget",{action:"Favourite trip deleted"})},t.prototype.deletePreviousTrip=function(){this.trackEventService.trackEvent("Favourites widget",{action:"Previous trip deleted"})},t.prototype.loadMorePreviousTrips=function(){this.trackEventService.trackEvent("Favourites widget",{action:"Load more previous trips"})},t}()},E8FJ:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.srText="Loading",this.spinnerId="tni-spinner-"+t.counter++}return t.counter=0,t}()},EFUZ:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},EOgW:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(t){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===t},meridiem:function(t,e,n){return t<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}()},Ehmk:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i=n("eihs");function o(){try{return r.apply(this,arguments)}catch(t){return i.a.e=t,i.a}}function a(t){return r=t,o}},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},Eslu:function(t,e,n){"use strict";var r=function(t){return t[t.TripPlanner="trip"]="TripPlanner",t[t.Departures="departures"]="Departures",t}({}),i=n("MODd"),o=function(){function t(){this.planType=r.TripPlanner}return t.fromJson=function(e){return e?Object.assign(new t,e,{}):null},t}();n.d(e,"a",function(){return a});var a=function(){function t(){this.PlanTypeEnum=r}return t.prototype.ngOnInit=function(){this.preferences=o.fromJson(i.a.getItem("preferences"))||new o},t.prototype.switchType=function(t){this.preferences.planType=t,i.a.setItem("preferences",this.preferences)},t}()},Ex5S:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("CcnG"),i=n("Ip0R"),o=n("fbJJ"),a=n("N+V4"),s=n("nyDe"),l=n("OxXP"),u=r.gb({encapsulation:0,styles:[".station-accessibility-container[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-left:10px;border:1px solid #ddd}.station-accessibility-container[_ngcontent-%COMP%]   .station-accessibility-heading[_ngcontent-%COMP%]{padding-left:20px}.station-accessibility-container[_ngcontent-%COMP%]   .station-accessibility-column[_ngcontent-%COMP%]{padding-left:0;padding-bottom:15px}.station-accessibility-container[_ngcontent-%COMP%]   .station-accessibility-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.station-accessibility-container[_ngcontent-%COMP%]   .station-accessibility-column[_ngcontent-%COMP%]   .split-into-two[_ngcontent-%COMP%]{columns:2;-webkit-columns:2;-moz-columns:2;column-gap:50px;-webkit-column-gap:50px;-moz-column-gap:50px}.station-accessibility-container[_ngcontent-%COMP%]   .station-accessibility-column-item[_ngcontent-%COMP%]{padding:5px}.station-accessibility-container[_ngcontent-%COMP%]   .station-accessibility-column-item[_ngcontent-%COMP%]:first-child{padding-top:10px}@media (max-width: 767px){.station-accessibility-container[_ngcontent-%COMP%]   .station-accessibility-column[_ngcontent-%COMP%]   .split-into-two[_ngcontent-%COMP%]{columns:1;-webkit-columns:1;-moz-columns:1}}"],data:{}});function c(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"li",[["class","station-accessibility-column-item"]],null,null,null,null,null)),(t()(),r.zb(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.context.$implicit)})}function p(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,11,"div",[["class","station-accessibility-container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,10,"section",[["class","tfnsw-app-public"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,9,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,2,"div",[["class","station-accessibility-heading"]],null,null,null,null,null)),(t()(),r.ib(4,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Accessibility"])),(t()(),r.ib(6,0,null,null,5,"div",[["class","station-accessibility-column"]],null,null,null,null,null)),(t()(),r.ib(7,0,null,null,4,"ul",[],null,null,null,null,null)),r.hb(8,278528,null,0,i.e,[r.o,r.p,r.i,r.y],{ngClass:[0,"ngClass"]},null),r.ub(9,{"split-into-two":0}),(t()(),r.Z(16777216,null,null,1,null,c)),r.hb(11,278528,null,0,i.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component,r=t(e,9,0,n.accessibilityList.length>3);t(e,8,0,r),t(e,11,0,n.accessibilityList)},null)}function h(t){return r.Bb(0,[(t()(),r.Z(16777216,null,null,1,null,p)),r.hb(1,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.accessibilityList.length>0)},null)}function d(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"stop-accessibility",[],null,null,null,h,u)),r.hb(1,114688,null,0,o.a,[a.a,s.a,l.a],null,null)],function(t,e){t(e,1,0)},null)}var f=r.eb("stop-accessibility",o.a,d,{},{},[])},"F/XL":function(t,e,n){"use strict";var r=n("nkY7"),i=n("IUTb"),o=n("G5J1"),a=n("6blF");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,s,l=t[t.length-1];switch(Object(r.a)(l)?t.pop():l=void 0,t.length){case 0:return Object(o.b)(l);case 1:return l?Object(i.a)(t,l):(n=t[0],(s=new a.a(function(t){t.next(n),t.complete()}))._isScalar=!0,s.value=n,s);default:return Object(i.a)(t,l)}}n.d(e,"a",function(){return s})},"F/us":function(t,e,n){(function(t){var n;!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},i=r._,o=Array.prototype,a=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,l=o.push,u=o.slice,c=a.toString,p=a.hasOwnProperty,h=Array.isArray,d=Object.keys,f=Object.create,m=function(){},g=function(t){return t instanceof g?t:this instanceof g?void(this._wrapped=t):new g(t)};void 0===e||e.nodeType?r._=g:(void 0!==t&&!t.nodeType&&t.exports&&(e=t.exports=g),e._=g),g.VERSION="1.9.1";var y,_=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},v=function(t,e,n){return g.iteratee!==y?g.iteratee(t,e):null==t?g.identity:g.isFunction(t)?_(t,e,n):g.isObject(t)&&!g.isArray(t)?g.matcher(t):g.property(t)};g.iteratee=y=function(t,e){return v(t,e,1/0)};var b=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},x=function(t){if(!g.isObject(t))return{};if(f)return f(t);m.prototype=t;var e=new m;return m.prototype=null,e},w=function(t){return function(e){return null==e?void 0:e[t]}},M=function(t,e){return null!=t&&p.call(t,e)},C=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},L=Math.pow(2,53)-1,E=w("length"),k=function(t){var e=E(t);return"number"==typeof e&&e>=0&&e<=L};g.each=g.forEach=function(t,e,n){var r,i;if(e=_(e,n),k(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=g.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},g.map=g.collect=function(t,e,n){e=v(e,n);for(var r=!k(t)&&g.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o};var T=function(t){return function(e,n,r,i){var o=arguments.length>=3;return function(e,n,r,i){var o=!k(e)&&g.keys(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var l=o?o[s]:s;r=n(r,e[l],l,e)}return r}(e,_(n,i,4),r,o)}};g.reduce=g.foldl=g.inject=T(1),g.reduceRight=g.foldr=T(-1),g.find=g.detect=function(t,e,n){var r=(k(t)?g.findIndex:g.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},g.filter=g.select=function(t,e,n){var r=[];return e=v(e,n),g.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},g.reject=function(t,e,n){return g.filter(t,g.negate(v(e)),n)},g.every=g.all=function(t,e,n){e=v(e,n);for(var r=!k(t)&&g.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},g.some=g.any=function(t,e,n){e=v(e,n);for(var r=!k(t)&&g.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},g.contains=g.includes=g.include=function(t,e,n,r){return k(t)||(t=g.values(t)),("number"!=typeof n||r)&&(n=0),g.indexOf(t,e,n)>=0},g.invoke=b(function(t,e,n){var r,i;return g.isFunction(e)?i=e:g.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),g.map(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=C(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),g.pluck=function(t,e){return g.map(t,g.property(e))},g.where=function(t,e){return g.filter(t,g.matcher(e))},g.findWhere=function(t,e){return g.find(t,g.matcher(e))},g.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=k(t)?t:g.values(t)).length;s<l;s++)null!=(r=t[s])&&r>o&&(o=r);else e=v(e,n),g.each(t,function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},g.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=k(t)?t:g.values(t)).length;s<l;s++)null!=(r=t[s])&&r<o&&(o=r);else e=v(e,n),g.each(t,function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},g.shuffle=function(t){return g.sample(t,1/0)},g.sample=function(t,e,n){if(null==e||n)return k(t)||(t=g.values(t)),t[g.random(t.length-1)];var r=k(t)?g.clone(t):g.values(t),i=E(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=g.random(a,o),l=r[a];r[a]=r[s],r[s]=l}return r.slice(0,e)},g.sortBy=function(t,e,n){var r=0;return e=v(e,n),g.pluck(g.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var S=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=v(r,i),g.each(n,function(e,i){var a=r(e,i,n);t(o,e,a)}),o}};g.groupBy=S(function(t,e,n){M(t,n)?t[n].push(e):t[n]=[e]}),g.indexBy=S(function(t,e,n){t[n]=e}),g.countBy=S(function(t,e,n){M(t,n)?t[n]++:t[n]=1});var A=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;g.toArray=function(t){return t?g.isArray(t)?u.call(t):g.isString(t)?t.match(A):k(t)?g.map(t,g.identity):g.values(t):[]},g.size=function(t){return null==t?0:k(t)?t.length:g.keys(t).length},g.partition=S(function(t,e,n){t[n?0:1].push(e)},!0),g.first=g.head=g.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:g.initial(t,t.length-e)},g.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},g.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:g.rest(t,Math.max(0,t.length-e))},g.rest=g.tail=g.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},g.compact=function(t){return g.filter(t,Boolean)};var D=function(t,e,n,r){for(var i=(r=r||[]).length,o=0,a=E(t);o<a;o++){var s=t[o];if(k(s)&&(g.isArray(s)||g.isArguments(s)))if(e)for(var l=0,u=s.length;l<u;)r[i++]=s[l++];else D(s,e,n,r),i=r.length;else n||(r[i++]=s)}return r};g.flatten=function(t,e){return D(t,e,!1)},g.without=b(function(t,e){return g.difference(t,e)}),g.uniq=g.unique=function(t,e,n,r){g.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=v(n,r));for(var i=[],o=[],a=0,s=E(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e&&!n?(a&&o===u||i.push(l),o=u):n?g.contains(o,u)||(o.push(u),i.push(l)):g.contains(i,l)||i.push(l)}return i},g.union=b(function(t){return g.uniq(D(t,!0,!0))}),g.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=E(t);r<i;r++){var o=t[r];if(!g.contains(e,o)){var a;for(a=1;a<n&&g.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},g.difference=b(function(t,e){return e=D(e,!0,!0),g.filter(t,function(t){return!g.contains(e,t)})}),g.unzip=function(t){for(var e=t&&g.max(t,E).length||0,n=Array(e),r=0;r<e;r++)n[r]=g.pluck(t,r);return n},g.zip=b(g.unzip),g.object=function(t,e){for(var n={},r=0,i=E(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var I=function(t){return function(e,n,r){n=v(n,r);for(var i=E(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};g.findIndex=I(1),g.findLastIndex=I(-1),g.sortedIndex=function(t,e,n,r){for(var i=(n=v(n,r,1))(e),o=0,a=E(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o};var P=function(t,e,n){return function(r,i,o){var a=0,s=E(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(u.call(r,a,s),g.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}};g.indexOf=P(1,g.findIndex,g.sortedIndex),g.lastIndexOf=P(-1,g.findLastIndex),g.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},g.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(u.call(t,r,r+=e));return n};var O=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=x(t.prototype),a=t.apply(o,i);return g.isObject(a)?a:o};g.bind=b(function(t,e,n){if(!g.isFunction(t))throw new TypeError("Bind must be called on a function");var r=b(function(i){return O(t,r,e,this,n.concat(i))});return r}),g.partial=b(function(t,e){var n=g.partial.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return O(t,r,this,this,a)};return r}),g.partial.placeholder=g,g.bindAll=b(function(t,e){var n=(e=D(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=g.bind(t[r],t)}}),g.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return M(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},g.delay=b(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),g.defer=g.partial(g.delay,g,1),g.throttle=function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:g.now(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var u=g.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},g.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=b(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,e),s&&(i=t.apply(this,a))}else r=g.delay(o,e,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},g.wrap=function(t,e){return g.partial(e,t)},g.negate=function(t){return function(){return!t.apply(this,arguments)}},g.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},g.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},g.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},g.once=g.partial(g.before,2),g.restArguments=b;var N=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(t,e){var n=R.length,r=t.constructor,i=g.isFunction(r)&&r.prototype||a,o="constructor";for(M(t,o)&&!g.contains(e,o)&&e.push(o);n--;)(o=R[n])in t&&t[o]!==i[o]&&!g.contains(e,o)&&e.push(o)};g.keys=function(t){if(!g.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)M(t,n)&&e.push(n);return N&&F(t,e),e},g.allKeys=function(t){if(!g.isObject(t))return[];var e=[];for(var n in t)e.push(n);return N&&F(t,e),e},g.values=function(t){for(var e=g.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},g.mapObject=function(t,e,n){e=v(e,n);for(var r=g.keys(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},g.pairs=function(t){for(var e=g.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},g.invert=function(t){for(var e={},n=g.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},g.functions=g.methods=function(t){var e=[];for(var n in t)g.isFunction(t[n])&&e.push(n);return e.sort()};var Y=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}};g.extend=Y(g.allKeys),g.extendOwn=g.assign=Y(g.keys),g.findKey=function(t,e,n){e=v(e,n);for(var r,i=g.keys(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r};var B,z,j=function(t,e,n){return e in n};g.pick=b(function(t,e){var n={},r=e[0];if(null==t)return n;g.isFunction(r)?(e.length>1&&(r=_(r,e[1])),e=g.allKeys(t)):(r=j,e=D(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),g.omit=b(function(t,e){var n,r=e[0];return g.isFunction(r)?(r=g.negate(r),e.length>1&&(n=e[1])):(e=g.map(D(e,!1,!1),String),r=function(t,n){return!g.contains(e,n)}),g.pick(t,r,n)}),g.defaults=Y(g.allKeys,!0),g.create=function(t,e){var n=x(t);return e&&g.extendOwn(n,e),n},g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend({},t):t},g.tap=function(t,e){return e(t),t},g.isMatch=function(t,e){var n=g.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0},B=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&z(t,e,n,r)},z=function(t,e,n,r){t instanceof g&&(t=t._wrapped),e instanceof g&&(e=e._wrapped);var i=c.call(t);if(i!==c.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return s.valueOf.call(t)===s.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,l=e.constructor;if(a!==l&&!(g.isFunction(a)&&a instanceof a&&g.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!B(t[u],e[u],n,r))return!1}else{var p,h=g.keys(t);if(u=h.length,g.keys(e).length!==u)return!1;for(;u--;)if(!M(e,p=h[u])||!B(t[p],e[p],n,r))return!1}return n.pop(),r.pop(),!0},g.isEqual=function(t,e){return B(t,e)},g.isEmpty=function(t){return null==t||(k(t)&&(g.isArray(t)||g.isString(t)||g.isArguments(t))?0===t.length:0===g.keys(t).length)},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=h||function(t){return"[object Array]"===c.call(t)},g.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},g.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){g["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),g.isArguments(arguments)||(g.isArguments=function(t){return M(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof(r.document&&r.document.childNodes)&&(g.isFunction=function(t){return"function"==typeof t||!1}),g.isFinite=function(t){return!g.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&isNaN(t)},g.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)},g.isNull=function(t){return null===t},g.isUndefined=function(t){return void 0===t},g.has=function(t,e){if(!g.isArray(e))return M(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!p.call(t,i))return!1;t=t[i]}return!!n},g.noConflict=function(){return r._=i,this},g.identity=function(t){return t},g.constant=function(t){return function(){return t}},g.noop=function(){},g.property=function(t){return g.isArray(t)?function(e){return C(e,t)}:w(t)},g.propertyOf=function(t){return null==t?function(){}:function(e){return g.isArray(e)?C(t,e):t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(t,e,n){var r=Array(Math.max(0,t));e=_(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.now=Date.now||function(){return(new Date).getTime()};var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=g.invert(V),U=function(t){var e=function(e){return t[e]},n="(?:"+g.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return r.test(t=null==t?"":""+t)?t.replace(i,e):t}};g.escape=U(V),g.unescape=U(H),g.result=function(t,e,n){g.isArray(e)||(e=[e]);var r=e.length;if(!r)return g.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=g.isFunction(o)?o.call(t):o}return t};var G=0;g.uniqueId=function(t){var e=++G+"";return t?t+e:e},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Z=/\\|'|\r|\n|\u2028|\u2029/g,X=function(t){return"\\"+W[t]};g.template=function(t,e,n){!e&&n&&(e=n),e=g.defaults({},e,g.templateSettings);var r,i=RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(e,n,r,i,s){return a+=t.slice(o,s).replace(Z,X),o=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(e.variable||"obj","_",a)}catch(l){throw l.source=a,l}var s=function(t){return r.call(this,t,g)};return s.source="function("+(e.variable||"obj")+"){\n"+a+"}",s},g.chain=function(t){var e=g(t);return e._chain=!0,e};var J=function(t,e){return t._chain?g(e).chain():e};g.mixin=function(t){return g.each(g.functions(t),function(e){var n=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),J(this,n.apply(g,t))}}),g},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];g.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],J(this,n)}}),g.each(["concat","join","slice"],function(t){var e=o[t];g.prototype[t]=function(){return J(this,e.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return String(this._wrapped)},void 0===(n=(function(){return g}).apply(e,[]))||(t.exports=n)}()}).call(this,n("YuTi")(t))},F8mC:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("u0Yp"),i=n("NAPj"),o=function(){function t(){}return t.initialize=function(){Object.keys(t.TRANSPORT_MODES).forEach(function(e){t.TRANSPORT_MODES[e]!==t.TRANSPORT_MODES.bus&&(t.ALL_PRODUCT_IDS_EXCEPT_BUSES=t.ALL_PRODUCT_IDS_EXCEPT_BUSES.concat(t.TRANSPORT_MODES[e].productsIds))})},t.findModeIdsByProductId=function(e){var n=[];return Object.keys(t.TRANSPORT_MODES).forEach(function(r){-1!==t.TRANSPORT_MODES[r].productsIds.indexOf(e)&&(n=t.TRANSPORT_MODES[r].modeIds)}),n},t.getColourByProductId=function(e){var n=null;return Object.keys(t.TRANSPORT_MODE_NETWORKS).forEach(function(r){e===t.TRANSPORT_MODE_NETWORKS[r].productId&&(n=t.TRANSPORT_MODE_NETWORKS[r].colour)}),n},t.TRANSPORT_MODES={train:{id:"train",displayName:"Train",modeIds:[1,2,7],productsIds:[1,2,3,7,24],iconId:1,networks:[{name:"Sydney Trains",iconId:1,productId:1,tag:"sydney-trains",hasRoutes:!0},{name:"Intercity Trains",iconId:2,productId:2,tag:"intercity-trains",hasRoutes:!0},{name:"Regional Trains",iconId:3,productId:3,tag:"regional-trains",hasRoutes:!1,routeNumberIconClass:"tp-icon-train-regional-route",defaultMessage:"No alerts, normal service"},{name:"Regional Coaches",iconId:7,productId:7,tag:"regional-coaches",hasRoutes:!1,routeNumberIconClass:"tp-icon-coach-route",defaultMessage:"No alerts, normal service"}],urlPath:"train"},bus:{id:"bus",displayName:"Bus",modeIds:[5,11],productsIds:[4,5,6,15,16,14,9,17,8],iconId:4,networks:[{name:"Buses",iconId:5,productIdList:[4,5,6,15,16,14,9,17,8],tag:"buses",routeNumberIconClass:"tp-icon-bus-route"}],urlPath:"bus"},ferry:{id:"ferry",displayName:"Ferry",modeIds:[9],productsIds:[10,12,11],iconId:10,networks:[{name:"Sydney Ferries",iconId:10,productId:10,tag:"sydney-ferries"},{name:"ferry and fast ferry services",iconId:12,productId:12,tag:"private-ferries"},{name:"Newcastle Ferries",iconId:11,productId:11,tag:"newcastle-ferries"}],urlPath:"ferry"},lightrail:{id:"lightrail",displayName:"Light rail",modeIds:[4],productsIds:[13,21],iconId:13,networks:[{name:"Sydney Light Rail",iconId:13,productId:13,tag:"sydney-light-rail"},{name:"Newcastle Light Rail",iconId:21,productId:21,tag:"newcastle-light-rail"}],urlPath:"light-rail"},drive:{id:"drive",displayName:"Drive",modeIds:[],productsIds:[],regionGroups:{sydney:[{name:"Sydney Inner",tag:"SYD_MET"},{name:"Sydney North",tag:"SYD_NORTH"},{name:"Sydney South",tag:"SYD_SOUTH"},{name:"Sydney West",tag:"SYD_WEST"}],regional:[{name:"NSW North",tag:"REG_NORTH"},{name:"NSW South",tag:"REG_SOUTH"},{name:"NSW West",tag:"REG_WEST"}]},urlPath:"drive"}},t.ALL_PRODUCT_IDS_EXCEPT_BUSES=[],t.DEFAULT_PUBLIC_TRANSPORT_MODES={TRAIN:r.a.fromJson({id:"train",motCode:1,productCode:1,efaKey:"commuter",displayName:"Train",colour:"#F6891F",selected:!0}),BUS:r.a.fromJson({id:"bus",motCode:5,productCode:5,efaKey:"bus",displayName:"Bus",colour:"#00B5EF",selected:!0}),FERRY:r.a.fromJson({id:"ferry",motCode:9,productCode:10,efaKey:"ferry",displayName:"Ferry",colour:"#5AB031",selected:!0}),LIGHT_RAIL:r.a.fromJson({id:"lightrail",motCode:4,productCode:13,efaKey:"tram",displayName:"Light rail",colour:"#EE343F",selected:!0}),COACH:r.a.fromJson({id:"coach",motCode:7,productCode:7,efaKey:"coach",displayName:"Coach",colour:"#732A82",selected:!0}),SCHOOL_BUS:r.a.fromJson({id:"other",motCode:11,productCode:8,efaKey:"other",displayName:"School bus",colour:"#00B5EF",selected:!1})},t.TRANSPORT_MODE_NETWORKS={sydneyTrains:i.a.fromJson({id:"sydneyTrains",displayName:"Sydney Trains",name:"Sydney Trains",productId:1,hasRouteList:!0,modeOfTransport:"train",order:1,colour:"#F6891F"}),intercityTrains:i.a.fromJson({id:"intercityTrains",displayName:"Intercity Trains",name:"Intercity Trains",productId:2,hasRouteList:!0,modeOfTransport:"train",order:2,colour:"#F6891F"}),regionalTrains:i.a.fromJson({id:"regionalTrains",displayName:"Regional Trains",name:"Regional Trains",productId:3,hasRouteList:!0,modeOfTransport:"train",order:3,colour:"#E56E0F",icon:"regional-train"}),temporaryTrains:i.a.fromJson({id:"temporaryTrains",displayName:"Temporary trains",name:"Temporary trains",productId:19,hasRouteList:!1,modeOfTransport:"train",order:4,colour:"#F6891F",icon:"train-temp"}),sydneyBuses:i.a.fromJson({id:"sydneyBuses",displayName:"Sydney Buses",name:"Sydney Buses",productId:4,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),blueMountainBuses:i.a.fromJson({id:"blueMountainBuses",displayName:"Blue Mountains Buses",name:"Blue Mountains Buses",productId:5,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),centralCoastBuses:i.a.fromJson({id:"centralCoastBuses",displayName:"Central Coast Buses",name:"Central Coast Buses",productId:6,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),hunterBuses:i.a.fromJson({id:"hunterBuses",displayName:"Hunter Buses",name:"Hunter Buses",productId:15,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),illawarraBuses:i.a.fromJson({id:"illawarraBuses",displayName:"Illawarra Buses",name:"Illawarra Buses",productId:16,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),temporaryBuses:i.a.fromJson({id:"temporaryBuses",displayName:"Temporary buses",name:"Temporary buses",productId:14,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF",icon:"bus-temp"}),privateBus:i.a.fromJson({id:"privateBus",displayName:"bus",name:"bus",productId:9,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF",icon:"bus-private"}),privateCoach:i.a.fromJson({id:"privateCoach",displayName:"coach",name:"coach",productId:17,hasRouteList:!1,modeOfTransport:"bus",colour:"#732A82",icon:"coach-private"}),onDemand:i.a.fromJson({id:"onDemand",displayName:"On demand",name:"On demand",productId:23,hasRouteList:!1,colour:"#000000",icon:"on-demand"}),regionalCoaches:i.a.fromJson({id:"regionalCoaches",displayName:"NSW TrainLink",name:"Regional Coaches",productId:7,hasRouteList:!0,modeOfTransport:"coach",colour:"#732A82"}),temporaryCoaches:i.a.fromJson({id:"temporaryCoaches",displayName:"Temporary coaches",name:"Temporary coaches",productId:22,hasRouteList:!1,modeOfTransport:"coach",colour:"#732A82",icon:"coach-temp"}),sydneyFerries:i.a.fromJson({id:"sydneyFerries",displayName:"Sydney Ferries",name:"Sydney Ferries",productId:10,hasRouteList:!0,modeOfTransport:"ferry",order:1,colour:"#5AB031"}),privateFerries:i.a.fromJson({id:"privateFerries",displayName:"ferry and fast ferry services",name:"ferry and fast ferry services",productId:12,hasRouteList:!0,modeOfTransport:"ferry",order:2,colour:"#5AB031",icon:"ferry-private"}),newcastleFerries:i.a.fromJson({id:"newcastleFerries",displayName:"Newcastle Ferries",name:"Newcastle Ferries",productId:11,hasRouteList:!0,modeOfTransport:"ferry",order:3,colour:"#5AB031"}),temporaryFerries:i.a.fromJson({id:"temporaryFerries",displayName:"Temporary Ferries",name:"Temporary Ferries",productId:18,hasRouteList:!1,modeOfTransport:"ferry",order:4,colour:"#5AB031",icon:"ferry-temp"}),sydneyLightRail:i.a.fromJson({id:"sydneyLightRail",displayName:"Sydney Light Rail",name:"Sydney Light Rail",productId:13,hasRouteList:!0,modeOfTransport:"lightrail",colour:"#EE343F"}),newcastleLightRail:i.a.fromJson({id:"newcastleLightRail",displayName:"Newcastle Light Rail",name:"Newcastle Light Rail",productId:21,hasRouteList:!0,modeOfTransport:"lightrail",colour:"#EE343F"}),temporaryLightRail:i.a.fromJson({id:"temporaryLightRail",displayName:"Temporary light rail",name:"Temporary light rail",productId:20,hasRouteList:!1,modeOfTransport:"lightrail",colour:"#EE343F",icon:"lightrail-temp"}),schoolBuses:i.a.fromJson({id:"schoolBuses",displayName:"School buses",name:"School buses",productId:8,motType:11,hasRouteList:!1,modeOfTransport:"other",colour:"#00B5EF",icon:"bus-school"})},t.LIVE_TRAFFIC_MESSAGE_TYPES={alpine:{label:"Alpine conditions",icon:"live-traffic-alpine",endpointURL:"/tfnsw-live-traffic/alpine.json",filterOrder:4,layerName:"Alpine-Open"},fire:{label:"Fire",icon:"live-traffic-fire",endpointURL:"/tfnsw-live-traffic/fire.json",filterOrder:2,layerName:"Fire-Open"},flood:{label:"Flood",icon:"live-traffic-flood",endpointURL:"/tfnsw-live-traffic/flood.json",filterOrder:3,layerName:"Flood-Open"},incident:{label:"Incidents",icon:"alert",endpointURL:"/tfnsw-live-traffic/incident.json",filterOrder:1,layerName:"Incident-Open"},roadwork:{label:"Roadworks",icon:"live-traffic-roadwork",endpointURL:"/tfnsw-live-traffic/roadwork.json",filterOrder:6,layerName:"RoadWork-Open"},majorEvent:{label:"Major events",icon:"live-traffic-major-event",endpointURL:"/tfnsw-live-traffic/majorevent.json",filterOrder:5,layerName:"MajorEvent-Open"}},t.MAPBOX_CONSTANTS={accessToken:"pk.eyJ1IjoidGZuc3dpbmZvIiwiYSI6ImNpenAwdmFkYTAwNnIyd3NhcDBlamp2dDUifQ.Y1U_L2_UL3GYoX-KGSbrTw",greyscaleStyleUrl:"mapbox://styles/tfnswinfo/cjn3p188102nm2sp57xa49qy9",stopFacilitiesGreyscaleStyleUrl:"mapbox://styles/tfnswinfo/cj0a67fkf003e2rlfo1brgvvx",coloredStyleUrl:"mapbox://styles/tfnswinfo/cizqg7ai5004x2ro1rmufe16p",customAttributionControl:'<a href="/about-us/map-copyright" target="_blank">&copy; Map copyright</a>',maxZoom:17,placesMinZoom:15,sydneyBounds:[[150.520928608,-34.118344992],[151.343020992,-33.578140996]],nswBounds:[[140,-37.6],[154.5,-28.1]],worldBounds:[[-180,-90],[180,90]],sydneyCenter:[151.20821,-33.870801],dobroydPointCenter:[151.143617,-33.871257],nswCenter:[147.031917,-32.162833],nswZoom:5,defaultZoom:11,stationFacilityZoom:16,stationFacilityMaxZoom:18},t}();o.initialize()},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),s=n("L/V9"),l=n("iLxQ"),u=n("DKTb"),c=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new p(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new p(a,n,r,i)}return a}return r.c(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.a),p=function(t){function e(e,n,r,a){var s,l=t.call(this)||this;l._parentSubscriber=e;var u=l;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&l.add(u.unsubscribe.bind(u)),u.unsubscribe=l.unsubscribe.bind(l))),l._context=u,l._next=s,l._error=r,l._complete=a,l}return r.c(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;l.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=l.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};l.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),l.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!l.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return l.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),a=n("u67D"),s=n("JcRv"),l=n("2ePl"),u=n("/WYv"),c=n("McSo"),p=n("En8+"),h=n("xTla"),d=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[h.a])return Object(s.a)(t);if(Object(l.a)(t))return Object(i.a)(t);if(Object(u.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[p.a])return Object(a.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},Fz3W:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},G0Uy:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}()},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("6blF"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},GSWm:function(t,e){},GUKT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},Gi3i:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("mrSG"),i=n("FFOo"),o=n("T1DM");function a(t,e){return void 0===e&&(e=o.a),function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.dueTime,this.scheduler))},t}(),l=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.c(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.a);function u(t){t.debouncedNext()}},GooZ:function(t,e,n){"use strict";var r=n("67Y/"),i=function(){function t(){}return t.fromResponse=function(e){var n=new t,r=e.id.split(":");return n.id=r[2].trim().length>0?r[1]+":"+r[2].trim():r[1],n.name=e.name,n.number=e.number,n.description=e.description,n},t}(),o=n("wd/R"),a=n("hm1T"),s=function(){function t(t){switch(this.value=t,t){case"veryLow":this.order=5;break;case"low":this.order=4;break;case"normal":this.order=3;break;case"high":this.order=2;break;case"veryHigh":this.order=1;break;default:this.order=-1}}return t.prototype.compareTo=function(t){return this.order-t.order},t}(),l=n("34mC"),u=function(){function t(){this.affectedLines=[],this.validity=[]}return t.fromResponse=function(e){var n=this,r=new t;return r.type=e.type,r.id=e.id,r.urlText=e.urlText,r.subtitle=e.subtitle,r.affectedLines=e.affected.lines.map(function(t){return i.fromResponse(t)}),r.priority=new s(e.priority),e.timestamps.validity.forEach(function(t){n.isPastDates(o(t.from),o(t.to))||r.validity.push(new a.a(o(t.from),o(t.to)))}),r.announcementType=e.properties.announcementType,r.publishToAreas=e.properties.publishToAreas,r.creation=o(e.timestamps.creation),r.lastModification=o(e.timestamps.lastModification),r.availability=new a.a(o(e.timestamps.availability.from),o(e.timestamps.availability.to)),r},t.isPastDates=function(t,e){var n=o();return t.isBefore(n,"day")&&!e.isSameOrAfter(n,"day")},t.prototype.isRouteIdAffected=function(t){return!!this.affectedLines.find(function(e){return-1!==t.indexOf(e.id)})},t.prototype.isTrackwork=function(){return"trackwork"===this.announcementType},t.prototype.isServiceAlert=function(){return"serviceChange"===this.announcementType},t.prototype.isLiftOrEscalator=function(){return"liftsEscalators"===this.announcementType},t.prototype.isOfType=function(t){return t&&t.length>0&&t.indexOf(this.announcementType)>=0},t.prototype.compareTo=function(t){return 0!==this.priority.compareTo(t.priority)?this.priority.compareTo(t.priority):this.isOngoingAndNotTrackwork()&&!t.isOngoingAndNotTrackwork()?-1:!this.isOngoingAndNotTrackwork()&&t.isOngoingAndNotTrackwork()?1:this.isOngoingAndNotTrackwork()&&t.isOngoingAndNotTrackwork()?t.lastModification.diff(this.lastModification):this.validity[0].from.diff(t.validity[0].from)},t.prototype.isOngoingAndNotTrackwork=function(){return!this.isTrackwork()&&this.validity.some(function(t){return(new l.a).transform(t).toLowerCase().indexOf("ongoing")>-1})},t}(),c=n("t/Na");n.d(e,"a",function(){return p});var p=function(){function t(t){this.http=t}return t.prototype.get=function(t){return this.http.get("/api/trip/v1/add-info-request",{params:this.createParams(t)}).pipe(Object(r.a)(function(t){return 0!==t.infos.length&&t.infos.current?t.infos.current.map(function(t){return u.fromResponse(t)}):[]}))},t.prototype.createParams=function(t){var e=new c.h;return e=(e=(e=(e=(e=(e=e.set("AIXMLReduction","removeSourceSystem")).set("TfNSWAI","true")).set("filterPublicationStatus","current")).set("filterShowLineList","0")).set("filterShowPlaceList","0")).set("filterShowStopList","0"),t&&t.forEach(function(t){return e=e.append("filterMOTType",t.toString())}),e=(e=(e=(e=(e=e.set("filterValidIntervalStart",o().format("DD_MM_YYYY_HH_mm"))).set("filterValidIntervalEnd",o().endOf("day").format("DD_MM_YYYY_HH_mm"))).set("language","en")).set("outputFormat","rapidJSON")).set("version","10.2.2.48")},t}()},H0RV:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=function(){function t(t,e){this.el=t,this.renderer=e}return t.prototype.ngAfterViewInit=function(){"0"!==this.value&&this.renderer.invokeElementMethod(this.el.nativeElement,"focus",[])},t.ctorParameters=[{type:r.i},{type:r.x}],t}()},H8ED:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===n?e?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":t+" "+(r=+t,i={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:e?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}n("wd/R").defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:e,mm:e,h:e,hh:e,d:"\u0434\u0437\u0435\u043d\u044c",dd:e,M:"\u043c\u0435\u0441\u044f\u0446",MM:e,y:"\u0433\u043e\u0434",yy:e},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u044b":t<12?"\u0440\u0430\u043d\u0456\u0446\u044b":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-\u044b":t+"-\u0456";case"D":return t+"-\u0433\u0430";default:return t}},week:{dow:1,doy:7}})}()},HGyu:function(t,e){},HP3h:function(t,e,n){!function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},i=function(t){return function(e,i,o,a){var s=n(e),l=r[t][n(e)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,e)}},o=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];t.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n("wd/R"))},HPWP:function(t,e,n){"use strict";var r=function(t){return t[t.stop="stop"]="stop",t[t.line="line"]="line",t[t.region="region"]="region",t}({});n.d(e,"a",function(){return r})},HrGG:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.getStopRoutes=function(t,e){return t&&t.find(function(t){return t.stop_id===e.properties.STOPPOINT_GLOBAL_ID})||{routes:[]}},t.prototype.getMode=function(t,e){var n=this.getStopRoutes(t,e);if(n.routes){var r=n.routes.map(function(t){return t.route_mode_code});return r.indexOf("5")>-1?5:parseInt(r[0],10)}},t.prototype.getModeName=function(t,e){switch(this.getMode(t,e)){case 1:return"train";case 2:return"metro";case 5:return"bus";case 7:return"coach";case 9:return"ferry";case 4:return"lightrail";case 11:return"bus-school";default:return"default"}},t.prototype.getSuburbName=function(t){return t.name.split(t.parent.disassembledName).join("").replace(/,\s*$/,"")},t.prototype.getDeparturesLink=function(t){return"/trip#/departures?depart="+t.properties.STOPPOINT_GLOBAL_ID+"&type="+t.type},t}()},IBtZ:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ka",{months:{standalone:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),format:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_")},monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(t)?t.replace(/\u10d8$/,"\u10e8\u10d8"):t+"\u10e8\u10d8"},past:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(t)?t.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(t)?t.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):void 0},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(t){return 0===t?t:1===t?t+"-\u10da\u10d8":t<20||t<=100&&t%20==0||t%100==0?"\u10db\u10d4-"+t:t+"-\u10d4"},week:{dow:1,doy:7}})}()},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(t))}},Ifgn:function(t,e,n){"use strict";var r=n("VNr4"),i=(n("3ZaB"),n("wd/R")),o=n("Ao8H"),a=function(t){return t[t.ONE_WAY=0]="ONE_WAY",t[t.RETURN=1]="RETURN",t}({}),s=function(){function t(){this.journeyType=a.ONE_WAY,this.passengerTypes=new o.a}return t.prototype.isValid=function(){return this.fromStop&&this.toStop&&null!=this.journeyType&&this.isBookingDatesValid()&&this.passengerTypes&&this.passengerTypes.isValidCount()},t.prototype.isFromValid=function(){return!!this.fromStop},t.prototype.isToValid=function(){return!!this.toStop},t.prototype.isPassengerTypesValid=function(){return this.passengerTypes.isValidCount()},t.prototype.isDepartingDateValid=function(){return i.isMoment(this.departingDate)},t.prototype.isReturningDateValid=function(){return this.journeyType!==a.RETURN||i.isMoment(this.returningDate)},t.prototype.isBookingDatesValid=function(){if(this.isDepartingDateValid()&&this.isReturningDateValid())return this.journeyType!==a.RETURN||this.returningDate.isSameOrAfter(this.departingDate)},t}(),l=(n("sInC"),n("lepT")),u=function(){function t(){}return t.getItem=function(t){var e=sessionStorage.getItem(t);return e?JSON.parse(e):(sessionStorage.setItem(t,"{}"),JSON.parse(sessionStorage.getItem(t)))},t.setItem=function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},t.removeItem=function(t){sessionStorage.removeItem(t)},t.clearAll=function(){sessionStorage.clear()},t}(),c=(n("Uecl"),n("kLtR"),n("/y3m"),n("+o+X"));n.d(e,"a",function(){return h});var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=function(){function t(t,e,n,r,o,l){this.windowRef=t,this.elementRef=e,this.cdRef=n,this.trackEventTrainlinkBookingService=r,this.mediaService=o,this.stopDataService=l,this.usePortraitView=!0,this.expandPassengerCount=!this.usePortraitView,this.dateStatus={departureDate:!0,returningDate:!0},this.JourneyType=a,this.monthLimit=6,this.model=new s,this.determineUILayout();var u=i(),c=i(u).add(this.monthLimit,"months");this.datePickerOptions={dateFormat:"dd mmm yyyy",showTodayBtn:!1,disableUntil:{year:u.year(),month:u.month()+1,day:u.date()-1},disableSince:{year:c.year(),month:c.month()+1,day:c.date()},yearSelector:!1,monthSelector:!1,openSelectorOnInputClick:!0,editableDateField:!1,showClearDateBtn:!1,ariaLabelOpenCalendar:"Open calendar by using Enter key. Select a departure date from the calendar by using\n                              tab key to navigate consecutive days. You can only select a date for up to six months\n                              from today. Text field is disabled."},this.returningDatePickerOptions=p({},this.datePickerOptions),this.returningDatePickerOptions.ariaLabelOpenCalendar="Open calendar by using Enter key. Select a returning date\n                                                             from the calendar by using tab key to navigate consecutive\n                                                             days. You can only select a date for up to six months from\n                                                             today. Text field is disabled."}return t.prototype.ngOnInit=function(){this.stopDataService.loadStops(),this.stopDataService.validateStopsInLocalStorage(),this.loadSessionStorage(),this.stopDataService.recentStops=this.stopDataService.getRecentStops()},t.prototype.ngAfterViewInit=function(){this.cdRef.detectChanges()},t.prototype.loadSessionStorage=function(){var t=this,e=u.getItem("regional-booking");if(e){if(Object(r.a)(this.stopDataService.validateStop(e.From),this.stopDataService.validateStop(e.To)).subscribe(function(n){n[0]&&n[1]?(t.model.fromStop=e.From,t.model.toStop=e.To):(e.From=null,e.To=null,t.sessionChanged(e))}),e.passengerType){var n=new o.a;n.types={adults:e.passengerType.types.adults},this.model.passengerTypes=n}e.ddate&&(this.model.departingDate=i(e.ddate)),e.rdate&&(this.model.returningDate=i(e.rdate)),e.journeyType&&(this.model.journeyType=e.journeyType)}},t.prototype.determineUILayout=function(){var t=this.elementRef.nativeElement.getAttribute("orientation");this.usePortraitView=!(t&&"landscape"===t.toLowerCase()),this.expandPassengerCount=this.usePortraitView&&!this.mediaService.isMobileView()},t.prototype.sessionChanged=function(t){var e=u.getItem("regional-booking");u.setItem("regional-booking",Object.assign(e,t))},t.prototype.onStopChanged=function(t,e){var n={};n[e]=t,this.sessionChanged(n)},t.prototype.onPassengerChanged=function(t){this.sessionChanged(t)},t.prototype.onJourneyTypeChanged=function(t){this.sessionChanged({journeyType:t})},t.prototype.saveStopToLocalStorage=function(t){for(var e=0;e<this.stopDataService.recentStops.length;e++)if(this.stopDataService.recentStops[e].code===t.code){this.stopDataService.recentStops.splice(e,1);break}t.lastUsed=new Date,this.stopDataService.recentStops.push(t),this.stopDataService.setRecentStops(this.stopDataService.recentStops)},t.prototype.submitBooking=function(){if(this.bookingForm.onSubmit(null),!this.model.isValid())return this.focusOnFirstInvalidField(),this.model.isPassengerTypesValid()||(this.expandPassengerCount=!0),!1;this.saveStopToLocalStorage(this.model.fromStop),this.saveStopToLocalStorage(this.model.toStop),c.a.setItem("sourceSearch","Booking Widget"),this.trackEventTrainlinkBookingService.search(),this.windowRef.redirectToUrl(this.bookingUrl())},t.prototype.focusOnFirstInvalidField=function(){this.model.isFromValid()?this.model.isToValid()?this.model.isPassengerTypesValid()?this.model.isDepartingDateValid()?this.model.isReturningDateValid()?this.model.isBookingDatesValid()||this.focusAndScrollTo("tniDepartingDate"):this.focusAndScrollTo("tniReturningDate"):this.focusAndScrollTo("tniDepartingDate"):(this.focusAndScrollTo("tniPassengerCount"),this.expandPassengerCount=!0):this.focusAndScrollTo("tniToStop"):this.focusAndScrollTo("tniFromStop")},t.prototype.focusAndScrollTo=function(t){l.a.focusInputElement(t),this.usePortraitView&&(document.getElementById(t).scrollIntoView(!0),window.scrollBy(0,-70))},t.prototype.bookingUrl=function(){var t="/regional-bookings/select-trip?from="+this.model.fromStop.code+"&to="+this.model.toStop.code+"&dateTime="+this.model.departingDate.year()+"-"+this.model.departingDate.format("MM")+"-"+this.model.departingDate.format("DD")+"T00:00:00";return this.model.journeyType===a.RETURN&&(t+="&returnDateTime="+this.model.returningDate.year()+"-"+this.model.returningDate.format("MM")+"-"+this.model.returningDate.format("DD")+"T00:00:00"),t+this.getAdultPassengerParams()},t.prototype.getAdultPassengerParams=function(){for(var t=this.model.passengerTypes.types.adults.count,e="",n=0;n<t;n++)e+="&P_"+n+"_PT=A";return e},t.prototype.passengerParams=function(){var t=this,e="";return this.model.passengerTypes.getTypes().forEach(function(n){e=e+"&"+t.model.passengerTypes.urlParamForType(n)+"="+t.model.passengerTypes.countForType(n)}),e},t.prototype.onDepartingDateChanged=function(t){this.sessionChanged({ddate:t.date?t.date.toString():null}),this.dateStatus.departureDate=t.valid,this.model.departingDate=t.date},t.prototype.onReturnDateChanged=function(t){this.sessionChanged({rdate:t.date?t.date.toString():null}),this.dateStatus.returningDate=t.valid,this.model.returningDate=t.date},t.prototype.isReturningDateBeforeDepartingDate=function(){return null!=this.model.departingDate&&null!=this.model.returningDate&&this.model.returningDate.isBefore(this.model.departingDate)},t.prototype.getResponsiveCssClass=function(){return this.usePortraitView?"col-xs-12 no-gutters":"col-xs-12 col-sm-6"},t.prototype.trackEventSelectMorePassengersType=function(){c.a.setItem("sourceSearch","Booking Widget")},t}()},Ip0R:function(t,e,n){"use strict";n.d(e,"p",function(){return z}),n.d(e,"h",function(){return V}),n.d(e,"i",function(){return j}),n.d(e,"q",function(){return H}),n.d(e,"b",function(){return nt}),n.d(e,"e",function(){return U}),n.d(e,"f",function(){return q}),n.d(e,"g",function(){return Z}),n.d(e,"j",function(){return K}),n.d(e,"k",function(){return Q}),n.d(e,"c",function(){return rt}),n.d(e,"d",function(){return tt}),n.d(e,"m",function(){return et}),n.d(e,"o",function(){return it}),n.d(e,"n",function(){return at}),n.d(e,"l",function(){return o}),n.d(e,"a",function(){return a});var r=n("CcnG"),i=n("mrSG"),o=function(){return function(){}}(),a=new r.m("appBaseHref"),s=void 0,l=["en",[["a","p"],["AM","PM"],s],[["AM","PM"],s,s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",s,"{1} 'at' {0}",s],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],u={},c=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),p=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),h=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),d=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),f=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function m(t,e){return b(w(t)[10],e)}function g(t,e){return b(w(t)[11],e)}function y(t,e){return b(w(t)[12],e)}function _(t,e){var n=w(t),r=n[13][e];if(void 0===r){if(e===f.CurrencyDecimal)return n[13][f.Decimal];if(e===f.CurrencyGroup)return n[13][f.Group]}return r}function v(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function b(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function x(t){var e=Object(i.f)(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function w(t){var e=t.toLowerCase().replace(/_/g,"-"),n=u[e];if(n)return n;var r=e.split("-")[0];if(n=u[r])return n;if("en"===r)return l;throw new Error('Missing locale data for the locale "'+t+'".')}var M=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,C={},L=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,E=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),k=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),T=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function S(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function A(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function D(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s,l=function(t,e){switch(t){case k.FullYear:return e.getFullYear();case k.Month:return e.getMonth();case k.Date:return e.getDate();case k.Hours:return e.getHours();case k.Minutes:return e.getMinutes();case k.Seconds:return e.getSeconds();case k.FractionalSeconds:return e.getMilliseconds();case k.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||l>-n)&&(l+=n),t===k.Hours)0===l&&-12===n&&(l=12);else if(t===k.FractionalSeconds)return s=e,A(l,3).substr(0,s);var u=_(a,f.MinusSign);return A(l,e,u,r,i)}}function I(t,e,n,r){return void 0===n&&(n=p.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case T.Months:return function(t,e,n){var r=w(t),i=b([r[5],r[6]],e);return b(i,n)}(e,i,r)[t.getMonth()];case T.Days:return function(t,e,n){var r=w(t),i=b([r[3],r[4]],e);return b(i,n)}(e,i,r)[t.getDay()];case T.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var l,u=function(t){var e=w(t);return v(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?x(t):[x(t[0]),x(t[1])]})}(e),c=function(t,e,n){var r=w(t);v(r);var i=b([r[19][0],r[19][1]],e)||[];return b(i,n)||[]}(e,i,r);if(u.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;a>=n.hours&&s>=n.minutes&&(a<i||a===i&&s<r.minutes)&&(l=c[e])}else t.hours===a&&t.minutes===s&&(l=c[e])}),l)return l}return function(t,e,n){var r=w(t),i=b([r[1],r[2]],e);return b(i,n)}(e,i,r)[a<12?0:1];case T.Eras:return function(t,e){return b(w(t)[7],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function P(t){return function(e,n,r){var i=-1*r,o=_(n,f.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case E.Short:return(i>=0?"+":"")+A(a,2,o)+A(Math.abs(i%60),2,o);case E.ShortGMT:return"GMT"+(i>=0?"+":"")+A(a,1,o);case E.Long:return"GMT"+(i>=0?"+":"")+A(a,2,o)+":"+A(Math.abs(i%60),2,o);case E.Extended:return 0===r?"Z":(i>=0?"+":"")+A(a,2,o)+":"+A(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}var O=0,N=4;function R(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,a,s;if(e){var l=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();i=1+Math.floor((u+l)/7)}else{var c=(a=n.getFullYear(),s=new Date(a,O,1).getDay(),new Date(a,0,1+(s<=N?N:N+7)-s)),p=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(N-o.getDay()))).getTime()-c.getTime();i=1+Math.round(p/6048e5)}return A(i,t,_(r,f.MinusSign))}}var F={};function Y(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function B(t){return t instanceof Date&&!isNaN(t.valueOf())}var z=new r.m("UseV4Plurals"),j=function(){return function(){}}(),V=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.c)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return w(t)[18]}(e||this.locale)(t)){case c.Zero:return"zero";case c.One:return"one";case c.Two:return"two";case c.Few:return"few";case c.Many:return"many";default:return"other"}},e}(j);function H(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(i.h)(t.split(";")),a=o.next();!a.done;a=o.next()){var s=a.value,l=s.indexOf("="),u=Object(i.f)(-1==l?[s,""]:[s.slice(0,l),s.slice(l+1)],2),c=u[1];if(u[0].trim()===e)return decodeURIComponent(c)}}catch(p){n={error:p}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var U=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.lb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.yb)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),G=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),q=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.P)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new G(null,e._ngForOf,-1,-1),i),a=new W(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new W(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),W=function(){return function(t,e){this.record=t,this.view=e}}(),Z=function(){function t(t,e){this._viewContainer=t,this._context=new X,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){J("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){J("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),X=function(){return function(){this.$implicit=null,this.ngIf=null}}();function J(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r.yb)(e)+"'.")}var K=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=Object(i.f)(t.split("."),2),r=n[0],o=n[1];null!=(e=null!=e&&o?""+e+o:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),Q=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),o=Object.keys(t.currentValue||{});if(r.length===o.length){try{for(var a=Object(i.h)(o),s=a.next();!s.done;s=a.next())if(-1===r.indexOf(s.value))return!0}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=Object(i.h)(Object.keys(t)),o=r.next();!o.done;o=r.next()){var a=o.value;this._viewRef.context[a]=this.ngTemplateOutletContext[a]}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}();function $(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(r.yb)(t)+"'")}var tt=function(){function t(t){this.locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,o){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;try{return function(t,e,n,r){var o=function(t){if(B(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=Object(i.f)(t.split("-").map(function(t){return+t}),3);return new Date(r[0],r[1]-1,r[2])}if(e=t.match(M))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,l,u),e}(e)}var o=new Date(t);if(!B(o))throw new Error('Unable to convert "'+t+'" into a date');return o}(t);e=function t(e,n){var r=function(t){return w(t)[0]}(e);if(C[r]=C[r]||{},C[r][n])return C[r][n];var i="";switch(n){case"shortDate":i=m(e,d.Short);break;case"mediumDate":i=m(e,d.Medium);break;case"longDate":i=m(e,d.Long);break;case"fullDate":i=m(e,d.Full);break;case"shortTime":i=g(e,d.Short);break;case"mediumTime":i=g(e,d.Medium);break;case"longTime":i=g(e,d.Long);break;case"fullTime":i=g(e,d.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=S(y(e,d.Short),[o,a]);break;case"medium":var s=t(e,"mediumTime"),l=t(e,"mediumDate");i=S(y(e,d.Medium),[s,l]);break;case"long":var u=t(e,"longTime"),c=t(e,"longDate");i=S(y(e,d.Long),[u,c]);break;case"full":var p=t(e,"fullTime"),h=t(e,"fullDate");i=S(y(e,d.Full),[p,h])}return i&&(C[r][n]=i),i}(n,e)||e;for(var a,s=[];e;){if(!(a=L.exec(e))){s.push(e);break}var l=(s=s.concat(a.slice(1))).pop();if(!l)break;e=l}var u=o.getTimezoneOffset();r&&(u=Y(r,u),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Y(e,r)-r))}(o,r));var c="";return s.forEach(function(t){var e=function(t){if(F[t])return F[t];var e;switch(t){case"G":case"GG":case"GGG":e=I(T.Eras,h.Abbreviated);break;case"GGGG":e=I(T.Eras,h.Wide);break;case"GGGGG":e=I(T.Eras,h.Narrow);break;case"y":e=D(k.FullYear,1,0,!1,!0);break;case"yy":e=D(k.FullYear,2,0,!0,!0);break;case"yyy":e=D(k.FullYear,3,0,!1,!0);break;case"yyyy":e=D(k.FullYear,4,0,!1,!0);break;case"M":case"L":e=D(k.Month,1,1);break;case"MM":case"LL":e=D(k.Month,2,1);break;case"MMM":e=I(T.Months,h.Abbreviated);break;case"MMMM":e=I(T.Months,h.Wide);break;case"MMMMM":e=I(T.Months,h.Narrow);break;case"LLL":e=I(T.Months,h.Abbreviated,p.Standalone);break;case"LLLL":e=I(T.Months,h.Wide,p.Standalone);break;case"LLLLL":e=I(T.Months,h.Narrow,p.Standalone);break;case"w":e=R(1);break;case"ww":e=R(2);break;case"W":e=R(1,!0);break;case"d":e=D(k.Date,1);break;case"dd":e=D(k.Date,2);break;case"E":case"EE":case"EEE":e=I(T.Days,h.Abbreviated);break;case"EEEE":e=I(T.Days,h.Wide);break;case"EEEEE":e=I(T.Days,h.Narrow);break;case"EEEEEE":e=I(T.Days,h.Short);break;case"a":case"aa":case"aaa":e=I(T.DayPeriods,h.Abbreviated);break;case"aaaa":e=I(T.DayPeriods,h.Wide);break;case"aaaaa":e=I(T.DayPeriods,h.Narrow);break;case"b":case"bb":case"bbb":e=I(T.DayPeriods,h.Abbreviated,p.Standalone,!0);break;case"bbbb":e=I(T.DayPeriods,h.Wide,p.Standalone,!0);break;case"bbbbb":e=I(T.DayPeriods,h.Narrow,p.Standalone,!0);break;case"B":case"BB":case"BBB":e=I(T.DayPeriods,h.Abbreviated,p.Format,!0);break;case"BBBB":e=I(T.DayPeriods,h.Wide,p.Format,!0);break;case"BBBBB":e=I(T.DayPeriods,h.Narrow,p.Format,!0);break;case"h":e=D(k.Hours,1,-12);break;case"hh":e=D(k.Hours,2,-12);break;case"H":e=D(k.Hours,1);break;case"HH":e=D(k.Hours,2);break;case"m":e=D(k.Minutes,1);break;case"mm":e=D(k.Minutes,2);break;case"s":e=D(k.Seconds,1);break;case"ss":e=D(k.Seconds,2);break;case"S":e=D(k.FractionalSeconds,1);break;case"SS":e=D(k.FractionalSeconds,2);break;case"SSS":e=D(k.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=P(E.Short);break;case"ZZZZZ":e=P(E.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=P(E.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=P(E.Long);break;default:return null}return F[t]=e,e}(t);c+=e?e(o,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(t,n,o||this.locale,r)}catch(a){throw $(e,a.message)}},t}(),et=function(){function t(){}var e;return e=t,t.prototype.transform=function(t,n,r){if(null==t)return t;if(!this.supports(t))throw $(e,t);return t.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}(),nt=function(){return function(){}}(),rt=new r.m("DocumentToken"),it="browser",ot="server";function at(t){return t===ot}},IuMT:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("XmvR"),i=n("F/XL"),o=function(){function t(){this.defaultTransportModes=[{id:"metro",icon:"metro",name:"Metro",showTabs:!1,showModes:!0,showAutoSuggest:!1,type:"Metro",bounds:{ne:[151.185874,-33.671295],sw:[150.903802,-33.818051]},trackEvent:r.e.MetroStations,alwaysVisibleLayers:[]}]}return t.prototype.getTransportModes=function(){return Object(i.a)(this.defaultTransportModes)},t}()},"Ivi+":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\uc77c";case"M":return t+"\uc6d4";case"w":case"W":return t+"\uc8fc";default:return t}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(t){return"\uc624\ud6c4"===t},meridiem:function(t,e,n){return t<12?"\uc624\uc804":"\uc624\ud6c4"}})}()},J5xx:function(t,e,n){"use strict";var r=n("67Y/"),i=n("wd/R"),o=n("hm1T"),a=n("F8mC"),s=function(){function t(){}return t.fromJson=function(e,n){var r=new t,s=Object.keys(a.a.LIVE_TRAFFIC_MESSAGE_TYPES).filter(function(t){return n===a.a.LIVE_TRAFFIC_MESSAGE_TYPES[t].layerName}),l=e.properties.start&&e.properties.created&&Math.max(e.properties.start,e.properties.created)||e.properties.start||e.properties.created,u=e.properties.created&&e.properties.lastUpdated&&Math.max(e.properties.created,e.properties.lastUpdated)||e.properties.created||e.properties.lastUpdated;return Object.assign(r,{id:e.id,title:e.properties.headline,lastModification:e.properties.lastUpdated&&i(e.properties.lastUpdated),incidentKind:e.properties.incidentKind,regions:e.properties.roads&&e.properties.roads.map(function(t){return t.region})||[],isMajor:e.properties.isMajor,messageType:s&&s.length>0&&s[0],incidentPeriod:new o.a(l&&i(l),e.properties.end&&i(e.properties.end)),incidentTime:u&&i(u)}),r},t.prototype.isValid=function(){return!i().isSameOrAfter(this.incidentPeriod.to)&&i().endOf("day").isAfter(this.incidentPeriod.from)},t.prototype.isRegionAffected=function(t){return!!this.regions.find(function(e){return e===t})},t.prototype.compareTo=function(t){return this.isMajor===t.isMajor?this.incidentTime.isSame(t.incidentTime)?0:this.incidentTime.isAfter(t.incidentTime)?-1:1:this.isMajor?-1:1},t}(),l=n("VNr4");n.d(e,"a",function(){return u});var u=function(){function t(t){this.http=t}return t.prototype.getTrafficAlerts=function(t){var e=this;return Object(l.a)(t.map(function(t){return e.http.get(a.a.LIVE_TRAFFIC_MESSAGE_TYPES[t].endpointURL).pipe(Object(r.a)(function(t){return t&&t.features&&t.features.map(function(e){return s.fromJson(e,t.layerName)})}))}))},t}()},JDJu:function(t,e,n){"use strict";var r=function(){function t(){}return t.fromJson=function(e){var n=new t,r=e._source;return n.AVAILABLE=r.AVAILABLE,n.CHILD_CODE=r.CHILD_CODE,n.CHILD_DESC=r.CHILD_DESC,n.CHILD_ID=r.CHILD_ID,n.CHILD_TYPE=r.CHILD_TYPE,n.EFA_ID=r.EFA_ID,n.FACILITY_CAT=r.FACILITY_CAT,n.FACILITY_DESC=r.FACILITY_DESC,n.FACILITY_ID=r.FACILITY_ID,n.FACILITY_TYPE=r.FACILITY_TYPE,n.ICON=r.ICON,n.LAT=r.LAT,n.LOCATION_NAME=r.LOCATION_NAME,n.LONG=r.LONG,n.MAP=r.MAP,n.MORE_INFO=r.MORE_INFO,n.NUMBER=r.NUMBER,n.RANK=r.RANK,n.TSN=r.TSN,n.TYPE_CODE=r.TYPE_CODE,n.CHILD_DESC_LISTVIEW="",n.CHILD_DESC_MAPVIEW="",n},t}(),i=function(){function t(){}return t.fromJson=function(e){var n=new t;return n.latitude=e.latitude,n.longitude=e.longitude,n.fully_accessible=e.fully_accessible,n.location_name=e.location_name,n},t}();n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},JVSJ:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}n("wd/R").defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}()},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xTla"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},JvlW:function(t,e,n){!function(t){"use strict";var e={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function n(t,e,n,r){return e?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(t){return t%10==0||t>10&&t<20}function i(t){return e[t].split("_")}function o(t,e,o,a){var s=t+" ";return 1===t?s+n(0,e,o[0],a):e?s+(r(t)?i(o)[1]:i(o)[0]):a?s+i(o)[1]:s+(r(t)?i(o)[1]:i(o)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(t,e,n,r){return e?"kelios sekund\u0117s":r?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(n("wd/R"))},"K/tc":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}()},K48Q:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("F/XL"),i=n("R+r5"),o=n("Gi3i"),a=n("15JJ"),s=n("67Y/"),l=n("CcnG"),u=(n("cQAX"),n("64ZZ"),n("9lgY"),n("lR7y"),n("+9V0"),n("gawX")),c=n("/n73"),p=(n("8fF9"),function(){function t(t,e,n,p,h){var d=this;this.locationFinderService=t,this.locationSortPipe=e,this.uniqueLocationsPipe=n,this.cdr=p,this.trackMetroService=h,this.stopChange=new l.k,this.inputTextChange=new l.k,this.searchStops=function(t){var e;return t.pipe(Object(o.a)(100),Object(a.a)(function(t){return function(t){return(e=t)&&e.length>=3?d.locationFinderService.search(t,u.a,c.b.Train).pipe(Object(i.a)()):Object(r.a)(null)}(t)}),Object(s.a)(function(t){return t?d.uniqueLocationsPipe.transform(d.locationSortPipe.transform(t||[])).filter(function(t){return t.motTypes&&-1!==t.motTypes.findIndex(function(t){return t===d.transportMode})}).slice(0,6):null}))}}return t.prototype.ngAfterViewInit=function(){this.autosuggestEl.inputEl.nativeElement.value="",this.autosuggestEl.placeholder=this.placeholder,this.cdr.detectChanges()},t.prototype.handleSearchSelect=function(t){this.trackMetroService.trackMetroAction("Search location",c.a[this.transportMode]+" - "+t.shortName),this.stopChange.emit(t)},t.prototype.onInputTextChange=function(t){""!==t?(this.inputTextChange.emit(t),this.stopChange.emit(null)):this.autosuggestEl.inputEl.nativeElement.value=""},t}())},K9Ia:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return p});var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),s=n("8g8A"),l=n("uMaO"),u=n("L/V9"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.c(e,t),e}(o.a),p=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.c(e,t),e.prototype[u.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new l.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.c(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(p)},KSF8:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n r\u1ed3i l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}()},KTz0:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},KnBw:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return c});var r=n("CcnG"),i=n("Ip0R"),o=(n("mVwE"),r.gb({encapsulation:0,styles:[".tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]{display:flex;font-size:15px;font-weight:400;background:#fff}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;text-align:center;text-decoration:none;color:#1D69B4;padding:15px;white-space:nowrap}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header.active-tab[_ngcontent-%COMP%]{background-color:#ececec;border-bottom:5px solid #0069B7;padding-bottom:0}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header[_ngcontent-%COMP%]:hover:not(.active-tab){background-color:#ececec}"],data:{}}));function a(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"a",[["class","tni-tab-header"],["href",""],["role","tab"]],[[8,"id",0],[1,"aria-controls",0],[2,"active-tab",null],[1,"aria-selected",0],[1,"aria-controls",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=0!=!!t.component.onTabClick(t.context.$implicit.tabId)&&r),r},null,null)),(t()(),r.ib(1,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.zb(2,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,e.context.$implicit.tabId,e.context.$implicit.tabId+"-panel",n.activeTabId===e.context.$implicit.tabId,n.activeTabId===e.context.$implicit.tabId,n.activeTabId===e.context.$implicit.tabId?e.context.$implicit.tabId+"-content-container":null),t(e,2,0,e.context.$implicit.title)})}function s(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function l(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[],[[8,"id",0],[8,"hidden",0]],null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,s)),r.hb(2,540672,null,0,i.k,[r.G],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(t,e){t(e,2,0,e.parent.context.$implicit.contentTemplate)},function(t,e){var n=e.component;t(e,0,0,r.kb(1,"",e.parent.context.$implicit.tabId,"-content-container"),n.activeTabId!==e.parent.context.$implicit.tabId)})}function u(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","tni-tab-content-container"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0]],null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,l)),r.hb(2,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.isTabLoaded(e.context.$implicit.tabId))},function(t,e){t(e,0,0,e.context.$implicit.tabId+"-panel",e.context.$implicit.tabId)})}function c(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[["class","tni-tab-container"],["role","tablist"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,2,"div",[["class","tni-tab-header-container"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,a)),r.hb(3,278528,null,0,i.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.Z(16777216,null,null,1,null,u)),r.hb(5,278528,null,0,i.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.tabs),t(e,5,0,n.tabs)},null)}},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},LFOM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.forTest=function(){return{ngModule:t,providers:[]}},t}()},LZq5:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n("nyDe");var r=n("XBuN"),i=n("F/XL"),o=n("15JJ"),a=n("67Y/"),s=n("bxum"),l=function(){function t(t,e){this.http=t,this.locationSchemaService=e,this.stopSchemaCache$={}}return t.prototype.getURLQueryParams=function(t,e,n){return"TfNSWCR=true&coordOutputFormat=EPSG:4326&inclFilter=1&language=en&outputFormat=rapidJSON&radius_1="+n+"&type_1=BUS_POINT&version=10.2.2.48&coord="+t+":"+e+":WGS84"},t.prototype.getStops=function(t){var e=this;return this.stopSchemaCache$[t]?Object(i.a)(this.stopSchemaCache$[t].schema):this.locationSchemaService.getLocationSchema(t).pipe(Object(o.a)(function(n){var i=e.getURLQueryParams(n.longitude?n.longitude:s.c.MAPBOX_CONSTANTS.sydneyCenter[0],n.latitude?n.latitude:s.c.MAPBOX_CONSTANTS.sydneyCenter[1],200);return e.http.get(""+r.s+i).pipe(Object(a.a)(function(n){return e.stopSchemaCache$[t]={schema:n.locations},e.stopSchemaCache$[t].schema}))}))},t}()},Loxo:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}()},MCcF:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("plTY"),i=n("yTny"),o=function(){function t(){}return t.prototype.get=function(t){var e=[];return t.forEach(function(t){if(t.value){var n={};switch(t.key){case r.a.moreInfo:n.name=i.b,n.icon="plus",n.link=t.value,n.label="Display More Info";break;case r.a.timetable:n.name=i.c,n.icon="timetable",n.link=t.value,n.label="Display timetable";break;case r.a.departures:n.name=i.a,n.icon="arrow_from",n.link=t.value,n.label="Open Departures";break;case r.a.planTrip:n.name=i.d,n.icon="trip-planner",n.link=t.value,n.label="Open Trip Planner"}e.push(n)}}),e},t}()},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.c(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},MMzP:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("F8mC"),i=n("wd/R"),o=function(){function t(){this.alertMessages=[],this.trafficMessages=[],this.modeIds=[]}return t.fromJson=function(e){var n=new t;return n.id=e.id,n.type=e.type,n.productId=e.item.productId,n.lineNumber=e.item.lineNumber,n.routeDisplayName=e.item.routeDisplayName,n.iconClass=e.item.iconClass,n.routeDisplayNumber=e.item.iconClass?e.item.routeNumber:e.item.lineNumber,e.item.operatingBranchRouteNumber&&(n.operatingBranchRouteNumber=e.item.operatingBranchRouteNumber),n.modeIds=e.item.productId?r.a.findModeIdsByProductId(n.productId):[],n.routeNumber=e.item.routeNumber,n.foregroundColour=e.item.foregroundColour,n.isRouteType()&&!n.foregroundColour&&(n.foregroundColour=r.a.getColourByProductId(e.item.productId)),n.fontColour=e.item.fontColour,n.backgroundColour=e.item.backgroundColour,n.added=i(e.item.added),n.name=e.item.name,n.tag=e.item.tag,n},t.prototype.toJson=function(){var t={id:this.id,type:this.type,item:{routeDisplayName:this.routeDisplayName,routeNumber:this.routeNumber,lineNumber:this.lineNumber,foregroundColour:this.foregroundColour,backgroundColour:this.backgroundColour,fontColour:this.fontColour,productId:this.productId,iconClass:this.iconClass,added:this.added.toISOString(),name:this.name,tag:this.tag,operatingBranchRouteNumber:this.operatingBranchRouteNumber}};return"region"!==this.type&&(t.item.routeId=this.id),Object.keys(t.item).forEach(function(e){t.item[e]||delete t.item[e]}),t},t.prototype.setAlertMessages=function(t){this.alertMessages=t?this.sortAlertMessages(t):[]},t.prototype.sortAlertMessages=function(t){return t.sort(function(t,e){return t.compareTo(e)})},t.prototype.setTrafficMessages=function(t){this.trafficMessages=t||[],this.trafficMessages.sort(function(t,e){return t.compareTo(e)})},t.prototype.isRouteType=function(){return"route"===this.type},t.prototype.compareTo=function(t){return this.isRouteType()&&!t.isRouteType()?-1:!this.isRouteType()&&t.isRouteType()?1:t.added&&this.added?t.added.diff(this.added):0},t}()},MODd:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.getItem=function(t){var e=localStorage.getItem(t);return e?JSON.parse(e):null},t.setItem=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.removeItem=function(t){localStorage.removeItem(t)},t.clearAll=function(){localStorage.clear()},t}()},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},"N+V4":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("F/XL"),i=n("0zd0"),o=n("67Y/"),a=n("XBuN"),s=n("JDJu"),l=n("tuZB"),u=function(){function t(t){this.http=t,this.facilitySchemaCache$={}}return t.prototype.getFacilities=function(t){var e=this;return this.facilitySchemaCache$[t]?Object(r.a)(this.facilitySchemaCache$[t].schema):this.http.get(""+a.c+t).pipe(Object(i.a)(l.f),Object(o.a)(function(t){return t.hits.hits}),Object(o.a)(function(n){return e.facilitySchemaCache$[t]={schema:n.map(function(t){return s.a.fromJson(t)})},e.facilitySchemaCache$[t].schema}))},t}()},N467:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Wg1o"),i=(n("QJOd"),n("UcfC"),function(){function t(t,e){this.homePreferenceStore=t,this.trackService=e,this.TridgetTabType=r.a,this.loadedTabs=new Set}return t.prototype.ngOnInit=function(){this.activeTabType=this.homePreferenceStore.getLastActiveTab(),this.activeTabType||(this.activeTabType=r.a.PlanTab),this.loadedTabs.add(this.activeTabType)},t.prototype.onTabClick=function(t){this.activeTabType!==t&&(this.activeTabType=t,this.loadedTabs.add(t),this.homePreferenceStore.saveLastActiveTab(this.activeTabType),this.trackTabEvent(t))},t.prototype.isTabLoaded=function(t){return this.loadedTabs.has(t)},t.prototype.trackTabEvent=function(t){t===r.a.PlanTab?this.trackService.planTab():t===r.a.AlertsTab?this.trackService.alertsTab():t===r.a.BookTab&&this.trackService.bookTab()},t}())},NAPj:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.fromJson=function(e){var n=new t;return Object.assign(n,e),n},t}()},NCMA:function(t,e){},ND1Z:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},NOf9:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("CcnG"),i=n("Ip0R"),o=(n("E8FJ"),r.gb({encapsulation:2,styles:[],data:{}}));function a(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,5,"div",[["aria-live","assertive"],["class","tfnsw-spinner"]],[[8,"id",0]],null,null,null,null)),r.hb(1,278528,null,0,i.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),r.ib(2,0,null,null,1,"p",[["aria-atomic","true"],["class","sr-only"],["role","status"]],null,null,null,null,null)),(t()(),r.zb(3,null,["",""])),(t()(),r.ib(4,0,null,null,0,"div",[["class","spinner"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,0,"img",[["alt","loading"],["class","spinner-image"],["src","/themes/custom/tfnsw_bootstrap/assets/images/spinner.gif"]],null,null,null,null,null))],function(t,e){t(e,1,0,"tfnsw-spinner",e.component.spinnerClass)},function(t,e){var n=e.component;t(e,0,0,n.spinnerId),t(e,3,0,n.srText)})}},OIYi:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}()},Oaa7:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},Ob0Z:function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function r(t,e,n,r){var i="";if(e)switch(n){case"s":i="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":i="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":i="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":i="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":i="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":i="%d \u0924\u093e\u0938";break;case"d":i="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":i="%d \u0926\u093f\u0935\u0938";break;case"M":i="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":i="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":i="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":i="%d \u0935\u0930\u094d\u0937\u0947"}else switch(n){case"s":i="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":i="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":i="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":i="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":i="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":i="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":i="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":i="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":i="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":i="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":i="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":i="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return i.replace(/%d/i,t)}t.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924\u094d\u0930\u0940"===e?t<4?t:t+12:"\u0938\u0915\u093e\u0933\u0940"===e?t:"\u0926\u0941\u092a\u093e\u0930\u0940"===e?t>=10?t:t+12:"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0930\u093e\u0924\u094d\u0930\u0940":t<10?"\u0938\u0915\u093e\u0933\u0940":t<17?"\u0926\u0941\u092a\u093e\u0930\u0940":t<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(n("wd/R"))},OjkT:function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};t.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924\u093f"===e?t<4?t:t+12:"\u092c\u093f\u0939\u093e\u0928"===e?t:"\u0926\u093f\u0909\u0901\u0938\u094b"===e?t>=10?t:t+12:"\u0938\u093e\u0901\u091d"===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"\u0930\u093e\u0924\u093f":t<12?"\u092c\u093f\u0939\u093e\u0928":t<16?"\u0926\u093f\u0909\u0901\u0938\u094b":t<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(n("wd/R"))},OoOO:function(t,e){},OxXP:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.queryStringParam=function(t){return this._getWindowsURL().substr(1).split("&").reduce(function(t,e){var n=e.split("=");return t[n[0]]=n[1],t},{})[t]},t.prototype._getWindowsURL=function(){return window.location.search},t}()},Oxv6:function(t,e,n){!function(t){"use strict";var e={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};t.defineLocale("tg",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u041f\u0430\u0433\u043e\u04b3 \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0448\u0430\u0431"===e?t<4?t:t+12:"\u0441\u0443\u0431\u04b3"===e?t:"\u0440\u04ef\u0437"===e?t>=11?t:t+12:"\u0431\u0435\u0433\u043e\u04b3"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0448\u0430\u0431":t<11?"\u0441\u0443\u0431\u04b3":t<16?"\u0440\u04ef\u0437":t<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},PA2r:function(t,e,n){!function(t){"use strict";var e="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),n="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");function r(t){return t>1&&t<5&&1!=~~(t/10)}function i(t,e,n,i){var o=t+" ";switch(n){case"s":return e||i?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return e||i?o+(r(t)?"sekundy":"sekund"):o+"sekundami";case"m":return e?"minuta":i?"minutu":"minutou";case"mm":return e||i?o+(r(t)?"minuty":"minut"):o+"minutami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?o+(r(t)?"hodiny":"hodin"):o+"hodinami";case"d":return e||i?"den":"dnem";case"dd":return e||i?o+(r(t)?"dny":"dn\xed"):o+"dny";case"M":return e||i?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return e||i?o+(r(t)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):o+"m\u011bs\xedci";case"y":return e||i?"rok":"rokem";case"yy":return e||i?o+(r(t)?"roky":"let"):o+"lety"}}t.defineLocale("cs",{months:e,monthsShort:n,monthsParse:function(t,e){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+t[n]+"$|^"+e[n]+"$","i");return r}(e,n),shortMonthsParse:function(t){var e,n=[];for(e=0;e<12;e++)n[e]=new RegExp("^"+t[e]+"$","i");return n}(n),longMonthsParse:function(t){var e,n=[];for(e=0;e<12;e++)n[e]=new RegExp("^"+t[e]+"$","i");return n}(e),weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},PT6g:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},PeUW:function(t,e,n){!function(t){"use strict";var e={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},n={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};t.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(t){return t+"\u0bb5\u0ba4\u0bc1"},preparse:function(t){return t.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(t,e,n){return t<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":t<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":t<10?" \u0b95\u0bbe\u0bb2\u0bc8":t<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":t<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":t<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(t,e){return 12===t&&(t=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===e?t<2?t:t+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===e||"\u0b95\u0bbe\u0bb2\u0bc8"===e?t:"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(n("wd/R"))},PpIw:function(t,e,n){!function(t){"use strict";var e={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},n={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};t.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(t){return t.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===e?t<4?t:t+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===e?t:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===e?t>=10?t:t+12:"\u0cb8\u0c82\u0c9c\u0cc6"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":t<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":t<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":t<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(t){return t+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(n("wd/R"))},Q6bz:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("4ATH");var r=n("XmvR"),i=function(){function t(t){this.trackEventService=t,this.category="Campaign Interactive map"}return t.prototype.viewBubbleOnMap=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.b.ViewBubbleOnMap.toString(),label:e+" - "+t})},t.prototype.viewCard=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.b.ViewCard.toString(),label:e+" - "+t})},t.prototype.selectMapFromCard=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.b.SelectMapFromCard.toString(),label:e+" - "+t})},t.prototype.selectLinkOnCard=function(t,e,n){this.trackEventService.trackEvent(this.category,{action:r.b.SelectLinkOnCard.toString(),label:t+" - "+n+" - "+e})},t.prototype.viewMapTab=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.b.ViewMapTab.toString(),label:e+" - "+t})},t.prototype.viewListTab=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.b.ViewListTab.toString(),label:e+" - "+t})},t.prototype.trackMetroAction=function(t,e){this.trackEventService.trackEvent(this.category,{action:t,label:e})},t}()},QJOd:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Wg1o"),i=(n("3ZaB"),function(){function t(t){this.windowRef=t,this.drupalNodeId_key="node_"+this.windowRef.drupalSettings.tfn_bootstrap.custom.drupalNodeId+"_sidebarTab"}return t.prototype.getLastActiveTab=function(){var t=localStorage.getItem(this.drupalNodeId_key);return t||(t=this.windowRef.drupalSettings.tfn_bootstrap.custom.sidebarDefaultTab),"planButton"===t?r.a.PlanTab:"alertsButton"===t?r.a.AlertsTab:"bookingButton"===t?r.a.BookTab:null},t.prototype.saveLastActiveTab=function(t){t===r.a.PlanTab?localStorage.setItem(this.drupalNodeId_key,"planButton"):t===r.a.AlertsTab?localStorage.setItem(this.drupalNodeId_key,"alertsButton"):t===r.a.BookTab&&localStorage.setItem(this.drupalNodeId_key,"bookingButton")},t}())},QWsm:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=(n("+o+X"),n("wd/R"),function(){function t(t,e){this.lastUpdatedDescriptionPipe=t,this.zone=e,this.refreshClick=new r.k}return t.prototype.ngAfterViewInit=function(){var t=this;this.zone.runOutsideAngular(function(){t.timer=setInterval(function(){t.updateLabel()},1e3)})},t.prototype.ngOnChanges=function(){this.lastUpdatedLabel=this.getLastUpdatedLabel()},t.prototype.ngOnDestroy=function(){this.timer&&clearInterval(this.timer)},t.prototype.updateLabel=function(){var t=this;this.zone.run(function(){t.lastUpdatedLabel=t.getLastUpdatedLabel()})},t.prototype.getLastUpdatedLabel=function(){var t=this.lastUpdatedDescriptionPipe.transform(this.lastUpdated);return t&&"Updated "+t.relativeTime+" "+t.suffix},t.prototype.onRefreshClick=function(){this.refreshClick.emit(!0)},t}())},Qj4J:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}()},"Qn/6":function(t,e,n){"use strict";n("gawX"),n.d(e,"n",function(){return"More info"}),n.d(e,"q",function(){return"Trip Planner"}),n.d(e,"p",function(){return"Timetable"}),n.d(e,"a",function(){return"Departures"}),n.d(e,"o",function(){return"Station info"}),n.d(e,"d",function(){return"tni-list-tab"}),n.d(e,"j",function(){return"tni-map-tab"}),n.d(e,"m",function(){return"cjrgayl0t0tm92rm30d6u1een"}),n.d(e,"k",function(){return"cjrgay07e0ls82xp8dnn3pv1f"}),n.d(e,"l",function(){return"cjrgaz8e401v62sobs61b7jsh"}),n.d(e,"f",function(){return"CIM_2019_LINES"}),n.d(e,"h",function(){return"CIM_2019_STOPS"}),n.d(e,"g",function(){return"CIM_2019_BUS_REGIONS"}),n.d(e,"e",function(){return"mapbox://styles/tfnswinfo/cjre2skl40xqc2snt05hnq4ir"}),n.d(e,"i",function(){return"Map view - selected"}),n.d(e,"b",function(){return"List view - default"}),n.d(e,"c",function(){return"List view - selected"})},"R+r5":function(t,e,n){"use strict";var r=n("mrSG"),i=n("FFOo");function o(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new a(t,e,n))}}var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.c(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(i.a),l=n("b7mW"),u=n("G5J1");function c(t){return function(e){return 0===t?Object(u.b)():e.lift(new p(t))}}var p=function(){function t(t){if(this.total=t,this.total<0)throw new l.a}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.total))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.c(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(i.a),d=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.defaultValue))},t}(),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.c(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.a),m=n("y3By");function g(t,e,n){return 0===n?[e]:(t.push(e),t)}function y(){return function(t,e){return arguments.length>=2?function(n){return Object(m.a)(o(t,e),c(1),(void 0===(r=e)&&(r=null),function(t){return t.lift(new d(r))}))(n);var r}:function(e){return Object(m.a)(o(function(e,n,r){return t(e,n,r+1)}),c(1))(e)}}(g,[])}n.d(e,"a",function(){return y})},RAwQ:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?i[n][0]:i[n][1]}function r(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return r(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return r(t)}return r(t/=1e3)}n("wd/R").defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return r(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return r(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d M\xe9int",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},RkwM:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("CLdD"),i=n("d8H3"),o=n("zOFj"),a=n("8fF9"),s=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[r.a,i.a,o.a,a.a]}},t}()},RmBF:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("F/XL"),i=n("R+r5"),o=n("Gi3i"),a=n("15JJ"),s=n("67Y/"),l=n("CcnG"),u=(n("cQAX"),n("64ZZ"),n("9lgY"),n("lR7y"),n("+9V0"),n("hpCz")),c=n("/n73"),p=function(){function t(t,e,n,p){var h=this;this.locationFinderService=t,this.locationSortPipe=e,this.uniqueLocationsPipe=n,this.cdr=p,this.stopChange=new l.k,this.inputTextChange=new l.k,this.searchStops=function(t){var e;return t.pipe(Object(o.a)(100),Object(a.a)(function(t){return function(t){return(e=t)&&e.length>=3?h.locationFinderService.search(t,u.a,c.b.Train).pipe(Object(i.a)()):Object(r.a)(null)}(t)}),Object(s.a)(function(t){return t?h.uniqueLocationsPipe.transform(h.locationSortPipe.transform(t||[])).filter(function(t){return t.motTypes&&-1!==t.motTypes.findIndex(function(t){return t===h.transportMode})}).slice(0,6):null}))}}return t.prototype.ngAfterViewInit=function(){this.autosuggestEl.inputEl.nativeElement.value="",this.autosuggestEl.placeholder=this.placeholder,this.cdr.detectChanges()},t.prototype.onInputTextChange=function(t){""!==t?(this.inputTextChange.emit(t),this.stopChange.emit(null)):this.autosuggestEl.inputEl.nativeElement.value=""},t}()},RyFW:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DKTb"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},S6ln:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}n("wd/R").defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}()},SFxW:function(t,e,n){!function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"birne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(t){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec\u0259":t<12?"s\u0259h\u0259r":t<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(t){if(0===t)return t+"-\u0131nc\u0131";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},SatO:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e2d\u5348"===e?t>=11?t:t+12:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u9031";default:return t}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}()},SnAx:function(t,e,n){"use strict";var r=function(){function t(){}return t.joinWithAnd=function(t){return t&&0!==t.length?1===t.length?t[0]:t.splice(0,t.length-1).join(", ")+" and "+t[t.length-1]:""},t}(),i=n("MODd");n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i.a})},T1BI:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("/n73"),i=function(){function t(){}return t.prototype.getModeIcon=function(t){switch(t){case r.a.Metro:return"metro";case r.a.Train:return"train";case r.a.Bus:return"bus";case r.a.LightRail:return"lightrail";case r.a.Coach:return"coach";case r.a.SchoolBus:return"bus-school";case r.a.Ferry:return"ferry"}return null},t}()},T1DM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("h9Dq"),i=new(n("CS9Q").a)(r.a)},TY4Q:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.scrollToElementAndFocus=function(t){setTimeout(function(){var e=t.getBoundingClientRect();window.scrollTo(0,e.top-250),t.focus()},100)},t}()},UCMd:function(t,e,n){"use strict";var r=n("OxXP");n.d(e,"a",function(){return r.a});var i=n("TY4Q");n.d(e,"c",function(){return i.a});var o=n("HrGG");n.d(e,"b",function(){return o.a})},UDhR:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}()},UTGZ:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("4ATH");var r=function(){function t(t){this.trackEventService=t,this.category="Unsupported Browser"}return t.prototype.trackMapNotSupported=function(t){this.trackEventService.trackEvent(this.category,{action:this.category,label:"Map from "+t})},t}()},UcfC:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("4ATH");var r=function(){function t(t){this.trackEventService=t}return t.prototype.planTab=function(){this.trackEventService.trackEvent("Home page widget",{action:"Plan tab"})},t.prototype.alertsTab=function(){this.trackEventService.trackEvent("Home page widget",{action:"Alerts tab"})},t.prototype.bookTab=function(){this.trackEventService.trackEvent("Home page widget",{action:"Book tab"})},t}()},Uecl:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("4ATH");var r=function(){function t(t){this.trackEventService=t}return t.prototype.search=function(){this.trackEventService.trackEvent("NSW TrainLink Booking widget",{action:"Search"})},t}()},UpQW:function(t,e,n){!function(t){"use strict";var e=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],r=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];n("wd/R").defineLocale("ur",{months:e,monthsShort:e,weekdays:r,weekdaysShort:r,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}()},Ur1D:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}()},UxfY:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.transform=function(t,e){if(!t)return null;var n=e.toLowerCase();return t.filter(function(t){return t.description().toLowerCase().startsWith(n)||t.description().toLowerCase().split(" ").some(function(t){return t.toLowerCase().startsWith(n)})})},t}()},V2x9:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},VNr4:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("6blF"),o=n("isby"),a=n("G5J1"),s=n("zotm"),l=n("MGBS"),u=n("67Y/");function c(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),0===e.length?a.a:t?c(e).pipe(Object(u.a)(function(e){return t.apply(void 0,e)})):new i.a(function(t){return new p(t,e)})}var p=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],l=Object(s.a)(r,a,null,o);l&&r.add(l)}return r}return r.c(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(l.a)},VTi8:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("GooZ"),i=n("nfFZ"),o=n("J5xx"),a=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[r.a,i.a,o.a]}},t}()},Vclq:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(n("wd/R"))},"VnD/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.c(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(i.a)},VtCN:function(t,e,n){"use strict";var r=n("CcnG"),i=n("+o+X"),o=n("4ZJM"),a=function(){function t(){}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.createMessagePopup=function(t,e,n,r,i){if(void 0===i&&(i=!0),r&&this.removePopup(),e){var a=this.generateMessageMarkup(t);n&&(i&&n.panTo(e),this.popup=new o.Popup({closeOnClick:r}),this.popup.setLngLat(e),this.popup.setDOMContent(a),this.popup.addTo(n))}},t.prototype.removePopup=function(){this.popup&&this.popup.remove()},t.prototype.buildIcon=function(t,e){return'<svg class="'+t+'">\x3c!-- --\x3e<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+e+'"></use>\x3c!-- --\x3e</svg>'},t.prototype.generateMessageMarkup=function(t){var e=this,n=document,r=n.createElement("div");r.setAttribute("class","popup-container");var i=n.createElement("div"),o=n.createElement("h3");o.setAttribute("class","h4"),o.innerHTML=t.title,i.appendChild(o);var a=n.createElement("div");a.setAttribute("class","message"),a.innerHTML=t.messageBody,i.appendChild(a),r.appendChild(i);var s=[],l=n.createElement("div");t.links&&t.links.length>0&&(l.setAttribute("class","popup-footer-container"),t.links.forEach(function(t){if(!t.hideMap){var r=n.createElement("a");r.setAttribute("href",t.link);var i=n.createElement("span");i.innerHTML=e.buildIcon("tp-icon xs","/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg#tp_"+t.icon),r.appendChild(i);var o=n.createElement("span");o.setAttribute("class","link-label"),o.innerHTML=t.name,r.appendChild(o),l.appendChild(r),s.push(t)}}));var u=n.createElement("div");return u.setAttribute("class","location"),t.colour&&u.setAttribute("style","border-left-color: "+t.colour),u.appendChild(r),s.length>0&&u.appendChild(l),u},t}();n.d(e,"a",function(){return s});var s=function(){function t(t,e,n){this.trackUnsupportedBrowserEventService=t,this.mapTypeService=e,this.windowRef=n,this.clickStopFeature=new r.k,this.clickRegionFeature=new r.k,this.clickMap=new r.k,this.loadMap=new r.k,this.clickMarker=new r.k,this.hoverMarker=new r.k,this.mapPopupInstance=a.getInstance(),this.isMapSupported=!1}return t.prototype.ngOnInit=function(){this.isMapSupported=o.supported(),this.isMapSupported?(this.mapInstance=this.createMap(),this.loadMap.emit(this.mapInstance)):this.mapTypeService.getMapType(this.windowRef.url())&&this.trackUnsupportedBrowserEventService.trackMapNotSupported(this.mapTypeService.getMapType(this.windowRef.url())),void 0===this.closePopupOnClick&&(this.closePopupOnClick=!0)},t.prototype.ngOnChanges=function(){this.mapInstance&&this.drawMap()},t.prototype.drawMap=function(){this.setLayerListVisibility(this.layers,!0),this.bounds&&this.fitLineBounds(this.bounds),this.popup?this.createPopup({title:this.popup.title,messageBody:this.popup.messageBody,colour:this.popup.colour,links:this.popup.links,coordinates:this.popup.coordinates}):this.mapPopupInstance.removePopup()},t.prototype.createMap=function(){var t=this;Object.getOwnPropertyDescriptor(o,"accessToken").set(i.d.MAPBOX_CONSTANTS.accessToken);var e=this.markers&&this.markers.length>0?i.d.MAPBOX_CONSTANTS.stationFacilityZoom:i.d.MAPBOX_CONSTANTS.defaultZoom;this.zoom&&this.isValidZoom(this.zoom)&&(e=this.zoom);var n=new o.Map({container:"mapbox-map",maxZoom:this.getMaxZoom(),style:this.mapStyle,attributionControl:!1,dragRotate:!1,center:this.getMapCenter(),zoom:e});return n.on("load",function(){n.addControl(new o.AttributionControl({compact:!1})),n.addLayer({id:"attribution-layer",type:"circle",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:null}}}),n.addControl(new o.NavigationControl,"bottom-right"),n.addControl(new o.GeolocateControl,"bottom-right"),setTimeout(function(){var t=document.getElementsByClassName("mapboxgl-ctrl-attrib"),e=document.createElement("a");e.setAttribute("href","/about-us/map-copyright"),e.setAttribute("target","_blank"),e.setAttribute("class","map-copyright"),e.innerHTML="&copy; Map copyright",t&&t.length>0&&t[0].insertBefore(e,t[0].firstChild)},500),t.addMarkers(n),t.drawMap()}),n.on("click",function(e){t.handleMapClick(e)}),n.on("mousemove",function(e){t.handleMapMousemove(e)}),n.on("mouseleave",function(e){t.handleMapMouseLeave(e)}),n},t.prototype.buildIcon=function(t,e){return'<svg class="'+t+'">\x3c!-- --\x3e<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+e+'"></use>\x3c!-- --\x3e</svg>'},t.prototype.addMarkers=function(t){var e=this;this.markers&&this.markers.length>0&&(this.markers.forEach(function(n){if(2===n.geometry.coordinates.length){var r=document.createElement("div");r.style.cursor="pointer";var i="/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg",a=document.createElement("span");a.innerHTML=n.icon?e.buildIcon("tp-icon marker xs blue",i+"#tp_"+n.icon):e.buildIcon("tp-icon marker xs",i+"#tp_stop"),r.appendChild(a),n.identifier&&(r.dataset.identifier=n.identifier);var s=new o.Popup({offset:5e4}).setText(n.title),l=new o.Marker(r).setLngLat([n.geometry.coordinates[0],n.geometry.coordinates[1]]).setPopup(s).addTo(t);r.addEventListener("click",function(){setTimeout(function(){e.popup={title:n.title,messageBody:n.messageBody,colour:n.colour,links:n.links,coordinates:l.getPopup().getLngLat(),autoPane:!0},e.createPopup(e.popup),e.clickMarker.emit(n)},100)}),e.popupOnHover&&(r.addEventListener("mouseenter",function(){setTimeout(function(){e.mapPopupInstance.removePopup(),e.popup={title:n.title,messageBody:n.messageBody,colour:n.colour,links:n.links,coordinates:l.getPopup().getLngLat(),autoPane:!1},e.createPopup(e.popup),e.hoverMarker.emit(n)},100)}),r.addEventListener("mouseleave",function(){setTimeout(function(){e.mapPopupInstance.removePopup()},100)}))}}),setTimeout(function(){t.setZoom(50),t.setMaxZoom(52)},1e3))},t.prototype.setLayerListVisibility=function(t,e){var n=this;this.layers&&(this.removeAllLayers(),t.forEach(function(t){t&&n.mapInstance.getLayer(t.name)&&n.setLayerVisibility(t,e)}))},t.prototype.getMapCenter=function(){return this.centerLngLat&&this.isValidLngLat(this.centerLngLat)?this.centerLngLat:i.d.MAPBOX_CONSTANTS.sydneyCenter},t.prototype.getMaxZoom=function(){return this.markers&&this.markers.length>0?i.d.MAPBOX_CONSTANTS.stationFacilityMaxZoom:i.d.MAPBOX_CONSTANTS.maxZoom},t.prototype.isValidLngLat=function(t){if(!t||!t[0]||!t[1])return!1;try{new o.LngLat(t[0],t[1])}catch(e){return!1}return!0},t.prototype.isValidZoom=function(t){return t<i.d.MAPBOX_CONSTANTS.maxZoom},t.prototype.fitLineBounds=function(t){var e=this;setTimeout(function(){e.mapInstance.fitBounds(new o.LngLatBounds(t.sw,t.ne),{padding:20})},100)},t.prototype.handleMapClick=function(t){var e=this.mapInstance.queryRenderedFeatures(t.point);e&&e.length>0&&this.clickSourceLayer.indexOf(e[0].sourceLayer)>=0&&(e[0].layer&&"fill"===e[0].layer.type?this.displayRegionLayer(e[0]):this.displayLineLayers(e[0])),this.clickMap.emit()},t.prototype.handleMapMouseLeave=function(t){this.mapPopupInstance.removePopup()},t.prototype.handleMapMousemove=function(t){var e=this,n=this.mapInstance.queryRenderedFeatures(t.point),r=!1;n&&n.length>0&&(n.forEach(function(t){e.clickSourceLayer.indexOf(t.sourceLayer)>=0&&"symbol"===t.layer.type&&(r=!0)}),this.mapInstance.getCanvas().style.cursor=r?"pointer":"")},t.prototype.createPopup=function(t){this.mapPopupInstance.createMessagePopup({title:t.title,messageBody:t.messageBody,colour:t.colour,links:t.links},t.coordinates,this.mapInstance,this.closePopupOnClick,t.autoPane)},t.prototype.displayLineLayers=function(t){var e=[];Object.keys(t.properties).forEach(function(n){"Y"===t.properties[n]&&e.push(n)}),this.clickStopFeature.emit({lineShortNames:e,feature:t})},t.prototype.displayRegionLayer=function(t){this.clickRegionFeature.emit({regionName:t.layer.filter[2],feature:t})},t.prototype.removeAllLayers=function(){var t=this;this.mapInstance.style.stylesheet&&this.mapInstance.style.stylesheet.layers&&this.mapInstance.style.stylesheet.layers.filter(function(e){return t.sourceLayer.indexOf(e["source-layer"])>=0}).forEach(function(e){t.mapInstance.getLayer(e.id)&&t.setLayerVisibility({name:e.id,layerType:e.type},!1)})},t.prototype.setLayerVisibility=function(t,e){var n=t.name;this.alwaysVisibleLayers&&this.alwaysVisibleLayers.indexOf(n)>=0&&(e=!0),"fill"===t.layerType?(this.mapInstance.setLayoutProperty(n,"visibility","visible"),this.mapInstance.setPaintProperty(n,"fill-opacity",e?.2:.01)):this.mapInstance.setLayoutProperty(n,"visibility",e?"visible":"none")},t}()},WERl:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},"WVt+":function(t,e,n){!function(t){"use strict";function e(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&L(r),i&&E(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,a=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(a&&L(a),t){case"Point":i=r(e).geometry;break;case"LineString":i=s(e).geometry;break;case"Polygon":i=o(e).geometry;break;case"MultiPoint":i=p(e).geometry;break;case"MultiLineString":i=c(e).geometry;break;case"MultiPolygon":i=h(e).geometry;break;default:throw new Error(t+" is invalid")}return a&&(i.bbox=a),i}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(t[0])||!M(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return u(t.map(function(t){return r(t,e)}),n)}function o(t,n,r){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++){if(0===i&&0===a&&!M(o[0][0])||!M(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function a(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return u(t.map(function(t){return o(t,e)}),n)}function s(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!M(t[0][1])||!M(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function l(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return u(t.map(function(t){return s(t,e)}),n)}function u(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&L(n),r&&E(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function c(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function d(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function f(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function m(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=bo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function g(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=bo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function y(t,e){return v(g(t,e))}function _(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function v(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function b(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function x(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return m(g(t,e),n||"kilometers")}function w(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=wo[e||"meters"];if(!r)throw new Error("invalid original units");var i=wo[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i}function M(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function L(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!M(t))throw new Error("bbox must only contain numbers")})}function E(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function k(t,e,n){if(null!==t)for(var r,i,o,a,s,l,u,c,p=0,h=0,d=t.type,f="FeatureCollection"===d,m="Feature"===d,g=f?t.features.length:1,y=0;y<g;y++){s=(c=!!(u=f?t.features[y].geometry:m?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var _=0;_<s;_++){var v=0,b=0;if(null!==(a=c?u.geometries[_]:u)){l=a.coordinates;var x=a.type;switch(p=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":e(l,h,y,v,b),h++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++)e(l[r],h,y,v,b),h++,"MultiPoint"===x&&v++;"LineString"===x&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-p;i++)e(l[r][i],h,y,v,b),h++;"MultiLineString"===x&&v++,"Polygon"===x&&b++}"Polygon"===x&&v++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for("MultiPolygon"===x&&(b=0),i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-p;o++)e(l[r][i][o],h,y,v,b),h++;b++}v++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)k(a.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function T(t,e,n,r){var i=n;return k(t,function(t,r,o,a,s){i=0===r&&void 0===n?t:e(i,t,r,o,a,s)},r),i}function S(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function A(t,e,n){var r=n;return S(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function D(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function I(t,e,n){var r=n;return D(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function P(t){var e=[];return k(t,function(t){e.push(t)}),e}function O(t,e){var n,r,i,o,a,s,l,u,c,p,h=0,d="FeatureCollection"===t.type,f="Feature"===t.type,m=d?t.features.length:1;for(n=0;n<m;n++){for(u=d?t.features[n].properties:f?t.properties:{},c=d?t.features[n].bbox:f?t.bbox:void 0,p=d?t.features[n].id:f?t.id:void 0,a=(l=!!(s=d?t.features[n].geometry:f?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=l?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,h,u,c,p);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],h,u,c,p);break;default:throw new Error("Unknown Geometry Type")}else e(null,h,u,c,p);h++}}function N(t,e,n){var r=n;return O(t,function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)}),r}function R(t,n){O(t,function(t,r,i,o,a){var s,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,i,{bbox:o,id:a}),r,0)}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}t.coordinates.forEach(function(t,o){n(e({type:s,coordinates:t},i),r,o)})})}function F(t,e,n){var r=n;return R(t,function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)}),r}function Y(t,e){R(t,function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&T(t,function(o,a,l,u,c,p){var h=s([o,a],t.properties);return e(h,n,r,p,i),i++,a})}})}function B(t,e,n){var r=n,i=!1;return Y(t,function(t,o,a,s,l){r=!1===i&&void 0===n?t:e(r,t,o,a,s,l),i=!0}),r}function z(t,e){if(!t)throw new Error("geojson is required");R(t,function(t,n,r){if(null!==t.geometry){var i=t.geometry.coordinates;switch(t.geometry.type){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var o=0;o<i.length;o++)e(s(i[o],t.properties),n,r,o)}}})}function j(t,e,n){var r=n;return z(t,function(t,i,o,a){r=0===i&&void 0===n?t:e(r,t,i,o,a)}),r}function V(t){var e=[1/0,1/0,-1/0,-1/0];return k(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function H(t){if(!t)throw new Error("obj is required");var e=U(t);if(e.length>1&&M(e[0])&&M(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function U(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return G(e),e;throw new Error("No valid coordinates")}function G(t){if(t.length>1&&M(t[0])&&M(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return G(t[0]);throw new Error("coordinates must only contain numbers")}function q(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function W(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function Z(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}function X(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function J(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function K(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function Q(t,e,n){n=n||{};for(var r=Object.keys(Eo),i=0;i<r.length;i++){var o=r[i],a=n[o];ko[o]=a=null!=a?a:Eo[o]}ko.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;return t.cells.forEach(function(r,i){r.forEach(function(r,o){if(void 0!==r&&5!==r.cval&&10!==r.cval&&!tt(r)){var a=function(t,e,n){var r,i,o,a=t.length,s=[],l=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],p=t[e][n],h=p.cval,d=nt(p,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][h]);s.push([n+d[0],e+d[1]]),d=nt(p,o=c[h]),s.push([n+d[0],e+d[1]]),et(p);for(var f=n+l[h],m=e+u[h],g=h;f>=0&&m>=0&&m<a&&(f!=n||m!=e)&&void 0!==(p=t[m][f]);){if(0===(h=p.cval)||15===h)return{path:s,info:"mergeable"};o=c[h],r=l[h],i=u[h],5!==h&&10!==h||(5===h?p.flipped?-1===u[g]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===l[g]&&(o="bottom",r=0,i=-1):10===h&&(p.flipped?-1===l[g]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===u[g]&&(o="left",r=-1,i=0))),d=nt(p,o),s.push([f+d[0],m+d[1]]),et(p),f+=r,m+=i,g=h}return{path:s,info:"closed"}}(t.cells,i,o),s=!1;if("mergeable"===a.info)for(var l=a.path[a.path.length-1][0],u=a.path[a.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-l)<=1e-7&&Math.abs(e[c][0][1]-u)<=1e-7){for(var p=a.path.length-2;p>=0;--p)e[c].unshift(a.path[p]);s=!0;break}s||(e[n++]=a.path)}})}),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var a=0;a<r;++a){var s=0,l=t[o+1][a],u=t[o+1][a+1],c=t[o][a+1],p=t[o][a];if(!(isNaN(l)||isNaN(u)||isNaN(c)||isNaN(p))){s|=l>=e?8:0,s|=u>=e?4:0,s|=c>=e?2:0;var h,d,f,m,g=!1;if(5==(s|=p>=e?1:0)||10===s){var y=(l+u+c+p)/4;5===s&&y<e?(s=10,g=!0):10===s&&y<e&&(s=5,g=!0)}0!==s&&15!==s&&(h=d=f=m=.5,1===s?(f=1-$(e,l,p),d=1-$(e,c,p)):2===s?(d=$(e,p,c),m=1-$(e,u,c)):3===s?(f=1-$(e,l,p),m=1-$(e,u,c)):4===s?(h=$(e,l,u),m=$(e,c,u)):5===s?(h=$(e,l,u),m=$(e,c,u),d=1-$(e,c,p),f=1-$(e,l,p)):6===s?(d=$(e,p,c),h=$(e,l,u)):7===s?(f=1-$(e,l,p),h=$(e,l,u)):8===s?(f=$(e,p,l),h=1-$(e,u,l)):9===s?(d=1-$(e,c,p),h=1-$(e,u,l)):10===s?(h=1-$(e,u,l),m=1-$(e,u,c),d=$(e,p,c),f=$(e,p,l)):11===s?(h=1-$(e,u,l),m=1-$(e,u,c)):12===s?(f=$(e,p,l),m=$(e,c,u)):13===s?(d=1-$(e,c,p),m=$(e,c,u)):14===s?(f=$(e,p,l),d=$(e,p,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),i.cells[o][a]={cval:s,flipped:g,top:h,right:m,bottom:d,left:f})}}}return i}(t,e));return"function"==typeof ko.successCallback&&ko.successCallback(s),s}function $(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function rt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function it(t,e){if(!(this instanceof it))return new it(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ot(t,e){at(t,0,t.children.length,e,t)}function at(t,e,n,r,i){i||(i=ft(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],st(i,t.leaf?r(o):o);return i}function st(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function lt(t,e){return t.minX-e.minX}function ut(t,e){return t.minY-e.minY}function ct(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function pt(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ht(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function dt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function ft(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mt(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,To(t,o,e,n,i),a.push(e,o,o,n))}function gt(t,e){return t(e={exports:{}},e.exports),e.exports}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function _t(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var a=t[o];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var s=[e,n,r,i],l=s.slice();for(o=0;o<t.length;o++)jo(t[o],s)||l.push(t[o]);var u=Fo(l),c=[];for(o=0;o<u.length;o++)c.push(l[u[o]]);return c}(t),o=So(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],s=0;s<i.length;s++){var l=i[s];o.remove(l),r=Mt(l,r),a.push(r)}var u=So(16);for(s=0;s<a.length;s++)u.insert(wt(a[s]));for(var c=e*e,p=n*n;a.length;){var h=a.shift(),d=h.p,f=h.next.p,m=Ct(d,f);if(!(m<p)){var g=m/c;(l=function(t,e,n,r,i,o,a){for(var s=new Bo(null,vt),l=t.data;l;){for(var u=0;u<l.children.length;u++){var c=l.children[u],p=l.leaf?Lt(c,n,r):function(t,e,n){if(bt(t,n)||bt(e,n))return 0;var r=Et(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Et(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=Et(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=Et(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,i,o,a)}(n,r,c);p>o||s.push({node:c,dist:p})}for(;s.length&&!s.peek().node.children;){var h=s.pop(),d=h.node,f=Lt(d,e,n),m=Lt(d,r,i);if(h.dist<f&&h.dist<m&&xt(n,d,a)&&xt(r,d,a))return d}(l=s.pop())&&(l=l.node)}return null}(o,h.prev.p,d,f,h.next.next.p,g,u))&&Math.min(Ct(l,d),Ct(l,f))<=g&&(a.push(h),a.push(Mt(l,h)),o.remove(l),u.remove(h),u.insert(wt(h)),u.insert(wt(h.next)))}}h=r;var y=[];do{y.push(h.p),h=h.next}while(h!==r);return y.push(h.p),y}function vt(t,e){return t.dist-e.dist}function bt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function xt(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),s=n.search({minX:r,minY:i,maxX:o,maxY:a}),l=0;l<s.length;l++)if(function(t,e,n,r){return t!==r&&e!==n&&Vo(t,e,n)>0!=Vo(t,e,r)>0&&Vo(n,r,t)>0!=Vo(n,r,e)>0}(s[l].p,s[l].next.p,t,e))return!1;return!0}function wt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Mt(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Ct(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Lt(t,e,n){var r=e[0],i=e[1],o=n[0]-r,a=n[1]-i;if(0!==o||0!==a){var s=((t[0]-r)*o+(t[1]-i)*a)/(o*o+a*a);s>1?(r=n[0],i=n[1]):s>0&&(r+=o*s,i+=a*s)}return(o=t[0]-r)*o+(a=t[1]-i)*a}function Et(t,e,n,r,i,o,a,s){var l,u,c,p,h=n-t,d=r-e,f=a-i,m=s-o,g=t-i,y=e-o,_=h*h+d*d,v=h*f+d*m,b=f*f+m*m,x=h*g+d*y,w=f*g+m*y,M=_*b-v*v,C=M,L=M;0===M?(u=0,C=1,p=w,L=b):(p=_*w-v*x,(u=v*w-b*x)<0?(u=0,p=w,L=b):u>C&&(u=C,p=w+v,L=b)),p<0?(p=0,-x<0?u=0:-x>_?u=C:(u=-x,C=_)):p>L&&(p=L,-x+v<0?u=0:-x+v>_?u=C:(u=-x+v,C=_));var E=(1-(c=0===p?0:p/L))*i+c*a-((1-(l=0===u?0:u/C))*t+l*n),k=(1-c)*o+c*s-((1-l)*e+l*r);return E*E+k*k}function kt(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(k(t,function(t){r.push([t[0],t[1]])}),!r.length)return null;var i=Ho(r,n);return i.length>3?o([i]):null}function Tt(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=H(t),o=U(e),a=e.bbox;if(a&&0==(a[0]<=i[0]&&a[1]<=i[1]&&a[2]>=i[0]&&a[3]>=i[1]))return!1;"Polygon"===(e.geometry?e.geometry.type:e.type)&&(o=[o]);for(var s=0,l=!1;s<o.length&&!l;s++)if(St(i,o[s][0],r)){for(var u=!1,c=1;c<o[s].length&&!u;)St(i,o[s][c],!r)&&(u=!0),c++;u||(l=!0)}return l}function St(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var a=e[i][0],s=e[i][1],l=e[o][0],u=e[o][1];if(t[1]*(a-l)+s*(l-t[0])+u*(t[0]-a)==0&&(a-t[0])*(l-t[0])<=0&&(s-t[1])*(u-t[1])<=0)return!n;s>t[1]!=u>t[1]&&t[0]<(l-a)*(t[1]-s)/(u-s)+a&&(r=!r)}return r}function At(t,e){var n=[];return O(e,function(e){D(t,function(t){Tt(t,e)&&n.push(t)})}),u(n)}function Dt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return u(function(t){if(t.length<3)return[];t.sort(Pt);for(var e,n,r,i=t.length-1,o=t[i].x,a=t[0].x,s=t[i].y,l=s;i--;)t[i].y<s&&(s=t[i].y),t[i].y>l&&(l=t[i].y);var u,c=a-o,p=l-s,h=c>p?c:p,d=.5*(a+o),f=.5*(l+s),m=[new It({x:d-20*h,y:f-h,__sentinel:!0},{x:d,y:f+20*h,__sentinel:!0},{x:d+20*h,y:f-h,__sentinel:!0})],g=[],y=[];for(i=t.length;i--;){for(y.length=0,u=m.length;u--;)(c=t[i].x-m[u].x)>0&&c*c>m[u].r?(g.push(m[u]),m.splice(u,1)):c*c+(p=t[i].y-m[u].y)*p>m[u].r||(y.push(m[u].a,m[u].b,m[u].b,m[u].c,m[u].c,m[u].a),m.splice(u,1));for(Ot(y),u=y.length;u;)n=y[--u],e=y[--u],r=t[i],Math.abs(2*((n.x-e.x)*(r.y-n.y)-(n.y-e.y)*(r.x-n.x)))>1e-12&&m.push(new It(e,n,r))}for(Array.prototype.push.apply(g,m),i=g.length;i--;)(g[i].a.__sentinel||g[i].b.__sentinel||g[i].c.__sentinel)&&g.splice(i,1);return g}(t.features.map(function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r})).map(function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],a={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):a={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],a)}))}function It(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,a=e.y-t.y,s=n.x-t.x,l=n.y-t.y,u=o*(t.x+e.x)+a*(t.y+e.y),c=s*(t.x+n.x)+l*(t.y+n.y),p=2*(o*(n.y-e.y)-a*(n.x-e.x));this.x=(l*u-a*c)/p,this.y=(o*c-s*u)/p,this.r=(r=this.x-t.x)*r+(i=this.y-t.y)*i}function Pt(t,e){return e.x-t.x}function Ot(t){var e,n,r,i,o,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],r=a;r;)if(o=t[--r],i=t[--r],e===i&&n===o||e===o&&n===i){t.splice(a,2),t.splice(r,2),a-=2;continue t}}function Nt(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=H(t),o=H(e),a=b(o[1]-i[1]),s=b(o[0]-i[0]),l=b(i[1]),u=b(o[1]),c=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(l)*Math.cos(u);return m(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r)}function Rt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Ft(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return Ft(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Yt(t);default:throw new Error("unknown GeoJSON type")}}function Ft(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach(function(r){var i=e[r];n[r]="object"==typeof i?null===i?null:i.length?i.map(function(t){return t}):t(i):i}),n):n}(t.properties),e.geometry=Yt(t.geometry),e}function Yt(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return Yt(t)}),e):(e.coordinates=function t(e){return"object"!=typeof e[0]?e.slice():e.map(function(e){return t(e)})}(t.coordinates),e)}function Bt(t,e){function n(t,e){e.length&&e.pop();for(var n=l[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(s(n[r],r));t<0&&qo(e,i)}function r(t){return s(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}var s=Go(t.transform),l=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=a(e.arcs);break;case"MultiPolygon":n=e.arcs.map(a);break;default:return null}return{type:o,coordinates:n}}(e)}function zt(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function jt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Vt)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Vt:Ht)(t)}function Vt(t){var e,n=Ht(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Ht(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Ht)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Ut(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Gt(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function qt(t){return t[0].toString()+","+t[1].toString()}function Wt(t,n){var r="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var i=K(t),o=[];switch(i){case"LineString":o=Zt(t);break;case"MultiLineString":case"Polygon":U(t).forEach(function(t){o.push(Zt(t))});break;case"MultiPolygon":U(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(Zt(t))}),o.push(e)});break;case"Point":return t;case"MultiPoint":var a={};U(t).forEach(function(t){var e=t.join("-");a.hasOwnProperty(e)||(o.push(t),a[e]=!0)});break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox)}function Zt(t){var e=U(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i=[],o=e.length-1;i.push(e[0]);for(var a=1;a<o;a++)(function(t,e,n){var r=n[0],i=n[1],o=t[0],a=t[1],s=e[0],l=e[1],u=s-o,c=l-a;return(r-o)*c-(i-a)*u==0&&(Math.abs(u)>=Math.abs(c)?u>0?o<=r&&r<=s:s<=r&&r<=o:c>0?a<=i&&i<=l:l<=i&&i<=a)})(e[a-1],r=e[a+1],n=e[a])||i.push(n);return i.push(r),i}function Xt(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Jt(t,e,n){var r=e.x,i=e.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((t.x-r)*o+(t.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=t.x-r)*o+(a=t.y-i)*a}function Kt(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,r=[t[0]];return function t(e,n,r,i,o){for(var a,s=i,l=n+1;l<r;l++){var u=Jt(e[l],e[n],e[r]);u>s&&(a=l,s=u)}s>i&&(a-n>1&&t(e,n,a,i,o),o.push(e[a]),r-a>1&&t(e,a,r,i,o))}(t,0,n,e,r),r.push(t[n]),r}(t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,a=t.length;o<a;o++)Xt(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),r)}function Qt(t,e,n){return Kt(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function $t(t,e,n){return t.map(function(t){var r=t.map(function(t){return{x:t[0],y:t[1]}});if(r.length<4)throw new Error("invalid polygon");for(var i=Kt(r,e,n).map(function(t){return[t.x,t.y]});i.length<3||3===i.length&&i[2][0]===i[0][0]&&i[2][1]===i[0][1];)i=Kt(r,e-=.01*e,n).map(function(t){return[t.x,t.y]});return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i})}function te(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!M(n))throw new Error("resolution must be an number");if(!M(r))throw new Error("sharpness must be an number");for(var i=[],o=new $o({points:X(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:n,sharpness:r}),a=0;a<o.duration;a+=10){var l=o.pos(a);Math.floor(a/100)%2==0&&i.push([l.x,l.y])}return s(i,t.properties)}function ee(t){L(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[e,n];return o([[a,[r,n],[r,i],[e,i],a]])}function ne(t){return ee(V(t))}function re(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(Nt(t.slice(0,2),[r,n])>=Nt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var a=(e+r)/2;return[a-(i-n)/2,n,a+(i-n)/2,i]}function ie(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties,s=H(t),l=b(s[0]),u=b(s[1]),c=b(n),p=g(e,o),h=Math.asin(Math.sin(u)*Math.cos(p)+Math.cos(u)*Math.sin(p)*Math.cos(c));return r([v(l+Math.atan2(Math.sin(c)*Math.sin(p)*Math.cos(u),Math.cos(p)-Math.sin(u)*Math.sin(h))),v(h)],a)}function oe(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||t.properties||{};for(var a=[],s=0;s<r;s++)a.push(ie(t,e,-360*s/r,n).geometry.coordinates);return a.push(a[0]),o([a],i)}function ae(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){return(ae(e,t)+180)%360}(t,e);var r=H(t),i=H(e),o=b(r[0]),a=b(i[0]),s=b(r[1]),l=b(i[1]),u=Math.sin(a-o)*Math.cos(l),c=Math.cos(s)*Math.sin(l)-Math.sin(s)*Math.cos(l)*Math.cos(a-o);return v(Math.atan2(u,c))}function se(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=V(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function le(t,e){var n=0,i=0,o=0;return k(t,function(t){n+=t[0],i+=t[1],o++},!0),r([n/o,i/o],e)}function ue(t){var e=[];return"FeatureCollection"===t.type?D(t,function(t){k(t,function(n){e.push(r(n,t.properties))})}):k(t,function(n){e.push(r(n,t.properties))}),u(e)}function ce(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,p=c?e[0]*n:t.length,h=pe(t,0,p,n,!0),d=[];if(!h)return d;if(c&&(h=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=pe(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(a));for(s.sort(de),i=0;i<s.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,p=n.y,h=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&me(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<h||l===h&&r.x>n.x)&&ve(r,t)&&(n=r,h=l),r=r.next;return n}(t,e)){var n=be(e,t);he(n,n.next)}}(s[i],n),n=he(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var f=n;f<p;f+=n)(s=t[f])<r&&(r=s),(l=t[f+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return function t(e,n,r,i,o,a,s){if(e){!s&&a&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=fe(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,i,o,a);for(var l,u,c=e;e.prev!==e.next;)if(l=e.prev,u=e.next,a?function(t,e,n,r){var i=t.prev,o=t,a=t.next;if(ge(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=fe(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),c=fe(s,l,e,n,r),p=t.nextZ;p&&p.z<=c;){if(p!==t.prev&&p!==t.next&&me(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ge(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=u;){if(p!==t.prev&&p!==t.next&&me(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ge(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(e,i,o,a):function(t){var e=t.prev,n=t,r=t.next;if(ge(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(me(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&ge(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(e))n.push(l.i/r),n.push(e.i/r),n.push(u.i/r),we(e),e=u.next,c=u.next;else if((e=u)===c){s?1===s?t(e=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!ye(i,o)&&_e(i,r,r.next,o)&&ve(i,o)&&ve(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),we(r),we(r.next),r=t=o),r=r.next}while(r!==t);return r}(e,n,r),n,r,i,o,a,2):2===s&&function(e,n,r,i,o,a){var s=e;do{for(var l=s.next.next;l!==s.prev;){if(s.i!==l.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&_e(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&ve(t,e)&&ve(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(s,l)){var u=be(s,l);return s=he(s,s.next),u=he(u,u.next),t(s,n,r,i,o,a),void t(u,n,r,i,o,a)}l=l.next}s=s.next}while(s!==e)}(e,n,r,i,o,a):t(he(e),n,r,i,o,a,1);break}}}(h,d,n,r,i,u),d}function pe(t,e,n,r,i){var o,a;if(i===Ce(t,e,n,r)>0)for(o=e;o<n;o+=r)a=xe(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=xe(o,t[o],t[o+1],a);return a&&ye(a,a.next)&&(we(a),a=a.next),a}function he(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!ye(r,r.next)&&0!==ge(r.prev,r,r.next))r=r.next;else{if(we(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function de(t,e){return t.x-e.x}function fe(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function me(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function ge(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ye(t,e){return t.x===e.x&&t.y===e.y}function _e(t,e,n,r){return!!(ye(t,e)&&ye(n,r)||ye(t,r)&&ye(n,e))||ge(t,e,n)>0!=ge(t,e,r)>0&&ge(n,r,t)>0!=ge(n,r,e)>0}function ve(t,e){return ge(t.prev,t,t.next)<0?ge(t,e,t.next)>=0&&ge(t,t.prev,e)>=0:ge(t,e,t.prev)<0||ge(t,t.next,e)<0}function be(t,e){var n=new Me(t.i,t.x,t.y),r=new Me(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function xe(t,e,n,r){var i=new Me(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function we(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Me(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ce(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function Le(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n}(t),n=ta(e.vertices,e.holes,2),r=[],i=[];n.forEach(function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var a=0;a<i.length;a+=3){var s=i.slice(a,a+3);s.push(i[a]),r.push(o([s]))}return r}function Ee(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return D(e,function(e,i){var o=Nt(t,e);o<r&&((n=Rt(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)}),n}function ke(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var p=e[n],h=r,d=i;for(Te(e,r,n),o(e[i],p)>0&&Te(e,r,i);h<d;){for(Te(e,h,d),h++,d--;o(e[h],p)<0;)h++;for(;o(e[d],p)>0;)d--}0===o(e[r],p)?Te(e,r,d):Te(e,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function Te(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Se(t,e){if(!(this instanceof Se))return new Se(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ae(t,e){De(t,0,t.children.length,e,t)}function De(t,e,n,r,i){i||(i=Be(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],Ie(i,t.leaf?r(o):o);return i}function Ie(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Pe(t,e){return t.minX-e.minX}function Oe(t,e){return t.minY-e.minY}function Ne(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Re(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Fe(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ye(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Be(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ze(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(ke(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),a.push(e,o,o,n))}function je(t){var e=Se(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=Ve(e)).bbox=e}else t.bbox=t.bbox?t.bbox:He(t);return Se.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){var n=Ve(t);n.bbox=t,e.push(n)}):D(t,function(t){t.bbox=t.bbox?t.bbox:He(t),e.push(t)}),Se.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=Ve(e)).bbox=e}return Se.prototype.remove.call(this,t)},e.clear=function(){return Se.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Se.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Se.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Se.prototype.all.call(this)}},e.toJSON=function(){return Se.prototype.toJSON.call(this)},e.fromJSON=function(t){return Se.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:He(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function Ve(t){var e=[t[0],t[1]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],[t[2],t[3]],[t[0],t[3]],e]]}}}function He(t){var e=[1/0,1/0,-1/0,-1/0];return k(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function Ue(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=U(r);break;case"LineString":n=[U(r)]}n.forEach(function(n){(function(t,e){var n=[];return t.reduce(function(t,r){var i=s([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r}),n})(n,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}(t,e)}),u(e)}function Ge(t,n){var r={},i=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=qe(t,n);return o&&i.push(o),u(i)}var a=je();return a.load(Ue(n)),D(Ue(t),function(t){D(a.search(t),function(e){var n=qe(t,e);if(n){var o=U(n).join(",");r[o]||(r[o]=!0,i.push(n))}})}),u(i)}function qe(t,e){var n=U(t),i=U(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],a=n[0][1],s=n[1][0],l=n[1][1],u=i[0][0],c=i[0][1],p=i[1][0],h=i[1][1],d=(h-c)*(s-o)-(p-u)*(l-a);if(0===d)return null;var f=((p-u)*(a-c)-(h-c)*(o-u))/d,m=((s-o)*(a-c)-(l-a)*(o-u))/d;return f>=0&&f<=1&&m>=0&&m<=1?r([o+f*(s-o),a+f*(l-a)]):null}function We(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var o=r([1/0,1/0],{dist:1/0}),a=0;return R(t,function(t){for(var i=U(t),l=0;l<i.length-1;l++){var u=r(i[l]);u.properties.dist=Nt(e,u,n);var c=r(i[l+1]);c.properties.dist=Nt(e,c,n);var p=Nt(u,c,n),h=Math.max(u.properties.dist,c.properties.dist),d=ae(u,c),f=ie(e,h,d+90,n),m=ie(e,h,d-90,n),g=Ge(s([f.geometry.coordinates,m.geometry.coordinates]),s([u.geometry.coordinates,c.geometry.coordinates])),y=null;g.features.length>0&&((y=g.features[0]).properties.dist=Nt(e,y,n),y.properties.location=a+Nt(u,y,n)),u.properties.dist<o.properties.dist&&((o=u).properties.index=l,o.properties.location=a),c.properties.dist<o.properties.dist&&((o=c).properties.index=l+1,o.properties.location=a+p),y&&y.properties.dist<o.properties.dist&&((o=y).properties.index=l),a+=p}}),o}function Ze(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(r=i?Xe(H(e),H(t)):Xe(H(t),H(e)))>180?-(360-r):r}function Xe(t,e){var n=b(t[1]),r=b(e[1]),i=b(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(v(Math.atan2(i,o))+360)%360}function Je(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var i=H(t),o=H(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,x(function(t,e,n){var r=n=void 0===n?vo:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,a=o-i,s=Math.abs(e[0]-t[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var l=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),u=Math.abs(l)>1e-11?a/l:Math.cos(i);return Math.sqrt(a*a+u*u*s*s)*r}(i,o),"meters",r)}function Ke(t,e){return $e(t,"mercator",e)}function Qe(t,e){return $e(t,"wgs84",e)}function $e(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&M(t[0])?t="mercator"===e?tn(t):en(t):(!0!==r&&(t=Rt(t)),k(t,function(t){var n="mercator"===e?tn(t):en(t);t[0]=n[0],t[1]=n[1]})),t}function tn(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function en(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function nn(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):W(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=s(n):"LineString"===n.type?n=e(n):W(n,"LineString","line");var o=1/0,a=t.geometry.coordinates;return Y(n,function(t){var e=function(t,e,n,i){var o=i.mercator,a=!0!==o?Nt(e,t,i):rn(e,t,i),s=_(!0!==o?ae(e,t):Ze(e,t)),l=_(!0!==o?ae(e,n):Ze(e,n)),u=Math.abs(s-l);if(u>90)return a;var c=(l+180)%360,p=_(!0!==o?ae(n,t):Ze(n,t)),h=Math.abs(p-c);return h>180&&(h=Math.abs(h-360)),h>90?!0!==o?Nt(t,n,i):rn(t,n,i):!0!==o?a*Math.sin(b(u)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var a=r(n),s=Qe(function(t,e,n){var r=t[0],i=t[1],o=e[0]-r,a=e[1]-i,s=((n[0]-r)*o+(n[1]-i)*a)/(o*o+a*a);return[r+s*o,i+s*a]}(Ke([t[0]+o,t[1]]),Ke([e[0]+o,e[1]]),Ke([n[0]+o,n[1]])));return 0!==o&&(s[0]-=o),Je(a,s,i)}(e,n,t,i)}(a,t.geometry.coordinates[0],t.geometry.coordinates[1],i);o>e&&(o=e)}),o}function rn(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=Ke([t[0]+i,t[1]]),a=Ke([e[0]+i,e[1]]),s=function(t){return t*t},l=s(o[0]-a[0])+s(o[1]-a[1]);return x(Math.sqrt(l),"meters",r)}function on(t){for(var n=function(t){return"FeatureCollection"!==t.type?u("Feature"!==t.type?[e(t)]:[t]):t}(t),i=se(n),o=!1,a=0;!o&&a<n.features.length;){var s,l=n.features[a].geometry,c=!1;if("Point"===l.type)i.geometry.coordinates[0]===l.coordinates[0]&&i.geometry.coordinates[1]===l.coordinates[1]&&(o=!0);else if("MultiPoint"===l.type){var p=!1;for(s=0;!p&&s<l.coordinates.length;)i.geometry.coordinates[0]===l.coordinates[s][0]&&i.geometry.coordinates[1]===l.coordinates[s][1]&&(o=!0,p=!0),s++}else if("LineString"===l.type)for(s=0;!c&&s<l.coordinates.length-1;)an(i.geometry.coordinates[0],i.geometry.coordinates[1],l.coordinates[s][0],l.coordinates[s][1],l.coordinates[s+1][0],l.coordinates[s+1][1])&&(c=!0,o=!0),s++;else if("MultiLineString"===l.type)for(var h=0;h<l.coordinates.length;){c=!1,s=0;for(var d=l.coordinates[h];!c&&s<d.length-1;)an(i.geometry.coordinates[0],i.geometry.coordinates[1],d[s][0],d[s][1],d[s+1][0],d[s+1][1])&&(c=!0,o=!0),s++;h++}else"Polygon"!==l.type&&"MultiPolygon"!==l.type||Tt(i,l)&&(o=!0);a++}if(o)return i;var f=u([]);for(a=0;a<n.features.length;a++)f.features=f.features.concat(ue(n.features[a]).features);return r(Ee(i,f).geometry.coordinates)}function an(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function sn(t){return N(t,function(t,e){return t+function t(e){var n,r=0;switch(e.type){case"Polygon":return ln(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=ln(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}}(e)},0)}function ln(t){var e=0;if(t&&t.length>0){e+=Math.abs(un(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(un(t[n]))}return e}function un(t){var e,n,r,i,o,a,s=0,l=t.length;if(l>2){for(a=0;a<l;a++)a===l-2?(r=l-2,i=l-1,o=0):a===l-1?(r=l-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(cn(t[o][0])-cn(e[0]))*Math.sin(cn(n[1]));s=s*ra*ra/2}return s}function cn(t){return t*Math.PI/180}function pn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return B(t,function(t,n){var r=n.geometry.coordinates;return t+Nt(r[0],r[1],e)},0)}function hn(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var a,l,u,c=0,p=0;p<i.length&&!(e>=c&&p===i.length-1);p++){if(c>e&&0===o.length){if(!(a=e-c))return o.push(i[p]),s(o);l=ae(i[p],i[p-1])-180,u=ie(i[p],a,l,r),o.push(u.geometry.coordinates)}if(c>=n)return(a=n-c)?(l=ae(i[p],i[p-1])-180,u=ie(i[p],a,l,r),o.push(u.geometry.coordinates),s(o)):(o.push(i[p]),s(o));if(c>=e&&o.push(i[p]),p===i.length-1)return s(o);c+=Nt(i[p],i[p+1],r)}return s(i[i.length-1])}function dn(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var i=H(t),o=U(e),a=0;a<o.length-1;a++){var s=!1;if(r&&(0===a&&(s="start"),a===o.length-2&&(s="end"),0===a&&a+1===o.length-1&&(s="both")),function(t,e,n,r){var i=n[0],o=n[1],a=t[0],s=t[1],l=e[0],u=e[1],c=l-a,p=u-s;return(n[0]-a)*p-(n[1]-s)*c==0&&(r?"start"===r?Math.abs(c)>=Math.abs(p)?c>0?a<i&&i<=l:l<=i&&i<a:p>0?s<o&&o<=u:u<=o&&o<s:"end"===r?Math.abs(c)>=Math.abs(p)?c>0?a<=i&&i<l:l<i&&i<=a:p>0?s<=o&&o<u:u<o&&o<=s:"both"===r?Math.abs(c)>=Math.abs(p)?c>0?a<i&&i<l:l<i&&i<a:p>0?s<o&&o<u:u<o&&o<s:void 0:Math.abs(c)>=Math.abs(p)?c>0?a<=i&&i<=l:l<=i&&i<=a:p>0?s<=o&&o<=u:u<=o&&o<=s)}(o[a],o[a+1],i,s))return!0}return!1}function fn(t,e){var n=K(t),r=K(e),i=X(t),o=X(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(gn(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case"LineString":return dn(i,o,{ignoreEndVertices:!0});case"Polygon":return Tt(i,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)gn(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!dn(t.coordinates[r],e))return!1;n||(n=dn(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=Tt(t.coordinates[1],e);if(!i){n=!1;break}i=Tt(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!dn(t.coordinates[n],e))return!1;return!0}(i,o);case"Polygon":return function(t,e){if(!mn(V(e),V(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!Tt(t.coordinates[r],e))return!1;n||(n=Tt(t.coordinates[r],e,{ignoreBoundary:!0})),n||(n=Tt(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0}))}return n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=V(t);if(!mn(V(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Tt(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function mn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function gn(t,e){return t[0]===e[0]&&t[1]===e[1]}function yn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.mask,o=n.properties,a=[];if(null==e)throw new Error("cellSide is required");if(!M(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],l=t[1],c=t[2],p=t[3],h=e/Nt([s,l],[c,l],n)*(c-s),d=e/Nt([s,l],[s,p],n)*(p-l),f=c-s,m=p-l,g=Math.floor(f/h),y=(m-Math.floor(m/d)*d)/2,_=s+(f-g*h)/2;_<=c;){for(var v=l+y;v<=p;){var b=r([_,v],o);i?fn(b,i)&&a.push(b):a.push(b),v+=d}_+=h}return u(a)}function _n(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return k(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)}),t}function vn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!vn(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function bn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function xn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!xn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function wn(t,e){var n=[],r=je();return R(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var i=r.search(e);if(i.features.length){var o=Cn(e,i);n=n.filter(function(t){return t.id!==o.id}),r.remove(o),D(Mn(o,e),function(t){n.push(t),r.insert(t)})}}else(n=Mn(t,e).features).forEach(function(t){t.bbox||(t.bbox=re(V(t)))}),r.load(u(n))}),u(n)}function Mn(t,e){var n=[],r=U(t)[0],i=U(t)[t.geometry.coordinates.length-1];if(Ln(r,H(e))||Ln(i,H(e)))return u([t]);var o=je(),a=Ue(t);o.load(a);var l=o.search(e);if(!l.features.length)return u([t]);var c=Cn(e,l),p=I(a,function(t,r,i){var o=U(r)[1],a=H(e);return i===c.id?(t.push(a),n.push(s(t)),Ln(a,o)?[a]:[a,o]):(t.push(o),t)},[r]);return p.length>1&&n.push(s(p)),u(n)}function Cn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return D(e,function(e){var i=We(e,t).properties.dist;i<r&&(n=e,r=i)}),n}function Ln(t,e){return t[0]===e[0]&&t[1]===e[1]}function En(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.steps,a=i.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");o=o||64;var l=kn(n),u=kn(r),c=t.properties;if(l===u)return s(oe(t,e,i).geometry.coordinates[0],c);for(var p=l,h=l<u?u:u+360,d=p,f=[],m=0;d<h;)f.push(ie(t,e,d,a).geometry.coordinates),d=p+360*++m/o;return d>h&&f.push(ie(t,e,h,a).geometry.coordinates),s(f,c)}function kn(t){var e=t%360;return e<0&&(e+=360),e}function Tn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=K(t),i=U(t);if(n=n||t.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Sn(i,n);case"MultiPolygon":var o=[];return i.forEach(function(t){o.push(Sn(t,n))}),u(o);default:throw new Error("geom "+r+" not supported")}}function Sn(t,e){return t.length>1?c(t,e):s(t[0],e)}function An(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,K(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach(function(t){o.push(U(Dn(t,{},r,i)))}),h(o,n)}return Dn(t,n,r,i)}function Dn(t,e,n,r){e=e||t.properties||{};var i=U(t),a=K(t);if(!i.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(i=In(i)),o([i],e);case"MultiLineString":var l=[],u=0;return i.forEach(function(t){if(n&&(t=In(t)),r){var e=function(t){var e=t[1],n=t[3];return Math.abs(t[0]-t[2])*Math.abs(e-n)}(V(s(t)));e>u?(l.unshift(t),u=e):l.push(t)}else l.push(t)}),o(l,e);default:throw new Error("geometry type "+a+" is not supported")}}function In(t){var e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]||t.push(e),t}function Pn(t,e,n){var r,i,o,a,s,l=t.length,u=Nn(t[0],e),c=[];for(n||(n=[]),r=1;r<l;r++){for(i=t[r-1],a=s=Nn(o=t[r],e);;){if(!(u|a)){c.push(i),a!==s?(c.push(o),r<l-1&&(n.push(c),c=[])):r===l-1&&c.push(o);break}if(u&a)break;u?u=Nn(i=On(i,o,u,e),e):a=Nn(o=On(i,o,a,e),e)}u=s}return c.length&&n.push(c),n}function On(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Nn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Rn(t,e){for(var n=[],r=0;r<t.length;r++){var i=ha.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Fn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Yn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?t===e:function(t,e,n){var r,i;if(Bn(t)||Bn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Fn(t))return!!Fn(e)&&Yn(t=da.call(t),e=da.call(e),n);if(zn(t)){if(!zn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),a=Object.keys(e)}catch(t){return!1}if(o.length!==a.length)return!1;for(o.sort(),a.sort(),r=o.length-1;r>=0;r--)if(o[r]!==a[r])return!1;for(r=o.length-1;r>=0;r--)if(!Yn(t[i=o[r]],e[i],n))return!1;return typeof t==typeof e}(t,e,n))}function Bn(t){return null==t}function zn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function jn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],a=je();return a.load(Ue(t)),Y(e,function(t){var e=!1;D(a.search(t),function(n){if(!1===e){var o=U(t).sort(),a=U(n).sort();Yn(o,a)?(e=!0,r=r?Vn(r,t):t):(0===i?dn(o[0],n)&&dn(o[1],n):We(n,o[0]).properties.dist<=i&&We(n,o[1]).properties.dist<=i)?(e=!0,r=r?Vn(r,t):t):(0===i?dn(a[0],t)&&dn(a[1],t):We(t,a[0]).properties.dist<=i&&We(t,a[1]).properties.dist<=i)&&(r=r?Vn(r,n):n)}}),!1===e&&r&&(o.push(r),r=void 0)}),r&&o.push(r),u(o)}function Vn(t,e){var n=U(e),r=U(t),i=r[0],o=r[r.length-1],a=t.geometry.coordinates;return Yn(n[0],i)?a.unshift(n[1]):Yn(n[0],o)?a.push(n[1]):Yn(n[1],i)?a.unshift(n[0]):Yn(n[1],o)&&a.push(n[0]),t}function Hn(t){var e=t%360;return e<0&&(e+=360),e}function Un(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var s=x(e,o,"meters"),l=H(t),u=function(t,e,n,r){var i=e/(r=void 0===r?vo:Number(r)),o=t[0]*Math.PI/180,a=b(t[1]),s=b(n),l=i*Math.cos(s),u=a+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);var c=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),p=Math.abs(c)>1e-11?l/c:Math.cos(a);return[(180*(o+i*Math.sin(s)/p)/Math.PI+540)%360-180,180*u/Math.PI]}(l,s,n);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,r(u,a)}function Gn(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],l=t[a+1];a===t.length-1&&(l=t[0]),r=qn(s,l,e),n<=0&&r>0?function(t,e,n){return qn(t,s,i)<0}(e)||(i=s):n>0&&r<=0&&(function(t,e,n){return qn(t,s,o)>0}(e)||(o=s)),n=r}return[i,o]}function qn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Wn(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,i=U(t),o=0,a=1;a<i.length;)n=r||i[0],o+=((r=i[a])[0]-n[0])*(r[1]+n[1]),a++;return o>0}function Zn(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return O(t,function(t){Zn(t,e)}),t;case"LineString":return Xn(U(t),e),t;case"Polygon":return Jn(U(t),e),t;case"MultiLineString":return U(t).forEach(function(t){Xn(t,e)}),t;case"MultiPolygon":return U(t).forEach(function(t){Jn(t,e)}),t;case"Point":case"MultiPoint":return t}}function Xn(t,e){Wn(t)===e&&t.reverse()}function Jn(t,e){Wn(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Wn(t[n])===e&&t[n].reverse()}function Kn(t,e,n,r){r=r||{};for(var i=Object.keys(fa),o=0;o<i.length;o++){var a=i[o],s=r[a];ma[a]=s=null!=s?s:fa[a]}ma.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var l,u=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},a=e+Math.abs(n),s=0;s<r;++s){o.cells[s]=[];for(var l=0;l<i;++l){var u=0,c=t[s+1][l],p=t[s+1][l+1],h=t[s][l+1],d=t[s][l];if(!(isNaN(c)||isNaN(p)||isNaN(h)||isNaN(d))){u|=c<e?0:c>a?128:64,u|=p<e?0:p>a?32:16,u|=h<e?0:h>a?8:4;var f=+(u|=d<e?0:d>a?2:1),m=0;if(17===u||18===u||33===u||34===u||38===u||68===u||72===u||98===u||102===u||132===u||136===u||137===u||152===u||153===u){var g=(c+p+h+d)/4;m=g>a?2:g<e?0:1,34===u?1===m?u=35:0===m&&(u=136):136===u?1===m?(u=35,m=4):0===m&&(u=34):17===u?1===m?(u=155,m=4):0===m&&(u=153):68===u?1===m?(u=103,m=4):0===m&&(u=102):153===u?1===m&&(u=155):102===u?1===m&&(u=103):152===u?m<2&&(u=156,m=1):137===u?m<2&&(u=139,m=1):98===u?m<2&&(u=99,m=1):38===u?m<2&&(u=39,m=1):18===u?m>0?(u=156,m=4):u=152:33===u?m>0?(u=139,m=4):u=137:72===u?m>0?(u=99,m=4):u=98:132===u&&(m>0?(u=39,m=4):u=38)}if(0!=u&&170!=u){var y,_,v,b,x,w,M,C;y=_=v=b=x=w=M=C=.5;var L=[];1===u?(v=1-Qn(e,h,d),C=1-Qn(e,c,d),L.push(es[u])):169===u?(v=Qn(a,d,h),C=Qn(a,d,c),L.push(es[u])):4===u?(w=1-Qn(e,p,h),b=Qn(e,d,h),L.push($a[u])):166===u?(w=Qn(a,h,p),b=1-Qn(a,h,d),L.push($a[u])):16===u?(x=Qn(e,h,p),_=Qn(e,c,p),L.push(Qa[u])):154===u?(x=1-Qn(a,p,h),_=1-Qn(a,p,c),L.push(Qa[u])):64===u?(M=Qn(e,d,c),y=1-Qn(e,p,c),L.push(rs[u])):106===u?(M=1-Qn(a,c,d),y=Qn(a,c,p),L.push(rs[u])):168===u?(b=Qn(a,d,h),v=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),L.push(ts[u]),L.push(es[u])):2===u?(b=1-Qn(e,h,d),v=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),L.push(ts[u]),L.push(es[u])):162===u?(x=Qn(a,h,p),w=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),L.push(ts[u]),L.push(es[u])):8===u?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),L.push(Qa[u]),L.push($a[u])):138===u?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),y=1-Qn(a,p,c),_=1-Qn(e,p,c),L.push(Qa[u]),L.push($a[u])):32===u?(x=Qn(a,h,p),w=Qn(e,h,p),y=Qn(e,c,p),_=Qn(a,c,p),L.push(Qa[u]),L.push($a[u])):42===u?(C=1-Qn(a,c,d),M=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p),L.push(ns[u]),L.push(rs[u])):128===u&&(C=Qn(e,d,c),M=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c),L.push(ns[u]),L.push(rs[u])),5===u?(w=1-Qn(e,p,h),C=1-Qn(e,c,d),L.push($a[u])):165===u?(w=Qn(a,h,p),C=Qn(a,d,c),L.push($a[u])):20===u?(b=Qn(e,d,h),_=Qn(e,c,p),L.push(ts[u])):150===u?(b=1-Qn(a,h,d),_=1-Qn(a,p,c),L.push(ts[u])):80===u?(x=Qn(e,h,p),M=Qn(e,d,c),L.push(Qa[u])):90===u?(x=1-Qn(a,p,h),M=1-Qn(a,c,d),L.push(Qa[u])):65===u?(v=1-Qn(e,h,d),y=1-Qn(e,p,c),L.push(es[u])):105===u?(v=Qn(a,d,h),y=Qn(a,c,p),L.push(es[u])):160===u?(x=Qn(a,h,p),w=Qn(e,h,p),C=Qn(e,d,c),M=Qn(a,d,c),L.push(Qa[u]),L.push($a[u])):10===u?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),C=1-Qn(a,c,d),M=1-Qn(e,c,d),L.push(Qa[u]),L.push($a[u])):130===u?(b=1-Qn(e,h,d),v=1-Qn(a,h,d),y=1-Qn(a,p,c),_=1-Qn(e,p,c),L.push(ts[u]),L.push(es[u])):40===u?(b=Qn(a,d,h),v=Qn(e,d,h),y=Qn(e,c,p),_=Qn(a,c,p),L.push(ts[u]),L.push(es[u])):101===u?(w=Qn(a,h,p),y=Qn(a,c,p),L.push($a[u])):69===u?(w=1-Qn(e,p,h),y=1-Qn(e,p,c),L.push($a[u])):149===u?(C=Qn(a,d,c),_=1-Qn(a,p,c),L.push(ns[u])):21===u?(C=1-Qn(e,c,d),_=Qn(e,c,p),L.push(ns[u])):86===u?(b=1-Qn(a,h,d),M=1-Qn(a,c,d),L.push(ts[u])):84===u?(b=Qn(e,d,h),M=Qn(e,d,c),L.push(ts[u])):89===u?(x=1-Qn(a,p,h),v=Qn(a,d,h),L.push(es[u])):81===u?(x=Qn(e,h,p),v=1-Qn(e,h,d),L.push(es[u])):96===u?(x=Qn(a,h,p),w=Qn(e,h,p),M=Qn(e,d,c),y=Qn(a,c,p),L.push(Qa[u]),L.push($a[u])):74===u?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),M=1-Qn(a,c,d),y=1-Qn(e,p,c),L.push(Qa[u]),L.push($a[u])):24===u?(x=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),_=Qn(e,c,p),L.push(Qa[u]),L.push(es[u])):146===u?(x=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),_=1-Qn(a,p,c),L.push(Qa[u]),L.push(es[u])):6===u?(w=1-Qn(e,p,h),b=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),L.push($a[u]),L.push(ts[u])):164===u?(w=Qn(a,h,p),b=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),L.push($a[u]),L.push(ts[u])):129===u?(v=1-Qn(e,h,d),C=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c),L.push(es[u]),L.push(ns[u])):41===u?(v=Qn(a,d,h),C=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p),L.push(es[u]),L.push(ns[u])):66===u?(b=1-Qn(e,h,d),v=1-Qn(a,h,d),M=1-Qn(a,c,d),y=1-Qn(e,p,c),L.push(ts[u]),L.push(es[u])):104===u?(b=Qn(a,d,h),v=Qn(e,d,h),M=Qn(e,d,c),y=Qn(a,c,p),L.push(es[u]),L.push(is[u])):144===u?(x=Qn(e,h,p),C=Qn(e,d,c),M=Qn(a,d,c),_=1-Qn(a,p,c),L.push(Qa[u]),L.push(rs[u])):26===u?(x=1-Qn(a,p,h),C=1-Qn(a,c,d),M=1-Qn(e,c,d),_=Qn(e,c,p),L.push(Qa[u]),L.push(rs[u])):36===u?(w=Qn(a,h,p),b=Qn(e,d,h),y=Qn(e,c,p),_=Qn(a,c,p),L.push($a[u]),L.push(ts[u])):134===u?(w=1-Qn(e,p,h),b=1-Qn(a,h,d),y=1-Qn(a,p,c),_=1-Qn(e,p,c),L.push($a[u]),L.push(ts[u])):9===u?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),v=Qn(a,d,h),C=1-Qn(e,c,d),L.push(Qa[u]),L.push($a[u])):161===u?(x=Qn(a,h,p),w=Qn(e,h,p),v=1-Qn(e,h,d),C=Qn(a,d,c),L.push(Qa[u]),L.push($a[u])):37===u?(w=Qn(a,h,p),C=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p),L.push($a[u]),L.push(ns[u])):133===u?(w=1-Qn(e,p,h),C=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c),L.push($a[u]),L.push(ns[u])):148===u?(b=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),_=1-Qn(a,p,c),L.push(ts[u]),L.push(rs[u])):22===u?(b=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),_=Qn(e,c,p),L.push(ts[u]),L.push(rs[u])):82===u?(x=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),M=1-Qn(a,c,d),L.push(Qa[u]),L.push(es[u])):88===u?(x=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),M=Qn(e,d,c),L.push(Qa[u]),L.push(es[u])):73===u?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),v=Qn(a,d,h),y=1-Qn(e,p,c),L.push(Qa[u]),L.push($a[u])):97===u?(x=Qn(a,h,p),w=Qn(e,h,p),v=1-Qn(e,h,d),y=Qn(a,c,p),L.push(Qa[u]),L.push($a[u])):145===u?(x=Qn(e,h,p),v=1-Qn(e,h,d),C=Qn(a,d,c),_=1-Qn(a,p,c),L.push(Qa[u]),L.push(ns[u])):25===u?(x=1-Qn(a,p,h),v=Qn(a,d,h),C=1-Qn(e,c,d),_=Qn(e,c,p),L.push(Qa[u]),L.push(ns[u])):70===u?(w=1-Qn(e,p,h),b=1-Qn(a,h,d),M=1-Qn(a,c,d),y=1-Qn(e,p,c),L.push($a[u]),L.push(ts[u])):100===u?(w=Qn(a,h,p),b=Qn(e,d,h),M=Qn(e,d,c),y=Qn(a,c,p),L.push($a[u]),L.push(ts[u])):34===u?(0===m?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c)):(x=Qn(a,h,p),w=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p)),L.push(Qa[u]),L.push($a[u]),L.push(ns[u]),L.push(rs[u])):35===u?(4===m?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c)):(x=Qn(a,h,p),w=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p)),L.push(Qa[u]),L.push($a[u]),L.push(es[u]),L.push(rs[u])):136===u?(0===m?(x=Qn(a,h,p),w=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p)):(x=1-Qn(e,p,h),w=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c)),L.push(Qa[u]),L.push($a[u]),L.push(ns[u]),L.push(rs[u])):153===u?(0===m?(x=Qn(e,h,p),v=1-Qn(e,h,d),C=1-Qn(e,c,d),_=Qn(e,c,p)):(x=1-Qn(a,p,h),v=Qn(a,d,h),C=Qn(a,d,c),_=1-Qn(a,p,c)),L.push(Qa[u]),L.push(es[u])):102===u?(0===m?(w=1-Qn(e,p,h),b=Qn(e,d,h),M=Qn(e,d,c),y=1-Qn(e,p,c)):(w=Qn(a,h,p),b=1-Qn(a,h,d),M=1-Qn(a,c,d),y=Qn(a,c,p)),L.push($a[u]),L.push(rs[u])):155===u?(4===m?(x=Qn(e,h,p),v=1-Qn(e,h,d),C=1-Qn(e,c,d),_=Qn(e,c,p)):(x=1-Qn(a,p,h),v=Qn(a,d,h),C=Qn(a,d,c),_=1-Qn(a,p,c)),L.push(Qa[u]),L.push(ns[u])):103===u?(4===m?(w=1-Qn(e,p,h),b=Qn(e,d,h),M=Qn(e,d,c),y=1-Qn(e,p,c)):(w=Qn(a,h,p),b=1-Qn(a,h,d),M=1-Qn(a,c,d),y=Qn(a,c,p)),L.push($a[u]),L.push(ts[u])):152===u?(0===m?(x=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),_=Qn(e,c,p)):(x=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),_=1-Qn(a,p,c)),L.push(Qa[u]),L.push(ts[u]),L.push(es[u])):156===u?(4===m?(x=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),_=Qn(e,c,p)):(x=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),_=1-Qn(a,p,c)),L.push(Qa[u]),L.push(es[u]),L.push(rs[u])):137===u?(0===m?(x=Qn(a,h,p),w=Qn(e,h,p),v=1-Qn(e,h,d),C=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p)):(x=1-Qn(e,p,h),w=1-Qn(a,p,h),v=Qn(a,d,h),C=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c)),L.push(Qa[u]),L.push($a[u]),L.push(es[u])):139===u?(4===m?(x=Qn(a,h,p),w=Qn(e,h,p),v=1-Qn(e,h,d),C=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p)):(x=1-Qn(e,p,h),w=1-Qn(a,p,h),v=Qn(a,d,h),C=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c)),L.push(Qa[u]),L.push($a[u]),L.push(ns[u])):98===u?(0===m?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),M=Qn(e,d,c),y=1-Qn(e,p,c)):(x=Qn(a,h,p),w=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),M=1-Qn(a,c,d),y=Qn(a,c,p)),L.push(Qa[u]),L.push($a[u]),L.push(rs[u])):99===u?(4===m?(x=1-Qn(e,p,h),w=1-Qn(a,p,h),b=Qn(a,d,h),v=Qn(e,d,h),M=Qn(e,d,c),y=1-Qn(e,p,c)):(x=Qn(a,h,p),w=Qn(e,h,p),b=1-Qn(e,h,d),v=1-Qn(a,h,d),M=1-Qn(a,c,d),y=Qn(a,c,p)),L.push(Qa[u]),L.push($a[u]),L.push(es[u])):38===u?(0===m?(w=1-Qn(e,p,h),b=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c)):(w=Qn(a,h,p),b=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p)),L.push($a[u]),L.push(ns[u]),L.push(rs[u])):39===u?(4===m?(w=1-Qn(e,p,h),b=Qn(e,d,h),C=Qn(e,d,c),M=Qn(a,d,c),y=1-Qn(a,p,c),_=1-Qn(e,p,c)):(w=Qn(a,h,p),b=1-Qn(a,h,d),C=1-Qn(a,c,d),M=1-Qn(e,c,d),y=Qn(e,c,p),_=Qn(a,c,p)),L.push($a[u]),L.push(ts[u]),L.push(rs[u])):85===u&&(x=1,w=0,b=1,v=0,C=0,M=1,y=0,_=1),(y<0||y>1||_<0||_>1||x<0||x>1||b<0||b>1||C<0||C>1||M<0||M>1)&&console.log("MarchingSquaresJS-isoBands: "+u+" "+f+" "+c+","+p+","+h+","+d+" "+m+" "+y+" "+_+" "+x+" "+w+" "+b+" "+v+" "+C+" "+M),o.cells[s][l]={cval:u,cval_real:f,flipped:m,topleft:y,topright:_,righttop:x,rightbottom:w,bottomright:b,bottomleft:v,leftbottom:C,lefttop:M,edges:L}}}}}return o}(t,e,n);return ma.polygons?(ma.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),l=function(t){var e=[],n=0;return u.cells.forEach(function(t,r){t.forEach(function(t,i){if(void 0!==t){var o=as[t.cval](t);"object"==typeof o&&$n(o)?"object"==typeof o[0]&&$n(o[0])?"object"==typeof o[0][0]&&$n(o[0][0])?o.forEach(function(t){t.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=t}):(o.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}()):(ma.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),l=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var a=0;a<r;a++)if(void 0!==t.cells[o][a]&&t.cells[o][a].edges.length>0){var s=function(t){if(t.edges.length>0){var e=t.cval_real;switch(t.edges[t.edges.length-1]){case 0:return e&ya?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return e&_a?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return e&_a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return e&va?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return e&ya?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return e&_a?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return e&_a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return e&va?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return e&_a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return e&va?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return e&va?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return e&ga?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return e&_a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return e&va?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return e&va?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return e&ga?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return e&_a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return e&ga?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return e&va?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return e&ga?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return e&ga?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return e&ya?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return e&ga?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return e&ya?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][a]),l=null,u=a,c=o;null!==s&&i.push([s.p[0]+u,s.p[1]+c]);do{if(null===(l=function(t,e,n,r){var i,o,a,s,l,u=t.cval;switch(e){case-1:switch(r){case 0:i=$a[u],a=Sa[u],s=Aa[u],l=Da[u];break;default:i=Qa[u],a=Ea[u],s=ka[u],l=Ta[u]}break;case 1:switch(r){case 0:i=ns[u],a=ja[u],s=Va[u],l=Ha[u];break;default:i=rs[u],a=Ya[u],s=Ba[u],l=za[u]}break;default:switch(n){case-1:switch(r){case 0:i=is[u],a=ba[u],s=xa[u],l=wa[u];break;default:i=os[u],a=Ma[u],s=Ca[u],l=La[u]}break;case 1:switch(r){case 0:i=es[u],a=Ia[u],s=Pa[u],l=Oa[u];break;default:i=ts[u],a=Na[u],s=Ra[u],l=Fa[u]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),u=t.cval_real,i){case 0:u&ya?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:u&_a?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:u&_a?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:u&va?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:u&ya?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:u&_a?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:u&_a?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:u&va?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:u&_a?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:u&va?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:u&va?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:u&ga?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:u&_a?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:u&va?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:u&va?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:u&ga?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:u&_a?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:u&ga?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:u&va?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:u&ga?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:u&ga?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:u&ya?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:u&ga?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:u&ya?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==l||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+a+" "+s+" "+l)),{p:[e,n],x:a,y:s,o:l}}(t.cells[c][u],s.x,s.y,s.o)))break;if(i.push([l.p[0]+u,l.p[1]+c]),u+=l.x,s=l,(c+=l.y)<0||c>=n||u<0||u>=r||void 0===t.cells[c][u]){var p=function(t,e,n,r,i,o){for(var a=t.cells[n][e],s=a.cval_real,l=e+r,u=n+i,c=[],p=!1;!p;){if(void 0===t.cells[u]||void 0===t.cells[u][l])if(s=(a=t.cells[u-=i][l-=r]).cval_real,-1===i)if(0===o)if(s&va)c.push([l,u]),r=-1,i=0,o=0;else{if(!(s&_a)){c.push([l+a.bottomright,u]),r=0,i=1,o=1,p=!0;break}c.push([l+1,u]),r=1,i=0,o=0}else{if(!(s&va)){if(s&_a){c.push([l+a.bottomright,u]),r=0,i=1,o=1,p=!0;break}c.push([l+a.bottomleft,u]),r=0,i=1,o=0,p=!0;break}c.push([l,u]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(s&ya)){if(s&ga){c.push([l+a.topleft,u+1]),r=0,i=-1,o=0,p=!0;break}c.push([l+a.topright,u+1]),r=0,i=-1,o=1,p=!0;break}c.push([l+1,u+1]),r=1,i=0,o=1}else c.push([l+1,u+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(s&ga)){if(s&va){c.push([l,u+a.leftbottom]),r=1,i=0,o=0,p=!0;break}c.push([l,u+a.lefttop]),r=1,i=0,o=1,p=!0;break}c.push([l,u+1]),r=0,i=1,o=0}else{if(!(s&ga)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([l,u+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(s&_a)){c.push([l+1,u+a.rightbottom]),r=-1,i=0,o=0,p=!0;break}c.push([l+1,u]),r=0,i=-1,o=1}else{if(!(s&_a)){if(s&ya){c.push([l+1,u+a.righttop]),r=-1,i=0,o=1;break}c.push([l+1,u+a.rightbottom]),r=-1,i=0,o=0,p=!0;break}c.push([l+1,u]),r=0,i=-1,o=1}}else if(s=(a=t.cells[u][l]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[u-1]&&void 0!==t.cells[u-1][l])r=0,i=-1,o=1;else{if(!(s&va)){c.push([l+a.bottomright,u]),r=0,i=1,o=1,p=!0;break}c.push([l,u])}else{if(!(s&ga)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+l+","+u);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u+1]&&void 0!==t.cells[u+1][l])r=0,i=1,o=0;else{if(!(s&ya)){c.push([l+a.topleft,u+1]),r=0,i=-1,o=0,p=!0;break}c.push([l+1,u+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u][l+1])r=1,i=0,o=1;else{if(!(s&_a)){c.push([l+1,u+a.righttop]),r=-1,i=0,o=1,p=!0;break}c.push([l+1,u]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u][l-1])r=-1,i=0,o=0;else{if(!(s&ga)){c.push([l,u+a.leftbottom]),r=1,i=0,o=0,p=!0;break}c.push([l,u+1]),r=0,i=1,o=0}}if(u+=i,(l+=r)===e&&u===n)break}return{path:c,i:l,j:u,x:r,y:i,o:o}}(t,u-=l.x,c-=l.y,l.x,l.y,l.o);if(null===p)break;p.path.forEach(function(t){i.push(t)}),u=p.i,c=p.j,s=p}}while(void 0!==t.cells[c][u]&&t.cells[c][u].edges.length>0);e.push(i),i=[],t.cells[o][a].edges.length>0&&a--}return e}(u)),"function"==typeof ma.successCallback&&ma.successCallback(l),l}function Qn(t,e,n){return(t-e)/(n-e)}function $n(t){return t.constructor.toString().indexOf("Array")>-1}function tr(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e?t:(r||(r=le(t)),!1!==i&&void 0!==i||(t=Rt(t)),k(t,function(t){var n=Ze(r,t)+e,i=Je(r,t),o=U(Un(r,i,n));t[0]=o[0],t[1]=o[1]}),t)}function er(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=Rt(t)),"FeatureCollection"!==t.type||o?nr(t,e,r):(D(t,function(n,i){t.features[i]=nr(n,e,r)}),t)}function nr(t,e,n){var i="Point"===K(t);return n=function(t,e){if(null!=e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return H(e);var n=t.bbox?t.bbox:V(t),i=n[0],o=n[1],a=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([a,o]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,s]);case"ne":case"northeast":case"eastnorth":case"topright":return r([a,s]);case"center":return se(t);case void 0:case null:case"centroid":return le(t);default:throw new Error("invalid origin")}}(t,n),1===e||i?t:(k(t,function(t){var r=Je(n,t),i=Ze(n,t),o=U(Un(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)}),t)}function rr(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function ir(t,e){return t[0]*e[1]-e[0]*t[1]}function or(t,e,n){var r=[],i=y(e,n),o=U(t),a=[];return o.forEach(function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]));return[[t[0]+n*(e[1]-t[1])/r,t[1]+n*(t[0]-e[0])/r],[e[0]+n*(e[1]-t[1])/r,e[1]+n*(t[0]-e[0])/r]]}(t,o[e+1],i);if(r.push(n),e>0){var s=r[e-1],l=function(t,e){return!function(t,e){return 0===ir(rr(t),rr(e))}(t,e)&&function(t,e){var n=t[0],r=rr(t),i=e[0],o=rr(e),a=ir(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*r[0],t*r[1]]}(ir([i[0]-n[0],i[1]-n[1]],o)/a))}(t,e)}(n,s);!1!==l&&(s[1]=l,n[0]=l),a.push(s[0]),e===o.length-2&&(a.push(n[0]),a.push(n[1]))}2===o.length&&(a.push(n[0]),a.push(n[1]))}}),s(a,t.properties)}function ar(t,e,n){return Math.sign((e[0]-t[0])*(n[1]-e[1])-(n[0]-e[0])*(e[1]-t[1]))}function sr(t,e){return e.geometry.coordinates[0].every(function(e){return Tt(r(e),t)})}function lr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=e[0]-t[0],i=e[1]-t[1];return(n[0]-t[0])*i-(n[1]-t[1])*r==0&&(Math.abs(r)>=Math.abs(i)?r>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:i>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function ur(t,e){return Ge(e,Tn(t)).features.length>0}function cr(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function pr(t,e){return t[0]===e[0]&&t[1]===e[1]}function hr(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;0!==a&&a!==e.coordinates.length-2||(s=!1),mr(e.coordinates[a],e.coordinates[a+1],t.coordinates[o],s)?n=!0:r=!0}o++}return n&&r}function dr(t,e){return Ge(t,Tn(e)).features.length>0}function fr(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,a=0;a<o&&n&&i;)Tt(r(t.coordinates[0][a]),e)?n=!0:i=!0,a++;return i&&i}function mr(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];return 0==(n[0]-t[0])*o-(n[1]-t[1])*i&&(r?Math.abs(i)>=Math.abs(o)?i>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:o>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(i)>=Math.abs(o)?i>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:o>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function gr(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function yr(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function _r(t,e){return fs(t,e,{strict:!0})}function vr(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=K(t);if(n!==K(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new gs({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var i=P(t),o=P(e);i.forEach(function(t){o.forEach(function(e){t[0]===e[0]&&t[1]===e[1]&&r++})});break;case"LineString":case"MultiLineString":Y(t,function(t){Y(e,function(e){jn(t,e).features.length&&r++})});break;case"Polygon":case"MultiPolygon":Y(t,function(t){Y(e,function(e){Ge(t,e).features.length&&r++})})}return r>0}function br(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function xr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function wr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Mr(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Cr(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Cr(t,e,n){this.x=t,this.y=e,this.weight=n}function Lr(t){this.content=[],this.scoreFunction=t}function Er(t){return t[0]}function kr(t){return t[1]}function Tr(){this._=null}function Sr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ar(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Dr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ir(t){for(;t.L;)t=t.L;return t}function Pr(t,e,n,r){var i=[null,null],o=Is.push(i)-1;return i.left=t,i.right=e,n&&Nr(i,t,e,n),r&&Nr(i,e,t,r),As[t.index].halfedges.push(o),As[e.index].halfedges.push(o),i}function Or(t,e,n){var r=[e,n];return r.left=t,r}function Nr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Rr(t,e,n,r,i){var o,a=t[0],s=t[1],l=a[0],u=a[1],c=0,p=1,h=s[0]-l,d=s[1]-u;if(o=e-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<p&&(p=o)}else if(h>0){if(o>p)return;o>c&&(c=o)}if(o=r-l,h||!(o<0)){if(o/=h,h<0){if(o>p)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<p&&(p=o)}if(o=n-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>c&&(c=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<p&&(p=o)}return!(c>0||p<1)||(c>0&&(t[0]=[l+c*h,u+c*d]),p<1&&(t[1]=[l+p*h,u+p*d]),!0)}}}}}function Fr(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,l=t[0],u=t.left,c=t.right,p=u[0],h=u[1],d=c[0],f=c[1],m=(p+d)/2;if(f===h){if(m<e||m>=r)return;if(p>d){if(l){if(l[1]>=i)return}else l=[m,n];o=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];o=[m,n]}}else if(s=(h+f)/2-(a=(p-d)/(f-h))*m,a<-1||a>1)if(p>d){if(l){if(l[1]>=i)return}else l=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<f){if(l){if(l[0]>=r)return}else l=[e,a*e+s];o=[r,a*r+s]}else{if(l){if(l[0]<e)return}else l=[r,a*r+s];o=[e,a*e+s]}return t[0]=l,t[1]=o,!0}function Yr(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Br(t,e){return e[+(e.left!==t.site)]}function zr(t,e){return e[+(e.left===t.site)]}function jr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],l=r[0]-a,u=r[1]-s,c=o[0]-a,p=o[1]-s,h=2*(l*p-u*c);if(!(h>=-Rs)){var d=l*l+u*u,f=c*c+p*p,m=(p*d-u*f)/h,g=(l*f-c*d)/h,y=Ps.pop()||new function(){Sr(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=i,y.x=m+a,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=y;for(var _=null,v=Ds._;v;)if(y.y<v.y||y.y===v.y&&y.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}Ds.insert(_,y),_||(Ts=y)}}}}function Vr(t){var e=t.circle;e&&(e.P||(Ts=e.N),Ds.remove(e),Ps.push(e),Sr(e),t.circle=null)}function Hr(t){var e=Os.pop()||new function(){Sr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Ur(t){Vr(t),Ss.remove(t),Os.push(t),Sr(t)}function Gr(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Ur(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Ns&&Math.abs(r-l.circle.cy)<Ns;)o=l.P,s.unshift(l),Ur(l),l=o;s.unshift(l),Vr(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<Ns&&Math.abs(r-u.circle.cy)<Ns;)a=u.N,s.push(u),Ur(u),u=a;s.push(u),Vr(u);var c,p=s.length;for(c=1;c<p;++c)Nr((u=s[c]).edge,(l=s[c-1]).site,u.site,i);(u=s[p-1]).edge=Pr((l=s[0]).site,u.site,null,i),jr(l),jr(u)}function qr(t){for(var e,n,r,i,o=t[0],a=t[1],s=Ss._;s;)if((r=Wr(s,a)-o)>Ns)s=s.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return Wr(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>Ns)){r>-Ns?(e=s.P,n=s):i>-Ns?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){As[t.index]={site:t,halfedges:[]}}(t);var l=Hr(t);if(Ss.insert(e,l),e||n){if(e===n)return Vr(e),n=Hr(e.site),Ss.insert(l,n),l.edge=n.edge=Pr(e.site,l.site),jr(e),void jr(n);if(n){Vr(e),Vr(n);var u=e.site,c=u[0],p=u[1],h=t[0]-c,d=t[1]-p,f=n.site,m=f[0]-c,g=f[1]-p,y=2*(h*g-d*m),_=h*h+d*d,v=m*m+g*g,b=[(g*_-d*v)/y+c,(h*v-m*_)/y+p];Nr(n.edge,u,f,b),l.edge=Pr(u,t,null,b),n.edge=Pr(t,f,null,b),jr(e),jr(n)}else l.edge=Pr(e.site,l.site)}}function Wr(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-e;if(!u)return s;var c=s-r,p=1/o-1/u,h=c/u;return p?(-h+Math.sqrt(h*h-2*p*(c*c/(-2*u)-l+u/2+i-o/2)))/p+r:(r+s)/2}function Zr(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Xr(t,e){return e[1]-t[1]||e[0]-t[0]}function Jr(t,e){var n,r,i,o=t.sort(Xr).pop();for(Is=[],As=new Array(t.length),Ss=new Tr,Ds=new Tr;;)if(i=Ts,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(qr(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Gr(i.arc)}if(function(){for(var t,e,n,r,i=0,o=As.length;i<o;++i)if((t=As[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Yr(t,Is[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,r){for(var i,o=Is.length;o--;)Fr(i=Is[o],t,e,n,r)&&Rr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ns||Math.abs(i[0][1]-i[1][1])>Ns)||delete Is[o]}(a,s,l,u),function(t,e,n,r){var i,o,a,s,l,u,c,p,h,d,f,m,g=As.length,y=!0;for(i=0;i<g;++i)if(o=As[i]){for(a=o.site,s=(l=o.halfedges).length;s--;)Is[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)f=(d=zr(o,Is[l[s]]))[0],m=d[1],p=(c=Br(o,Is[l[++s%u]]))[0],h=c[1],(Math.abs(f-p)>Ns||Math.abs(m-h)>Ns)&&(l.splice(s,0,Is.push(Or(a,d,Math.abs(f-t)<Ns&&r-m>Ns?[t,Math.abs(p-t)<Ns?h:r]:Math.abs(m-r)<Ns&&n-f>Ns?[Math.abs(h-r)<Ns?p:n,r]:Math.abs(f-n)<Ns&&m-e>Ns?[n,Math.abs(p-n)<Ns?h:e]:Math.abs(m-e)<Ns&&f-t>Ns?[Math.abs(h-e)<Ns?p:t,e]:null))-1),++u);u&&(y=!1)}if(y){var _,v,b,x=1/0;for(i=0,y=null;i<g;++i)(o=As[i])&&(b=(_=(a=o.site)[0]-t)*_+(v=a[1]-e)*v)<x&&(x=b,y=o);if(y){var w=[t,e],M=[t,r],C=[n,r],L=[n,e];y.halfedges.push(Is.push(Or(a=y.site,w,M))-1,Is.push(Or(a,M,C))-1,Is.push(Or(a,C,L))-1,Is.push(Or(a,L,w))-1)}}for(i=0;i<g;++i)(o=As[i])&&(o.halfedges.length||delete As[i])}(a,s,l,u)}this.edges=Is,this.cells=As,Ss=Ds=Is=As=null}function Kr(t){return(t=t.slice()).push(t[0]),o([t])}function Qr(t,e,n,r){var i=(r=r||{}).steps||64,a=r.units||"kilometers",s=r.angle||0,l=r.pivot||t,u=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(r))throw new Error("options must be an object");if(!M(i))throw new Error("steps must be a number");if(!M(s))throw new Error("angle must be a number");var c=H(t);if("degrees"===a)var p=b(s);else e=Un(t,e,90,{units:a}),n=Un(t,n,0,{units:a}),e=H(e)[0]-c[0],n=H(n)[1]-c[1];for(var h=[],d=0;d<i;d+=1){var f=-360*d/i,m=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow($r(f),2)),g=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow($r(f),2));if(f<-90&&f>=-270&&(m=-m),f<-180&&f>=-360&&(g=-g),"degrees"===a){var y=m*Math.cos(p)+g*Math.sin(p),_=g*Math.cos(p)-m*Math.sin(p);m=y,g=_}h.push([m+c[0],g+c[1]])}return h.push(h[0]),"degrees"===a?o([h],u):tr(o([h],u),s,{pivot:l})}function $r(t){var e=t*Math.PI/180;return Math.tan(e)}function ti(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.weight;if(!t)throw new Error("geojson is required");var o=0,a=0,s=0;return O(t,function(t,e,n){var r=n[i];if(!M(r=null==r?1:r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&k(t,function(t){o+=t[0]*r,a+=t[1]*r,s+=r})}),r([o/s,a/s],n)}function ei(t,e,n,i){var o=n.properties.tolerance||.001,a=0,s=0,l=0,u=0;if(D(n,function(e){var n=e.properties.weight,r=null==n?1:n;if(!M(r=Number(r)))throw new Error("weight value must be a number");if(r>0){u+=1;var i=r*Nt(e,t);0===i&&(i=1);var o=r/i;a+=e.geometry.coordinates[0]*o,s+=e.geometry.coordinates[1]*o,l+=o}}),u<1)throw new Error("no features to measure");var c=a/l,p=s/l;return 1===u||0===i||Math.abs(c-e[0])<o&&Math.abs(p-e[1])<o?r([c,p],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,p]),ei([c,p],t,n,i-1))}function ni(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function ri(t){if(C(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*si(),180*si()]}function ii(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox;null!=t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(ri(n)));return u(i)}function oi(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;null!=t||(t=1),M(r)||(r=10),M(i)||(i=10);for(var a=[],s=0;s<t;s++){var l=[],c=Array.apply(null,new Array(r+1)).map(Math.random);c.forEach(function(t,e,n){n[e]=e>0?t+n[e-1]:t}),c.forEach(function(t){t=2*t*Math.PI/c[c.length-1];var e=Math.random();l.push([e*i*Math.sin(t),e*i*Math.cos(t)])}),l[l.length-1]=l[0],l=l.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(ri(n))),a.push(o([l]))}return u(a)}function ai(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;null!=t||(t=1),(!M(r)||r<2)&&(r=10),M(i)||(i=1e-4),M(o)||(o=Math.PI/8);for(var a=[],l=0;l<t;l++){for(var c=[ri(n)],p=0;p<r-1;p++){var h=(0===p?2*Math.random()*Math.PI:Math.tan((c[p][1]-c[p-1][1])/(c[p][0]-c[p-1][0])))+(Math.random()-.5)*o*2,d=Math.random()*i;c.push([c[p][0]+d*Math.cos(h),c[p][1]+d*Math.sin(h)])}a.push(s(c))}return u(a)}function si(){return Math.random()-.5}function li(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return D(t,function(t){hi(t.properties,e)&&n.push(t)}),u(n)}function ui(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var r=pi(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var a=i[o],s=r[a],l=[],c=0;c<s.length;c++)l.push(t.features[s[c]]);n(u(l),a,o)}}function ci(t,e,n,r){var i=r;return ui(t,e,function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)}),i}function pi(t,e){var n={};return D(t,function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}}),n}function hi(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!hi(t,e[r]))return!1;return!0}return di(t,e)}function di(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function fi(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function mi(){}function gi(t){this.message=t||""}function yi(t){this.message=t||""}function _i(){}function vi(t){return null===t?ru:t.color}function bi(t){return null===t?null:t.parent}function xi(t,e){null!==t&&(t.color=e)}function wi(t){return null===t?null:t.left}function Mi(t){return null===t?null:t.right}function Ci(){this.root_=null,this.size_=0}function Li(){}function Ei(){this.array_=[],arguments[0]instanceof Vl&&this.addAll(arguments[0])}function ki(){}function Ti(t){this.message=t||""}function Si(){this.array_=[]}function Ai(t){switch(t.type){case"Polygon":return sn(t)>1?t:null;case"MultiPolygon":var e=[];if(R(t,function(t){sn(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}function Di(){this.reset()}function Ii(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}function Pi(t){return t>1?ld:t<-1?-ld:Math.asin(t)}function Oi(){}function Ni(t,e){t&&Md.hasOwnProperty(t.type)&&Md[t.type](t,e)}function Ri(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function Fi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Ri(t[n],e,1);e.polygonEnd()}function Yi(t){return[md(t[1],t[0]),Pi(t[2])]}function Bi(t){var e=t[0],n=t[1],r=gd(n);return[r*gd(e),r*vd(e),vd(n)]}function zi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ji(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Vi(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Hi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ui(t){var e=bd(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Gi(t,e){return[t>sd?t-cd:t<-sd?t+cd:t,e]}function qi(t,e,n){return(t%=cd)?e||n?Ld(Zi(t),Xi(e,n)):Zi(t):e||n?Xi(e,n):Gi}function Wi(t){return function(e,n){return[(e+=t)>sd?e-cd:e<-sd?e+cd:e,n]}}function Zi(t){var e=Wi(t);return e.invert=Wi(-t),e}function Xi(t,e){function n(t,e){var n=gd(e),s=gd(t)*n,l=vd(t)*n,u=vd(e),c=u*r+s*i;return[md(l*o-c*a,s*r-u*i),Pi(c*o+l*a)]}var r=gd(t),i=vd(t),o=gd(e),a=vd(e);return n.invert=function(t,e){var n=gd(e),s=gd(t)*n,l=vd(t)*n,u=vd(e),c=u*o-l*a;return[md(l*o+u*a,s*r+c*i),Pi(c*r-s*i)]},n}function Ji(t,e){(e=Bi(e))[0]-=t,Ui(e);var n=function(t){return t>1?0:t<-1?sd:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+cd-ad)%cd}function Ki(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Qi(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function $i(t){return t.length>1}function to(t,e){return((t=t.x)[0]<0?t[1]-ld-ad:ld-t[1])-((e=e.x)[0]<0?e[1]-ld-ad:ld-e[1])}function eo(t){return function(e){var n=new no;for(var r in t)n[r]=t[r];return n.stream=e,n}}function no(){}function ro(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Cd(n,t.stream(zd));var a=zd.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),l=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,u=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([l,u])}function io(t,e){return[t,_d(xd((ld+e)/2))]}function oo(t,e){return[_d(xd((ld+e)/2)),-t]}function ao(t,n,r,i){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var s=[];return O(t,function(t){var e=ao(t,n,r,i);e&&s.push(e)}),u(s)}var l,c=V(t),p=c[1]>50&&c[3]>50;l=p?{type:a.type,coordinates:so(a.coordinates,uo(a))}:Ke(a);var h,d=(new qu).read(l),f=m(g(n,r),"meters"),y=Fp.bufferOp(d,f);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((y=(new Wu).write(y)).coordinates))return(h=p?{type:y.type,coordinates:lo(y.coordinates,uo(a))}:Qe(y)).geometry?h:e(h,o)}function so(t,e){return"object"!=typeof t[0]?e(t):t.map(function(t){return so(t,e)})}function lo(t,e){return"object"!=typeof t[0]?e.invert(t):t.map(function(t){return lo(t,e)})}function uo(t){var e=se(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return Wd().center(e).rotate(n).scale(vo)}function co(){for(var t=new qu,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=rd.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new Wu).write(e),properties:arguments[0].properties}}function po(t,n){var r=X(t),i=X(n);if(Wt(_n(i,{precision:4})).coordinates[0].length<4)return null;if(Wt(_n(r,{precision:4})).coordinates[0].length<4)return null;var o=new qu,a=o.read(_n(r)),s=o.read(_n(i)),l=Zh.intersection(a,s);return l.isEmpty()?null:e((new Wu).write(l))}function ho(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach(function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===i||o<i)&&(i=o,r=n)}),r}(t,e)}function fo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,a=n.mask;if(null==e)throw new Error("cellSide is required");if(!M(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(a&&-1===["Polygon","MultiPolygon"].indexOf(K(a)))throw new Error("options.mask must be a (Multi)Polygon");var s=t[0],l=t[1],c=t[2],p=t[3],h=(l+p)/2,d=(s+c)/2,f=2*e/Nt([s,h],[c,h],n)*(c-s),m=2*e/Nt([d,l],[d,p],n)*(p-l),g=f/2,y=2*g,_=Math.sqrt(3)/2*m,v=c-s,b=p-l,x=.75*y,w=_,L=Math.floor((v-y)/(y-g/2)),E=(L*x-g/2-v)/2-g/2+x/2,k=Math.floor((b-_)/_),T=(b-k*_)/2,S=k*_-b>_/2;S&&(T-=_/4);for(var A=[],D=[],I=0;I<6;I++){var P=2*Math.PI/6*I;A.push(Math.cos(P)),D.push(Math.sin(P))}for(var O=[],N=0;N<=L;N++)for(var R=0;R<=k;R++){var F=N%2==1;if(!(0===R&&F||0===R&&S)){var Y=N*x+s-E,B=R*w+l+T;if(F&&(B-=_/2),!0===i)(function(t,e,n,r,i,a){for(var s=[],l=0;l<6;l++){var u=[];u.push(t),u.push([t[0]+e*i[l],t[1]+n*a[l]]),u.push([t[0]+e*i[(l+1)%6],t[1]+n*a[(l+1)%6]]),u.push(t),s.push(o([u],r))}return s})([Y,B],f/2,m/2,r,A,D).forEach(function(t){a?po(a,t)&&O.push(t):O.push(t)});else{var z=function(t,e,n,r,i,a){for(var s=[],l=0;l<6;l++)s.push([t[0]+e*i[l],t[1]+n*a[l]]);return s.push(s[0].slice()),o([s],r)}([Y,B],f/2,m/2,r,A,D);a?po(a,z)&&O.push(z):O.push(z)}}}return u(O)}function mo(t){if(t.features.length<=1)return t;var e=function(t){var e=So(),n=[];return R(t,function(t,e){var r=V(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],r={};return R(t,function(t,i){if(r[i])return!0;for(e.remove({index:i},go),r[i]=!0;;){var o=V(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var s=a.map(function(t){return r[t.index]=!0,e.remove({index:t.index},go),t.geojson});s.push(t),t=co.apply(this,s)}if(0===a.length)break}n.push(t)}),u(n)}function go(t,e){return t.index===e.index}function yo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null==e)throw new Error("cellSide is required");if(!M(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],l=t[1],c=t[2],p=t[3],h=e/Nt([s,l],[c,l],n)*(c-s),d=e/Nt([s,l],[s,p],n)*(p-l),f=c-s,m=p-l,g=Math.floor(f/h),y=Math.floor(m/d),_=(m-y*d)/2,v=s+(f-g*h)/2,b=0;b<g;b++){for(var x=l+_,w=0;w<y;w++){var L=o([[[v,x],[v,x+d],[v+h,x+d],[v+h,x],[v,x]]],r);i?po(i,L)&&a.push(L):a.push(L),x+=d}v+=h}return u(a)}function _o(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null==e)throw new Error("cellSide is required");if(!M(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e/Nt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),l=e/Nt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,p=t[0];p<=t[2];){for(var h=0,d=t[1];d<=t[3];){var f=null,m=null;c%2==0&&h%2==0?(f=o([[[p,d],[p,d+l],[p+s,d],[p,d]]],r),m=o([[[p,d+l],[p+s,d+l],[p+s,d],[p,d+l]]],r)):c%2==0&&h%2==1?(f=o([[[p,d],[p+s,d+l],[p+s,d],[p,d]]],r),m=o([[[p,d],[p,d+l],[p+s,d+l],[p,d]]],r)):h%2==0&&c%2==1?(f=o([[[p,d],[p,d+l],[p+s,d+l],[p,d]]],r),m=o([[[p,d],[p+s,d+l],[p+s,d],[p,d]]],r)):h%2==1&&c%2==1&&(f=o([[[p,d],[p,d+l],[p+s,d],[p,d]]],r),m=o([[[p,d+l],[p+s,d+l],[p+s,d],[p,d+l]]],r)),i?(po(i,f)&&a.push(f),po(i,m)&&a.push(m)):(a.push(f),a.push(m)),d+=l,h++}c++,p+=s}return u(a)}var vo=6371008.8,bo={meters:vo,metres:vo,millimeters:1e3*vo,millimetres:1e3*vo,centimeters:100*vo,centimetres:100*vo,kilometers:vo/1e3,kilometres:vo/1e3,miles:vo/1609.344,nauticalmiles:vo/1852,inches:39.37*vo,yards:vo/1.0936,feet:3.28084*vo,radians:1,degrees:vo/111325},xo={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/vo,degrees:1/111325},wo={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Mo=Object.freeze({earthRadius:vo,factors:bo,unitsFactors:xo,areaFactors:wo,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:a,lineString:s,lineStrings:l,featureCollection:u,multiLineString:c,multiPoint:p,multiPolygon:h,geometryCollection:d,round:f,radiansToLength:m,lengthToRadians:g,lengthToDegrees:y,bearingToAzimuth:_,radiansToDegrees:v,degreesToRadians:b,convertLength:x,convertArea:w,isNumber:M,isObject:C,validateBBox:L,validateId:E,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Co=Object.freeze({coordEach:k,coordReduce:T,propEach:S,propReduce:A,featureEach:D,featureReduce:I,coordAll:P,geomEach:O,geomReduce:N,flattenEach:R,flattenReduce:F,segmentEach:Y,segmentReduce:B,lineEach:z,lineReduce:j}),Lo=Object.freeze({getCoord:H,getCoords:U,containsNumber:G,geojsonType:q,featureOf:W,collectionOf:Z,getGeom:X,getGeomType:J,getType:K}),Eo={successCallback:null,verbose:!1},ko={},To=function t(e,n,r,i,o){for(r=r||0,i=i||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var p=e[n],h=r,d=i;for(rt(e,r,n),o(e[i],p)>0&&rt(e,r,i);h<d;){for(rt(e,h,d),h++,d--;o(e[h],p)<0;)h++;for(;o(e[d],p)>0;)d--}0===o(e[r],p)?rt(e,r,d):rt(e,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}},So=it;it.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!dt(t,e))return n;for(var i,o,a,s,l=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],dt(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):ht(t,s)?this._all(a,n):l.push(a));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!dt(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],dt(t,a=e.leaf?n(o):o)){if(e.leaf||ht(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=ft([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),l.push(a),this._condense(l),this;o||a.leaf||!ht(a,s)?r?(a=r.children[++n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:lt,compareMinY:ut,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return ot(i=ft(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=ft([])).leaf=!1,i.height=r;var s,l,u,c,p=Math.ceil(o/a),h=p*Math.ceil(Math.sqrt(a));for(mt(t,e,n,h,this.compareMinX),s=e;s<=n;s+=h)for(mt(t,s,u=Math.min(s+h-1,n),p,this.compareMinY),l=s;l<=u;l+=p)c=Math.min(l+p-1,u),i.children.push(this._build(t,l,c,r-1));return ot(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,l,u,c,p;r.push(e),!e.leaf&&r.length-1!==n;){for(c=p=1/0,i=0,o=e.children.length;i<o;i++)l=ct(a=e.children[i]),(u=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-l)<p?(p=u,c=l<c?l:c,s=a):u===p&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=n?t:(0,this.toBBox)(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),st(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=ft(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,ot(n,this.toBBox),ot(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=ft([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,l,u,c;for(l=u=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=at(t,0,r,this.toBBox),o=at(t,r,n,this.toBBox)),s=ct(i)+ct(o),a<l?(l=a,c=r,u=s<u?s:u):a===l&&s<u&&(u=s,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:lt,i=t.leaf?this.compareMinY:ut;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=at(t,0,e,a),l=at(t,n-e,n,a),u=pt(s)+pt(l);for(i=e;i<n-e;i++)o=t.children[i],st(s,t.leaf?a(o):o),u+=pt(s);for(i=n-e-1;i>=e;i--)o=t.children[i],st(l,t.leaf?a(o):o),u+=pt(l);return u},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)st(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ot(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Ao=function(t,e,n){var r=t*e,i=Do*t,o=i-(i-t),a=t-o,s=Do*e,l=s-(s-e),u=e-l,c=a*u-(r-o*l-a*l-o*u);return n?(n[0]=c,n[1]=r,n):[c,r]},Do=+(Math.pow(2,27)+1),Io=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,p=t[l],h=c(p),d=e[u],f=c(d);h<f?(o=p,(l+=1)<n&&(h=c(p=t[l]))):(o=d,(u+=1)<r&&(f=c(d=e[u]))),l<n&&h<f||u>=r?(i=p,(l+=1)<n&&(h=c(p=t[l]))):(i=d,(u+=1)<r&&(f=c(d=e[u])));for(var m,g,y=i+o,_=y-i,v=o-_,b=v,x=y;l<n&&u<r;)h<f?(i=p,(l+=1)<n&&(h=c(p=t[l]))):(i=d,(u+=1)<r&&(f=c(d=e[u]))),(v=(o=b)-(_=(y=i+o)-i))&&(a[s++]=v),b=x-((m=x+y)-(g=m-x))+(y-g),x=m;for(;l<n;)(v=(o=b)-(_=(y=(i=p)+o)-i))&&(a[s++]=v),b=x-((m=x+y)-(g=m-x))+(y-g),x=m,(l+=1)<n&&(p=t[l]);for(;u<r;)(v=(o=b)-(_=(y=(i=d)+o)-i))&&(a[s++]=v),b=x-((m=x+y)-(g=m-x))+(y-g),x=m,(u+=1)<r&&(d=e[u]);return b&&(a[s++]=b),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a},Po=function(t,e,n){var r=t+e,i=r-t,o=e-i,a=t-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]},Oo=function(t,e){var n=t.length;if(1===n){var r=Ao(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;Ao(t[0],e,o),o[0]&&(i[s++]=o[0]);for(var l=1;l<n;++l){Ao(t[l],e,a),Po(o[1],a[0],o),o[0]&&(i[s++]=o[0]);var u=a[1],c=o[1],p=u+c,h=c-(p-u);o[1]=p,h&&(i[s++]=h)}return o[1]&&(i[s++]=o[1]),0===s&&(i[s++]=0),i.length=s,i},No=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,p=t[l],h=c(p),d=-e[u],f=c(d);h<f?(o=p,(l+=1)<n&&(h=c(p=t[l]))):(o=d,(u+=1)<r&&(f=c(d=-e[u]))),l<n&&h<f||u>=r?(i=p,(l+=1)<n&&(h=c(p=t[l]))):(i=d,(u+=1)<r&&(f=c(d=-e[u])));for(var m,g,y=i+o,_=y-i,v=o-_,b=v,x=y;l<n&&u<r;)h<f?(i=p,(l+=1)<n&&(h=c(p=t[l]))):(i=d,(u+=1)<r&&(f=c(d=-e[u]))),(v=(o=b)-(_=(y=i+o)-i))&&(a[s++]=v),b=x-((m=x+y)-(g=m-x))+(y-g),x=m;for(;l<n;)(v=(o=b)-(_=(y=(i=p)+o)-i))&&(a[s++]=v),b=x-((m=x+y)-(g=m-x))+(y-g),x=m,(l+=1)<n&&(p=t[l]);for(;u<r;)(v=(o=b)-(_=(y=(i=d)+o)-i))&&(a[s++]=v),b=x-((m=x+y)-(g=m-x))+(y-g),x=m,(u+=1)<r&&(d=-e[u]);return b&&(a[s++]=b),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a},Ro=gt(function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],a=0;a<t.length;++a)o.push(["scale(",r(i(e(t,a))),",",n(a),t[0][a],")"].join(""));return o}function o(t){for(var n=[],o=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),s=[],l=0;l<t;++l)0==(1&l)?n.push.apply(n,i(e(a,l))):o.push.apply(o,i(e(a,l))),s.push("m"+l);var u=r(n),c=r(o),p="orientation"+t+"Exact",h=["function ",p,"(",s.join(),"){var p=",u,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",p].join("");return new Function("sum","prod","scale","sub",h)(Io,Ao,Oo,No)}var a=o(3),s=o(4),l=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=i-o;if(i>0){if(o<=0)return s;r=i+o}else{if(!(i<0))return s;if(o>=0)return s;r=-(i+o)}var l=3.3306690738754716e-16*r;return s>=l||s<=-l?s:a(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],l=t[1]-r[1],u=e[1]-r[1],c=n[1]-r[1],p=t[2]-r[2],h=e[2]-r[2],d=n[2]-r[2],f=o*c,m=a*u,g=a*l,y=i*c,_=i*u,v=o*l,b=p*(f-m)+h*(g-y)+d*(_-v),x=7.771561172376103e-16*((Math.abs(f)+Math.abs(m))*Math.abs(p)+(Math.abs(g)+Math.abs(y))*Math.abs(h)+(Math.abs(_)+Math.abs(v))*Math.abs(d));return b>x||-b>x?b:s(t,e,n,r)}];!function(){for(;l.length<=5;)l.push(o(l.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[function(t){var e=l[t.length];return e||(e=l[t.length]=o(t.length)),e.apply(void 0,t)}].concat(l)),r=0;r<=5;++r)t.exports[r]=l[r]}()}),Fo=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort(function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]});var o=[i[0],i[1]],a=[i[0],i[1]];for(r=2;r<e;++r){for(var s=i[r],l=t[s],u=o.length;u>1&&Yo(t[o[u-2]],t[o[u-1]],l)<=0;)u-=1,o.pop();for(o.push(s),u=a.length;u>1&&Yo(t[a[u-2]],t[a[u-1]],l)>=0;)u-=1,a.pop();a.push(s)}n=new Array(a.length+o.length-2);for(var c=0,p=(r=0,o.length);r<p;++r)n[c++]=o[r];for(var h=a.length-2;h>0;--h)n[c++]=a[h];return n},Yo=Ro[3],Bo=yt,zo=yt;yt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}},Bo.default=zo;var jo=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],l=e[o][1],u=e[a][1];l>r!=u>r&&n<(e[a][0]-s)*(r-l)/(u-l)+s&&(i=!i)}return i},Vo=Ro[3],Ho=_t;Ho.default=_t;var Uo=function(t){return t},Go=function(t){if(null==t)return Uo;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var l=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+a;l<u;)c[l]=t[l],++l;return c}},qo=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},Wo=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),l=t-1,u=0;u<t;++u)a[u]=i;return{set:function(r,o){for(var u=e(r)&l,c=a[u],p=0;c!=i;){if(n(c,r))return s[u]=o;if(++p>=t)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=r,s[u]=o,o},maybeSet:function(r,o){for(var u=e(r)&l,c=a[u],p=0;c!=i;){if(n(c,r))return s[u];if(++p>=t)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=r,s[u]=o,o},get:function(r,o){for(var u=e(r)&l,c=a[u],p=0;c!=i;){if(n(c,r))return s[u];if(++p>=t)break;c=a[u=u+1&l]}return o},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}}},Zo=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Xo=new ArrayBuffer(16),Jo=new Float64Array(Xo),Ko=new Uint32Array(Xo),Qo=function(t){Jo[0]=t[0],Jo[1]=t[1];var e=Ko[0]^Ko[1];return 2147483647&(e<<5^e>>7^Ko[2]^Ko[3])},$o=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};$o.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},$o.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},$o.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var ta=ce,ea=ce;ce.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(Ce(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(Ce(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var l=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,p=r[a+2]*n;l+=Math.abs((t[u]-t[p])*(t[c+1]-t[u+1])-(t[u]-t[c])*(t[p+1]-t[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},ce.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},ta.default=ea,Se.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Ye(t,e))return n;for(var i,o,a,s,l=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],Ye(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):Fe(t,s)?this._all(a,n):l.push(a));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Ye(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],Ye(t,a=e.leaf?n(o):o)){if(e.leaf||Fe(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Be([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),l.push(a),this._condense(l),this;o||a.leaf||!Fe(a,s)?r?(a=r.children[++n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:Pe,compareMinY:Oe,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return Ae(i=Be(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=Be([])).leaf=!1,i.height=r;var s,l,u,c,p=Math.ceil(o/a),h=p*Math.ceil(Math.sqrt(a));for(ze(t,e,n,h,this.compareMinX),s=e;s<=n;s+=h)for(ze(t,s,u=Math.min(s+h-1,n),p,this.compareMinY),l=s;l<=u;l+=p)c=Math.min(l+p-1,u),i.children.push(this._build(t,l,c,r-1));return Ae(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,l,u,c,p;r.push(e),!e.leaf&&r.length-1!==n;){for(c=p=1/0,i=0,o=e.children.length;i<o;i++)l=Ne(a=e.children[i]),(u=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-l)<p?(p=u,c=l<c?l:c,s=a):u===p&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=n?t:(0,this.toBBox)(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),Ie(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=Be(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Ae(n,this.toBBox),Ae(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=Be([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Ae(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,l,u,c;for(l=u=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=De(t,0,r,this.toBBox),o=De(t,r,n,this.toBBox)),s=Ne(i)+Ne(o),a<l?(l=a,c=r,u=s<u?s:u):a===l&&s<u&&(u=s,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Pe,i=t.leaf?this.compareMinY:Oe;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=De(t,0,e,a),l=De(t,n-e,n,a),u=Re(s)+Re(l);for(i=e;i<n-e;i++)o=t.children[i],Ie(s,t.leaf?a(o):o),u+=Re(s);for(i=n-e-1;i>=e;i--)o=t.children[i],Ie(l,t.leaf?a(o):o),u+=Re(l);return u},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Ie(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Ae(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var na=Object.freeze({toMercator:Ke,toWgs84:Qe}),ra=6378137,ia=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},oa=function(t,e,n,r,i,o,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};Number.prototype.modulo=function(t){return(this%t+t)%t};var aa=Math.PI/180,sa=180/Math.PI,la=function(t,e){this.lon=t,this.lat=e,this.x=aa*t,this.y=aa*e};la.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},la.prototype.antipode=function(){return new la(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var ua=function(){this.coords=[],this.length=0};ua.prototype.move_to=function(t){this.length++,this.coords.push(t)};var ca=function(t){this.properties=t||{},this.geometries=[]};ca.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},ca.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var pa=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new la(t.x,t.y),this.end=new la(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};pa.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=sa*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[sa*Math.atan2(i,r),a]},pa.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=this.interpolate(r*i);n.push(o)}for(var a=!1,s=0,l=e&&e.offset?e.offset:10,u=180-l,c=-180+l,p=360-l,h=1;h<n.length;++h){var d=n[h-1][0],f=n[h][0],m=Math.abs(f-d);m>p&&(f>u&&d<c||d>u&&f<c)?a=!0:m>s&&(s=m)}var g=[];if(a&&s<l){var y=[];g.push(y);for(var _=0;_<n.length;++_){var v=parseFloat(n[_][0]);if(_>0&&Math.abs(v-n[_-1][0])>p){var b=parseFloat(n[_-1][0]),x=parseFloat(n[_-1][1]),w=parseFloat(n[_][0]),M=parseFloat(n[_][1]);if(b>-180&&b<c&&180===w&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<c){y.push([-180,n[_][1]]),y.push([n[++_][0],n[_][1]]);continue}if(b>u&&b<180&&-180===w&&_+1<n.length&&n[_-1][0]>u&&n[_-1][0]<180){y.push([180,n[_][1]]),y.push([n[++_][0],n[_][1]]);continue}if(b<c&&w>u){var C=b;b=w,w=C;var L=x;x=M,M=L}if(b>u&&w<c&&(w+=360),b<=180&&w>=180&&b<w){var E=(180-b)/(w-b),k=E*M+(1-E)*x;y.push([n[_-1][0]>u?180:-180,k]),(y=[]).push([n[_-1][0]>u?-180:180,k]),g.push(y)}else g.push(y=[]);y.push([v,n[_][1]])}else y.push([n[_][0],n[_][1]])}}else{var T=[];g.push(T);for(var S=0;S<n.length;++S)T.push([n[S][0],n[S][1]])}for(var A=new ca(this.properties),D=0;D<g.length;++D){var I=new ua;A.geometries.push(I);for(var P=g[D],O=0;O<P.length;++O)I.move_to(P[O])}return A};var ha=Pn;Pn.polyline=Pn,Pn.polygon=function(t,e){var n,r,i,o,a,s,l;for(r=1;r<=8;r*=2){for(n=[],o=!(Nn(i=t[t.length-1],e)&r),a=0;a<t.length;a++)(l=!(Nn(s=t[a],e)&r))!==o&&n.push(On(i,s,r,e)),l&&n.push(s),i=s,o=l;if(!(t=n).length)break}return n};var da=Array.prototype.slice,fa={successCallback:null,verbose:!1,polygons:!1},ma={},ga=64,ya=16,_a=4,va=1,ba=[],xa=[],wa=[],Ma=[],Ca=[],La=[],Ea=[],ka=[],Ta=[],Sa=[],Aa=[],Da=[],Ia=[],Pa=[],Oa=[],Na=[],Ra=[],Fa=[],Ya=[],Ba=[],za=[],ja=[],Va=[],Ha=[];Ea[85]=Sa[85]=-1,ka[85]=Aa[85]=0,Ta[85]=Da[85]=1,Ya[85]=ja[85]=1,Ba[85]=Va[85]=0,za[85]=Ha[85]=1,ba[85]=Ma[85]=0,xa[85]=Ca[85]=-1,wa[85]=Oa[85]=0,Na[85]=Ia[85]=0,Ra[85]=Pa[85]=1,La[85]=Fa[85]=1,ja[1]=ja[169]=0,Va[1]=Va[169]=-1,Ha[1]=Ha[169]=0,Ia[1]=Ia[169]=-1,Pa[1]=Pa[169]=0,Oa[1]=Oa[169]=0,Sa[4]=Sa[166]=0,Aa[4]=Aa[166]=-1,Da[4]=Da[166]=1,Na[4]=Na[166]=1,Ra[4]=Ra[166]=0,Fa[4]=Fa[166]=0,Ea[16]=Ea[154]=0,ka[16]=ka[154]=1,Ta[16]=Ta[154]=1,Ma[16]=Ma[154]=1,Ca[16]=Ca[154]=0,La[16]=La[154]=1,Ya[64]=Ya[106]=0,Ba[64]=Ba[106]=1,za[64]=za[106]=0,ba[64]=ba[106]=-1,xa[64]=xa[106]=0,wa[64]=wa[106]=1,Ya[2]=Ya[168]=0,Ba[2]=Ba[168]=-1,za[2]=za[168]=1,ja[2]=ja[168]=0,Va[2]=Va[168]=-1,Ha[2]=Ha[168]=0,Ia[2]=Ia[168]=-1,Pa[2]=Pa[168]=0,Oa[2]=Oa[168]=0,Na[2]=Na[168]=-1,Ra[2]=Ra[168]=0,Fa[2]=Fa[168]=1,Ea[8]=Ea[162]=0,ka[8]=ka[162]=-1,Ta[8]=Ta[162]=0,Sa[8]=Sa[162]=0,Aa[8]=Aa[162]=-1,Da[8]=Da[162]=1,Ia[8]=Ia[162]=1,Pa[8]=Pa[162]=0,Oa[8]=Oa[162]=1,Na[8]=Na[162]=1,Ra[8]=Ra[162]=0,Fa[8]=Fa[162]=0,Ea[32]=Ea[138]=0,ka[32]=ka[138]=1,Ta[32]=Ta[138]=1,Sa[32]=Sa[138]=0,Aa[32]=Aa[138]=1,Da[32]=Da[138]=0,ba[32]=ba[138]=1,xa[32]=xa[138]=0,wa[32]=wa[138]=0,Ma[32]=Ma[138]=1,Ca[32]=Ca[138]=0,La[32]=La[138]=1,ja[128]=ja[42]=0,Va[128]=Va[42]=1,Ha[128]=Ha[42]=1,Ya[128]=Ya[42]=0,Ba[128]=Ba[42]=1,za[128]=za[42]=0,ba[128]=ba[42]=-1,xa[128]=xa[42]=0,wa[128]=wa[42]=1,Ma[128]=Ma[42]=-1,Ca[128]=Ca[42]=0,La[128]=La[42]=0,Sa[5]=Sa[165]=-1,Aa[5]=Aa[165]=0,Da[5]=Da[165]=0,ja[5]=ja[165]=1,Va[5]=Va[165]=0,Ha[5]=Ha[165]=0,Na[20]=Na[150]=0,Ra[20]=Ra[150]=1,Fa[20]=Fa[150]=1,Ma[20]=Ma[150]=0,Ca[20]=Ca[150]=-1,La[20]=La[150]=1,Ea[80]=Ea[90]=-1,ka[80]=ka[90]=0,Ta[80]=Ta[90]=1,Ya[80]=Ya[90]=1,Ba[80]=Ba[90]=0,za[80]=za[90]=1,Ia[65]=Ia[105]=0,Pa[65]=Pa[105]=1,Oa[65]=Oa[105]=0,ba[65]=ba[105]=0,xa[65]=xa[105]=-1,wa[65]=wa[105]=0,Ea[160]=Ea[10]=-1,ka[160]=ka[10]=0,Ta[160]=Ta[10]=1,Sa[160]=Sa[10]=-1,Aa[160]=Aa[10]=0,Da[160]=Da[10]=0,ja[160]=ja[10]=1,Va[160]=Va[10]=0,Ha[160]=Ha[10]=0,Ya[160]=Ya[10]=1,Ba[160]=Ba[10]=0,za[160]=za[10]=1,Na[130]=Na[40]=0,Ra[130]=Ra[40]=1,Fa[130]=Fa[40]=1,Ia[130]=Ia[40]=0,Pa[130]=Pa[40]=1,Oa[130]=Oa[40]=0,ba[130]=ba[40]=0,xa[130]=xa[40]=-1,wa[130]=wa[40]=0,Ma[130]=Ma[40]=0,Ca[130]=Ca[40]=-1,La[130]=La[40]=1,Sa[37]=Sa[133]=0,Aa[37]=Aa[133]=1,Da[37]=Da[133]=1,ja[37]=ja[133]=0,Va[37]=Va[133]=1,Ha[37]=Ha[133]=0,ba[37]=ba[133]=-1,xa[37]=xa[133]=0,wa[37]=wa[133]=0,Ma[37]=Ma[133]=1,Ca[37]=Ca[133]=0,La[37]=La[133]=0,Na[148]=Na[22]=-1,Ra[148]=Ra[22]=0,Fa[148]=Fa[22]=0,ja[148]=ja[22]=0,Va[148]=Va[22]=-1,Ha[148]=Ha[22]=1,Ya[148]=Ya[22]=0,Ba[148]=Ba[22]=1,za[148]=za[22]=1,Ma[148]=Ma[22]=-1,Ca[148]=Ca[22]=0,La[148]=La[22]=1,Ea[82]=Ea[88]=0,ka[82]=ka[88]=-1,Ta[82]=Ta[88]=1,Na[82]=Na[88]=1,Ra[82]=Ra[88]=0,Fa[82]=Fa[88]=1,Ia[82]=Ia[88]=-1,Pa[82]=Pa[88]=0,Oa[82]=Oa[88]=1,Ya[82]=Ya[88]=0,Ba[82]=Ba[88]=-1,za[82]=za[88]=0,Ea[73]=Ea[97]=0,ka[73]=ka[97]=1,Ta[73]=Ta[97]=0,Sa[73]=Sa[97]=0,Aa[73]=Aa[97]=-1,Da[73]=Da[97]=0,Ia[73]=Ia[97]=1,Pa[73]=Pa[97]=0,Oa[73]=Oa[97]=0,ba[73]=ba[97]=1,xa[73]=xa[97]=0,wa[73]=wa[97]=1,Ea[145]=Ea[25]=0,ka[145]=ka[25]=-1,Ta[145]=Ta[25]=0,Ia[145]=Ia[25]=1,Pa[145]=Pa[25]=0,Oa[145]=Oa[25]=1,ja[145]=ja[25]=0,Va[145]=Va[25]=1,Ha[145]=Ha[25]=1,Ma[145]=Ma[25]=-1,Ca[145]=Ca[25]=0,La[145]=La[25]=0,Sa[70]=Sa[100]=0,Aa[70]=Aa[100]=1,Da[70]=Da[100]=0,Na[70]=Na[100]=-1,Ra[70]=Ra[100]=0,Fa[70]=Fa[100]=1,Ya[70]=Ya[100]=0,Ba[70]=Ba[100]=-1,za[70]=za[100]=1,ba[70]=ba[100]=1,xa[70]=xa[100]=0,wa[70]=wa[100]=0,Sa[101]=Sa[69]=0,Aa[101]=Aa[69]=1,Da[101]=Da[69]=0,ba[101]=ba[69]=1,xa[101]=xa[69]=0,wa[101]=wa[69]=0,ja[149]=ja[21]=0,Va[149]=Va[21]=1,Ha[149]=Ha[21]=1,Ma[149]=Ma[21]=-1,Ca[149]=Ca[21]=0,La[149]=La[21]=0,Na[86]=Na[84]=-1,Ra[86]=Ra[84]=0,Fa[86]=Fa[84]=1,Ya[86]=Ya[84]=0,Ba[86]=Ba[84]=-1,za[86]=za[84]=1,Ea[89]=Ea[81]=0,ka[89]=ka[81]=-1,Ta[89]=Ta[81]=0,Ia[89]=Ia[81]=1,Pa[89]=Pa[81]=0,Oa[89]=Oa[81]=1,Ea[96]=Ea[74]=0,ka[96]=ka[74]=1,Ta[96]=Ta[74]=0,Sa[96]=Sa[74]=-1,Aa[96]=Aa[74]=0,Da[96]=Da[74]=1,Ya[96]=Ya[74]=1,Ba[96]=Ba[74]=0,za[96]=za[74]=0,ba[96]=ba[74]=1,xa[96]=xa[74]=0,wa[96]=wa[74]=1,Ea[24]=Ea[146]=0,ka[24]=ka[146]=-1,Ta[24]=Ta[146]=1,Na[24]=Na[146]=1,Ra[24]=Ra[146]=0,Fa[24]=Fa[146]=1,Ia[24]=Ia[146]=0,Pa[24]=Pa[146]=1,Oa[24]=Oa[146]=1,Ma[24]=Ma[146]=0,Ca[24]=Ca[146]=-1,La[24]=La[146]=0,Sa[6]=Sa[164]=-1,Aa[6]=Aa[164]=0,Da[6]=Da[164]=1,Na[6]=Na[164]=-1,Ra[6]=Ra[164]=0,Fa[6]=Fa[164]=0,ja[6]=ja[164]=0,Va[6]=Va[164]=-1,Ha[6]=Ha[164]=1,Ya[6]=Ya[164]=1,Ba[6]=Ba[164]=0,za[6]=za[164]=0,Ia[129]=Ia[41]=0,Pa[129]=Pa[41]=1,Oa[129]=Oa[41]=1,ja[129]=ja[41]=0,Va[129]=Va[41]=1,Ha[129]=Ha[41]=0,ba[129]=ba[41]=-1,xa[129]=xa[41]=0,wa[129]=wa[41]=0,Ma[129]=Ma[41]=0,Ca[129]=Ca[41]=-1,La[129]=La[41]=0,Na[66]=Na[104]=0,Ra[66]=Ra[104]=1,Fa[66]=Fa[104]=0,Ia[66]=Ia[104]=-1,Pa[66]=Pa[104]=0,Oa[66]=Oa[104]=1,Ya[66]=Ya[104]=0,Ba[66]=Ba[104]=-1,za[66]=za[104]=0,ba[66]=ba[104]=0,xa[66]=xa[104]=-1,wa[66]=wa[104]=1,Ea[144]=Ea[26]=-1,ka[144]=ka[26]=0,Ta[144]=Ta[26]=0,ja[144]=ja[26]=1,Va[144]=Va[26]=0,Ha[144]=Ha[26]=1,Ya[144]=Ya[26]=0,Ba[144]=Ba[26]=1,za[144]=za[26]=1,Ma[144]=Ma[26]=-1,Ca[144]=Ca[26]=0,La[144]=La[26]=1,Sa[36]=Sa[134]=0,Aa[36]=Aa[134]=1,Da[36]=Da[134]=1,Na[36]=Na[134]=0,Ra[36]=Ra[134]=1,Fa[36]=Fa[134]=0,ba[36]=ba[134]=0,xa[36]=xa[134]=-1,wa[36]=wa[134]=1,Ma[36]=Ma[134]=1,Ca[36]=Ca[134]=0,La[36]=La[134]=0,Ea[9]=Ea[161]=-1,ka[9]=ka[161]=0,Ta[9]=Ta[161]=0,Sa[9]=Sa[161]=0,Aa[9]=Aa[161]=-1,Da[9]=Da[161]=0,Ia[9]=Ia[161]=1,Pa[9]=Pa[161]=0,Oa[9]=Oa[161]=0,ja[9]=ja[161]=1,Va[9]=Va[161]=0,Ha[9]=Ha[161]=1,Ea[136]=0,ka[136]=1,Ta[136]=1,Sa[136]=0,Aa[136]=1,Da[136]=0,Na[136]=-1,Ra[136]=0,Fa[136]=1,Ia[136]=-1,Pa[136]=0,Oa[136]=0,ja[136]=0,Va[136]=-1,Ha[136]=0,Ya[136]=0,Ba[136]=-1,za[136]=1,ba[136]=1,xa[136]=0,wa[136]=0,Ma[136]=1,Ca[136]=0,La[136]=1,Ea[34]=0,ka[34]=-1,Ta[34]=0,Sa[34]=0,Aa[34]=-1,Da[34]=1,Na[34]=1,Ra[34]=0,Fa[34]=0,Ia[34]=1,Pa[34]=0,Oa[34]=1,ja[34]=0,Va[34]=1,Ha[34]=1,Ya[34]=0,Ba[34]=1,za[34]=0,ba[34]=-1,xa[34]=0,wa[34]=1,Ma[34]=-1,Ca[34]=0,La[34]=0,Ea[35]=0,ka[35]=1,Ta[35]=1,Sa[35]=0,Aa[35]=-1,Da[35]=1,Na[35]=1,Ra[35]=0,Fa[35]=0,Ia[35]=-1,Pa[35]=0,Oa[35]=0,ja[35]=0,Va[35]=-1,Ha[35]=0,Ya[35]=0,Ba[35]=1,za[35]=0,ba[35]=-1,xa[35]=0,wa[35]=1,Ma[35]=1,Ca[35]=0,La[35]=1,Ea[153]=0,ka[153]=1,Ta[153]=1,Ia[153]=-1,Pa[153]=0,Oa[153]=0,ja[153]=0,Va[153]=-1,Ha[153]=0,Ma[153]=1,Ca[153]=0,La[153]=1,Sa[102]=0,Aa[102]=-1,Da[102]=1,Na[102]=1,Ra[102]=0,Fa[102]=0,Ya[102]=0,Ba[102]=1,za[102]=0,ba[102]=-1,xa[102]=0,wa[102]=1,Ea[155]=0,ka[155]=-1,Ta[155]=0,Ia[155]=1,Pa[155]=0,Oa[155]=1,ja[155]=0,Va[155]=1,Ha[155]=1,Ma[155]=-1,Ca[155]=0,La[155]=0,Sa[103]=0,Aa[103]=1,Da[103]=0,Na[103]=-1,Ra[103]=0,Fa[103]=1,Ya[103]=0,Ba[103]=-1,za[103]=1,ba[103]=1,xa[103]=0,wa[103]=0,Ea[152]=0,ka[152]=1,Ta[152]=1,Na[152]=-1,Ra[152]=0,Fa[152]=1,Ia[152]=-1,Pa[152]=0,Oa[152]=0,ja[152]=0,Va[152]=-1,Ha[152]=0,Ya[152]=0,Ba[152]=-1,za[152]=1,Ma[152]=1,Ca[152]=0,La[152]=1,Ea[156]=0,ka[156]=-1,Ta[156]=1,Na[156]=1,Ra[156]=0,Fa[156]=1,Ia[156]=-1,Pa[156]=0,Oa[156]=0,ja[156]=0,Va[156]=-1,Ha[156]=0,Ya[156]=0,Ba[156]=1,za[156]=1,Ma[156]=-1,Ca[156]=0,La[156]=1,Ea[137]=0,ka[137]=1,Ta[137]=1,Sa[137]=0,Aa[137]=1,Da[137]=0,Ia[137]=-1,Pa[137]=0,Oa[137]=0,ja[137]=0,Va[137]=-1,Ha[137]=0,ba[137]=1,xa[137]=0,wa[137]=0,Ma[137]=1,Ca[137]=0,La[137]=1,Ea[139]=0,ka[139]=1,Ta[139]=1,Sa[139]=0,Aa[139]=-1,Da[139]=0,Ia[139]=1,Pa[139]=0,Oa[139]=0,ja[139]=0,Va[139]=1,Ha[139]=0,ba[139]=-1,xa[139]=0,wa[139]=0,Ma[139]=1,Ca[139]=0,La[139]=1,Ea[98]=0,ka[98]=-1,Ta[98]=0,Sa[98]=0,Aa[98]=-1,Da[98]=1,Na[98]=1,Ra[98]=0,Fa[98]=0,Ia[98]=1,Pa[98]=0,Oa[98]=1,Ya[98]=0,Ba[98]=1,za[98]=0,ba[98]=-1,xa[98]=0,wa[98]=1,Ea[99]=0,ka[99]=1,Ta[99]=0,Sa[99]=0,Aa[99]=-1,Da[99]=1,Na[99]=1,Ra[99]=0,Fa[99]=0,Ia[99]=-1,Pa[99]=0,Oa[99]=1,Ya[99]=0,Ba[99]=-1,za[99]=0,ba[99]=1,xa[99]=0,wa[99]=1,Sa[38]=0,Aa[38]=-1,Da[38]=1,Na[38]=1,Ra[38]=0,Fa[38]=0,ja[38]=0,Va[38]=1,Ha[38]=1,Ya[38]=0,Ba[38]=1,za[38]=0,ba[38]=-1,xa[38]=0,wa[38]=1,Ma[38]=-1,Ca[38]=0,La[38]=0,Sa[39]=0,Aa[39]=1,Da[39]=1,Na[39]=-1,Ra[39]=0,Fa[39]=0,ja[39]=0,Va[39]=-1,Ha[39]=1,Ya[39]=0,Ba[39]=1,za[39]=0,ba[39]=-1,xa[39]=0,wa[39]=1,Ma[39]=1,Ca[39]=0,La[39]=0;var Ua=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Ga=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},qa=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},Wa=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Za=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},Xa=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},Ja=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},Ka=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Qa=[],$a=[],ts=[],es=[],ns=[],rs=[],is=[],os=[];es[1]=ns[1]=18,es[169]=ns[169]=18,ts[4]=$a[4]=12,ts[166]=$a[166]=12,Qa[16]=os[16]=4,Qa[154]=os[154]=4,rs[64]=is[64]=22,rs[106]=is[106]=22,ts[2]=rs[2]=17,es[2]=ns[2]=18,ts[168]=rs[168]=17,es[168]=ns[168]=18,Qa[8]=es[8]=9,$a[8]=ts[8]=12,Qa[162]=es[162]=9,$a[162]=ts[162]=12,Qa[32]=os[32]=4,$a[32]=is[32]=1,Qa[138]=os[138]=4,$a[138]=is[138]=1,ns[128]=os[128]=21,rs[128]=is[128]=22,ns[42]=os[42]=21,rs[42]=is[42]=22,$a[5]=ns[5]=14,$a[165]=ns[165]=14,ts[20]=os[20]=6,ts[150]=os[150]=6,Qa[80]=rs[80]=11,Qa[90]=rs[90]=11,es[65]=is[65]=3,es[105]=is[105]=3,Qa[160]=rs[160]=11,$a[160]=ns[160]=14,Qa[10]=rs[10]=11,$a[10]=ns[10]=14,ts[130]=os[130]=6,es[130]=is[130]=3,ts[40]=os[40]=6,es[40]=is[40]=3,$a[101]=is[101]=1,$a[69]=is[69]=1,ns[149]=os[149]=21,ns[21]=os[21]=21,ts[86]=rs[86]=17,ts[84]=rs[84]=17,Qa[89]=es[89]=9,Qa[81]=es[81]=9,Qa[96]=is[96]=0,$a[96]=rs[96]=15,Qa[74]=is[74]=0,$a[74]=rs[74]=15,Qa[24]=ts[24]=8,es[24]=os[24]=7,Qa[146]=ts[146]=8,es[146]=os[146]=7,$a[6]=rs[6]=15,ts[6]=ns[6]=16,$a[164]=rs[164]=15,ts[164]=ns[164]=16,es[129]=os[129]=7,ns[129]=is[129]=20,es[41]=os[41]=7,ns[41]=is[41]=20,ts[66]=is[66]=2,es[66]=rs[66]=19,ts[104]=is[104]=2,es[104]=rs[104]=19,Qa[144]=ns[144]=10,rs[144]=os[144]=23,Qa[26]=ns[26]=10,rs[26]=os[26]=23,$a[36]=os[36]=5,ts[36]=is[36]=2,$a[134]=os[134]=5,ts[134]=is[134]=2,Qa[9]=ns[9]=10,$a[9]=es[9]=13,Qa[161]=ns[161]=10,$a[161]=es[161]=13,$a[37]=os[37]=5,ns[37]=is[37]=20,$a[133]=os[133]=5,ns[133]=is[133]=20,ts[148]=ns[148]=16,rs[148]=os[148]=23,ts[22]=ns[22]=16,rs[22]=os[22]=23,Qa[82]=ts[82]=8,es[82]=rs[82]=19,Qa[88]=ts[88]=8,es[88]=rs[88]=19,Qa[73]=is[73]=0,$a[73]=es[73]=13,Qa[97]=is[97]=0,$a[97]=es[97]=13,Qa[145]=es[145]=9,ns[145]=os[145]=21,Qa[25]=es[25]=9,ns[25]=os[25]=21,$a[70]=is[70]=1,ts[70]=rs[70]=17,$a[100]=is[100]=1,ts[100]=rs[100]=17,Qa[34]=es[34]=9,$a[34]=ts[34]=12,ns[34]=os[34]=21,rs[34]=is[34]=22,Qa[136]=os[136]=4,$a[136]=is[136]=1,ts[136]=rs[136]=17,es[136]=ns[136]=18,Qa[35]=os[35]=4,$a[35]=ts[35]=12,es[35]=ns[35]=18,rs[35]=is[35]=22,Qa[153]=os[153]=4,es[153]=ns[153]=18,$a[102]=ts[102]=12,rs[102]=is[102]=22,Qa[155]=es[155]=9,ns[155]=os[155]=23,$a[103]=is[103]=1,ts[103]=rs[103]=17,Qa[152]=os[152]=4,ts[152]=rs[152]=17,es[152]=ns[152]=18,Qa[156]=ts[156]=8,es[156]=ns[156]=18,rs[156]=os[156]=23,Qa[137]=os[137]=4,$a[137]=is[137]=1,es[137]=ns[137]=18,Qa[139]=os[139]=4,$a[139]=es[139]=13,ns[139]=is[139]=20,Qa[98]=es[98]=9,$a[98]=ts[98]=12,rs[98]=is[98]=22,Qa[99]=is[99]=0,$a[99]=ts[99]=12,es[99]=rs[99]=19,$a[38]=ts[38]=12,ns[38]=os[38]=21,rs[38]=is[38]=22,$a[39]=os[39]=5,ts[39]=ns[39]=16,rs[39]=is[39]=22;var as=[];as[1]=as[169]=Ua,as[4]=as[166]=Ga,as[16]=as[154]=qa,as[64]=as[106]=Wa,as[168]=as[2]=Za,as[162]=as[8]=Xa,as[138]=as[32]=Ja,as[42]=as[128]=Ka,as[5]=as[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},as[20]=as[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},as[80]=as[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},as[65]=as[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},as[160]=as[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},as[130]=as[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},as[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},as[101]=as[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},as[149]=as[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},as[86]=as[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},as[89]=as[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},as[96]=as[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},as[24]=as[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},as[6]=as[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},as[129]=as[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},as[66]=as[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},as[144]=as[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},as[36]=as[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},as[9]=as[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},as[37]=as[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},as[148]=as[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},as[82]=as[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},as[73]=as[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},as[145]=as[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},as[70]=as[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},as[34]=function(t){return[Ka(t),Xa(t)]},as[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},as[136]=function(t){return[Ja(t),Za(t)]},as[153]=function(t){return[qa(t),Ua(t)]},as[102]=function(t){return[Ga(t),Wa(t)]},as[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},as[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},as[152]=function(t){return[qa(t),Za(t)]},as[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},as[137]=function(t){return[Ja(t),Ua(t)]},as[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},as[98]=function(t){return[Xa(t),Wa(t)]},as[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},as[38]=function(t){return[Ga(t),Ka(t)]},as[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var ss=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};ss.buildId=function(t){return t.join(",")},ss.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},ss.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},ss.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},ss.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=ar(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},ss.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},ss.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},ss.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var ls=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};ls.prototype.getSymetric=function(){return this.symetric||(this.symetric=new ls(this.to,this.from),this.symetric.symetric=this),this.symetric},ls.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},ls.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},ls.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},ls.prototype.toLineString=function(){return s([this.from.coordinates,this.to.coordinates])},ls.prototype.compareTo=function(t){return ar(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var us=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},cs={length:{configurable:!0}};us.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},us.prototype.get=function(t){return this.edges[t]},cs.length.get=function(){return this.edges.length},us.prototype.forEach=function(t){this.edges.forEach(t)},us.prototype.map=function(t){return this.edges.map(t)},us.prototype.some=function(t){return this.edges.some(t)},us.prototype.isValid=function(){return!0},us.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e},0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=ar(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},us.prototype.toMultiPoint=function(){return p(this.edges.map(function(t){return t.from.coordinates}))},us.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},us.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=ne(this.toPolygon())},us.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach(function(e){var a=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map(function(t){return t[0]}),r=t.geometry.coordinates.map(function(t){return t[1]}),i=e.geometry.coordinates.map(function(t){return t[0]}),o=e.geometry.coordinates.map(function(t){return t[1]});return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(a,o)&&sr(a,o)){var s=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)})});s&&e.inside(r(s))&&(i&&!sr(n,a)||(i=e))}}),i},us.prototype.inside=function(t){return Tt(t,this.toPolygon())},Object.defineProperties(us.prototype,cs);var ps=function(){this.edges=[],this.nodes={}};ps.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new ps;return R(t,function(t){W(t,"LineString","Graph::fromGeoJson"),T(t,function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n})}),e},ps.prototype.getNode=function(t){var e=ss.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new ss(t)),n},ps.prototype.addEdge=function(t,e){var n=new ls(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},ps.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},ps.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}},ps.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},ps.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})},ps.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var a=i[o],s=a.symetric,l=void 0,u=void 0;a.label===e&&(l=a),s.label===e&&(u=s),l&&u&&(u&&(r=u),l&&(r&&(r.next=l,r=void 0),n||(n=l)))}r&&(r.next=n)},ps.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}}),t},ps.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e},ps.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++r}),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},ps.prototype._findEdgeRing=function(t){var e=t,n=new us;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},ps.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},ps.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()};var hs=gt(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),ds=gt(function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r}),fs=gt(function(t){function e(t){return null==t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,i=t.exports=function(t,o,a){return a||(a={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?a.strict?t===o:t==o:function(t,o,a){var s,l;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(ds(t))return!!ds(o)&&(t=r.call(t),o=r.call(o),i(t,o,a));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==o[s])return!1;return!0}try{var u=hs(t),c=hs(o)}catch(t){return!1}if(u.length!=c.length)return!1;for(u.sort(),c.sort(),s=u.length-1;s>=0;s--)if(u[s]!=c[s])return!1;for(s=u.length-1;s>=0;s--)if(!i(t[l=u[s]],o[l],a))return!1;return typeof t==typeof o}(t,o,a))}}),ms=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:_r};ms.prototype.compare=function(t,e){if(t.type!==e.type||!yr(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=gr(t),i=gr(e);return r.every(function(t){return this.some(function(e){return n.compare(t,e)})},i)}}return!1},ms.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},ms.prototype.compareLine=function(t,e,n,r){if(!yr(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},ms.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},ms.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},ms.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every(function(t){return this.some(function(e){return i.compareLine(t,e,1,!0)})},r)}return!1},ms.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},ms.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},ms.prototype.removePseudo=function(t){return t};var gs=ms,ys=gt(function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(i,a),this._expandCluster(a,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),_s=gt(function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(c),s=0,l=0;l<c;l++)a[l]=0;for(var u=0;u<n;u++){var c=this.dataset[u].length;if(o===this.assignments[u]){for(l=0;l<c;l++)a[l]+=this.dataset[u][l];s++}}if(s>0){for(l=0;l<c;l++)a[l]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,a=e.length,s=0;s<a;s++)(r=n(t,e[s]))<i&&(i=r,o=s);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)}),vs=gt(function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)}),bs=gt(function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=vs;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var l=new n(null,null,"asc"),u=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,u,l),this._expandCluster(s,l))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e];t.push([r,this._reachability[r]])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}})},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),xs=gt(function(t){t.exports&&(t.exports={DBSCAN:ys,KMEANS:_s,OPTICS:bs,PriorityQueue:vs})}),ws=function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var a=(t[o]||0)-(e[o]||0);i+=a*a}return n?Math.sqrt(i):i},Ms=ws,Cs=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Ls=ws,Es={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||Es.heuristics.manhattan,o=r.closest||!1,a=new Lr(function(t){return t.f}),s=e;for(e.h=i(e,n),a.push(e);a.size()>0;){var l=a.pop();if(l===n)return wr(l);l.closed=!0;for(var u=t.neighbors(l),c=0,p=u.length;c<p;++c){var h=u[c];if(!h.closed&&!h.isWall()){var d=l.g+h.getCost(l),f=h.visited;(!f||d<h.g)&&(h.visited=!0,h.parent=l,h.h=h.h||i(h,n),h.g=d,h.f=h.g+h.h,t.markDirty(h),o&&(h.h<s.h||h.h===s.h&&h.g<s.g)&&(s=h),f?a.rescoreElement(h):a.push(h))}}}return o?wr(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Mr.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Es.cleanNode(this.nodes[t])},Mr.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Es.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Mr.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Mr.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Mr.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,a=0,s=o.length;a<s;a++){for(t=[],n=0,r=(e=o[a]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Cr.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Cr.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Cr.prototype.isWall=function(){return 0===this.weight},Lr.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,a=o-1,s=null;if(a<e&&(i=this.scoreFunction(this.content[a]))<r&&(s=a),o<e&&this.scoreFunction(this.content[o])<(null===s?r:i)&&(s=o),null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}};var ks=function(t){return function(){return t}};Tr.prototype={constructor:Tr,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ir(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ar(this,n),n=(t=n).U),n.C=!1,r.C=!0,Dr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Dr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ar(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Ir(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ar(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Dr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ar(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Dr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ar(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Dr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Ts,Ss,As,Ds,Is,Ps=[],Os=[],Ns=1e-6,Rs=1e-12;Jr.prototype={constructor:Jr,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Br(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,l=-1,u=e[i[o-1]],c=u.left===s?u.right:u.left;++l<o;)a=c,c=(u=e[i[l]]).left===s?u.right:u.left,a&&c&&r<a.index&&r<c.index&&Zr(s,a,c)<0&&t.push([s.data,a.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var l=t-i.site[0],u=e-i.site[1],c=l*l+u*u;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=t-s[0],u=e-s[1],p=l*l+u*u;p<c&&(c=p,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};var Fs=Object.freeze({randomPosition:ri,randomPoint:ii,randomPolygon:oi,randomLineString:ai}),Ys=Object.freeze({getCluster:li,clusterEach:ui,clusterReduce:ci,createBins:pi,applyFilter:hi,propertiesContainsFilter:di,filterProperties:fi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Bs=function(){};Bs.prototype.interfaces_=function(){return[]},Bs.prototype.getClass=function(){return Bs},Bs.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var zs=function(){},js=function(){},Vs={MAX_VALUE:{configurable:!0}};js.isNaN=function(t){return Number.isNaN(t)},js.doubleToLongBits=function(t){return t},js.longBitsToDouble=function(t){return t},js.isInfinite=function(t){return!Number.isFinite(t)},Vs.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(js,Vs);var Hs=function(){},Us=function(){},Gs=function(){},qs=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Ws={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};qs.prototype.setOrdinate=function(t,e){switch(t){case qs.X:this.x=e;break;case qs.Y:this.y=e;break;case qs.Z:this.z=e;break;default:throw new zs("Invalid ordinate index: "+t)}},qs.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Bs.equalsWithTolerance(this.x,e.x,n)&&!!Bs.equalsWithTolerance(this.y,e.y,n)}},qs.prototype.getOrdinate=function(t){switch(t){case qs.X:return this.x;case qs.Y:return this.y;case qs.Z:return this.z}throw new zs("Invalid ordinate index: "+t)},qs.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||js.isNaN(this.z))&&js.isNaN(t.z)},qs.prototype.equals=function(t){return t instanceof qs&&this.equals2D(t)},qs.prototype.equalInZ=function(t,e){return Bs.equalsWithTolerance(this.z,t.z,e)},qs.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},qs.prototype.clone=function(){},qs.prototype.copy=function(){return new qs(this)},qs.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},qs.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},qs.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},qs.prototype.hashCode=function(){var t=17;return 37*(t=37*t+qs.hashCode(this.x))+qs.hashCode(this.y)},qs.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},qs.prototype.interfaces_=function(){return[Hs,Us,mi]},qs.prototype.getClass=function(){return qs},qs.hashCode=function(){if(1===arguments.length){var t=js.doubleToLongBits(arguments[0]);return Math.trunc((t^t)>>>32)}},Ws.DimensionalComparator.get=function(){return Zs},Ws.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Ws.NULL_ORDINATE.get=function(){return js.NaN},Ws.X.get=function(){return 0},Ws.Y.get=function(){return 1},Ws.Z.get=function(){return 2},Object.defineProperties(qs,Ws);var Zs=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new zs("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};Zs.prototype.compare=function(t,e){var n=t,r=e,i=Zs.compare(n.x,r.x);if(0!==i)return i;var o=Zs.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:Zs.compare(n.z,r.z)},Zs.prototype.interfaces_=function(){return[Gs]},Zs.prototype.getClass=function(){return Zs},Zs.compare=function(t,e){return t<e?-1:t>e?1:js.isNaN(t)?js.isNaN(e)?0:-1:js.isNaN(e)?1:0};var Xs=function(){};Xs.prototype.create=function(){},Xs.prototype.interfaces_=function(){return[]},Xs.prototype.getClass=function(){return Xs};var Js=function(){},Ks={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Js.prototype.interfaces_=function(){return[]},Js.prototype.getClass=function(){return Js},Js.toLocationSymbol=function(t){switch(t){case Js.EXTERIOR:return"e";case Js.BOUNDARY:return"b";case Js.INTERIOR:return"i";case Js.NONE:return"-"}throw new zs("Unknown location value: "+t)},Ks.INTERIOR.get=function(){return 0},Ks.BOUNDARY.get=function(){return 1},Ks.EXTERIOR.get=function(){return 2},Ks.NONE.get=function(){return-1},Object.defineProperties(Js,Ks);var Qs=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},$s=function(){},tl={LOG_10:{configurable:!0}};$s.prototype.interfaces_=function(){return[]},$s.prototype.getClass=function(){return $s},$s.log10=function(t){var e=Math.log(t);return js.isInfinite(e)?e:js.isNaN(e)?e:e/$s.LOG_10},$s.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},$s.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},$s.wrap=function(t,e){return t<0?e- -t%e:t%e},$s.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[0];return r>a&&(a=r),i>a&&(a=i),o>a&&(a=o),a}},$s.average=function(t,e){return(t+e)/2},tl.LOG_10.get=function(){return Math.log(10)},Object.defineProperties($s,tl);var el=function(t){this.str=t};el.prototype.append=function(t){this.str+=t},el.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},el.prototype.toString=function(t){return this.str};var nl=function(t){this.value=t};nl.prototype.intValue=function(){return this.value},nl.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},nl.isNaN=function(t){return Number.isNaN(t)};var rl=function(){};rl.isWhitespace=function(t){return t<=32&&t>=0||127===t},rl.toUpperCase=function(t){return t.toUpperCase()};var il=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]?this.init(arguments[0]):arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},ol={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};il.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},il.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=il.magnitude(n._hi),i=il.TEN.pow(r);(n=n.divide(i)).gt(il.TEN)?(n=n.divide(il.TEN),r+=1):n.lt(il.ONE)&&(n=n.multiply(il.TEN),r-=1);for(var o=r+1,a=new el,s=il.MAX_PRINT_DIGITS-1,l=0;l<=s;l++){t&&l===o&&a.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,p=0;u>9?(c=!0,p="9"):p="0"+u,a.append(p),n=n.subtract(il.valueOf(u)).multiply(il.TEN),c&&n.selfAdd(il.TEN);var h=!0,d=il.magnitude(n._hi);if(d<0&&Math.abs(d)>=s-l&&(h=!1),!h)break}return e[0]=r,a.toString()},il.prototype.sqr=function(){return this.multiply(this)},il.prototype.doubleValue=function(){return this._hi+this._lo},il.prototype.subtract=function(){return arguments[0]instanceof il?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},il.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},il.prototype.isZero=function(){return 0===this._hi&&0===this._lo},il.prototype.selfSubtract=function(){if(arguments[0]instanceof il){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},il.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},il.prototype.min=function(t){return this.le(t)?this:t},il.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof il){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var e,n,r,i,o=arguments[0],a=null,s=null,l=null,u=null;return this._hi=u=(r=this._hi/o)+(l=(this._hi-(i=r*o)-(u=(a=(l=il.SPLIT*r)-(a=l-r))*(s=(u=il.SPLIT*o)-(s=u-o))-i+a*(n=o-s)+(e=r-a)*s+e*n)+this._lo-r*arguments[1])/o),this._lo=r-u+l,this}},il.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},il.prototype.divide=function(){if(arguments[0]instanceof il){var t,e,n,r,i=arguments[0],o=null,a=null,s=null,l=null;return t=(n=this._hi/i._hi)-(o=(s=il.SPLIT*n)-(o=s-n)),l=o*(a=(l=il.SPLIT*i._hi)-(a=l-i._hi))-(r=n*i._hi)+o*(e=i._hi-a)+t*a+t*e,new il(l=n+(s=(this._hi-r-l+this._lo-n*i._lo)/i._hi),n-l+s)}if("number"==typeof arguments[0]){var u=arguments[0];return js.isNaN(u)?il.createNaN():il.copy(this).selfDivide(u,0)}},il.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},il.prototype.pow=function(t){if(0===t)return il.valueOf(1);var e=new il(this),n=il.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},il.prototype.ceil=function(){if(this.isNaN())return il.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new il(t,e)},il.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},il.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},il.prototype.setValue=function(){return arguments[0]instanceof il?(this.init(arguments[0]),this):"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},il.prototype.max=function(t){return this.ge(t)?this:t},il.prototype.sqrt=function(){if(this.isZero())return il.valueOf(0);if(this.isNegative())return il.NaN;var t=1/Math.sqrt(this._hi),e=il.valueOf(this._hi*t),n=this.subtract(e.sqr())._hi*(.5*t);return e.add(n)},il.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof il){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e,n,r,i,o,a=arguments[0];return this._hi=(e=(r=this._hi+a)+(o=a-(i=r-this._hi)+(this._hi-(r-i))+this._lo))+(n=o+(r-e)),this._lo=n+(e-this._hi),this}}else if(2===arguments.length){var s,l,u,c,p=arguments[0],h=arguments[1],d=null,f=null,m=null;f=(u=this._hi+p)-(m=u-this._hi),d=(l=this._lo+h)-(c=l-this._lo);var g=(s=u+(m=(f=p-m+(this._hi-f))+l))+(m=(d=h-c+(this._lo-d))+(m+(u-s))),y=m+(s-g);return this._hi=g,this._lo=y,this}},il.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof il){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var e,n,r=arguments[0],i=null,o=null,a=null,s=null;i=(a=il.SPLIT*this._hi)-this._hi,i=a-i;var l=(a=this._hi*r)+(s=i*(o=(s=il.SPLIT*r)-(o=s-r))-a+i*(n=r-o)+(e=this._hi-i)*o+e*n+(this._hi*arguments[1]+this._lo*r)),u=s+(i=a-l);return this._hi=l,this._lo=u,this}},il.prototype.selfSqr=function(){return this.selfMultiply(this)},il.prototype.floor=function(){if(this.isNaN())return il.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new il(t,e)},il.prototype.negate=function(){return this.isNaN()?this:new il(-this._hi,-this._lo)},il.prototype.clone=function(){},il.prototype.multiply=function(){if(arguments[0]instanceof il){var t=arguments[0];return t.isNaN()?il.createNaN():il.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return js.isNaN(e)?il.createNaN():il.copy(this).selfMultiply(e,0)}},il.prototype.isNaN=function(){return js.isNaN(this._hi)},il.prototype.intValue=function(){return Math.trunc(this._hi)},il.prototype.toString=function(){var t=il.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},il.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;return"."===n.charAt(0)?i="0"+n:r<0?i="0."+il.stringOfChar("0",-r)+n:-1===n.indexOf(".")&&(i=n+il.stringOfChar("0",r-n.length)+".0"),this.isNegative()?"-"+i:i},il.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,a=null,s=null;t=(n=1/this._hi)-(i=(a=il.SPLIT*n)-(i=a-n)),o=(s=il.SPLIT*this._hi)-this._hi;var l=n+(a=(1-(r=n*this._hi)-(s=i*(o=s-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new il(l,n-l+a)},il.prototype.toSciNotation=function(){if(this.isZero())return il.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=il.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},il.prototype.abs=function(){return this.isNaN()?il.NaN:this.isNegative()?this.negate():new il(this)},il.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},il.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},il.prototype.add=function(){if(arguments[0]instanceof il){var t=arguments[0];return il.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return il.copy(this).selfAdd(e)}},il.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof il){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var e=arguments[1];this._hi=arguments[0],this._lo=e}},il.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},il.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},il.prototype.trunc=function(){return this.isNaN()?il.NaN:this.isPositive()?this.floor():this.ceil()},il.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},il.prototype.interfaces_=function(){return[mi,Hs,Us]},il.prototype.getClass=function(){return il},il.sqr=function(t){return il.valueOf(t).selfMultiply(t)},il.valueOf=function(){return"string"==typeof arguments[0]?il.parse(arguments[0]):"number"==typeof arguments[0]?new il(arguments[0]):void 0},il.sqrt=function(t){return il.valueOf(t).sqrt()},il.parse=function(t){for(var e=0,n=t.length;rl.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new il,a=0,s=0,l=0;!(e>=n);){var u=t.charAt(e);if(e++,rl.isDigit(u)){var c=u-"0";o.selfMultiply(il.TEN),o.selfAdd(c),a++}else{if("."!==u){if("e"===u||"E"===u){var p=t.substring(e);try{l=nl.parseInt(p)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+p+" in string "+t):e}break}throw new Error("Unexpected character '"+u+"' at position "+e+" in string "+t)}s=a}}var h=o,d=a-s-l;if(0===d)h=o;else if(d>0){var f=il.TEN.pow(d);h=o.divide(f)}else if(d<0){var m=il.TEN.pow(-d);h=o.multiply(m)}return r?h.negate():h},il.createNaN=function(){return new il(js.NaN,js.NaN)},il.copy=function(t){return new il(t)},il.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},il.stringOfChar=function(t,e){for(var n=new el,r=0;r<e;r++)n.append(t);return n.toString()},ol.PI.get=function(){return new il(3.141592653589793,1.2246467991473532e-16)},ol.TWO_PI.get=function(){return new il(6.283185307179586,2.4492935982947064e-16)},ol.PI_2.get=function(){return new il(1.5707963267948966,6.123233995736766e-17)},ol.E.get=function(){return new il(2.718281828459045,1.4456468917292502e-16)},ol.NaN.get=function(){return new il(js.NaN,js.NaN)},ol.EPS.get=function(){return 1.23259516440783e-32},ol.SPLIT.get=function(){return 134217729},ol.MAX_PRINT_DIGITS.get=function(){return 32},ol.TEN.get=function(){return il.valueOf(10)},ol.ONE.get=function(){return il.valueOf(1)},ol.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},ol.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(il,ol);var al=function(){},sl={DP_SAFE_EPSILON:{configurable:!0}};al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al},al.orientationIndex=function(t,e,n){var r=al.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=il.valueOf(e.x).selfAdd(-t.x),o=il.valueOf(e.y).selfAdd(-t.y),a=il.valueOf(n.x).selfAdd(-e.x),s=il.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},al.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},al.intersection=function(t,e,n,r){var i=il.valueOf(r.y).selfSubtract(n.y).selfMultiply(il.valueOf(e.x).selfSubtract(t.x)),o=il.valueOf(r.x).selfSubtract(n.x).selfMultiply(il.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=il.valueOf(r.x).selfSubtract(n.x).selfMultiply(il.valueOf(t.y).selfSubtract(n.y)),l=il.valueOf(r.y).selfSubtract(n.y).selfMultiply(il.valueOf(t.x).selfSubtract(n.x)),u=s.subtract(l).selfDivide(a).doubleValue(),c=il.valueOf(t.x).selfAdd(il.valueOf(e.x).selfSubtract(t.x).selfMultiply(u)).doubleValue(),p=il.valueOf(e.x).selfSubtract(t.x).selfMultiply(il.valueOf(t.y).selfSubtract(n.y)),h=il.valueOf(e.y).selfSubtract(t.y).selfMultiply(il.valueOf(t.x).selfSubtract(n.x)),d=p.subtract(h).selfDivide(a).doubleValue(),f=il.valueOf(n.y).selfAdd(il.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new qs(c,f)},al.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(o<=0)return al.signum(a);r=i+o}else{if(!(i<0))return al.signum(a);if(o>=0)return al.signum(a);r=-i-o}var s=al.DP_SAFE_EPSILON*r;return a>=s||-a>=s?al.signum(a):2},al.signum=function(t){return t>0?1:t<0?-1:0},sl.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(al,sl);var ll=function(){},ul={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};ul.X.get=function(){return 0},ul.Y.get=function(){return 1},ul.Z.get=function(){return 2},ul.M.get=function(){return 3},ll.prototype.setOrdinate=function(t,e,n){},ll.prototype.size=function(){},ll.prototype.getOrdinate=function(t,e){},ll.prototype.getCoordinate=function(){},ll.prototype.getCoordinateCopy=function(t){},ll.prototype.getDimension=function(){},ll.prototype.getX=function(t){},ll.prototype.clone=function(){},ll.prototype.expandEnvelope=function(t){},ll.prototype.copy=function(){},ll.prototype.getY=function(t){},ll.prototype.toCoordinateArray=function(){},ll.prototype.interfaces_=function(){return[Us]},ll.prototype.getClass=function(){return ll},Object.defineProperties(ll,ul);var cl=function(){},pl=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cl),hl=function(){};hl.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;a<e+i;a++)n[r+o]=t[a],o++},hl.getProperty=function(t){return{"line.separator":"\n"}[t]};var dl=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[1];this.x=arguments[0],this.y=n,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],i=arguments[1];this.x=r.y*i.w-i.y*r.w,this.y=i.x*r.w-r.x*i.w,this.w=r.x*i.y-i.x*r.y}else if(arguments[0]instanceof qs&&arguments[1]instanceof qs){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var s=arguments[1],l=arguments[2];this.x=arguments[0],this.y=s,this.w=l}else if(4===arguments.length){var u=arguments[0],c=arguments[1],p=arguments[2],h=arguments[3],d=u.y-c.y,f=c.x-u.x,m=u.x*c.y-c.x*u.y,g=p.y-h.y,y=h.x-p.x,_=p.x*h.y-h.x*p.y;this.x=f*_-y*m,this.y=g*m-d*_,this.w=d*y-g*f}};dl.prototype.getY=function(){var t=this.y/this.w;if(js.isNaN(t)||js.isInfinite(t))throw new pl;return t},dl.prototype.getX=function(){var t=this.x/this.w;if(js.isNaN(t)||js.isInfinite(t))throw new pl;return t},dl.prototype.getCoordinate=function(){var t=new qs;return t.x=this.getX(),t.y=this.getY(),t},dl.prototype.interfaces_=function(){return[]},dl.prototype.getClass=function(){return dl},dl.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-r.y,l=r.x-n.x,u=n.x*r.y-r.x*n.y,c=i*l-s*o,p=(o*u-l*a)/c,h=(s*a-i*u)/c;if(js.isNaN(p)||js.isInfinite(p)||js.isNaN(h)||js.isInfinite(h))throw new pl;return new qs(p,h)};var fl=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof qs){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},ml={serialVersionUID:{configurable:!0}};fl.prototype.getArea=function(){return this.getWidth()*this.getHeight()},fl.prototype.equals=function(t){if(!(t instanceof fl))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},fl.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new fl:new fl(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},fl.prototype.isNull=function(){return this._maxx<this._minx},fl.prototype.getMaxX=function(){return this._maxx},fl.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof qs){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof fl){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},fl.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof fl){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof qs){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},fl.prototype.getMinY=function(){return this._miny},fl.prototype.getMinX=function(){return this._minx},fl.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof qs){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof fl){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},fl.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},fl.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},fl.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},fl.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},fl.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},fl.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},fl.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},fl.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},fl.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},fl.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof fl)return this.covers(arguments[0]);if(arguments[0]instanceof qs)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},fl.prototype.centre=function(){return this.isNull()?null:new qs((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},fl.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof qs){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof fl){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},fl.prototype.getMaxY=function(){return this._maxy},fl.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},fl.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+qs.hashCode(this._minx))+qs.hashCode(this._maxx))+qs.hashCode(this._miny))+qs.hashCode(this._maxy)},fl.prototype.interfaces_=function(){return[Hs,mi]},fl.prototype.getClass=function(){return fl},fl.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),l=Math.max(o.x,a.x),u=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(u>l||c<s||(s=Math.min(o.y,a.y),l=Math.max(o.y,a.y),u=Math.min(r.y,i.y),c=Math.max(r.y,i.y),u>l||c<s))}},ml.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(fl,ml);var gl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},yl=function(t){this.geometryFactory=t||new zu};yl.prototype.read=function(t){var e,n;t=t.replace(/[\n\r]/g," ");var r=gl.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=gl.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),vl[n]&&(e=vl[n].apply(this,[r[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},yl.prototype.write=function(t){return this.extractGeometry(t)},yl.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!_l[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+_l[e].apply(this,[t])+")"};var _l={coordinate:function(t){return t.x+" "+t.y},point:function(t){return _l.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+_l.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(_l.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(_l.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+_l.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+_l.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+_l.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+_l.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},vl={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(gl.spaces);return this.geometryFactory.createPoint(new qs(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(gl.trimParens,"$1"),r.push(vl.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(gl.spaces),r.push(new qs(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(gl.spaces),r.push(new qs(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(gl.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(gl.trimParens,"$1"),r.push(vl.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(gl.parenComma),a=[],s=0,l=o.length;s<l;++s)e=o[s].replace(gl.trimParens,"$1"),n=vl.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(gl.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(gl.trimParens,"$1"),r.push(vl.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},bl=function(t){this.parser=new yl(t)};bl.prototype.write=function(t){return this.parser.write(t)},bl.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var xl=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),wl=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xl),Ml=function(){};Ml.prototype.interfaces_=function(){return[]},Ml.prototype.getClass=function(){return Ml},Ml.shouldNeverReachHere=function(){if(0===arguments.length)Ml.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new wl("Should never reach here"+(null!==t?": "+t:""))}},Ml.isTrue=function(){var t;if(1===arguments.length)Ml.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new wl:new wl(t)},Ml.equals=function(){var t,e,n;if(2===arguments.length)Ml.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(n=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new wl("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Cl=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new qs,this._intPt[1]=new qs,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Ll={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Cl.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Cl.prototype.getTopologySummary=function(){var t=new el;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Cl.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},Cl.prototype.getIntersectionNum=function(){return this._result},Cl.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Cl.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Cl.prototype.setPrecisionModel=function(t){this._precisionModel=t},Cl.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Cl.prototype.getIntersection=function(t){return this._intPt[t]},Cl.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Cl.prototype.hasIntersection=function(){return this._result!==Cl.NO_INTERSECTION},Cl.prototype.getEdgeDistance=function(t,e){return Cl.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Cl.prototype.isCollinear=function(){return this._result===Cl.COLLINEAR_INTERSECTION},Cl.prototype.toString=function(){return bl.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+bl.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Cl.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Cl.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Cl.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl},Cl.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return Ml.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Cl.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return Ml.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Ll.DONT_INTERSECT.get=function(){return 0},Ll.DO_INTERSECT.get=function(){return 1},Ll.COLLINEAR.get=function(){return 2},Ll.NO_INTERSECTION.get=function(){return 0},Ll.POINT_INTERSECTION.get=function(){return 1},Ll.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Cl,Ll);var El=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new fl(this._inputLines[0][0],this._inputLines[0][1]),n=new fl(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,fl.intersects(n,r,e)&&0===Sl.orientationIndex(n,r,e)&&0===Sl.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=dl.intersection(t,n,r,i)}catch(a){if(!(a instanceof pl))throw a;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new qs(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=al.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);hl.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&hl.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new qs(t),o=new qs(e),a=new qs(n),s=new qs(r),l=new qs;this.normalizeToEnvCentre(i,o,a,s,l);var u=this.safeHCoordinateIntersection(i,o,a,s);return u.x+=l.x,u.y+=l.y,u},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=fl.intersects(e,n,r),a=fl.intersects(e,n,i),s=fl.intersects(r,i,e),l=fl.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):s&&l?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||a||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&l?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,u=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,p=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,d=((a>c?a:c)+(l<h?l:h))/2;i.x=((o>u?o:u)+(s<p?s:p))/2,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!fl.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=Sl.orientationIndex(e,n,r),a=Sl.orientationIndex(e,n,i);if(o>0&&a>0||o<0&&a<0)return t.NO_INTERSECTION;var s=Sl.orientationIndex(r,i,e),l=Sl.orientationIndex(r,i,n);return s>0&&l>0||s<0&&l<0?t.NO_INTERSECTION:0===o&&0===a&&0===s&&0===l?this.computeCollinearIntersection(e,n,r,i):(0===o||0===a||0===s||0===l?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new qs(r):0===a?this._intPt[0]=new qs(i):0===s?this._intPt[0]=new qs(e):0===l&&(this._intPt[0]=new qs(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=Sl.distancePointLine(t,n,r),a=Sl.distancePointLine(e,n,r);return a<o&&(o=a,i=e),(a=Sl.distancePointLine(n,t,e))<o&&(o=a,i=n),(a=Sl.distancePointLine(r,t,e))<o&&(o=a,i=r),i},e}(Cl),kl=function(){};kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl},kl.orientationIndex=function(t,e,n){return kl.signOfDet2x2(e.x-t.x,e.y-t.y,n.x-e.x,n.y-e.y)},kl.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(a=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=a*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(a=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=a*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var Tl=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Tl.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.y-this._p.y,o=e.y-this._p.y,a=kl.signOfDet2x2(t.x-this._p.x,i,e.x-this._p.x,o);if(0===a)return this._isPointOnSegment=!0,null;o<i&&(a=-a),a>0&&this._crossingCount++}},Tl.prototype.isPointInPolygon=function(){return this.getLocation()!==Js.EXTERIOR},Tl.prototype.getLocation=function(){return this._isPointOnSegment?Js.BOUNDARY:this._crossingCount%2==1?Js.INTERIOR:Js.EXTERIOR},Tl.prototype.isOnSegment=function(){return this._isPointOnSegment},Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl},Tl.locatePointInRing=function(){if(arguments[0]instanceof qs&&Qs(arguments[1],ll)){for(var t=arguments[1],e=new Tl(arguments[0]),n=new qs,r=new qs,i=1;i<t.size();i++)if(t.getCoordinate(i,n),t.getCoordinate(i-1,r),e.countSegment(n,r),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof qs&&arguments[1]instanceof Array){for(var o=arguments[1],a=new Tl(arguments[0]),s=1;s<o.length;s++)if(a.countSegment(o[s],o[s-1]),a.isOnSegment())return a.getLocation();return a.getLocation()}};var Sl=function(){},Al={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl},Sl.orientationIndex=function(t,e,n){return al.orientationIndex(t,e,n)},Sl.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++)e+=(t[r].x-n)*(t[r-1].y-t[r+1].y);return e/2}if(Qs(arguments[0],ll)){var i=arguments[0],o=i.size();if(o<3)return 0;var a=new qs,s=new qs,l=new qs;i.getCoordinate(0,s),i.getCoordinate(1,l);var u=s.x;l.x-=u;for(var c=0,p=1;p<o-1;p++)a.y=s.y,s.x=l.x,s.y=l.y,i.getCoordinate(p+1,l),l.x-=u,c+=s.x*(a.y-l.y);return c/2}},Sl.distanceLineLine=function(t,e,n,r){if(t.equals(e))return Sl.distancePointLine(t,n,r);if(n.equals(r))return Sl.distancePointLine(r,t,e);var i=!1;if(fl.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,s=((t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y))/o;(s<0||s>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?$s.min(Sl.distancePointLine(t,n,r),Sl.distancePointLine(e,n,r),Sl.distancePointLine(n,t,e),Sl.distancePointLine(r,t,e)):0},Sl.isPointInRing=function(t,e){return Sl.locatePointInRing(t,e)!==Js.EXTERIOR},Sl.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new qs;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,l=r.y,u=s-i,c=l-o;n+=Math.sqrt(u*u+c*c),i=s,o=l}return n},Sl.isCCW=function(t){var e=t.length-1;if(e<3)throw new zs("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==r);var l=t[a],u=t[s];if(l.equals2D(n)||u.equals2D(n)||l.equals2D(u))return!1;var c=Sl.computeOrientation(l,n,u);return 0===c?l.x>u.x:c>0},Sl.locatePointInRing=function(t,e){return Tl.locatePointInRing(t,e)},Sl.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y);return Math.abs(((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r)*Math.sqrt(r)},Sl.computeOrientation=function(t,e,n){return Sl.orientationIndex(t,e,n)},Sl.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new zs("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=Sl.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var l=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),u=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/l;return u<=0?o.distance(a):u>=1?o.distance(s):Math.abs(((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/l)*Math.sqrt(l)}},Sl.isOnLine=function(t,e){for(var n=new El,r=1;r<e.length;r++)if(n.computeIntersection(t,e[r-1],e[r]),n.hasIntersection())return!0;return!1},Al.CLOCKWISE.get=function(){return-1},Al.RIGHT.get=function(){return Sl.CLOCKWISE},Al.COUNTERCLOCKWISE.get=function(){return 1},Al.LEFT.get=function(){return Sl.COUNTERCLOCKWISE},Al.COLLINEAR.get=function(){return 0},Al.STRAIGHT.get=function(){return Sl.COLLINEAR},Object.defineProperties(Sl,Al);var Dl=function(){};Dl.prototype.filter=function(t){},Dl.prototype.interfaces_=function(){return[]},Dl.prototype.getClass=function(){return Dl};var Il=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Pl={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Il.prototype.isGeometryCollection=function(){return this.getSortIndex()===Il.SORTINDEX_GEOMETRYCOLLECTION},Il.prototype.getFactory=function(){return this._factory},Il.prototype.getGeometryN=function(t){return this},Il.prototype.getArea=function(){return 0},Il.prototype.isRectangle=function(){return!1},Il.prototype.equals=function(){if(arguments[0]instanceof Il){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof Il&&this.equalsExact(e)}},Il.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Il.prototype.geometryChanged=function(){this.apply(Il.geometryChangedFilter)},Il.prototype.geometryChangedAction=function(){this._envelope=null},Il.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Il.prototype.getLength=function(){return 0},Il.prototype.getNumGeometries=function(){return 1},Il.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},Il.prototype.getUserData=function(){return this._userData},Il.prototype.getSRID=function(){return this._SRID},Il.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Il.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Il.SORTINDEX_GEOMETRYCOLLECTION)throw new zs("This method does not support GeometryCollection arguments")},Il.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Il.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Il.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Il.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new fl(this._envelope)},Il.prototype.setSRID=function(t){this._SRID=t},Il.prototype.setUserData=function(t){this._userData=t},Il.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},Il.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Il.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Il.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Il.SORTINDEX_MULTIPOINT||this.getSortIndex()===Il.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Il.SORTINDEX_MULTIPOLYGON},Il.prototype.interfaces_=function(){return[Us,Hs,mi]},Il.prototype.getClass=function(){return Il},Il.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Il.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Pl.serialVersionUID.get=function(){return 0x799ea46522854c00},Pl.SORTINDEX_POINT.get=function(){return 0},Pl.SORTINDEX_MULTIPOINT.get=function(){return 1},Pl.SORTINDEX_LINESTRING.get=function(){return 2},Pl.SORTINDEX_LINEARRING.get=function(){return 3},Pl.SORTINDEX_MULTILINESTRING.get=function(){return 4},Pl.SORTINDEX_POLYGON.get=function(){return 5},Pl.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Pl.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Pl.geometryChangedFilter.get=function(){return Ol},Object.defineProperties(Il,Pl);var Ol=function(){};Ol.interfaces_=function(){return[Dl]},Ol.filter=function(t){t.geometryChangedAction()};var Nl=function(){};Nl.prototype.filter=function(t){},Nl.prototype.interfaces_=function(){return[]},Nl.prototype.getClass=function(){return Nl};var Rl=function(){},Fl={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Rl.prototype.isInBoundary=function(t){},Rl.prototype.interfaces_=function(){return[]},Rl.prototype.getClass=function(){return Rl},Fl.Mod2BoundaryNodeRule.get=function(){return Yl},Fl.EndPointBoundaryNodeRule.get=function(){return Bl},Fl.MultiValentEndPointBoundaryNodeRule.get=function(){return zl},Fl.MonoValentEndPointBoundaryNodeRule.get=function(){return jl},Fl.MOD2_BOUNDARY_RULE.get=function(){return new Yl},Fl.ENDPOINT_BOUNDARY_RULE.get=function(){return new Bl},Fl.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new zl},Fl.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new jl},Fl.OGC_SFS_BOUNDARY_RULE.get=function(){return Rl.MOD2_BOUNDARY_RULE},Object.defineProperties(Rl,Fl);var Yl=function(){};Yl.prototype.isInBoundary=function(t){return t%2==1},Yl.prototype.interfaces_=function(){return[Rl]},Yl.prototype.getClass=function(){return Yl};var Bl=function(){};Bl.prototype.isInBoundary=function(t){return t>0},Bl.prototype.interfaces_=function(){return[Rl]},Bl.prototype.getClass=function(){return Bl};var zl=function(){};zl.prototype.isInBoundary=function(t){return t>1},zl.prototype.interfaces_=function(){return[Rl]},zl.prototype.getClass=function(){return zl};var jl=function(){};jl.prototype.isInBoundary=function(t){return 1===t},jl.prototype.interfaces_=function(){return[Rl]},jl.prototype.getClass=function(){return jl};var Vl=function(){};Vl.prototype.add=function(){},Vl.prototype.addAll=function(){},Vl.prototype.isEmpty=function(){},Vl.prototype.iterator=function(){},Vl.prototype.size=function(){},Vl.prototype.toArray=function(){},Vl.prototype.remove=function(){};var Hl=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),Ul=function(){};Ul.prototype.hasNext=function(){},Ul.prototype.next=function(){},Ul.prototype.remove=function(){};var Gl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Vl);(gi.prototype=new Error).name="NoSuchElementException";var ql=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Vl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Vl]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Wl(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new Hl;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(Gl),Wl=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new gi;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Ul),Zl=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof qs&&"boolean"==typeof arguments[1]){var e=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(e))return null;t.prototype.add.call(this,e)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];if(arguments[2])for(var i=0;i<n.length;i++)this.add(n[i],r);else for(var o=n.length-1;o>=0;o--)this.add(n[o],r);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof qs){var a=arguments[0],s=arguments[1];if(!arguments[2]){var l=this.size();if(l>0){if(a>0&&this.get(a-1).equals2D(s))return null;if(a<l&&this.get(a).equals2D(s))return null}}t.prototype.add.call(this,a,s)}}else if(4===arguments.length){var u=arguments[0],c=arguments[1],p=arguments[2],h=arguments[3],d=1;p>h&&(d=-1);for(var f=p;f!==h;f+=d)this.add(u[f],c);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new qs(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(ql),Xl=function(){},Jl={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Jl.ForwardComparator.get=function(){return Kl},Jl.BidirectionalComparator.get=function(){return Ql},Jl.coordArrayType.get=function(){return new Array(0).fill(null)},Xl.prototype.interfaces_=function(){return[]},Xl.prototype.getClass=function(){return Xl},Xl.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Xl.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Xl.indexOf(r,e)<0)return r}return null},Xl.scroll=function(t,e){var n=Xl.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);hl.arraycopy(t,n,r,0,t.length-n),hl.arraycopy(t,0,r,t.length-n,n),hl.arraycopy(r,0,t,0,t.length)},Xl.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},Xl.intersection=function(t,e){for(var n=new Zl,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Xl.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Xl.removeRepeatedPoints=function(t){return Xl.hasRepeatedPoints(t)?new Zl(t,!1).toCoordinateArray():t},Xl.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Xl.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Xl.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new qs(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],l=0;l<s;l++)o[a+l]=new qs(r[i+l])},Xl.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++)if(0!==t[n].compareTo(e[t.length-n-1]))return!1;return!0},Xl.envelope=function(t){for(var e=new fl,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Xl.toCoordinateArray=function(t){return t.toArray(Xl.coordArrayType)},Xl.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Xl.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Xl.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t[e].compareTo(t[t.length-1-e]);if(0!==n)return n}return 1},Xl.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Xl.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Xl.extract=function(t,e,n){e=$s.clamp(e,0,t.length);var r=(n=$s.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;a<=n;a++)i[o++]=t[a];return i},Object.defineProperties(Xl,Jl);var Kl=function(){};Kl.prototype.compare=function(t,e){return Xl.compare(t,e)},Kl.prototype.interfaces_=function(){return[Gs]},Kl.prototype.getClass=function(){return Kl};var Ql=function(){};Ql.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Xl.compare(n,r);return Xl.isEqualReversed(n,r)?0:i},Ql.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Xl.increasingDirection(n),o=Xl.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[a].compareTo(r[s]);if(0!==u)return u;a+=i,s+=o}return 0},Ql.prototype.interfaces_=function(){return[Gs]},Ql.prototype.getClass=function(){return Ql};var $l=function(){};$l.prototype.get=function(){},$l.prototype.put=function(){},$l.prototype.size=function(){},$l.prototype.values=function(){},$l.prototype.entrySet=function(){};var tu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}($l);(yi.prototype=new Error).name="OperationNotSupported",(_i.prototype=new Vl).contains=function(){};var eu=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Vl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new nu(this)},e}(_i),nu=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new gi;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new yi},e}(Ul),ru=0;(Ci.prototype=new tu).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Ci.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:ru,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:ru,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},Ci.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(bi(t)===wi(bi(bi(t)))){var e=Mi(bi(bi(t)));1===vi(e)?(xi(bi(t),ru),xi(e,ru),xi(bi(bi(t)),1),t=bi(bi(t))):(t===Mi(bi(t))&&(t=bi(t),this.rotateLeft(t)),xi(bi(t),ru),xi(bi(bi(t)),1),this.rotateRight(bi(bi(t))))}else{var n=wi(bi(bi(t)));1===vi(n)?(xi(bi(t),ru),xi(n,ru),xi(bi(bi(t)),1),t=bi(bi(t))):(t===wi(bi(t))&&(t=bi(t),this.rotateRight(t)),xi(bi(t),ru),xi(bi(bi(t)),1),this.rotateLeft(bi(bi(t))))}this.root_.color=ru},Ci.prototype.values=function(){var t=new ql,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Ci.successor(e));)t.add(e.value);return t},Ci.prototype.entrySet=function(){var t=new eu,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Ci.successor(e));)t.add(e);return t},Ci.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Ci.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Ci.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Ci.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Ci.prototype.size=function(){return this.size_};var iu=function(){};iu.prototype.interfaces_=function(){return[]},iu.prototype.getClass=function(){return iu},Li.prototype=new _i,(Ei.prototype=new Li).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Ei.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Ei.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Ei.prototype.remove=function(t){throw new yi},Ei.prototype.size=function(){return this.array_.length},Ei.prototype.isEmpty=function(){return 0===this.array_.length},Ei.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Ei.prototype.iterator=function(){return new ou(this)};var ou=function(t){this.treeSet_=t,this.position_=0};ou.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new gi;return this.treeSet_.array_[this.position_++]},ou.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ou.prototype.remove=function(){throw new yi};var au=function(){};au.sort=function(){var t,e,n,r=arguments[0];if(1===arguments.length)r.sort(function(t,e){return t.compareTo(e)});else if(2===arguments.length)n=arguments[1],r.sort(function(t,e){return n.compare(t,e)});else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],e.sort(function(t,e){return n.compare(t,e)}),i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])},au.asList=function(t){for(var e=new ql,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var su=function(){},lu={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};lu.P.get=function(){return 0},lu.L.get=function(){return 1},lu.A.get=function(){return 2},lu.FALSE.get=function(){return-1},lu.TRUE.get=function(){return-2},lu.DONTCARE.get=function(){return-3},lu.SYM_FALSE.get=function(){return"F"},lu.SYM_TRUE.get=function(){return"T"},lu.SYM_DONTCARE.get=function(){return"*"},lu.SYM_P.get=function(){return"0"},lu.SYM_L.get=function(){return"1"},lu.SYM_A.get=function(){return"2"},su.prototype.interfaces_=function(){return[]},su.prototype.getClass=function(){return su},su.toDimensionSymbol=function(t){switch(t){case su.FALSE:return su.SYM_FALSE;case su.TRUE:return su.SYM_TRUE;case su.DONTCARE:return su.SYM_DONTCARE;case su.P:return su.SYM_P;case su.L:return su.SYM_L;case su.A:return su.SYM_A}throw new zs("Unknown dimension value: "+t)},su.toDimensionValue=function(t){switch(rl.toUpperCase(t)){case su.SYM_FALSE:return su.FALSE;case su.SYM_TRUE:return su.TRUE;case su.SYM_DONTCARE:return su.DONTCARE;case su.SYM_P:return su.P;case su.SYM_L:return su.L;case su.SYM_A:return su.A}throw new zs("Unknown dimension symbol: "+t)},Object.defineProperties(su,lu);var uu=function(){};uu.prototype.filter=function(t){},uu.prototype.interfaces_=function(){return[]},uu.prototype.getClass=function(){return uu};var cu=function(){};cu.prototype.filter=function(t,e){},cu.prototype.isDone=function(){},cu.prototype.isGeometryChanged=function(){},cu.prototype.interfaces_=function(){return[]},cu.prototype.getClass=function(){return cu};var pu=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new zs("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new fl,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();au.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=su.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=su.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Ei(au.asList(this._geometries)),n=new Ei(au.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),a=i.getNumGeometries(),s=0;s<o&&s<a;){var l=this.getGeometryN(s),u=i.getGeometryN(s),c=l.compareToSameClass(u,r);if(0!==c)return c;s++}return s<o?1:s<a?-1:0}},e.prototype.apply=function(){if(Qs(arguments[0],Nl))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(Qs(arguments[0],cu)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(Qs(arguments[0],uu)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(Qs(arguments[0],Dl)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Ml.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Il),hu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Il.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?su.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new du(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[iu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(pu),du=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Rl.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};du.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},du.prototype.getBoundary=function(){return this._geom instanceof _u?this.boundaryLineString(this._geom):this._geom instanceof hu?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},du.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},du.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},du.prototype.computeBoundaryCoordinates=function(t){var e=new ql;this._endpointMap=new Ci;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return Xl.toCoordinateArray(e)},du.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new fu,this._endpointMap.put(t,e)),e.count++},du.prototype.interfaces_=function(){return[]},du.prototype.getClass=function(){return du},du.getBoundary=function(){return 1===arguments.length?new du(arguments[0]).getBoundary():2===arguments.length?new du(arguments[0],arguments[1]).getBoundary():void 0};var fu=function(){this.count=null};fu.prototype.interfaces_=function(){return[]},fu.prototype.getClass=function(){return fu};var mu=function(){},gu={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};mu.prototype.interfaces_=function(){return[]},mu.prototype.getClass=function(){return mu},mu.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},mu.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[1],i="",o=new function(){}(new function(){}(mu.getStackTrace(arguments[0]))),a=0;a<r;a++)try{i+=o.readLine()+mu.NEWLINE}catch(t){if(!(t instanceof ki))throw t;Ml.shouldNeverReachHere()}return i}},mu.split=function(t,e){for(var n=e.length,r=new ql,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l);return s},mu.toString=function(){if(1===arguments.length)return mu.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},mu.spaces=function(t){return mu.chars(" ",t)},gu.NEWLINE.get=function(){return hl.getProperty("line.separator")},gu.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(mu,gu);var yu=function(){};yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu},yu.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},yu.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,ll.X)===t.getOrdinate(e-1,ll.X)&&t.getOrdinate(0,ll.Y)===t.getOrdinate(e-1,ll.Y)},yu.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=t.getOrdinate(i,o),s=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||js.isNaN(a)&&js.isNaN(s)))return!1}return!0},yu.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(yu.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)yu.copy(e,i-1,r,o,1);return r},yu.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)yu.swap(t,r,e-r)},yu.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},yu.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)yu.copyCoord(t,e+o,n,r+o)},yu.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new el;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(mu.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},yu.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?yu.createClosedRing(t,e,4):e.getOrdinate(0,ll.X)===e.getOrdinate(n-1,ll.X)&&e.getOrdinate(0,ll.Y)===e.getOrdinate(n-1,ll.Y)?e:yu.createClosedRing(t,e,n+1)},yu.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();yu.copy(e,0,r,0,i);for(var o=i;o<n;o++)yu.copy(e,0,r,o,1);return r};var _u=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new fl:this._points.expandEnvelope(new fl)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&yu.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?su.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Sl.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return yu.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){if(Qs(arguments[0],Nl))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(Qs(arguments[0],cu)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else Qs(arguments[0],uu)?arguments[0].filter(this):Qs(arguments[0],Dl)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new du(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new zs("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[iu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Il),vu=function(){};vu.prototype.interfaces_=function(){return[]},vu.prototype.getClass=function(){return vu};var bu=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new fl;var t=new fl;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return su.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(Qs(arguments[0],Nl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Qs(arguments[0],cu)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else Qs(arguments[0],uu)?arguments[0].filter(this):Qs(arguments[0],Dl)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Ml.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[vu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Il),xu=function(){};xu.prototype.interfaces_=function(){return[]},xu.prototype.getClass=function(){return xu};var wu=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new zs("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new zs("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(Sl.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(Sl.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var l=t.getX(s),u=t.getY(s);if(l!==o==(u!==a))return!1;o=l,a=u}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(!this._shell.equalsExact(r._shell,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var i=0;i<this._holes.length;i++)if(!this._holes[i].equalsExact(r._holes[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);au.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);hl.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Xl.minCoordinate(e.getCoordinates());Xl.scroll(r,i),hl.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],Sl.isCCW(e.getCoordinates())===n&&Xl.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var t=arguments[1],e=arguments[0],n=this._shell.compareToSameClass(e._shell,t);if(0!==n)return n;for(var r=this.getNumInteriorRing(),i=e.getNumInteriorRing(),o=0;o<r&&o<i;){var a=this.getInteriorRingN(o),s=e.getInteriorRingN(o),l=a.compareToSameClass(s,t);if(0!==l)return l;o++}return o<r?1:o<i?-1:0}},e.prototype.apply=function(t){if(Qs(t,Nl)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(Qs(t,cu)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(Qs(t,uu))t.filter(this);else if(Qs(t,Dl)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[xu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Il),Mu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Il.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return su.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[vu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(pu),Cu=function(t){function e(e,n){e instanceof qs&&n instanceof zu&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Il.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return su.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return yu.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new zs("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new zs("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(_u),Lu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Il.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(t)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new ql,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[xu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(pu),Eu=function(t){this._factory=t||null,this._isUserDataCopied=!1},ku={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Eu.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Eu.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Eu.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof pu?this.editGeometryCollection(t,e):t instanceof wu?this.editPolygon(t,e):t instanceof bu?e.edit(t,this._factory):t instanceof _u?e.edit(t,this._factory):(Ml.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Eu.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new ql,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===Mu?this._factory.createMultiPoint(r.toArray([])):n.getClass()===hu?this._factory.createMultiLineString(r.toArray([])):n.getClass()===Lu?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},Eu.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new ql,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},Eu.prototype.interfaces_=function(){return[]},Eu.prototype.getClass=function(){return Eu},Eu.GeometryEditorOperation=function(){},ku.NoOpGeometryOperation.get=function(){return Tu},ku.CoordinateOperation.get=function(){return Su},ku.CoordinateSequenceOperation.get=function(){return Au},Object.defineProperties(Eu,ku);var Tu=function(){};Tu.prototype.edit=function(t,e){return t},Tu.prototype.interfaces_=function(){return[Eu.GeometryEditorOperation]},Tu.prototype.getClass=function(){return Tu};var Su=function(){};Su.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Cu?e.createLinearRing(n):t instanceof _u?e.createLineString(n):t instanceof bu?n.length>0?e.createPoint(n[0]):e.createPoint():t},Su.prototype.interfaces_=function(){return[Eu.GeometryEditorOperation]},Su.prototype.getClass=function(){return Su};var Au=function(){};Au.prototype.edit=function(t,e){return t instanceof Cu?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof _u?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof bu?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Au.prototype.interfaces_=function(){return[Eu.GeometryEditorOperation]},Au.prototype.getClass=function(){return Au};var Du=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new qs}else if(Qs(arguments[0],ll)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var l=0;l<a;l++)this._coordinates[l]=new qs}},Iu={serialVersionUID:{configurable:!0}};Du.prototype.setOrdinate=function(t,e,n){switch(e){case ll.X:this._coordinates[t].x=n;break;case ll.Y:this._coordinates[t].y=n;break;case ll.Z:this._coordinates[t].z=n;break;default:throw new zs("invalid ordinateIndex")}},Du.prototype.size=function(){return this._coordinates.length},Du.prototype.getOrdinate=function(t,e){switch(e){case ll.X:return this._coordinates[t].x;case ll.Y:return this._coordinates[t].y;case ll.Z:return this._coordinates[t].z}return js.NaN},Du.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var t=arguments[0],e=arguments[1];e.x=this._coordinates[t].x,e.y=this._coordinates[t].y,e.z=this._coordinates[t].z}},Du.prototype.getCoordinateCopy=function(t){return new qs(this._coordinates[t])},Du.prototype.getDimension=function(){return this._dimension},Du.prototype.getX=function(t){return this._coordinates[t].x},Du.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Du(t,this._dimension)},Du.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Du.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Du(t,this._dimension)},Du.prototype.toString=function(){if(this._coordinates.length>0){var t=new el(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Du.prototype.getY=function(t){return this._coordinates[t].y},Du.prototype.toCoordinateArray=function(){return this._coordinates},Du.prototype.interfaces_=function(){return[ll,mi]},Du.prototype.getClass=function(){return Du},Iu.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Du,Iu);var Pu=function(){},Ou={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Pu.prototype.readResolve=function(){return Pu.instance()},Pu.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Du(arguments[0]);if(Qs(arguments[0],ll))return new Du(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new Du(t):new Du(t,e)}},Pu.prototype.interfaces_=function(){return[Xs,mi]},Pu.prototype.getClass=function(){return Pu},Pu.instance=function(){return Pu.instanceObject},Ou.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Ou.instanceObject.get=function(){return new Pu},Object.defineProperties(Pu,Ou);var Nu=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new ql,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new eu;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}($l),Ru=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Yu){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},Fu={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Ru.prototype.equals=function(t){return t instanceof Ru&&(this._modelType===t._modelType&&this._scale===t._scale)},Ru.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new nl(n).compareTo(new nl(r))},Ru.prototype.getScale=function(){return this._scale},Ru.prototype.isFloating=function(){return this._modelType===Ru.FLOATING||this._modelType===Ru.FLOATING_SINGLE},Ru.prototype.getType=function(){return this._modelType},Ru.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Ru.FLOATING?t="Floating":this._modelType===Ru.FLOATING_SINGLE?t="Floating-Single":this._modelType===Ru.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Ru.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return js.isNaN(t)?t:this._modelType===Ru.FLOATING_SINGLE?t:this._modelType===Ru.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof qs){var e=arguments[0];if(this._modelType===Ru.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Ru.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Ru.FLOATING?t=16:this._modelType===Ru.FLOATING_SINGLE?t=6:this._modelType===Ru.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Ru.prototype.setScale=function(t){this._scale=Math.abs(t)},Ru.prototype.interfaces_=function(){return[mi,Hs]},Ru.prototype.getClass=function(){return Ru},Ru.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Fu.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Fu.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Ru,Fu);var Yu=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Bu={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Yu.prototype.readResolve=function(){return Yu.nameToTypeMap.get(this._name)},Yu.prototype.toString=function(){return this._name},Yu.prototype.interfaces_=function(){return[mi]},Yu.prototype.getClass=function(){return Yu},Bu.serialVersionUID.get=function(){return-552860263173159e4},Bu.nameToTypeMap.get=function(){return new Nu},Object.defineProperties(Yu,Bu),Ru.Type=Yu,Ru.FIXED=new Yu("FIXED"),Ru.FLOATING=new Yu("FLOATING"),Ru.FLOATING_SINGLE=new Yu("FLOATING SINGLE");var zu=function t(){this._precisionModel=new Ru,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Qs(arguments[0],Xs)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Ru&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},ju={serialVersionUID:{configurable:!0}};zu.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new qs(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new qs(t.getMinX(),t.getMinY()),new qs(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new qs(t.getMinX(),t.getMinY()),new qs(t.getMinX(),t.getMaxY()),new qs(t.getMaxX(),t.getMaxY()),new qs(t.getMaxX(),t.getMinY()),new qs(t.getMinX(),t.getMinY())]),null)},zu.prototype.createLineString=function(t){return t?t instanceof Array?new _u(this.getCoordinateSequenceFactory().create(t),this):Qs(t,ll)?new _u(t,this):void 0:new _u(this.getCoordinateSequenceFactory().create([]),this)},zu.prototype.createMultiLineString=function(){return 0===arguments.length?new hu(null,this):1===arguments.length?new hu(arguments[0],this):void 0},zu.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(zu.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof wu)return this.createMultiPolygon(zu.toPolygonArray(t));if(s instanceof _u)return this.createMultiLineString(zu.toLineStringArray(t));if(s instanceof bu)return this.createMultiPoint(zu.toPointArray(t));Ml.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},zu.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},zu.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof qs){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Qs(arguments[0],ll))return new bu(arguments[0],this)}},zu.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},zu.prototype.createPolygon=function(){if(0===arguments.length)return new wu(null,null,this);if(1===arguments.length){if(Qs(arguments[0],ll))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Cu)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new wu(arguments[0],arguments[1],this)},zu.prototype.getSRID=function(){return this._SRID},zu.prototype.createGeometryCollection=function(){return 0===arguments.length?new pu(null,this):1===arguments.length?new pu(arguments[0],this):void 0},zu.prototype.createGeometry=function(t){return new Eu(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},zu.prototype.getPrecisionModel=function(){return this._precisionModel},zu.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Qs(arguments[0],ll))return new Cu(arguments[0],this)}},zu.prototype.createMultiPolygon=function(){return 0===arguments.length?new Lu(null,this):1===arguments.length?new Lu(arguments[0],this):void 0},zu.prototype.createMultiPoint=function(){if(0===arguments.length)return new Mu(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Mu(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Qs(arguments[0],ll)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),r=0;r<e.size();r++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension());yu.copy(e,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},zu.prototype.interfaces_=function(){return[mi]},zu.prototype.getClass=function(){return zu},zu.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},zu.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},zu.getDefaultCoordinateSequenceFactory=function(){return Pu.instance()},zu.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},zu.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},zu.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},zu.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},zu.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},zu.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},zu.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ju.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(zu,ju);var Vu=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Hu=function(t){this.geometryFactory=t||new zu};Hu.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!Uu[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Vu.indexOf(n)?Uu[n].apply(this,[e.coordinates]):Uu[n].apply(this,"GeometryCollection"===n?[e.geometries]:[e])},Hu.prototype.write=function(t){var e=t.getGeometryType();if(!Gu[e])throw new Error("Geometry is not supported");return Gu[e].apply(this,[t])};var Uu={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){if(!Uu[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Uu.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new qs(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new qs(t[0],t[1]),new qs(t[2],t[1]),new qs(t[2],t[3]),new qs(t[0],t[3]),new qs(t[0],t[1])])},Point:function(t){var e=new qs(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Uu.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Uu.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Uu.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Uu.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=Uu.coordinates.apply(this,[t[i]]),a=this.geometryFactory.createLinearRing(o);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Uu.Polygon.apply(this,[t[n]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n)e.push(this.read(t[n]));return this.geometryFactory.createGeometryCollection(e)}},Gu={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Gu.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=Gu.Point.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r)e.push(Gu.coordinate.apply(this,[n[r]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=Gu.LineString.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=Gu.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=Gu.LineString.apply(this,[t._holes[r]]);e.push(i.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=Gu.Polygon.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(Gu[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},qu=function(t){this.geometryFactory=t||new zu,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Hu(this.geometryFactory)};qu.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Ru.FIXED&&this.reducePrecision(e),e},qu.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Wu=function(){this.parser=new Hu(this.geometryFactory)};Wu.prototype.write=function(t){return this.parser.write(t)};var Zu=function(){},Xu={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Zu.prototype.interfaces_=function(){return[]},Zu.prototype.getClass=function(){return Zu},Zu.opposite=function(t){return t===Zu.LEFT?Zu.RIGHT:t===Zu.RIGHT?Zu.LEFT:t},Xu.ON.get=function(){return 0},Xu.LEFT.get=function(){return 1},Xu.RIGHT.get=function(){return 2},Object.defineProperties(Zu,Xu),(Ti.prototype=new Error).name="EmptyStackException",(Si.prototype=new Gl).add=function(t){return this.array_.push(t),!0},Si.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Si.prototype.push=function(t){return this.array_.push(t),t},Si.prototype.pop=function(t){if(0===this.array_.length)throw new Ti;return this.array_.pop()},Si.prototype.peek=function(){if(0===this.array_.length)throw new Ti;return this.array_[this.array_.length-1]},Si.prototype.empty=function(){return 0===this.array_.length},Si.prototype.isEmpty=function(){return this.empty()},Si.prototype.search=function(t){return this.array_.indexOf(t)},Si.prototype.size=function(){return this.array_.length},Si.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Ju=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ju.prototype.getCoordinate=function(){return this._minCoord},Ju.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Ju.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Ml.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=Sl.computeOrientation(this._minCoord,n,e),i=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===Sl.COUNTERCLOCKWISE?i=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===Sl.CLOCKWISE&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Ju.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Zu.LEFT;return n[e].y<n[e+1].y&&(r=Zu.RIGHT),r},Ju.prototype.getEdge=function(){return this._orientedDe},Ju.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Ju.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ju.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Ml.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Zu.LEFT&&(this._orientedDe=this._minDe.getSym())},Ju.prototype.interfaces_=function(){return[]},Ju.prototype.getClass=function(){return Ju};var Ku=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new qs(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(xl),Qu=function(){this.array_=[]};Qu.prototype.addLast=function(t){this.array_.push(t)},Qu.prototype.removeFirst=function(){return this.array_.shift()},Qu.prototype.isEmpty=function(){return 0===this.array_.length};var $u=function(){this._finder=null,this._dirEdgeList=new ql,this._nodes=new ql,this._rightMostCoord=null,this._env=null,this._finder=new Ju};$u.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},$u.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},$u.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Ku("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},$u.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Zu.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},$u.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},$u.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Zu.RIGHT)>=1&&e.getDepth(Zu.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},$u.prototype.computeDepths=function(t){var e=new eu,n=new Qu,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},$u.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},$u.prototype.getEnvelope=function(){if(null===this._env){for(var t=new fl,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},$u.prototype.addReachable=function(t){var e=new Si;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},$u.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Zu.LEFT,t.getDepth(Zu.RIGHT)),e.setDepth(Zu.RIGHT,t.getDepth(Zu.LEFT))},$u.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},$u.prototype.getNodes=function(){return this._nodes},$u.prototype.getDirectedEdges=function(){return this._dirEdgeList},$u.prototype.interfaces_=function(){return[Hs]},$u.prototype.getClass=function(){return $u};var tc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[Zu.ON]=e}else if(arguments[0]instanceof t){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.init(3),this.location[Zu.ON]=i,this.location[Zu.LEFT]=o,this.location[Zu.RIGHT]=a}};tc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},tc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Js.NONE)return!1;return!0},tc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Js.NONE&&(this.location[e]=t)},tc.prototype.isLine=function(){return 1===this.location.length},tc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Zu.ON]=this.location[Zu.ON],e[Zu.LEFT]=Js.NONE,e[Zu.RIGHT]=Js.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Js.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},tc.prototype.getLocations=function(){return this.location},tc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Zu.LEFT];this.location[Zu.LEFT]=this.location[Zu.RIGHT],this.location[Zu.RIGHT]=t},tc.prototype.toString=function(){var t=new el;return this.location.length>1&&t.append(Js.toLocationSymbol(this.location[Zu.LEFT])),t.append(Js.toLocationSymbol(this.location[Zu.ON])),this.location.length>1&&t.append(Js.toLocationSymbol(this.location[Zu.RIGHT])),t.toString()},tc.prototype.setLocations=function(t,e,n){this.location[Zu.ON]=t,this.location[Zu.LEFT]=e,this.location[Zu.RIGHT]=n},tc.prototype.get=function(t){return t<this.location.length?this.location[t]:Js.NONE},tc.prototype.isArea=function(){return this.location.length>1},tc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Js.NONE)return!0;return!1},tc.prototype.setLocation=function(){1===arguments.length?this.setLocation(Zu.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},tc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Js.NONE)},tc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},tc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},tc.prototype.interfaces_=function(){return[]},tc.prototype.getClass=function(){return tc};var ec=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new tc(e),this.elt[1]=new tc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new tc(n.elt[0]),this.elt[1]=new tc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new tc(Js.NONE),this.elt[1]=new tc(Js.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new tc(o,a,s),this.elt[1]=new tc(o,a,s)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],p=arguments[3];this.elt[0]=new tc(Js.NONE,Js.NONE,Js.NONE),this.elt[1]=new tc(Js.NONE,Js.NONE,Js.NONE),this.elt[l].setLocations(u,c,p)}};ec.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},ec.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},ec.prototype.isNull=function(t){return this.elt[t].isNull()},ec.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},ec.prototype.isLine=function(t){return this.elt[t].isLine()},ec.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new tc(t.elt[e]):this.elt[e].merge(t.elt[e])},ec.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},ec.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Zu.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},ec.prototype.toString=function(){var t=new el;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},ec.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},ec.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},ec.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Zu.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},ec.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},ec.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},ec.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new tc(this.elt[t].location[0]))},ec.prototype.interfaces_=function(){return[]},ec.prototype.getClass=function(){return ec},ec.toLineLabel=function(t){for(var e=new ec(Js.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var nc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ql,this._pts=new ql,this._label=new ec(Js.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ql,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};nc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Sl.isCCW(this._ring.getCoordinates())},nc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},nc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Ku("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Ku("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();Ml.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},nc.prototype.getLinearRing=function(){return this._ring},nc.prototype.getCoordinate=function(t){return this._pts.get(t)},nc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},nc.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},nc.prototype.isHole=function(){return this._isHole},nc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},nc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Sl.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},nc.prototype.addHole=function(t){this._holes.add(t)},nc.prototype.isShell=function(){return null===this._shell},nc.prototype.getLabel=function(){return this._label},nc.prototype.getEdges=function(){return this._edges},nc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},nc.prototype.getShell=function(){return this._shell},nc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Zu.RIGHT);if(n===Js.NONE)return null;if(this._label.getLocation(e)===Js.NONE)return this._label.setLocation(e,n),null}},nc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},nc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},nc.prototype.interfaces_=function(){return[]},nc.prototype.getClass=function(){return nc};var rc=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(nc),ic=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var t=new ql,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new rc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(nc),oc=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length||1===arguments.length&&(this._label=arguments[0])};oc.prototype.setVisited=function(t){this._isVisited=t},oc.prototype.setInResult=function(t){this._isInResult=t},oc.prototype.isCovered=function(){return this._isCovered},oc.prototype.isCoveredSet=function(){return this._isCoveredSet},oc.prototype.setLabel=function(t){this._label=t},oc.prototype.getLabel=function(){return this._label},oc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},oc.prototype.updateIM=function(t){Ml.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},oc.prototype.isInResult=function(){return this._isInResult},oc.prototype.isVisited=function(){return this._isVisited},oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc};var ac=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[1];this._coord=arguments[0],this._edges=e,this._label=new ec(0,Js.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=Js.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Js.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new ec(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof ec)for(var t=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(t,n);this._label.getLocation(n)===Js.NONE&&this._label.setLocation(n,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Js.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Js.BOUNDARY:n=Js.INTERIOR;break;case Js.INTERIOR:default:n=Js.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(oc),sc=function(){this.nodeMap=new Ci,this.nodeFact=null,this.nodeFact=arguments[0]};sc.prototype.find=function(t){return this.nodeMap.get(t)},sc.prototype.addNode=function(){if(arguments[0]instanceof qs){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof ac){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},sc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},sc.prototype.iterator=function(){return this.nodeMap.values().iterator()},sc.prototype.values=function(){return this.nodeMap.values()},sc.prototype.getBoundaryNodes=function(t){for(var e=new ql,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Js.BOUNDARY&&e.add(r)}return e},sc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},sc.prototype.interfaces_=function(){return[]},sc.prototype.getClass=function(){return sc};var lc=function(){},uc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};lc.prototype.interfaces_=function(){return[]},lc.prototype.getClass=function(){return lc},lc.isNorthern=function(t){return t===lc.NE||t===lc.NW},lc.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},lc.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},lc.isInHalfPlane=function(t,e){return e===lc.SE?t===lc.SE||t===lc.SW:t===e||t===e+1},lc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new zs("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?lc.NE:lc.SE:e>=0?lc.NW:lc.SW}if(arguments[0]instanceof qs&&arguments[1]instanceof qs){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new zs("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?lc.NE:lc.SE:r.y>=n.y?lc.NW:lc.SW}},uc.NE.get=function(){return 0},uc.NW.get=function(){return 1},uc.SW.get=function(){return 2},uc.SE.get=function(){return 3},Object.defineProperties(lc,uc);var cc=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var t=arguments[1],e=arguments[2];this._edge=arguments[0],this.init(t,e),this._label=null}else if(4===arguments.length){var n=arguments[1],r=arguments[2],i=arguments[3];this._edge=arguments[0],this.init(n,r),this._label=i}};cc.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Sl.computeOrientation(t._p0,t._p1,this._p1)},cc.prototype.getDy=function(){return this._dy},cc.prototype.getCoordinate=function(){return this._p0},cc.prototype.setNode=function(t){this._node=t},cc.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},cc.prototype.compareTo=function(t){return this.compareDirection(t)},cc.prototype.getDirectedCoordinate=function(){return this._p1},cc.prototype.getDx=function(){return this._dx},cc.prototype.getLabel=function(){return this._label},cc.prototype.getEdge=function(){return this._edge},cc.prototype.getQuadrant=function(){return this._quadrant},cc.prototype.getNode=function(){return this._node},cc.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},cc.prototype.computeLabel=function(t){},cc.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=lc.quadrant(this._dx,this._dy),Ml.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},cc.prototype.interfaces_=function(){return[Hs]},cc.prototype.getClass=function(){return cc};var pc=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new ec(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Ku("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Zu.LEFT)===Js.INTERIOR&&this._label.getLocation(e,Zu.RIGHT)===Js.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Zu.LEFT]+"/"+this._depth[Zu.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Js.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Js.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Zu.LEFT&&(r=-1);var i=Zu.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Js.EXTERIOR&&e===Js.INTERIOR?1:t===Js.INTERIOR&&e===Js.EXTERIOR?-1:0},e}(cc),hc=function(){};hc.prototype.createNode=function(t){return new ac(t,null)},hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc};var dc=function(){this._edges=new ql,this._nodes=null,this._edgeEndList=new ql,0===arguments.length?this._nodes=new sc(new hc):1===arguments.length&&(this._nodes=new sc(arguments[0]))};dc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},dc.prototype.find=function(t){return this._nodes.find(t)},dc.prototype.addNode=function(){return arguments[0]instanceof ac?this._nodes.addNode(arguments[0]):arguments[0]instanceof qs?this._nodes.addNode(arguments[0]):void 0},dc.prototype.getNodeIterator=function(){return this._nodes.iterator()},dc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},dc.prototype.debugPrintln=function(t){hl.out.println(t)},dc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Js.BOUNDARY},dc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},dc.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&Sl.computeOrientation(t,e,r)===Sl.COLLINEAR&&lc.quadrant(t,e)===lc.quadrant(n,r)},dc.prototype.getEdgeEnds=function(){return this._edgeEndList},dc.prototype.debugPrint=function(t){hl.out.print(t)},dc.prototype.getEdgeIterator=function(){return this._edges.iterator()},dc.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},dc.prototype.insertEdge=function(t){this._edges.add(t)},dc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},dc.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new pc(n,!0),i=new pc(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},dc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},dc.prototype.getNodes=function(){return this._nodes.values()},dc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc},dc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var fc=function(){this._geometryFactory=null,this._shellList=new ql,this._geometryFactory=arguments[0]};fc.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},fc.prototype.computePolygons=function(t){for(var e=new ql,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},fc.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Ku("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},fc.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new ql,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},fc.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},fc.prototype.buildMaximalEdgeRings=function(t){for(var e=new ql,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new ic(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},fc.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},fc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},fc.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var p=!1;c.contains(r)&&Sl.isPointInRing(i,u.getCoordinates())&&(p=!0),p&&(null===o||a.contains(c))&&(o=l)}return o},fc.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return Ml.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},fc.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];dc.linkResultDirectedEdges(arguments[1]);var n=this.buildMaximalEdgeRings(e),r=new ql,i=this.buildMinimalEdgeRings(n,this._shellList,r);this.sortShellsAndHoles(i,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var mc=function(){};mc.prototype.getBounds=function(){},mc.prototype.interfaces_=function(){return[]},mc.prototype.getClass=function(){return mc};var gc=function(){this._bounds=null,this._item=null;var t=arguments[1];this._bounds=arguments[0],this._item=t};gc.prototype.getItem=function(){return this._item},gc.prototype.getBounds=function(){return this._bounds},gc.prototype.interfaces_=function(){return[mc,mi]},gc.prototype.getClass=function(){return gc};var yc=function(){this._size=null,this._items=null,this._size=0,this._items=new ql,this._items.add(null)};yc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},yc.prototype.size=function(){return this._size},yc.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},yc.prototype.clear=function(){this._size=0,this._items.clear()},yc.prototype.isEmpty=function(){return 0===this._size},yc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},yc.prototype.interfaces_=function(){return[]},yc.prototype.getClass=function(){return yc};var _c=function(){};_c.prototype.visitItem=function(t){},_c.prototype.interfaces_=function(){return[]},_c.prototype.getClass=function(){return _c};var vc=function(){};vc.prototype.insert=function(t,e){},vc.prototype.remove=function(t,e){},vc.prototype.query=function(){},vc.prototype.interfaces_=function(){return[]},vc.prototype.getClass=function(){return vc};var bc=function(){this._childBoundables=new ql,this._bounds=null,this._level=null,0===arguments.length||1===arguments.length&&(this._level=arguments[0])},xc={serialVersionUID:{configurable:!0}};bc.prototype.getLevel=function(){return this._level},bc.prototype.size=function(){return this._childBoundables.size()},bc.prototype.getChildBoundables=function(){return this._childBoundables},bc.prototype.addChildBoundable=function(t){Ml.isTrue(null===this._bounds),this._childBoundables.add(t)},bc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},bc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},bc.prototype.interfaces_=function(){return[mc,mi]},bc.prototype.getClass=function(){return bc},xc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(bc,xc);var wc=function(){};wc.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},wc.min=function(t){return wc.sort(t),t.get(0)},wc.sort=function(t,e){var n=t.toArray();e?au.sort(n,e):au.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},wc.singletonList=function(t){var e=new ql;return e.add(t),e};var Mc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[1],e=arguments[2];this._boundable1=arguments[0],this._boundable2=t,this._itemDistance=e,this._distance=this.distance()};Mc.prototype.expandToQueue=function(t,e){var n=Mc.isComposite(this._boundable1),r=Mc.isComposite(this._boundable2);if(n&&r)return Mc.area(this._boundable1)>Mc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new zs("neither boundable is composite")},Mc.prototype.isLeaves=function(){return!(Mc.isComposite(this._boundable1)||Mc.isComposite(this._boundable2))},Mc.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Mc.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new Mc(o,e,this._itemDistance);a.getDistance()<r&&n.add(a)}},Mc.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Mc.prototype.getDistance=function(){return this._distance},Mc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Mc.prototype.interfaces_=function(){return[Hs]},Mc.prototype.getClass=function(){return Mc},Mc.area=function(t){return t.getBounds().getArea()},Mc.isComposite=function(t){return t instanceof bc};var Cc=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new ql,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var e=arguments[0];Ml.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}},Lc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Cc.prototype.getNodeCapacity=function(){return this._nodeCapacity},Cc.prototype.lastNode=function(t){return t.get(t.size()-1)},Cc.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof bc?t+=this.size(n):n instanceof gc&&(t+=1)}return t}},Cc.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof gc&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Cc.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new ql:t}if(1===arguments.length){for(var e=arguments[0],n=new ql,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof bc){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof gc?n.add(i.getItem()):Ml.shouldNeverReachHere()}return n.size()<=0?null:n}},Cc.prototype.insert=function(t,e){Ml.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new gc(t,e))},Cc.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new ql;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(Ml.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof bc?this.boundablesAtLevel(n,a,i):(Ml.isTrue(a instanceof gc),-1===n&&i.add(a))}return null}},Cc.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new ql;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(Qs(arguments[2],_c)&&arguments[0]instanceof Object&&arguments[1]instanceof bc)for(var i=arguments[0],o=arguments[2],a=arguments[1].getChildBoundables(),s=0;s<a.size();s++){var l=a.get(s);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof bc?this.query(i,l,o):l instanceof gc?o.visitItem(l.getItem()):Ml.shouldNeverReachHere())}else if(Qs(arguments[2],Gl)&&arguments[0]instanceof Object&&arguments[1]instanceof bc)for(var u=arguments[0],c=arguments[2],p=arguments[1].getChildBoundables(),h=0;h<p.size();h++){var d=p.get(h);this.getIntersectsOp().intersects(d.getBounds(),u)&&(d instanceof bc?this.query(u,d,c):d instanceof gc?c.add(d.getItem()):Ml.shouldNeverReachHere())}},Cc.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Cc.prototype.getRoot=function(){return this.build(),this._root},Cc.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof bc&&(o=this.remove(n,l,i))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},Cc.prototype.createHigherLevels=function(t,e){Ml.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Cc.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof bc){var r=this.depth(n);r>t&&(t=r)}}return t+1}},Cc.prototype.createParentBoundables=function(t,e){Ml.isTrue(!t.isEmpty());var n=new ql;n.add(this.createNode(e));var r=new ql(t);wc.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},Cc.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Cc.prototype.interfaces_=function(){return[mi]},Cc.prototype.getClass=function(){return Cc},Cc.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Lc.IntersectsOp.get=function(){return Ec},Lc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Lc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Cc,Lc);var Ec=function(){},kc=function(){};kc.prototype.distance=function(t,e){},kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc};var Tc=function(t){function e(n){t.call(this,n=n||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Ml.isTrue(t.length>0);for(var n=new ql,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new Sc(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new ql;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Qs(arguments[2],_c)&&arguments[0]instanceof Object&&arguments[1]instanceof bc?t.prototype.query.call(this,arguments[0],arguments[1],arguments[2]):Qs(arguments[2],Gl)&&arguments[0]instanceof Object&&arguments[1]instanceof bc&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2]))},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Ml.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new ql(t);wc.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Qs(arguments[0],kc)){var t=arguments[0],n=new Mc(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof Mc)return this.nearestNeighbour(arguments[0],js.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&Qs(arguments[1],kc)){var r=arguments[0],i=arguments[1],o=new Mc(this.getRoot(),r.getRoot(),i);return this.nearestNeighbour(o)}if(arguments[0]instanceof Mc&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],l=null,u=new yc;for(u.add(a);!u.isEmpty()&&s>0;){var c=u.poll(),p=c.getDistance();if(p>=s)break;c.isLeaves()?(s=p,l=c):c.expandToQueue(u,s)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[2],d=new gc(arguments[0],arguments[1]),f=new Mc(this.getRoot(),d,h);return this.nearestNeighbour(f)[0]}},e.prototype.interfaces_=function(){return[vc,mi]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return Sc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[Gs]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[Gs]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Cc),Sc=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new fl(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bc),Ac=function(){};Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac},Ac.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Ac.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Ac.relativeSign(e.x,n.x),i=Ac.relativeSign(e.y,n.y);switch(t){case 0:return Ac.compareValue(r,i);case 1:return Ac.compareValue(i,r);case 2:return Ac.compareValue(i,-r);case 3:return Ac.compareValue(-r,i);case 4:return Ac.compareValue(-r,-i);case 5:return Ac.compareValue(-i,-r);case 6:return Ac.compareValue(-i,r);case 7:return Ac.compareValue(r,-i)}return Ml.shouldNeverReachHere("invalid octant value"),0},Ac.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Dc=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new qs(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};Dc.prototype.getCoordinate=function(){return this.coord},Dc.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Dc.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Ac.compare(this._segmentOctant,this.coord,e.coord)},Dc.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Dc.prototype.isInterior=function(){return this._isInterior},Dc.prototype.interfaces_=function(){return[Hs]},Dc.prototype.getClass=function(){return Dc};var Ic=function(){this._nodeMap=new Ci,this._edge=null,this._edge=arguments[0]};Ic.prototype.getSplitCoordinates=function(){var t=new Zl;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},Ic.prototype.addCollapsedNodes=function(){var t=new ql;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Ic.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Ic.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new nl(e+1))}},Ic.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new qs(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new qs(e.coord))},Ic.prototype.iterator=function(){return this._nodeMap.values().iterator()},Ic.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Ic.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},Ic.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new nl(e[0])),r=i}},Ic.prototype.getEdge=function(){return this._edge},Ic.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Ic.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new qs(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new qs(e.coord)),new Rc(o,this._edge.getData())},Ic.prototype.add=function(t,e){var n=new Dc(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(Ml.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},Ic.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new xl("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new xl("bad split edge end point at "+i)},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic};var Pc=function(){};Pc.prototype.interfaces_=function(){return[]},Pc.prototype.getClass=function(){return Pc},Pc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new zs("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof qs&&arguments[1]instanceof qs){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new zs("Cannot compute the octant for two identical points "+i);return Pc.octant(a,s)}};var Oc=function(){};Oc.prototype.getCoordinates=function(){},Oc.prototype.size=function(){},Oc.prototype.getCoordinate=function(t){},Oc.prototype.isClosed=function(){},Oc.prototype.setData=function(t){},Oc.prototype.getData=function(){},Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc};var Nc=function(){};Nc.prototype.addIntersection=function(t,e){},Nc.prototype.interfaces_=function(){return[Oc]},Nc.prototype.getClass=function(){return Nc};var Rc=function(){this._nodeList=new Ic(this),this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};Rc.prototype.getCoordinates=function(){return this._pts},Rc.prototype.size=function(){return this._pts.length},Rc.prototype.getCoordinate=function(t){return this._pts[t]},Rc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Rc.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Rc.prototype.setData=function(t){this._data=t},Rc.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Pc.octant(t,e)},Rc.prototype.getData=function(){return this._data},Rc.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var t=arguments[1],e=new qs(arguments[0].getIntersection(arguments[3]));this.addIntersection(e,t)}},Rc.prototype.toString=function(){return bl.toLineString(new Du(this._pts))},Rc.prototype.getNodeList=function(){return this._nodeList},Rc.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;return r<this._pts.length&&t.equals2D(this._pts[r])&&(n=r),this._nodeList.add(t,n)},Rc.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},Rc.prototype.interfaces_=function(){return[Nc]},Rc.prototype.getClass=function(){return Rc},Rc.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new ql;return Rc.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var Fc=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new qs,this.p1=new qs;else if(1===arguments.length){var t=arguments[0];this.p0=new qs(t.p0),this.p1=new qs(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[2],n=arguments[3];this.p0=new qs(arguments[0],arguments[1]),this.p1=new qs(e,n)}},Yc={serialVersionUID:{configurable:!0}};Fc.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Fc.prototype.orientationIndex=function(){if(arguments[0]instanceof Fc){var t=arguments[0],e=Sl.orientationIndex(this.p0,this.p1,t.p0),n=Sl.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof qs)return Sl.orientationIndex(this.p0,this.p1,arguments[0])},Fc.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Fc.prototype.isVertical=function(){return this.p0.x===this.p1.x},Fc.prototype.equals=function(t){if(!(t instanceof Fc))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Fc.prototype.intersection=function(t){var e=new El;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Fc.prototype.project=function(){if(arguments[0]instanceof qs){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new qs(t);var e=this.projectionFactor(t),n=new qs;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Fc){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new Fc(a,s)}},Fc.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Fc.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Fc.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Fc.prototype.distancePerpendicular=function(t){return Sl.distancePointLinePerpendicular(t,this.p0,this.p1)},Fc.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Fc.prototype.midPoint=function(){return Fc.midPoint(this.p0,this.p1)},Fc.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?js.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},Fc.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=js.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(i=a.distance(t.p1))<r&&(r=i,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var l=t.closestPoint(this.p1);return(i=l.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=l),n},Fc.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Fc.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Fc.prototype.getLength=function(){return this.p0.distance(this.p1)},Fc.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Fc.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Fc.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Fc.prototype.lineIntersection=function(t){try{return dl.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof pl))throw t}return null},Fc.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Fc.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,l=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*i/a,l=e*o/a}return new qs(n-l,r+s)},Fc.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Fc.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||js.isNaN(e))&&(e=1),e},Fc.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Fc.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Fc.prototype.distance=function(){if(arguments[0]instanceof Fc){var t=arguments[0];return Sl.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof qs)return Sl.distancePointLine(arguments[0],this.p0,this.p1)},Fc.prototype.pointAlong=function(t){var e=new qs;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Fc.prototype.hashCode=function(){var t=js.doubleToLongBits(this.p0.x);t^=31*js.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=js.doubleToLongBits(this.p1.x);return n^=31*js.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Fc.prototype.interfaces_=function(){return[Hs,mi]},Fc.prototype.getClass=function(){return Fc},Fc.midPoint=function(t,e){return new qs((t.x+e.x)/2,(t.y+e.y)/2)},Yc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Fc,Yc);var Bc=function(){this.tempEnv1=new fl,this.tempEnv2=new fl,this._overlapSeg1=new Fc,this._overlapSeg2=new Fc};Bc.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[2],e=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),t.getLineSegment(e,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var zc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[1],e=arguments[2],n=arguments[3];this._pts=arguments[0],this._start=t,this._end=e,this._context=n};zc.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},zc.prototype.computeSelect=function(t,e,n,r){if(r.tempEnv1.init(this._pts[e],this._pts[n]),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var i=Math.trunc((e+n)/2);e<i&&this.computeSelect(t,e,i,r),i<n&&this.computeSelect(t,i,n,r)},zc.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},zc.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},zc.prototype.setId=function(t){this._id=t},zc.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},zc.prototype.getEnvelope=function(){return null===this._env&&(this._env=new fl(this._pts[this._start],this._pts[this._end])),this._env},zc.prototype.getEndIndex=function(){return this._end},zc.prototype.getStartIndex=function(){return this._start},zc.prototype.getContext=function(){return this._context},zc.prototype.getId=function(){return this._id},zc.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var a=this._pts[t],s=this._pts[e],l=n._pts[r],u=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(l,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),p=Math.trunc((r+i)/2);t<c&&(r<p&&this.computeOverlapsInternal(t,c,n,r,p,o),p<i&&this.computeOverlapsInternal(t,c,n,p,i,o)),c<e&&(r<p&&this.computeOverlapsInternal(c,e,n,r,p,o),p<i&&this.computeOverlapsInternal(c,e,n,p,i,o))},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc};var jc=function(){};jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc},jc.getChainStartIndices=function(t){var e=0,n=new ql;n.add(new nl(e));do{var r=jc.findChainEnd(t,e);n.add(new nl(r)),e=r}while(e<t.length-1);return jc.toIntArray(n)},jc.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=lc.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||lc.quadrant(t[i-1],t[i])===r);)i++;return i-1},jc.getChains=function(){if(1===arguments.length)return jc.getChains(arguments[0],null);if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new ql,r=jc.getChainStartIndices(t),i=0;i<r.length-1;i++){var o=new zc(t,r[i],r[i+1],e);n.add(o)}return n}},jc.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Vc=function(){};Vc.prototype.computeNodes=function(t){},Vc.prototype.getNodedSubstrings=function(){},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var Hc=function(){this._segInt=null,0===arguments.length||1===arguments.length&&this.setSegmentIntersector(arguments[0])};Hc.prototype.setSegmentIntersector=function(t){this._segInt=t},Hc.prototype.interfaces_=function(){return[Vc]},Hc.prototype.getClass=function(){return Hc};var Uc=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new ql,this._index=new Tc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Rc.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=jc.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new Gc(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Gc},Object.defineProperties(e,n),e}(Hc),Gc=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,e,o,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Bc),qc=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var e=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(e)}else if(4===arguments.length){var n=arguments[1],r=arguments[2],i=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(n),this.setJoinStyle(r),this.setMitreLimit(i)}},Wc={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};qc.prototype.getEndCapStyle=function(){return this._endCapStyle},qc.prototype.isSingleSided=function(){return this._isSingleSided},qc.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=qc.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=qc.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==qc.JOIN_ROUND&&(this._quadrantSegments=qc.DEFAULT_QUADRANT_SEGMENTS)},qc.prototype.getJoinStyle=function(){return this._joinStyle},qc.prototype.setJoinStyle=function(t){this._joinStyle=t},qc.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},qc.prototype.getSimplifyFactor=function(){return this._simplifyFactor},qc.prototype.getQuadrantSegments=function(){return this._quadrantSegments},qc.prototype.setEndCapStyle=function(t){this._endCapStyle=t},qc.prototype.getMitreLimit=function(){return this._mitreLimit},qc.prototype.setMitreLimit=function(t){this._mitreLimit=t},qc.prototype.setSingleSided=function(t){this._isSingleSided=t},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc},qc.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Wc.CAP_ROUND.get=function(){return 1},Wc.CAP_FLAT.get=function(){return 2},Wc.CAP_SQUARE.get=function(){return 3},Wc.JOIN_ROUND.get=function(){return 1},Wc.JOIN_MITRE.get=function(){return 2},Wc.JOIN_BEVEL.get=function(){return 3},Wc.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Wc.DEFAULT_MITRE_LIMIT.get=function(){return 5},Wc.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(qc,Wc);var Zc=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Sl.COUNTERCLOCKWISE,this._inputLine=t||null},Xc={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Zc.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},Zc.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Zc.DELETE,i=!0,r=!0),e=this.findNextNonDeletedIndex(t=i?n:e),n=this.findNextNonDeletedIndex(e)}return r},Zc.prototype.isShallowConcavity=function(t,e,n,r){return Sl.computeOrientation(t,e,n)===this._angleOrientation&&Sl.distancePointLine(e,t,n)<r},Zc.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Zc.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this._inputLine[a],i))return!1;return!0},Zc.prototype.isConcave=function(t,e,n){return Sl.computeOrientation(t,e,n)===this._angleOrientation},Zc.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Sl.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Zc.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Zc.DELETE;)e++;return e},Zc.prototype.isShallow=function(t,e,n,r){return Sl.distancePointLine(e,t,n)<r},Zc.prototype.collapseLine=function(){for(var t=new Zl,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Zc.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc},Zc.simplify=function(t,e){return new Zc(t).simplify(e)},Xc.INIT.get=function(){return 0},Xc.DELETE.get=function(){return 1},Xc.KEEP.get=function(){return 1},Xc.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Zc,Xc);var Jc=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ql},Kc={COORDINATE_ARRAY_TYPE:{configurable:!0}};Jc.prototype.getCoordinates=function(){return this._ptList.toArray(Jc.COORDINATE_ARRAY_TYPE)},Jc.prototype.setPrecisionModel=function(t){this._precisionModel=t},Jc.prototype.addPt=function(t){var e=new qs(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Jc.prototype.revere=function(){},Jc.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Jc.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Jc.prototype.toString=function(){return(new zu).createLineString(this.getCoordinates()).toString()},Jc.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new qs(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Jc.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc},Kc.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Jc,Kc);var Qc=function(){},$c={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc},Qc.toDegrees=function(t){return 180*t/Math.PI},Qc.normalize=function(t){for(;t>Math.PI;)t-=Qc.PI_TIMES_2;for(;t<=-Math.PI;)t+=Qc.PI_TIMES_2;return t},Qc.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return Math.atan2(n.y-e.y,n.x-e.x)}},Qc.isAcute=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)>0},Qc.isObtuse=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)<0},Qc.interiorAngle=function(t,e,n){var r=Qc.angle(e,t),i=Qc.angle(e,n);return Math.abs(i-r)},Qc.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Qc.PI_TIMES_2;t>=Qc.PI_TIMES_2&&(t=0)}else{for(;t>=Qc.PI_TIMES_2;)t-=Qc.PI_TIMES_2;t<0&&(t=0)}return t},Qc.angleBetween=function(t,e,n){var r=Qc.angle(e,t),i=Qc.angle(e,n);return Qc.diff(r,i)},Qc.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Qc.toRadians=function(t){return t*Math.PI/180},Qc.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Qc.COUNTERCLOCKWISE:n<0?Qc.CLOCKWISE:Qc.NONE},Qc.angleBetweenOriented=function(t,e,n){var r=Qc.angle(e,t),i=Qc.angle(e,n)-r;return i<=-Math.PI?i+Qc.PI_TIMES_2:i>Math.PI?i-Qc.PI_TIMES_2:i},$c.PI_TIMES_2.get=function(){return 2*Math.PI},$c.PI_OVER_2.get=function(){return Math.PI/2},$c.PI_OVER_4.get=function(){return Math.PI/4},$c.COUNTERCLOCKWISE.get=function(){return Sl.COUNTERCLOCKWISE},$c.CLOCKWISE.get=function(){return Sl.CLOCKWISE},$c.NONE.get=function(){return Sl.COLLINEAR},Object.defineProperties(Qc,$c);var tp=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Fc,this._seg1=new Fc,this._offset0=new Fc,this._offset1=new Fc,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[1],n=arguments[2];this._precisionModel=arguments[0],this._bufParams=e,this._li=new El,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===qc.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},ep={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};tp.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Sl.computeOrientation(this._s0,this._s1,this._s2),r=n===Sl.CLOCKWISE&&this._side===Zu.LEFT||n===Sl.COUNTERCLOCKWISE&&this._side===Zu.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},tp.prototype.addLineEndCap=function(t,e){var n=new Fc(t,e),r=new Fc;this.computeOffsetSegment(n,Zu.LEFT,this._distance,r);var i=new Fc;this.computeOffsetSegment(n,Zu.RIGHT,this._distance,i);var o=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case qc.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,o+Math.PI/2,o-Math.PI/2,Sl.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case qc.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case qc.CAP_SQUARE:var a=new qs;a.x=Math.abs(this._distance)*Math.cos(o),a.y=Math.abs(this._distance)*Math.sin(o);var s=new qs(r.p1.x+a.x,r.p1.y+a.y),l=new qs(i.p1.x+a.x,i.p1.y+a.y);this._segList.addPt(s),this._segList.addPt(l)}},tp.prototype.getCoordinates=function(){return this._segList.getCoordinates()},tp.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=dl.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof pl))throw t;o=new qs(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},tp.prototype.addFilletCorner=function(t,e,n,r,i){var o=Math.atan2(e.y-t.y,e.x-t.x),a=Math.atan2(n.y-t.y,n.x-t.x);r===Sl.CLOCKWISE?o<=a&&(o+=2*Math.PI):o>=a&&(o-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,o,a,r,i),this._segList.addPt(n)},tp.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*tp.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===qc.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===qc.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},tp.prototype.createSquare=function(t){this._segList.addPt(new qs(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new qs(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new qs(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new qs(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},tp.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},tp.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},tp.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},tp.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},tp.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=Qc.angle(i,this._seg0.p0),a=Qc.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=Qc.normalize(o+a),l=Qc.normalize(s+Math.PI),u=r*n,c=n-u*Math.abs(Math.sin(a)),p=i.x+u*Math.cos(l),h=i.y+u*Math.sin(l),d=new qs(p,h),f=new Fc(i,d),m=f.pointAlongOffset(1,c),g=f.pointAlongOffset(1,-c);this._side===Zu.LEFT?(this._segList.addPt(m),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(m))},tp.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Zu.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),l=i*n*o/s,u=i*n*a/s;r.p0.x=t.p0.x-u,r.p0.y=t.p0.y+l,r.p1.x=t.p1.x-u,r.p1.y=t.p1.y+l},tp.prototype.addFilletArc=function(t,e,n,r,i){var o=r===Sl.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var l=a/s,u=0,c=new qs;u<a;){var p=e+o*u;c.x=t.x+i*Math.cos(p),c.y=t.y+i*Math.sin(p),this._segList.addPt(c),u+=l}},tp.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*tp.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new qs((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new qs((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},tp.prototype.createCircle=function(t){var e=new qs(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},tp.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},tp.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Jc,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*tp.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},tp.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===qc.JOIN_BEVEL||this._bufParams.getJoinStyle()===qc.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Sl.CLOCKWISE,this._distance))},tp.prototype.closeRing=function(){this._segList.closeRing()},tp.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},tp.prototype.interfaces_=function(){return[]},tp.prototype.getClass=function(){return tp},ep.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},ep.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},ep.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},ep.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(tp,ep);var np=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[1];this._precisionModel=arguments[0],this._bufParams=t};np.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Xl.reverse(o),o},np.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Zc.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Zu.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=Zc.simplify(t,r),l=s.length-1;n.initSideSegments(s[0],s[1],Zu.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment(),n.closeRing()},np.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Zu.RIGHT&&(r=-r);var i=Zc.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++)n.addNextSegment(i[a],1!==a);n.closeRing()},np.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Zc.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Zu.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=Zc.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],Zu.LEFT);for(var l=s-2;l>=0;l--)e.addNextSegment(a[l],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},np.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case qc.CAP_ROUND:e.createCircle(t);break;case qc.CAP_SQUARE:e.createSquare(t)}},np.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);return t.length<=1?this.computePointCurve(t[0],r):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,r):this.computeLineBufferCurve(t,r),r.getCoordinates()},np.prototype.getBufferParameters=function(){return this._bufParams},np.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},np.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return np.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},np.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Zc.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Zu.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Zc.simplify(t,r),l=s.length-1;n.initSideSegments(s[0],s[1],Zu.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment()},np.prototype.getSegGen=function(t){return new tp(this._precisionModel,this._bufParams,t)},np.prototype.interfaces_=function(){return[]},np.prototype.getClass=function(){return np},np.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new qs(t[n]);return e};var rp=function(){this._subgraphs=null,this._seg=new Fc,this._cga=new Sl,this._subgraphs=arguments[0]},ip={DepthSegment:{configurable:!0}};rp.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new ql,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Qs(arguments[2],Gl)&&arguments[0]instanceof qs&&arguments[1]instanceof pc){for(var o=arguments[0],a=arguments[1],s=arguments[2],l=a.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||Sl.computeOrientation(this._seg.p0,this._seg.p1,o)===Sl.RIGHT)){var c=a.getDepth(Zu.LEFT);this._seg.p0.equals(l[u])||(c=a.getDepth(Zu.RIGHT));var p=new op(this._seg,c);s.add(p)}}else if(Qs(arguments[2],Gl)&&arguments[0]instanceof qs&&Qs(arguments[1],Gl))for(var h=arguments[0],d=arguments[2],f=arguments[1].iterator();f.hasNext();){var m=f.next();m.isForward()&&this.findStabbedSegments(h,m,d)}},rp.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:wc.min(e)._leftDepth},rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp},ip.DepthSegment.get=function(){return op},Object.defineProperties(rp,ip);var op=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[1];this._upwardSeg=new Fc(arguments[0]),this._leftDepth=t};op.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},op.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},op.prototype.toString=function(){return this._upwardSeg.toString()},op.prototype.interfaces_=function(){return[Hs]},op.prototype.getClass=function(){return op};var ap=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};ap.prototype.area=function(){return ap.area(this.p0,this.p1,this.p2)},ap.prototype.signedArea=function(){return ap.signedArea(this.p0,this.p1,this.p2)},ap.prototype.interpolateZ=function(t){if(null===t)throw new zs("Supplied point is null.");return ap.interpolateZ(t,this.p0,this.p1,this.p2)},ap.prototype.longestSideLength=function(){return ap.longestSideLength(this.p0,this.p1,this.p2)},ap.prototype.isAcute=function(){return ap.isAcute(this.p0,this.p1,this.p2)},ap.prototype.circumcentre=function(){return ap.circumcentre(this.p0,this.p1,this.p2)},ap.prototype.area3D=function(){return ap.area3D(this.p0,this.p1,this.p2)},ap.prototype.centroid=function(){return ap.centroid(this.p0,this.p1,this.p2)},ap.prototype.inCentre=function(){return ap.inCentre(this.p0,this.p1,this.p2)},ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap},ap.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},ap.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},ap.det=function(t,e,n,r){return t*r-e*n},ap.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,l=n.y-o,u=r.y-o,c=a*u-s*l,p=t.x-i,h=t.y-o;return e.z+(u*p-s*h)/c*(n.z-e.z)+(-l*p+a*h)/c*(r.z-e.z)},ap.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},ap.isAcute=function(t,e,n){return!!Qc.isAcute(t,e,n)&&!!Qc.isAcute(e,n,t)&&!!Qc.isAcute(n,t,e)},ap.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,l=e.y-i,u=2*ap.det(o,a,s,l),c=ap.det(a,o*o+a*a,l,s*s+l*l),p=ap.det(o,o*o+a*a,s,s*s+l*l);return new qs(r-c/u,i+p/u)},ap.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new dl(t.x+n/2,t.y+r/2,1),o=new dl(t.x-r+n/2,t.y+n+r/2,1);return new dl(i,o)},ap.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n));return new qs(t.x+i*(n.x-t.x),t.y+i*(n.y-t.y))},ap.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,l=n.z-t.z,u=i*l-o*s,c=o*a-r*l,p=r*s-i*a;return Math.sqrt(u*u+c*c+p*p)/2},ap.centroid=function(t,e,n){return new qs((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},ap.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o;return new qs((r*t.x+i*e.x+o*n.x)/a,(r*t.y+i*e.y+o*n.y)/a)};var sp=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ql;var t=arguments[1],e=arguments[2];this._inputGeom=arguments[0],this._distance=t,this._curveBuilder=e};sp.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Js.EXTERIOR,Js.INTERIOR)},sp.prototype.addPolygon=function(t){var e=this._distance,n=Zu.LEFT;this._distance<0&&(e=-this._distance,n=Zu.RIGHT);var r=t.getExteriorRing(),i=Xl.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,Js.EXTERIOR,Js.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=Xl.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,Zu.opposite(n),Js.INTERIOR,Js.EXTERIOR)}},sp.prototype.isTriangleErodedCompletely=function(t,e){var n=new ap(t[0],t[1],t[2]),r=n.inCentre();return Sl.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},sp.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Xl.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Js.EXTERIOR,Js.INTERIOR)},sp.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new Rc(t,new ec(0,Js.BOUNDARY,e,n));this._curveList.add(r)},sp.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},sp.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<Cu.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=Cu.MINIMUM_VALID_SIZE&&Sl.isCCW(t)&&(o=i,a=r,n=Zu.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},sp.prototype.add=function(t){if(t.isEmpty())return null;t instanceof wu?this.addPolygon(t):t instanceof _u?this.addLineString(t):t instanceof bu?this.addPoint(t):t instanceof Mu?this.addCollection(t):t instanceof hu?this.addCollection(t):t instanceof Lu?this.addCollection(t):t instanceof pu&&this.addCollection(t)},sp.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},sp.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp};var lp=function(){};lp.prototype.locate=function(t){},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp};var up=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};up.prototype.next=function(){if(this._atStart)return this._atStart=!1,up.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new gi;var t=this._parent.getGeometryN(this._index++);return t instanceof pu?(this._subcollectionIterator=new up(t),this._subcollectionIterator.next()):t},up.prototype.remove=function(){throw new Error(this.getClass().getName())},up.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},up.prototype.interfaces_=function(){return[Ul]},up.prototype.getClass=function(){return up},up.isAtomic=function(t){return!(t instanceof pu)};var cp=function(){this._geom=null,this._geom=arguments[0]};cp.prototype.locate=function(t){return cp.locate(t,this._geom)},cp.prototype.interfaces_=function(){return[lp]},cp.prototype.getClass=function(){return cp},cp.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Sl.isPointInRing(t,e.getCoordinates())},cp.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!cp.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(cp.isPointInRing(t,i))return!1}return!0},cp.containsPoint=function(t,e){if(e instanceof wu)return cp.containsPointInPolygon(t,e);if(e instanceof pu)for(var n=new up(e);n.hasNext();){var r=n.next();if(r!==e&&cp.containsPoint(t,r))return!0}return!1},cp.locate=function(t,e){return e.isEmpty()?Js.EXTERIOR:cp.containsPoint(t,e)?Js.INTERIOR:Js.EXTERIOR};var pp=function(){this._edgeMap=new Ci,this._edgeList=null,this._ptInAreaLocation=[Js.NONE,Js.NONE]};pp.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},pp.prototype.propagateSideLabels=function(t){for(var e=Js.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Zu.LEFT)!==Js.NONE&&(e=r.getLocation(t,Zu.LEFT))}if(e===Js.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(t,Zu.ON)===Js.NONE&&s.setLocation(t,Zu.ON,i),s.isArea(t)){var l=s.getLocation(t,Zu.LEFT),u=s.getLocation(t,Zu.RIGHT);if(u!==Js.NONE){if(u!==i)throw new Ku("side location conflict",a.getCoordinate());l===Js.NONE&&Ml.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=l}else Ml.isTrue(s.getLocation(t,Zu.LEFT)===Js.NONE,"found single null side"),s.setLocation(t,Zu.RIGHT,i),s.setLocation(t,Zu.LEFT,i)}}},pp.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},pp.prototype.print=function(t){hl.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},pp.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},pp.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Zu.LEFT);Ml.isTrue(r!==Js.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();Ml.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,Zu.LEFT),l=a.getLocation(t,Zu.RIGHT);if(s===l)return!1;if(l!==i)return!1;i=s}return!0},pp.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},pp.prototype.iterator=function(){return this.getEdges().iterator()},pp.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new ql(this._edgeMap.values())),this._edgeList},pp.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===Js.NONE&&(this._ptInAreaLocation[t]=cp.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},pp.prototype.toString=function(){var t=new el;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},pp.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},pp.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Js.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),l=0;l<2;l++)if(s.isAnyNull(l)){var u=Js.NONE;if(e[l])u=Js.EXTERIOR;else{var c=a.getCoordinate();u=this.getLocation(l,c,t)}s.setAllLocationsIfNull(l,u)}},pp.prototype.getDegree=function(){return this._edgeMap.size()},pp.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp};var hp=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Ku("no outgoing dirEdge found",this.getCoordinate());Ml.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){this.insertEdgeEnd(t,t)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return lc.isNorthern(i)&&lc.isNorthern(o)?n:lc.isNorthern(i)||lc.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(Ml.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){hl.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ql;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Zu.LEFT),r=t.getDepth(Zu.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Ku("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],a=arguments[2],s=arguments[0];s<o;s++){var l=this._edgeList.get(s);l.setEdgeDepths(Zu.RIGHT,a),a=l.getDepth(Zu.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(Ml.isTrue(null!==e,"found null for first outgoing dirEdge"),Ml.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Js.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Js.INTERIOR;break}if(r.isInResult()){t=Js.EXTERIOR;break}}}if(t===Js.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===Js.INTERIOR):(a.isInResult()&&(i=Js.EXTERIOR),s.isInResult()&&(i=Js.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new ec(Js.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==Js.INTERIOR&&o!==Js.BOUNDARY||this._label.setLocation(i,Js.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(pp),dp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(t){return new ac(t,new hp)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hc),fp=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};fp.prototype.compareTo=function(t){return fp.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},fp.prototype.interfaces_=function(){return[Hs]},fp.prototype.getClass=function(){return fp},fp.orientation=function(t){return 1===Xl.increasingDirection(t)},fp.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,l=e?0:t.length-1,u=r?0:n.length-1;;){var c=t[l].compareTo(n[u]);if(0!==c)return c;var p=(l+=i)===a,h=(u+=o)===s;if(p&&!h)return-1;if(!p&&h)return 1;if(p&&h)return 0}};var mp=function(){this._edges=new ql,this._ocaMap=new Ci};mp.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},mp.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},mp.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},mp.prototype.iterator=function(){return this._edges.iterator()},mp.prototype.getEdges=function(){return this._edges},mp.prototype.get=function(t){return this._edges.get(t)},mp.prototype.findEqualEdge=function(t){var e=new fp(t.getCoordinates());return this._ocaMap.get(e)},mp.prototype.add=function(t){this._edges.add(t);var e=new fp(t.getCoordinates());this._ocaMap.put(e,t)},mp.prototype.interfaces_=function(){return[]},mp.prototype.getClass=function(){return mp};var gp=function(){};gp.prototype.processIntersections=function(t,e,n,r){},gp.prototype.isDone=function(){},gp.prototype.interfaces_=function(){return[]},gp.prototype.getClass=function(){return gp};var yp=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};yp.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(yp.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},yp.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},yp.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},yp.prototype.getLineIntersector=function(){return this._li},yp.prototype.hasProperIntersection=function(){return this._hasProper},yp.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},yp.prototype.hasIntersection=function(){return this._hasIntersection},yp.prototype.isDone=function(){return!1},yp.prototype.hasInteriorIntersection=function(){return this._hasInterior},yp.prototype.interfaces_=function(){return[gp]},yp.prototype.getClass=function(){return yp},yp.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var _p=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[1],e=arguments[2];this.coord=new qs(arguments[0]),this.segmentIndex=t,this.dist=e};_p.prototype.getSegmentIndex=function(){return this.segmentIndex},_p.prototype.getCoordinate=function(){return this.coord},_p.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},_p.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},_p.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},_p.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},_p.prototype.getDistance=function(){return this.dist},_p.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},_p.prototype.interfaces_=function(){return[Hs]},_p.prototype.getClass=function(){return _p};var vp=function(){this._nodeMap=new Ci,this.edge=null,this.edge=arguments[0]};vp.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},vp.prototype.iterator=function(){return this._nodeMap.values().iterator()},vp.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},vp.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},vp.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);r||n--;var i=new Array(n).fill(null),o=0;i[o++]=new qs(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)i[o++]=this.edge.pts[a];return r&&(i[o]=e.coord),new Cp(i,new ec(this.edge._label))},vp.prototype.add=function(t,e,n){var r=new _p(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},vp.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},vp.prototype.interfaces_=function(){return[]},vp.prototype.getClass=function(){return vp};var bp=function(){};bp.prototype.getChainStartIndices=function(t){var e=0,n=new ql;n.add(new nl(e));do{var r=this.findChainEnd(t,e);n.add(new nl(r)),e=r}while(e<t.length-1);return bp.toIntArray(n)},bp.prototype.findChainEnd=function(t,e){for(var n=lc.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&lc.quadrant(t[r-1],t[r])===n;)r++;return r-1},bp.prototype.interfaces_=function(){return[]},bp.prototype.getClass=function(){return bp},bp.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var xp=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new fl,this.env2=new fl;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new bp;this.startIndex=e.getChainStartIndices(this.pts)};xp.prototype.getCoordinates=function(){return this.pts},xp.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},xp.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},xp.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],arguments[3])}else if(6===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],l=arguments[5],u=this.pts[r],c=this.pts[i],p=o.pts[a],h=o.pts[s];if(i-r==1&&s-a==1)return l.addIntersections(this.e,r,o.e,a),null;if(this.env1.init(u,c),this.env2.init(p,h),!this.env1.intersects(this.env2))return null;var d=Math.trunc((r+i)/2),f=Math.trunc((a+s)/2);r<d&&(a<f&&this.computeIntersectsForChain(r,d,o,a,f,l),f<s&&this.computeIntersectsForChain(r,d,o,f,s,l)),d<i&&(a<f&&this.computeIntersectsForChain(d,i,o,a,f,l),f<s&&this.computeIntersectsForChain(d,i,o,f,s,l))}},xp.prototype.getStartIndexes=function(){return this.startIndex},xp.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},xp.prototype.interfaces_=function(){return[]},xp.prototype.getClass=function(){return xp};var wp=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},Mp={NULL_VALUE:{configurable:!0}};wp.prototype.getDepth=function(t,e){return this._depth[t][e]},wp.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},wp.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==wp.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===wp.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===wp.NULL_VALUE:void 0},wp.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},wp.prototype.getDelta=function(t){return this._depth[t][Zu.RIGHT]-this._depth[t][Zu.LEFT]},wp.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Js.EXTERIOR:Js.INTERIOR},wp.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},wp.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==Js.EXTERIOR&&r!==Js.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=wp.depthAtLocation(r):this._depth[e][n]+=wp.depthAtLocation(r))}else 3===arguments.length&&arguments[2]===Js.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},wp.prototype.interfaces_=function(){return[]},wp.prototype.getClass=function(){return wp},wp.depthAtLocation=function(t){return t===Js.EXTERIOR?0:t===Js.INTERIOR?1:wp.NULL_VALUE},Mp.NULL_VALUE.get=function(){return-1},Object.defineProperties(wp,Mp);var Cp=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new vp(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new wp,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var n=arguments[1];this.pts=arguments[0],this._label=n}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,ec.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new xp(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new fl;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new qs(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;s<this.pts.length&&i.equals2D(this.pts[s])&&(o=s,a=0),this.eiList.add(i,o,a)},e.prototype.toString=function(){var t=new el;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Zu.ON),e.getLocation(1,Zu.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Zu.LEFT),e.getLocation(1,Zu.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Zu.RIGHT),e.getLocation(1,Zu.RIGHT),2))},e}(oc),Lp=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new mp,this._bufParams=t||null};Lp.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Lp.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new ec(t.getLabel())).flip(),n.merge(r);var i=Lp.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Lp.depthDelta(t.getLabel()))},Lp.prototype.buildSubgraphs=function(t,e){for(var n=new ql,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new rp(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},Lp.prototype.createSubgraphs=function(t){for(var e=new ql,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new $u;i.create(r),e.add(i)}}return wc.sort(e,wc.reverseOrder()),e},Lp.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Lp.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new Uc,n=new El;return n.setPrecisionModel(t),e.setSegmentIntersector(new yp(n)),e},Lp.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new np(n,this._bufParams),i=new sp(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new dc(new dp),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new fc(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},Lp.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new Cp(i.getCoordinates(),new ec(a));this.insertUniqueEdge(s)}}},Lp.prototype.setNoder=function(t){this._workingNoder=t},Lp.prototype.interfaces_=function(){return[]},Lp.prototype.getClass=function(){return Lp},Lp.depthDelta=function(t){var e=t.getLocation(0,Zu.LEFT),n=t.getLocation(0,Zu.RIGHT);return e===Js.INTERIOR&&n===Js.EXTERIOR?1:e===Js.EXTERIOR&&n===Js.INTERIOR?-1:0},Lp.convertSegStrings=function(t){for(var e=new zu,n=new ql;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var Ep=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[1];this._noder=arguments[0],this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var e=arguments[1],n=arguments[2],r=arguments[3];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=n,this._offsetY=r,this._isScaled=!this.isIntegerPrecision()}};Ep.prototype.rescale=function(){if(Qs(arguments[0],Vl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&hl.out.println(n)}},Ep.prototype.scale=function(){if(Qs(arguments[0],Vl)){for(var t=arguments[0],e=new ql,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Rc(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new qs(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].z);return Xl.removeRepeatedPoints(o)}},Ep.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Ep.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Ep.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Ep.prototype.interfaces_=function(){return[Vc]},Ep.prototype.getClass=function(){return Ep};var kp=function(){this._li=new El,this._segStrings=null,this._segStrings=arguments[0]},Tp={fact:{configurable:!0}};kp.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new xl("found endpt/interior pt intersection at index "+o+" :pt "+n)},kp.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),l=0;l<a.length-1;l++)for(var u=0;u<s.length-1;u++)this.checkInteriorIntersections(i,l,o,u);else if(4===arguments.length){var c=arguments[0],p=arguments[1],h=arguments[2],d=arguments[3];if(c===h&&p===d)return null;var f=c.getCoordinates()[p],m=c.getCoordinates()[p+1],g=h.getCoordinates()[d],y=h.getCoordinates()[d+1];if(this._li.computeIntersection(f,m,g,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,f,m)||this.hasInteriorIntersection(this._li,g,y)))throw new xl("found non-noded intersection at "+f+"-"+m+" and "+g+"-"+y)}},kp.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},kp.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},kp.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},kp.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new xl("found non-noded collapse at "+kp.fact.createLineString([t,e,n]))},kp.prototype.interfaces_=function(){return[]},kp.prototype.getClass=function(){return kp},Tp.fact.get=function(){return new zu},Object.defineProperties(kp,Tp);var Sp=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new zs("Scale factor must be non-zero");1!==e&&(this._pt=new qs(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new qs,this._p1Scaled=new qs),this.initCorners(this._pt)},Ap={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Sp.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return Ml.isTrue(!(a&&s),"Found bad envelope test"),s},Sp.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new qs(this._maxx,this._maxy),this._corner[1]=new qs(this._minx,this._maxy),this._corner[2]=new qs(this._minx,this._miny),this._corner[3]=new qs(this._maxx,this._miny)},Sp.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Sp.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Sp.prototype.getCoordinate=function(){return this._originalPt},Sp.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Sp.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Sp.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new fl(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Sp.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Sp.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},Sp.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},Sp.prototype.interfaces_=function(){return[]},Sp.prototype.getClass=function(){return Sp},Ap.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Sp,Ap);var Dp=function(){this.tempEnv1=new fl,this.selectedSegment=new Fc};Dp.prototype.select=function(){1===arguments.length||2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Dp.prototype.interfaces_=function(){return[]},Dp.prototype.getClass=function(){return Dp};var Ip=function(){this._index=null,this._index=arguments[0]},Pp={HotPixelSnapAction:{configurable:!0}};Ip.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getSafeEnvelope(),i=new Op(t,e,n);return this._index.query(r,{interfaces_:function(){return[_c]},visitItem:function(t){t.select(r,i)}}),i.isNodeAdded()}},Ip.prototype.interfaces_=function(){return[]},Ip.prototype.getClass=function(){return Ip},Pp.HotPixelSnapAction.get=function(){return Op},Object.defineProperties(Ip,Pp);var Op=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[1],n=arguments[2];this._hotPixel=arguments[0],this._parentEdge=e,this._hotPixelVertexIndex=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Dp),Np=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new ql};Np.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},Np.prototype.isDone=function(){return!1},Np.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Np.prototype.interfaces_=function(){return[gp]},Np.prototype.getClass=function(){return Np};var Rp=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new El,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Rp.prototype.checkCorrectness=function(t){var e=Rc.getNodedSubstrings(t),n=new kp(e);try{n.checkValid()}catch(t){if(!(t instanceof cl))throw t;t.printStackTrace()}},Rp.prototype.getNodedSubstrings=function(){return Rc.getNodedSubstrings(this._nodedSegStrings)},Rp.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Rp.prototype.findInteriorIntersections=function(t,e){var n=new Np(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Rp.prototype.computeVertexSnaps=function(){if(Qs(arguments[0],Vl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Rc)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new Sp(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},Rp.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new Uc,this._pointSnapper=new Ip(this._noder.getIndex()),this.snapRound(t,this._li)},Rp.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new Sp(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},Rp.prototype.interfaces_=function(){return[Vc]},Rp.prototype.getClass=function(){return Rp};var Fp=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new qc,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var t=arguments[1];this._argGeom=arguments[0],this._bufParams=t}},Yp={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Fp.prototype.bufferFixedPrecision=function(t){var e=new Ep(new Rp(new Ru(1)),t.getScale()),n=new Lp(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Fp.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Fp.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Ku))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=Fp.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),r=new Ru(n);this.bufferFixedPrecision(r)}},Fp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Ru.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Fp.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Fp.prototype.bufferOriginalPrecision=function(){try{var t=new Lp(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof xl))throw t;this._saveException=t}},Fp.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Fp.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Fp.prototype.interfaces_=function(){return[]},Fp.prototype.getClass=function(){return Fp},Fp.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new Fp(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Il&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],r=new Fp(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof qc&&arguments[0]instanceof Il&&"number"==typeof arguments[1]){var i=arguments[1];return new Fp(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],a=arguments[2],s=arguments[3],l=new Fp(arguments[0]);return l.setQuadrantSegments(a),l.setEndCapStyle(s),l.getResultGeometry(o)}},Fp.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=$s.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},Yp.CAP_ROUND.get=function(){return qc.CAP_ROUND},Yp.CAP_BUTT.get=function(){return qc.CAP_FLAT},Yp.CAP_FLAT.get=function(){return qc.CAP_FLAT},Yp.CAP_SQUARE.get=function(){return qc.CAP_SQUARE},Yp.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Fp,Yp);var Bp=function(){this._pt=[new qs,new qs],this._distance=js.NaN,this._isNull=!0};Bp.prototype.getCoordinates=function(){return this._pt},Bp.prototype.getCoordinate=function(t){return this._pt[t]},Bp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Bp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},Bp.prototype.getDistance=function(){return this._distance},Bp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Bp.prototype.interfaces_=function(){return[]},Bp.prototype.getClass=function(){return Bp};var zp=function(){};zp.prototype.interfaces_=function(){return[]},zp.prototype.getClass=function(){return zp},zp.computeDistance=function(){if(arguments[2]instanceof Bp&&arguments[0]instanceof _u&&arguments[1]instanceof qs)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),r=new Fc,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof Bp&&arguments[0]instanceof wu&&arguments[1]instanceof qs){var a=arguments[0],s=arguments[1],l=arguments[2];zp.computeDistance(a.getExteriorRing(),s,l);for(var u=0;u<a.getNumInteriorRing();u++)zp.computeDistance(a.getInteriorRingN(u),s,l)}else if(arguments[2]instanceof Bp&&arguments[0]instanceof Il&&arguments[1]instanceof qs){var c=arguments[0],p=arguments[1],h=arguments[2];if(c instanceof _u)zp.computeDistance(c,p,h);else if(c instanceof wu)zp.computeDistance(c,p,h);else if(c instanceof pu)for(var d=c,f=0;f<d.getNumGeometries();f++){var m=d.getGeometryN(f);zp.computeDistance(m,p,h)}else h.setMinimum(c.getCoordinate(),p)}else if(arguments[2]instanceof Bp&&arguments[0]instanceof Fc&&arguments[1]instanceof qs){var g=arguments[1],y=arguments[2],_=arguments[0].closestPoint(g);y.setMinimum(_,g)}};var jp=function(t){this._maxPtDist=new Bp,this._inputGeom=t||null},Vp={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};jp.prototype.computeMaxMidpointDistance=function(t){var e=new Up(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},jp.prototype.computeMaxVertexDistance=function(t){var e=new Hp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},jp.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},jp.prototype.getDistancePoints=function(){return this._maxPtDist},jp.prototype.interfaces_=function(){return[]},jp.prototype.getClass=function(){return jp},Vp.MaxPointDistanceFilter.get=function(){return Hp},Vp.MaxMidpointDistanceFilter.get=function(){return Up},Object.defineProperties(jp,Vp);var Hp=function(t){this._maxPtDist=new Bp,this._minPtDist=new Bp,this._geom=t||null};Hp.prototype.filter=function(t){this._minPtDist.initialize(),zp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Hp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Hp.prototype.interfaces_=function(){return[Nl]},Hp.prototype.getClass=function(){return Hp};var Up=function(t){this._maxPtDist=new Bp,this._minPtDist=new Bp,this._geom=t||null};Up.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new qs((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),zp.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Up.prototype.isDone=function(){return!1},Up.prototype.isGeometryChanged=function(){return!1},Up.prototype.getMaxPointDistance=function(){return this._maxPtDist},Up.prototype.interfaces_=function(){return[cu]},Up.prototype.getClass=function(){return Up};var Gp=function(t){this._comps=t||null};Gp.prototype.filter=function(t){t instanceof wu&&this._comps.add(t)},Gp.prototype.interfaces_=function(){return[uu]},Gp.prototype.getClass=function(){return Gp},Gp.getPolygons=function(){if(1===arguments.length)return Gp.getPolygons(arguments[0],new ql);if(2===arguments.length){var t=arguments[0],e=arguments[1];return t instanceof wu?e.add(t):t instanceof pu&&t.apply(new Gp(e)),e}};var qp=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var t=arguments[1];this._lines=arguments[0],this._isForcedToLineString=t}};qp.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Cu){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof _u&&this._lines.add(t)},qp.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},qp.prototype.interfaces_=function(){return[Dl]},qp.prototype.getClass=function(){return qp},qp.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(qp.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(qp.getLines(e,n))}},qp.getLines=function(){if(1===arguments.length)return qp.getLines(arguments[0],!1);if(2===arguments.length){if(Qs(arguments[0],Vl)&&Qs(arguments[1],Vl)){for(var t=arguments[1],e=arguments[0].iterator();e.hasNext();){var n=e.next();qp.getLines(n,t)}return t}if(arguments[0]instanceof Il&&"boolean"==typeof arguments[1]){var r=arguments[0],i=arguments[1],o=new ql;return r.apply(new qp(o,i)),o}if(arguments[0]instanceof Il&&Qs(arguments[1],Vl)){var a=arguments[0],s=arguments[1];return a instanceof _u?s.add(a):a.apply(new qp(s)),s}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Qs(arguments[0],Vl)&&Qs(arguments[1],Vl)){for(var l=arguments[1],u=arguments[2],c=arguments[0].iterator();c.hasNext();){var p=c.next();qp.getLines(p,l,u)}return l}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Il&&Qs(arguments[1],Vl)){var h=arguments[1];return arguments[0].apply(new qp(h,arguments[2])),h}}};var Wp=function(){if(this._boundaryRule=Rl.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new zs("Rule must be non-null");this._boundaryRule=t}};Wp.prototype.locateInternal=function(){if(arguments[0]instanceof qs&&arguments[1]instanceof wu){var t=arguments[0],e=arguments[1];if(e.isEmpty())return Js.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===Js.EXTERIOR)return Js.EXTERIOR;if(r===Js.BOUNDARY)return Js.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===Js.INTERIOR)return Js.EXTERIOR;if(a===Js.BOUNDARY)return Js.BOUNDARY}return Js.INTERIOR}if(arguments[0]instanceof qs&&arguments[1]instanceof _u){var s=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(s))return Js.EXTERIOR;var u=l.getCoordinates();return l.isClosed()||!s.equals(u[0])&&!s.equals(u[u.length-1])?Sl.isOnLine(s,u)?Js.INTERIOR:Js.EXTERIOR:Js.BOUNDARY}if(arguments[0]instanceof qs&&arguments[1]instanceof bu){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?Js.INTERIOR:Js.EXTERIOR}},Wp.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Sl.locatePointInRing(t,e.getCoordinates()):Js.EXTERIOR},Wp.prototype.intersects=function(t,e){return this.locate(t,e)!==Js.EXTERIOR},Wp.prototype.updateLocationInfo=function(t){t===Js.INTERIOR&&(this._isIn=!0),t===Js.BOUNDARY&&this._numBoundaries++},Wp.prototype.computeLocation=function(t,e){if(e instanceof bu&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof _u)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof wu)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof hu)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof Lu)for(var o=e,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof pu)for(var l=new up(e);l.hasNext();){var u=l.next();u!==e&&this.computeLocation(t,u)}},Wp.prototype.locate=function(t,e){return e.isEmpty()?Js.EXTERIOR:e instanceof _u?this.locateInternal(t,e):e instanceof wu?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Js.BOUNDARY:this._numBoundaries>0||this._isIn?Js.INTERIOR:Js.EXTERIOR)},Wp.prototype.interfaces_=function(){return[]},Wp.prototype.getClass=function(){return Wp};var Zp=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[1],n=arguments[2];this._component=arguments[0],this._segIndex=e,this._pt=n}},Xp={INSIDE_AREA:{configurable:!0}};Zp.prototype.isInsideArea=function(){return this._segIndex===Zp.INSIDE_AREA},Zp.prototype.getCoordinate=function(){return this._pt},Zp.prototype.getGeometryComponent=function(){return this._component},Zp.prototype.getSegmentIndex=function(){return this._segIndex},Zp.prototype.interfaces_=function(){return[]},Zp.prototype.getClass=function(){return Zp},Xp.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Zp,Xp);var Jp=function(t){this._pts=t||null};Jp.prototype.filter=function(t){t instanceof bu&&this._pts.add(t)},Jp.prototype.interfaces_=function(){return[uu]},Jp.prototype.getClass=function(){return Jp},Jp.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof bu?wc.singletonList(t):Jp.getPoints(t,new ql)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof bu?n.add(e):e instanceof pu&&e.apply(new Jp(n)),n}};var Kp=function(){this._locations=null,this._locations=arguments[0]};Kp.prototype.filter=function(t){(t instanceof bu||t instanceof _u||t instanceof wu)&&this._locations.add(new Zp(t,0,t.getCoordinate()))},Kp.prototype.interfaces_=function(){return[uu]},Kp.prototype.getClass=function(){return Kp},Kp.getLocations=function(t){var e=new ql;return t.apply(new Kp(e)),e};var Qp=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Wp,this._minDistanceLocation=null,this._minDistance=js.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e,this._terminateDistance=n}};Qp.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=Gp.getPolygons(this._geom[e]);if(i.size()>0){var o=Kp.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Qs(arguments[0],Gl)&&Qs(arguments[1],Gl)){for(var a=arguments[0],s=arguments[1],l=arguments[2],u=0;u<a.size();u++)for(var c=a.get(u),p=0;p<s.size();p++)if(this.computeContainmentDistance(c,s.get(p),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Zp&&arguments[1]instanceof wu){var h=arguments[0],d=arguments[1],f=arguments[2],m=h.getCoordinate();if(Js.EXTERIOR!==this._ptLocator.locate(m,d))return this._minDistance=0,f[0]=h,f[1]=new Zp(d,m),null}},Qp.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Qp.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=qp.getLines(this._geom[0]),n=qp.getLines(this._geom[1]),r=Jp.getPoints(this._geom[0]),i=Jp.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Qp.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Qp.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Qp.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Qp.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof _u&&arguments[1]instanceof bu){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var a=Sl.distancePointLine(i,r[o],r[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new Fc(r[o],r[o+1]).closestPoint(i);n[0]=new Zp(t,o,s),n[1]=new Zp(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof _u&&arguments[1]instanceof _u){var l=arguments[0],u=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var p=l.getCoordinates(),h=u.getCoordinates(),d=0;d<p.length-1;d++)for(var f=0;f<h.length-1;f++){var m=Sl.distanceLineLine(p[d],p[d+1],h[f],h[f+1]);if(m<this._minDistance){this._minDistance=m;var g=new Fc(p[d],p[d+1]),y=new Fc(h[f],h[f+1]),_=g.closestPoints(y);c[0]=new Zp(l,d,_[0]),c[1]=new Zp(u,f,_[1])}if(this._minDistance<=this._terminateDistance)return null}}},Qp.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Zp(i,0,i.getCoordinate()),n[1]=new Zp(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Qp.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new zs("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Qp.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Qp.prototype.interfaces_=function(){return[]},Qp.prototype.getClass=function(){return Qp},Qp.distance=function(t,e){return new Qp(t,e).distance()},Qp.isWithinDistance=function(t,e,n){return new Qp(t,e,n).distance()<=n},Qp.nearestPoints=function(t,e){return new Qp(t,e).nearestPoints()};var $p=function(){this._pt=[new qs,new qs],this._distance=js.NaN,this._isNull=!0};$p.prototype.getCoordinates=function(){return this._pt},$p.prototype.getCoordinate=function(t){return this._pt[t]},$p.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},$p.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},$p.prototype.toString=function(){return bl.toLineString(this._pt[0],this._pt[1])},$p.prototype.getDistance=function(){return this._distance},$p.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},$p.prototype.interfaces_=function(){return[]},$p.prototype.getClass=function(){return $p};var th=function(){};th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th},th.computeDistance=function(){if(arguments[2]instanceof $p&&arguments[0]instanceof _u&&arguments[1]instanceof qs)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new Fc,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof $p&&arguments[0]instanceof wu&&arguments[1]instanceof qs){var s=arguments[0],l=arguments[1],u=arguments[2];th.computeDistance(s.getExteriorRing(),l,u);for(var c=0;c<s.getNumInteriorRing();c++)th.computeDistance(s.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof $p&&arguments[0]instanceof Il&&arguments[1]instanceof qs){var p=arguments[0],h=arguments[1],d=arguments[2];if(p instanceof _u)th.computeDistance(p,h,d);else if(p instanceof wu)th.computeDistance(p,h,d);else if(p instanceof pu)for(var f=p,m=0;m<f.getNumGeometries();m++){var g=f.getGeometryN(m);th.computeDistance(g,h,d)}else d.setMinimum(p.getCoordinate(),h)}else if(arguments[2]instanceof $p&&arguments[0]instanceof Fc&&arguments[1]instanceof qs){var y=arguments[1],_=arguments[2],v=arguments[0].closestPoint(y);_.setMinimum(v,y)}};var eh=function(){this._g0=null,this._g1=null,this._ptDist=new $p,this._densifyFrac=0;var t=arguments[1];this._g0=arguments[0],this._g1=t},nh={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};eh.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},eh.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new zs("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},eh.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},eh.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},eh.prototype.computeOrientedDistance=function(t,e,n){var r=new rh(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new ih(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},eh.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh},eh.distance=function(){if(2===arguments.length)return new eh(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new eh(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},nh.MaxPointDistanceFilter.get=function(){return rh},nh.MaxDensifiedByFractionDistanceFilter.get=function(){return ih},Object.defineProperties(eh,nh);var rh=function(){this._maxPtDist=new $p,this._minPtDist=new $p,this._euclideanDist=new th,this._geom=null,this._geom=arguments[0]};rh.prototype.filter=function(t){this._minPtDist.initialize(),th.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},rh.prototype.getMaxPointDistance=function(){return this._maxPtDist},rh.prototype.interfaces_=function(){return[Nl]},rh.prototype.getClass=function(){return rh};var ih=function(){this._maxPtDist=new $p,this._minPtDist=new $p,this._geom=null,this._numSubSegs=0;var t=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/t))};ih.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=new qs(n.x+a*i,n.y+a*o);this._minPtDist.initialize(),th.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},ih.prototype.isDone=function(){return!1},ih.prototype.isGeometryChanged=function(){return!1},ih.prototype.getMaxPointDistance=function(){return this._maxPtDist},ih.prototype.interfaces_=function(){return[cu]},ih.prototype.getClass=function(){return ih};var oh=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},ah={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};oh.prototype.checkMaximumDistance=function(t,e,n){var r=new eh(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+bl.toLineString(i[0],i[1])+")"}},oh.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=oh.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),oh.VERBOSE&&hl.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},oh.prototype.checkNegativeValid=function(){if(!(this._input instanceof wu||this._input instanceof Lu||this._input instanceof pu))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},oh.prototype.getErrorIndicator=function(){return this._errorIndicator},oh.prototype.checkMinimumDistance=function(t,e,n){var r=new Qp(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+bl.toLineString(i[0],i[1])+" )"}},oh.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},oh.prototype.getErrorLocation=function(){return this._errorLocation},oh.prototype.getPolygonLines=function(t){for(var e=new ql,n=new qp(e),r=Gp.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},oh.prototype.getErrorMessage=function(){return this._errMsg},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh},ah.VERBOSE.get=function(){return!1},ah.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(oh,ah);var sh=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},lh={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};sh.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},sh.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*sh.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new fl(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new fl(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},sh.prototype.checkDistance=function(){var t=new oh(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},sh.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},sh.prototype.checkPolygonal=function(){this._result instanceof wu||this._result instanceof Lu||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},sh.prototype.getErrorIndicator=function(){return this._errorIndicator},sh.prototype.getErrorLocation=function(){return this._errorLocation},sh.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},sh.prototype.report=function(t){if(!sh.VERBOSE)return null;hl.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},sh.prototype.getErrorMessage=function(){return this._errorMsg},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh},sh.isValidMsg=function(t,e,n){var r=new sh(t,e,n);return r.isValid()?null:r.getErrorMessage()},sh.isValid=function(t,e,n){return!!new sh(t,e,n).isValid()},lh.VERBOSE.get=function(){return!1},lh.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(sh,lh);var uh=function(){this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};uh.prototype.getCoordinates=function(){return this._pts},uh.prototype.size=function(){return this._pts.length},uh.prototype.getCoordinate=function(t){return this._pts[t]},uh.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},uh.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Pc.octant(this.getCoordinate(t),this.getCoordinate(t+1))},uh.prototype.setData=function(t){this._data=t},uh.prototype.getData=function(){return this._data},uh.prototype.toString=function(){return bl.toLineString(new Du(this._pts))},uh.prototype.interfaces_=function(){return[Oc]},uh.prototype.getClass=function(){return uh};var ch=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ql,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};ch.prototype.getInteriorIntersection=function(){return this._interiorIntersection},ch.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},ch.prototype.getIntersectionSegments=function(){return this._intSegments},ch.prototype.count=function(){return this._intersectionCount},ch.prototype.getIntersections=function(){return this._intersections},ch.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},ch.prototype.setKeepIntersections=function(t){this._keepIntersections=t},ch.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},ch.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},ch.prototype.hasIntersection=function(){return null!==this._interiorIntersection},ch.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},ch.prototype.interfaces_=function(){return[gp]},ch.prototype.getClass=function(){return ch},ch.createAllIntersectionsFinder=function(t){var e=new ch(t);return e.setFindAllIntersections(!0),e},ch.createAnyIntersectionFinder=function(t){return new ch(t)},ch.createIntersectionCounter=function(t){var e=new ch(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var ph=function(){this._li=new El,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};ph.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},ph.prototype.getIntersections=function(){return this._segInt.getIntersections()},ph.prototype.isValid=function(){return this.execute(),this._isValid},ph.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},ph.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new ch(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new Uc;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},ph.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ku(this.getErrorMessage(),this._segInt.getInteriorIntersection())},ph.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+bl.toLineString(t[0],t[1])+" and "+bl.toLineString(t[2],t[3])},ph.prototype.interfaces_=function(){return[]},ph.prototype.getClass=function(){return ph},ph.computeIntersections=function(t){var e=new ph(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var hh=function t(){this._nv=null,this._nv=new ph(t.toSegmentStrings(arguments[0]))};hh.prototype.checkValid=function(){this._nv.checkValid()},hh.prototype.interfaces_=function(){return[]},hh.prototype.getClass=function(){return hh},hh.toSegmentStrings=function(t){for(var e=new ql,n=t.iterator();n.hasNext();){var r=n.next();e.add(new uh(r.getCoordinates(),r))}return e},hh.checkValid=function(t){new hh(t).checkValid()};var dh=function(t){this._mapOp=t};dh.prototype.map=function(t){for(var e=new ql,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(zu.toGeometryArray(e))},dh.prototype.interfaces_=function(){return[]},dh.prototype.getClass=function(){return dh},dh.map=function(t,e){return new dh(e).map(t)};var fh=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ql,this._resultLineList=new ql;var t=arguments[1],e=arguments[2];this._op=arguments[0],this._geometryFactory=t,this._ptLocator=e};fh.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},fh.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},fh.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},fh.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Zh.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},fh.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},fh.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},fh.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},fh.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(Ml.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Zh.isResultOfOp(r,e)&&e===Zh.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh};var mh=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ql;var t=arguments[1];this._op=arguments[0],this._geometryFactory=t};mh.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},mh.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Zh.INTERSECTION)){var r=n.getLabel();Zh.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},mh.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh};var gh=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};gh.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},gh.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof Cu&&!r.isEmpty()||(n=!1);for(var i=new ql,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof Cu||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new ql;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},gh.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},gh.prototype.getInputGeometry=function(){return this._inputGeom},gh.prototype.transformMultiLineString=function(t,e){for(var n=new ql,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},gh.prototype.transformCoordinates=function(t,e){return this.copy(t)},gh.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},gh.prototype.transformMultiPoint=function(t,e){for(var n=new ql,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},gh.prototype.transformMultiPolygon=function(t,e){for(var n=new ql,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},gh.prototype.copy=function(t){return t.copy()},gh.prototype.transformGeometryCollection=function(t,e){for(var n=new ql,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(zu.toGeometryArray(n)):this._factory.buildGeometry(n)},gh.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof bu)return this.transformPoint(t,null);if(t instanceof Mu)return this.transformMultiPoint(t,null);if(t instanceof Cu)return this.transformLinearRing(t,null);if(t instanceof _u)return this.transformLineString(t,null);if(t instanceof hu)return this.transformMultiLineString(t,null);if(t instanceof wu)return this.transformPolygon(t,null);if(t instanceof Lu)return this.transformMultiPolygon(t,null);if(t instanceof pu)return this.transformGeometryCollection(t,null);throw new zs("Unknown Geometry subtype: "+t.getClass().getName())},gh.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},gh.prototype.interfaces_=function(){return[]},gh.prototype.getClass=function(){return gh};var yh=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Fc,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof _u&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};yh.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new qs(o)),0===r&&this._isClosed&&t.set(t.size()-1,new qs(o)))}},yh.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},yh.prototype.snapTo=function(t){var e=new Zl(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},yh.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new qs(i),!1)}},yh.prototype.findSegmentIndexToSnap=function(t,e){for(var n=js.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},yh.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh},yh.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var _h=function(t){this._srcGeom=t||null},vh={SNAP_PRECISION_FACTOR:{configurable:!0}};_h.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new bh(e,n).transform(this._srcGeom)},_h.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new bh(t,n,!0).transform(this._srcGeom),i=r;return e&&Qs(i,xu)&&(i=r.buffer(0)),i},_h.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},_h.prototype.extractTargetCoordinates=function(t){for(var e=new Ei,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},_h.prototype.computeMinimumSegmentLength=function(t){for(var e=js.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},_h.prototype.interfaces_=function(){return[]},_h.prototype.getClass=function(){return _h},_h.snap=function(t,e,n){var r=new Array(2).fill(null),i=new _h(t);r[0]=i.snapTo(e,n);var o=new _h(e);return r[1]=o.snapTo(r[0],n),r},_h.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=_h.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Ru.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[1];return Math.min(_h.computeOverlaySnapTolerance(arguments[0]),_h.computeOverlaySnapTolerance(i))}},_h.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*_h.SNAP_PRECISION_FACTOR},_h.snapToSelf=function(t,e,n){return new _h(t).snapToSelf(e,n)},vh.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(_h,vh);var bh=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(t,e){var n=new yh(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gh),xh=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};xh.prototype.getCommon=function(){return js.longBitsToDouble(this._commonBits)},xh.prototype.add=function(t){var e=js.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=xh.signExpBits(this._commonBits),this._isFirst=!1,null):xh.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=xh.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=xh.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},xh.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=js.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+js.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},xh.prototype.interfaces_=function(){return[]},xh.prototype.getClass=function(){return xh},xh.getBit=function(t,e){return 0!=(t&1<<e)?1:0},xh.signExpBits=function(t){return t>>52},xh.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},xh.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(xh.getBit(t,r)!==xh.getBit(e,r))return n;n++}return 52};var wh=function(){this._commonCoord=null,this._ccFilter=new Ch},Mh={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};wh.prototype.addCommonBits=function(t){var e=new Lh(this._commonCoord);t.apply(e),t.geometryChanged()},wh.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new qs(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Lh(e);return t.apply(n),t.geometryChanged(),t},wh.prototype.getCommonCoordinate=function(){return this._commonCoord},wh.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},wh.prototype.interfaces_=function(){return[]},wh.prototype.getClass=function(){return wh},Mh.CommonCoordinateFilter.get=function(){return Ch},Mh.Translater.get=function(){return Lh},Object.defineProperties(wh,Mh);var Ch=function(){this._commonBitsX=new xh,this._commonBitsY=new xh};Ch.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Ch.prototype.getCommonCoordinate=function(){return new qs(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Ch.prototype.interfaces_=function(){return[Nl]},Ch.prototype.getClass=function(){return Ch};var Lh=function(){this.trans=null,this.trans=arguments[0]};Lh.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},Lh.prototype.isDone=function(){return!1},Lh.prototype.isGeometryChanged=function(){return!0},Lh.prototype.interfaces_=function(){return[cu]},Lh.prototype.getClass=function(){return Lh};var Eh=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Eh.prototype.selfSnap=function(t){return new _h(t).snapTo(t,this._snapTolerance)},Eh.prototype.removeCommonBits=function(t){this._cbr=new wh,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Eh.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Eh.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Zh.overlayOp(e[0],e[1],t);return this.prepareResult(n)},Eh.prototype.checkValid=function(t){t.isValid()||hl.out.println("Snapped geometry is invalid")},Eh.prototype.computeSnapTolerance=function(){this._snapTolerance=_h.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Eh.prototype.snap=function(t){var e=this.removeCommonBits(t);return _h.snap(e[0],e[1],this._snapTolerance)},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh},Eh.overlayOp=function(t,e,n){return new Eh(t,e).getResultGeometry(n)},Eh.union=function(t,e){return Eh.overlayOp(t,e,Zh.UNION)},Eh.intersection=function(t,e){return Eh.overlayOp(t,e,Zh.INTERSECTION)},Eh.symDifference=function(t,e){return Eh.overlayOp(t,e,Zh.SYMDIFFERENCE)},Eh.difference=function(t,e){return Eh.overlayOp(t,e,Zh.DIFFERENCE)};var kh=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};kh.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Zh.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof xl))throw t;r=t}if(!n)try{e=Eh.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof xl?r:t}return e},kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh},kh.overlayOp=function(t,e,n){return new kh(t,e).getResultGeometry(n)},kh.union=function(t,e){return kh.overlayOp(t,e,Zh.UNION)},kh.intersection=function(t,e){return kh.overlayOp(t,e,Zh.INTERSECTION)},kh.symDifference=function(t,e){return kh.overlayOp(t,e,Zh.SYMDIFFERENCE)},kh.difference=function(t,e){return kh.overlayOp(t,e,Zh.DIFFERENCE)};var Th=function(){this.mce=null,this.chainIndex=null;var t=arguments[1];this.mce=arguments[0],this.chainIndex=t};Th.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th};var Sh=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},Ah={INSERT:{configurable:!0},DELETE:{configurable:!0}};Sh.prototype.isDelete=function(){return this._eventType===Sh.DELETE},Sh.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Sh.prototype.getObject=function(){return this._obj},Sh.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},Sh.prototype.getInsertEvent=function(){return this._insertEvent},Sh.prototype.isInsert=function(){return this._eventType===Sh.INSERT},Sh.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Sh.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Sh.prototype.interfaces_=function(){return[Hs]},Sh.prototype.getClass=function(){return Sh},Ah.INSERT.get=function(){return 1},Ah.DELETE.get=function(){return 2},Object.defineProperties(Sh,Ah);var Dh=function(){};Dh.prototype.interfaces_=function(){return[]},Dh.prototype.getClass=function(){return Dh};var Ih=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[1],e=arguments[2];this._li=arguments[0],this._includeProper=t,this._recordIsolated=e};Ih.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Ih.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Ih.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Ih.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Ih.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Ih.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},Ih.prototype.hasProperIntersection=function(){return this._hasProper},Ih.prototype.hasIntersection=function(){return this._hasIntersection},Ih.prototype.isDone=function(){return this._isDone},Ih.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Ih.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Ih.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih},Ih.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Ph=function(t){function e(){t.call(this),this.events=new ql,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){wc.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Ih&&Qs(arguments[0],Gl)&&Qs(arguments[1],Gl)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&Qs(arguments[0],Gl)&&arguments[1]instanceof Ih){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new Th(n,i),a=new Sh(e,n.getMinX(i),o);this.events.add(a),this.events.add(new Sh(n.getMaxX(i),a))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Dh),Oh=function(){this._min=js.POSITIVE_INFINITY,this._max=js.NEGATIVE_INFINITY},Nh={NodeComparator:{configurable:!0}};Oh.prototype.getMin=function(){return this._min},Oh.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Oh.prototype.getMax=function(){return this._max},Oh.prototype.toString=function(){return bl.toLineString(new qs(this._min,0),new qs(this._max,0))},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh},Nh.NodeComparator.get=function(){return Rh},Object.defineProperties(Oh,Nh);var Rh=function(){};Rh.prototype.compare=function(t,e){var n=(t._min+t._max)/2,r=(e._min+e._max)/2;return n<r?-1:n>r?1:0},Rh.prototype.interfaces_=function(){return[Gs]},Rh.prototype.getClass=function(){return Rh};var Fh=function(t){function e(){t.call(this),this._item=null;var e=arguments[1],n=arguments[2];this._min=arguments[0],this._max=e,this._item=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Oh),Yh=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[1];this._node1=arguments[0],this._node2=e,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Oh),Bh=function(){this._leaves=new ql,this._root=null,this._level=0};Bh.prototype.buildTree=function(){wc.sort(this._leaves,new Oh.NodeComparator);for(var t=this._leaves,e=null,n=new ql;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Bh.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Fh(t,e,n))},Bh.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Bh.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Bh.prototype.printNode=function(t){hl.out.println(bl.toLineString(new qs(t._min,this._level),new qs(t._max,this._level)))},Bh.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Bh.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new Yh(t.get(n),t.get(n+1));e.add(i)}}},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh};var zh=function(){this._items=new ql};zh.prototype.visitItem=function(t){this._items.add(t)},zh.prototype.getItems=function(){return this._items},zh.prototype.interfaces_=function(){return[_c]},zh.prototype.getClass=function(){return zh};var jh=function(){this._index=null;var t=arguments[0];if(!Qs(t,xu))throw new zs("Argument must be Polygonal");this._index=new Uh(t)},Vh={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};jh.prototype.locate=function(t){var e=new Tl(t),n=new Hh(e);return this._index.query(t.y,t.y,n),e.getLocation()},jh.prototype.interfaces_=function(){return[lp]},jh.prototype.getClass=function(){return jh},Vh.SegmentVisitor.get=function(){return Hh},Vh.IntervalIndexedGeometry.get=function(){return Uh},Object.defineProperties(jh,Vh);var Hh=function(){this._counter=null,this._counter=arguments[0]};Hh.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Hh.prototype.interfaces_=function(){return[_c]},Hh.prototype.getClass=function(){return Hh};var Uh=function(){this._index=new Bh,this.init(arguments[0])};Uh.prototype.init=function(t){for(var e=qp.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},Uh.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Fc(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},Uh.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new zh;return this._index.query(t,e,n),n.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},Uh.prototype.interfaces_=function(){return[]},Uh.prototype.getClass=function(){return Uh};var Gh=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Nu,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Wp,2===arguments.length){var e=arguments[1],n=Rl.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=e,this._boundaryNodeRule=n,null!==e&&this.add(e)}else if(3===arguments.length){var r=arguments[1],i=arguments[2];this._argIndex=arguments[0],this._parentGeom=r,this._boundaryNodeRule=i,null!==r&&this.add(r)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(t,Zu.ON)===Js.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var t=arguments[1],e=arguments[2],n=new Ih(arguments[0],!0,!1);return n.setIsDoneIfProperInt(e),this.createEdgeSetIntersector().computeIntersections(this._edges,n,t||!(this._parentGeom instanceof Cu||this._parentGeom instanceof wu||this._parentGeom instanceof Lu)),this.addSelfIntersectionNodes(this._argIndex),n}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new Ih(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof bu){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Js.INTERIOR)}else arguments[0]instanceof qs&&this.insertPoint(this._argIndex,arguments[0],Js.INTERIOR)},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Js.EXTERIOR,Js.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Js.INTERIOR,Js.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Js.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Js.BOUNDARY)},e.prototype.addLineString=function(t){var e=Xl.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Cp(e,new ec(this._argIndex,Js.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Ml.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Js.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Xl.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;Sl.isCCW(r)&&(i=n,o=e);var a=new Cp(r,new ec(this._argIndex,Js.BOUNDARY,i,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],Js.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new ec(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Ph},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Lu&&(this._useBoundaryDeterminationRule=!1),e instanceof wu)this.addPolygon(e);else if(e instanceof _u)this.addLineString(e);else if(e instanceof bu)this.addPoint(e);else if(e instanceof Mu)this.addCollection(e);else if(e instanceof hu)this.addCollection(e);else if(e instanceof Lu)this.addCollection(e);else{if(!(e instanceof pu))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return Qs(this._parentGeom,xu)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new jh(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Js.BOUNDARY:Js.INTERIOR},e}(dc),qh=function(){if(this._li=new El,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Gh(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=Rl.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Gh(0,e,r),this._arg[1]=new Gh(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Gh(0,i,a),this._arg[1]=new Gh(1,o,a)}};qh.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},qh.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},qh.prototype.interfaces_=function(){return[]},qh.prototype.getClass=function(){return qh};var Wh=function(){};Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh},Wh.map=function(){if(arguments[0]instanceof Il&&Qs(arguments[1],Wh.MapOp)){for(var t=arguments[0],e=arguments[1],n=new ql,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(Qs(arguments[0],Vl)&&Qs(arguments[1],Wh.MapOp)){for(var o=arguments[0],a=arguments[1],s=new ql,l=o.iterator();l.hasNext();){var u=l.next(),c=a.map(u);null!==c&&s.add(c)}return s}},Wh.MapOp=function(){};var Zh=function(t){function e(){var e=arguments[0];t.call(this,e,arguments[1]),this._ptLocator=new Wp,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new mp,this._resultPolyList=new ql,this._resultLineList=new ql,this._resultPointList=new ql,this._graph=new dc(new dp),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new ec(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new ql;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==Js.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new ql,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new ql;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),hh.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new fc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new fh(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new mh(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Zu.RIGHT),i.getLocation(1,Zu.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(Ml.isTrue(!r.isNull(i,Zu.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Zu.LEFT,r.getLocation(i,Zu.LEFT)),Ml.isTrue(!r.isNull(i,Zu.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Zu.RIGHT,r.getLocation(i,Zu.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qh);Zh.overlayOp=function(t,e,n){return new Zh(t,e).getResultGeometry(n)},Zh.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Zh.createEmptyResult(Zh.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return dh.map(t,{interfaces_:function(){return[Wh.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),kh.overlayOp(t,e,Zh.INTERSECTION)},Zh.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Zh.createEmptyResult(Zh.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),kh.overlayOp(t,e,Zh.SYMDIFFERENCE)},Zh.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Zh.INTERSECTION:o=Math.min(r,i);break;case Zh.UNION:o=Math.max(r,i);break;case Zh.DIFFERENCE:o=r;break;case Zh.SYMDIFFERENCE:o=Math.max(r,i)}return o},Zh.createEmptyResult=function(t,e,n,r){var i=null;switch(Zh.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Zh.difference=function(t,e){return t.isEmpty()?Zh.createEmptyResult(Zh.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),kh.overlayOp(t,e,Zh.DIFFERENCE))},Zh.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Zh.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1];switch(i===Js.BOUNDARY&&(i=Js.INTERIOR),o===Js.BOUNDARY&&(o=Js.INTERIOR),arguments[2]){case Zh.INTERSECTION:return i===Js.INTERIOR&&o===Js.INTERIOR;case Zh.UNION:return i===Js.INTERIOR||o===Js.INTERIOR;case Zh.DIFFERENCE:return i===Js.INTERIOR&&o!==Js.INTERIOR;case Zh.SYMDIFFERENCE:return i===Js.INTERIOR&&o!==Js.INTERIOR||i!==Js.INTERIOR&&o===Js.INTERIOR}return!1}},Zh.INTERSECTION=1,Zh.UNION=2,Zh.DIFFERENCE=3,Zh.SYMDIFFERENCE=4;var Xh=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Wp,this._seg=new Fc;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Xh.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Xh.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Js.BOUNDARY:this._ptLocator.locate(t,this._g)},Xh.prototype.extractLinework=function(t){var e=new Jh;t.apply(e);var n=e.getLinework(),r=zu.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh};var Jh=function(){this._linework=null,this._linework=new ql};Jh.prototype.getLinework=function(){return this._linework},Jh.prototype.filter=function(t){if(t instanceof wu){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Jh.prototype.interfaces_=function(){return[uu]},Jh.prototype.getClass=function(){return Jh};var Kh=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};Kh.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Kh.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Kh.prototype.getPoints=function(t){for(var e=new ql,n=qp.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Kh.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=Math.sqrt(i*i+o*o),s=n*i/a,l=n*o/a,u=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var p=new qs(u-l,c+s);r.add(p)}if(this._doRight){var h=new qs(u+l,c-s);r.add(h)}},Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh};var Qh=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new ql;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Xh(this._geom[0],this._boundaryDistanceTolerance),new Xh(this._geom[1],this._boundaryDistanceTolerance),new Xh(this._geom[2],this._boundaryDistanceTolerance)]},$h={TOLERANCE:{configurable:!0}};Qh.prototype.reportResult=function(t,e,n){hl.out.println("Overlay result invalid - A:"+Js.toLocationSymbol(e[0])+" B:"+Js.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+Js.toLocationSymbol(e[2]))},Qh.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Qh.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Qh.hasLocation(this._location,Js.BOUNDARY)||this.isValidResult(r,this._location)}},Qh.prototype.addTestPts=function(t){var e=new Kh(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Qh.prototype.isValidResult=function(t,e){var n=Zh.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===Js.INTERIOR);return r||this.reportResult(t,e,n),r},Qh.prototype.getInvalidLocation=function(){return this._invalidLocation},Qh.prototype.interfaces_=function(){return[]},Qh.prototype.getClass=function(){return Qh},Qh.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Qh.computeBoundaryDistanceTolerance=function(t,e){return Math.min(_h.computeSizeBasedSnapTolerance(t),_h.computeSizeBasedSnapTolerance(e))},Qh.isValid=function(t,e,n,r){return new Qh(t,e,r).isValid(n)},$h.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Qh,$h);var td=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};td.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},td.prototype.combine=function(){for(var t=new ql,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},td.prototype.interfaces_=function(){return[]},td.prototype.getClass=function(){return td},td.combine=function(){return 1===arguments.length?new td(arguments[0]).combine():2===arguments.length?new td(td.createList(arguments[0],arguments[1])).combine():3===arguments.length?new td(td.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},td.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},td.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new ql;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new ql;return a.add(r),a.add(i),a.add(o),a}};var ed=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new ql)},nd={STRTREE_NODE_CAPACITY:{configurable:!0}};ed.prototype.reduceToGeometries=function(t){for(var e=new ql,n=t.iterator();n.hasNext();){var r=n.next(),i=null;Qs(r,Gl)?i=this.unionTree(r):r instanceof Il&&(i=r),e.add(i)}return e},ed.prototype.extractByEnvelope=function(t,e,n){for(var r=new ql,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},ed.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return td.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},ed.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Tc(ed.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},ed.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=ed.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(ed.getGeometry(e,n),ed.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,r);return this.unionSafe(a,s)}},ed.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},ed.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},ed.prototype.unionActual=function(t,e){return ed.restrictToPolygons(t.union(e))},ed.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},ed.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new ql,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),td.combine(r)},ed.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},ed.prototype.interfaces_=function(){return[]},ed.prototype.getClass=function(){return ed},ed.restrictToPolygons=function(t){if(Qs(t,xu))return t;var e=Gp.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(zu.toPolygonArray(e))},ed.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},ed.union=function(t){return new ed(t).union()},nd.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(ed,nd);var rd=function(){};rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd},rd.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Zh.createEmptyResult(Zh.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),kh.overlayOp(t,e,Zh.UNION)};var id=function(){return new Di};Di.prototype={constructor:Di,reset:function(){this.s=this.t=0},add:function(t){Ii(od,t,this.t),Ii(this,od.s,this.s),this.s?this.t+=od.t:this.s=od.t},valueOf:function(){return this.s}};var od=new Di,ad=1e-6,sd=Math.PI,ld=sd/2,ud=sd/4,cd=2*sd,pd=180/sd,hd=sd/180,dd=Math.abs,fd=Math.atan,md=Math.atan2,gd=Math.cos,yd=Math.exp,_d=Math.log,vd=Math.sin,bd=Math.sqrt,xd=Math.tan,wd={Feature:function(t,e){Ni(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ni(n[r].geometry,e)}},Md={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){Ri(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ri(n[r],e,0)},Polygon:function(t,e){Fi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Fi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ni(n[r],e)}},Cd=function(t,e){t&&wd.hasOwnProperty(t.type)?wd[t.type](t,e):Ni(t,e)},Ld=(id(),id(),id(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});Gi.invert=Gi;var Ed=function(t){function e(e){return(e=t(e[0]*hd,e[1]*hd))[0]*=pd,e[1]*=pd,e}return t=qi(t[0]*hd,t[1]*hd,t.length>2?t[2]*hd:0),e.invert=function(e){return(e=t.invert(e[0]*hd,e[1]*hd))[0]*=pd,e[1]*=pd,e},e},kd=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Oi,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Td=function(t,e,n,r,i,o){var a,s=t[0],l=t[1],u=0,c=1,p=e[0]-s,h=e[1]-l;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<u)return;a<c&&(c=a)}else if(p>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,p||!(a<0)){if(a/=p,p<0){if(a>c)return;a>u&&(u=a)}else if(p>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}return u>0&&(t[0]=s+u*p,t[1]=l+u*h),c<1&&(e[0]=s+c*p,e[1]=l+c*h),!0}}}}},Sd=function(t,e){return dd(t[0]-e[0])<ad&&dd(t[1]-e[1])<ad},Ad=function(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Sd(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new Ki(r,t,null,!0)),l.push(n.o=new Ki(r,null,n,!1)),s.push(n=new Ki(a,t,null,!1)),l.push(n.o=new Ki(a,null,n,!0))}}),s.length){for(l.sort(e),Qi(s),Qi(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,p=s[0];;){for(var h=p,d=!0;h.v;)if((h=h.n)===p)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(o=(u=h.p.z).length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}},Dd=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},Id=1e9,Pd=-Id,Od=id(),Nd=(id(),function(t){return t}),Rd=(id(),id(),1/0),Fd=Rd,Yd=-Rd,Bd=Yd,zd={point:function(t,e){t<Rd&&(Rd=t),t>Yd&&(Yd=t),e<Fd&&(Fd=e),e>Bd&&(Bd=e)},lineStart:Oi,lineEnd:Oi,polygonStart:Oi,polygonEnd:Oi,result:function(){var t=[[Rd,Fd],[Yd,Bd]];return Yd=Bd=-(Fd=Rd=1/0),t}},jd=(id(),function(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);g.point(n[0],n[1])}function l(){x.point=s,g.lineStart()}function u(){x.point=a,g.lineEnd()}function c(t,e){m.push([t,e]);var n=i(t,e);v.point(n[0],n[1])}function p(){v.lineStart(),m=[]}function h(){c(m[0][0],m[0][1]),v.lineEnd();var t,e,n,r,i=v.clean(),a=_.result(),s=a.length;if(m.pop(),d.push(m),m=null,s)if(1&i){if((e=(n=a[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),f.push(a.filter($i))}var d,f,m,g=e(o),y=i.invert(r[0],r[1]),_=kd(),v=e(_),b=!1,x={point:a,lineStart:l,lineEnd:u,polygonStart:function(){x.point=c,x.lineStart=p,x.lineEnd=h,f=[],d=[]},polygonEnd:function(){x.point=a,x.lineStart=l,x.lineEnd=u,f=Dd(f);var t=function(t,e){var n=e[0],r=e[1],i=[vd(n),-gd(n),0],o=0,a=0;Od.reset();for(var s=0,l=t.length;s<l;++s)if(c=(u=t[s]).length)for(var u,c,p=u[c-1],h=p[0],d=p[1]/2+ud,f=vd(d),m=gd(d),g=0;g<c;++g,h=_,f=b,m=x,p=y){var y=u[g],_=y[0],v=y[1]/2+ud,b=vd(v),x=gd(v),w=_-h,M=w>=0?1:-1,C=M*w,L=C>sd,E=f*b;if(Od.add(md(E*M*vd(C),m*x+E*gd(C))),o+=L?w+M*cd:w,L^h>=n^_>=n){var k=ji(Bi(p),Bi(y));Ui(k);var T=ji(i,k);Ui(T);var S=(L^w>=0?-1:1)*Pi(T[2]);(r>S||r===S&&(k[0]||k[1]))&&(a+=L^w>=0?1:-1)}}return(o<-ad||o<ad&&Od<-ad)^1&a}(d,y);f.length?(b||(o.polygonStart(),b=!0),Ad(f,to,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),f=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}}),Vd=jd(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?sd:-sd,l=dd(o-n);dd(l-sd)<ad?(t.point(n,r=(r+a)/2>0?ld:-ld),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=sd&&(dd(n-i)<ad&&(n-=i*ad),dd(o-s)<ad&&(o-=s*ad),r=function(t,e,n,r){var i,o,a=vd(t-n);return dd(a)>ad?fd((vd(e)*(o=gd(r))*vd(n)-vd(r)*(i=gd(e))*vd(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)r.point(-sd,i=n*ld),r.point(0,i),r.point(sd,i),r.point(sd,0),r.point(sd,-i),r.point(0,-i),r.point(-sd,-i),r.point(-sd,0),r.point(-sd,i);else if(dd(t[0]-e[0])>ad){var o=t[0]<e[0]?sd:-sd;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-sd,-ld]);no.prototype={constructor:no,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hd=16,Ud=gd(30*hd),Gd=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,u,c,p,h,d,f,m,g){var y=u-r,_=c-i,v=y*y+_*_;if(v>4*e&&m--){var b=a+h,x=s+d,w=l+f,M=bd(b*b+x*x+w*w),C=Pi(w/=M),L=dd(dd(w)-1)<ad||dd(o-p)<ad?(o+p)/2:md(x,b),E=t(L,C),k=E[0],T=E[1],S=k-r,A=T-i,D=_*S-y*A;(D*D/v>e||dd((y*S+_*A)/v-.5)>.3||a*h+s*d+l*f<Ud)&&(n(r,i,o,a,s,l,k,T,L,b/=M,x/=M,w,m,g),g.point(k,T),n(k,T,L,b,x,w,u,c,p,h,d,f,m,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){y=NaN,w.point=o,e.lineStart()}function o(r,i){var o=Bi([r,i]),a=t(r,i);n(y,_,g,v,b,x,y=a[0],_=a[1],g=r,v=o[0],b=o[1],x=o[2],Hd,e),e.point(y,_)}function a(){w.point=r,e.lineEnd()}function s(){i(),w.point=l,w.lineEnd=u}function l(t,e){o(c=t,e),p=y,h=_,d=v,f=b,m=x,w.point=o}function u(){n(y,_,g,v,b,x,p,h,c,d,f,m,Hd,e),w.lineEnd=a,a()}var c,p,h,d,f,m,g,y,_,v,b,x,w={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}(t,e):function(t){return eo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},qd=eo({point:function(t,e){this.stream.point(t*hd,e*hd)}});io.invert=function(t,e){return[t,2*fd(yd(e))-ld]},oo.invert=function(t,e){return[-e,2*fd(yd(t))-ld]};var Wd=function(){var t=function(t){function e(){var e=sd*s(),a=o(Ed(o.rotate()).invert([0,0]));return u(null==c?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===io?[[Math.max(a[0]-e,c),n],[Math.min(a[0]+e,r),i]]:[[c,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=function(t){return function(t){function e(t){return[(t=u(t[0]*hd,t[1]*hd))[0]*m+a,s-t[1]*m]}function n(t,e){return[(t=o(t,e))[0]*m+a,s-t[1]*m]}function r(){u=Ld(l=qi(b,x,w),o);var t=o(_,v);return a=g-t[0]*m,s=y+t[1]*m,i()}function i(){return d=f=null,e}var o,a,s,l,u,c,p,h,d,f,m=150,g=480,y=250,_=0,v=0,b=0,x=0,w=0,M=null,C=Vd,L=null,E=Nd,k=.5,T=Gd(n,k);return e.stream=function(t){return d&&f===t?d:d=qd(C(l,T(E(f=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?function(t,e){function n(t,e){return gd(t)*gd(e)>o}function r(t,e,n){var r=[1,0,0],i=ji(Bi(t),Bi(e)),a=zi(i,i),s=i[0],l=a-s*s;if(!l)return!n&&t;var u=o*a/l,c=-o*s/l,p=ji(r,i),h=Hi(r,u);Vi(h,Hi(i,c));var d=p,f=zi(h,d),m=zi(d,d),g=f*f-m*(zi(h,h)-1);if(!(g<0)){var y=bd(g),_=Hi(d,(-f-y)/m);if(Vi(_,h),_=Yi(_),!n)return _;var v,b=t[0],x=e[0],w=t[1],M=e[1];x<b&&(v=b,b=x,x=v);var C=x-b,L=dd(C-sd)<ad;if(!L&&M<w&&(v=w,w=M,M=v),L||C<ad?L?w+M>0^_[1]<(dd(_[0]-b)<ad?w:M):w<=_[1]&&_[1]<=M:C>sd^(b<=_[0]&&_[0]<=x)){var E=Hi(d,(-f+y)/m);return Vi(E,h),[_,Yi(E)]}}}function i(e,n){var r=a?t:sd-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=gd(t),a=o>0,s=dd(o)>ad;return jd(n,function(t){var e,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(p,h){var d,f=[p,h],m=n(p,h),g=a?m?0:i(p,h):m?i(p+(p<0?sd:-sd),h):0;if(!e&&(u=l=m)&&t.lineStart(),m!==l&&(!(d=r(e,f))||Sd(e,d)||Sd(f,d))&&(f[0]+=ad,f[1]+=ad,m=n(f[0],f[1])),m!==l)c=0,m?(t.lineStart(),d=r(f,e),t.point(d[0],d[1])):(d=r(e,f),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(s&&e&&a^m){var y;g&o||!(y=r(f,e,!0))||(c=0,a?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&Sd(e,f)||t.point(f[0],f[1]),e=f,l=m,o=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}},function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var a=gd(e),s=vd(e),l=r*n;null==i?(i=e+r*cd,o=e-l/2):(i=Ji(a,i),o=Ji(a,o),(r>0?i<o:i>o)&&(i+=r*cd));for(var u,c=i;r>0?c>o:c<o;c-=l)u=Yi([a,-s*gd(c),-s*vd(c)]),t.point(u[0],u[1])}}(o,t,e,i,n,r)},a?[0,-t]:[-sd,t-sd])}(M=t*hd,6*hd):(M=null,Vd),i()):M*pd},e.clipExtent=function(t){return arguments.length?(E=null==t?(L=c=p=h=null,Nd):function(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,u){var c=0,p=0;if(null==i||(c=a(i,s))!==(p=a(o,s))||l(i,o)<0^s>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==p);else u.point(o[0],o[1])}function a(r,i){return dd(r[0]-t)<ad?i>0?0:3:dd(r[0]-n)<ad?i>0?2:1:dd(r[1]-e)<ad?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function l(t,e){i(t,e)&&x.point(t,e)}function u(o,a){var s=i(o,a);if(p&&h.push([o,a]),v)d=o,f=a,m=s,v=!1,s&&(x.lineStart(),x.point(o,a));else if(s&&_)x.point(o,a);else{var l=[g=Math.max(Pd,Math.min(Id,g)),y=Math.max(Pd,Math.min(Id,y))],u=[o=Math.max(Pd,Math.min(Id,o)),a=Math.max(Pd,Math.min(Id,a))];Td(l,u,t,e,n,r)?(_||(x.lineStart(),x.point(l[0],l[1])),x.point(u[0],u[1]),s||x.lineEnd(),b=!1):s&&(x.lineStart(),x.point(o,a),b=!1)}g=o,y=a,_=s}var c,p,h,d,f,m,g,y,_,v,b,x=a,w=kd(),M={point:l,lineStart:function(){M.point=u,p&&p.push(h=[]),v=!0,_=!1,g=y=NaN},lineEnd:function(){c&&(u(d,f),m&&_&&w.rejoin(),c.push(w.result())),M.point=l,_&&x.lineEnd()},polygonStart:function(){x=w,c=[],p=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=p.length;n<i;++n)for(var o,a,s=p[n],l=1,u=s.length,c=s[0],h=c[0],d=c[1];l<u;++l)o=h,a=d,h=(c=s[l])[0],d=c[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=b&&e,i=(c=Dd(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Ad(c,s,e,o,a),a.polygonEnd()),x=a,c=p=h=null}};return M}}(L=+t[0][0],c=+t[0][1],p=+t[1][0],h=+t[1][1]),i()):null==L?null:[[L,c],[p,h]]},e.scale=function(t){return arguments.length?(m=+t,r()):m},e.translate=function(t){return arguments.length?(g=+t[0],y=+t[1],r()):[g,y]},e.center=function(t){return arguments.length?(_=t[0]%360*hd,v=t[1]%360*hd,r()):[_*pd,v*pd]},e.rotate=function(t){return arguments.length?(b=t[0]%360*hd,x=t[1]%360*hd,w=t.length>2?t[2]%360*hd:0,r()):[b*pd,x*pd,w*pd]},e.precision=function(t){return arguments.length?(T=Gd(n,k=t*t),i()):bd(k)},e.fitExtent=function(t,n){return ro(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return ro(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=u.invert((t[0]-a)/m,(s-t[1])/m))&&[t[0]*pd,t[1]*pd]},r()}}(function(){return t})()}(t),a=o.center,s=o.scale,l=o.translate,u=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(l(t),e()):l()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==c?null:[[c,n],[r,i]]},e()}(oo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=na,t.random=Fs,t.clusters=Ys,t.helpers=Mo,t.invariant=Lo,t.meta=Co,t.isolines=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(Z(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!C(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;Z(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return D(t,function(t){var e=U(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return U(t)[0]-U(e)[0]})}).sort(function(t,n){return e?U(t[0])[1]-U(n[0])[1]:U(n[0])[1]-U(t[0])[1]})}(t,r),a=[],s=0;s<o.length;s++){for(var l=o[s],u=[],c=0;c<l.length;c++){var p=l[c];u.push(p.properties[n]?p.properties[n]:0),!0===i&&(p.properties.matrixPosition=[s,c])}a.push(u)}return a}(t,{zProperty:r,flip:!0});return u(function(t,e,n){var r=V(n),i=r[0],o=r[1],a=(r[2]-r[0])/(e[0].length-1),s=(r[3]-r[1])/(e.length-1),l=function(t){t[0]=t[0]*a+i,t[1]=t[1]*s+o};return t.forEach(function(t){k(t,l)}),t}(function(t,e,n,r,i){for(var o=[],a=1;a<e.length;a++){var s=+e[a],l=Object.assign({},r,i[a]);l[n]=s;var u=c(Q(t,s),l);o.push(u)}return o}(a,e,r,i,o),a,t))},t.convex=kt,t.pointsWithinPolygon=At,t.concave=function(t,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!M(r))throw new Error("maxEdge is invalid");var i=Dt(function(t){var e=[],n={};return D(t,function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}}),u(e)}(t));if(i.features=i.features.filter(function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],a=Nt(e,i,n),s=Nt(i,o,n),l=Nt(e,o,n);return a<=r&&s<=r&&l<=r}),i.features.length<1)return null;var o=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==K(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var r=function(t){var e={};R(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==K(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var r=[],i=j(t,function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=qt(r[0]),a=qt(r[r.length-1]),l=qt(i[0]),u=qt(i[i.length-1]);if(o===u)n=i.concat(r.slice(1));else if(l===a)n=r.concat(i.slice(1));else if(o===l)n=r.slice(1).reverse().concat(i);else{if(a!==u)return null;n=r.concat(i.reverse().slice(1))}return s(n)}(t,e)||(r.push(t),e)});return i&&r.push(i),r.length?1===r.length?r[0]:c(r.map(function(t){return t.coordinates})):null}(t,e);case"Polygon":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==K(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var r=[];R(t,function(t){r.push(t.geometry)});var i=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function r(t){var e=[];do{var n=u.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&u.hasOwnProperty(t.type)&&u[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>s&&(s=e),n<a&&(a=n),n>l&&(l=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,a=1/0,s=-1/0,l=-1/0,u={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var c in t)e(t[c]);return s>=o&&l>=a?[o,a,s,l]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=jt(t[e]);return n}(t)),a=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-u)*d),Math.round((t[1]-c)*f)]}function i(t,e){for(var n,r,i,o,a,s=-1,l=0,p=t.length,h=new Array(p);++s<p;)n=t[s],o=Math.round((n[0]-u)*d),a=Math.round((n[1]-c)*f),o===r&&a===i||(h[l++]=[r=o,i=a]);for(h.length=l;l<e;)l=h.push([h[0][0],h[0][1]]);return h}function o(t){return i(t,2)}function a(t){return i(t,4)}function s(t){return t.map(a)}function l(t){null!=t&&m.hasOwnProperty(t.type)&&m[t.type](t)}var u=e[0],c=e[1],p=e[2],h=e[3],d=p-u?(n-1)/(p-u):1,f=h-c?(n-1)/(h-c):1,m={GeometryCollection:function(t){t.geometries.forEach(l)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var g in t)l(t[g]);return{scale:[1/d,1/f],translate:[u,c]}}(t,o,e),s=function(t){function e(t){var e,n,r,i,o,a,s,l;if(r=d.get(e=u[t[0]]))for(s=0,l=r.length;s<l;++s)if(function(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!Zo(u[n],u[r]))return!1;return!0}(i=r[s],t))return t[0]=i[0],void(t[1]=i[1]);if(o=d.get(n=u[t[1]]))for(s=0,l=o.length;s<l;++s)if(function(t,e){var n=t[0],r=t[1],i=e[1];if(n-r!=e[0]-i)return!1;for(;n<=r;++n,--i)if(!Zo(u[n],u[i]))return!1;return!0}(a=o[s],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):d.set(e,[t]),o?o.push(t):d.set(n,[t]),f.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var a=i(t),s=i(e),l=0;l<o;++l)if(!Zo(u[n+(l+a)%o],u[r+(l+s)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[1],o=t[1]-n;if(o!==r-e[0])return!1;for(var a=i(t),s=o-i(e),l=0;l<o;++l)if(!Zo(u[n+(l+a)%o],u[r-(l+s)%o]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=u[r];++r<n;){var a=u[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-e}var o,a,s,l,u=t.coordinates,c=t.lines,p=t.rings,h=c.length+p.length;for(delete t.lines,delete t.rings,s=0,l=c.length;s<l;++s)for(o=c[s];o=o.next;)++h;for(s=0,l=p.length;s<l;++s)for(a=p[s];a=a.next;)++h;var d=Wo(2*h*1.4,Qo,Zo),f=t.arcs=[];for(s=0,l=c.length;s<l;++s){o=c[s];do{e(o)}while(o=o.next)}for(s=0,l=p.length;s<l;++s)if((a=p[s]).next)do{e(a)}while(a=a.next);else!function(t){var e,o,a,s,l;if(o=d.get(u[t[0]]))for(s=0,l=o.length;s<l;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}if(o=d.get(e=u[t[0]+i(t)]))for(s=0,l=o.length;s<l;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}o?o.push(t):d.set(e,[t]),f.push(t)}(a);return t}(function(t){var e,n,r,i=function(t){function e(t,e,n,r){if(h[n]!==t){h[n]=t;var i=d[n];if(i>=0){var o=f[n];i===e&&o===r||i===r&&o===e||(++g,m[n]=1)}else d[n]=e,f[n]=r}}function n(t){return Qo(l[t])}function r(t,e){return Zo(l[t],l[e])}var i,o,a,s,l=t.coordinates,u=t.lines,c=t.rings,p=function(){for(var t=Wo(1.4*l.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(l.length),i=0,o=l.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),h=new Int32Array(l.length),d=new Int32Array(l.length),f=new Int32Array(l.length),m=new Int8Array(l.length),g=0;for(i=0,o=l.length;i<o;++i)h[i]=d[i]=f[i]=-1;for(i=0,o=u.length;i<o;++i){var y=u[i],_=y[0],v=y[1];for(a=p[_],s=p[++_],++g,m[a]=1;++_<=v;)e(i,a,a=s,s=p[_]);++g,m[s]=1}for(i=0,o=l.length;i<o;++i)h[i]=-1;for(i=0,o=c.length;i<o;++i){var b=c[i],x=b[0]+1,w=b[1];for(e(i,p[w-1],a=p[x-1],s=p[x]);++x<=w;)e(i,a,a=s,s=p[x])}h=d=f=null;var M,C=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=i;return{add:function(r){for(var s=e(r)&a,l=o[s],u=0;l!=i;){if(n(l,r))return!0;if(++u>=t)throw new Error("full hashset");l=o[s=s+1&a]}return o[s]=r,!0},has:function(r){for(var s=e(r)&a,l=o[s],u=0;l!=i;){if(n(l,r))return!0;if(++u>=t)break;l=o[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*g,Qo,Zo);for(i=0,o=l.length;i<o;++i)m[M=p[i]]&&C.add(l[M]);return C}(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,r=a.length;n<r;++n)for(var l=a[n],u=l[0],c=l[1];++u<c;)i.has(o[u])&&(e={0:u,1:l[1]},l[1]=u,l=l.next=e);for(n=0,r=s.length;n<r;++n)for(var p=s[n],h=p[0],d=h,f=p[1],m=i.has(o[h]);++d<f;)i.has(o[d])&&(m?(e={0:d,1:p[1]},p[1]=d,p=p.next=e):(function(t,e,n,r){zt(t,e,n),zt(t,e,e+r),zt(t,e+r,n)}(o,h,f,f-d),o[f]=o[h],m=!0,d=h));return t}(function(t){function e(t){t&&u.hasOwnProperty(t.type)&&u[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)l[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)l[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function i(t){return t.map(r)}var o=-1,a=[],s=[],l=[],u={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:l,lines:a,rings:s,objects:t}}(t))),l=s.coordinates,u=Wo(1.4*s.arcs.length,Ut,Gt);t=s.objects,s.bbox=o,s.arcs=s.arcs.map(function(t,e){return u.set(t,e),l.slice(t[0],t[1]+1)}),delete s.coordinates,l=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var p in t)n(t[p]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],a=0,s=1,l=o.length,u=o[0],c=u[0],p=u[1];++a<l;)r=(u=o[a])[0],i=u[1],r===c&&i===p||(o[s++]=[r-c,i-p],c=r,p=i);1===s&&(o[s++]=[0,0]),o.length=s}return t}(s.arcs)),s}({geoms:d(r).geometry});return function(t){return Bt(t,(function(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)})}),o.push(t)}function r(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)o+=(e=i)[0]*(i=t[n])[1]-e[1]*i[0];return Math.abs(o)}(Bt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var i={},o=[],a=[];return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}}),o.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:a.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].length<2&&o.push(t)})})}),o=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),a.push(i)}}var r={},i={},o={},a=[],s=-1;return e.forEach(function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)}),e.forEach(function(e){var n,r,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=a[0],l=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=l,r=i[l]){delete i[r.start];var u=r===n?n:n.concat(r);i[u.start=n.start]=o[u.end=r.end]=u}else i[n.start]=o[n.end]=n;else if(n=i[l])if(delete i[n.start],n.unshift(e),n.start=s,r=o[s]){delete o[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=o[c.end=n.end]=c}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=s]=o[n.end=l]=n}),n(o,i),n(i,o),e.forEach(function(t){r[t<0?~t:t]||a.push([t])}),a}(t,o),(n=o.length)>1)for(var a,s,l=1,u=r(o[0]);l<n;++l)(a=r(o[l]))>u&&(s=o[0],o[0]=o[l],o[l]=s,u=a);return o})}}).apply(this,arguments))}(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,r){var i=So(6),o=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}});return i.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=V(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach(function(e){Tt([e.minX,e.minY],t)&&n.push(e.property)}),t.properties[r]=n}),t},t.flip=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Rt(t)),k(t,function(t){var e=t[0];t[0]=t[1],t[1]=e}),t},t.simplify=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=Rt(t)),O(t,function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;Wt(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=Qt(i,e,n);break;case"MultiLineString":t.coordinates=i.map(function(t){return Qt(t,e,n)});break;case"Polygon":t.coordinates=$t(i,e,n);break;case"MultiPolygon":t.coordinates=i.map(function(t){return $t(t,e,n)})}}(t,n,r)}),t},t.bezierSpline=te,t.tag=function(t,e,n,r){return t=Rt(t),e=Rt(e),D(t,function(t){t.properties||(t.properties={}),D(e,function(e){void 0===t.properties[r]&&Tt(t,e)&&(t.properties[r]=e.properties[n])})}),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return u(function(t,e){for(var n,r,i=t.slice(0),o=t.length,a=o-e;o-- >a;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(a)}(t.features,e))},t.envelope=ne,t.square=re,t.circle=oe,t.midpoint=function(t,e){return ie(t,Nt(t,e)/2,ae(t,e))},t.center=se,t.centerOfMass=function t(e,n){switch(K(e)){case"Point":return e;case"Polygon":var i=[];k(e,function(t){i.push(t)});var o,a,s,l,u,c,p,h,d=le(e,n),f=d.geometry.coordinates,m=0,g=0,y=0,_=i.map(function(t){return[t[0]-f[0],t[1]-f[1]]});for(o=0;o<i.length-1;o++)l=(a=_[o])[0],u=(s=_[o+1])[0],y+=h=l*(p=s[1])-u*(c=a[1]),m+=(l+u)*h,g+=(c+p)*h;if(0===y)return d;var v=1/(.5*y*6);return r([f[0]+v*m,f[1]+v*g],n);default:var b=kt(e);return b?t(b,n):le(e,n)}},t.centroid=le,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return D(t,function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))}),u(Object.keys(r).filter(function(t){return r[t].coordinates.length}).sort().map(function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})}))},t.distance=Nt,t.explode=ue,t.bbox=V,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Le(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(Le(t))}),e},t.bboxPolygon=ee,t.booleanPointInPolygon=Tt,t.nearestPoint=Ee,t.nearestPointOnLine=We,t.nearestPointToLine=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return O(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==K(e))throw new Error("line must be a LineString");var o=1/0,a=null;return D(t,function(t){var n=nn(t,e,{units:r});n<o&&(o=n,a=t)}),a&&(a.properties=Object.assign({dist:o},a.properties,i)),a},t.planepoint=function(t,e){var n=H(t),r=X(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,a=i.b,s=i.c,l=n[0],u=n[1],c=r[0][0],p=r[0][1],h=void 0!==o?o:r[0][2],d=r[1][0],f=r[1][1],m=void 0!==a?a:r[1][2],g=r[2][0],y=r[2][1],_=void 0!==s?s:r[2][2];return(_*(l-c)*(u-f)+h*(l-d)*(u-y)+m*(l-g)*(u-p)-m*(l-c)*(u-y)-_*(l-d)*(u-p)-h*(l-g)*(u-f))/((l-c)*(u-f)+(l-d)*(u-y)+(l-g)*(u-p)-(l-c)*(u-y)-(l-d)*(u-p)-(l-g)*(u-f))},t.tin=Dt,t.bearing=ae,t.destination=ie,t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=function(t,e,n,r,i,o,a,s){var l,u,c,p,h={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(l=(s-o)*(n-t)-(a-i)*(r-e))?null!==h.x&&null!==h.y&&h:(p=(a-i)*(u=e-o)-(s-o)*(c=t-i),c=((n-t)*u-(r-e)*c)/l,h.x=t+(u=p/l)*(n-t),h.y=e+u*(r-e),u>=0&&u<=1&&(h.onLine1=!0),c>=0&&c<=1&&(h.onLine2=!0),!(!h.onLine1||!h.onLine2)&&[h.x,h.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);a&&i.features.push(r([a[0],a[1]]))}})}),i},t.pointOnFeature=on,t.area=sn,t.along=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!M(e))throw new Error("distance must be a number");for(var o=0,a=0;a<i.length&&!(e>=o&&a===i.length-1);a++){if(o>=e){var s=e-o;if(s){var l=ae(i[a],i[a-1])-180;return ie(i[a],s,l,n)}return r(i[a])}o+=Nt(i[a],i[a+1],n)}return r(i[i.length-1])},t.length=pn,t.lineSlice=function(t,e,n){var r=U(n);if("LineString"!==K(n))throw new Error("line must be a LineString");for(var i,o=We(n,t),a=We(n,e),l=[(i=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],u=i[0].properties.index+1;u<i[1].properties.index+1;u++)l.push(r[u]);return l.push(i[1].geometry.coordinates),s(l,n.properties)},t.lineSliceAlong=hn,t.pointGrid=yn,t.truncate=_n,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,function(t){e.push(t)}),u(e)},t.lineIntersect=Ge,t.lineChunk=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return R(t,function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=pn(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)r(hn(t,e*a,e*(a+1),{units:n}))}(t,e,r,function(t){o.push(t)})}),u(o)},t.unkinkPolygon=function(t){var e=[];return R(t,function(t){"Polygon"===t.geometry.type&&D(function(t){function e(){for(var t=[],e=0;e<f.features.length;e++)-1==f.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<f.features.length;r++)t[e]!=r&&Tt(f.features[t[e]].geometry.coordinates[0][0],f.features[r],{ignoreBoundary:!0})&&sn(f.features[r])<1/0&&(n=r);f.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<f.features.length;t++)if(-1==f.features[t].properties.parent){var e=f.features[t].properties.winding;f.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<f.features.length;n++)if(f.features[n].properties.parent==t){var i=e+f.features[n].properties.winding;f.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=t.geometry.coordinates.length,a=[],s=0;s<i;s++){var l=t.geometry.coordinates[s];xn(l[0],l[l.length-1])||l.push(l[0]),a.push.apply(a,l.slice(0,l.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(a))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=a.length,p=function(t,e,n){function r(t,n,r,i){var l,u,c=o[t][n],p=o[t][n+1],h=o[r][i],d=o[r][i+1],f=function(t,e,n,r){if(vn(t,n)||vn(t,r)||vn(e,n)||vn(r,n))return null;var i=t[0],o=t[1],a=e[0],s=e[1],l=n[0],u=n[1],c=r[0],p=r[1],h=(i-a)*(u-p)-(o-s)*(l-c);return 0===h?null:[((i*s-o*a)*(l-c)-(i-a)*(l*p-u*c))/h,((i*s-o*a)*(u-p)-(o-s)*(l*p-u*c))/h]}(c,p,h,d);if(null!==f&&(u=d[0]!==h[0]?(f[0]-h[0])/(d[0]-h[0]):(f[1]-h[1])/(d[1]-h[1]),!((l=p[0]!==c[0]?(f[0]-c[0])/(p[0]-c[0]):(f[1]-c[1])/(p[1]-c[1]))>=1||l<=0||u>=1||u<=0))){var m=!s[f];m&&(s[f]=!0),a.push(e?e(f,t,n,c,p,l,r,i,h,d,u,m):f)}}function i(t,e){var n,r,i,a,s=o[t][e],l=o[t][e+1];return s[0]<l[0]?(n=s[0],r=l[0]):(n=l[0],r=s[0]),s[1]<l[1]?(i=s[1],a=l[1]):(i=l[1],a=s[1]),{minX:n,minY:i,maxX:r,maxY:a,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,a=[],s={};if(n){for(var l=[],u=0;u<o.length;u++)for(var c=0;c<o[u].length-1;c++)l.push(i(u,c));var p=So();p.load(l)}for(var h=0;h<o.length;h++)for(var d=0;d<o[h].length-1;d++)if(n)p.search(i(h,d)).forEach(function(t){r(h,d,t.ring,t.edge)});else for(var f=0;f<o.length;f++)for(var m=0;m<o[f].length-1;m++)r(h,d,f,m);return e||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a}(t,function(t,e,n,r,i,o,a,s,l,u,c,p){return[t,e,n,r,i,o,a,s,l,u,c,p]}),h=p.length;if(0==h){var d=[];for(s=0;s<i;s++)d.push(o([t.geometry.coordinates[s]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(bn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[s])}));var f=u(d);return e(),n(),f}var m=[],g=[];for(s=0;s<i;s++){m.push([]);for(var y=0;y<t.geometry.coordinates[s].length-1;y++)m[s].push([new ia(t.geometry.coordinates[s][(y+1).modulo(t.geometry.coordinates[s].length-1)],1,[s,y],[s,(y+1).modulo(t.geometry.coordinates[s].length-1)],void 0)]),g.push(new oa(t.geometry.coordinates[s][y],[s,(y-1).modulo(t.geometry.coordinates[s].length-1)],[s,y],void 0,void 0,!1,!0))}for(s=0;s<h;s++)m[p[s][1]][p[s][2]].push(new ia(p[s][0],p[s][5],[p[s][1],p[s][2]],[p[s][6],p[s][7]],void 0)),p[s][11]&&g.push(new oa(p[s][0],[p[s][1],p[s][2]],[p[s][6],p[s][7]],void 0,void 0,!0,!0));var _=g.length;for(s=0;s<m.length;s++)for(y=0;y<m[s].length;y++)m[s][y].sort(function(t,e){return t.param<e.param?-1:1});var v=[];for(s=0;s<_;s++)v.push({minX:g[s].coord[0],minY:g[s].coord[1],maxX:g[s].coord[0],maxY:g[s].coord[1],index:s});var b=So();for(b.load(v),s=0;s<m.length;s++)for(y=0;y<m[s].length;y++)for(var x=0;x<m[s][y].length;x++){M=x==m[s][y].length-1?m[s][(y+1).modulo(t.geometry.coordinates[s].length-1)][0].coord:m[s][y][x+1].coord;var w=b.search({minX:M[0],minY:M[1],maxX:M[0],maxY:M[1]})[0];m[s][y][x].nxtIsectAlongEdgeIn=w.index}for(s=0;s<m.length;s++)for(y=0;y<m[s].length;y++)for(x=0;x<m[s][y].length;x++){var M=m[s][y][x].coord,C=(w=b.search({minX:M[0],minY:M[1],maxX:M[0],maxY:M[1]})[0]).index;C<c?g[C].nxtIsectAlongRingAndEdge2=m[s][y][x].nxtIsectAlongEdgeIn:xn(g[C].ringAndEdge1,m[s][y][x].ringAndEdgeIn)?g[C].nxtIsectAlongRingAndEdge1=m[s][y][x].nxtIsectAlongEdgeIn:g[C].nxtIsectAlongRingAndEdge2=m[s][y][x].nxtIsectAlongEdgeIn}var L=[];for(s=0,y=0;y<i;y++){var E=s;for(x=0;x<t.geometry.coordinates[y].length-1;x++)g[s].coord[0]<g[E].coord[0]&&(E=s),s++;var k=g[E].nxtIsectAlongRingAndEdge2;for(x=0;x<g.length;x++)if(g[x].nxtIsectAlongRingAndEdge1==E||g[x].nxtIsectAlongRingAndEdge2==E){var T=x;break}var S=bn([g[T].coord,g[E].coord,g[k].coord],!0)?1:-1;L.push({isect:E,parent:-1,winding:S})}for(L.sort(function(t,e){return g[t.isect].coord>g[e.isect].coord?-1:1}),d=[];L.length>0;){var A=L.pop(),D=A.isect,I=A.parent,P=A.winding,O=d.length,N=[g[D].coord],R=D;if(g[D].ringAndEdge1Walkable)var F=g[D].ringAndEdge1,Y=g[D].nxtIsectAlongRingAndEdge1;else F=g[D].ringAndEdge2,Y=g[D].nxtIsectAlongRingAndEdge2;for(;!xn(g[D].coord,g[Y].coord);){N.push(g[Y].coord);var B=void 0;for(s=0;s<L.length;s++)if(L[s].isect==Y){B=s;break}if(null!=B&&L.splice(B,1),xn(F,g[Y].ringAndEdge1)){if(F=g[Y].ringAndEdge2,g[Y].ringAndEdge2Walkable=!1,g[Y].ringAndEdge1Walkable){var z={isect:Y};bn([g[R].coord,g[Y].coord,g[g[Y].nxtIsectAlongRingAndEdge2].coord],1==P)?(z.parent=I,z.winding=-P):(z.parent=O,z.winding=P),L.push(z)}R=Y,Y=g[Y].nxtIsectAlongRingAndEdge2}else F=g[Y].ringAndEdge1,g[Y].ringAndEdge1Walkable=!1,g[Y].ringAndEdge2Walkable&&(z={isect:Y},bn([g[R].coord,g[Y].coord,g[g[Y].nxtIsectAlongRingAndEdge1].coord],1==P)?(z.parent=I,z.winding=-P):(z.parent=O,z.winding=P),L.push(z)),R=Y,Y=g[Y].nxtIsectAlongRingAndEdge1}N.push(g[Y].coord),d.push(o([N],{index:O,parent:I,winding:P,netWinding:void 0}))}return f=u(d),e(),n(),f}(t),function(n){e.push(o(n.geometry.coordinates,t.properties))})}),u(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=H(t),e=H(e),i=i||100,o=o||10,new pa({x:t[0],y:t[1]},{x:e[0],y:e[1]},r=r||{}).Arc(i,{offset:o}).json()},t.lineSegment=Ue,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=K(t),r=K(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=_n(e,{precision:7});switch(r){case"Point":return Mn(t,i);case"MultiPoint":return wn(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return wn(t,Ge(t,i))}},t.lineArc=En,t.polygonToLine=Tn,t.lineToPolygon=An,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=U(t),i=t.properties;switch(n){case"LineString":case"MultiLineString":var a=[];return"LineString"===n&&(r=[r]),r.forEach(function(t){ha(t,e,a)}),1===a.length?s(a[0],i):c(a,i);case"Polygon":return o(Rn(r,e),i);case"MultiPolygon":return h(r.map(function(t){return Rn(t,e)}),i);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=jn,t.sector=function(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(Hn(n)===Hn(r))return oe(t,e,i);var a=U(t),s=[[a]];return k(En(t,e,n,r,i),function(t){s[0].push(t)}),s[0].push(a),o(s)},t.rhumbBearing=Ze,t.rhumbDistance=Je,t.rhumbDestination=Un,t.polygonTangents=function(t,e){var n,i,o,a=U(t),s=U(e);switch(K(e)){case"Polygon":n=s[0][0],i=s[0][0],o=qn(s[0][0],s[0][s[0].length-1],a);var l=Gn(s[0],a,o,void 0,n,i);n=l[0],i=l[1];break;case"MultiPolygon":n=s[0][0][0],i=s[0][0][0],o=qn(s[0][0][0],s[0][0][s[0][0].length-1],a),s.forEach(function(t){var e=Gn(t[0],a,o,void 0,n,i);n=e[0],i=e[1]})}return u([r(n),r(i)])},t.rewind=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=Rt(t));var i=[];switch(t.type){case"GeometryCollection":return O(t,function(t){Zn(t,n)}),t;case"FeatureCollection":return D(t,function(t){D(Zn(t,n),function(t){i.push(t)})}),u(i)}return Zn(t,n)},t.isobands=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},a=n.breaksProperties||[];if(Z(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!C(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(a))throw new Error("breaksProperties is not an Array");var s=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;Z(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return D(t,function(t){var e=U(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return U(t)[0]-U(e)[0]})}).sort(function(t,n){return e?U(t[0])[1]-U(n[0])[1]:U(n[0])[1]-U(t[0])[1]})}(t,r),a=[],s=0;s<o.length;s++){for(var l=o[s],u=[],c=0;c<l.length;c++){var p=l[c];u.push(p.properties[n]?p.properties[n]:0),!0===i&&(p.properties.matrixPosition=[s,c])}a.push(u)}return a}(t,{zProperty:r,flip:!0}),l=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var a=+e[i-1],s=+e[i],l=Kn(t,a,s-a),u=function(t){var e=[],n=[];l.forEach(function(t){var r=sn(o([t]));n.push(r),e.push({ring:t,area:r})}),n.sort(function(t,e){return e-t});var r=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}}),r}(),c=function(t){for(var e=u.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var a=o([e[r].lrCoordinates]),s=r+1;s<e.length;s++)if(!e[s].grouped){var l=o([e[s].lrCoordinates]);(function(t,e){for(var n=ue(l),r=0;r<n.features.length;r++)if(!Tt(n.features[r],e))return!1;return!0})(0,a)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0)}n.push(i)}return n}(),p={};p.groupedRings=c,p[n]=a+"-"+s,r.push(p)}return r}(s,e,r);return u((l=function(t,e,n){var r=V(n),i=r[0],o=r[1],a=(r[2]-r[0])/(e[0].length-1),s=(r[3]-r[1])/(e.length-1),l=function(t){t[0]=t[0]*a+i,t[1]=t[1]*s+o};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(l)})})}),t}(l,s,t)).map(function(t,e){if(a[e]&&!C(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,a[e]);return n[r]=t[r],h(t.groupedRings,n)}))},t.transformRotate=tr,t.transformScale=er,t.transformTranslate=function(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,a=r.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==a&&void 0!==a||(t=Rt(t)),k(t,function(t){var r=U(Un(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)}),t},t.lineOffset=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var i=K(t),o=t.properties;switch(i){case"LineString":return or(t,e,r);case"MultiLineString":var a=[];return R(t,function(t){a.push(or(t,e,r).geometry.coordinates)}),c(a,o);default:throw new Error("geometry "+i+" is not supported")}},t.polygonize=function(t){var e=ps.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):r.push(t)}),n.forEach(function(t){us.findEdgeRingContaining(t,r)&&r.push(t)}),u(r.map(function(t){return t.toPolygon()}))},t.booleanDisjoint=function(t,e){var n;return R(t,function(t){R(e,function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!lr(e,t);case"Polygon":return!Tt(t,e)}break;case"LineString":switch(e.type){case"Point":return!lr(t,e);case"LineString":return!function(t,e){return Ge(t,e).features.length>0}(t,e);case"Polygon":return!ur(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Tt(e,t);case"LineString":return!ur(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Tt(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(Tt(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)})}),n},t.booleanContains=function(t,e){var n=K(t),r=K(e),i=X(t),o=X(e),a=U(t),s=U(e);switch(n){case"Point":switch(r){case"Point":return pr(a,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(pr(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(pr(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return dn(o,i,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(dn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!dn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(dn(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!dn(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Tt(o,i,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!cr(V(t),V(e)))return!1;for(;r<e.coordinates.length-1;r++)if(Tt({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(i,o);case"Polygon":return function(t,e){if(!cr(V(t),V(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!Tt(e.coordinates[0][n],t))return!1;return!0}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Tt(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=K(t),r=K(e),i=X(t),o=X(e);switch(n){case"MultiPoint":switch(r){case"LineString":return hr(i,o);case"Polygon":return fr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return hr(o,i);case"LineString":return function(t,e){if(Ge(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),mr(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case"Polygon":return dr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return fr(o,i);case"LineString":return dr(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=Wn,t.booleanOverlap=vr,t.booleanPointOnLine=dn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return K(t)===K(e)&&new gs({precision:6}).compare(Wt(t),Wt(e))},t.booleanWithin=fn,t.clone=Rt,t.cleanCoords=Wt,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if(Z(t,"Point","Input must contain Points"),null==e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(null==r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=Rt(t),r=r||3;var o=new xs.DBSCAN,a=-1;return o.run(P(t),x(e,i),r,Nt).forEach(function(e){a++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=a,n.properties.dbscan="core"})}),o.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.dbscan=n.properties.cluster?"edge":"noise"}),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;Z(t,"Point","Input must contain Points");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=Rt(t));var o=P(t),a=o.slice(0,n),s=function(t,e,n,r){var i=[],o=[],a=[],s=[],l=!1,u=1e4,c=t.length,p=t[0].length,h=p>0,d=[];if(n)i="kmrand"==n?function(t,e){for(var n={},r=[],i=e<<2,o=t.length,a=t[0].length>0;r.length<e&&i-- >0;){var s=t[Math.floor(Math.random()*o)],l=a?s.join("_"):""+s;n[l]||(n[l]=!0,r.push(s))}if(r.length<e)throw new Error("Error initializating clusters");return r}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?Ms:Cs,r=[],i=t.length,o=t[0].length>0,a=t[Math.floor(Math.random()*i)];for(o&&a.join("_"),r.push(a);r.length<e;){for(var s=[],l=r.length,u=0,c=[],p=0;p<i;p++){for(var h=1/0,d=0;d<l;d++){var f=n(t[p],r[d]);f<=h&&(h=f)}s[p]=h}for(var m=0;m<i;m++)u+=s[m];for(var g=0;g<i;g++)c[g]={i:g,v:t[g],pr:s[g]/u,cs:0};c.sort(function(t,e){return t.pr-e.pr}),c[0].cs=c[0].pr;for(var y=1;y<i;y++)c[y].cs=c[y-1].cs+c[y].pr;for(var _=Math.random(),v=0;v<i-1&&c[v++].cs<_;);r.push(c[v-1].v)}return r}(t,e):n;else for(var f={};i.length<e;){var m=Math.floor(Math.random()*c);f[m]||(f[m]=!0,i.push(t[m]))}do{br(e,0,d);for(var g=0;g<c;g++){for(var y=1/0,_=0,v=0;v<e;v++)(s=h?Ls(t[g],i[v]):Math.abs(t[g]-i[v]))<=y&&(y=s,_=v);a[g]=_,d[_]++}for(var b=[],x=(o=[],0);x<e;x++)b[x]=h?br(p,0,b[x]):0,o[x]=i[x];if(h){for(var w=0;w<e;w++)i[w]=[];for(var M=0;M<c;M++)for(var C=b[a[M]],L=t[M],E=0;E<p;E++)C[E]+=L[E];l=!0;for(var k=0;k<e;k++){for(var T=i[k],S=b[k],A=o[k],D=d[k],I=0;I<p;I++)T[I]=S[I]/D||0;if(l)for(var P=0;P<p;P++)if(A[P]!=T[P]){l=!1;break}}}else{for(var O=0;O<c;O++)b[a[O]]+=t[O];for(var N=0;N<e;N++)i[N]=b[N]/d[N]||0;l=!0;for(var R=0;R<e;R++)if(o[R]!=i[R]){l=!1;break}}l=l||--u<=0}while(!l);return{it:1e4-u,k:e,idxs:a,centroids:i}}(o,n,a),l={};return s.centroids.forEach(function(t,e){l[e]=t}),D(t,function(t,e){var n=s.idxs[e];t.properties.cluster=n,t.properties.centroid=l[n]}),t},t.pointToLineDistance=nn,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==xr(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==xr(e,"line2"))throw new Error("line2 must be a LineString");for(var n=Ue(Wt(t)).features,r=Ue(Wt(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){return _(Ze(o[0],o[1]))===_(Ze(e[0],e[1]))}(0,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.resolution,a=i.minDistance,l=i.obstacles||u([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!M(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(a)throw new Error("options.minDistance is not yet implemented");var c=H(t),p=H(n);switch(t=r(c),n=r(p),K(l)){case"FeatureCollection":if(0===l.features.length)return s([c,p]);break;case"Polygon":l=u([e(X(l))]);break;default:throw new Error("invalid obstacles")}var h=l;h.features.push(t),h.features.push(n);var d=V(er(ee(V(h)),1.15));o||(o=Nt([d[0],d[1]],[d[2],d[1]],i)/100),h.features.pop(),h.features.pop();for(var f=d[0],m=d[1],g=d[2],y=d[3],_=o/Nt([f,m],[g,m],i)*(g-f),v=o/Nt([f,m],[f,y],i)*(y-m),b=g-f,x=y-m,w=(b-Math.floor(b/_)*_)/2,L=[],E=[],k=[],T=[],S=1/0,A=1/0,D=y-(x-Math.floor(x/v)*v)/2,I=0;D>=m;){for(var P=[],O=[],N=f+w,R=0;N<=g;){var F=r([N,D]),Y=function(t,e){for(var n=0;n<e.features.length;n++)if(Tt(t,e.features[n]))return!0;return!1}(F,l);P.push(Y?0:1),O.push(N+"|"+D);var B=Nt(F,t);!Y&&B<S&&(S=B,k={x:R,y:I});var z=Nt(F,n);!Y&&z<A&&(A=z,T={x:R,y:I}),N+=_,R++}E.push(P),L.push(O),D-=v,I++}var j=new Mr(E,{diagonal:!0}),U=[c];return Es.search(j,j.grid[k.y][k.x],j.grid[T.y][T.x]).forEach(function(t){var e=L[t.x][t.y].split("|");U.push([+e[0],+e[1]])}),U.push(p),Wt(s(U))},t.voronoi=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return Z(t,"Point","points"),u(function(){function t(t){return new Jr(t.map(function(r,i){var o=[Math.round(e(r,i,t)/Ns)*Ns,Math.round(n(r,i,t)/Ns)*Ns];return o.index=i,o.data=r,o}),r)}var e=Er,n=kr,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:ks(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:ks(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t}().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(Kr))},t.ellipse=Qr,t.centerMean=ti,t.centerMedian=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!M(n))throw new Error("counter must be a number");var r=e.weight,i=ti(t,{weight:e.weight}),o=u([]);return D(t,function(t){o.features.push(le(t,{weight:t.properties[r]}))}),o.properties={tolerance:e.tolerance,medianCandidates:[]},ei(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!M(n))throw new Error("steps must be a number");if(!C(i))throw new Error("properties must be a number");var o=P(t).length,a=ti(t,{weight:r}),s=0,l=0,c=0;D(t,function(t){var e=t.properties[r]||1,n=ni(U(t),U(a));s+=Math.pow(n.x,2)*e,l+=Math.pow(n.y,2)*e,c+=n.x*n.y*e});var p=s-l,h=Math.sqrt(Math.pow(p,2)+4*Math.pow(c,2)),d=Math.atan((p+h)/(2*c)),f=180*d/Math.PI,m=0,g=0,y=0;D(t,function(t){var e=t.properties[r]||1,n=ni(U(t),U(a));m+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*e,g+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*e,y+=e});var _=Math.sqrt(2*m/y),v=Math.sqrt(2*g/y),b=Qr(a,_,v,{units:"degrees",angle:f,steps:n,properties:i}),x=At(t,u([b])),w={meanCenterCoordinates:U(a),semiMajorAxis:_,semiMinorAxis:v,numberOfFeatures:o,angle:f,percentageWithinEllipse:100*P(x).length/o};return b.properties.standardDeviationalEllipse=w,b},t.difference=function(t,n){var r=X(t),i=X(n),o=t.properties||{};if(r=Ai(r),i=Ai(i),!r)return null;if(!i)return e(r,o);var a=new qu,s=a.read(r),l=a.read(i),u=Zh.difference(s,l);return u.isEmpty()?null:e((new Wu).write(u),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return O(t,function(t){var n=ao(t,e,r,i);n&&o.push(n)}),u(o);case"FeatureCollection":return D(t,function(t){var n=ao(t,e,r,i);n&&D(n,function(t){t&&o.push(t)})}),u(o)}return ao(t,e,r,i)},t.union=co,t.intersect=po,t.dissolve=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;Z(t,"Polygon","dissolve");var r=Rt(t),i=r.features,o=[];i.forEach(function(t,e){t.properties.origIndexPosition=e});var a=je();for(var l in a.load(r),i){var u=i[l],c=!1;if(a.search(u).features.forEach(function(t){u=i[l];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=ho(e,o);0!==r&&(e-=r)}if(e!==+l){var p=i[e];p&&u&&(void 0!==n&&p.properties[n]!==u.properties[n]||vr(u,p)&&function(t,e){return Ge(s(P(u)),s(P(e))).features.length>0}(0,p)&&(i[l]=co(u,p),o.push(t.properties.origIndexPosition),o.sort(function(t,e){return t-e}),a.remove(t),i.splice(e,1),u.properties.origIndexPosition=l,a.remove(u,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),c=!0))}}),c){if(!u)continue;u.properties.origIndexPosition=l,a.insert(u),l--}}return i.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),r},t.hexGrid=fo,t.mask=function(t,e){var n=o([[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]),r=function(t){var e=[],n=[];return R(t,function(t){var r=t.geometry.coordinates,i=r[0],a=r.slice(1);e.push(o([i])),a.forEach(function(t){n.push(o([t]))})}),[u(e),u(n)]}(t),i=r[0],a=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),R(e,function(t){r.push(t.geometry.coordinates[0])}),R(n,function(t){r.push(t.geometry.coordinates[0])}),o(r)}(n,i=mo(i),a=mo(a))},t.squareGrid=yo,t.triangleGrid=_o,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if(Z(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var a,s=V(t);switch(r){case"point":case"points":a=yn(s,e,n);break;case"square":case"squares":a=yo(s,e,n);break;case"hex":case"hexes":a=fo(s,e,n);break;case"triangle":case"triangles":a=_o(s,e,n);break;default:throw new Error("invalid gridType")}var l=[];return D(a,function(e){var a=0,s=0;D(t,function(t){var l,u=Nt("point"===r?e:le(e),t,n);if(void 0!==i&&(l=t.properties[i]),void 0===l&&(l=t.geometry.coordinates[2]),void 0===l)throw new Error("zValue is missing");0===u&&(a=l);var c=1/Math.pow(u,o);s+=c,a+=c*l});var u=Rt(e);u.properties[i]=a/s,l.push(u)}),u(l)},t.pointOnSurface=on,t.polygonToLineString=Tn,t.lineStringToPolygon=An,t.inside=Tt,t.within=At,t.bezier=te,t.nearest=Ee,t.pointOnLine=We,t.lineDistance=pn,t.radians2degrees=v,t.degrees2radians=b,t.distanceToDegrees=y,t.distanceToRadians=g,t.radiansToDistance=m,t.bearingToAngle=_,t.convertDistance=x,t.toMercator=Ke,t.toWgs84=Qe,t.randomPosition=ri,t.randomPoint=ii,t.randomPolygon=oi,t.randomLineString=ai,t.getCluster=li,t.clusterEach=ui,t.clusterReduce=ci,t.createBins=pi,t.applyFilter=hi,t.propertiesContainsFilter=di,t.filterProperties=fi,t.earthRadius=vo,t.factors=bo,t.unitsFactors=xo,t.areaFactors=wo,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=a,t.lineString=s,t.lineStrings=l,t.featureCollection=u,t.multiLineString=c,t.multiPoint=p,t.multiPolygon=h,t.geometryCollection=d,t.round=f,t.radiansToLength=m,t.lengthToRadians=g,t.lengthToDegrees=y,t.bearingToAzimuth=_,t.radiansToDegrees=v,t.degreesToRadians=b,t.convertLength=x,t.convertArea=w,t.isNumber=M,t.isObject=C,t.validateBBox=L,t.validateId=E,t.getCoord=H,t.getCoords=U,t.containsNumber=G,t.geojsonType=q,t.featureOf=W,t.collectionOf=Z,t.getGeom=X,t.getGeomType=J,t.getType=K,t.coordEach=k,t.coordReduce=T,t.propEach=S,t.propReduce=A,t.featureEach=D,t.featureReduce=I,t.coordAll=P,t.geomEach=O,t.geomReduce=N,t.flattenEach=R,t.flattenReduce=F,t.segmentEach=Y,t.segmentReduce=B,t.lineEach=z,t.lineReduce=j,Object.defineProperty(t,"__esModule",{value:!0})}(e)},WYrj:function(t,e,n){!function(t){"use strict";var e=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],r=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];n("wd/R").defineLocale("dv",{months:e,monthsShort:e,weekdays:r,weekdaysShort:r,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(t){return"\u0789\u078a"===t},meridiem:function(t,e,n){return t<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}()},Wg1o:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t[t.PlanTab=0]="PlanTab",t[t.AlertsTab=1]="AlertsTab",t[t.BookTab=2]="BookTab",t}({})},WxRl:function(t,e,n){!function(t){"use strict";var e="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function n(t,e,n,r){var i=t;switch(n){case"s":return r||e?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return i+(r||e)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(r||e?" perc":" perce");case"mm":return i+(r||e?" perc":" perce");case"h":return"egy"+(r||e?" \xf3ra":" \xf3r\xe1ja");case"hh":return i+(r||e?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(r||e?" nap":" napja");case"dd":return i+(r||e?" nap":" napja");case"M":return"egy"+(r||e?" h\xf3nap":" h\xf3napja");case"MM":return i+(r||e?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(r||e?" \xe9v":" \xe9ve");case"yy":return i+(r||e?" \xe9v":" \xe9ve")}return""}function r(t){return(t?"":"[m\xfalt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},X2CI:function(t,e,n){"use strict";var r=n("CcnG"),i=n("eYWh"),o=n("ka1Z"),a=n("Ip0R"),s=n("wkhI"),l=n("3ZaB"),u=r.gb({encapsulation:0,styles:[""],data:{}});function c(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["class","transport-mode"],["role","radio"],["tabindex","0"]],[[2,"selected",null],[1,"aria-checked",0],[1,"aria-label",0]],[[null,"click"],[null,"keyup.enter"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onClick(t.context.$implicit)&&r),"keyup.enter"===e&&(r=!1!==i.onClick(t.context.$implicit)&&r),r},null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["class","icon"],["iconClasses","middle md"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(3,0,null,null,1,"div",[["class","mode-name"]],null,null,null,null,null)),(t()(),r.zb(4,null,["",""]))],function(t,e){t(e,2,0,e.context.$implicit.icon,e.context.$implicit.icon,"middle md",!1)},function(t,e){var n=e.component;t(e,0,0,e.context.$implicit.id===n.selectedMode.id,e.context.$implicit.id===n.selectedMode.id,e.context.$implicit.name+" view"),t(e,4,0,e.context.$implicit.name)})}function p(t){return r.Bb(0,[(t()(),r.Z(16777216,null,null,1,null,c)),r.hb(1,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.modes)},null)}var h=function(){function t(){this.selectTab=new r.k}return t.prototype.onClick=function(t){this.selectedTab=t,this.selectTab.emit(t)},t}(),d=r.gb({encapsulation:0,styles:[""],data:{}});function f(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-icon",[["class","icon"],["iconClasses","xs"],["iconName","tick"]],null,null,null,i.b,i.a)),r.hb(1,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){t(e,1,0,"tick",e.parent.context.$implicit.label,"xs",!1)},null)}function m(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"a",[["class","btn btn-default"],["role","radio"],["tabindex","0"],["type","button"]],[[2,"selected",null],[1,"aria-checked",0],[1,"aria-label",0]],[[null,"click"],[null,"keyup.enter"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onClick(t.context.$implicit)&&r),"keyup.enter"===e&&(r=!1!==i.onClick(t.context.$implicit)&&r),r},null,null)),(t()(),r.ib(1,0,null,null,5,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,f)),r.hb(3,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(4,0,null,null,0,"input",[["autocomplete","off"],["name","inputTab"],["tabindex","-1"],["type","radio"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,1,"span",[["class","tab-name"]],null,null,null,null,null)),(t()(),r.zb(6,null,["",""]))],function(t,e){t(e,3,0,e.context.$implicit.id===e.component.selectedTab.id)},function(t,e){var n=e.component;t(e,0,0,e.context.$implicit.id===n.selectedTab.id,e.context.$implicit.id===n.selectedTab.id,"view "+e.context.$implicit.label),t(e,6,0,e.context.$implicit.label)})}function g(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","mode-tab-list btn-group btn-group-justified"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,m)),r.hb(2,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.tabs)},null)}var y=n("3g9f"),_=n("5IX/"),v=n("T1BI"),b=n("iUDz"),x=n("0u4Y"),w=n("64ZZ"),M=n("RmBF"),C=n("9lgY"),L=n("lR7y"),E=n("+9V0"),k=r.gb({encapsulation:0,styles:[".stop-search-container[_ngcontent-%COMP%]{position:relative;border:1px solid #ccc;border-top:4px solid #ccc;width:100%}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container{display:block;border-bottom:0;min-height:38px}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .error-popover{display:block;right:35px;top:-3px;left:auto;border-radius:4px;line-height:16px}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-input::-ms-clear{display:none}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container{width:100%;box-shadow:0px 2px 0.5em rgba(0,0,0,0.4);margin:0}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container svg.tp-icon.track-icon{margin:1px 3px 0 0}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .autosuggest-buttons .item:first-child{border-top:1px solid #ccc}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .autosuggest-dropdown-header{display:none}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .item:hover, .stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .item:focus, .stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .item:active, .stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .item.active{background-color:inherit;outline:4px solid #757575}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .list-group-item-title{font-weight:500}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline{margin:0 0 0  -5px;font-size:0.95em;font-weight:400}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline li:not(:first-child){padding:0}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-clear-button{height:17px}.stop-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]{color:#555;line-height:1.1em}.stop-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:3px}.stop-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-detail[_ngcontent-%COMP%]   .item-suburb[_ngcontent-%COMP%]{font-size:.95em;font-weight:400}"],data:{}});function T(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"tni-mode-summary",[],null,null,null,y.b,y.a)),r.wb(512,null,_.a,_.a,[]),r.wb(512,null,v.a,v.a,[]),r.hb(3,49152,null,0,b.a,[_.a,v.a],{location:[0,"location"]},null)],function(t,e){t(e,3,0,e.context.item)},null)}function S(t){return r.Bb(0,[r.xb(402653184,1,{autosuggestEl:0}),(t()(),r.ib(1,0,null,null,3,"div",[["class","stop-search-container"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,1,"tni-autosuggest",[["ariaLabel","Search Stations: Start typing, then use up and down keys and enter to select from list."],["displayProperty","shortName"],["ignoreKeyEvents","['Enter']"]],null,[[null,"selectItemChange"],[null,"inputTextChange"],["document","click"]],function(t,e,n){var i=!0,o=t.component;return"document:click"===e&&(i=!1!==r.sb(t,3).onDocumentClick(n)&&i),"selectItemChange"===e&&(i=!1!==o.stopChange.emit(n)&&i),"inputTextChange"===e&&(i=!1!==o.onInputTextChange(n)&&i),i},x.b,x.a)),r.hb(3,4767744,[[1,4],["autosuggest",4]],0,w.a,[l.a],{id:[0,"id"],required:[1,"required"],placeholder:[2,"placeholder"],ariaLabel:[3,"ariaLabel"],searchFn:[4,"searchFn"],displayProperty:[5,"displayProperty"],selectItem:[6,"selectItem"],resultTemplate:[7,"resultTemplate"],errorMessage:[8,"errorMessage"],textValue:[9,"textValue"],ignoreKeyEvents:[10,"ignoreKeyEvents"]},{selectItemChange:"selectItemChange",inputTextChange:"inputTextChange"}),(t()(),r.Z(0,[["template",2]],null,0,null,T))],function(t,e){var n=e.component;t(e,3,1,[n.id,!0,n.placeholder,"Search Stations: Start typing, then use up and down keys and enter to select from list.",n.searchStops,"shortName",n.stop,r.sb(e,4),n.errorMessage,n.textValue,"['Enter']"])},null)}var A=n("NOf9"),D=n("E8FJ"),I=n("rE3e"),P=n("VtCN"),O=n("UTGZ"),N=n("gTB4"),R=n("baxS"),F=n("3qSw"),Y=n("k0ah"),B=n("llQp"),z=function(){function t(){this.selectLink=new r.k}return t.prototype.onLinkClick=function(t){this.selectLink.emit(t)},t}(),j=r.gb({encapsulation:0,styles:[""],data:{}});function V(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"a",[["class","panel-footer-links"]],[[8,"href",4],[2,"hidden-xs",null]],[[null,"click"],[null,"keyup.enter"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onLinkClick(t.context.$implicit)&&r),"keyup.enter"===e&&(r=!1!==i.onLinkClick(t.context.$implicit)&&r),r},null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","tp-icon xs"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(4,null,["",""])),(t()(),r.ib(5,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(6,null,["",""]))],function(t,e){t(e,2,0,r.kb(1,"",e.context.$implicit.linkIcon.iconName,""),r.kb(1,"",e.context.$implicit.linkIcon.iconTitle,""),"tp-icon xs",e.context.$implicit.linkIcon.iconAriaHidden)},function(t,e){t(e,0,0,r.kb(1,"",e.context.$implicit.linkPath,""),e.context.$implicit.hideMobile),t(e,4,0,e.context.$implicit.linkName),t(e,6,0,e.context.$implicit.linkAriaLabel)})}function H(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[["class","panel-footer collapse-footer "]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,V)),r.hb(2,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),r.rb(null,0)],function(t,e){t(e,2,0,e.component.footerLinks)},null)}var U=function(){function t(){this.selectMap=new r.k,this.toggleCard=new r.k,this.selectFooterLink=new r.k}return t.prototype.displayMap=function(t){this.selectMap.emit(t)},t.prototype.onToggleCard=function(t,e){this.toggleCard.emit({expanded:t,card:e})},t.prototype.onSelectFooterLink=function(t){this.selectFooterLink.emit(t)},t}(),G=r.gb({encapsulation:0,styles:[".card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .panel-footer a{display:table-cell;text-align:center;text-decoration:none}.card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .panel-footer a .tp-icon{color:#1D69B4;fill:#1D69B4}.card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .panel-footer a svg{vertical-align:-5px}.card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .collapse-footer{padding:0;line-height:2em}.card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .collapse-footer a{text-decoration-line:none}.card-list-main-container[_ngcontent-%COMP%]   .card-icons[_ngcontent-%COMP%]{line-height:15px;padding:0;border:none}.card-list-main-container[_ngcontent-%COMP%]   .card-icons[_ngcontent-%COMP%]     .tp-icon{width:25px;height:25px;min-width:25px}.card-list-main-container[_ngcontent-%COMP%]   .card-icons[_ngcontent-%COMP%]     .tp-icon   svg{fill:#000000;color:#000000}"],data:{}});function q(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-route-icon",[["iconClass","sm-md"]],null,null,null,R.b,R.a)),r.hb(1,573440,null,0,F.a,[],{lineNumber:[0,"lineNumber"],iconClass:[1,"iconClass"],iconBackgroundColour:[2,"iconBackgroundColour"],iconFontColour:[3,"iconFontColour"]},null)],function(t,e){t(e,1,0,e.parent.context.$implicit.lineNumber,"sm-md",e.parent.context.$implicit.foregroundColour,e.parent.context.$implicit.fontColour)},null)}function W(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","card-icons"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){t(e,2,0,e.context.$implicit.iconName,e.context.$implicit.iconTitle,e.context.$implicit.iconClasses,e.context.$implicit.iconAriaHidden)},null)}function Z(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,1,"span",[["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(3,null,["",""]))],null,function(t,e){t(e,3,0,e.parent.context.$implicit.bodyMessage)})}function X(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,27,"div",[["class","col-xs-12 tile-item-wrapper"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,26,"div",[["class","tile-item"]],null,null,null,null,null)),r.hb(2,278528,null,0,a.j,[r.p,r.i,r.y],{ngStyle:[0,"ngStyle"]},null),r.ub(3,{"border-left-color":0}),(t()(),r.ib(4,0,null,null,23,"div",[["class","panel-group tile-item--panel-group"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,22,"tni-collapsible-card",[],null,[[null,"toggle"]],function(t,e,n){var r=!0;return"toggle"===e&&(r=!1!==t.component.onToggleCard(n,t.context.$implicit)&&r),r},Y.b,Y.a)),r.hb(6,49152,null,0,B.a,[],{ariaLabel:[0,"ariaLabel"],expanded:[1,"expanded"],index:[2,"index"]},{toggle:"toggle"}),(t()(),r.ib(7,0,null,0,6,"div",[["card-header",""],["class","panel-heading"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,q)),r.hb(9,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,W)),r.hb(11,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.ib(12,0,null,null,1,"h4",[["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(13,null,["",""])),(t()(),r.ib(14,0,null,1,2,"div",[["card-body",""]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,Z)),r.hb(16,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(17,0,null,2,10,"div",[["card-footer",""]],null,null,null,null,null)),(t()(),r.ib(18,0,null,null,9,"card-footer",[["class","card-footer-container"]],null,[[null,"selectLink"]],function(t,e,n){var r=!0;return"selectLink"===e&&(r=!1!==t.component.onSelectFooterLink(n)&&r),r},H,j)),r.hb(19,49152,null,0,z,[],{footerLinks:[0,"footerLinks"]},{selectLink:"selectLink"}),(t()(),r.ib(20,0,[["other",1]],0,7,"div",[["class","visible-xs-inline-block"],["other-links",""]],null,null,null,null,null)),(t()(),r.ib(21,0,null,null,6,"a",[["class","result-item-map visible-xs-inline-block panel-footer-links"],["href","javascript:;"],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.displayMap(t.context.$implicit.headerName)&&r),r},null,null)),(t()(),r.ib(22,0,null,null,1,"tni-icon",[["iconClasses","tp-icon sm"],["iconName","map"],["iconTitle","Open map view"]],null,null,null,i.b,i.a)),r.hb(23,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(24,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Map"])),(t()(),r.ib(26,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Open map view"]))],function(t,e){var n=t(e,3,0,e.context.$implicit.lineColour);t(e,2,0,n),t(e,6,0,e.context.$implicit.headerName,e.context.$implicit.expanded,e.context.index),t(e,9,0,e.context.$implicit.showRouteIcon),t(e,11,0,e.context.$implicit.iconList),t(e,16,0,""!=e.context.$implicit.bodyMessage),t(e,19,0,e.context.$implicit.footerLinks),t(e,23,0,"map","Open map view","tp-icon sm",!1)},function(t,e){t(e,13,0,e.context.$implicit.headerName)})}function J(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","card-list-main-container row row-flex row-flex-start"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,X)),r.hb(2,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.list)},null)}var K=n("5WcC"),Q=n("lUqE"),$=n("AfO8"),tt=n("MCcF"),et=n("oLF2");n.d(e,"a",function(){return ht});var nt=r.gb({encapsulation:2,styles:["\n    .mapboxgl-map{font:12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right,.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;overflow:hidden;background:#fff}.mapboxgl-ctrl-group:not(:empty){-moz-box-shadow:0 0 2px rgba(0,0,0,0.1);-webkit-box-shadow:0 0 2px rgba(0,0,0,0.1);box-shadow:0 0 0 2px rgba(0,0,0,0.1)}.mapboxgl-ctrl-group>button{width:30px;height:30px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group>button+button{border-top:1px solid #ddd}.mapboxgl-ctrl>button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl>button:hover{background-color:rgba(0,0,0,0.05)}.mapboxgl-ctrl-icon,.mapboxgl-ctrl-icon>.mapboxgl-ctrl-compass-arrow{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.mapboxgl-ctrl-icon{padding:5px}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='m 7,9 c -0.554,0 -1,0.446 -1,1 0,0.554 0.446,1 1,1 l 6,0 c 0.554,0 1,-0.446 1,-1 0,-0.554 -0.446,-1 -1,-1 z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='M 10 6 C 9.446 6 9 6.4459904 9 7 L 9 9 L 7 9 C 6.446 9 6 9.446 6 10 C 6 10.554 6.446 11 7 11 L 9 11 L 9 13 C 9 13.55401 9.446 14 10 14 C 10.554 14 11 13.55401 11 13 L 11 11 L 13 11 C 13.554 11 14 10.554 14 10 C 14 9.446 13.554 9 13 9 L 11 9 L 11 7 C 11 6.4459904 10.554 6 10 6 z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate:disabled{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting{-webkit-animation:mapboxgl-spin 2s infinite linear;-moz-animation:mapboxgl-spin 2s infinite linear;-o-animation:mapboxgl-spin 2s infinite linear;-ms-animation:mapboxgl-spin 2s infinite linear;animation:mapboxgl-spin 2s infinite linear}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-moz-keyframes mapboxgl-spin{0%{-moz-transform:rotate(0deg)}100%{-moz-transform:rotate(360deg)}}@-o-keyframes mapboxgl-spin{0%{-o-transform:rotate(0deg)}100%{-o-transform:rotate(360deg)}}@-ms-keyframes mapboxgl-spin{0%{-ms-transform:rotate(0deg)}100%{-ms-transform:rotate(360deg)}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M 5 4 C 4.5 4 4 4.5 4 5 L 4 6 L 4 9 L 4.5 9 L 5.7773438 7.296875 C 6.7771319 8.0602131 7.835765 8.9565728 8.890625 10 C 7.8257121 11.0633 6.7761791 11.951675 5.78125 12.707031 L 4.5 11 L 4 11 L 4 15 C 4 15.5 4.5 16 5 16 L 9 16 L 9 15.5 L 7.2734375 14.205078 C 8.0428931 13.187886 8.9395441 12.133481 9.9609375 11.068359 C 11.042371 12.14699 11.942093 13.2112 12.707031 14.21875 L 11 15.5 L 11 16 L 14 16 L 15 16 C 15.5 16 16 15.5 16 15 L 16 14 L 16 11 L 15.5 11 L 14.205078 12.726562 C 13.177985 11.949617 12.112718 11.043577 11.037109 10.009766 C 12.151856 8.981061 13.224345 8.0798624 14.228516 7.3046875 L 15.5 9 L 16 9 L 16 5 C 16 4.5 15.5 4 15 4 L 11 4 L 11 4.5 L 12.703125 5.7773438 C 11.932647 6.7864834 11.026693 7.8554712 9.9707031 8.9199219 C 8.9584739 7.8204943 8.0698767 6.7627188 7.3046875 5.7714844 L 9 4.5 L 9 4 L 6 4 L 5 4 z '/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23000000;' d='M 4.2421875 3.4921875 A 0.750075 0.750075 0 0 0 3.71875 4.78125 L 5.9648438 7.0273438 L 4 8.5 L 4 9 L 8 9 C 8.500001 8.9999988 9 8.4999992 9 8 L 9 4 L 8.5 4 L 7.0175781 5.9550781 L 4.78125 3.71875 A 0.750075 0.750075 0 0 0 4.2421875 3.4921875 z M 15.734375 3.4921875 A 0.750075 0.750075 0 0 0 15.21875 3.71875 L 12.984375 5.953125 L 11.5 4 L 11 4 L 11 8 C 11 8.4999992 11.499999 8.9999988 12 9 L 16 9 L 16 8.5 L 14.035156 7.0273438 L 16.28125 4.78125 A 0.750075 0.750075 0 0 0 15.734375 3.4921875 z M 4 11 L 4 11.5 L 5.9648438 12.972656 L 3.71875 15.21875 A 0.75130096 0.75130096 0 1 0 4.78125 16.28125 L 7.0273438 14.035156 L 8.5 16 L 9 16 L 9 12 C 9 11.500001 8.500001 11.000001 8 11 L 4 11 z M 12 11 C 11.499999 11.000001 11 11.500001 11 12 L 11 16 L 11.5 16 L 12.972656 14.035156 L 15.21875 16.28125 A 0.75130096 0.75130096 0 1 0 16.28125 15.21875 L 14.035156 12.972656 L 16 11.5 L 16 11 L 12 11 z '/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass>.mapboxgl-ctrl-compass-arrow{width:20px;height:20px;margin:5px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpolygon fill='%23333333' points='6,9 10,1 14,9'/%3E %3Cpolygon fill='%23CCCCCC' points='6,11 10,19 14,11 '/%3E %3C/svg%3E\");background-repeat:no-repeat;display:inline-block}a.mapboxgl-ctrl-logo{width:85px;height:21px;margin:0 0 -3px -3px;display:block;background-repeat:no-repeat;cursor:pointer;background-image:url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 84.49 21' style='enable-background:new 0 0 84.49 21;' xml:space='preserve'%3E%3Cg%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M83.25,14.26c0,0.12-0.09,0.21-0.21,0.21h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39l-1.44,2.39 c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68L76.2,6.84 c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.4-2.35 c0.06-0.11,0.18-0.17,0.3-0.17H83c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.37,3.63l2.43,3.67 C83.24,14.18,83.25,14.22,83.25,14.26z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M66.24,9.59c-0.39-1.88-1.96-3.28-3.84-3.28c-1.03,0-2.03,0.42-2.73,1.18V3.51c0-0.13-0.1-0.23-0.23-0.23h-1.4 c-0.13,0-0.23,0.11-0.23,0.23v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.11,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.73,1.18 c1.88,0,3.45-1.41,3.84-3.29C66.37,10.79,66.37,10.18,66.24,9.59L66.24,9.59z M62.08,13c-1.32,0-2.39-1.11-2.41-2.48v-0.06 c0.02-1.38,1.09-2.48,2.41-2.48s2.42,1.12,2.42,2.51S63.41,13,62.08,13z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M71.67,6.32c-1.98-0.01-3.72,1.35-4.16,3.29c-0.13,0.59-0.13,1.19,0,1.77c0.44,1.94,2.17,3.32,4.17,3.3 c2.35,0,4.26-1.87,4.26-4.19S74.04,6.32,71.67,6.32z M71.65,13.01c-1.33,0-2.42-1.12-2.42-2.51s1.08-2.52,2.42-2.52 c1.33,0,2.42,1.12,2.42,2.51S72.99,13,71.65,13.01L71.65,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M62.08,7.98c-1.32,0-2.39,1.11-2.41,2.48v0.06C59.68,11.9,60.75,13,62.08,13s2.42-1.12,2.42-2.51 S63.41,7.98,62.08,7.98z M62.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25 c0.63,0,1.17,0.57,1.17,1.27C63.24,11.2,62.73,11.76,62.08,11.76z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M71.65,7.98c-1.33,0-2.42,1.12-2.42,2.51S70.32,13,71.65,13s2.42-1.12,2.42-2.51S72.99,7.98,71.65,7.98z M71.65,11.76c-0.64,0-1.17-0.57-1.17-1.27c0-0.7,0.53-1.26,1.17-1.26s1.17,0.57,1.17,1.27C72.82,11.21,72.29,11.76,71.65,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M45.74,6.53h-1.4c-0.13,0-0.23,0.11-0.23,0.23v0.73c-0.71-0.75-1.7-1.18-2.73-1.18 c-2.17,0-3.94,1.87-3.94,4.19s1.77,4.19,3.94,4.19c1.04,0,2.03-0.43,2.73-1.19v0.73c0,0.13,0.1,0.23,0.23,0.23h1.4 c0.13,0,0.23-0.11,0.23-0.23V6.74c0-0.12-0.09-0.22-0.22-0.22C45.75,6.53,45.75,6.53,45.74,6.53z M44.12,10.53 C44.11,11.9,43.03,13,41.71,13s-2.42-1.12-2.42-2.51s1.08-2.52,2.4-2.52c1.33,0,2.39,1.11,2.41,2.48L44.12,10.53z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M41.71,7.98c-1.33,0-2.42,1.12-2.42,2.51S40.37,13,41.71,13s2.39-1.11,2.41-2.48v-0.06 C44.1,9.09,43.03,7.98,41.71,7.98z M40.55,10.49c0-0.7,0.52-1.27,1.17-1.27c0.64,0,1.14,0.56,1.17,1.25v0.04 c-0.01,0.68-0.53,1.24-1.17,1.24C41.08,11.75,40.55,11.19,40.55,10.49z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M52.41,6.32c-1.03,0-2.03,0.42-2.73,1.18V6.75c0-0.13-0.1-0.23-0.23-0.23h-1.4c-0.13,0-0.23,0.11-0.23,0.23 v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.1,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.74,1.18c2.17,0,3.94-1.87,3.94-4.19 S54.58,6.32,52.41,6.32z M52.08,13.01c-1.32,0-2.39-1.11-2.42-2.48v-0.07c0.02-1.38,1.09-2.49,2.4-2.49c1.32,0,2.41,1.12,2.41,2.51 S53.4,13,52.08,13.01L52.08,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M52.08,7.98c-1.32,0-2.39,1.11-2.42,2.48v0.06c0.03,1.38,1.1,2.48,2.42,2.48s2.41-1.12,2.41-2.51 S53.4,7.98,52.08,7.98z M52.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25c0.63,0,1.17,0.58,1.17,1.27 S52.72,11.76,52.08,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M36.08,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68c0-0.98-0.74-1.71-1.62-1.71 c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.11,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V6.74 c0.01-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03c1.09,0,2.09,0.6,2.6,1.55 c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78L36.08,14.24z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M84.34,13.59l-0.07-0.13l-1.96-2.99l1.94-2.95c0.44-0.67,0.26-1.56-0.41-2.02c-0.02,0-0.03,0-0.04-0.01 c-0.23-0.15-0.5-0.22-0.78-0.22h-1.61c-0.56,0-1.08,0.29-1.37,0.78L79.72,6.6l-0.34-0.56C79.09,5.56,78.57,5.27,78,5.27h-1.6 c-0.6,0-1.13,0.37-1.35,0.92c-2.19-1.66-5.28-1.47-7.26,0.45c-0.35,0.34-0.65,0.72-0.89,1.14c-0.9-1.62-2.58-2.72-4.5-2.72 c-0.5,0-1.01,0.07-1.48,0.23V3.51c0-0.82-0.66-1.48-1.47-1.48h-1.4c-0.81,0-1.47,0.66-1.47,1.47v3.75 c-0.95-1.36-2.5-2.18-4.17-2.19c-0.74,0-1.46,0.16-2.12,0.47c-0.24-0.17-0.54-0.26-0.84-0.26h-1.4c-0.45,0-0.87,0.21-1.15,0.56 c-0.02-0.03-0.04-0.05-0.07-0.08c-0.28-0.3-0.68-0.47-1.09-0.47h-1.39c-0.3,0-0.6,0.09-0.84,0.26c-0.67-0.3-1.39-0.46-2.12-0.46 c-1.83,0-3.43,1-4.37,2.5c-0.2-0.46-0.48-0.89-0.83-1.25c-0.8-0.81-1.89-1.25-3.02-1.25h-0.01c-0.89,0.01-1.75,0.33-2.46,0.88 c-0.74-0.57-1.64-0.88-2.57-0.88H28.1c-0.29,0-0.58,0.03-0.86,0.11c-0.28,0.06-0.56,0.16-0.82,0.28c-0.21-0.12-0.45-0.18-0.7-0.18 h-1.4c-0.82,0-1.47,0.66-1.47,1.47v7.5c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.48-0.66,1.48-1.48l0,0V9.79 c0.03-0.36,0.23-0.59,0.36-0.59c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41c0.82,0,1.47-0.66,1.47-1.47 l-0.01-4.57c0.06-0.32,0.25-0.47,0.35-0.47c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41 c0.82,0,1.47-0.66,1.47-1.47v-0.38c0.96,1.29,2.46,2.06,4.06,2.06c0.74,0,1.46-0.16,2.12-0.47c0.24,0.17,0.54,0.26,0.84,0.26h1.39 c0.3,0,0.6-0.09,0.84-0.26v2.01c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.47-0.66,1.47-1.47v-1.77c0.48,0.15,0.99,0.23,1.49,0.22 c1.7,0,3.22-0.87,4.17-2.2v0.52c0,0.82,0.66,1.47,1.47,1.47h1.4c0.3,0,0.6-0.09,0.84-0.26c0.66,0.31,1.39,0.47,2.12,0.47 c1.92,0,3.6-1.1,4.49-2.73c1.54,2.65,4.95,3.53,7.58,1.98c0.18-0.11,0.36-0.22,0.53-0.36c0.22,0.55,0.76,0.91,1.35,0.9H78 c0.56,0,1.08-0.29,1.37-0.78l0.37-0.61l0.37,0.61c0.29,0.48,0.81,0.78,1.38,0.78h1.6c0.81,0,1.46-0.66,1.45-1.46 C84.49,14.02,84.44,13.8,84.34,13.59L84.34,13.59z M35.86,14.47h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23 V9.68c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23 V6.74c0.01-0.13,0.11-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03 c1.09,0,2.09,0.6,2.6,1.55c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78l0.01,5.16C36.09,14.36,35.98,14.46,35.86,14.47 L35.86,14.47z M45.97,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V13.5c-0.7,0.76-1.69,1.18-2.72,1.18 c-2.17,0-3.94-1.87-3.94-4.19s1.77-4.19,3.94-4.19c1.03,0,2.02,0.43,2.73,1.18V6.74c0-0.13,0.1-0.23,0.23-0.23h1.4 c0.12-0.01,0.22,0.08,0.23,0.21c0,0.01,0,0.01,0,0.02v7.51h-0.01V14.24z M52.41,14.67c-1.03,0-2.02-0.43-2.73-1.18v3.97 c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.1-0.23-0.23V6.75c0-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.23,0.11,0.23,0.23v0.73 c0.71-0.76,1.7-1.18,2.73-1.18c2.17,0,3.94,1.86,3.94,4.18S54.58,14.67,52.41,14.67z M66.24,11.39c-0.39,1.87-1.96,3.29-3.84,3.29 c-1.03,0-2.02-0.43-2.73-1.18v0.73c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V3.51c0-0.13,0.1-0.23,0.23-0.23 h1.4c0.13,0,0.23,0.11,0.23,0.23v3.97c0.71-0.75,1.7-1.18,2.73-1.17c1.88,0,3.45,1.4,3.84,3.28C66.37,10.19,66.37,10.8,66.24,11.39 L66.24,11.39L66.24,11.39z M71.67,14.68c-2,0.01-3.73-1.35-4.17-3.3c-0.13-0.59-0.13-1.19,0-1.77c0.44-1.94,2.17-3.31,4.17-3.3 c2.36,0,4.26,1.87,4.26,4.19S74.03,14.68,71.67,14.68L71.67,14.68z M83.04,14.47h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39 l-1.44,2.39c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68 L76.2,6.84c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.41-2.36 c0.06-0.11,0.18-0.17,0.3-0.17h1.61c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.38,3.64l2.43,3.67 c0.02,0.03,0.03,0.07,0.03,0.12C83.25,14.38,83.16,14.47,83.04,14.47L83.04,14.47L83.04,14.47z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M10.5,1.24c-5.11,0-9.25,4.15-9.25,9.25s4.15,9.25,9.25,9.25s9.25-4.15,9.25-9.25 C19.75,5.38,15.61,1.24,10.5,1.24z M14.89,12.77c-1.93,1.93-4.78,2.31-6.7,2.31c-0.7,0-1.41-0.05-2.1-0.16c0,0-1.02-5.64,2.14-8.81 c0.83-0.83,1.95-1.28,3.13-1.28c1.27,0,2.49,0.51,3.39,1.42C16.59,8.09,16.64,11,14.89,12.77z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M10.5-0.01C4.7-0.01,0,4.7,0,10.49s4.7,10.5,10.5,10.5S21,16.29,21,10.49C20.99,4.7,16.3-0.01,10.5-0.01z M10.5,19.74c-5.11,0-9.25-4.15-9.25-9.25s4.14-9.26,9.25-9.26s9.25,4.15,9.25,9.25C19.75,15.61,15.61,19.74,10.5,19.74z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M14.74,6.25C12.9,4.41,9.98,4.35,8.23,6.1c-3.16,3.17-2.14,8.81-2.14,8.81s5.64,1.02,8.81-2.14 C16.64,11,16.59,8.09,14.74,6.25z M12.47,10.34l-0.91,1.87l-0.9-1.87L8.8,9.43l1.86-0.9l0.9-1.87l0.91,1.87l1.86,0.9L12.47,10.34z'/%3E %3Cpolygon class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' points='14.33,9.43 12.47,10.34 11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 '/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:21px;height:21px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 21 21' style='enable-background:new 0 0 21 21;' xml:space='preserve'%3E%3Cg transform='translate(0,0.01)'%3E%3Cpath d='m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3Cpath d='M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpath d='M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpolygon points='11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 ' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3C/g%3E%3C/svg%3E\")}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:rgba(255,255,255,0.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{margin:10px;position:relative;background-color:#fff;border-radius:3px 12px 12px 3px}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 24px 2px 4px;visibility:visible}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover,.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 4px 2px 24px;border-radius:12px 3px 3px 12px}.mapboxgl-ctrl-attrib.mapboxgl-compact>*{display:none}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover>*{display:inline}.mapboxgl-ctrl-attrib.mapboxgl-compact::after{content:'';cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill='%23333333' fill-rule='evenodd' d='M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0'/%3E %3C/svg%3E\");background-color:rgba(255,255,255,0.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{bottom:0;left:0}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,0.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:bold;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:rgba(255,255,255,0.75);font-size:10px;border-width:medium 2px 2px;border-style:none solid solid;border-color:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-flex;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,0.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,0.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot{background-color:#1da1f2;width:15px;height:15px;border-radius:50%;box-shadow:0 0 2px rgba(0,0,0,0.25)}.mapboxgl-user-location-dot::before{background-color:#1da1f2;content:'';width:15px;height:15px;border-radius:50%;position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;-moz-animation:mapboxgl-user-location-dot-pulse 2s infinite;-ms-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot::after{border-radius:50%;border:2px solid #fff;content:'';height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}100%{-webkit-transform:scale(1);opacity:0}}@-ms-keyframes mapboxgl-user-location-dot-pulse{0%{-ms-transform:scale(1);opacity:1}70%{-ms-transform:scale(3);opacity:0}100%{-ms-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}100%{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale::after{display:none}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:0.5}@media print{.mapbox-improve-map{display:none}}.stationlink-main-container .col-left{position:relative;background:#f6f6f6;height:100vh;padding:1px 0 0;margin-bottom:0;overflow:hidden;overflow-y:visible;box-shadow:8px 0 8px -2px rgba(0,0,0,0.2);z-index:1}.stationlink-main-container .col-left .transport-mode-filter{display:flex;padding:10px 0;flex-flow:row wrap;justify-content:flex-start}.stationlink-main-container .col-left .transport-mode-filter .transport-mode{opacity:0.3;width:45px;margin-left:10px;text-align:center;line-height:18px;cursor:pointer}.stationlink-main-container .col-left .transport-mode-filter .transport-mode:first-child{margin-left:0}.stationlink-main-container .col-left .transport-mode-filter .transport-mode.selected{opacity:1}.stationlink-main-container .col-left .transport-mode-filter .transport-mode .mode-name{font-size:14px;font-weight:400;padding-top:2px}.stationlink-main-container .col-left .btn-group .btn{font-size:14px;line-height:20px}.stationlink-main-container .col-left .btn-group .btn.selected{position:relative;background:#ececec}.stationlink-main-container .col-left .list-header{padding:5px 15px;background:#fff;box-shadow:0 2px 3px 0 rgba(0,0,0,0.4)}.stationlink-main-container .col-left .list-header .filter-header{margin:10px 0;font-weight:bolder;font-size:15px;color:#1d69b4}.stationlink-main-container .col-left .list-header .tab-message{font-size:14px;font-weight:200;padding:10px 0}.stationlink-main-container .col-left .list-loading{margin-top:20px}.stationlink-main-container .col-left .result-item-map{white-space:nowrap;text-decoration:underline;margin-right:7px}.stationlink-main-container .col-left .result-item-map svg{vertical-align:-5px;color:#555555}.stationlink-main-container .col-left .visible-xs-inline-block{display:none}.stationlink-main-container .col-left .change-list{margin:15px 7.5px;padding:0;display:block;height:100%;min-height:165px}.stationlink-main-container .col-left .change-list .footer{position:relative}@media (max-width: 767px){.stationlink-main-container .col-left .change-list{height:100%;min-height:155px}}.stationlink-main-container .col-left .change-list .tile-item-wrapper{margin-bottom:15px}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item{border:0;border-left:3px solid #757575}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group{border-top:1px solid #ddd}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details{padding:0;background:#fff;box-shadow:0 2px 3px 0 rgba(0,0,0,0.4)}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .toggle{position:absolute;top:24px;right:3px}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-heading{padding:10px;display:flex}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-heading .route-icon-number{font-weight:500 !important;font-size:13px;padding:0 0.35em 0.1em;min-width:1.8em;text-transform:uppercase;font-variant:small-caps;border-radius:5px;letter-spacing:0.01em;text-align:center;vertical-align:middle;border:0;display:inline-block;line-height:22.65px}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-heading .panel-title{padding:0 12px;font-size:16px;font-weight:500}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-body{padding:10px 20px;border-top:1px solid #ddd}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-body .panel-title{display:flex;font-size:16px;font-weight:400;line-height:22px}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-footer{border-top:1px solid #ddd;background:#f9f9f9;display:flex;display:-webkit-flex;display:-ms-inline-flexbox;flex:1 0 auto;justify-content:space-around;width:100%}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-footer a{font-size:14px;display:-ms-inline-flexbox;justify-content:center}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-footer a span{padding-left:3px;text-decoration:underline}@media (max-width: 767px){.stationlink-main-container .col-left .visible-xs-inline-block{display:block}.stationlink-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-body .panel-title{display:flex;font-size:14px;font-weight:400;line-height:18px}}.stationlink-main-container .map-container{padding:0;margin:0;height:100vh}.stationlink-main-container .map-container .placeholder-image{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-image:url(\"/themes/custom/tfnsw_bootstrap/assets/images/map-empty-state_720.jpg\");background-size:cover}.stationlink-main-container .map-container .placeholder-image .placeholder-text{max-width:90%;text-align:center;font-weight:500;padding-top:40px}.stationlink-main-container .map-container .placeholder-image .placeholder-text .tp-icon-disruption{padding-right:5px;color:#1D69B4}.stationlink-main-container .map-container .placeholder-image .placeholder-text a{text-decoration:underline}@media (max-width: 767px){.stationlink-main-container .map-container .placeholder-image{align-items:flex-start;padding:20px;max-height:100%}}.stationlink-main-container .map-container .mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass{display:none}.stationlink-main-container .map-container .mapboxgl-ctrl-logo::after{display:none}.stationlink-main-container .map-container .map-copyright{padding-right:5px}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content{line-height:1.4;padding:0;text-align:left;width:270px;font-family:transtext, sans-serif}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-close-button{position:absolute;top:0;right:0;width:16px;height:16px;color:#333;margin:3px 3px 5px 5px;font:16px/14px Tahoma, Verdana, sans-serif;line-height:14px;text-align:center;vertical-align:middle;padding:0;display:table-cell}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .location{border-left:3px solid #999}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container{padding:6px 12px 12px 12px}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container h3{margin:0 15px 6px 0;font-size:15px;font-weight:500;color:#1c1c1b}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container .message{display:flex;font-size:14px}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container{border-top:1px solid #cacaca;padding:10px 5px;width:100%;display:-webkit-flex;display:-ms-flexbox;flex:1 0 auto;display:flex;-webkit-justify-content:space-around;justify-content:space-around;background-color:#f9f9f9}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a{margin:0}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .tp-icon{color:#1D69B4;fill:#1D69B4;margin:-2px 5px 0 0}.stationlink-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .link-label{text-decoration:underline}@media (max-width: 767px){html{height:100%}.map-only{height:100%}.map-only .dialog-off-canvas-main-canvas{height:100%}.map-only .dialog-off-canvas-main-canvas .tfnsw-sticky-header-spacer-new,.map-only .dialog-off-canvas-main-canvas .breadcrumb-region-wrapper,.map-only .dialog-off-canvas-main-canvas .page-title-region-wrapper,.map-only .dialog-off-canvas-main-canvas .social-tools,.map-only .dialog-off-canvas-main-canvas .tfnsw-site-banner,.map-only .dialog-off-canvas-main-canvas .tfnsw-family-ribbon,.map-only .dialog-off-canvas-main-canvas .container-fluid-footer{display:none}.map-only .dialog-off-canvas-main-canvas #main-content,.map-only .dialog-off-canvas-main-canvas #main-content>div,.map-only .dialog-off-canvas-main-canvas #main-content>div>div:not(.cr-placeholder-desktop),.map-only .dialog-off-canvas-main-canvas #main-content>div>div>section,.map-only .dialog-off-canvas-main-canvas #block-tfnsw-bootstrap-content,.map-only .dialog-off-canvas-main-canvas #block-tfnsw-bootstrap-content>.block-content,.map-only .dialog-off-canvas-main-canvas #block-tfnsw-bootstrap-content>.block-content>p,.map-only .dialog-off-canvas-main-canvas tni-stationlink,.map-only .dialog-off-canvas-main-canvas #main-content,.map-only .dialog-off-canvas-main-canvas .stationlink-main-container,.map-only .dialog-off-canvas-main-canvas .stationlink-main-container>.tfnsw-app-public,.map-only .dialog-off-canvas-main-canvas .stationlink-main-container>.tfnsw-app-public>.container-fluid,.map-only .dialog-off-canvas-main-canvas .stationlink-main-container>.tfnsw-app-public>.container-fluid>.row,.map-only .dialog-off-canvas-main-canvas .stationlink-main-container{height:100%}.map-only .dialog-off-canvas-main-canvas #block-tfnsw-bootstrap-content>.block-content>p{margin:0}.map-only .dialog-off-canvas-main-canvas .map-back-panel{position:absolute;width:100%;min-height:40px;background:white;margin-bottom:0;z-index:1;background:white;padding:0;border-radius:3px;box-shadow:0px 2px 3px 0px rgba(0,0,0,0.4);transition:box-shadow .2s ease-in-out}.map-only .dialog-off-canvas-main-canvas .map-back-panel:hover,.map-only .dialog-off-canvas-main-canvas .map-back-panel:focus,.map-only .dialog-off-canvas-main-canvas .map-back-panel:focus{box-shadow:0px 4px 8px 0px rgba(0,0,0,0.4)}.map-only .dialog-off-canvas-main-canvas .map-back-panel .panel-heading{padding:10px}.map-only .dialog-off-canvas-main-canvas .map-back-panel .panel-title{vertical-align:middle}.map-only .dialog-off-canvas-main-canvas .map-back-panel button{background:transparent;border:none}.map-only .dialog-off-canvas-main-canvas .map-container{position:relative}.map-only .dialog-off-canvas-main-canvas .map-container>[role='map']{height:100%;display:flex;flex-direction:column}.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] .map-component,.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] #mapbox-map{height:auto}.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] .map-component .mapboxgl-canvas,.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] #mapbox-map .mapboxgl-canvas{width:100% !important;height:100% !important}.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] .map-component{display:flex;flex:1}.map-only .dialog-off-canvas-main-canvas .map-container .mapboxgl-control-container .mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 5px}.map-only .dialog-off-canvas-main-canvas .map-container .mapboxgl-control-container .mapboxgl-ctrl-bottom-right .mapboxgl-ctrl-attrib{width:287px}}\n  "],data:{}});function rt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"transport-mode",[["class","transport-mode-filter"]],null,[[null,"selectMode"]],function(t,e,n){var r=!0;return"selectMode"===e&&(r=!1!==t.component.selectMode(n)&&r),r},p,u)),r.hb(1,114688,[[1,4]],0,s.a,[l.a],{selectedMode:[0,"selectedMode"],modes:[1,"modes"]},{selectMode:"selectMode"})],function(t,e){var n=e.component;t(e,1,0,n.selectedMode,n.transportModes)},null)}function it(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"transport-mode-tab",[],null,[[null,"selectTab"]],function(t,e,n){var r=!0;return"selectTab"===e&&(r=!1!==t.component.selectTab(n)&&r),r},g,d)),r.hb(1,49152,null,0,h,[],{selectedTab:[0,"selectedTab"],tabs:[1,"tabs"]},{selectTab:"selectTab"})],function(t,e){var n=e.component;t(e,1,0,n.selectedTab,n.selectedMode.tabs)},null)}function ot(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","tab-message"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component.tabMessage)})}function at(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","stop-search"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"stop-search",[],null,[[null,"stopChange"],[null,"inputTextChange"]],function(t,e,n){var r=!0,i=t.component;return"stopChange"===e&&(r=!1!==(i.selectStop.stop=n)&&r),"inputTextChange"===e&&(r=!1!==(i.selectStop.Text=n)&&r),"stopChange"===e&&(r=!1!==i.selectStopChange()&&r),r},S,k)),r.hb(2,4243456,[[2,4],["stopSearchEl",4]],0,M.a,[C.a,L.a,E.a,r.f],{id:[0,"id"],stop:[1,"stop"],placeholder:[2,"placeholder"],textValue:[3,"textValue"],transportMode:[4,"transportMode"]},{stopChange:"stopChange",inputTextChange:"inputTextChange"})],function(t,e){var n=e.component;t(e,2,0,"stopSearch",n.selectStop.stop,r.kb(1,"",n.stopSearchPlaceholder,""),n.selectStop.Text,n.selectedMode.mode)},null)}function st(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-spinner",[["spinnerClass","topup-spinner"],["srText","Loading"]],null,null,null,A.b,A.a)),r.hb(1,49152,null,0,D.a,[],{srText:[0,"srText"],spinnerClass:[1,"spinnerClass"]},null)],function(t,e){t(e,1,0,"Loading","topup-spinner")},null)}function lt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"div",[["class","map-back-panel panel panel-default ng-scope"],["role","button"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,5,"div",[["class","panel-heading"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,4,"button",[["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.hideMap()&&r),r},null,null)),(t()(),r.ib(3,0,null,null,1,"tni-icon",[["iconClasses","tp-icon sm"],["iconName","arrow-left"]],null,null,null,i.b,i.a)),r.hb(4,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"],iconAriaHidden:[2,"iconAriaHidden"]},null),(t()(),r.ib(5,0,null,null,1,"span",[["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Back"]))],function(t,e){t(e,4,0,"arrow-left","tp-icon sm",!0)},null)}function ut(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["class","col-sm-6 col-md-7 col-lg-8 map-container"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,lt)),r.hb(2,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(3,0,null,null,1,"tni-map",[["class","map-component"]],null,[[null,"clickStopFeature"],[null,"clickRegionFeature"]],function(t,e,n){var r=!0,i=t.component;return"clickStopFeature"===e&&(r=!1!==i.onClickStopFeature(n)&&r),"clickRegionFeature"===e&&(r=!1!==i.onClickRegionFeature(n)&&r),r},I.b,I.a)),r.hb(4,638976,null,0,P.a,[O.a,N.a,l.a],{mapStyle:[0,"mapStyle"],bounds:[1,"bounds"],layers:[2,"layers"],sourceLayer:[3,"sourceLayer"],clickSourceLayer:[4,"clickSourceLayer"],popup:[5,"popup"],alwaysVisibleLayers:[6,"alwaysVisibleLayers"]},{clickStopFeature:"clickStopFeature",clickRegionFeature:"clickRegionFeature"})],function(t,e){var n=e.component;t(e,2,0,n.showMap&&n.isMobileView()),t(e,4,0,n.mapStyle,n.bounds,n.mapLayers,n.sourceLayers,n.clickSourceLayers,n.popup,n.selectedMode.alwaysVisibleLayers)},null)}function ct(t){return r.Bb(0,[r.xb(671088640,1,{transportModesComponent:0}),r.xb(671088640,2,{stopSearchEl:0}),(t()(),r.ib(2,0,null,null,21,"div",[["class","stationlink-main-container"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,20,"section",[["class","tfnsw-app-public"]],null,null,null,null,null)),(t()(),r.ib(4,0,null,null,19,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.ib(6,0,null,null,15,"div",[["class","col-xs-12 col-sm-6 col-md-5 col-lg-4 col-left"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r.ib(7,0,null,null,8,"div",[["class","list-header"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,rt)),r.hb(9,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,it)),r.hb(11,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,ot)),r.hb(13,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,at)),r.hb(15,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(16,0,null,null,2,"div",[["class","list-loading"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,st)),r.hb(18,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(19,0,null,null,2,"div",[["class","change-list"]],null,null,null,null,null)),(t()(),r.ib(20,0,null,null,1,"card-list",[],null,[[null,"selectMap"],[null,"toggleCard"],[null,"selectFooterLink"]],function(t,e,n){var r=!0,i=t.component;return"selectMap"===e&&(r=!1!==i.displayMap(n)&&r),"toggleCard"===e&&(r=!1!==i.onToggleCard(n)&&r),"selectFooterLink"===e&&(r=!1!==i.onSelectFooterLink(n)&&r),r},J,G)),r.hb(21,49152,null,0,U,[],{list:[0,"list"]},{selectMap:"selectMap",toggleCard:"toggleCard",selectFooterLink:"selectFooterLink"}),(t()(),r.Z(16777216,null,null,1,null,ut)),r.hb(23,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,9,0,n.selectedMode.showModes),t(e,11,0,n.selectedMode.showTabs),t(e,13,0,""!==n.tabMessage),t(e,15,0,n.showAutoSuggest),t(e,18,0,n.isLoadingData),t(e,21,0,n.cardList),t(e,23,0,n.showMap||!n.isMobileView())},function(t,e){var n=e.component;t(e,6,0,n.showMap&&n.isMobileView())})}function pt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"stationlink-main",[],null,null,null,ct,nt)),r.hb(1,4308992,null,0,K.a,[l.a,r.y,Q.a,$.a,tt.a,et.a],null,null)],function(t,e){t(e,1,0)},null)}var ht=r.eb("stationlink-main",K.a,pt,{},{},[])},X709:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})}()},XAl4:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},XBuN:function(t,e,n){"use strict";var r=n("tuZB");n.d(e,"r",function(){return"Location is wheelchair accessible"}),n.d(e,"d",function(){return"Accessibility"}),n.d(e,"a",function(){return r.a}),n.d(e,"e",function(){return r.b}),n.d(e,"q",function(){return r.h}),n.d(e,"l",function(){return r.f}),n.d(e,"g",function(){return r.d}),n.d(e,"i",function(){return r.e}),n.d(e,"m",function(){return"/drapi/location/"}),n.d(e,"t",function(){return"/web/XML_SERVINGLINES_REQUEST?language=en&mode=odv&outputFormat=rapidJSON&type_sl=stopID&version=10.2.2.48"}),n.d(e,"b",function(){return"/es-route-search/_search"}),n.d(e,"p",function(){return"/api/routes/query"}),n.d(e,"c",function(){return"/es-station-facilities/_search?size=1000&q=TSN:"}),n.d(e,"s",function(){return"/web/XML_COORD_REQUEST?"}),n.d(e,"j",function(){return"List view - default"}),n.d(e,"k",function(){return"List view - selected"}),n.d(e,"f",function(){return" view - default"}),n.d(e,"h",function(){return" view - selected"}),n.d(e,"o",function(){return"stop"}),n.d(e,"n",function(){return"facility"})},XDpg:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u5468";default:return t}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}()},XLvN:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c42\u0c32\u0c46\u0c56_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c42\u0c32\u0c46\u0c56_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===e?t<4?t:t+12:"\u0c09\u0c26\u0c2f\u0c02"===e?t:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===e?t>=10?t:t+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":t<10?"\u0c09\u0c26\u0c2f\u0c02":t<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":t<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}()},XYEn:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("67Y/"),i=n("9Z1F"),o=n("0/uQ"),a=n("XlPw"),s=n("CcnG"),l=n("t/Na"),u=function(){function t(t){this.http=t,this.apiAddress="/tfnsw-toggle?_format=json"}return t.prototype.getFeatureToggles=function(){var t=this;return this.toggles?Object(o.a)([this.toggles]):this.http.get(this.apiAddress).pipe(Object(r.a)(function(e){return t.toggles=e,t.toggles}),Object(i.a)(function(t){return Object(a.a)(t)}))},t.ngInjectableDef=s.K({factory:function(){return new t(s.O(l.c))},token:t,providedIn:"root"}),t}()},XlPw:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6blF");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){t.subscriber.error(t.error)}},XmvR:function(t,e,n){"use strict";var r,i=n("+/t3"),o=(n("/n73"),function(t){return t[t.ChooseView="Choose view"]="ChooseView",t[t.ViewBubbleOnMap="View bubble on map"]="ViewBubbleOnMap",t[t.SearchLocation="Search location"]="SearchLocation",t[t.ViewCard="View card from list"]="ViewCard",t[t.SelectMapFromCard="Select Map on card on Mobile"]="SelectMapFromCard",t[t.SelectLinkOnCard="Select link on card"]="SelectLinkOnCard",t[t.SelectLinkOnMapBubble="Select link on map bubble"]="SelectLinkOnMapBubble",t}({}));n("6N39"),function(t){t.MetroStations="Metro-stations",t.TrainStations="Train-Stations",t.BusRegions="Bus-Regions"}(r||(r={}));var a,s=function(t){return t[t.ViewBubbleOnMap="View bubble on map"]="ViewBubbleOnMap",t[t.ViewCard="View card from list"]="ViewCard",t[t.SelectMapFromCard="Select Map on card on Mobile"]="SelectMapFromCard",t[t.SelectLinkOnCard="Select link on card"]="SelectLinkOnCard",t[t.ViewMapTab="View Map tab"]="ViewMapTab",t[t.ViewListTab="View List tab"]="ViewListTab",t}({});!function(t){t.ViewFacilityCardFromList="View facility card from list",t.ViewStopCardFromList="View stop card from list",t.SelectFacilityOnMap="Select facility on Map",t.SelectStopPointOnMap="Select Stop point on Map",t.SelectMapFromStopCardOnMobile="Select Map from stop card on Mobile",t.ViewMapTabOnMobile="View Map tab on mobile",t.ViewListTab="View List tab"}(a||(a={})),n.d(e,"a",function(){return i.a}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a})},Y3k6:function(t,e,n){"use strict";var r=n("CcnG"),i=n("KnBw"),o=n("mVwE"),a=n("fzkN"),s=n("+ulk"),l=n("NOf9"),u=n("E8FJ"),c=n("Ip0R"),p=n("eYWh"),h=n("ka1Z"),d=function(){function t(){this.showAsCard=!0,this.selectCard=new r.k}return t.prototype.ngOnInit=function(){void 0!==this.icon&&""!==this.icon&&"TBC"!==this.icon||(this.icon="information"),void 0===this.iconClasses&&(this.iconClasses="md")},t.prototype.onSelectCard=function(){this.showAsCard&&this.selectCard.emit(this.identifier)},t}(),f=r.gb({encapsulation:0,styles:[".static-card-wrapper.show-as-card[_ngcontent-%COMP%]{background:#fff;border-left:3px solid #1D69B4;box-shadow:0 2px 3px 0 rgba(0,0,0,0.4);cursor:pointer;margin:0 -3px}.static-card-wrapper.show-as-card[_ngcontent-%COMP%]   .static-card-content[_ngcontent-%COMP%]:focus{outline:3px solid rgba(0,0,0,0.4) !important;outline-offset:-2px}.static-card-wrapper[_ngcontent-%COMP%]   .static-card-content[_ngcontent-%COMP%]{text-decoration:none;display:block;color:#555;padding:3px 10px}.static-card-wrapper[_ngcontent-%COMP%]   .static-card-content[_ngcontent-%COMP%]:focus{outline-offset:-6px;box-shadow:none}.static-card-wrapper[_ngcontent-%COMP%]   .static-card-flex-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.static-card-wrapper[_ngcontent-%COMP%]   .static-card-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column}.static-card-wrapper[_ngcontent-%COMP%]   .static-card-icon[_ngcontent-%COMP%]     .blue{color:#1D69B4}.static-card-wrapper[_ngcontent-%COMP%]   .static-card-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:4px;width:100%}"],data:{}});function m(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,12,"div",[["class","static-card-wrapper"]],null,null,null,null,null)),r.hb(1,278528,null,0,c.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(2,{"show-as-card":0}),(t()(),r.ib(3,0,null,null,9,"div",[["class","static-card-content"],["role",""],["tabindex","0"]],[[1,"aria-label",0]],[[null,"click"],[null,"keyup.enter"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onSelectCard()&&r),"keyup.enter"===e&&(r=!1!==i.onSelectCard()&&r),r},null,null)),(t()(),r.ib(4,0,null,null,8,"div",[["class","static-card-flex-wrapper"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,2,"div",[["class","static-card-icon"]],null,null,null,null,null)),(t()(),r.ib(6,0,null,null,1,"tni-icon",[],null,null,null,p.b,p.a)),r.hb(7,49152,null,0,h.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(8,0,null,null,4,"div",[["class","static-card-details"]],null,null,null,null,null)),(t()(),r.ib(9,0,null,null,1,"div",[["class","static-card-details-header"]],null,null,null,null,null)),r.rb(null,0),(t()(),r.ib(11,0,null,null,1,"div",[["class","static-card-details-body"]],null,null,null,null,null)),r.rb(null,1)],function(t,e){var n=e.component,r=t(e,2,0,n.showAsCard);t(e,1,0,"static-card-wrapper",r),t(e,7,0,n.icon,n.icon,n.iconClasses,!0)},function(t,e){t(e,3,0,e.component.ariaLabel)})}var g=n("fDkQ"),y=r.gb({encapsulation:0,styles:[".card-list-main-container[_ngcontent-%COMP%]   #list-view-only[_ngcontent-%COMP%], .card-list-main-container[_ngcontent-%COMP%]   #list-and-map-view[_ngcontent-%COMP%]{width:100%}.card-list-main-container[_ngcontent-%COMP%]   .plain-wrapper[_ngcontent-%COMP%]{margin-top:-10px}.card-list-main-container[_ngcontent-%COMP%]   .plain-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:8px}.card-list-main-container[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]{margin-bottom:15px}.card-list-main-container[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]{padding:10px}.card-list-main-container[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.card-list-main-container[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{padding:0 0 8px 10px;margin-top:-10px;font-size:14px;font-weight:400;background:transparent}.card-list-main-container[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]     p{margin:0}.card-list-main-container[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]     .facility-count{font-weight:500}"],data:{}});function _(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"h4",[["aria-hidden","true"],["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.FACILITY_DESC)})}function v(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"h4",[["aria-hidden","true"],["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.FACILITY_DESC+": "+e.parent.parent.context.$implicit.MORE_INFO)})}function b(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,10,"div",[["class","col-xs-12 plain-wrapper"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,9,"tni-static-card",[],null,[[null,"selectCard"]],function(t,e,n){var r=!0;return"selectCard"===e&&(r=!1!==t.component.onSelectCard(n)&&r),r},m,f)),r.hb(2,114688,null,0,d,[],{showAsCard:[0,"showAsCard"],identifier:[1,"identifier"],ariaLabel:[2,"ariaLabel"],icon:[3,"icon"],iconClasses:[4,"iconClasses"]},{selectCard:"selectCard"}),(t()(),r.ib(3,0,null,0,4,"div",[["aria-hidden","true"],["card-header",""],["class","panel-heading"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,_)),r.hb(5,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,v)),r.hb(7,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(8,0,null,1,2,"div",[["card-body",""]],null,null,null,null,null)),(t()(),r.ib(9,0,null,null,1,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),r.ib(10,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],function(t,e){t(e,2,0,!1,e.parent.context.$implicit,e.parent.context.$implicit.FACILITY_DESC,e.parent.context.$implicit.ICON,"md"),t(e,5,0,""===e.parent.context.$implicit.MORE_INFO),t(e,7,0,""!==e.parent.context.$implicit.MORE_INFO)},function(t,e){t(e,10,0,e.parent.context.$implicit.CHILD_DESC_LISTVIEW)})}function x(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,b)),r.hb(2,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,!e.context.$implicit.DUPLICATE)},null)}function w(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"h4",[["aria-hidden","true"],["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.FACILITY_DESC)})}function M(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"h4",[["aria-hidden","true"],["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.FACILITY_DESC+": "+e.parent.parent.context.$implicit.MORE_INFO)})}function C(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,10,"div",[["class","col-xs-12 card-wrapper"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,9,"tni-static-card",[],null,[[null,"selectCard"]],function(t,e,n){var r=!0;return"selectCard"===e&&(r=!1!==t.component.onSelectCard(n)&&r),r},m,f)),r.hb(2,114688,null,0,d,[],{showAsCard:[0,"showAsCard"],identifier:[1,"identifier"],ariaLabel:[2,"ariaLabel"],icon:[3,"icon"],iconClasses:[4,"iconClasses"]},{selectCard:"selectCard"}),(t()(),r.ib(3,0,null,0,4,"div",[["aria-hidden","true"],["card-header",""],["class","panel-heading"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,w)),r.hb(5,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,M)),r.hb(7,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(8,0,null,1,2,"div",[["card-body",""]],null,null,null,null,null)),(t()(),r.ib(9,0,null,null,1,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),r.ib(10,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],function(t,e){t(e,2,0,!0,e.parent.context.$implicit,e.component.generateLabel(e.parent.context.$implicit),e.parent.context.$implicit.ICON,"md blue"),t(e,5,0,""===e.parent.context.$implicit.MORE_INFO),t(e,7,0,""!==e.parent.context.$implicit.MORE_INFO)},function(t,e){t(e,10,0,e.parent.context.$implicit.CHILD_DESC_LISTVIEW)})}function L(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,C)),r.hb(2,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,!e.context.$implicit.DUPLICATE&&e.context.$implicit.TYPE_CODE!==e.component.ENT)},null)}function E(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"div",[["class","card-list-main-container row row-flex row-flex-start"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,2,"div",[["id","list-view-only"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,x)),r.hb(3,278528,null,0,c.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.ib(4,0,null,null,2,"div",[["id","list-and-map-view"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,L)),r.hb(6,278528,null,0,c.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.listViewFacilities),t(e,6,0,n.listAndMapViewFacilities)},null)}var k=n("k0ah"),T=n("llQp"),S=n("baxS"),A=n("3qSw"),D=n("wC2N"),I=r.gb({encapsulation:0,styles:[".tile-item[_ngcontent-%COMP%]{border-left-color:#a0a0a0}.route[_ngcontent-%COMP%]{display:inline-block;padding:5px}.routes-info[_ngcontent-%COMP%]{display:flex;padding:0 0 0 24px;flex-direction:row}@media (max-width: 767px){.routes-info[_ngcontent-%COMP%]{margin-top:10px}}.routes-info-with-no-routes[_ngcontent-%COMP%]{font-size:16px;font-weight:500;padding:0 24px}@media (max-width: 767px){.routes-info-with-no-routes[_ngcontent-%COMP%]{padding:16px 24px 10px 24px}}.routes-table[_ngcontent-%COMP%]{flex:1 1 auto;max-width:300px;padding-right:24px;margin-top:-2px}@media (max-width: 767px){.routes-table[_ngcontent-%COMP%]{margin-top:0px;margin-bottom:0}}.mode[_ngcontent-%COMP%]{flex:0 1 auto;padding-top:2px;margin-right:10px}  .route-icon-number{width:40px;height:18px;border-radius:3px;padding:0;margin:0;font-size:12px;line-height:18px;letter-spacing:0.16px}"],data:{}});function P(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","route"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-route-icon",[],null,null,null,S.b,S.a)),r.hb(2,573440,null,0,A.a,[],{lineNumber:[0,"lineNumber"],iconBackgroundColour:[1,"iconBackgroundColour"],iconFontColour:[2,"iconFontColour"]},null)],function(t,e){t(e,2,0,e.context.$implicit.route_number,e.context.$implicit.colour.foreground,e.context.$implicit.colour.text)},null)}function O(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,8,"div",[["class","routes-info"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,2,"div",[["class","mode"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,1,"tni-icon",[],null,null,null,p.b,p.a)),r.hb(3,49152,null,0,h.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(4,0,null,null,4,"div",[["class","routes-table"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(6,null,["",""])),(t()(),r.Z(16777216,null,null,1,null,P)),r.hb(8,278528,null,0,c.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.modeName,n.modeAriaLabel,"md route-icon",!0),t(e,8,0,n.sortedRouteInfo.routes)},function(t,e){t(e,6,0,e.component.modeAriaLabel)})}function N(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["class","routes-info-with-no-routes"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" Currently there are no routes servicing this stop. "]))],null,null)}function R(t){return r.Bb(0,[(t()(),r.Z(16777216,null,null,1,null,O)),r.hb(1,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,N)),r.hb(3,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.routesInfo&&n.routesInfo.routes.length>0),t(e,3,0,n.routesInfo&&0===n.routesInfo.routes.length)},null)}var F=n("/aI6"),Y=n("HrGG"),B=r.gb({encapsulation:0,styles:[".tile-item[_ngcontent-%COMP%]{border:none;box-shadow:0 1px 2px 0 rgba(0,0,0,0.4)}  .bus .collapsible-card-details.form{border-left:4px solid #00b5ef;box-shadow:initial}  .train .collapsible-card-details.form{border-left:4px solid #f6891f;box-shadow:initial}  .metro .collapsible-card-details.form{border-left:4px solid #168388;box-shadow:initial}  .coach .collapsible-card-details.form{border-left:4px solid #732a82;box-shadow:initial}  .ferry .collapsible-card-details.form{border-left:4px solid #5ab031;box-shadow:initial}  .lightrail .collapsible-card-details.form{border-left:4px solid #ee343f;box-shadow:initial}  .bus-school .collapsible-card-details.form{border-left:4px solid #00b5ef;box-shadow:initial}  .default .collapsible-card-details.form{border-left:4px solid #999999;box-shadow:initial}  .collapsible-card-details.form{box-shadow:initial;padding:0 !important;cursor:pointer}  .collapsible-card-details-header{padding:16px 24px 16px 24px}  .collapsible-card-details-body{padding:0;margin-bottom:10px;padding-top:10px;margin-left:-5px;margin-top:-10px}@media (max-width: 767px){  .collapsible-card-details-body{padding:0;margin-top:-15px}}  .collapsible-card-details-header:hover{background-color:#ececec}  .collapsible-card-details-header.expanded:hover{background-color:#fff}  .collapsible-card-details-header.expanded{padding-bottom:8px !important}@media (max-width: 767px){  .collapsible-card-details-header.expanded{padding-bottom:14px !important}}.card-body[_ngcontent-%COMP%]{padding-left:5px}.visible-xs-inline-block[_ngcontent-%COMP%]{display:none}.sub-title[_ngcontent-%COMP%]{font-size:14px;margin-top:-15px}@media (max-width: 767px){.sub-title[_ngcontent-%COMP%]{margin-left:0}}  svg.tp-icon.form-control-select-arrow{height:24px;width:24px;fill:#171717;color:#171717;position:absolute;top:28px;right:10px}  .panel-heading{padding:0}  .panel-heading .panel-title{font-size:16px;font-weight:500;padding-right:40px}  .panel-body{font-size:14px;font-weight:400}  .panel-body   p{margin:0}  .panel-heading div.sub-title{border-top:0;padding:0 10px 0 0;color:#555;font-weight:400;font-size:14px}.footer-link[_ngcontent-%COMP%]{font-size:14px;display:block;text-align:center;text-decoration:underline}@media (max-width: 767px){.footer-link[_ngcontent-%COMP%]{flex:1 0 auto}}.footer-link[_ngcontent-%COMP%]   .footer-link-text[_ngcontent-%COMP%]{padding-left:5px}.card-footer[_ngcontent-%COMP%]{margin:0;padding:10px 0;border-top:1px solid #ddd;background-color:#f9f9f9;justify-content:space-around}@media (max-width: 767px){.card-footer[_ngcontent-%COMP%]{display:flex;flex:1 0 auto}}.col-xs-12.tile-item-wrapper[_ngcontent-%COMP%]{margin:0 7px 8px 7px;padding:0 15px}"],data:{}});function z(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,23,"div",[["class","col-xs-12 tile-item-wrapper"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,22,"div",[["class","tile-item"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,21,"div",[["class","panel-group tile-item--panel-group"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,20,"tni-collapsible-card",[],[[8,"className",0]],[[null,"toggle"]],function(t,e,n){var r=!0;return"toggle"===e&&(r=!1!==t.component.onToggleCard(n,t.context.$implicit)&&r),r},k.b,k.a)),r.hb(4,49152,null,0,T.a,[],{ariaLabel:[0,"ariaLabel"],expanded:[1,"expanded"],index:[2,"index"]},{toggle:"toggle"}),(t()(),r.ib(5,0,null,0,4,"div",[["card-header",""],["class","panel-heading"]],null,null,null,null,null)),(t()(),r.ib(6,0,null,null,1,"h4",[["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(7,null,["",""])),(t()(),r.ib(8,0,null,null,1,"div",[["class","sub-title"]],null,null,null,null,null)),(t()(),r.zb(9,null,[" "," (Stop ID ",") "])),(t()(),r.ib(10,0,null,1,2,"div",[["card-body",""],["class","card-body"]],null,null,null,null,null)),(t()(),r.ib(11,0,null,null,1,"stop-routes",[],null,null,null,R,I)),r.hb(12,573440,null,0,D.a,[],{routesInfo:[0,"routesInfo"],modeName:[1,"modeName"]},null),(t()(),r.ib(13,0,null,2,10,"div",[["card-footer",""],["class","card-footer"]],null,null,null,null,null)),(t()(),r.ib(14,0,null,null,4,"a",[["aria-label","Departures from here"],["class","footer-link"]],[[8,"href",4]],null,null,null,null)),(t()(),r.ib(15,0,null,null,1,"tni-icon",[],null,null,null,p.b,p.a)),r.hb(16,49152,null,0,h.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(17,0,null,null,1,"span",[["class","footer-link-text"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Departures from here"])),(t()(),r.ib(19,0,null,null,4,"a",[["aria-label","Open map view"],["class","result-item-map visible-xs-inline-block footer-link"],["href","javascript:;"],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.displayMap(t.context.$implicit)&&r),r},null,null)),(t()(),r.ib(20,0,null,null,1,"tni-icon",[["iconClasses","tp-icon sm"],["iconName","map"],["iconTitle","Open map view"]],null,null,null,p.b,p.a)),r.hb(21,49152,null,0,h.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(22,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Map"]))],function(t,e){var n=e.component;t(e,4,0,e.context.$implicit.parent.disassembledName,!1,e.context.index),t(e,12,0,n.getStopRoutes(e.context.$implicit),n.getModeName(e.context.$implicit)),t(e,16,0,"arrow_from","arrow_from","sm",!1),t(e,21,0,"map","Open map view","tp-icon sm",!1)},function(t,e){var n=e.component;t(e,3,0,n.getModeName(e.context.$implicit)),t(e,7,0,e.context.$implicit.parent.disassembledName),t(e,9,0,n.getSuburbName(e.context.$implicit),e.context.$implicit.properties.STOPPOINT_GLOBAL_ID),t(e,14,0,n.getDeparturesLink(e.context.$implicit))})}function j(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","stop-list-main-container row row-flex row-flex-start"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,z)),r.hb(2,278528,null,0,c.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.stops)},null)}var V=n("rE3e"),H=n("VtCN"),U=n("UTGZ"),G=n("gTB4"),q=n("3ZaB"),W=n("0Ylq"),Z=n("N+V4"),X=n("nyDe"),J=n("LZq5"),K=n("OxXP"),Q=n("2On9"),$=n("XYEn"),tt=n("Yl2j");n.d(e,"a",function(){return mt});var et=r.gb({encapsulation:2,styles:["\n    .tfnsw-nav-tabs{border-bottom:4px solid #1D69B4;display:flex;align-items:flex-end;margin-top:30px}.tfnsw-nav-tabs>li{margin:0;margin-left:-1px;background:#fff}.tfnsw-nav-tabs>li>a{margin:0;color:#555;border:1px solid rgba(0,0,0,0.2);border-bottom:0;padding-left:5px;padding-right:5px;font-weight:400;text-decoration:none}@media (max-width: 767px){.tfnsw-nav-tabs>li>a{padding-left:15px;padding-right:15px}}@media (max-width: 320px){.tfnsw-nav-tabs>li>a{padding:10.71429px}}.tfnsw-nav-tabs>li>a:hover,.tfnsw-nav-tabs>li>a:focus{background-color:rgba(0,0,0,0.1);border:1px solid rgba(0,0,0,0.2);border-bottom:0}.tfnsw-nav-tabs>li>a>h1,.tfnsw-nav-tabs>li>a>h2,.tfnsw-nav-tabs>li>a>h3,.tfnsw-nav-tabs>li>a>h4,.tfnsw-nav-tabs>li>a>h5{margin:0;display:inline-block;font-size:inherit;font-weight:inherit}.tfnsw-nav-tabs>li.active{background-color:#1D69B4;z-index:1;position:relative;box-shadow:3px -1px 3px 0px rgba(0,0,0,0.25)}.tfnsw-nav-tabs>li.active>a,.tfnsw-nav-tabs>li.active>a:hover,.tfnsw-nav-tabs>li.active>a:focus{border:0;background-color:#1D69B4;color:#fff;padding:15px;font-weight:500}@media (max-width: 767px){.tfnsw-nav-tabs>li.active>a,.tfnsw-nav-tabs>li.active>a:hover,.tfnsw-nav-tabs>li.active>a:focus{padding-left:15px;padding-right:15px}}.tfnsw-nav-tabs>li.active>a:focus,.tfnsw-nav-tabs>li.active>a:hover:focus,.tfnsw-nav-tabs>li.active>a:focus:focus{color:#fff;border:0;background-color:#1D69B4}.tfnsw-nav-tabs>li.active>a>h1,.tfnsw-nav-tabs>li.active>a>h2,.tfnsw-nav-tabs>li.active>a>h3,.tfnsw-nav-tabs>li.active>a>h4,.tfnsw-nav-tabs>li.active>a>h5,.tfnsw-nav-tabs>li.active>a:hover>h1,.tfnsw-nav-tabs>li.active>a:hover>h2,.tfnsw-nav-tabs>li.active>a:hover>h3,.tfnsw-nav-tabs>li.active>a:hover>h4,.tfnsw-nav-tabs>li.active>a:hover>h5,.tfnsw-nav-tabs>li.active>a:focus>h1,.tfnsw-nav-tabs>li.active>a:focus>h2,.tfnsw-nav-tabs>li.active>a:focus>h3,.tfnsw-nav-tabs>li.active>a:focus>h4,.tfnsw-nav-tabs>li.active>a:focus>h5{margin:0;display:inline-block;font-size:inherit;color:inherit;font-weight:inherit}.tfnsw-nav-tabs>li.active>a svg,.tfnsw-nav-tabs>li.active>a:hover svg,.tfnsw-nav-tabs>li.active>a:focus svg{fill:#fff;color:#fff}.tfnsw-nav-tabs>li:first-of-type{margin:0}@media (max-width: 767px){.tfnsw-nav-tabs>li{flex-grow:1;text-align:center}}.tfnsw-nav-tabs.nav-justified{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:stretch;border-bottom:4px solid #1D69B4}.tfnsw-nav-tabs.nav-justified>li{width:auto;display:flex;justify-content:flex-start;align-items:stretch;align-content:stretch;flex-grow:1}@media (max-width: 320px){.tfnsw-nav-tabs.nav-justified>li{font-size:0.95em}}.tfnsw-nav-tabs.nav-justified>li>a{width:100%;margin:0;border-bottom:0}.tfnsw-nav-tabs.nav-justified>li.active{margin-top:-8px}@media (max-width: 320px){.tfnsw-nav-tabs.nav-justified>li.active{margin-top:-5px}}.tfnsw-nav-tabs.nav-justified>li.active>a,.tfnsw-nav-tabs.nav-justified>li.active>a:hover,.tfnsw-nav-tabs.nav-justified>li.active>a:focus{border:0 !important}.tfnsw-tab-content{background:#F6F6F6;padding:15px;border:1px solid #ddd}@media (max-width: 320px){.tab-group-no-gutter{padding-left:0px;padding-right:0px}}.mapboxgl-map{font:12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right,.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;overflow:hidden;background:#fff}.mapboxgl-ctrl-group:not(:empty){-moz-box-shadow:0 0 2px rgba(0,0,0,0.1);-webkit-box-shadow:0 0 2px rgba(0,0,0,0.1);box-shadow:0 0 0 2px rgba(0,0,0,0.1)}.mapboxgl-ctrl-group>button{width:30px;height:30px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group>button+button{border-top:1px solid #ddd}.mapboxgl-ctrl>button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl>button:hover{background-color:rgba(0,0,0,0.05)}.mapboxgl-ctrl-icon,.mapboxgl-ctrl-icon>.mapboxgl-ctrl-compass-arrow{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.mapboxgl-ctrl-icon{padding:5px}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='m 7,9 c -0.554,0 -1,0.446 -1,1 0,0.554 0.446,1 1,1 l 6,0 c 0.554,0 1,-0.446 1,-1 0,-0.554 -0.446,-1 -1,-1 z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='M 10 6 C 9.446 6 9 6.4459904 9 7 L 9 9 L 7 9 C 6.446 9 6 9.446 6 10 C 6 10.554 6.446 11 7 11 L 9 11 L 9 13 C 9 13.55401 9.446 14 10 14 C 10.554 14 11 13.55401 11 13 L 11 11 L 13 11 C 13.554 11 14 10.554 14 10 C 14 9.446 13.554 9 13 9 L 11 9 L 11 7 C 11 6.4459904 10.554 6 10 6 z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate:disabled{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting{-webkit-animation:mapboxgl-spin 2s infinite linear;-moz-animation:mapboxgl-spin 2s infinite linear;-o-animation:mapboxgl-spin 2s infinite linear;-ms-animation:mapboxgl-spin 2s infinite linear;animation:mapboxgl-spin 2s infinite linear}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-moz-keyframes mapboxgl-spin{0%{-moz-transform:rotate(0deg)}100%{-moz-transform:rotate(360deg)}}@-o-keyframes mapboxgl-spin{0%{-o-transform:rotate(0deg)}100%{-o-transform:rotate(360deg)}}@-ms-keyframes mapboxgl-spin{0%{-ms-transform:rotate(0deg)}100%{-ms-transform:rotate(360deg)}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M 5 4 C 4.5 4 4 4.5 4 5 L 4 6 L 4 9 L 4.5 9 L 5.7773438 7.296875 C 6.7771319 8.0602131 7.835765 8.9565728 8.890625 10 C 7.8257121 11.0633 6.7761791 11.951675 5.78125 12.707031 L 4.5 11 L 4 11 L 4 15 C 4 15.5 4.5 16 5 16 L 9 16 L 9 15.5 L 7.2734375 14.205078 C 8.0428931 13.187886 8.9395441 12.133481 9.9609375 11.068359 C 11.042371 12.14699 11.942093 13.2112 12.707031 14.21875 L 11 15.5 L 11 16 L 14 16 L 15 16 C 15.5 16 16 15.5 16 15 L 16 14 L 16 11 L 15.5 11 L 14.205078 12.726562 C 13.177985 11.949617 12.112718 11.043577 11.037109 10.009766 C 12.151856 8.981061 13.224345 8.0798624 14.228516 7.3046875 L 15.5 9 L 16 9 L 16 5 C 16 4.5 15.5 4 15 4 L 11 4 L 11 4.5 L 12.703125 5.7773438 C 11.932647 6.7864834 11.026693 7.8554712 9.9707031 8.9199219 C 8.9584739 7.8204943 8.0698767 6.7627188 7.3046875 5.7714844 L 9 4.5 L 9 4 L 6 4 L 5 4 z '/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23000000;' d='M 4.2421875 3.4921875 A 0.750075 0.750075 0 0 0 3.71875 4.78125 L 5.9648438 7.0273438 L 4 8.5 L 4 9 L 8 9 C 8.500001 8.9999988 9 8.4999992 9 8 L 9 4 L 8.5 4 L 7.0175781 5.9550781 L 4.78125 3.71875 A 0.750075 0.750075 0 0 0 4.2421875 3.4921875 z M 15.734375 3.4921875 A 0.750075 0.750075 0 0 0 15.21875 3.71875 L 12.984375 5.953125 L 11.5 4 L 11 4 L 11 8 C 11 8.4999992 11.499999 8.9999988 12 9 L 16 9 L 16 8.5 L 14.035156 7.0273438 L 16.28125 4.78125 A 0.750075 0.750075 0 0 0 15.734375 3.4921875 z M 4 11 L 4 11.5 L 5.9648438 12.972656 L 3.71875 15.21875 A 0.75130096 0.75130096 0 1 0 4.78125 16.28125 L 7.0273438 14.035156 L 8.5 16 L 9 16 L 9 12 C 9 11.500001 8.500001 11.000001 8 11 L 4 11 z M 12 11 C 11.499999 11.000001 11 11.500001 11 12 L 11 16 L 11.5 16 L 12.972656 14.035156 L 15.21875 16.28125 A 0.75130096 0.75130096 0 1 0 16.28125 15.21875 L 14.035156 12.972656 L 16 11.5 L 16 11 L 12 11 z '/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass>.mapboxgl-ctrl-compass-arrow{width:20px;height:20px;margin:5px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpolygon fill='%23333333' points='6,9 10,1 14,9'/%3E %3Cpolygon fill='%23CCCCCC' points='6,11 10,19 14,11 '/%3E %3C/svg%3E\");background-repeat:no-repeat;display:inline-block}a.mapboxgl-ctrl-logo{width:85px;height:21px;margin:0 0 -3px -3px;display:block;background-repeat:no-repeat;cursor:pointer;background-image:url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 84.49 21' style='enable-background:new 0 0 84.49 21;' xml:space='preserve'%3E%3Cg%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M83.25,14.26c0,0.12-0.09,0.21-0.21,0.21h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39l-1.44,2.39 c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68L76.2,6.84 c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.4-2.35 c0.06-0.11,0.18-0.17,0.3-0.17H83c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.37,3.63l2.43,3.67 C83.24,14.18,83.25,14.22,83.25,14.26z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M66.24,9.59c-0.39-1.88-1.96-3.28-3.84-3.28c-1.03,0-2.03,0.42-2.73,1.18V3.51c0-0.13-0.1-0.23-0.23-0.23h-1.4 c-0.13,0-0.23,0.11-0.23,0.23v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.11,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.73,1.18 c1.88,0,3.45-1.41,3.84-3.29C66.37,10.79,66.37,10.18,66.24,9.59L66.24,9.59z M62.08,13c-1.32,0-2.39-1.11-2.41-2.48v-0.06 c0.02-1.38,1.09-2.48,2.41-2.48s2.42,1.12,2.42,2.51S63.41,13,62.08,13z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M71.67,6.32c-1.98-0.01-3.72,1.35-4.16,3.29c-0.13,0.59-0.13,1.19,0,1.77c0.44,1.94,2.17,3.32,4.17,3.3 c2.35,0,4.26-1.87,4.26-4.19S74.04,6.32,71.67,6.32z M71.65,13.01c-1.33,0-2.42-1.12-2.42-2.51s1.08-2.52,2.42-2.52 c1.33,0,2.42,1.12,2.42,2.51S72.99,13,71.65,13.01L71.65,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M62.08,7.98c-1.32,0-2.39,1.11-2.41,2.48v0.06C59.68,11.9,60.75,13,62.08,13s2.42-1.12,2.42-2.51 S63.41,7.98,62.08,7.98z M62.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25 c0.63,0,1.17,0.57,1.17,1.27C63.24,11.2,62.73,11.76,62.08,11.76z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M71.65,7.98c-1.33,0-2.42,1.12-2.42,2.51S70.32,13,71.65,13s2.42-1.12,2.42-2.51S72.99,7.98,71.65,7.98z M71.65,11.76c-0.64,0-1.17-0.57-1.17-1.27c0-0.7,0.53-1.26,1.17-1.26s1.17,0.57,1.17,1.27C72.82,11.21,72.29,11.76,71.65,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M45.74,6.53h-1.4c-0.13,0-0.23,0.11-0.23,0.23v0.73c-0.71-0.75-1.7-1.18-2.73-1.18 c-2.17,0-3.94,1.87-3.94,4.19s1.77,4.19,3.94,4.19c1.04,0,2.03-0.43,2.73-1.19v0.73c0,0.13,0.1,0.23,0.23,0.23h1.4 c0.13,0,0.23-0.11,0.23-0.23V6.74c0-0.12-0.09-0.22-0.22-0.22C45.75,6.53,45.75,6.53,45.74,6.53z M44.12,10.53 C44.11,11.9,43.03,13,41.71,13s-2.42-1.12-2.42-2.51s1.08-2.52,2.4-2.52c1.33,0,2.39,1.11,2.41,2.48L44.12,10.53z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M41.71,7.98c-1.33,0-2.42,1.12-2.42,2.51S40.37,13,41.71,13s2.39-1.11,2.41-2.48v-0.06 C44.1,9.09,43.03,7.98,41.71,7.98z M40.55,10.49c0-0.7,0.52-1.27,1.17-1.27c0.64,0,1.14,0.56,1.17,1.25v0.04 c-0.01,0.68-0.53,1.24-1.17,1.24C41.08,11.75,40.55,11.19,40.55,10.49z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M52.41,6.32c-1.03,0-2.03,0.42-2.73,1.18V6.75c0-0.13-0.1-0.23-0.23-0.23h-1.4c-0.13,0-0.23,0.11-0.23,0.23 v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.1,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.74,1.18c2.17,0,3.94-1.87,3.94-4.19 S54.58,6.32,52.41,6.32z M52.08,13.01c-1.32,0-2.39-1.11-2.42-2.48v-0.07c0.02-1.38,1.09-2.49,2.4-2.49c1.32,0,2.41,1.12,2.41,2.51 S53.4,13,52.08,13.01L52.08,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M52.08,7.98c-1.32,0-2.39,1.11-2.42,2.48v0.06c0.03,1.38,1.1,2.48,2.42,2.48s2.41-1.12,2.41-2.51 S53.4,7.98,52.08,7.98z M52.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25c0.63,0,1.17,0.58,1.17,1.27 S52.72,11.76,52.08,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M36.08,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68c0-0.98-0.74-1.71-1.62-1.71 c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.11,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V6.74 c0.01-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03c1.09,0,2.09,0.6,2.6,1.55 c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78L36.08,14.24z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M84.34,13.59l-0.07-0.13l-1.96-2.99l1.94-2.95c0.44-0.67,0.26-1.56-0.41-2.02c-0.02,0-0.03,0-0.04-0.01 c-0.23-0.15-0.5-0.22-0.78-0.22h-1.61c-0.56,0-1.08,0.29-1.37,0.78L79.72,6.6l-0.34-0.56C79.09,5.56,78.57,5.27,78,5.27h-1.6 c-0.6,0-1.13,0.37-1.35,0.92c-2.19-1.66-5.28-1.47-7.26,0.45c-0.35,0.34-0.65,0.72-0.89,1.14c-0.9-1.62-2.58-2.72-4.5-2.72 c-0.5,0-1.01,0.07-1.48,0.23V3.51c0-0.82-0.66-1.48-1.47-1.48h-1.4c-0.81,0-1.47,0.66-1.47,1.47v3.75 c-0.95-1.36-2.5-2.18-4.17-2.19c-0.74,0-1.46,0.16-2.12,0.47c-0.24-0.17-0.54-0.26-0.84-0.26h-1.4c-0.45,0-0.87,0.21-1.15,0.56 c-0.02-0.03-0.04-0.05-0.07-0.08c-0.28-0.3-0.68-0.47-1.09-0.47h-1.39c-0.3,0-0.6,0.09-0.84,0.26c-0.67-0.3-1.39-0.46-2.12-0.46 c-1.83,0-3.43,1-4.37,2.5c-0.2-0.46-0.48-0.89-0.83-1.25c-0.8-0.81-1.89-1.25-3.02-1.25h-0.01c-0.89,0.01-1.75,0.33-2.46,0.88 c-0.74-0.57-1.64-0.88-2.57-0.88H28.1c-0.29,0-0.58,0.03-0.86,0.11c-0.28,0.06-0.56,0.16-0.82,0.28c-0.21-0.12-0.45-0.18-0.7-0.18 h-1.4c-0.82,0-1.47,0.66-1.47,1.47v7.5c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.48-0.66,1.48-1.48l0,0V9.79 c0.03-0.36,0.23-0.59,0.36-0.59c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41c0.82,0,1.47-0.66,1.47-1.47 l-0.01-4.57c0.06-0.32,0.25-0.47,0.35-0.47c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41 c0.82,0,1.47-0.66,1.47-1.47v-0.38c0.96,1.29,2.46,2.06,4.06,2.06c0.74,0,1.46-0.16,2.12-0.47c0.24,0.17,0.54,0.26,0.84,0.26h1.39 c0.3,0,0.6-0.09,0.84-0.26v2.01c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.47-0.66,1.47-1.47v-1.77c0.48,0.15,0.99,0.23,1.49,0.22 c1.7,0,3.22-0.87,4.17-2.2v0.52c0,0.82,0.66,1.47,1.47,1.47h1.4c0.3,0,0.6-0.09,0.84-0.26c0.66,0.31,1.39,0.47,2.12,0.47 c1.92,0,3.6-1.1,4.49-2.73c1.54,2.65,4.95,3.53,7.58,1.98c0.18-0.11,0.36-0.22,0.53-0.36c0.22,0.55,0.76,0.91,1.35,0.9H78 c0.56,0,1.08-0.29,1.37-0.78l0.37-0.61l0.37,0.61c0.29,0.48,0.81,0.78,1.38,0.78h1.6c0.81,0,1.46-0.66,1.45-1.46 C84.49,14.02,84.44,13.8,84.34,13.59L84.34,13.59z M35.86,14.47h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23 V9.68c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23 V6.74c0.01-0.13,0.11-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03 c1.09,0,2.09,0.6,2.6,1.55c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78l0.01,5.16C36.09,14.36,35.98,14.46,35.86,14.47 L35.86,14.47z M45.97,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V13.5c-0.7,0.76-1.69,1.18-2.72,1.18 c-2.17,0-3.94-1.87-3.94-4.19s1.77-4.19,3.94-4.19c1.03,0,2.02,0.43,2.73,1.18V6.74c0-0.13,0.1-0.23,0.23-0.23h1.4 c0.12-0.01,0.22,0.08,0.23,0.21c0,0.01,0,0.01,0,0.02v7.51h-0.01V14.24z M52.41,14.67c-1.03,0-2.02-0.43-2.73-1.18v3.97 c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.1-0.23-0.23V6.75c0-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.23,0.11,0.23,0.23v0.73 c0.71-0.76,1.7-1.18,2.73-1.18c2.17,0,3.94,1.86,3.94,4.18S54.58,14.67,52.41,14.67z M66.24,11.39c-0.39,1.87-1.96,3.29-3.84,3.29 c-1.03,0-2.02-0.43-2.73-1.18v0.73c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V3.51c0-0.13,0.1-0.23,0.23-0.23 h1.4c0.13,0,0.23,0.11,0.23,0.23v3.97c0.71-0.75,1.7-1.18,2.73-1.17c1.88,0,3.45,1.4,3.84,3.28C66.37,10.19,66.37,10.8,66.24,11.39 L66.24,11.39L66.24,11.39z M71.67,14.68c-2,0.01-3.73-1.35-4.17-3.3c-0.13-0.59-0.13-1.19,0-1.77c0.44-1.94,2.17-3.31,4.17-3.3 c2.36,0,4.26,1.87,4.26,4.19S74.03,14.68,71.67,14.68L71.67,14.68z M83.04,14.47h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39 l-1.44,2.39c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68 L76.2,6.84c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.41-2.36 c0.06-0.11,0.18-0.17,0.3-0.17h1.61c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.38,3.64l2.43,3.67 c0.02,0.03,0.03,0.07,0.03,0.12C83.25,14.38,83.16,14.47,83.04,14.47L83.04,14.47L83.04,14.47z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M10.5,1.24c-5.11,0-9.25,4.15-9.25,9.25s4.15,9.25,9.25,9.25s9.25-4.15,9.25-9.25 C19.75,5.38,15.61,1.24,10.5,1.24z M14.89,12.77c-1.93,1.93-4.78,2.31-6.7,2.31c-0.7,0-1.41-0.05-2.1-0.16c0,0-1.02-5.64,2.14-8.81 c0.83-0.83,1.95-1.28,3.13-1.28c1.27,0,2.49,0.51,3.39,1.42C16.59,8.09,16.64,11,14.89,12.77z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M10.5-0.01C4.7-0.01,0,4.7,0,10.49s4.7,10.5,10.5,10.5S21,16.29,21,10.49C20.99,4.7,16.3-0.01,10.5-0.01z M10.5,19.74c-5.11,0-9.25-4.15-9.25-9.25s4.14-9.26,9.25-9.26s9.25,4.15,9.25,9.25C19.75,15.61,15.61,19.74,10.5,19.74z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M14.74,6.25C12.9,4.41,9.98,4.35,8.23,6.1c-3.16,3.17-2.14,8.81-2.14,8.81s5.64,1.02,8.81-2.14 C16.64,11,16.59,8.09,14.74,6.25z M12.47,10.34l-0.91,1.87l-0.9-1.87L8.8,9.43l1.86-0.9l0.9-1.87l0.91,1.87l1.86,0.9L12.47,10.34z'/%3E %3Cpolygon class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' points='14.33,9.43 12.47,10.34 11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 '/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:21px;height:21px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 21 21' style='enable-background:new 0 0 21 21;' xml:space='preserve'%3E%3Cg transform='translate(0,0.01)'%3E%3Cpath d='m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3Cpath d='M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpath d='M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpolygon points='11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 ' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3C/g%3E%3C/svg%3E\")}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:rgba(255,255,255,0.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{margin:10px;position:relative;background-color:#fff;border-radius:3px 12px 12px 3px}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 24px 2px 4px;visibility:visible}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover,.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 4px 2px 24px;border-radius:12px 3px 3px 12px}.mapboxgl-ctrl-attrib.mapboxgl-compact>*{display:none}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover>*{display:inline}.mapboxgl-ctrl-attrib.mapboxgl-compact::after{content:'';cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill='%23333333' fill-rule='evenodd' d='M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0'/%3E %3C/svg%3E\");background-color:rgba(255,255,255,0.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{bottom:0;left:0}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,0.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:bold;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:rgba(255,255,255,0.75);font-size:10px;border-width:medium 2px 2px;border-style:none solid solid;border-color:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-flex;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,0.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,0.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot{background-color:#1da1f2;width:15px;height:15px;border-radius:50%;box-shadow:0 0 2px rgba(0,0,0,0.25)}.mapboxgl-user-location-dot::before{background-color:#1da1f2;content:'';width:15px;height:15px;border-radius:50%;position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;-moz-animation:mapboxgl-user-location-dot-pulse 2s infinite;-ms-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot::after{border-radius:50%;border:2px solid #fff;content:'';height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}100%{-webkit-transform:scale(1);opacity:0}}@-ms-keyframes mapboxgl-user-location-dot-pulse{0%{-ms-transform:scale(1);opacity:1}70%{-ms-transform:scale(3);opacity:0}100%{-ms-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}100%{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale::after{display:none}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:0.5}@media print{.mapbox-improve-map{display:none}}.station-facilities-main-container{margin-bottom:50px}.station-facilities-main-container .static-card-wrapper.show-as-card:hover{background-color:#ececec}.station-facilities-main-container .container-fluid .tile-item-stop-view-mode{box-shadow:none}.station-facilities-main-container .col-left-map-view{display:contents}.station-facilities-main-container .col-left-no-stop-view{padding:6px 0;box-shadow:8px 0 8px -2px rgba(0,0,0,0.2);overflow:auto}.station-facilities-main-container .col-left-no-stop-view .facility-list{margin:15px 7.5px}.station-facilities-main-container .col-left{position:relative;background:#f6f6f6;height:80vh;padding:0 0 6px 0;margin-bottom:0;z-index:1}.station-facilities-main-container .col-left .facility-list,.station-facilities-main-container .col-left .nearby-stops-list{display:flex;flex-direction:column;height:72vh;position:relative;overflow:hidden;overflow-y:auto}.station-facilities-main-container .col-left .facility-list .spinner-wrapper,.station-facilities-main-container .col-left .nearby-stops-list .spinner-wrapper{padding-top:14px;display:flex;align-items:center;flex-direction:column}.station-facilities-main-container .col-left .facility-list .spinner-wrapper h4,.station-facilities-main-container .col-left .nearby-stops-list .spinner-wrapper h4{padding-top:15px}.station-facilities-main-container .col-left .facility-list .error-message,.station-facilities-main-container .col-left .nearby-stops-list .error-message{display:inline;padding-left:8px;vertical-align:middle}.station-facilities-main-container .col-left .facility-list /deep/ .error-message-container svg.tp-icon,.station-facilities-main-container .col-left .nearby-stops-list /deep/ .error-message-container svg.tp-icon{fill:#1D69B4;color:#1D69B4}@media (max-width: 767px){.station-facilities-main-container .col-left .facility-list,.station-facilities-main-container .col-left .nearby-stops-list{height:70vh}}.station-facilities-main-container .col-left .facilities-only{height:79vh;margin:0}.station-facilities-main-container .col-left .nearby-stops-list{padding-top:20px}.station-facilities-main-container .col-left .nearby-stops-list /deep/ .error-message-container{padding-left:24px}.station-facilities-main-container .col-left .facility-list{padding:16px 16px 0 16px;display:block;min-height:165px}@media (max-width: 767px){.station-facilities-main-container .col-left .facility-list{min-height:155px}}@media (max-width: 767px){.station-facilities-main-container .col-left .visible-xs-inline-block{display:block}}.station-facilities-main-container ul.tfnsw-nav-tabs.nav-justified>li{flex:1}.station-facilities-main-container ul.tfnsw-nav-tabs{margin-top:0px;border-bottom:none}.station-facilities-main-container ul.tfnsw-nav-tabs li.active{margin-top:0;box-shadow:none;border-bottom:4px solid #1D69B4}.station-facilities-main-container ul.tfnsw-nav-tabs li.active .arrow-down{border-left:5px solid transparent;border-right:5px solid transparent;width:0;height:0;left:0;right:0;border-top:5px solid #0069B7;bottom:-9px;margin:auto;position:absolute}.station-facilities-main-container ul.tfnsw-nav-tabs li a,.station-facilities-main-container ul.tfnsw-nav-tabs li a:focus,.station-facilities-main-container ul.tfnsw-nav-tabs li.active a,.station-facilities-main-container ul.tfnsw-nav-tabs li.active a:focus{background-color:#ececec;color:#555;border:none;border-color:none;padding:15px;font-weight:500;font-size:15px}@media (max-width: 767px){.station-facilities-main-container ul.tfnsw-nav-tabs li a,.station-facilities-main-container ul.tfnsw-nav-tabs li a:focus,.station-facilities-main-container ul.tfnsw-nav-tabs li.active a,.station-facilities-main-container ul.tfnsw-nav-tabs li.active a:focus{font-size:14px}}.station-facilities-main-container .map-container{padding:0;margin:0;height:80vh}.station-facilities-main-container .map-container .facility-count{font-weight:500}.station-facilities-main-container .map-container svg.blue{color:#1D69B4}.station-facilities-main-container .map-container .placeholder-image{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-image:url(\"/themes/custom/tfnsw_bootstrap/assets/images/map-empty-state_720.jpg\");background-size:cover}.station-facilities-main-container .map-container .placeholder-image .placeholder-text{max-width:90%;text-align:center;font-weight:500;padding-top:40px}.station-facilities-main-container .map-container .placeholder-image .placeholder-text .tp-icon-disruption{padding-right:5px;color:#1D69B4}.station-facilities-main-container .map-container .placeholder-image .placeholder-text a{text-decoration:underline}@media (max-width: 767px){.station-facilities-main-container .map-container .placeholder-image{align-items:flex-start;padding:20px;max-height:100%}}.station-facilities-main-container .map-container .mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass{display:none}.station-facilities-main-container .map-container .mapboxgl-ctrl-logo::after{display:none}.station-facilities-main-container .map-container .map-copyright{padding-right:5px}.station-facilities-main-container .map-container .mapboxgl-popup-anchor-top .mapboxgl-popup-tip,.station-facilities-main-container .map-container .mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip,.station-facilities-main-container .map-container .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{border-bottom-color:#F9F9F9 !important}.station-facilities-main-container .map-container .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip,.station-facilities-main-container .map-container .mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip,.station-facilities-main-container .map-container .mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{border-top-color:#F9F9F9 !important}.station-facilities-main-container .map-container .mapboxgl-popup-anchor-bottom{padding-bottom:13px}@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none){.station-facilities-main-container .map-container .mapboxgl-popup-anchor-bottom .mapboxgl-popup-content{margin-bottom:-15px}}.station-facilities-main-container .map-container .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-top-color:#F9F9F9 !important;position:absolute;bottom:5px;border-color:transparent transparent #F9F9F9 #F9F9F9;transform:rotate(-45deg);box-shadow:-3px 3px 3px 0 rgba(0,0,0,0.4);border-bottom:8px solid #F9F9F9}@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none){.station-facilities-main-container .map-container .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{position:relative;bottom:-4px;border-bottom:8px solid #F9F9F9}}.station-facilities-main-container .map-container .mapboxgl-popup-anchor-left .mapboxgl-popup-tip{border-right-color:#F9F9F9 !important}.station-facilities-main-container .map-container .mapboxgl-popup-anchor-right .mapboxgl-popup-tip{border-left-color:#F9F9F9 !important}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content{line-height:1.4;padding:0;max-width:300px;text-align:left;font-family:transtext, sans-serif;border-radius:0;box-shadow:0 2px 3px 0 rgba(0,0,0,0.4)}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-close-button{position:absolute;top:10px;right:5px;width:16px;height:16px;color:#333;margin:3px 3px 5px 5px;font:18px/16px Tahoma, Verdana, sans-serif;line-height:14px;text-align:center;vertical-align:middle;padding:0;display:table-cell}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-close-button :hover{background-color:transparent}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .location{border-left:3px solid #1D69B4}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container{padding:6px 12px 12px 12px}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container h3{margin:5px 16px 0 0;font-size:15px;font-weight:500}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container .message{font-size:14px}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container .message p{margin:0}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container .message .route{display:inline-block;padding:5px}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container .message .routes-info{display:flex;flex-direction:row;margin-top:10px}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container .message .routes-info-with-no-routes{padding-top:20px;font-size:15px;font-weight:500}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container .message .routes-table{flex:1 1 auto;max-width:300px;margin-top:2px}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container .message .mode{flex:0 1 auto;padding-top:2px;margin-right:10px}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container{border-top:1px solid #cacaca;padding:10px 5px;width:100%;display:-webkit-flex;display:-ms-flexbox;flex:1 0 auto;display:flex;-webkit-justify-content:space-around;justify-content:space-around;background-color:#f9f9f9}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a{margin:0}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .tp-icon{fill:#1D69B4;color:#1D69B4;margin:-2px 5px 0 0}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .link-label{text-decoration:underline}.station-facilities-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-tip.grey{display:none}.tni-tab-container .tni-tab-header-container .tni-tab-header.active-tab{border:0;background-color:#1D69B4 !important;color:#fff !important;padding:15px;font-weight:500;line-height:10px;padding-top:18px !important;margin-left:-1px;margin-right:-1px;margin-top:-8px;line-height:18px;box-shadow:3px -1px 3px 0 rgba(0,0,0,0.25)}.tab-view-container-no-stop-view .tni-tab-container .tni-tab-header-container .tni-tab-header.active-tab{margin-left:0;margin-right:0;line-height:18px;box-shadow:3px -1px 3px 0 rgba(0,0,0,0.25)}.tab-view-container-no-stop-view /deep/ .tni-tab-container /deep/ .tni-tab-header-container{background:#fff !important;line-height:10px;height:46px;border-bottom:4px solid #1D69B4}::ng-deep .route-icon-number{width:40px;height:18px;border-radius:3px;padding:0;margin:0;font-size:12px;line-height:18px;letter-spacing:0.16px}.tab-view-container{padding-top:80px;margin-top:-80px}.tab-view-container /deep/ .tni-tab-container /deep/ .tni-tab-header-container{background:#fff !important;line-height:10px;height:46px}.tab-view-container /deep/ .tni-tab-container /deep/ .tni-tab-header{color:#555 !important;border-right:0;border-bottom:0;line-height:14px;font-size:14px;padding-top:14px !important}\n  "],data:{}});function nt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,7,"div",[["class","tab-view-container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,6,"tni-tab-group",[],null,[[null,"tabChange"]],function(t,e,n){var r=!0,i=t.component;return"tabChange"===e&&(i.onViewChange(n),r=!1!==i.trackViewChange(n)&&r),r},i.b,i.a)),r.hb(2,1097728,null,1,o.a,[],{activeTabId:[0,"activeTabId"]},{tabChange:"tabChange"}),r.xb(603979776,1,{tabs:1}),(t()(),r.ib(4,0,null,null,1,"tni-tab",[["tabId","tni-list-tab"],["title","List"]],null,null,null,a.b,a.a)),r.hb(5,49152,[[1,4]],0,s.a,[],{tabId:[0,"tabId"],title:[1,"title"]},null),(t()(),r.ib(6,0,null,null,1,"tni-tab",[["tabId","tni-map-tab"],["title","Map"]],null,null,null,a.b,a.a)),r.hb(7,49152,[[1,4]],0,s.a,[],{tabId:[0,"tabId"],title:[1,"title"]},null)],function(t,e){t(e,2,0,e.component.activeViewId),t(e,5,0,"tni-list-tab","List"),t(e,7,0,"tni-map-tab","Map")},null)}function rt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,8,"ul",[["class","nav nav-tabs tfnsw-nav-tabs nav-justified"],["role","tablist"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,3,"li",[],[[2,"active",null]],null,null,null,null)),(t()(),r.ib(2,0,null,null,1,"a",[["aria-controls","tab-pan"],["href","javascript:;"],["id","tab-pane-facilities"],["role","tab"]],[[1,"aria-selected",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.switchType(i.GroupTypeEnum.Facilities)&&r),r},null,null)),(t()(),r.zb(-1,null,["Facilities"])),(t()(),r.ib(4,0,null,null,0,"div",[["class","arrow-down"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,3,"li",[],[[2,"active",null]],null,null,null,null)),(t()(),r.ib(6,0,null,null,1,"a",[["aria-controls","tab-pan"],["href","javascript:;"],["id","tab-pane-stops"],["role","tab"]],[[1,"aria-selected",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.switchType(i.GroupTypeEnum.NearbyStops)&&r),r},null,null)),(t()(),r.zb(-1,null,["Nearby stops"])),(t()(),r.ib(8,0,null,null,0,"div",[["class","arrow-down"]],null,null,null,null,null))],null,function(t,e){var n=e.component;t(e,1,0,n.activeGroupId===n.GroupTypeEnum.Facilities),t(e,2,0,n.activeGroupId===n.GroupTypeEnum.Facilities),t(e,5,0,n.activeGroupId===n.GroupTypeEnum.NearbyStops),t(e,6,0,n.activeGroupId===n.GroupTypeEnum.NearbyStops)})}function it(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["class","spinner-wrapper"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-spinner",[["srText",""]],null,null,null,l.b,l.a)),r.hb(2,49152,null,0,u.a,[],{srText:[0,"srText"]},null),(t()(),r.ib(3,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Loading..."]))],function(t,e){t(e,2,0,"")},null)}function ot(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"facility-list",[],null,[[null,"selectCard"]],function(t,e,n){var r=!0,i=t.component;return"selectCard"===e&&(i.scrollToTabs(),r=!1!==i.displayOnMap(n)&&r),r},E,y)),r.hb(1,49152,null,0,g.a,[],{listViewFacilities:[0,"listViewFacilities"],listAndMapViewFacilities:[1,"listAndMapViewFacilities"]},{selectCard:"selectCard"})],function(t,e){var n=e.component;t(e,1,0,n.listViewFacilities,n.listAndMapViewFacilities)},null)}function at(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["class","error-message-container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","sm blue"],["iconName","alert"]],null,null,null,p.b,p.a)),r.hb(2,49152,null,0,h.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.ib(3,0,null,null,1,"p",[["class","error-message"]],null,null,null,null,null)),(t()(),r.zb(4,null,[" "," "]))],function(t,e){t(e,2,0,"alert","sm blue")},function(t,e){t(e,4,0,e.component.facilitySchemaErrorMessage)})}function st(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"div",[["class","facility-list"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,it)),r.hb(2,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,ot)),r.hb(4,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,at)),r.hb(6,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.displaySpinner),t(e,4,0,!n.displaySpinner&&!n.displayErrorMessageForFacilities),t(e,6,0,n.displayErrorMessageForFacilities)},null)}function lt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["class","spinner-wrapper"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-spinner",[["srText",""]],null,null,null,l.b,l.a)),r.hb(2,49152,null,0,u.a,[],{srText:[0,"srText"]},null),(t()(),r.ib(3,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Loading..."]))],function(t,e){t(e,2,0,"")},null)}function ut(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"stop-list",[],null,[[null,"selectMap"],[null,"toggleCard"]],function(t,e,n){var r=!0,i=t.component;return"selectMap"===e&&(r=!1!==i.displayMap(n)&&r),"toggleCard"===e&&(r=!1!==i.onToggleStopCard(n)&&r),r},j,B)),r.hb(1,49152,null,0,F.a,[Y.a],{stops:[0,"stops"],stopsRoutes:[1,"stopsRoutes"]},{toggleCard:"toggleCard",selectMap:"selectMap"})],function(t,e){var n=e.component;t(e,1,0,n.sortedStops,n.routeDetails)},null)}function ct(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["class","error-message-container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","sm blue"],["iconName","alert"]],null,null,null,p.b,p.a)),r.hb(2,49152,null,0,h.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.ib(3,0,null,null,1,"p",[["class","error-message"]],null,null,null,null,null)),(t()(),r.zb(4,null,[" "," "]))],function(t,e){t(e,2,0,"alert","sm blue")},function(t,e){t(e,4,0,e.component.stopSchemaErrorMessage)})}function pt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"div",[["class","nearby-stops-list"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,lt)),r.hb(2,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,ut)),r.hb(4,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,ct)),r.hb(6,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.displaySpinnerForStops),t(e,4,0,!n.displaySpinnerForStops&&!n.displayErrorMessageForStops),t(e,6,0,n.displayErrorMessageForStops)},null)}function ht(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-map",[],null,[[null,"clickMap"],[null,"loadMap"],[null,"clickMarker"]],function(t,e,n){var r=!0,i=t.component;return"clickMap"===e&&(r=!1!==i.closeAllPopups()&&r),"loadMap"===e&&(r=!1!==i.setMapInstance(n)&&r),"clickMarker"===e&&(r=!1!==i.onClickMapMarker(n)&&r),r},V.b,V.a)),r.hb(1,638976,null,0,H.a,[U.a,G.a,q.a],{zoom:[0,"zoom"],mapStyle:[1,"mapStyle"],centerLngLat:[2,"centerLngLat"],clickSourceLayer:[3,"clickSourceLayer"],closePopupOnClick:[4,"closePopupOnClick"],popupOnHover:[5,"popupOnHover"],markers:[6,"markers"]},{clickMap:"clickMap",loadMap:"loadMap",clickMarker:"clickMarker"})],function(t,e){var n=e.component;t(e,1,0,18,n.mapStyle,n.centerLngLat,r.V,!1,!0,n.markers)},null)}function dt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,20,"div",[["class","station-facilities-main-container"],["id","station-facilities-main-container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,19,"section",[["class","tfnsw-app-public"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,18,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,17,"div",[["class","row tile-item tile-item-stop-view-mode"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,nt)),r.hb(5,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(6,0,null,null,11,"div",[["class","col-xs-12 col-sm-7 col-md-5 col-lg-5 col-left"]],null,null,null,null,null)),r.hb(7,278528,null,0,c.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.ub(8,{"col-left-map-view":0}),(t()(),r.ib(9,0,null,null,8,"div",[["class","tab-group-no-gutter"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,rt)),r.hb(11,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(12,0,null,null,5,"div",[["class","tab-content"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r.ib(13,0,null,null,4,"div",[["class","tab-pane active"],["id","tab-pane-active-content"],["role","tabpanel"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,st)),r.hb(15,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,pt)),r.hb(17,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(18,0,null,null,2,"div",[["class","col-sm-5 col-md-7 col-lg-7 map-container"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,ht)),r.hb(20,16384,null,0,c.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,n.isMobileView());var r=t(e,8,0,n.isMobileView()&&n.showMap);t(e,7,0,"col-xs-12 col-sm-7 col-md-5 col-lg-5 col-left",r),t(e,11,0,!n.showMap),t(e,15,0,n.activeGroupId===n.GroupTypeEnum.Facilities),t(e,17,0,n.activeGroupId===n.GroupTypeEnum.NearbyStops),t(e,20,0,n.centerLngLat)},function(t,e){var n=e.component;t(e,12,0,n.isMobileView()&&n.showMap),t(e,18,0,n.isMobileView()&&!n.showMap)})}function ft(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"station-facilities",[],null,null,null,dt,et)),r.hb(1,770048,null,0,W.a,[q.a,r.y,Z.a,X.a,J.a,K.a,Q.a,$.a,Y.a,tt.a],null,null)],function(t,e){t(e,1,0)},null)}var mt=r.eb("station-facilities",W.a,ft,{},{},[])},"YH/8":function(t,e){},YRex:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===e||"\u0633\u06d5\u06be\u06d5\u0631"===e||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===e?t:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===e||"\u0643\u06d5\u0686"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":r<900?"\u0633\u06d5\u06be\u06d5\u0631":r<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":r<1230?"\u0686\u06c8\u0634":r<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return t+"-\u06be\u06d5\u067e\u062a\u06d5";default:return t}},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}()},YWy8:function(t,e,n){"use strict";var r=function(t){return t[t.stop="stop"]="stop",t[t.line="line"]="line",t[t.region="region"]="region",t}({}),i=function(t){return t[t.STATIONLINK=0]="STATIONLINK",t}({});n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},Yl2j:function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("8g8A"),a=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.c(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.a),s=n("F/XL"),l=n("67Y/"),u=n("0zd0"),c=n("tuZB"),p=n("XBuN");n.d(e,"a",function(){return h});var h=function(){function t(t){this.http=t,this.eSearchData$=new a([]),this.routeDataError$=new a(null),this.servingLinesSchemaCache$={}}return t.prototype.getRoutes=function(t){var e=this;return this.servingLinesSchemaCache$[t]?Object(s.a)(this.servingLinesSchemaCache$[t].schema):this.http.get(p.t+"&name_sl="+t).pipe(Object(l.a)(function(n){return e.servingLinesSchemaCache$[t]={schema:n},e.servingLinesSchemaCache$[t].schema}))},t.prototype.getRouteDataAndCreateElasticSubject=function(t){var e=this,n="",r=[];return t.forEach(function(t){n=e.appendToRouteQuery(t,n),r.push(t.id)}),this.getDataFromSearchAndCreateElasticSubject(n,r)},t.prototype.appendToRouteQuery=function(t,e){if(t){var n=t.id.toLowerCase().split(":");return e+"+"+(""+n[2]==" "||n[1].indexOf("t1")>-1||n[1].indexOf("t2")>-1?n[1]:n[1]+"-"+n[2])}},t.prototype.getDataFromSearchAndCreateElasticSubject=function(t,e){var n=this;t=t.substr(1,t.length);var r=this.http.get(p.b+"?size=400&q=operating_branch_route_number:("+t+")").pipe(Object(l.a)(function(t){return t}));return r.subscribe(function(t){var r=t.hits.hits;r=r.filter(function(t){return e.indexOf(t._source.payload.diva.id)>-1}),n.eSearchData$.next(r)},function(t){return n.routeDataError$.next(t)}),r},t.prototype.getRoutesByStopId=function(t){return this.http.post(""+p.p,t).pipe(Object(l.a)(function(t){return t.stops}),Object(u.a)(c.g))},t}()},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Z4QM:function(t,e,n){!function(t){"use strict";var e=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],r=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];n("wd/R").defineLocale("sd",{months:e,monthsShort:e,weekdays:r,weekdaysShort:r,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}()},ZAMP:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}()},ZYjt:function(t,e,n){"use strict";n.d(e,"p",function(){return yt}),n.d(e,"q",function(){return E}),n.d(e,"a",function(){return _t}),n.d(e,"h",function(){return gt}),n.d(e,"c",function(){return k}),n.d(e,"d",function(){return T}),n.d(e,"e",function(){return tt}),n.d(e,"f",function(){return et}),n.d(e,"g",function(){return nt}),n.d(e,"b",function(){return st}),n.d(e,"r",function(){return s}),n.d(e,"j",function(){return Y}),n.d(e,"i",function(){return Q}),n.d(e,"m",function(){return rt}),n.d(e,"n",function(){return at}),n.d(e,"l",function(){return D}),n.d(e,"o",function(){return A}),n.d(e,"k",function(){return lt});var r=n("mrSG"),i=n("Ip0R"),o=n("CcnG"),a=null;function s(){return a}var l,u={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};o.jb.Node&&(l=o.jb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var h,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,a||(a=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var i;(i=t)[e].apply(i,Object(r.g)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return u},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return l.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&p.hasOwnProperty(e)&&(e=p[e]))}return c[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=f||(f=document.querySelector("base"))?f.getAttribute("href"):null;return null==n?null:(e=n,h||(h=document.createElement("a")),h.setAttribute("href",e),"/"===h.pathname.charAt(0)?h.pathname:"/"+h.pathname)},e.prototype.resetBaseElement=function(){f=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(i.q)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(r.c)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),f=null,m=i.c;function g(){return!!window.history.pushState}var y=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(r.c)(e,t),e.prototype._init=function(){this.location=s().getLocation(),this._history=s().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return s().getBaseHref(this._doc)},e.prototype.onPopState=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){g()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){g()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(r.b)([Object(r.e)(0,Object(o.l)(m)),Object(r.d)("design:paramtypes",[Object])],e)}(i.l),_=new o.m("TRANSITION_ID"),v=[{provide:o.b,useFactory:function(t,e,n){return function(){n.get(o.c).donePromise.then(function(){var n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[_,m,o.n],multi:!0}],b=function(){function t(){}return t.init=function(){Object(o.R)(new t)},t.prototype.addToWindow=function(t){o.jb.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},o.jb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},o.jb.getAllAngularRootElements=function(){return t.getAllRootElements()},o.jb.frameworkStabilizers||(o.jb.frameworkStabilizers=[]),o.jb.frameworkStabilizers.push(function(t){var e=o.jb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null},t}();function x(t,e){"undefined"!=typeof COMPILED&&COMPILED||((o.jb.ng=o.jb.ng||{})[t]=e)}var w={ApplicationRef:o.e,NgZone:o.t},M="probe",C="coreTokens";function L(t){return Object(o.N)(t)}function E(t){return x(M,L),x(C,Object(r.a)({},w,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return L}}var k=new o.m("EventManagerPlugins"),T=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),S=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),A=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),D=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(r.c)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return s().remove(t)})},e}(A),I={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},P=/%COMP%/g,O="_nghost-%COMP%",N="_ngcontent-%COMP%";function R(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?R(t,i,n):(i=i.replace(P,t),n.push(i))}return n}function F(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Y=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new B(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case o.H.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new H(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case o.H.Native:case o.H.ShadowDom:return new U(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=R(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),B=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(I[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=I[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=I[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&o.A.DashCase?t.style.setProperty(e,n,r&o.A.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&o.A.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){j(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return j(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,F(n)):this.eventManager.addEventListener(t,e,F(n))},t}(),z="@".charCodeAt(0);function j(t,e){if(t.charCodeAt(0)===z)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var V,H=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=R(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=N.replace(P,r.id),i.hostAttr=O.replace(P,r.id),i}return Object(r.c)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(B),U=function(t){function e(e,n,r,i){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=r,a.component=i,a.shadowRoot=i.encapsulation===o.H.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=R(i.id,i.styles,[]),l=0;l<s.length;l++){var u=document.createElement("style");u.textContent=s[l],a.shadowRoot.appendChild(u)}return a}return Object(r.c)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(B),G="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},q=G("addEventListener"),W=G("removeEventListener"),Z={},X="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[G("BLACK_LISTED_EVENTS")]&&(V={});var J=function(t){return!!V&&V.hasOwnProperty(t)},K=function(t){var e=Z[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[X];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Q=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.ngZone=n,r&&Object(i.n)(r)||o.patchEvent(),o}return Object(r.c)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[X]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[q]||o.t.isInAngularZone()&&!J(e))t.addEventListener(e,i,!1);else{var a=Z[e];a||(a=Z[e]=G("ANGULAR"+e+"FALSE"));var s=t[a],l=s&&s.length>0;s||(s=t[a]=[]);var u=J(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:u,handler:i});else{for(var c=!1,p=0;p<s.length;p++)if(s[p].handler===i){c=!0;break}c||s.push({zone:u,handler:i})}l||t[q](e,K,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[W];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Z[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,K,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(S),$={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tt=new o.m("HammerGestureConfig"),et=new o.m("HammerLoader"),nt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),rt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(r.c)(e,t),e.prototype.supports=function(t){return!(!$.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(S),it=["alt","control","meta","shift"],ot={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},at=function(t){function e(e){return t.call(this,e)||this}var n;return Object(r.c)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return s().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(it.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=s().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),it.forEach(function(r){r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(S),st=function(){return function(){}}(),lt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(r.c)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case o.C.NONE:return e;case o.C.HTML:return e instanceof ct?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(o.W)(this._doc,String(e)));case o.C.STYLE:return e instanceof pt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(o.X)(e));case o.C.SCRIPT:if(e instanceof ht)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case o.C.URL:return e instanceof ft||e instanceof dt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(o.Y)(String(e)));case o.C.RESOURCE_URL:if(e instanceof ft)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof ut)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new ct(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new pt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ht(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new dt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new ft(t)},e}(st),ut=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(ut),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(ut),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(ut),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(ut),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(ut),mt=[{provide:o.v,useValue:i.o},{provide:o.w,useValue:function(){d.makeCurrent(),b.init()},multi:!0},{provide:i.l,useClass:y,deps:[m]},{provide:m,useFactory:function(){return document},deps:[]}],gt=Object(o.J)(o.Q,"browser",mt);function yt(){return new o.j}var _t=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:o.a,useValue:t.appId},{provide:_,useExisting:o.a},v]}},t}();"undefined"!=typeof window&&window},Zduo:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_a\u016dg_sep_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}()},ZxUa:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},aIdf:function(t,e,n){!function(t){"use strict";function e(t,e,n){return t+" "+function(t,e){return 2===e?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}n("wd/R").defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:function(t){switch(function t(e){return e>9?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(t){return t+(1===t?"a\xf1":"vet")},week:{dow:1,doy:4}})}()},aIsn:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}()},aQkU:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u043e\u0441\u043b\u0435 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-\u0435\u0432":0===n?t+"-\u0435\u043d":n>10&&n<20?t+"-\u0442\u0438":1===e?t+"-\u0432\u0438":2===e?t+"-\u0440\u0438":7===e||8===e?t+"-\u043c\u0438":t+"-\u0442\u0438"},week:{dow:1,doy:7}})}()},b1Dy:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},b497:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=function(){function t(){this.selectTab=new r.k}return t.prototype.onClick=function(t){this.selectedTab=t,this.selectTab.emit(t)},t}()},b5LC:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t}()},b7mW:function(t,e,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},bOMt:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},bXm7:function(t,e,n){!function(t){"use strict";var e={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};t.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},bYM6:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}()},baxS:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("CcnG"),i=n("Ip0R"),o=(n("3qSw"),r.gb({encapsulation:2,styles:[],data:{}}));function a(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"span",[["class","route-icon-number"]],null,null,null,null,null)),r.hb(1,278528,null,0,i.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.hb(2,278528,null,0,i.j,[r.p,r.i,r.y],{ngStyle:[0,"ngStyle"]},null),r.ub(3,{"background-color":0,color:1}),(t()(),r.zb(4,null,[" "," "]))],function(t,e){var n=e.component;t(e,1,0,"route-icon-number",n.iconClass);var r=t(e,3,0,n.backgroundColour,n.colour);t(e,2,0,r)},function(t,e){t(e,4,0,e.component.lineNumber)})}},bne5:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),i=n("isby"),o=n("2Bdj"),a=n("67Y/");function s(t,e,n,l){return Object(o.a)(n)&&(l=n,n=void 0),l?s(t,e,n).pipe(Object(a.a)(function(t){return Object(i.a)(t)?l.apply(void 0,t):l(t)})):new r.a(function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var l=e;e.on(n,r),a=function(){return l.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,r),a=function(){return u.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,p=e.length;c<p;c++)t(e[c],n,r,i,o)}i.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}Object},bpih:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}()},bxum:function(t,e,n){"use strict";var r=n("F8mC"),i=n("cQAX"),o=(n("u0Yp"),function(){return function(){}}()),a=function(){function t(){}return t.fromJson=function(e){var n=new t,r=e._source.payload;n.divaId=r.diva.id,n.productId=parseInt(r.route.transport_name_id,10),n.colour=new o,n.colour.background=r.route.colour.background,n.colour.foreground=r.route.colour.foreground,n.colour.text=r.route.colour.text,n.routeNumber=r.route.number,n.routeName=r.route.name;var i=r.diva.id.split(":");return n.routeId=i[2].trim().length>0?i[1]+":"+i[2].trim():i[1],n},t.prototype.operatingBranchRouteNumber=function(){if(!this.divaId)return null;var t=this.divaId.split(":");return t.length<2?null:"020T1"===t[1]||"020T2"===t[1]||t.length<3||""===t[2].trim()?t[1]:t[1]+"-"+t[2]},t}();n("NAPj"),n.d(e,"c",function(){return r.a}),n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return a})},cQAX:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("+/t3"),i=function(){function t(){}return t.fromJson=function(e){return e?"current_location"===e.type?t.createCurrentLocation():Object.assign(new t,e,{parent:e.parent?t.fromJson(e.parent):null,isCurrent:!1}):null},t.fromStopFinder=function(e){if(!e)return null;var n=new t;return n.id=e.id,n.shortName=e.disassembledName,n.fullName=e.name,n.motTypes=e.modes,n.type=e.type,e.parent&&(n.parent=t.fromStopFinder(e.parent)),n.coord=e.coord,n.matchQuality=e.matchQuality,n.isBest=e.isBest,n.buildingNumber=e.buildingNumber,n.isCurrent=!1,n},t.createCurrentLocation=function(){var e=new t;return e.isCurrent=!0,e.type=r.a.CurrentLocation,e.id="current_location",e.fullName="My current location",e.shortName="My current location",e},t.prototype.equals=function(t){return!!t&&(this===t||this.id===t.id&&this.type===t.type)},t.prototype.suburb=function(){return this.isLocality()?this.fullName:this.parent?this.parent.suburb():null},t.prototype.isLocality=function(){return this.type===r.a.Locality||this.type===r.a.Suburb||this.type===r.a.District},t.prototype.stopfinderName=function(){return this.isLocality()?this.fullName:(this.buildingNumber?this.buildingNumber+" ":"")+this.shortName},t.prototype.description=function(){var t=this.stopfinderName();return!this.isLocality()&&this.suburb()&&(t+=", "+this.suburb()),t},t}()},cRix:function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},czMo:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}()},d8H3:function(t,e,n){"use strict";var r=n("HPWP"),i=function(){return function(){}}(),o=n("Qn/6");n.d(e,"a",function(){return a});var a=function(){function t(){this.stationCards=[]}return t.prototype.getLinks=function(t){var e=[];return t&&t.length>0&&t.forEach(function(t){e.push({linkName:t.name,hideMobile:!1,hideMap:!1,linkAriaLabel:t.label,linkPath:t.link,linkIcon:{iconTitle:t.label,iconAriaHidden:!1,iconName:t.icon}})}),e},t.prototype.getCardList=function(t,e){var n,a=this;switch(t){case r.a.line:return n=[],e.forEach(function(t,e){var r=new i;r.id=e,r.expanded=!1,r.showRouteIcon=!0,r.lineNumber=t.line,r.rank=t.rank,r.foregroundColour=t.foregroundColour,r.fontColour=t.textColour,r.lineColour=t.lineColour,r.headerName=t.routeLongName,r.bodyMessage=t.message,r.extraInfo={layerNames:t.layerNames,bounds:t.bounds,midPoint:t.midPoint},r.iconList=[],n.push(r),r.footerLinks=a.getLinks(t.links),r.footerLinks.forEach(function(t){return t.hideMobile=t.hideMap=t.linkName===o.q})}),n;case r.a.stop:return n=[],e.forEach(function(t){var e=new i;e.id=t.efaNumber,e.expanded=!1,e.showRouteIcon=!1,e.rank=t.rank,e.lineColour=t.lineColour,e.headerName=t.stop,e.bodyMessage=t.message||"",e.extraInfo={routeShortNames:t.routeShortNames,bounds:null,layerNames:[],midPoint:t.coordinates},e.footerLinks=a.getLinks(t.links),e.footerLinks.forEach(function(t){return t.hideMobile=t.hideMap=t.linkName===o.q});var r=[];t.icons.forEach(function(t){r.push({iconName:t,iconTitle:t,iconClasses:"md",iconAriaHidden:!0})}),e.iconList=r,n.push(e)}),n;case r.a.region:return n=e.map(function(t){return a.fromRegion(t)})}return null},t.prototype.fromRegion=function(t){var e=new i;return e.id=t.region,e.expanded=!1,e.showRouteIcon=!1,e.rank=t.rank,e.lineColour=t.lineColour,e.headerName=t.region,e.bodyMessage=t.message,e.extraInfo={layerNames:t.layerNames,midPoint:t.midPoint,bounds:t.bounds},e.footerLinks=this.getLinks(t.links),e.iconList=t.icon&&[{iconName:t.icon,iconTitle:t.icon,iconAriaHidden:!0}]||[],e},t}()},dEht:function(t,e,n){"use strict";var r=n("5tAl"),i=n("67Y/"),o=n("t/Na"),a=n("bxum"),s=n("0/uQ"),l=n("mrSG"),u=n("K9Ia"),c=n("pugT"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return l.c(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),c.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),c.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(u.a);n.d(e,"a",function(){return h});var h=function(){function t(t){this.http=t}return t.prototype.search=function(t){var e=t.join(" OR ");return this.http.get("/es-route-search/_search?q=operating_branch_route_number:("+e+")&size=400").pipe(Object(r.a)(3),Object(i.a)(function(t){return t.hits.hits}),Object(i.a)(function(t){return t.map(function(t){return a.b.fromJson(t)})}))},t.prototype.loadAllProductIdsExceptBus=function(){var t=this;if(this.cacheByAllProductsExceptBus)return Object(s.a)([!0]);var e=new p;return this.searchByProductIds(a.c.ALL_PRODUCT_IDS_EXCEPT_BUSES).subscribe(function(n){t.cacheByAllProductsExceptBus=n,e.next(!0),e.complete()}),e},t.prototype.searchByProductIds=function(t){var e="transport_name_id:("+t.join(" OR ")+")",n=(new o.h).append("q",e).append("size","400");return this.http.get("/es-route-search/_search",{params:n}).pipe(Object(i.a)(function(t){return t.hits.hits}),Object(i.a)(function(t){return t.map(function(t){return a.b.fromJson(t)})}))},t.prototype.findRouteIdsByRouteNumber=function(t){if(!this.cacheByAllProductsExceptBus)throw new Error("Route Search not loaded");return this.cacheByAllProductsExceptBus.filter(function(e){return e.routeNumber===t}).map(function(t){return t.routeId})},t}()},dJjl:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=function(){function t(){this.selectMap=new r.k,this.toggleCard=new r.k,this.selectFooterLink=new r.k}return t.prototype.displayMap=function(t){this.selectMap.emit(t)},t.prototype.onToggleCard=function(t,e){this.toggleCard.emit({expanded:t,card:e})},t.prototype.onSelectFooterLink=function(t,e){this.selectFooterLink.emit({cardLink:t,card:e})},t}()},dNwA:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}()},dkuj:function(t,e,n){"use strict";var r=n("N+V4");n.d(e,"a",function(){return r.a});var i=n("nyDe");n.d(e,"b",function(){return i.a});var o=n("LZq5");n.d(e,"e",function(){return o.a});var a=n("dtn5");n.d(e,"c",function(){return a.a});var s=n("Yl2j");n.d(e,"d",function(){return s.a})},dtn5:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.displayOrderSequence=[24,1,2,3,19,5,4,6,15,16,31,32,33,34,35,36,37,38,14,8,10,12,11,18,13,21,20,7,9,17,22]}return t.prototype.getOrderedRoutes=function(t){var e=[];return this.displayOrderSequence.map(function(n){t.forEach(function(t){n===t.iconId&&e.push(t)})}),e},t}()},"e+ae":function(t,e,n){!function(t){"use strict";var e="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),n="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function r(t){return t>1&&t<5}function i(t,e,n,i){var o=t+" ";switch(n){case"s":return e||i?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return e||i?o+(r(t)?"sekundy":"sek\xfand"):o+"sekundami";case"m":return e?"min\xfata":i?"min\xfatu":"min\xfatou";case"mm":return e||i?o+(r(t)?"min\xfaty":"min\xfat"):o+"min\xfatami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?o+(r(t)?"hodiny":"hod\xedn"):o+"hodinami";case"d":return e||i?"de\u0148":"d\u0148om";case"dd":return e||i?o+(r(t)?"dni":"dn\xed"):o+"d\u0148ami";case"M":return e||i?"mesiac":"mesiacom";case"MM":return e||i?o+(r(t)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return e||i?"rok":"rokom";case"yy":return e||i?o+(r(t)?"roky":"rokov"):o+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},e2Lp:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r="previous_departures",i="favouriteRouteCards"},eYWh:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r=n("CcnG"),i=n("Ip0R"),o=(n("ka1Z"),r.gb({encapsulation:2,styles:[],data:{}}));function a(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,":svg:title",[],[[8,"id",0]],null,null,null,null)),(t()(),r.zb(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,r.kb(1,"",n.iconId,"")),t(e,1,0,n.iconTitle)})}function s(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,":svg:svg",[["class","tp-icon"],["role","img"]],[[1,"aria-labelledby",0],[1,"aria-hidden",0],[8,"hidden",0]],null,null,null,null)),r.hb(1,278528,null,0,i.e,[r.o,r.p,r.i,r.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),r.Z(16777216,null,null,1,null,a)),r.hb(3,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(4,0,null,null,0,":svg:use",[[":xmlns:xlink","http://www.w3.org/1999/xlink"]],[[1,":xlink:href",0]],null,null,null,null))],function(t,e){var n=e.component;t(e,1,0,"tp-icon",r.kb(1,"",n.iconClasses,"")),t(e,3,0,!!n.iconTitle)},function(t,e){var n=e.component;t(e,0,0,r.kb(1,"",n.iconId,""),r.kb(1,"",!!n.iconAriaHidden,""),n.iconHidden),t(e,4,0,r.kb(1,"/themes/custom/tfnsw_bootstrap/assets/icons/icons.svg#tp_",n.iconName,""))})}},eihs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={e:{}}},fDkQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("CcnG"),i=n("tuZB"),o=function(){function t(){this.selectCard=new r.k,this.ENT=i.c}return t.prototype.generateLabel=function(t){return t.FACILITY_DESC+", select to show on map"},t.prototype.onSelectCard=function(t){this.selectCard.emit({identifier:t.TYPE_CODE,title:""===t.MORE_INFO?t.FACILITY_DESC:t.FACILITY_DESC+": "+t.MORE_INFO})},t}()},fbJJ:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("dkuj"),n("UCMd");var r=n("XBuN"),i=function(){function t(t,e,n){this.stopsFacilitiesService=t,this.locationSchemaService=e,this.queryStringSearchHelper=n,this.accessibilityList=[]}return t.prototype.ngOnInit=function(){var t=this.queryStringSearchHelper.queryStringParam("q");t.length>0&&this.getAccessibilityData(t)},t.prototype.getAccessibilityData=function(t){var e=this;this.locationSchemaService.getLocationSchema(t).subscribe(function(t){t&&t.fully_accessible&&e.accessibilityList.unshift(r.r)}),this.stopsFacilitiesService.getFacilities(t).subscribe(function(t){t.length>0&&t.forEach(function(t){t.FACILITY_CAT===r.d&&e.accessibilityList.push(t.FACILITY_DESC)})})},t}()},fzPg:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}()},fzkN:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var r=n("CcnG"),i=(n("+ulk"),r.gb({encapsulation:2,styles:[],data:{}}));function o(t){return r.Bb(0,[r.rb(null,0),(t()(),r.Z(0,null,null,0))],null,null)}function a(t){return r.Bb(0,[r.xb(402653184,1,{contentTemplate:0}),(t()(),r.Z(0,[[1,2]],null,0,null,o))],null,null)}},gIcY:function(t,e,n){"use strict";n.d(e,"o",function(){return at}),n.d(e,"p",function(){return ot}),n.d(e,"q",function(){return k}),n.d(e,"b",function(){return c}),n.d(e,"g",function(){return _}),n.d(e,"a",function(){return b}),n.d(e,"c",function(){return x}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return z}),n.d(e,"j",function(){return j}),n.d(e,"k",function(){return J}),n.d(e,"l",function(){return et}),n.d(e,"e",function(){return rt}),n.d(e,"m",function(){return it}),n.d(e,"n",function(){return nt}),n.d(e,"f",function(){return h}),n.d(e,"d",function(){return st});var r=n("mrSG"),i=n("CcnG"),o=n("VNr4"),a=n("0/uQ"),s=n("67Y/"),l=n("ZYjt"),u=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(u);function p(t){return null==t||0===t.length}var h=new i.m("NgValidators"),d=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,f=function(){function t(){}return t.min=function(t){return function(e){if(p(e.value)||p(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(p(e.value)||p(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return p(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return p(t.value)?null:d.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(p(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(p(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(m);return 0==e.length?null:function(t){return y(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(m);return 0==e.length?null:function(t){var n=function(t,n){return e.map(function(e){return e(t)})}(t).map(g);return Object(o.a)(n).pipe(Object(s.a)(y))}},t}();function m(t){return null!=t}function g(t){var e=Object(i.nb)(t)?Object(a.a)(t):t;if(!Object(i.mb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function y(t){var e=t.reduce(function(t,e){return null!=e?Object(r.a)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var _=new i.m("NgValueAccessor"),v=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),b=new i.m("CompositionEventMode"),x=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(l.r)()?Object(l.r)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function w(t){return t.validate?function(e){return t.validate(e)}:t}function M(t){return t.validate?function(e){return t.validate(e)}:t}var C=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function L(){throw new Error("unimplemented")}var E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return L()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return L()},enumerable:!0,configurable:!0}),e}(u),k=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),T=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(E),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),S='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',A='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function D(t,e){return Object(r.g)(e.path,[t])}function I(t,e){t||O(e,"Cannot find control with"),e.valueAccessor||O(e,"No value accessor for form control with"),t.validator=f.compose([t.validator,e.validator]),t.asyncValidator=f.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&P(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&P(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function P(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function O(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function N(t){return null!=t?f.compose(t.map(w)):null}function R(t){return null!=t?f.composeAsync(t.map(M)):null}var F=[v,function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),C,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i.ob}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var i=Object(r.h)(Array.from(this._optionMap.keys())),o=i.next();!o.done;o=i.next()){var a=o.value;if(this._compareWith(this._optionMap.get(a),t))return a}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i.ob}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var i=Object(r.h)(Array.from(this._optionMap.keys())),o=i.next();!o.done;o=i.next()){var a=o.value;if(this._compareWith(this._optionMap.get(a)._value,t))return a}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),T],Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return D(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return N(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return R(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(c),B=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),z=function(t){function e(e){return t.call(this,e)||this}return Object(r.c)(e,t),e}(B),j=function(t){function e(e){return t.call(this,e)||this}return Object(r.c)(e,t),e}(B);function V(t){var e=U(t)?t.validators:t;return Array.isArray(e)?N(e):e||null}function H(t,e){var n=U(e)?e.asyncValidators:t;return Array.isArray(n)?R(n):n||null}function U(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var G=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=V(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=H(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(r.a)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(r.a)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=g(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof W?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Z&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new i.k,this.statusChanges=new i.k},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){U(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),q=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,V(n),H(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(r.c)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(G),W=function(t){function e(e,n,r){var i=t.call(this,V(n),H(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.c)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof q?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.h)(Object.keys(this.controls)),i=n.next();!i.done;i=n.next())if(this.controls[i.value].enabled)return!1}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(G),Z=function(t){function e(e,n,r){var i=t.call(this,V(n),H(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.c)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof q?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.h)(this.controls),i=n.next();!i.done;i=n.next())if(i.value.enabled)return!1}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(G),X=Promise.resolve(null),J=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new i.k,r.form=new W({},N(e),R(n)),r}return Object(r.c)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;X.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),I(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;X.then(function(){var n,r,i=e._findContainer(t.path);i&&i.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)})},e.prototype.addFormGroup=function(t){var e=this;X.then(function(){var n=e._findContainer(t.path),r=new W({});(function(t,e){null==t&&O(e,"Cannot find control with"),t.validator=f.compose([t.validator,e.validator]),t.asyncValidator=f.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;X.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;X.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(c),K=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+S+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+A)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+S+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+A)},t.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},t}(),Q=new i.m("NgFormSelectorWarning"),$=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}var n;return Object(r.c)(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof J||K.modelGroupParentException()},e}(Y),tt=Promise.resolve(null),et=function(t){function e(e,n,r,o){var a=t.call(this)||this;return a.control=new q,a._registered=!1,a.update=new i.k,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=r||[],a.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||O(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===x?n=e:(o=e,F.some(function(t){return o.constructor===t})?(r&&O(t,"More than one built-in value accessor matches form control with"),r=e):(i&&O(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(O(t,"No valid value accessor for form control with"),null)}(a,o),a}return Object(r.c)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(i.ob)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?D(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return N(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return R(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){I(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof $)&&this._parent instanceof Y?K.formGroupNameException():this._parent instanceof $||this._parent instanceof J||K.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||K.missingNameException()},e.prototype._updateValue=function(t){var e=this;tt.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;tt.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(E),nt=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?f.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),rt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=f.maxLength(parseInt(this.maxlength,10))},t}(),it=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=f.pattern(this.pattern)},t}(),ot=function(){return function(){}}(),at=function(){return function(){}}(),st=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:Q,useValue:t.warnOnDeprecatedNgFormSelector}]}},t}()},gTB4:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.mapTypesByUrl={"Interactive Map":"changes-by-mode"}}return t.prototype.getMapType=function(t){var e,n=this;return Object.keys(this.mapTypesByUrl).forEach(function(r){t.match(n.mapTypesByUrl[r])&&(e=r)}),e},t}()},gVVK:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+(1===t?e?"sekundo":"sekundi":2===t?e||r?"sekundi":"sekundah":t<5?e||r?"sekunde":"sekundah":"sekund");case"m":return e?"ena minuta":"eno minuto";case"mm":return i+(1===t?e?"minuta":"minuto":2===t?e||r?"minuti":"minutama":t<5?e||r?"minute":"minutami":e||r?"minut":"minutami");case"h":return e?"ena ura":"eno uro";case"hh":return i+(1===t?e?"ura":"uro":2===t?e||r?"uri":"urama":t<5?e||r?"ure":"urami":e||r?"ur":"urami");case"d":return e||r?"en dan":"enim dnem";case"dd":return i+(1===t?e||r?"dan":"dnem":2===t?e||r?"dni":"dnevoma":e||r?"dni":"dnevi");case"M":return e||r?"en mesec":"enim mesecem";case"MM":return i+(1===t?e||r?"mesec":"mesecem":2===t?e||r?"meseca":"mesecema":t<5?e||r?"mesece":"meseci":e||r?"mesecev":"meseci");case"y":return e||r?"eno leto":"enim letom";case"yy":return i+(1===t?e||r?"leto":"letom":2===t?e||r?"leti":"letoma":t<5?e||r?"leta":"leti":e||r?"let":"leti")}}n("wd/R").defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}()},gawX:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=!0},gcOl:function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n("9lgY"),i=n("3ZaB"),o=n("kLtR"),a=n("T1BI"),s=n("dEht"),l=n("5IX/"),u=n("lR7y"),c=n("UxfY"),p=n("+9V0"),h=n("tUW/"),d=n("4ATH"),f=n("w7Xv"),m=n("Uecl"),g=n("p7CD"),y=n("kz5P"),_=n("E4Jq"),v=n("mr1O"),b=n("UcfC"),x=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:t.providers}},t.forTest=function(){return{ngModule:t,providers:t.providers}},t.providers=[i.a,r.a,a.a,o.a,s.a,h.a,d.a,f.a,m.a,g.a,y.a,_.a,v.a,l.a,u.a,c.a,p.a,b.a],t}()},gekB:function(t,e,n){!function(t){"use strict";var e="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),n=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",e[7],e[8],e[9]];function r(t,r,i,o){var a="";switch(i){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":return o?"sekunnin":"sekuntia";case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":a=o?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return function(t,r){return t<10?r?n[t]:e[t]:t}(t,o)+" "+a}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},gjCT:function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};t.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return n[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(n("wd/R"))},gv8m:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=(n("3ZaB"),n("Q6bz"),function(){function t(t,e){this.windowRef=t,this.trackMetroService=e,this.selectMode=new r.k}return t.prototype.selectModeByUrl=function(t){var e=t.split("/"),n=e[e.length-1].replace("#",""),r=[];this.modes&&this.modes.length>0&&(r=this.modes.filter(function(t){return t.icon===n})),this.onClick(r.length>0?r[0]:this.modes[0])},t.prototype.onClick=function(t){this.selectedMode=t,this.selectMode.emit(t),this.trackMetroService.trackMetroAction("View mode",t.name)},t}())},h9Dq:function(t,e,n){"use strict";var r=n("mrSG"),i=function(t){function e(e,n){return t.call(this)||this}return r.c(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a);n.d(e,"a",function(){return o});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.c(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(i)},hKrs:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u043d\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-\u0435\u0432":0===n?t+"-\u0435\u043d":n>10&&n<20?t+"-\u0442\u0438":1===e?t+"-\u0432\u0438":2===e?t+"-\u0440\u0438":7===e||8===e?t+"-\u043c\u0438":t+"-\u0442\u0438"},week:{dow:1,doy:7}})}()},hm1T:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(t,e){this.from=t,this.to=e}}()},honF:function(t,e,n){!function(t){"use strict";var e={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},n={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};t.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(t){return t.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}(n("wd/R"))},hpCz:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=!0},iEDd:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}()},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},iUDz:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("+o+X");var r=function(){function t(t,e){this.modeSortPipe=t,this.iconService=e}return t.prototype.modeIcons=function(){var t,e=this.location.motTypes;return e?((t=this.modeSortPipe.transform(e,null).map(this.iconService.getModeIcon)).indexOf("bus")>=0&&t.indexOf("bus-school")>=0&&t.splice(t.indexOf("bus-school"),1),t):[]},t}()},iYuL:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},jUeY:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(t,e,n){return t>11?n?"\u03bc\u03bc":"\u039c\u039c":n?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(t){return"\u03bc"===(t+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n,r=this._calendarEl[t],i=e&&e.hours();return((n=r)instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(e)),r.replace("{}",i%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}()},jVdC:function(t,e,n){!function(t){"use strict";var e="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_");function r(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function i(t,e,n){var i=t+" ";switch(n){case"ss":return i+(r(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut\u0119";case"mm":return i+(r(t)?"minuty":"minut");case"h":return e?"godzina":"godzin\u0119";case"hh":return i+(r(t)?"godziny":"godzin");case"MM":return i+(r(t)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return i+(r(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,r){return t?""===r?"("+n[t.month()]+"|"+e[t.month()]+")":/D MMMM/.test(r)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},jfSC:function(t,e,n){!function(t){"use strict";var e={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},n={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};t.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(t){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(t)},meridiem:function(t,e,n){return t<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"\u062b\u0627\u0646\u06cc\u0647 d%",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/[\u06f0-\u06f9]/g,function(t){return n[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(n("wd/R"))},jnO4:function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},o=function(t){return function(e,n,o,a){var s=r(e),l=i[t][r(e)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,e)}},a=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];t.defineLocale("ar",{months:a,monthsShort:a,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return n[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n("wd/R"))},k0ah:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("CcnG"),i=n("Ip0R"),o=n("eYWh"),a=n("ka1Z"),s=(n("llQp"),r.gb({encapsulation:0,styles:[".collapsible-card-details[_ngcontent-%COMP%]{padding:5px 10px;background:#fff;box-shadow:0 2px 3px 0 rgba(0,0,0,0.4)}@media (max-width: 767px){.collapsible-card-details[_ngcontent-%COMP%]{padding:5px 20px}}.collapsible-card-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:block}.collapsible-card-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:4px solid rgba(0,0,0,0.4);outline-offset:-2px}.collapsible-card-details-header[_ngcontent-%COMP%]{position:relative;cursor:pointer}.collapsible-card-details-header[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{border:solid 6px #555555;border-color:#555555 transparent transparent transparent;border-bottom:0px;float:right;margin:14px 5px 14px 14px}.collapsible-card-details-header.expanded[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{transform:rotate(-180deg)}"],data:{}}));function l(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["class","collapsible-card-details-body"]],null,[[null,"keyup.enter"]],function(t,e,n){var r=!0;return"keyup.enter"===e&&(r=!1!==n.stopPropagation()&&r),r},null,null)),r.rb(null,1)],null,null)}function u(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["class","collapsible-card-details-footer"]],null,null,null,null,null)),r.rb(null,2)],null,null)}function c(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,12,"div",[["class","collapsible-card-details form"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,6,"a",[["tabindex","0"]],[[1,"aria-controls",0],[1,"aria-label",0],[1,"aria-expanded",0]],[[null,"keyup.enter"],[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"keyup.enter"===e&&(r=!1!==i.toggleExpanded()&&r),"click"===e&&(r=!1!==i.toggleExpanded()&&r),r},null,null)),r.hb(2,278528,null,0,i.e,[r.o,r.p,r.i,r.y],{ngClass:[0,"ngClass"]},null),r.ub(3,{"collapsible-card-details-header":0,expanded:1}),r.rb(null,0),(t()(),r.ib(5,0,null,null,2,"div",[["class","toggle"]],null,null,null,null,null)),(t()(),r.ib(6,0,null,null,1,"tni-icon",[["iconClasses","sm form-control-select-arrow"]],null,null,null,o.b,o.a)),r.hb(7,49152,null,0,a.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(8,0,null,null,4,"div",[],[[8,"id",0],[1,"aria-hidden",0]],null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,l)),r.hb(10,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,u)),r.hb(12,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,r=t(e,3,0,!0,n.expanded);t(e,2,0,r),t(e,7,0,n.expanded?"arrow-up-small":"arrow-down-small","card details "+(n.expanded?"expanded":"collapsed"),"sm form-control-select-arrow",!0),t(e,10,0,n.expanded),t(e,12,0,n.expanded)},function(t,e){var n=e.component;t(e,1,0,"accordion-"+n.index,n.ariaLabel,n.expanded),t(e,8,0,r.kb(1,"","accordion-"+n.index,""),!n.expanded)})}},kEOa:function(t,e,n){!function(t){"use strict";var e={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},n={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};t.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09c0_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2_\u0986\u0997_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u0983_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u09b0\u09be\u09a4"===e&&t>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===e&&t<5||"\u09ac\u09bf\u0995\u09be\u09b2"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u09b0\u09be\u09a4":t<10?"\u09b8\u0995\u09be\u09b2":t<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":t<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(n("wd/R"))},kLtR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.isMobileView=function(t){return void 0===t&&(t=window),t.outerWidth<768},t}()},kOpN:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e2d\u5348"===e?t>=11?t:t+12:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u9031";default:return t}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}()},kWcY:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=function(){function t(){this.dropdownVisible=!1,this.selectItem=new r.k,this.highlightedItemIndex=-1,this.isFocusOnDropdown=!1}return t.prototype.open=function(){this.highlightedItemIndex=-1,this.dropdownVisible=!0},t.prototype.close=function(){this.dropdownVisible=!1},t.prototype.onItemClick=function(t){this.selectItem.emit(t)},t.prototype.isOpen=function(){return this.dropdownVisible},t.prototype.highlightNextItem=function(){return this.highlightedItemIndex<this.items.length-1&&this.highlightedItemIndex++,"autosuggest-item-"+this.highlightedItemIndex},t.prototype.highlightPrevItem=function(){return this.highlightedItemIndex>0&&this.highlightedItemIndex--,"autosuggest-item-"+this.highlightedItemIndex},t.prototype.selectHighlightedItem=function(){this.highlightedItemIndex>=0&&document.getElementById("autosuggest-item-"+this.highlightedItemIndex).click()},t.prototype.onItemFocus=function(){this.isFocusOnDropdown=!0},t.prototype.onItemBlur=function(){this.isFocusOnDropdown=!1},t}()},ka1Z:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.iconId="icon-"+ ++t.iconCounter}return t.iconCounter=0,t}()},kkC9:function(t,e){},kz5P:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("4ATH");var r=function(){function t(t){this.trackEventService=t}return t.prototype.go=function(){this.trackEventService.trackEvent("Departures widget",{action:"Go button",label:"Now"})},t.prototype.requestPreviousDeparture=function(){this.trackEventService.trackEvent("Departures Favourites widget",{action:"Previous departure requests"})},t.prototype.requestFavouriteDeparture=function(){this.trackEventService.trackEvent("Departures Favourites widget",{action:"Favourite departure requests"})},t.prototype.setFavourite=function(){this.trackEventService.trackEvent("Departures Favourites widget",{action:"Set favourite"})},t.prototype.removeFavourite=function(){this.trackEventService.trackEvent("Departures Favourites widget",{action:"Remove favourite"})},t.prototype.deleteFavourite=function(){this.trackEventService.trackEvent("Departures Favourites widget",{action:"Favourite departure deleted"})},t.prototype.deletePreviousDeparture=function(){this.trackEventService.trackEvent("Departures Favourites widget",{action:"Previous departure deleted"})},t.prototype.loadMoreFavourites=function(){this.trackEventService.trackEvent("Departures Favourites widget",{action:"Load more previous departures"})},t}()},l5ep:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}()},lR7y:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("+/t3"),i=function(){function t(){this.locationTypeOrder=[r.a.Stop,r.a.POI,r.a.Locality,r.a.District,r.a.Street,r.a.Address]}return t.prototype.inverseQualityComparator=function(t,e){return e.matchQuality-t.matchQuality},t.prototype.locationTypeComparator=function(t,e){return this.locationTypeOrder.indexOf(t.type)-this.locationTypeOrder.indexOf(e.type)},t.prototype.descriptionComparator=function(t,e){return t.description().localeCompare(e.description())},t.prototype.transform=function(t,e){var n=this;return t.sort(function(t,e){return n.inverseQualityComparator(t,e)||n.locationTypeComparator(t,e)||n.descriptionComparator(t,e)})},t}()},lUqE:function(t,e,n){"use strict";var r=n("F/XL"),i=n("67Y/"),o=n("MCcF"),a=n("plTY"),s=function(){function t(){}return t.fromResponse=function(e){if(!e)return null;var n=new o.a,r=new t;return r.backgroundColour=e.Background_colour,r.foregroundColour=e.Foreground_colour,r.line=e.Line,r.lineColour=e.Line_colour,r.lineTabMessage=e.Line_tab_message,r.message=e.Message1,r.rank=e.Rank,r.textColour=e.Text_colour,r.routeDesc=e.route_desc,r.routeLongName=e.route_long_name,r.routeShortName=e.route_short_name,r.routeTypeText=e.route_type_text,r.midPoint=[e.MidPoint_X,e.MidPoint_Y],r.layerNames=[{name:e.Style_Layer_Name_LINES},{name:e.Style_Layer_Name_STOPS}],r.links=n.get([{key:a.a.moreInfo,value:e.Hyperlink},{key:a.a.timetable,value:e.Url},{key:a.a.planTrip,value:e.Plan_Trip}]),r.bounds={ne:[e.Bounds_NE_X,e.Bounds_NE_Y],sw:[e.Bounds_SW_X,e.Bounds_SW_Y]},r},t}(),l=function(){function t(){}return t.fromResponse=function(e){if(!e)return null;var n=new t,r=new o.a;n.stop=e.properties.Stations,n.stopType=e.properties.TYPE,n.tsn=e.properties.TSN,n.lineColour=e.properties.Line_colour||"",n.stopTabMessage=e.properties.Station_tab_message,n.message=e.properties.Key_Message,n.hyperlink=e.properties.Hyperlink,n.rank=e.properties.Rank,n.hyperlink_TP=e.properties.Plan_Trip,n.hyperlink_D=e.properties.Departures,n.icons=[];var i=e.properties.Icon?e.properties.Icon.split("||"):[];i.length>0&&i.forEach(function(t){return n.icons.push(t)}),n.efaNumber=e.properties.EFA_NUMBER,n.coordinates=e.geometry.coordinates,n.links=r.get([{key:a.a.moreInfo,value:n.hyperlink},{key:a.a.departures,value:n.hyperlink_D},{key:a.a.planTrip,value:n.hyperlink_TP}]);var s=[];return Object.keys(e.properties).forEach(function(t){"Y"===e.properties[t]&&s.push(t)}),n.routeShortNames=s,n},t}(),u=function(){function t(){}return t.fromResponse=function(e){if(!e)return null;var n=new t;n.backgroundColour=e.Background_colour,n.busRegionTabMessage=e.BusRegion_tab_message,n.region=e.DESCRIPTIO,n.foregroundColour=e.Foreground_colour,n.hyperlink=e.Hyperlink,n.icon=e.Icon,n.lineColour=e.Line_colour,n.hyperlink_TP=e.Plan_Trip,n.rank=e.Rank,n.textColour=e.Text_colour,n.message=e.Message1;var r=new o.a;return n.links=r.get([{key:a.a.moreInfo,value:e.Hyperlink},{key:a.a.planTrip,value:e.Plan_Trip}]),n.midPoint=[e.MidPoint_X,e.MidPoint_Y],n.bounds={ne:[e.Bounds_NE_X,e.Bounds_NE_Y],sw:[e.Bounds_SW_X,e.Bounds_SW_Y]},n.layerNames=[{name:e.Style_Layer_Name_REGIONS,layerType:"fill"}],n},t}(),c=function(){function t(){}return t.getDataset=function(t){return this.dataset[t]},t.getTransportModeFeatureTypeMap=function(t){return this.transportModeFeatureTypeMap[t]},t.dataset={stop:"cjn3pvse74hf332qn11mm0mya",line:"cjn3pwtui0k0432p9pzwodav9",region:"cjjz3ae5k005489mdlhu8yha4"},t.transportModeFeatureTypeMap={train:"Rail",ferry:"Ferry",stationlink:"ECRL",bus:"Bus",lightrail:"Light rail",other:"Bus"},t}(),p=n("YWy8");n.d(e,"a",function(){return h});var h=function(){function t(t){this.http=t,this.baseUrl="/mapbox-api/datasets/"}return t.prototype.getLinesDataset=function(){var t=this;if(this.lineDatasetCache$)return this.lineDatasetCache$;var e=this.baseUrl+c.getDataset(p.a.line);return this.http.get(e).pipe(Object(i.a)(function(e){var n=[];return e.features.forEach(function(t){var e=s.fromResponse(t.properties);n.push(e)}),t.lineDatasetCache$=Object(r.a)(n),n}))},t.prototype.getLineLayersName=function(t){var e=[],n=[];return this.lineDatasetCache$.subscribe(function(n){e=n.filter(function(e){return t.indexOf(e.routeShortName)>=0&&e.rank})}),e.forEach(function(t){n=n.concat(t.layerNames)}),n},t.prototype.getStopsDataset=function(){var t=this;if(this.stopDatasetCache$)return this.stopDatasetCache$;var e=this.baseUrl+c.getDataset(p.a.stop);return this.http.get(e).pipe(Object(i.a)(function(e){var n=[];return e.features.forEach(function(t){var e=l.fromResponse(t);n.push(e)}),t.stopDatasetCache$=Object(r.a)(n),n}))},t.prototype.getRegionsDataset=function(){var t=this;if(this.regionDatasetCache$)return this.regionDatasetCache$;var e=this.baseUrl+c.getDataset(p.a.region);return this.http.get(e).pipe(Object(i.a)(function(e){var n=e.features.map(function(t){return u.fromResponse(t.properties)});return t.regionDatasetCache$=Object(r.a)(n),n}))},t}()},lXzo:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":t+" "+(r=+t,i={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var r=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];n("wd/R").defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:e,m:e,mm:e,h:"\u0447\u0430\u0441",hh:e,d:"\u0434\u0435\u043d\u044c",dd:e,M:"\u043c\u0435\u0441\u044f\u0446",MM:e,y:"\u0433\u043e\u0434",yy:e},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u0438":t<12?"\u0443\u0442\u0440\u0430":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-\u0439";case"D":return t+"-\u0433\u043e";case"w":case"W":return t+"-\u044f";default:return t}},week:{dow:1,doy:4}})}()},lYtQ:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){switch(n){case"s":return e?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return t+(e?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return t+(e?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return t+(e?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return t+(e?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return t+(e?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return t+(e?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return t}}n("wd/R").defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(t){return"\u04ae\u0425"===t},meridiem:function(t,e,n){return t<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" \u04e9\u0434\u04e9\u0440";default:return t}}})}()},lZPT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},lepT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("wd/R"),i=function(){function t(){}return t.convertMyDateToMoment=function(t){if(null!=t)return r({year:t.date.year,month:t.date.month-1,day:t.date.day})},t.focusInputElement=function(t){var e=document.getElementById(t),n=e.value;e.value="",e.focus(),e.value=n;var r=document.createEvent("Event");r.initEvent("focus",!0,!0),e.dispatchEvent(r)},t}()},lgnt:function(t,e,n){!function(t){"use strict";var e={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};t.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u0435 \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},llQp:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=function(){function t(){this.toggle=new r.k}return t.prototype.toggleExpanded=function(){this.expanded=!this.expanded,this.toggle.emit(this.expanded)},t}()},lyxo:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=" ";return(t%100>=20||t>=100&&t%100==0)&&(r=" de "),t+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}n("wd/R").defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:e,m:"un minut",mm:e,h:"o or\u0103",hh:e,d:"o zi",dd:e,M:"o lun\u0103",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}()},mVwE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=(n("+ulk"),function(){function t(){this.tabChange=new r.k,this.loadedTabs=new Set}return t.prototype.ngAfterContentInit=function(){this.activeTabId||(this.activeTabId=this.tabs.first.tabId),this.loadedTabs.add(this.activeTabId)},t.prototype.onTabClick=function(t){this.activeTabId!==t&&(this.activeTabId=t,this.loadedTabs.add(t),this.tabChange.emit(t))},t.prototype.isTabLoaded=function(t){return this.loadedTabs.has(t)},t}())},mpbb:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n("CcnG"),i=n("Ip0R"),o=n("baxS"),a=n("3qSw"),s=n("eYWh"),l=n("ka1Z"),u=n("9Poh"),c=n("Yl2j"),p=n("dtn5"),h=n("OxXP"),d=n("TY4Q"),f=r.gb({encapsulation:0,styles:[".mapboxgl-map[_ngcontent-%COMP%]{font:12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-map[_ngcontent-%COMP%]:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary[_ngcontent-%COMP%]{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive[_ngcontent-%COMP%], .mapboxgl-ctrl-group[_ngcontent-%COMP%] > button.mapboxgl-ctrl-compass[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive[_ngcontent-%COMP%]:active, .mapboxgl-ctrl-group[_ngcontent-%COMP%] > button.mapboxgl-ctrl-compass[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate[_ngcontent-%COMP%], .mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate[_ngcontent-%COMP%]   .mapboxgl-canvas[_ngcontent-%COMP%]{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan[_ngcontent-%COMP%], .mapboxgl-canvas-container.mapboxgl-touch-drag-pan[_ngcontent-%COMP%]   .mapboxgl-canvas[_ngcontent-%COMP%]{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan[_ngcontent-%COMP%], .mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan[_ngcontent-%COMP%]   .mapboxgl-canvas[_ngcontent-%COMP%]{touch-action:none}.mapboxgl-ctrl-top-left[_ngcontent-%COMP%], .mapboxgl-ctrl-top-right[_ngcontent-%COMP%], .mapboxgl-ctrl-bottom-left[_ngcontent-%COMP%], .mapboxgl-ctrl-bottom-right[_ngcontent-%COMP%]{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left[_ngcontent-%COMP%]{top:0;left:0}.mapboxgl-ctrl-top-right[_ngcontent-%COMP%]{top:0;right:0}.mapboxgl-ctrl-bottom-left[_ngcontent-%COMP%]{bottom:0;left:0}.mapboxgl-ctrl-bottom-right[_ngcontent-%COMP%]{right:0;bottom:0}.mapboxgl-ctrl[_ngcontent-%COMP%]{clear:both;pointer-events:auto}.mapboxgl-ctrl-top-left[_ngcontent-%COMP%]   .mapboxgl-ctrl[_ngcontent-%COMP%]{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right[_ngcontent-%COMP%]   .mapboxgl-ctrl[_ngcontent-%COMP%]{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left[_ngcontent-%COMP%]   .mapboxgl-ctrl[_ngcontent-%COMP%]{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right[_ngcontent-%COMP%]   .mapboxgl-ctrl[_ngcontent-%COMP%]{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group[_ngcontent-%COMP%]{border-radius:4px;overflow:hidden;background:#fff}.mapboxgl-ctrl-group[_ngcontent-%COMP%]:not(:empty){-moz-box-shadow:0 0 2px rgba(0,0,0,0.1);-webkit-box-shadow:0 0 2px rgba(0,0,0,0.1);box-shadow:0 0 0 2px rgba(0,0,0,0.1)}.mapboxgl-ctrl-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:30px;height:30px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{border-top:1px solid #ddd}.mapboxgl-ctrl[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,0.05)}.mapboxgl-ctrl-icon[_ngcontent-%COMP%], .mapboxgl-ctrl-icon[_ngcontent-%COMP%] > .mapboxgl-ctrl-compass-arrow[_ngcontent-%COMP%]{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.mapboxgl-ctrl-icon[_ngcontent-%COMP%]{padding:5px}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='m 7,9 c -0.554,0 -1,0.446 -1,1 0,0.554 0.446,1 1,1 l 6,0 c 0.554,0 1,-0.446 1,-1 0,-0.554 -0.446,-1 -1,-1 z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='M 10 6 C 9.446 6 9 6.4459904 9 7 L 9 9 L 7 9 C 6.446 9 6 9.446 6 10 C 6 10.554 6.446 11 7 11 L 9 11 L 9 13 C 9 13.55401 9.446 14 10 14 C 10.554 14 11 13.55401 11 13 L 11 11 L 13 11 C 13.554 11 14 10.554 14 10 C 14 9.446 13.554 9 13 9 L 11 9 L 11 7 C 11 6.4459904 10.554 6 10 6 z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate[_ngcontent-%COMP%]:disabled{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting[_ngcontent-%COMP%]{-webkit-animation:mapboxgl-spin 2s infinite linear;-moz-animation:mapboxgl-spin 2s infinite linear;-o-animation:mapboxgl-spin 2s infinite linear;-ms-animation:mapboxgl-spin 2s infinite linear;animation:mapboxgl-spin 2s infinite linear}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-moz-keyframes mapboxgl-spin{0%{-moz-transform:rotate(0deg)}100%{-moz-transform:rotate(360deg)}}@-o-keyframes mapboxgl-spin{0%{-o-transform:rotate(0deg)}100%{-o-transform:rotate(360deg)}}@-ms-keyframes mapboxgl-spin{0%{-ms-transform:rotate(0deg)}100%{-ms-transform:rotate(360deg)}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M 5 4 C 4.5 4 4 4.5 4 5 L 4 6 L 4 9 L 4.5 9 L 5.7773438 7.296875 C 6.7771319 8.0602131 7.835765 8.9565728 8.890625 10 C 7.8257121 11.0633 6.7761791 11.951675 5.78125 12.707031 L 4.5 11 L 4 11 L 4 15 C 4 15.5 4.5 16 5 16 L 9 16 L 9 15.5 L 7.2734375 14.205078 C 8.0428931 13.187886 8.9395441 12.133481 9.9609375 11.068359 C 11.042371 12.14699 11.942093 13.2112 12.707031 14.21875 L 11 15.5 L 11 16 L 14 16 L 15 16 C 15.5 16 16 15.5 16 15 L 16 14 L 16 11 L 15.5 11 L 14.205078 12.726562 C 13.177985 11.949617 12.112718 11.043577 11.037109 10.009766 C 12.151856 8.981061 13.224345 8.0798624 14.228516 7.3046875 L 15.5 9 L 16 9 L 16 5 C 16 4.5 15.5 4 15 4 L 11 4 L 11 4.5 L 12.703125 5.7773438 C 11.932647 6.7864834 11.026693 7.8554712 9.9707031 8.9199219 C 8.9584739 7.8204943 8.0698767 6.7627188 7.3046875 5.7714844 L 9 4.5 L 9 4 L 6 4 L 5 4 z '/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23000000;' d='M 4.2421875 3.4921875 A 0.750075 0.750075 0 0 0 3.71875 4.78125 L 5.9648438 7.0273438 L 4 8.5 L 4 9 L 8 9 C 8.500001 8.9999988 9 8.4999992 9 8 L 9 4 L 8.5 4 L 7.0175781 5.9550781 L 4.78125 3.71875 A 0.750075 0.750075 0 0 0 4.2421875 3.4921875 z M 15.734375 3.4921875 A 0.750075 0.750075 0 0 0 15.21875 3.71875 L 12.984375 5.953125 L 11.5 4 L 11 4 L 11 8 C 11 8.4999992 11.499999 8.9999988 12 9 L 16 9 L 16 8.5 L 14.035156 7.0273438 L 16.28125 4.78125 A 0.750075 0.750075 0 0 0 15.734375 3.4921875 z M 4 11 L 4 11.5 L 5.9648438 12.972656 L 3.71875 15.21875 A 0.75130096 0.75130096 0 1 0 4.78125 16.28125 L 7.0273438 14.035156 L 8.5 16 L 9 16 L 9 12 C 9 11.500001 8.500001 11.000001 8 11 L 4 11 z M 12 11 C 11.499999 11.000001 11 11.500001 11 12 L 11 16 L 11.5 16 L 12.972656 14.035156 L 15.21875 16.28125 A 0.75130096 0.75130096 0 1 0 16.28125 15.21875 L 14.035156 12.972656 L 16 11.5 L 16 11 L 12 11 z '/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass[_ngcontent-%COMP%] > .mapboxgl-ctrl-compass-arrow[_ngcontent-%COMP%]{width:20px;height:20px;margin:5px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpolygon fill='%23333333' points='6,9 10,1 14,9'/%3E %3Cpolygon fill='%23CCCCCC' points='6,11 10,19 14,11 '/%3E %3C/svg%3E\");background-repeat:no-repeat;display:inline-block}a.mapboxgl-ctrl-logo[_ngcontent-%COMP%]{width:85px;height:21px;margin:0 0 -3px -3px;display:block;background-repeat:no-repeat;cursor:pointer;background-image:url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 84.49 21' style='enable-background:new 0 0 84.49 21;' xml:space='preserve'%3E%3Cg%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M83.25,14.26c0,0.12-0.09,0.21-0.21,0.21h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39l-1.44,2.39 c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68L76.2,6.84 c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.4-2.35 c0.06-0.11,0.18-0.17,0.3-0.17H83c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.37,3.63l2.43,3.67 C83.24,14.18,83.25,14.22,83.25,14.26z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M66.24,9.59c-0.39-1.88-1.96-3.28-3.84-3.28c-1.03,0-2.03,0.42-2.73,1.18V3.51c0-0.13-0.1-0.23-0.23-0.23h-1.4 c-0.13,0-0.23,0.11-0.23,0.23v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.11,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.73,1.18 c1.88,0,3.45-1.41,3.84-3.29C66.37,10.79,66.37,10.18,66.24,9.59L66.24,9.59z M62.08,13c-1.32,0-2.39-1.11-2.41-2.48v-0.06 c0.02-1.38,1.09-2.48,2.41-2.48s2.42,1.12,2.42,2.51S63.41,13,62.08,13z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M71.67,6.32c-1.98-0.01-3.72,1.35-4.16,3.29c-0.13,0.59-0.13,1.19,0,1.77c0.44,1.94,2.17,3.32,4.17,3.3 c2.35,0,4.26-1.87,4.26-4.19S74.04,6.32,71.67,6.32z M71.65,13.01c-1.33,0-2.42-1.12-2.42-2.51s1.08-2.52,2.42-2.52 c1.33,0,2.42,1.12,2.42,2.51S72.99,13,71.65,13.01L71.65,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M62.08,7.98c-1.32,0-2.39,1.11-2.41,2.48v0.06C59.68,11.9,60.75,13,62.08,13s2.42-1.12,2.42-2.51 S63.41,7.98,62.08,7.98z M62.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25 c0.63,0,1.17,0.57,1.17,1.27C63.24,11.2,62.73,11.76,62.08,11.76z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M71.65,7.98c-1.33,0-2.42,1.12-2.42,2.51S70.32,13,71.65,13s2.42-1.12,2.42-2.51S72.99,7.98,71.65,7.98z M71.65,11.76c-0.64,0-1.17-0.57-1.17-1.27c0-0.7,0.53-1.26,1.17-1.26s1.17,0.57,1.17,1.27C72.82,11.21,72.29,11.76,71.65,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M45.74,6.53h-1.4c-0.13,0-0.23,0.11-0.23,0.23v0.73c-0.71-0.75-1.7-1.18-2.73-1.18 c-2.17,0-3.94,1.87-3.94,4.19s1.77,4.19,3.94,4.19c1.04,0,2.03-0.43,2.73-1.19v0.73c0,0.13,0.1,0.23,0.23,0.23h1.4 c0.13,0,0.23-0.11,0.23-0.23V6.74c0-0.12-0.09-0.22-0.22-0.22C45.75,6.53,45.75,6.53,45.74,6.53z M44.12,10.53 C44.11,11.9,43.03,13,41.71,13s-2.42-1.12-2.42-2.51s1.08-2.52,2.4-2.52c1.33,0,2.39,1.11,2.41,2.48L44.12,10.53z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M41.71,7.98c-1.33,0-2.42,1.12-2.42,2.51S40.37,13,41.71,13s2.39-1.11,2.41-2.48v-0.06 C44.1,9.09,43.03,7.98,41.71,7.98z M40.55,10.49c0-0.7,0.52-1.27,1.17-1.27c0.64,0,1.14,0.56,1.17,1.25v0.04 c-0.01,0.68-0.53,1.24-1.17,1.24C41.08,11.75,40.55,11.19,40.55,10.49z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M52.41,6.32c-1.03,0-2.03,0.42-2.73,1.18V6.75c0-0.13-0.1-0.23-0.23-0.23h-1.4c-0.13,0-0.23,0.11-0.23,0.23 v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.1,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.74,1.18c2.17,0,3.94-1.87,3.94-4.19 S54.58,6.32,52.41,6.32z M52.08,13.01c-1.32,0-2.39-1.11-2.42-2.48v-0.07c0.02-1.38,1.09-2.49,2.4-2.49c1.32,0,2.41,1.12,2.41,2.51 S53.4,13,52.08,13.01L52.08,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M52.08,7.98c-1.32,0-2.39,1.11-2.42,2.48v0.06c0.03,1.38,1.1,2.48,2.42,2.48s2.41-1.12,2.41-2.51 S53.4,7.98,52.08,7.98z M52.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25c0.63,0,1.17,0.58,1.17,1.27 S52.72,11.76,52.08,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M36.08,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68c0-0.98-0.74-1.71-1.62-1.71 c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.11,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V6.74 c0.01-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03c1.09,0,2.09,0.6,2.6,1.55 c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78L36.08,14.24z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M84.34,13.59l-0.07-0.13l-1.96-2.99l1.94-2.95c0.44-0.67,0.26-1.56-0.41-2.02c-0.02,0-0.03,0-0.04-0.01 c-0.23-0.15-0.5-0.22-0.78-0.22h-1.61c-0.56,0-1.08,0.29-1.37,0.78L79.72,6.6l-0.34-0.56C79.09,5.56,78.57,5.27,78,5.27h-1.6 c-0.6,0-1.13,0.37-1.35,0.92c-2.19-1.66-5.28-1.47-7.26,0.45c-0.35,0.34-0.65,0.72-0.89,1.14c-0.9-1.62-2.58-2.72-4.5-2.72 c-0.5,0-1.01,0.07-1.48,0.23V3.51c0-0.82-0.66-1.48-1.47-1.48h-1.4c-0.81,0-1.47,0.66-1.47,1.47v3.75 c-0.95-1.36-2.5-2.18-4.17-2.19c-0.74,0-1.46,0.16-2.12,0.47c-0.24-0.17-0.54-0.26-0.84-0.26h-1.4c-0.45,0-0.87,0.21-1.15,0.56 c-0.02-0.03-0.04-0.05-0.07-0.08c-0.28-0.3-0.68-0.47-1.09-0.47h-1.39c-0.3,0-0.6,0.09-0.84,0.26c-0.67-0.3-1.39-0.46-2.12-0.46 c-1.83,0-3.43,1-4.37,2.5c-0.2-0.46-0.48-0.89-0.83-1.25c-0.8-0.81-1.89-1.25-3.02-1.25h-0.01c-0.89,0.01-1.75,0.33-2.46,0.88 c-0.74-0.57-1.64-0.88-2.57-0.88H28.1c-0.29,0-0.58,0.03-0.86,0.11c-0.28,0.06-0.56,0.16-0.82,0.28c-0.21-0.12-0.45-0.18-0.7-0.18 h-1.4c-0.82,0-1.47,0.66-1.47,1.47v7.5c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.48-0.66,1.48-1.48l0,0V9.79 c0.03-0.36,0.23-0.59,0.36-0.59c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41c0.82,0,1.47-0.66,1.47-1.47 l-0.01-4.57c0.06-0.32,0.25-0.47,0.35-0.47c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41 c0.82,0,1.47-0.66,1.47-1.47v-0.38c0.96,1.29,2.46,2.06,4.06,2.06c0.74,0,1.46-0.16,2.12-0.47c0.24,0.17,0.54,0.26,0.84,0.26h1.39 c0.3,0,0.6-0.09,0.84-0.26v2.01c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.47-0.66,1.47-1.47v-1.77c0.48,0.15,0.99,0.23,1.49,0.22 c1.7,0,3.22-0.87,4.17-2.2v0.52c0,0.82,0.66,1.47,1.47,1.47h1.4c0.3,0,0.6-0.09,0.84-0.26c0.66,0.31,1.39,0.47,2.12,0.47 c1.92,0,3.6-1.1,4.49-2.73c1.54,2.65,4.95,3.53,7.58,1.98c0.18-0.11,0.36-0.22,0.53-0.36c0.22,0.55,0.76,0.91,1.35,0.9H78 c0.56,0,1.08-0.29,1.37-0.78l0.37-0.61l0.37,0.61c0.29,0.48,0.81,0.78,1.38,0.78h1.6c0.81,0,1.46-0.66,1.45-1.46 C84.49,14.02,84.44,13.8,84.34,13.59L84.34,13.59z M35.86,14.47h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23 V9.68c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23 V6.74c0.01-0.13,0.11-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03 c1.09,0,2.09,0.6,2.6,1.55c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78l0.01,5.16C36.09,14.36,35.98,14.46,35.86,14.47 L35.86,14.47z M45.97,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V13.5c-0.7,0.76-1.69,1.18-2.72,1.18 c-2.17,0-3.94-1.87-3.94-4.19s1.77-4.19,3.94-4.19c1.03,0,2.02,0.43,2.73,1.18V6.74c0-0.13,0.1-0.23,0.23-0.23h1.4 c0.12-0.01,0.22,0.08,0.23,0.21c0,0.01,0,0.01,0,0.02v7.51h-0.01V14.24z M52.41,14.67c-1.03,0-2.02-0.43-2.73-1.18v3.97 c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.1-0.23-0.23V6.75c0-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.23,0.11,0.23,0.23v0.73 c0.71-0.76,1.7-1.18,2.73-1.18c2.17,0,3.94,1.86,3.94,4.18S54.58,14.67,52.41,14.67z M66.24,11.39c-0.39,1.87-1.96,3.29-3.84,3.29 c-1.03,0-2.02-0.43-2.73-1.18v0.73c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V3.51c0-0.13,0.1-0.23,0.23-0.23 h1.4c0.13,0,0.23,0.11,0.23,0.23v3.97c0.71-0.75,1.7-1.18,2.73-1.17c1.88,0,3.45,1.4,3.84,3.28C66.37,10.19,66.37,10.8,66.24,11.39 L66.24,11.39L66.24,11.39z M71.67,14.68c-2,0.01-3.73-1.35-4.17-3.3c-0.13-0.59-0.13-1.19,0-1.77c0.44-1.94,2.17-3.31,4.17-3.3 c2.36,0,4.26,1.87,4.26,4.19S74.03,14.68,71.67,14.68L71.67,14.68z M83.04,14.47h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39 l-1.44,2.39c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68 L76.2,6.84c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.41-2.36 c0.06-0.11,0.18-0.17,0.3-0.17h1.61c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.38,3.64l2.43,3.67 c0.02,0.03,0.03,0.07,0.03,0.12C83.25,14.38,83.16,14.47,83.04,14.47L83.04,14.47L83.04,14.47z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M10.5,1.24c-5.11,0-9.25,4.15-9.25,9.25s4.15,9.25,9.25,9.25s9.25-4.15,9.25-9.25 C19.75,5.38,15.61,1.24,10.5,1.24z M14.89,12.77c-1.93,1.93-4.78,2.31-6.7,2.31c-0.7,0-1.41-0.05-2.1-0.16c0,0-1.02-5.64,2.14-8.81 c0.83-0.83,1.95-1.28,3.13-1.28c1.27,0,2.49,0.51,3.39,1.42C16.59,8.09,16.64,11,14.89,12.77z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M10.5-0.01C4.7-0.01,0,4.7,0,10.49s4.7,10.5,10.5,10.5S21,16.29,21,10.49C20.99,4.7,16.3-0.01,10.5-0.01z M10.5,19.74c-5.11,0-9.25-4.15-9.25-9.25s4.14-9.26,9.25-9.26s9.25,4.15,9.25,9.25C19.75,15.61,15.61,19.74,10.5,19.74z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M14.74,6.25C12.9,4.41,9.98,4.35,8.23,6.1c-3.16,3.17-2.14,8.81-2.14,8.81s5.64,1.02,8.81-2.14 C16.64,11,16.59,8.09,14.74,6.25z M12.47,10.34l-0.91,1.87l-0.9-1.87L8.8,9.43l1.86-0.9l0.9-1.87l0.91,1.87l1.86,0.9L12.47,10.34z'/%3E %3Cpolygon class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' points='14.33,9.43 12.47,10.34 11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 '/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact[_ngcontent-%COMP%]{width:21px;height:21px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 21 21' style='enable-background:new 0 0 21 21;' xml:space='preserve'%3E%3Cg transform='translate(0,0.01)'%3E%3Cpath d='m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3Cpath d='M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpath d='M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpolygon points='11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 ' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3C/g%3E%3C/svg%3E\")}.mapboxgl-ctrl.mapboxgl-ctrl-attrib[_ngcontent-%COMP%]{padding:0 5px;background-color:rgba(255,255,255,0.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]{margin:10px;position:relative;background-color:#fff;border-radius:3px 12px 12px 3px}.mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]:hover{padding:2px 24px 2px 4px;visibility:visible}.mapboxgl-ctrl-top-left[_ngcontent-%COMP%] > .mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]:hover, .mapboxgl-ctrl-bottom-left[_ngcontent-%COMP%] > .mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]:hover{padding:2px 4px 2px 24px;border-radius:12px 3px 3px 12px}.mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:none}.mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]:hover > *[_ngcontent-%COMP%]{display:inline}.mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]::after{content:'';cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill='%23333333' fill-rule='evenodd' d='M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0'/%3E %3C/svg%3E\");background-color:rgba(255,255,255,0.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px}.mapboxgl-ctrl-bottom-right[_ngcontent-%COMP%] > .mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]::after{bottom:0;right:0}.mapboxgl-ctrl-top-right[_ngcontent-%COMP%] > .mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]::after{top:0;right:0}.mapboxgl-ctrl-top-left[_ngcontent-%COMP%] > .mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]::after{top:0;left:0}.mapboxgl-ctrl-bottom-left[_ngcontent-%COMP%] > .mapboxgl-ctrl-attrib.mapboxgl-compact[_ngcontent-%COMP%]::after{bottom:0;left:0}}.mapboxgl-ctrl-attrib[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(0,0,0,0.75);text-decoration:none}.mapboxgl-ctrl-attrib[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib[_ngcontent-%COMP%]   .mapbox-improve-map[_ngcontent-%COMP%]{font-weight:bold;margin-left:2px}.mapboxgl-attrib-empty[_ngcontent-%COMP%]{display:none}.mapboxgl-ctrl-scale[_ngcontent-%COMP%]{background-color:rgba(255,255,255,0.75);font-size:10px;border-width:medium 2px 2px;border-style:none solid solid;border-color:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:-webkit-flex;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top[_ngcontent-%COMP%], .mapboxgl-popup-anchor-top-left[_ngcontent-%COMP%], .mapboxgl-popup-anchor-top-right[_ngcontent-%COMP%]{-webkit-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom[_ngcontent-%COMP%], .mapboxgl-popup-anchor-bottom-left[_ngcontent-%COMP%], .mapboxgl-popup-anchor-bottom-right[_ngcontent-%COMP%]{-webkit-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left[_ngcontent-%COMP%]{-webkit-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right[_ngcontent-%COMP%]{-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip[_ngcontent-%COMP%]{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%]{-webkit-align-self:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%]{-webkit-align-self:flex-start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%]{-webkit-align-self:flex-end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%]{-webkit-align-self:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%]{-webkit-align-self:flex-start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%]{-webkit-align-self:flex-end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%]{-webkit-align-self:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%]{-webkit-align-self:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button[_ngcontent-%COMP%]{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,0.05)}.mapboxgl-popup-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,0.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left[_ngcontent-%COMP%]   .mapboxgl-popup-content[_ngcontent-%COMP%]{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right[_ngcontent-%COMP%]   .mapboxgl-popup-content[_ngcontent-%COMP%]{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left[_ngcontent-%COMP%]   .mapboxgl-popup-content[_ngcontent-%COMP%]{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right[_ngcontent-%COMP%]   .mapboxgl-popup-content[_ngcontent-%COMP%]{border-bottom-right-radius:0}.mapboxgl-marker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot[_ngcontent-%COMP%]{background-color:#1da1f2;width:15px;height:15px;border-radius:50%;box-shadow:0 0 2px rgba(0,0,0,0.25)}.mapboxgl-user-location-dot[_ngcontent-%COMP%]::before{background-color:#1da1f2;content:'';width:15px;height:15px;border-radius:50%;position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;-moz-animation:mapboxgl-user-location-dot-pulse 2s infinite;-ms-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot[_ngcontent-%COMP%]::after{border-radius:50%;border:2px solid #fff;content:'';height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}100%{-webkit-transform:scale(1);opacity:0}}@-ms-keyframes mapboxgl-user-location-dot-pulse{0%{-ms-transform:scale(1);opacity:1}70%{-ms-transform:scale(3);opacity:0}100%{-ms-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}100%{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale[_ngcontent-%COMP%]{background-color:#aaa}.mapboxgl-user-location-dot-stale[_ngcontent-%COMP%]::after{display:none}.mapboxgl-crosshair[_ngcontent-%COMP%], .mapboxgl-crosshair[_ngcontent-%COMP%]   .mapboxgl-interactive[_ngcontent-%COMP%], .mapboxgl-crosshair[_ngcontent-%COMP%]   .mapboxgl-interactive[_ngcontent-%COMP%]:active{cursor:crosshair}.mapboxgl-boxzoom[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:0.5}@media print{.mapbox-improve-map[_ngcontent-%COMP%]{display:none}}.routes-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,0.2);padding:5px 5px;margin:0 0 50px 0}.routes-container[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{column-count:1}.routes-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-left:15px}.routes-container[_ngcontent-%COMP%]   .route-block[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;overflow:hidden;margin:0 9px;position:relative}.routes-container[_ngcontent-%COMP%]   .route-block[_ngcontent-%COMP%]     svg.tp-icon{height:20px;width:20px;fill:#1D69B4;position:absolute;top:50%;right:10px;margin-top:-10px}.routes-container[_ngcontent-%COMP%]   .route-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:90%;color:#555}@media (max-width: 767px){.routes-container[_ngcontent-%COMP%]   .route-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:80%;max-width:160px;margin-top:2px}}.routes-container[_ngcontent-%COMP%]   .route-block[_ngcontent-%COMP%]   tni-route-icon[_ngcontent-%COMP%]{float:left;margin-right:20px}@media (max-width: 767px){.routes-container[_ngcontent-%COMP%]   .route-block[_ngcontent-%COMP%]   tni-route-icon[_ngcontent-%COMP%]{margin-right:10px}}.routes-container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 0 20px 0;height:0px}@media (max-width: 767px){.routes-container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0}}.routes-container[_ngcontent-%COMP%]   .route-details[_ngcontent-%COMP%]{max-height:400px;width:100%;cursor:pointer}.routes-container[_ngcontent-%COMP%]   .route-details[_ngcontent-%COMP%]   .route-link[_ngcontent-%COMP%]:focus   .route-block[_ngcontent-%COMP%]{outline:4px solid rgba(0,0,0,0.4);outline-offset:-2px}.routes-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{display:block;padding:15px 0 0 22px;cursor:pointer;clear:both}.routes-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{margin:10px 0;position:relative;display:inline-block}.routes-container[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;top:65%;right:-20px}.routes-container[_ngcontent-%COMP%]   .arrow.up[_ngcontent-%COMP%]{border-bottom:5px solid #1D69B4}.routes-container[_ngcontent-%COMP%]   .arrow.down[_ngcontent-%COMP%]{border-top:5px solid #1D69B4}  .route-icon-number{width:40px;height:18px;border-radius:3px;padding:0;margin:0;font-size:12px;line-height:18px;letter-spacing:0.16px}"],data:{}});function m(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,11,"div",[["class","route-details"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,10,"a",[["aria-label","click to navigate to route details"],["class","route-link"],["tabindex","0"]],[[8,"href",4]],null,null,null,null)),(t()(),r.ib(2,0,null,null,9,null,null,null,null,null,null,null)),(t()(),r.ib(3,0,null,null,8,"div",[["class","route-block"]],null,null,null,null,null)),r.hb(4,278528,null,0,i.j,[r.p,r.i,r.y],{ngStyle:[0,"ngStyle"]},null),r.ub(5,{overflow:0}),(t()(),r.ib(6,0,null,null,1,"tni-route-icon",[],null,null,null,o.b,o.a)),r.hb(7,573440,null,0,a.a,[],{lineNumber:[0,"lineNumber"],iconBackgroundColour:[1,"iconBackgroundColour"],iconFontColour:[2,"iconFontColour"],productId:[3,"productId"]},null),(t()(),r.ib(8,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(9,null,["",""])),(t()(),r.ib(10,0,null,null,1,"tni-icon",[["iconClasses","sm arrow"],["iconName","arrow_right"]],null,null,null,s.b,s.a)),r.hb(11,49152,null,0,l.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null)],function(t,e){var n=t(e,5,0,e.component.showMoreLessLink?"hidden":"auto");t(e,4,0,n),t(e,7,0,e.context.$implicit.number,e.context.$implicit.iconBackgroundColour,e.context.$implicit.iconFontColour,e.context.$implicit.productId),t(e,11,0,"arrow_right","sm arrow")},function(t,e){t(e,1,0,r.kb(1,"",e.context.$implicit.detailsLink,"")),t(e,9,0,e.context.$implicit.name)})}function g(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,0,"span",[["class","arrow up"]],null,null,null,null,null))],null,null)}function y(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,0,"span",[["class","arrow down"]],null,null,null,null,null))],null,null)}function _(t){return r.Bb(0,[(t()(),r.ib(0,0,[[1,0],["moreLessLink",1]],null,5,"a",[["class","link"],["tabindex","0"]],null,[[null,"keydown.enter"],[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"keydown.enter"===e&&(r=!1!==i.getRouteList(!0)&&r),"click"===e&&(r=!1!==i.getRouteList(!0)&&r),r},null,null)),(t()(),r.zb(1,null,[" "," "])),(t()(),r.Z(16777216,null,null,1,null,g)),r.hb(3,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,y)),r.hb(5,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.showAll),t(e,5,0,!n.showAll)},function(t,e){t(e,1,0,e.component.moreLessLinkLabel)})}function v(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,8,"div",[["class","routes-container row"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Routes from this stop"])),(t()(),r.ib(3,0,null,null,5,"div",[["class","routes"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,m)),r.hb(5,278528,null,0,i.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.ib(6,0,null,null,2,"div",[["class","link-container"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,_)),r.hb(8,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,n.displayRoutes),t(e,8,0,n.showMoreLessLink)},null)}function b(t){return r.Bb(0,[r.xb(671088640,1,{moreLessLink:0}),(t()(),r.Z(16777216,null,null,1,null,v)),r.hb(2,16384,null,0,i.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,!e.component.dataError)},null)}function x(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"stop-routes-list",[],null,null,null,b,f)),r.hb(1,114688,null,0,u.a,[c.a,p.a,h.a,d.a,r.f],null,null)],function(t,e){t(e,1,0)},null)}var w=r.eb("stop-routes-list",u.a,x,{},{},[])},mr1O:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("4ATH");var r=function(){function t(t){this.trackEventService=t}return t.prototype.refreshAlerts=function(){this.trackEventService.trackEvent("Travel alerts widget",{action:"Refresh alerts"})},t.prototype.removeFavourite=function(t){this.trackEventService.trackEvent("Travel alerts widget",{action:"Remove favourite",label:t})},t.prototype.setFavourite=function(t){this.trackEventService.trackEvent("Travel alerts widget",{action:"Set favourite",label:t})},t.prototype.collapseRegionCard=function(t){this.trackEventService.trackEvent("Travel alerts widget",{action:"Collapse accordion",label:t})},t.prototype.expandRegionCard=function(t){this.trackEventService.trackEvent("Travel alerts widget",{action:"Expand accordion",label:t})},t}()},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"h",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return p});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function s(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}},"n0B/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/y3m"),i=n("lepT"),o=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[r.a,i.a]}},t}()},nfFZ:function(t,e,n){"use strict";var r=function(){function t(){}return t.fromLocalStorage=function(e){var n=new t;return Object.assign(n,e),n},t}(),i=(n("/Vdu"),n("6OR2")),o=n("67Y/");n.d(e,"a",function(){return a});var a=function(){function t(t){this.userPreferenceStoreService=t}return t.prototype.getAlertPreferences=function(){var t=JSON.parse(localStorage.getItem("alert_preferences"));return t?r.fromLocalStorage(t):new r},t.prototype.getFavouriteRoutes=function(){return this.userPreferenceStoreService.getAlertsItem(i.b).pipe(Object(o.a)(function(t){return t||[]}))},t.prototype.removeFavouriteRoute=function(t){this.userPreferenceStoreService.updateFavouriteRoutes(t)},t}()},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},nyDe:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("F/XL"),i=n("67Y/"),o=n("XBuN"),a=n("JDJu"),s=function(){function t(t){this.http=t,this.locationSchemaCache$={}}return t.prototype.getLocationSchema=function(t){var e=this;return this.locationSchemaCache$[t]?Object(r.a)(this.locationSchemaCache$[t].schema):this.http.get(""+o.m+t).pipe(Object(i.a)(function(t){return t}),Object(i.a)(function(n){return e.locationSchemaCache$[t]={schema:a.b.fromJson(n)},e.locationSchemaCache$[t].schema}))},t}()},nyYc:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}()},o1bE:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("ar-dz",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u0623\u062d_\u0625\u062b_\u062b\u0644\u0627_\u0623\u0631_\u062e\u0645_\u062c\u0645_\u0633\u0628".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:4}})}()},oLF2:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("4ATH");var r=n("XmvR"),i=function(){function t(t){this.trackEventService=t,this.category="Interactive map"}return t.prototype.selectTab=function(t){this.trackEventService.trackEvent(this.category,{action:r.c.ChooseView.toString(),label:t.toString()})},t.prototype.viewBubbleOnMap=function(t){this.trackEventService.trackEvent(this.category,{action:r.c.ViewBubbleOnMap.toString(),label:t})},t.prototype.searchLocation=function(t){this.trackEventService.trackEvent(this.category,{action:r.c.SearchLocation.toString(),label:t})},t.prototype.viewCard=function(t){this.trackEventService.trackEvent(this.category,{action:r.c.ViewCard.toString(),label:t})},t.prototype.selectMapFromCard=function(t){this.trackEventService.trackEvent(this.category,{action:r.c.SelectMapFromCard.toString(),label:t})},t.prototype.selectLinkOnCard=function(t,e){this.trackEventService.trackEvent(this.category,{action:r.c.SelectLinkOnCard.toString(),label:t+" - "+e})},t.prototype.selectLinkOnMap=function(t){this.trackEventService.trackEvent(this.category,{action:r.c.SelectLinkOnMapBubble.toString(),label:t})},t}()},"p/rL":function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}()},p0ib:function(t,e,n){"use strict";var r=n("6blF"),i=n("nkY7"),o=n("psW0");function a(t){return t}var s=n("IUTb");function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,l=null,u=t[t.length-1];return Object(i.a)(u)?(l=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===l&&1===t.length&&t[0]instanceof r.a?t[0]:function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(o.a)(a,t)}(n)(Object(s.a)(t,l))}n.d(e,"a",function(){return l})},p0zj:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.weekDays=["su","mo","tu","we","th","fr","sa"]}return t.prototype.isDateValid=function(t,e,n,r,i,o,a,s,l,u,c,p){var h={day:0,month:0,year:0},d=[31,28,31,30,31,30,31,31,30,31,30,31],f=-1!==e.indexOf("mmm"),m=this.getDateFormatSeparators(e),g=f?this.parseDatePartMonthName(e,t,"mmm",c):this.parseDatePartNumber(e,t,"mm");if(f&&c[g]&&(e=this.changeDateFormat(e,c[g].length)),t.length!==e.length)return h;if(e.indexOf(m[0])!==t.indexOf(m[0])||e.lastIndexOf(m[1])!==t.lastIndexOf(m[1]))return h;var y=this.parseDatePartNumber(e,t,"dd"),_=this.parseDatePartNumber(e,t,"yyyy");if(-1!==g&&-1!==y&&-1!==_){if(_<n||_>r||g<1||g>12)return h;var v={year:_,month:g,day:y};return this.isDisabledDay(v,n,r,i,o,a,s,l,u,p)?h:((_%400==0||_%100!=0&&_%4==0)&&(d[1]=29),y<1||y>d[g-1]?h:v)}return h},t.prototype.getDateFormatSeparators=function(t){return t.match(/[^(dmy)]{1,}/g)},t.prototype.changeDateFormat=function(t,e){for(var n="",r=0;r<e;r++)n+="m";return t.replace("mmm",n)},t.prototype.isMonthLabelValid=function(t,e){for(var n=1;n<=12;n++)if(t.toLowerCase()===e[n].toLowerCase())return n;return-1},t.prototype.isYearLabelValid=function(t,e,n){return t>=e&&t<=n?t:-1},t.prototype.parseDatePartNumber=function(t,e,n){var r=this.getDatePartIndex(t,n);if(-1!==r){var i=e.substring(r,r+n.length);return/^\d+$/.test(i)?parseInt(i):-1}return-1},t.prototype.parseDatePartMonthName=function(t,e,n,r){var i="",o=t.indexOf(n);if("mmm"===t.substr(t.length-3))i=e.substring(o);else{var a=e.indexOf(t.charAt(o+n.length),o);i=e.substring(o,a)}return this.isMonthLabelValid(i,r)},t.prototype.getDatePartIndex=function(t,e){return t.indexOf(e)},t.prototype.parseDefaultMonth=function(t){var e={monthTxt:"",monthNbr:0,year:0};if(""!==t){var n=t.split(t.match(/[^0-9]/)[0]);e.monthNbr=2===n[0].length?parseInt(n[0]):parseInt(n[1]),e.year=2===n[0].length?parseInt(n[1]):parseInt(n[0])}return e},t.prototype.isDisabledDay=function(t,e,n,r,i,o,a,s,l,u){for(var c=0,p=u;c<p.length;c++){var h=p[c];if(h.year===t.year&&h.month===t.month&&h.day===t.day)return!1}var d=this.getDayNumber(t);if(t.year<e&&12===t.month||t.year>n&&1===t.month)return!0;var f=this.getTimeInMilliseconds(t);if(this.isInitializedDate(r)&&f<=this.getTimeInMilliseconds(r))return!0;if(this.isInitializedDate(i)&&f>=this.getTimeInMilliseconds(i))return!0;if(o&&(0===d||6===d))return!0;if(a.length>0)for(var m=0,g=a;m<g.length;m++)if(d===this.getWeekdayIndex(g[m]))return!0;for(var y=0,_=s;y<_.length;y++)if((x=_[y]).year===t.year&&x.month===t.month&&x.day===t.day)return!0;for(var v=0,b=l;v<b.length;v++){var x;if(this.isInitializedDate((x=b[v]).begin)&&this.isInitializedDate(x.end)&&f>=this.getTimeInMilliseconds(x.begin)&&f<=this.getTimeInMilliseconds(x.end))return!0}return!1},t.prototype.isMarkedDate=function(t,e,n){for(var r=0,i=e;r<i.length;r++)for(var o=i[r],a=0,s=o.dates;a<s.length;a++){var l=s[a];if(l.year===t.year&&l.month===t.month&&l.day===t.day)return{marked:!0,color:o.color}}if(n&&n.marked){var u=this.getDayNumber(t);if(0===u||6===u)return{marked:!0,color:n.color}}return{marked:!1,color:""}},t.prototype.isHighlightedDate=function(t,e,n,r){var i=this.getDayNumber(t);if(e&&0===i||n&&6===i)return!0;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(s.year===t.year&&s.month===t.month&&s.day===t.day)return!0}return!1},t.prototype.getWeekNumber=function(t){var e=new Date(t.year,t.month-1,t.day,0,0,0,0);return e.setDate(e.getDate()+(0===e.getDay()?-3:4-e.getDay())),Math.round((e.getTime()-new Date(e.getFullYear(),0,4).getTime())/864e5/7)+1},t.prototype.isMonthDisabledByDisableUntil=function(t,e){return this.isInitializedDate(e)&&this.getTimeInMilliseconds(t)<=this.getTimeInMilliseconds(e)},t.prototype.isMonthDisabledByDisableSince=function(t,e){return this.isInitializedDate(e)&&this.getTimeInMilliseconds(t)>=this.getTimeInMilliseconds(e)},t.prototype.isInitializedDate=function(t){return 0!==t.year&&0!==t.month&&0!==t.day},t.prototype.isSameDate=function(t,e){return t.year===e.year&&t.month===e.month&&t.day===e.day},t.prototype.getTimeInMilliseconds=function(t){return new Date(t.year,t.month-1,t.day,0,0,0,0).getTime()},t.prototype.getDayNumber=function(t){return new Date(t.year,t.month-1,t.day,0,0,0,0).getDay()},t.prototype.getWeekDays=function(){return this.weekDays},t.prototype.getWeekdayIndex=function(t){return this.weekDays.indexOf(t)},t.ctorParameters=[],t}()},p7CD:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("4ATH");var r=function(){function t(t){this.trackEventService=t}return t.prototype.logInUnregistered=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Log in",label:"Unregistered"})},t.prototype.logInRegistered=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Log in",label:"Registered"})},t.prototype.logout=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Log out"})},t.prototype.viewOpalCardsSelected=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Opal cards"})},t.prototype.clickViewDetailsUnregistered=function(){this.trackEventService.trackEvent("Opal transaction",{action:"View details",label:"Unregistered"})},t.prototype.clickViewDetailsRegistered=function(){this.trackEventService.trackEvent("Opal transaction",{action:"View details",label:"Registered"})},t.prototype.viewProfileSelected=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Profile"})},t.prototype.sessionExpired=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Session expired"})},t.prototype.addOpalCard=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Link card"})},t.prototype.autoTopUpOn=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Turn on auto top up"})},t.prototype.autoTopUpUpdate=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Update auto top up"})},t.prototype.autoTopUpOff=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Turn off auto top up"})},t.prototype.topUp=function(){this.trackEventService.trackEvent("Opal transaction",{action:"One off top up"})},t.prototype.setNewPassword=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Set new password"})},t.prototype.retrieveUsername=function(){this.trackEventService.trackEvent("Opal transaction",{action:"Retrieve username"})},t}()},plTY:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t[t.moreInfo=0]="moreInfo",t[t.timetable=1]="timetable",t[t.planTrip=2]="planTrip",t[t.departures=3]="departures",t}({})},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),s=n("67Y/"),l=n("0/uQ");function u(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(u(function(n,r){return Object(l.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.project,this.concurrent))},t}(),p=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.c(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},pugT:function(t,e,n){"use strict";var r=n("isby"),i=n("McSo"),o=n("2Bdj"),a=n("Ehmk"),s=n("eihs");function l(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}l.prototype=Object.create(Error.prototype);var u=l;n.d(e,"a",function(){return c});var c=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,l=this._parents,c=this._unsubscribe,h=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,f=l?l.length:0;n;)n.remove(this),n=++d<f&&l[d]||null;if(Object(o.a)(c)&&Object(a.a)(c).call(this)===s.a&&(e=!0,t=t||(s.a.e instanceof u?p(s.a.e.errors):[s.a.e])),Object(r.a)(h))for(d=-1,f=h.length;++d<f;){var m=h[d];if(Object(i.a)(m)&&Object(a.a)(m.unsubscribe).call(m)===s.a){e=!0,t=t||[];var g=s.a.e;g instanceof u?t=t.concat(p(g.errors)):t.push(g)}}if(e)throw new u(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function p(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},qi76:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("F/XL"),i=n("Gi3i"),o=n("15JJ"),a=n("xMyE"),s=n("67Y/"),l=(n("DHEB"),function(){function t(t){var e=this;this.tniTwitterService=t,this.searchTweet=function(t){return t.pipe(Object(i.a)(100),Object(o.a)(function(t){return t&&t.length>=1?e.tniTwitterService.getTweets(t).pipe(Object(a.a)(function(t){e.showFooterBox=t.length>10}),Object(s.a)(function(t){return t.length>10&&(t=t.slice(0,10)),t})):Object(r.a)(null)}))}}return t.prototype.getIconByMode=function(t,e){var n="";switch(e){case"1":n="train";break;case"2":n="metro";break;case"4":n="lightrail";break;case"5":n="bus";break;case"7":n="coach";break;case"9":n="ferry";break;case"11":n="bus-school"}return n},t.prototype.selectTweet=function(t){this.tweet=t._source,this.item={name:name}},t.prototype.ngOnDestroy=function(){this.featureToggleSubscription&&this.featureToggleSubscription.unsubscribe()},t.prototype.isMetro=function(t){return"2"===t._source.payload.mode.code},t}())},rE3e:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("CcnG"),i=n("eYWh"),o=n("ka1Z"),a=n("Ip0R"),s=(n("VtCN"),n("UTGZ"),n("gTB4"),n("3ZaB"),r.gb({encapsulation:0,styles:["#mapbox-map[_ngcontent-%COMP%]{height:100%;position:relative}.marker[_ngcontent-%COMP%]{display:block;border:1px solid gray;border-radius:50%;cursor:pointer;padding:0;background:black}.mapboxgl-popup-content[_ngcontent-%COMP%]{background:red}  .tp-icon.marker{pointer-events:none}"],data:{}}));function l(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,9,"span",[["class","map-placeholder"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,8,"div",[["class","placeholder-image"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,7,"div",[["class","placeholder-text"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,1,"tni-icon",[["iconAriaHidden","false"],["iconClasses","tp-icon tp-icon-disruption sm"],["iconHidden","false"],["iconName","alert"],["iconTitle","alert"]],null,null,null,i.b,i.a)),r.hb(4,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"],iconHidden:[4,"iconHidden"]},null),(t()(),r.ib(5,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["The map is unavailable because you may be using an old browser or operating system that is not supported. "])),(t()(),r.ib(7,0,null,null,1,"a",[["href","https://transportnsw.info/about-us/site-accessibility#accordion-recommended-browsers-content"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Find out more"])),(t()(),r.zb(-1,null,["."]))],function(t,e){t(e,4,0,"alert","alert","tp-icon tp-icon-disruption sm","false","false")},null)}function u(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,0,"div",[["id","mapbox-map"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,l)),r.hb(2,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,!e.component.isMapSupported)},function(t,e){t(e,0,0,!e.component.isMapSupported)})}},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.c(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},raLr:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===n?e?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":t+" "+(r=+t,i={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:e?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}function r(t){return function(){return t+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}n("wd/R").defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(t,e){var n={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return t?n[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(e)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:r("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:r("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:r("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:r("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return r("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:e,m:e,mm:e,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:e,d:"\u0434\u0435\u043d\u044c",dd:e,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:e,y:"\u0440\u0456\u043a",yy:e},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u0456":t<12?"\u0440\u0430\u043d\u043a\u0443":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-\u0439";case"D":return t+"-\u0433\u043e";default:return t}},week:{dow:1,doy:7}})}()},"s+uk":function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}n("wd/R").defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},sC8E:function(t,e){},sInC:function(t,e,n){"use strict";n("8a0D"),n("0uBk"),n("sC8E"),n("+7ml"),n("kkC9"),n("YH/8"),n("GSWm"),n("wUbL"),n("HGyu"),n("t2zd"),n("9BpC"),n("OoOO"),n("4D6R"),n("/3+2"),n("tC8I"),n("NCMA")},sp3z:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(t){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===t},meridiem:function(t,e,n){return t<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(t){return"\u0e97\u0eb5\u0ec8"+t}})}()},srE5:function(t,e,n){"use strict";n("fDkQ");var r=n("fbJJ");n.d(e,"b",function(){return r.a});var i=n("0Ylq");n.d(e,"c",function(){return i.a});var o=n("9Poh");n.d(e,"a",function(){return o.a}),n("/aI6"),n("wC2N")},"t/Na":function(t,e,n){"use strict";var r=n("mrSG"),i=n("CcnG"),o=n("F/XL"),a=n("6blF"),s=n("psW0"),l=n("VnD/"),u=n("67Y/"),c=n("Ip0R");n.d(e,"m",function(){return P}),n.d(e,"p",function(){return Y}),n.d(e,"q",function(){return B}),n.d(e,"n",function(){return N}),n.d(e,"o",function(){return R}),n.d(e,"b",function(){return h}),n.d(e,"g",function(){return p}),n.d(e,"c",function(){return k}),n.d(e,"a",function(){return S}),n.d(e,"d",function(){return V}),n.d(e,"e",function(){return j}),n.d(e,"l",function(){return z}),n.d(e,"h",function(){return g}),n.d(e,"f",function(){return L}),n.d(e,"i",function(){return O}),n.d(e,"k",function(){return I}),n.d(e,"j",function(){return F});var p=function(){return function(){}}(),h=function(){return function(){}}(),d=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,Object(r.g)(n)),this.headers.set(e,i);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),f=function(){function t(){}return t.prototype.encodeKey=function(t){return m(t)},t.prototype.encodeValue=function(t){return m(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function m(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var g=function(){function t(t){void 0===t&&(t={});var e,n,i,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new f,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,i=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),o=Object(r.f)(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),a=o[0],s=o[1],l=i.get(a)||[];l.push(s),i.set(a,l)}),i)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];o.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function y(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function _(t){return"undefined"!=typeof Blob&&t instanceof Blob}function v(t){return"undefined"!=typeof FormData&&t instanceof FormData}var b=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new g,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:y(this.body)||_(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:v(this.body)?null:_(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,l=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},l)),e.setParams&&(u=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},u)),new t(n,r,o,{params:u,headers:l,reportProgress:s,responseType:i,withCredentials:a})},t}(),x=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),w=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),M=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=x.ResponseHeader,n}return Object(r.c)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(w),C=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=x.Response,n.body=void 0!==e.body?e.body:null,n}return Object(r.c)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(w),L=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(r.c)(e,t),e}(w);function E(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var k=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof b)r=t;else{var a;a=n.headers instanceof d?n.headers:new d(n.headers);var c=void 0;n.params&&(c=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new b(t,e,void 0!==n.body?n.body:null,{headers:a,params:c,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var p,h=Object(o.a)(r).pipe((p=function(t){return i.handler.handle(t)},Object(s.a)(p,void 0,1)));if(t instanceof b||"events"===n.observe)return h;var f=h.pipe(Object(l.a)(function(t){return t instanceof C}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return f.pipe(Object(u.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return f.pipe(Object(u.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return f.pipe(Object(u.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return f.pipe(Object(u.a)(function(t){return t.body}))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,E(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,E(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,E(n,e))},t}(),T=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),S=new i.m("HTTP_INTERCEPTORS"),A=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),D=/^\)\]\}',?\n/,I=function(){return function(){}}(),P=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),O=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new a.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,l=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new d(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new M({headers:i,status:e,statusText:n,url:o})},u=function(){var e=l(),i=e.headers,o=e.status,a=e.statusText,s=e.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof u){var p=u;u=u.replace(D,"");try{u=""!==u?JSON.parse(u):null}catch(h){u=p,c&&(c=!1,u={error:h,text:u})}}c?(n.next(new C({body:u,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new L({error:u,headers:i,status:o,statusText:a,url:s||void 0}))},c=function(t){var e=new L({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error"});n.error(e)},p=!1,h=function(e){p||(n.next(l()),p=!0);var i={type:x.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(t){var e={type:x.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",u),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",f)),r.send(a),n.next({type:x.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",u),t.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",f)),r.abort()}})},t}(),N=new i.m("XSRF_COOKIE_NAME"),R=new i.m("XSRF_HEADER_NAME"),F=function(){return function(){}}(),Y=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.q)(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),B=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t}(),z=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(S,[]);this.chain=e.reduceRight(function(t,e){return new T(t,e)},this.backend)}return this.chain.handle(t)},t}(),j=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:B,useClass:A}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:N,useValue:t.cookieName}:[],t.headerName?{provide:R,useValue:t.headerName}:[]]}},t}(),V=function(){return function(){}}()},t2zd:function(t,e){},tC8I:function(t,e){},tGlX:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}n("wd/R").defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},tT3J:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}()},tUCv:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}()},"tUW/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("SnAx"),i=n("bxum"),o=function(){function t(){this.localStorageKey="recent_locations"}return t.prototype.getLocations=function(){return(r.a.getItem(this.localStorageKey)||[]).map(function(t){return i.a.fromJson(t)})},t}()},tuOl:function(t,e,n){"use strict";var r=n("CcnG"),i=n("eYWh"),o=n("ka1Z"),a=n("Ip0R"),s=n("34mC"),l=(n("MMzP"),n("mr1O")),u=function(){function t(t){this.trackEvent=t,this.isFavourite=!0,this.favToggleEvent=new r.k}return t.prototype.onFavouriteToggle=function(){this.isFavourite=!this.isFavourite,this.favToggleEvent.emit(this.isFavourite),this.trackToggleFavourite()},t.prototype.trackToggleFavourite=function(){var t="";t+=this.routeInfo.lineNumber?this.routeInfo.lineNumber+" ":this.routeInfo.routeNumber+" ",t+=this.routeInfo.routeDisplayName,this.isFavourite?this.trackEvent.setFavourite(t):this.trackEvent.removeFavourite(t)},t}(),c=r.gb({encapsulation:0,styles:[".route-icon-number[_ngcontent-%COMP%]{font-weight:500 !important;font-size:13px;padding:0 0.35em 0.1em;min-width:1.8em;color:#fff;text-transform:uppercase;font-variant:small-caps;border-radius:3px;letter-spacing:0.01em;text-align:center;vertical-align:middle;fill:inherit;border:0;display:inline-block;line-height:22.65px}.route-icon-number.privateFerries[_ngcontent-%COMP%]{min-width:50px}.route-icon-number.lg[_ngcontent-%COMP%]{font-size:24px;padding:0.11em 0.18em;height:1.4em;position:relative;line-height:26px}.route-icon-number.lg.route-icon-align[_ngcontent-%COMP%]{top:-0.24em}.route-name[_ngcontent-%COMP%]{margin-left:0.1em}.route-card-container[_ngcontent-%COMP%]{margin-bottom:10px;background:#fff;border-radius:0;border:1px solid rgba(0,0,0,0.1);box-shadow:0 2px 1px 0 rgba(0,0,0,0.2)}.route-card-container[_ngcontent-%COMP%]   .route-card-header[_ngcontent-%COMP%]{min-height:42px;background:#F6F6F6;display:flex;align-items:center}.route-card-container[_ngcontent-%COMP%]   .route-card-header[_ngcontent-%COMP%]   .fav-btn[_ngcontent-%COMP%]{padding:5px 8px;color:#1D69B4}.route-card-container[_ngcontent-%COMP%]   .route-card-header[_ngcontent-%COMP%]   .route-number-box[_ngcontent-%COMP%]{box-sizing:border-box;font-size:0.9em}@media (min-width: 1200px){.route-card-container[_ngcontent-%COMP%]   .route-card-header[_ngcontent-%COMP%]   .route-number-box[_ngcontent-%COMP%]{margin-bottom:3px}}.route-card-container[_ngcontent-%COMP%]   .route-card-header[_ngcontent-%COMP%]   .route-number-box[_ngcontent-%COMP%]   .route-icon-number[_ngcontent-%COMP%]{border-radius:3px}.route-card-container[_ngcontent-%COMP%]   .route-card-header[_ngcontent-%COMP%]   .route-name[_ngcontent-%COMP%]{font-weight:500;font-size:100%;margin-left:5px}.route-card-container[_ngcontent-%COMP%]   .route-card-body[_ngcontent-%COMP%]{line-height:1.1em;font-size:1em}.route-card-container[_ngcontent-%COMP%]   .route-card-body[_ngcontent-%COMP%]   .msg-container[_ngcontent-%COMP%]{border-top-width:0}.route-card-container[_ngcontent-%COMP%]   .route-card-body[_ngcontent-%COMP%]   .msg-container[_ngcontent-%COMP%]   .msg-title[_ngcontent-%COMP%]{color:#1D69B4;text-decoration:underline}.route-card-container[_ngcontent-%COMP%]   .route-card-body[_ngcontent-%COMP%]   .msg-container[_ngcontent-%COMP%]   .clear-list-border[_ngcontent-%COMP%]{border-width:1px 0;border-radius:0;border-bottom:0;padding-right:40px}.route-card-container[_ngcontent-%COMP%]   .route-card-body[_ngcontent-%COMP%]   .msg-container[_ngcontent-%COMP%]   .msg-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;color:#1D69B4}.route-card-container[_ngcontent-%COMP%]   .route-card-body[_ngcontent-%COMP%]   .msg-container[_ngcontent-%COMP%]   .timeframe[_ngcontent-%COMP%]{text-transform:none;font-variant:normal}.route-card-container[_ngcontent-%COMP%]   .route-card-body[_ngcontent-%COMP%]   .no-alerts-container[_ngcontent-%COMP%]{padding:10px;line-height:1.2em}.tni-pill-container[_ngcontent-%COMP%]{display:inline-block;background-color:#F6F6F6;border-radius:25px;font-weight:200;padding:3px 15px 3px 6px;margin:5px 2px 2px;border:1px solid #ddd}.tni-pill-container.brand-blue[_ngcontent-%COMP%]     svg{fill:#1D69B4;color:#1D69B4}"],data:{}});function p(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(-1,null,[" \u2022 "]))],null,null)}function h(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"li",[["class","timeframe"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,p)),r.hb(2,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.zb(3,null,[" "," "])),r.vb(4,1)],function(t,e){t(e,2,0,e.parent.context.$implicit.validity.length>1)},function(t,e){var n=r.Ab(e,3,0,t(e,4,0,r.sb(e.parent.parent.parent,0),e.context.$implicit));t(e,3,0,n)})}function d(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["aria-label","Alert type is Lift or escalator outage"],["class","tni-pill-container brand-blue"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","xs blue"],["iconName","accessible"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.ib(3,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Lift or escalator outage"]))],function(t,e){t(e,2,0,"accessible","xs blue")},null)}function f(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["aria-label","Alert type is Service alert"],["class","tni-pill-container brand-blue"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","xs"],["iconName","alert"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.ib(3,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Service alert"]))],function(t,e){t(e,2,0,"alert","xs")},null)}function m(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["aria-label","Alert type is Trackwork"],["class","tni-pill-container brand-blue"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","xs blue"],["iconName","trackwork"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.ib(3,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Trackwork"]))],function(t,e){t(e,2,0,"trackwork","xs blue")},null)}function g(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,11,"a",[["class","list-group-item clear-list-border"]],[[8,"href",4]],null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"span",[["class","msg-title"]],null,null,null,null,null)),(t()(),r.zb(2,null,["",""])),(t()(),r.ib(3,0,null,null,2,"ol",[["class","timeframe-list"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,h)),r.hb(5,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.Z(16777216,null,null,1,null,d)),r.hb(7,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,f)),r.hb(9,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,m)),r.hb(11,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,5,0,e.context.$implicit.validity);var n=e.context.$implicit.isLiftOrEscalator();t(e,7,0,n);var r=e.context.$implicit.isServiceAlert();t(e,9,0,r);var i=e.context.$implicit.isTrackwork();t(e,11,0,i)},function(t,e){t(e,0,0,r.kb(1,"/alerts/details#/",e.context.$implicit.id,"")),t(e,2,0,e.context.$implicit.subtitle)})}function y(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","msg-container"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,g)),r.hb(2,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.routeInfo.alertMessages)},null)}function _(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["class","no-alerts-container"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" No alerts, normal service "]))],null,null)}function v(t){return r.Bb(0,[r.tb(0,s.a,[]),(t()(),r.ib(1,0,null,null,15,"div",[["class","route-card-container"]],[[1,"id",0]],null,null,null,null)),(t()(),r.ib(2,0,null,null,10,"div",[["class","route-card-header"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,2,"button",[["class","btn btn-link fav-btn"]],[[1,"aria-label",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onFavouriteToggle()&&r),r},null,null)),(t()(),r.ib(4,0,null,null,1,"tni-icon",[["iconClasses","sm"],["iconName","favourite-selected"]],null,null,null,i.b,i.a)),r.hb(5,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.ib(6,0,null,null,4,"span",[["class","route-number-box"]],null,null,null,null,null)),(t()(),r.ib(7,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(8,null,["",""])),(t()(),r.ib(9,0,null,null,1,"span",[["class","route-icon-number md"]],[[4,"background-color",null],[4,"color",null]],null,null,null,null)),(t()(),r.zb(10,null,[" "," "])),(t()(),r.ib(11,0,null,null,1,"span",[["class","h4 route-name"]],null,null,null,null,null)),(t()(),r.zb(12,null,["",""])),(t()(),r.ib(13,0,null,null,3,"div",[["class","route-card-body"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,y)),r.hb(15,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),r.Z(0,[["noAlertsTemplate",2]],null,0,null,_))],function(t,e){var n=e.component;t(e,5,0,"favourite-selected","sm"),t(e,15,0,n.routeInfo.alertMessages.length>0,r.sb(e,16))},function(t,e){var n=e.component;t(e,1,0,r.kb(1,"route-card-",n.routeInfo.id,"")),t(e,3,0,r.kb(2,"Remove ",n.routeInfo.routeDisplayNumber," ",n.routeInfo.routeDisplayName," from favourites")),t(e,8,0,n.routeInfo.lineNumber),t(e,9,0,n.routeInfo.foregroundColour,n.routeInfo.fontColour),t(e,10,0,n.routeInfo.routeDisplayNumber),t(e,12,0,n.routeInfo.routeDisplayName)})}var b=n("wd/R"),x=function(){function t(){}return t.prototype.transform=function(t){var e=b();if(e.isSameOrAfter(t.from)&&e.isSameOrBefore(t.to))return"Ongoing";var n="";return n=this.isSameDay(e,t.from)?"Today "+t.from.format("HH:mm"):t.from.format("ddd D MMM HH:mm"),t.to&&(this.isSameDay(t.from,t.to)?n+=" - "+t.to.format("HH:mm"):n+=" - "+t.to.format("ddd D MMM HH:mm")),n},t.prototype.isSameDay=function(t,e){return t.isSame(e,"day")},t}(),w=n("hm1T"),M=n("F8mC"),C=function(){function t(t){this.trackEvent=t,this.isFavourite=!0,this.favToggleEvent=new r.k,this.expanded=!1}return t.prototype.toPeriod=function(t){return new w.a(t,null)},t.prototype.getIcon=function(t){return M.a.LIVE_TRAFFIC_MESSAGE_TYPES[t.messageType].icon},t.prototype.onToggleFavourite=function(){this.isFavourite=!this.isFavourite,this.favToggleEvent.emit(this.isFavourite),this.trackToggleFavourite()},t.prototype.onToggleExpanded=function(){this.expanded=!this.expanded,this.trackToggleExpanded()},t.prototype.trackToggleFavourite=function(){this.isFavourite?this.trackEvent.setFavourite(this.regionInfo.name):this.trackEvent.removeFavourite(this.regionInfo.name)},t.prototype.trackToggleExpanded=function(){this.expanded?this.trackEvent.expandRegionCard(this.regionInfo.name):this.trackEvent.collapseRegionCard(this.regionInfo.name)},t}(),L=r.gb({encapsulation:2,styles:["\n    a.list-group-item:focus{margin-bottom:2px;padding-bottom:8px}.tfnsw-travel-alerts-network-title-inner .title{font-size:1.2em;font-weight:500}\n  "],data:{}});function E(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(1,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){t(e,1,0,"favourite-selected","Remove from favourites","sm top",!0)},null)}function k(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(1,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){t(e,1,0,"favourite-unselected","Add to favourites","sm top",!0)},null)}function T(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(1,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){t(e,1,0,"arrow-down-small","Region alerts collapsed","md down",!0)},null)}function S(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(1,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){t(e,1,0,"arrow-up-small","Region alerts expanded","md up",!0)},null)}function A(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,4,"time",[["class","timeframe"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" \u2022 "])),(t()(),r.ib(3,0,null,null,2,"span",[["class","traffic-message-last-checked"]],null,null,null,null,null)),(t()(),r.zb(4,null,["Last checked ",""])),r.vb(5,1)],null,function(t,e){var n=e.component,i=r.Ab(e,4,0,t(e,5,0,r.sb(e.parent.parent.parent,0),n.toPeriod(e.parent.context.$implicit.lastModification)));t(e,4,0,i)})}function D(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,14,"a",[["class","list-group-item alert-normal list-group-item-icon"]],[[8,"href",4]],null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"span",[["aria-level","4"],["class","text traffic-message-title"],["role","heading"]],null,null,null,null,null)),(t()(),r.zb(2,null,["",""])),(t()(),r.ib(3,0,null,null,8,"ol",[["class","timeframe-list"]],null,null,null,null,null)),(t()(),r.ib(4,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,4,"time",[["class","timeframe"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" \u2022 "])),(t()(),r.ib(7,0,null,null,2,"span",[["class","traffic-message-incident-period"]],null,null,null,null,null)),(t()(),r.zb(8,null,["Started ",""])),r.vb(9,1),(t()(),r.Z(16777216,null,null,1,null,A)),r.hb(11,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(12,0,null,null,2,"div",[["class","icon traffic-message-icon"]],null,null,null,null,null)),(t()(),r.ib(13,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(14,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){var n=e.component;t(e,11,0,!!e.context.$implicit.lastModification),t(e,14,0,n.getIcon(e.context.$implicit),e.context.$implicit.messageType+" icon","xs",!0)},function(t,e){t(e,0,0,r.kb(2,"/alerts/details#/",e.context.$implicit.messageType,"/",e.context.$implicit.id,"")),t(e,2,0,e.context.$implicit.title);var n=r.Ab(e,8,0,t(e,9,0,r.sb(e.parent.parent,0),e.context.$implicit.incidentPeriod));t(e,8,0,n)})}function I(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"div",[["class","list-group-item"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" No traffic alerts. Please review your filters "]))],null,null)}function P(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,5,"div",[["class","panel tfnsw-panel region-messages-panel"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,4,"div",[["class","list-group"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,D)),r.hb(3,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.Z(16777216,null,null,1,null,I)),r.hb(5,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.regionInfo.trafficMessages),t(e,5,0,0===n.regionInfo.trafficMessages.length)},null)}function O(t){return r.Bb(0,[r.tb(0,x,[]),(t()(),r.ib(1,0,null,null,14,"div",[["aria-level","3"],["class","tfnsw-travel-alerts-network-panel tfnsw-travel-alerts-network-head--favourite"],["role","heading"]],[[8,"id",0]],null,null,null,null)),(t()(),r.ib(2,0,null,null,5,"button",[["aria-label","Remove region from favourites"],["class","btn btn-link fav-icon tfnsw-travel-alerts-network-panel--favourite-toggle"],["type","button"]],[[2,"active",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onToggleFavourite()&&r),r},null,null)),(t()(),r.ib(3,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,E)),r.hb(5,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,k)),r.hb(7,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(8,0,null,null,7,"button",[["class","tfnsw-travel-alerts-network-title h3 btn btn-block"],["type","button"]],[[1,"aria-expanded",0],[8,"id",0],[1,"aria-controls",0],[2,"collapsed",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onToggleExpanded()&&r),r},null,null)),(t()(),r.ib(9,0,null,null,6,"span",[["class","tfnsw-travel-alerts-network-title-inner"]],null,null,null,null,null)),(t()(),r.ib(10,0,null,null,1,"span",[["class","title h3"]],[[1,"aria-labelledby",0]],null,null,null,null)),(t()(),r.zb(11,null,["",""])),(t()(),r.Z(16777216,null,null,1,null,T)),r.hb(13,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,S)),r.hb(15,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(16,0,null,null,2,"div",[["class","tfnsw-travel-alerts-network-body collapse"]],[[2,"in",null],[8,"id",0],[1,"aria-expanded",0]],null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,P)),r.hb(18,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,n.isFavourite),t(e,7,0,!n.isFavourite),t(e,13,0,!n.expanded),t(e,15,0,n.expanded),t(e,18,0,n.expanded)},function(t,e){var n=e.component;t(e,1,0,r.kb(1,"",n.regionInfo.tag.toLowerCase(),"-region")),t(e,2,0,n.isFavourite),t(e,8,0,n.expanded,r.kb(1,"region-expand-btn-",n.regionInfo.tag.toLowerCase(),""),"region-body-"+n.regionInfo.tag.toLowerCase(),!n.expanded),t(e,10,0,n.regionInfo.name),t(e,11,0,n.regionInfo.name),t(e,16,0,n.expanded,r.kb(1,"region-body-",n.regionInfo.tag.toLowerCase(),""),n.expanded)})}var N=n("yZql"),R=n("QWsm"),F=r.gb({encapsulation:2,styles:["\n    .refresh-component{font-size:16px}@media (max-width: 767px){.refresh-component{font-size:14px}}.refresh-component a{text-decoration:none;margin-right:4px}@media (max-width: 767px){.refresh-component a{margin-right:2px}}.refresh-component a .refresh-label{text-decoration:underline}@media (max-width: 767px){.refresh-component a .refresh-icon{width:16px;height:16px;max-width:16px;max-height:16px}}\n  "],data:{}});function Y(t){return r.Bb(0,[r.xb(402653184,1,{refreshButton:0}),(t()(),r.ib(1,0,null,null,8,"div",[["class","refresh-component"]],null,null,null,null,null)),(t()(),r.ib(2,0,[[1,0],["refreshButton",1]],null,4,"a",[["href","javascript:;"],["oncontextmenu","return false;"],["role","button"]],[[8,"title",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onRefreshClick()&&r),r},null,null)),(t()(),r.ib(3,0,null,null,1,"tni-icon",[["iconAriaHidden","true"],["iconClasses","sm refresh-icon"],["iconName","refresh"]],null,null,null,i.b,i.a)),r.hb(4,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"],iconAriaHidden:[2,"iconAriaHidden"]},null),(t()(),r.ib(5,0,null,null,1,"span",[["class","refresh-label"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Refresh"])),(t()(),r.zb(7,null,[" ",""])),(t()(),r.ib(8,0,null,null,1,"div",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(9,null,["",""]))],function(t,e){t(e,4,0,"refresh","sm refresh-icon","true")},function(t,e){var n=e.component;t(e,2,0,r.kb(1,"","Refresh "+n.ariaSuffix,"")),t(e,7,0,n.lastUpdatedLabel),t(e,9,0,n.ariaSuffix)})}var B=n("NOf9"),z=n("E8FJ"),j=n("/hO8"),V=n("GooZ"),H=n("nfFZ"),U=n("kLtR"),G=n("dEht"),q=n("J5xx");n.d(e,"b",function(){return W}),n.d(e,"c",function(){return st}),n.d(e,"a",function(){return ut});var W=r.gb({encapsulation:0,styles:[".alert-widget-container[_ngcontent-%COMP%]{font-size:0.9em;padding:15px 15px}.alert-widget-container[_ngcontent-%COMP%]   .alert-spinner[_ngcontent-%COMP%]{margin-top:15px}.alert-widget-container[_ngcontent-%COMP%]     .tp-past-searches-item{font-size:14px}.alert-widget-container[_ngcontent-%COMP%]   .no-favourites-message[_ngcontent-%COMP%]{margin-top:15px;display:flex;border:1px solid #e4e4e4;padding:10px;line-height:1em;font-size:16px;align-items:center;background:#F6F6F6}.alert-widget-container[_ngcontent-%COMP%]   .no-favourites-message[_ngcontent-%COMP%]     .tp-icon{margin:0 10px 0 5px;fill:#1D69B4;color:#1D69B4}.alert-widget-container[_ngcontent-%COMP%]   .no-favourites-message[_ngcontent-%COMP%]     .tp-icon.baseline{margin:0 5px}.alert-widget-container[_ngcontent-%COMP%]   .no-favourites-message[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{text-align:left}.alert-widget-container[_ngcontent-%COMP%]   .no-favourites-message[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}.alert-widget-container[_ngcontent-%COMP%]   .alert-widget-heading[_ngcontent-%COMP%]{font-weight:500;font-size:100%}.alert-widget-container[_ngcontent-%COMP%]   .alert-refresh[_ngcontent-%COMP%]{margin:8px 0}.alert-widget-container[_ngcontent-%COMP%]   .view-all-alerts[_ngcontent-%COMP%]{text-align:center;margin:1.25em 0}.alert-widget-container[_ngcontent-%COMP%]   .view-all-alerts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}.alert-widget-container[_ngcontent-%COMP%]   .tfnsw-travel-alerts-filter-indicator[_ngcontent-%COMP%]{display:block}.alert-widget-container[_ngcontent-%COMP%]   .tfnsw-travel-alerts-filter-indicator[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{clear:both;text-decoration:underline}.alert-widget-container[_ngcontent-%COMP%]   .tfnsw-travel-alerts-filter-indicator[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.alert-widget-container[_ngcontent-%COMP%]   .tfnsw-travel-alerts-filter-indicator[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;margin-right:10px}.alert-widget-container[_ngcontent-%COMP%]   .tfnsw-travel-alerts-filter-indicator[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-top:15px}.alert-widget-container[_ngcontent-%COMP%]   .tfnsw-travel-alerts-filter-indicator[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-bottom:20px}"],data:{}});function Z(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"a",[["aria-label","Train filters"],["class","tfnsw-travel-alerts-filter-indicator--train"],["href","/alerts/#/train"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","tp-icon sm"],["iconName","options"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.zb(-1,null,["Train filters"]))],function(t,e){t(e,2,0,"options","tp-icon sm")},null)}function X(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(-1,null,[" are on"]))],null,null)}function J(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"a",[["aria-label","Drive filters"],["class","tfnsw-travel-alerts-filter-indicator--drive"],["href","/alerts/#/drive"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","tp-icon sm"],["iconName","options"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.zb(-1,null,["Drive filters"]))],function(t,e){t(e,2,0,"options","tp-icon sm")},null)}function K(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(-1,null,[" are on"]))],null,null)}function Q(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-route-card",[],null,[[null,"favToggleEvent"]],function(t,e,n){var r=!0;return"favToggleEvent"===e&&(r=!1!==t.component.onFavouriteToggle(n,t.parent.context.$implicit.id)&&r),r},v,c)),r.hb(2,49152,null,0,u,[l.a],{routeInfo:[0,"routeInfo"],isFavourite:[1,"isFavourite"]},{favToggleEvent:"favToggleEvent"})],function(t,e){t(e,2,0,e.parent.context.$implicit,!0)},null)}function $(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-region-card",[],null,[[null,"favToggleEvent"]],function(t,e,n){var r=!0;return"favToggleEvent"===e&&(r=!1!==t.component.onFavouriteToggle(n,t.parent.context.$implicit.id)&&r),r},O,L)),r.hb(2,49152,null,0,C,[l.a],{regionInfo:[0,"regionInfo"],isFavourite:[1,"isFavourite"]},{favToggleEvent:"favToggleEvent"})],function(t,e){t(e,2,0,e.parent.context.$implicit,!0)},null)}function tt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,Q)),r.hb(2,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,$)),r.hb(4,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.context.$implicit.isRouteType();t(e,2,0,n);var r=!e.context.$implicit.isRouteType();t(e,4,0,r)},null)}function et(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"button",[["class","btn btn-default btn-secondary alerts-load-more-btn"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onLoadMore()&&r),r},null,null)),(t()(),r.zb(-1,null,["Load more"]))],null,null)}function nt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","view-all-alerts"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"a",[["href","/alerts#/"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["View all alerts"]))],null,null)}function rt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,24,"div",[],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"div",[["class","alert-widget-heading"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" Travel alerts for today "])),(t()(),r.ib(3,0,null,null,10,"div",[["class","tfnsw-travel-alerts-filter-indicator"]],null,null,null,null,null)),(t()(),r.ib(4,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,Z)),r.hb(6,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,X)),r.hb(8,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(9,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,J)),r.hb(11,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,K)),r.hb(13,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(14,0,null,null,3,"div",[["class","alert-refresh"]],null,null,null,null,null)),(t()(),r.ib(15,0,null,null,2,"tni-refresh",[["ariaSuffix","alerts"]],null,[[null,"refreshClick"]],function(t,e,n){var r=!0;return"refreshClick"===e&&(r=!1!==t.component.onRefreshClick()&&r),r},Y,F)),r.wb(512,null,N.a,N.a,[]),r.hb(17,4898816,[[1,4],["alertRefresh",4]],0,R.a,[N.a,r.t],{lastUpdated:[0,"lastUpdated"],ariaSuffix:[1,"ariaSuffix"]},{refreshClick:"refreshClick"}),(t()(),r.Z(16777216,null,null,2,null,tt)),r.hb(19,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),r.tb(0,a.m,[]),(t()(),r.Z(16777216,null,null,1,null,et)),r.hb(22,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,nt)),r.hb(24,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,6,0,n.showTrainIndicator),t(e,8,0,n.showTrainIndicator),t(e,11,0,n.showDriveIndicator),t(e,13,0,n.showDriveIndicator),t(e,17,0,n.lastUpdated,"alerts"),t(e,19,0,r.Ab(e,19,0,r.sb(e,20).transform(n.favRoutes,0,n.displayLimit))),t(e,22,0,n.displayLimit<n.favRoutes.length),t(e,24,0,n.displayLimit>=n.favRoutes.length)},null)}function it(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,10,"div",[["class","no-favourites-message"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","tp-icon md info-icon"],["iconName","travel-info"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.ib(3,0,null,null,7,"div",[["class","message"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" Use "])),(t()(),r.ib(5,0,null,null,1,"a",[["href","/alerts#/metro-train"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Travel alerts"])),(t()(),r.zb(-1,null,[" and favourite "])),(t()(),r.ib(8,0,null,null,1,"tni-icon",[["iconClasses","tp-icon xs baseline"],["iconName","favourite-unselected"]],null,null,null,i.b,i.a)),r.hb(9,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconClasses:[1,"iconClasses"]},null),(t()(),r.zb(-1,null,[" routes to see them here. "]))],function(t,e){t(e,2,0,"travel-info","tp-icon md info-icon"),t(e,9,0,"favourite-unselected","tp-icon xs baseline")},null)}function ot(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,rt)),r.hb(2,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),r.Z(0,[["noFavouriteTemplate",2]],null,0,null,it))],function(t,e){var n=e.component;t(e,2,0,(null==n.favRoutes?null:n.favRoutes.length)>0,r.sb(e,3))},null)}function at(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","alert-spinner"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-spinner",[],null,null,null,B.b,B.a)),r.hb(2,49152,null,0,z.a,[],null,null)],null,null)}function st(t){return r.Bb(0,[r.xb(671088640,1,{alertRefresh:0}),(t()(),r.ib(1,0,null,null,3,"div",[["class","alert-widget-container"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,ot)),r.hb(3,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),r.Z(0,[["spinnerTemplate",2]],null,0,null,at))],function(t,e){var n=e.component;t(e,3,0,!n.isLoadingData&&!n.isLoadingTrafficMessages,r.sb(e,4))},null)}function lt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-alerts-widget",[],null,null,null,st,W)),r.hb(1,114688,null,0,j.a,[V.a,H.a,r.e,U.a,G.a,l.a,q.a],null,null)],function(t,e){t(e,1,0)},null)}var ut=r.eb("tni-alerts-widget",j.a,lt,{},{},[])},tuZB:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return l}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return c});var r="ENT",i="DUPLICATE",o="Facility information unavailable",a="Stop information is unavailable",s=15e3,l=3e4,u="Facilities",c="Nearby stops"},u0Yp:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.fromJson=function(e){var n=new t;return Object.assign(n,e),n},t}()},u3GI:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}n("wd/R").defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},u4wI:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=function(){function t(){this.selectLink=new r.k}return t.prototype.onLinkClick=function(t){this.selectLink.emit(t)},t}()},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("En8+"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},uEye:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_m\xe5n_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},uMaO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.c(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("pugT").a)},uXwI:function(t,e,n){!function(t){"use strict";var e={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function r(t,r,i){return t+" "+n(e[i],t,r)}function i(t,r,i){return n(e[i],t,r)}t.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(t,e){return e?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},w7Xv:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("4ATH");var r=function(){return function(t){var e=this;this.tes=t,this.search=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Search",label:""})},this.selectJourneyTypeOneWay=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Select journey type",label:"One way"})},this.selectJourneyTypeOneReturn=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Select journey type",label:"Return"})},this.viewResults=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Refresh results",label:""})},this.selectNextDay=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Select previous or next day",label:"Next day"})},this.selectPreviousDay=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Select previous or next day",label:"Previous day"})},this.viewFareRulesExpandedTripCard=function(){return e.tes.trackEvent("NSW TrainLink",{action:"View fare rules",label:"Expanded trip card"})},this.viewFareRulesAcceptTermsAndConditions=function(){return e.tes.trackEvent("NSW TrainLink",{action:"View fare rules",label:"Accept terms and conditions"})},this.viewFareRulesBookingConfirmation=function(){return e.tes.trackEvent("NSW TrainLink",{action:"View fare rules",label:"Booking confirmation"})},this.viewOnboardFacilitiesExpandedTripCard=function(){return e.tes.trackEvent("NSW TrainLink",{action:"View onboard facilities",label:"Expanded trip card"})},this.viewOnboardFacilitiesConfirmation=function(){return e.tes.trackEvent("NSW TrainLink",{action:"View onboard facilities",label:"Booking confirmation"})},this.viewLuggageAllowanceExpandedTripCard=function(){return e.tes.trackEvent("NSW TrainLink",{action:"View luggage allowance",label:"Expanded trip card"})},this.viewLuggageAllowanceConfirmation=function(){return e.tes.trackEvent("NSW TrainLink",{action:"View luggage allowance",label:"Booking confirmation"})},this.changeSearchSelectTrip=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Change search",label:"Select trip"})},this.changeSearchEnterDetails=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Change search",label:"Enter details"})},this.changeSearchReviewTripPopup=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Change search",label:"Review trip popup"})},this.reviewTripSummarySelectTrip=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Review trip summary",label:"Select trip"})},this.reviewTripSummaryEnterDetails=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Review trip summary",label:"Enter details"})},this.expandBannerAlert=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Expand banner alert",label:""})},this.printTicket=function(){return e.tes.trackEvent("NSW TrainLink",{action:"Print ticket",label:""})},this.clickFooterLink=function(t,n){return e.tes.trackEvent("NSW TrainLink",{action:"Footer link - "+t,label:n})},this.call132232=function(t){return e.tes.trackEvent("NSW TrainLink",{action:"Call 13 22 32",label:t})},this.somethingWentWrongEvent=function(t){return e.tes.trackEvent("NSW TrainLink",{action:"Something went wrong",label:t})}}}()},wC2N:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.ngOnChanges=function(t){t.routesInfo&&t.routesInfo.currentValue&&(this.sortedRouteInfo=Object.assign(t.routesInfo.currentValue),this.sortedRouteInfo.routes&&(this.sortedRouteInfo.routes=this.sortedRouteInfo.routes.sort(this.sortRoutes))),t.modeName&&t.modeName.currentValue&&(this.modeAriaLabel=t.modeName.currentValue+" routes")},t.prototype.sortRoutes=function(t,e){return t.route_number<e.route_number?-1:t.route_number>e.route_number?1:0},t}()},wQk9:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}()},wUbL:function(t,e){},"wd/R":function(t,e,n){(function(t){t.exports=function(){"use strict";var e,r;function i(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)p(e,n)&&(t[n]=e[n]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,r){return Se(t,e,n,r,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(t){if(null==t._isValid){var e=f(t),n=r.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=d(NaN);return null!=t?h(f(e),t):f(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var y=i.momentProperties=[];function _(t,e){var n,r,i;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=f(e)),s(e._locale)||(t._locale=e._locale),y.length>0)for(n=0;n<y.length;n++)s(i=e[r=y[n]])||(t[r]=i);return t}var v=!1;function b(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,i.updateOffset(this),v=!1)}function x(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function M(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function C(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&M(t[r])!==M(e[r]))&&a++;return a+o}function L(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,e){var n=!0;return h(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}L(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var k,T={};function S(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),T[t]||(L(e),T[t]=!0)}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var n,r=h({},t);for(n in e)p(e,n)&&(a(t[n])&&a(e[n])?(r[n]={},h(r[n],t[n]),h(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)p(t,n)&&!p(e,n)&&a(t[n])&&(r[n]=h({},r[n]));return r}function I(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,k=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)p(t,e)&&n.push(e);return n};var P={};function O(t,e){var n=t.toLowerCase();P[n]=P[n+"s"]=P[e]=t}function N(t){return"string"==typeof t?P[t]||P[t.toLowerCase()]:void 0}function R(t){var e,n,r={};for(n in t)p(t,n)&&(e=N(n))&&(r[e]=t[n]);return r}var F={};function Y(t,e){F[t]=e}function B(t,e,n){var r=""+Math.abs(t);return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,e-r.length)).toString().substr(1)+r}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},H={};function U(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(H[t]=i),e&&(H[e[0]]=function(){return B(i.apply(this,arguments),e[1],e[2])}),n&&(H[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function G(t,e){return t.isValid()?(e=q(e,t.localeData()),V[e]=V[e]||function(t){var e,n,r,i=t.match(z);for(e=0,n=i.length;e<n;e++)i[e]=H[i[e]]?H[i[e]]:(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=A(i[r])?i[r].call(e,t):i[r];return o}}(e),V[e](t)):t.localeData().invalidDate()}function q(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;n>=0&&j.test(t);)t=t.replace(j,r),j.lastIndex=0,n-=1;return t}var W=/\d/,Z=/\d\d/,X=/\d{3}/,J=/\d{4}/,K=/[+-]?\d{6}/,Q=/\d\d?/,$=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,et=/\d{1,3}/,nt=/\d{1,4}/,rt=/[+-]?\d{1,6}/,it=/\d+/,ot=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={};function ct(t,e,n){ut[t]=A(e)?e:function(t,r){return t&&n?n:e}}function pt(t,e){return p(ut,t)?ut[t](e._strict,e._locale):new RegExp(ht(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})))}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dt={};function ft(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),l(e)&&(r=function(t,n){n[e]=M(t)}),n=0;n<t.length;n++)dt[t[n]]=r}function mt(t,e){ft(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function gt(t,e,n){null!=e&&p(dt,t)&&dt[t](e,n._a,n,t)}var yt=0,_t=1,vt=2,bt=3,xt=4,wt=5,Mt=6,Ct=7,Lt=8;function Et(t){return kt(t)?366:365}function kt(t){return t%4==0&&t%100!=0||t%400==0}U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),O("year","y"),Y("year",1),ct("Y",ot),ct("YY",Q,Z),ct("YYYY",nt,J),ct("YYYYY",rt,K),ct("YYYYYY",rt,K),ft(["YYYYY","YYYYYY"],yt),ft("YYYY",function(t,e){e[yt]=2===t.length?i.parseTwoDigitYear(t):M(t)}),ft("YY",function(t,e){e[yt]=i.parseTwoDigitYear(t)}),ft("Y",function(t,e){e[yt]=parseInt(t,10)}),i.parseTwoDigitYear=function(t){return M(t)+(M(t)>68?1900:2e3)};var Tt,St=At("FullYear",!0);function At(t,e){return function(n){return null!=n?(It(this,t,n),i.updateOffset(this,e),this):Dt(this,t)}}function Dt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function It(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&kt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Pt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Pt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?kt(t)?29:28:31-n%7%2}Tt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),O("month","M"),Y("month",8),ct("M",Q),ct("MM",Q,Z),ct("MMM",function(t,e){return e.monthsShortRegex(t)}),ct("MMMM",function(t,e){return e.monthsRegex(t)}),ft(["M","MM"],function(t,e){e[_t]=M(t)-1}),ft(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[_t]=i:f(n).invalidMonth=t});var Ot=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ft(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=M(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Pt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Yt(t){return null!=t?(Ft(this,t),i.updateOffset(this,!0),this):Dt(this,"Month")}var Bt=lt,zt=lt;function jt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=d([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=ht(r[e]),i[e]=ht(i[e]);for(e=0;e<24;e++)o[e]=ht(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Vt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ht(t,e,n){var r=7+e-n;return-(7+Vt(t,0,r).getUTCDay()-e)%7+r-1}function Ut(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+Ht(t,r,i);return s<=0?a=Et(o=t-1)+s:s>Et(t)?(o=t+1,a=s-Et(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Gt(t,e,n){var r,i,o=Ht(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+qt(i=t.year()-1,e,n):a>qt(t.year(),e,n)?(r=a-qt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function qt(t,e,n){var r=Ht(t,e,n),i=Ht(t+1,e,n);return(Et(t)-r+i)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),Y("week",5),Y("isoWeek",5),ct("w",Q),ct("ww",Q,Z),ct("W",Q),ct("WW",Q,Z),mt(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=M(t)}),U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),ct("d",Q),ct("e",Q),ct("E",Q),ct("dd",function(t,e){return e.weekdaysMinRegex(t)}),ct("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ct("dddd",function(t,e){return e.weekdaysRegex(t)}),mt(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:f(n).invalidWeekday=t}),mt(["d","e","E"],function(t,e,n,r){e[r]=M(t)});var Wt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Zt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Jt=lt,Kt=lt,Qt=lt;function $t(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=ht(s[e]),l[e]=ht(l[e]),u[e]=ht(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function te(){return this.hours()%12||12}function ee(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ne(t,e){return e._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,te),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+te.apply(this)+B(this.minutes(),2)}),U("hmmss",0,0,function(){return""+te.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),ee("a",!0),ee("A",!1),O("hour","h"),Y("hour",13),ct("a",ne),ct("A",ne),ct("H",Q),ct("h",Q),ct("k",Q),ct("HH",Q,Z),ct("hh",Q,Z),ct("kk",Q,Z),ct("hmm",$),ct("hmmss",tt),ct("Hmm",$),ct("Hmmss",tt),ft(["H","HH"],bt),ft(["k","kk"],function(t,e,n){var r=M(t);e[bt]=24===r?0:r}),ft(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ft(["h","hh"],function(t,e,n){e[bt]=M(t),f(n).bigHour=!0}),ft("hmm",function(t,e,n){var r=t.length-2;e[bt]=M(t.substr(0,r)),e[xt]=M(t.substr(r)),f(n).bigHour=!0}),ft("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[bt]=M(t.substr(0,r)),e[xt]=M(t.substr(r,2)),e[wt]=M(t.substr(i)),f(n).bigHour=!0}),ft("Hmm",function(t,e,n){var r=t.length-2;e[bt]=M(t.substr(0,r)),e[xt]=M(t.substr(r))}),ft("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[bt]=M(t.substr(0,r)),e[xt]=M(t.substr(r,2)),e[wt]=M(t.substr(i))});var re,ie=At("Hours",!0),oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Nt,monthsShort:Rt,week:{dow:0,doy:6},weekdays:Wt,weekdaysMin:Xt,weekdaysShort:Zt,meridiemParse:/[ap]\.?m?\.?/i},ae={},se={};function le(t){return t?t.toLowerCase().replace("_","-"):t}function ue(e){var r=null;if(!ae[e]&&void 0!==t&&t&&t.exports)try{r=re._abbr,n("RnhZ")("./"+e),ce(r)}catch(i){}return ae[e]}function ce(t,e){var n;return t&&((n=s(e)?he(t):pe(t,e))?re=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),re._abbr}function pe(t,e){if(null!==e){var n,r=oe;if(e.abbr=t,null!=ae[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ae[t]._config;else if(null!=e.parentLocale)if(null!=ae[e.parentLocale])r=ae[e.parentLocale]._config;else{if(null==(n=ue(e.parentLocale)))return se[e.parentLocale]||(se[e.parentLocale]=[]),se[e.parentLocale].push({name:t,config:e}),null;r=n._config}return ae[t]=new I(D(r,e)),se[t]&&se[t].forEach(function(t){pe(t.name,t.config)}),ce(t),ae[t]}return delete ae[t],null}function he(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return re;if(!o(t)){if(e=ue(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=le(t[o]).split("-")).length,n=(n=le(t[o+1]))?n.split("-"):null;e>0;){if(r=ue(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&C(i,n,!0)>=e-1)break;e--}o++}return re}(t)}function de(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[_t]<0||n[_t]>11?_t:n[vt]<1||n[vt]>Pt(n[yt],n[_t])?vt:n[bt]<0||n[bt]>24||24===n[bt]&&(0!==n[xt]||0!==n[wt]||0!==n[Mt])?bt:n[xt]<0||n[xt]>59?xt:n[wt]<0||n[wt]>59?wt:n[Mt]<0||n[Mt]>999?Mt:-1,f(t)._overflowDayOfYear&&(e<yt||e>vt)&&(e=vt),f(t)._overflowWeeks&&-1===e&&(e=Ct),f(t)._overflowWeekday&&-1===e&&(e=Lt),f(t).overflow=e),t}function fe(t,e,n){return null!=t?t:null!=e?e:n}function me(t){var e,n,r,o,a,s=[];if(!t._d){for(r=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[vt]&&null==t._a[_t]&&function(t){var e,n,r,i,o,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=fe(e.GG,t._a[yt],Gt(Ae(),1,4).year),r=fe(e.W,1),((i=fe(e.E,1))<1||i>7)&&(l=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var u=Gt(Ae(),o,a);n=fe(e.gg,t._a[yt],u.year),r=fe(e.w,u.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o}r<1||r>qt(n,o,a)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(s=Ut(n,r,i,o,a),t._a[yt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=fe(t._a[yt],r[yt]),(t._dayOfYear>Et(a)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=Vt(a,0,t._dayOfYear),t._a[_t]=n.getUTCMonth(),t._a[vt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bt]&&0===t._a[xt]&&0===t._a[wt]&&0===t._a[Mt]&&(t._nextDay=!0,t._a[bt]=0),t._d=(t._useUTC?Vt:function(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(f(t).weekdayMismatch=!0)}}var ge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ye=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_e=/Z|[+-]\d\d(?::?\d\d)?/,ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xe=/^\/?Date\((\-?\d+)/i;function we(t){var e,n,r,i,o,a,s=t._i,l=ge.exec(s)||ye.exec(s);if(l){for(f(t).iso=!0,e=0,n=ve.length;e<n;e++)if(ve[e][1].exec(l[1])){i=ve[e][0],r=!1!==ve[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=be.length;e<n;e++)if(be[e][1].exec(l[3])){o=(l[2]||" ")+be[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(l[4]){if(!_e.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),ke(t)}else t._isValid=!1}var Me=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ce(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var Le={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ee(t){var e,n,r,i,o,a,s=Me.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(s){var l=(e=s[3],n=s[2],r=s[5],i=s[6],o=s[7],a=[Ce(s[4]),Rt.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)],o&&a.push(parseInt(o,10)),a);if(!function(t,e,n){return!t||Zt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(s[1],l,t))return;t._a=l,t._tzm=function(t,e,n){if(t)return Le[t];if(s[9])return 0;var r=parseInt(s[10],10),i=r%100;return(r-i)/100*60+i}(s[8]),t._d=Vt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function ke(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],f(t).empty=!0;var e,n,r,o,a,s=""+t._i,l=s.length,u=0;for(r=q(t._f,t._locale).match(z)||[],e=0;e<r.length;e++)(n=(s.match(pt(o=r[e],t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&f(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),u+=n.length),H[o]?(n?f(t).empty=!1:f(t).unusedTokens.push(o),gt(o,n,t)):t._strict&&!n&&f(t).unusedTokens.push(o);f(t).charsLeftOver=l-u,s.length>0&&f(t).unusedInput.push(s),t._a[bt]<=12&&!0===f(t).bigHour&&t._a[bt]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[bt]=(c=t._locale,p=t._a[bt],null==(h=t._meridiem)?p:null!=c.meridiemHour?c.meridiemHour(p,h):null!=c.isPM?((d=c.isPM(h))&&p<12&&(p+=12),d||12!==p||(p=0),p):p),me(t),de(t)}else Ee(t);else we(t);var c,p,h,d}function Te(t){var e=t._i,n=t._f;return t._locale=t._locale||he(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),x(e)?new b(de(e)):(u(e)?t._d=e:o(n)?function(t){var e,n,r,i,o;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ke(e),m(e)&&(o+=f(e).charsLeftOver,o+=10*f(e).unusedTokens.length,f(e).score=o,(null==r||o<r)&&(r=o,n=e));h(t,n||e)}(t):n?ke(t):function(t){var e=t._i;s(e)?t._d=new Date(i.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=xe.exec(t._i);null===e?(we(t),!1===t._isValid&&(delete t._isValid,Ee(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=c(e.slice(0),function(t){return parseInt(t,10)}),me(t)):a(e)?function(t){if(!t._d){var e=R(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),me(t)}}(t):l(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),m(t)||(t._d=null),t))}function Se(t,e,n,r,i){var s,l={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=t,l._f=e,l._strict=r,(s=new b(de(Te(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Ae(t,e,n,r){return Se(t,e,n,r,!1)}i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var De=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Ie=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()});function Pe(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Ae();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Oe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ne(t){var e=R(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Tt.call(Oe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Oe.length;++r)if(t[Oe[r]]){if(n)return!1;parseFloat(t[Oe[r]])!==M(t[Oe[r]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=he(),this._bubble()}function Re(t){return t instanceof Ne}function Fe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ye(t,e){U(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+B(~~(t/60),2)+e+B(~~t%60,2)})}Ye("Z",":"),Ye("ZZ",""),ct("Z",st),ct("ZZ",st),ft(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=ze(st,t)});var Be=/([\+\-]|\d\d)/gi;function ze(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Be)||["-",0,0],i=60*r[1]+M(r[2]);return 0===i?0:"+"===r[0]?i:-i}function je(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(x(t)||u(t)?t.valueOf():Ae(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Ae(t).local()}function Ve(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function He(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ue=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ge=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qe(t,e){var n,r,i,o,a,s,u=t,c=null;return Re(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(u={},e?u[e]=t:u.milliseconds=t):(c=Ue.exec(t))?(n="-"===c[1]?-1:1,u={y:0,d:M(c[vt])*n,h:M(c[bt])*n,m:M(c[xt])*n,s:M(c[wt])*n,ms:M(Fe(1e3*c[Mt]))*n}):(c=Ge.exec(t))?u={y:We(c[2],n="-"===c[1]?-1:1),M:We(c[3],n),w:We(c[4],n),d:We(c[5],n),h:We(c[6],n),m:We(c[7],n),s:We(c[8],n)}:null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(o=Ae(u.from),a=Ae(u.to),i=o.isValid()&&a.isValid()?(a=je(a,o),o.isBefore(a)?s=Ze(o,a):((s=Ze(a,o)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),r=new Ne(u),Re(t)&&p(t,"_locale")&&(r._locale=t._locale),r}function We(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Xe(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Je(this,qe(n="string"==typeof n?+n:n,r),t),this}}function Je(t,e,n,r){var o=e._milliseconds,a=Fe(e._days),s=Fe(e._months);t.isValid()&&(r=null==r||r,s&&Ft(t,Dt(t,"Month")+s*n),a&&It(t,"Date",Dt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&i.updateOffset(t,a||s))}qe.fn=Ne.prototype,qe.invalid=function(){return qe(NaN)};var Ke=Xe(1,"add"),Qe=Xe(-1,"subtract");function $e(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function tn(t){var e;return void 0===t?this._locale._abbr:(null!=(e=he(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function nn(){return this._locale}function rn(t,e){U(0,[t,t.length],0,e)}function on(t,e,n,r,i){var o;return null==t?Gt(this,r,i).year:(e>(o=qt(t,r,i))&&(e=o),(function(t,e,n,r,i){var o=Ut(t,e,n,r,i),a=Vt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}).call(this,t,e,n,r,i))}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),ct("G",ot),ct("g",ot),ct("GG",Q,Z),ct("gg",Q,Z),ct("GGGG",nt,J),ct("gggg",nt,J),ct("GGGGG",rt,K),ct("ggggg",rt,K),mt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=M(t)}),mt(["gg","GG"],function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),O("quarter","Q"),Y("quarter",7),ct("Q",W),ft("Q",function(t,e){e[_t]=3*(M(t)-1)}),U("D",["DD",2],"Do","date"),O("date","D"),Y("date",9),ct("D",Q),ct("DD",Q,Z),ct("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ft(["D","DD"],vt),ft("Do",function(t,e){e[vt]=M(t.match(Q)[0])});var an=At("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),Y("dayOfYear",4),ct("DDD",et),ct("DDDD",X),ft(["DDD","DDDD"],function(t,e,n){n._dayOfYear=M(t)}),U("m",["mm",2],0,"minute"),O("minute","m"),Y("minute",14),ct("m",Q),ct("mm",Q,Z),ft(["m","mm"],xt);var sn=At("Minutes",!1);U("s",["ss",2],0,"second"),O("second","s"),Y("second",15),ct("s",Q),ct("ss",Q,Z),ft(["s","ss"],wt);var ln,un=At("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),Y("millisecond",16),ct("S",et,W),ct("SS",et,Z),ct("SSS",et,X),ln="SSSS";ln.length<=9;ln+="S")ct(ln,it);function cn(t,e){e[Mt]=M(1e3*("0."+t))}for(ln="S";ln.length<=9;ln+="S")ft(ln,cn);var pn=At("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var hn=b.prototype;function dn(t){return t}hn.add=Ke,hn.calendar=function(t,e){var n=t||Ae(),r=je(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=e&&(A(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,Ae(n)))},hn.clone=function(){return new b(this)},hn.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=je(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=N(e)){case"year":o=$e(this,r)/12;break;case"month":o=$e(this,r);break;case"quarter":o=$e(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:w(o)},hn.endOf=function(t){return void 0===(t=N(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},hn.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=G(this,t);return this.localeData().postformat(e)},hn.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Ae(t).isValid())?qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hn.fromNow=function(t){return this.from(Ae(),t)},hn.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Ae(t).isValid())?qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hn.toNow=function(t){return this.to(Ae(),t)},hn.get=function(t){return A(this[t=N(t)])?this[t]():this},hn.invalidAt=function(){return f(this).overflow},hn.isAfter=function(t,e){var n=x(t)?t:Ae(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(s(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},hn.isBefore=function(t,e){var n=x(t)?t:Ae(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(s(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},hn.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},hn.isSame=function(t,e){var n,r=x(t)?t:Ae(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=N(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},hn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},hn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},hn.isValid=function(){return m(this)},hn.lang=en,hn.locale=tn,hn.localeData=nn,hn.max=Ie,hn.min=De,hn.parsingFlags=function(){return h({},f(this))},hn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:F[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=R(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(A(this[t=N(t)]))return this[t](e);return this},hn.startOf=function(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},hn.subtract=Qe,hn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},hn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},hn.toDate=function(){return new Date(this.valueOf())},hn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(n,"Z")):G(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},hn.toJSON=function(){return this.isValid()?this.toISOString():null},hn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hn.unix=function(){return Math.floor(this.valueOf()/1e3)},hn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hn.year=St,hn.isLeapYear=function(){return kt(this.year())},hn.weekYear=function(t){return on.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hn.isoWeekYear=function(t){return on.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},hn.quarter=hn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},hn.month=Yt,hn.daysInMonth=function(){return Pt(this.year(),this.month())},hn.week=hn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},hn.isoWeek=hn.isoWeeks=function(t){var e=Gt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},hn.weeksInYear=function(){var t=this.localeData()._week;return qt(this.year(),t.dow,t.doy)},hn.isoWeeksInYear=function(){return qt(this.year(),1,4)},hn.date=an,hn.day=hn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},hn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},hn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},hn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},hn.hour=hn.hours=ie,hn.minute=hn.minutes=sn,hn.second=hn.seconds=un,hn.millisecond=hn.milliseconds=pn,hn.utcOffset=function(t,e,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=ze(st,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Ve(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?Je(this,qe(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ve(this)},hn.utc=function(t){return this.utcOffset(0,t)},hn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ve(this),"m")),this},hn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=ze(at,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},hn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ae(t).utcOffset():0,(this.utcOffset()-t)%60==0)},hn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hn.isLocal=function(){return!!this.isValid()&&!this._isUTC},hn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hn.isUtc=He,hn.isUTC=He,hn.zoneAbbr=function(){return this._isUTC?"UTC":""},hn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hn.dates=E("dates accessor is deprecated. Use date instead.",an),hn.months=E("months accessor is deprecated. Use month instead",Yt),hn.years=E("years accessor is deprecated. Use year instead",St),hn.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),hn.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(_(t,this),(t=Te(t))._a){var e=t._isUTC?d(t._a):Ae(t._a);this._isDSTShifted=this.isValid()&&C(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var fn=I.prototype;function mn(t,e,n,r){var i=he(),o=d().set(r,e);return i[n](o,t)}function gn(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return mn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mn(t,r,n,"month");return i}function yn(t,e,n,r){"boolean"==typeof t?(l(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,l(e)&&(n=e,e=void 0),e=e||"");var i,o=he(),a=t?o._week.dow:0;if(null!=n)return mn(e,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=mn(e,(i+a)%7,r,"day");return s}fn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return A(r)?r.call(e,n):r},fn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},fn.invalidDate=function(){return this._invalidDate},fn.ordinal=function(t){return this._ordinal.replace("%d",t)},fn.preparse=dn,fn.postformat=dn,fn.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return A(i)?i(t,e,n,r):i.replace(/%d/i,t)},fn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return A(n)?n(e):n.replace(/%s/i,e)},fn.set=function(t){var e,n;for(n in t)A(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fn.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ot).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},fn.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ot.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fn.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return(function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Tt.call(this._shortMonthsParse,a))?i:null:-1!==(i=Tt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=Tt.call(this._shortMonthsParse,a))?i:-1!==(i=Tt.call(this._longMonthsParse,a))?i:null:-1!==(i=Tt.call(this._longMonthsParse,a))?i:-1!==(i=Tt.call(this._shortMonthsParse,a))?i:null}).call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},fn.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||jt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=zt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},fn.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||jt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Bt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},fn.week=function(t){return Gt(t,this._week.dow,this._week.doy).week},fn.firstDayOfYear=function(){return this._week.doy},fn.firstDayOfWeek=function(){return this._week.dow},fn.weekdays=function(t,e){return t?o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},fn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},fn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},fn.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return(function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Tt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Tt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Tt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=Tt.call(this._weekdaysParse,a))?i:-1!==(i=Tt.call(this._shortWeekdaysParse,a))?i:-1!==(i=Tt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Tt.call(this._shortWeekdaysParse,a))?i:-1!==(i=Tt.call(this._weekdaysParse,a))?i:-1!==(i=Tt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Tt.call(this._minWeekdaysParse,a))?i:-1!==(i=Tt.call(this._weekdaysParse,a))?i:-1!==(i=Tt.call(this._shortWeekdaysParse,a))?i:null}).call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},fn.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Jt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},fn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},fn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},ce("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===M(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",ce),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",he);var _n=Math.abs;function vn(t,e,n,r){var i=qe(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function bn(t){return t<0?Math.floor(t):Math.ceil(t)}function xn(t){return 4800*t/146097}function wn(t){return 146097*t/4800}function Mn(t){return function(){return this.as(t)}}var Cn=Mn("ms"),Ln=Mn("s"),En=Mn("m"),kn=Mn("h"),Tn=Mn("d"),Sn=Mn("w"),An=Mn("M"),Dn=Mn("y");function In(t){return function(){return this.isValid()?this._data[t]:NaN}}var Pn=In("milliseconds"),On=In("seconds"),Nn=In("minutes"),Rn=In("hours"),Fn=In("days"),Yn=In("months"),Bn=In("years"),zn=Math.round,jn={ss:44,s:45,m:45,h:22,d:26,M:11},Vn=Math.abs;function Hn(t){return(t>0)-(t<0)||+t}function Un(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Vn(this._milliseconds)/1e3,r=Vn(this._days),i=Vn(this._months);t=w(n/60),e=w(t/60),n%=60,t%=60;var o=w(i/12),a=i%=12,s=r,l=e,u=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var h=p<0?"-":"",d=Hn(this._months)!==Hn(p)?"-":"",f=Hn(this._days)!==Hn(p)?"-":"",m=Hn(this._milliseconds)!==Hn(p)?"-":"";return h+"P"+(o?d+o+"Y":"")+(a?d+a+"M":"")+(s?f+s+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var Gn=Ne.prototype;return Gn.isValid=function(){return this._isValid},Gn.abs=function(){var t=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),t.milliseconds=_n(t.milliseconds),t.seconds=_n(t.seconds),t.minutes=_n(t.minutes),t.hours=_n(t.hours),t.months=_n(t.months),t.years=_n(t.years),this},Gn.add=function(t,e){return vn(this,t,e,1)},Gn.subtract=function(t,e){return vn(this,t,e,-1)},Gn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=N(t))||"year"===t)return n=this._months+xn(e=this._days+r/864e5),"month"===t?n:n/12;switch(e=this._days+Math.round(wn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Gn.asMilliseconds=Cn,Gn.asSeconds=Ln,Gn.asMinutes=En,Gn.asHours=kn,Gn.asDays=Tn,Gn.asWeeks=Sn,Gn.asMonths=An,Gn.asYears=Dn,Gn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN},Gn._bubble=function(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*bn(wn(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=w(o/1e3),l.seconds=t%60,e=w(t/60),l.minutes=e%60,n=w(e/60),l.hours=n%24,a+=w(n/24),s+=i=w(xn(a)),a-=bn(wn(i)),r=w(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},Gn.clone=function(){return qe(this)},Gn.get=function(t){return t=N(t),this.isValid()?this[t+"s"]():NaN},Gn.milliseconds=Pn,Gn.seconds=On,Gn.minutes=Nn,Gn.hours=Rn,Gn.days=Fn,Gn.weeks=function(){return w(this.days()/7)},Gn.months=Yn,Gn.years=Bn,Gn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var r=qe(t).abs(),i=zn(r.as("s")),o=zn(r.as("m")),a=zn(r.as("h")),s=zn(r.as("d")),l=zn(r.as("M")),u=zn(r.as("y")),c=i<=jn.ss&&["s",i]||i<jn.s&&["ss",i]||o<=1&&["m"]||o<jn.m&&["mm",o]||a<=1&&["h"]||a<jn.h&&["hh",a]||s<=1&&["d"]||s<jn.d&&["dd",s]||l<=1&&["M"]||l<jn.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,(function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}).apply(null,c)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Gn.toISOString=Un,Gn.toString=Un,Gn.toJSON=Un,Gn.locale=tn,Gn.localeData=nn,Gn.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Un),Gn.lang=en,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ct("x",ot),ct("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ft("x",function(t,e,n){n._d=new Date(M(t))}),i.version="2.22.2",e=Ae,i.fn=hn,i.min=function(){return Pe("isBefore",[].slice.call(arguments,0))},i.max=function(){return Pe("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=d,i.unix=function(t){return Ae(1e3*t)},i.months=function(t,e){return gn(t,e,"months")},i.isDate=u,i.locale=ce,i.invalid=g,i.duration=qe,i.isMoment=x,i.weekdays=function(t,e,n){return yn(t,e,n,"weekdays")},i.parseZone=function(){return Ae.apply(null,arguments).parseZone()},i.localeData=he,i.isDuration=Re,i.monthsShort=function(t,e){return gn(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return yn(t,e,n,"weekdaysMin")},i.defineLocale=pe,i.updateLocale=function(t,e){if(null!=e){var n,r,i=oe;null!=(r=ue(t))&&(i=r._config),(n=new I(e=D(i,e))).parentLocale=ae[t],ae[t]=n,ce(t)}else null!=ae[t]&&(null!=ae[t].parentLocale?ae[t]=ae[t].parentLocale:null!=ae[t]&&delete ae[t]);return ae[t]},i.locales=function(){return k(ae)},i.weekdaysShort=function(t,e,n){return yn(t,e,n,"weekdaysShort")},i.normalizeUnits=N,i.relativeTimeRounding=function(t){return void 0===t?zn:"function"==typeof t&&(zn=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==jn[t]&&(void 0===e?jn[t]:(jn[t]=e,"s"===t&&(jn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=hn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n("YuTi")(t))},wkhI:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("CcnG"),i=(n("3ZaB"),function(){function t(t){this.windowRef=t,this.selectMode=new r.k}return t.prototype.ngOnInit=function(){this.windowRef.url()&&this.selectModeByUrl(this.windowRef.url())},t.prototype.selectModeByUrl=function(t){var e=t.split("/"),n=e[e.length-1].replace("#",""),r=[];this.modes&&this.modes.length>0&&(r=this.modes.filter(function(t){return t.icon===n})),this.onClick(r.length>0?r[0]:this.modes[0])},t.prototype.onClick=function(t){this.selectedMode=t,this.selectMode.emit(t)},t}())},x6pH:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(t){return 2===t?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":t+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(t){return 2===t?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":t+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(t){return 2===t?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":t+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(t){return 2===t?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":t%10==0&&10!==t?t+" \u05e9\u05e0\u05d4":t+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(t){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(t)},meridiem:function(t,e,n){return t<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":t<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":t<12?n?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":t<18?n?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}()},xEz5:function(t,e,n){"use strict";var r=n("CcnG"),i=n("eYWh"),o=n("ka1Z"),a=n("Ip0R"),s=n("gv8m"),l=n("3ZaB"),u=n("Q6bz"),c=r.gb({encapsulation:0,styles:[""],data:{}});function p(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["class","transport-mode"],["role","radio"],["tabindex","0"]],[[2,"selected",null],[1,"aria-checked",0],[1,"aria-label",0]],[[null,"click"],[null,"keyup.enter"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onClick(t.context.$implicit)&&r),"keyup.enter"===e&&(r=!1!==i.onClick(t.context.$implicit)&&r),r},null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["class","icon"],["iconClasses","middle md"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(3,0,null,null,1,"div",[["class","mode-name"]],null,null,null,null,null)),(t()(),r.zb(4,null,["",""]))],function(t,e){t(e,2,0,e.context.$implicit.icon,e.context.$implicit.icon,"middle md",!1)},function(t,e){var n=e.component;t(e,0,0,e.context.$implicit.id===n.selectedMode.id,e.context.$implicit.id===n.selectedMode.id,e.context.$implicit.name+" view"),t(e,4,0,e.context.$implicit.name)})}function h(t){return r.Bb(0,[(t()(),r.Z(16777216,null,null,1,null,p)),r.hb(1,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.modes)},null)}var d=n("b497"),f=r.gb({encapsulation:0,styles:[""],data:{}});function m(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-icon",[["class","icon"],["iconClasses","xs"],["iconName","tick"]],null,null,null,i.b,i.a)),r.hb(1,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){t(e,1,0,"tick",e.parent.context.$implicit.label,"xs",!1)},null)}function g(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"a",[["class","btn btn-default"],["role","radio"],["tabindex","0"],["type","button"]],[[2,"selected",null],[1,"aria-checked",0],[1,"aria-label",0]],[[null,"click"],[null,"keyup.enter"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onClick(t.context.$implicit)&&r),"keyup.enter"===e&&(r=!1!==i.onClick(t.context.$implicit)&&r),r},null,null)),(t()(),r.ib(1,0,null,null,5,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,m)),r.hb(3,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(4,0,null,null,0,"input",[["autocomplete","off"],["name","inputTab"],["tabindex","-1"],["type","radio"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,1,"span",[["class","tab-name"]],null,null,null,null,null)),(t()(),r.zb(6,null,["",""]))],function(t,e){t(e,3,0,e.context.$implicit.id===e.component.selectedTab.id)},function(t,e){var n=e.component;t(e,0,0,e.context.$implicit.id===n.selectedTab.id,e.context.$implicit.id===n.selectedTab.id,"view "+e.context.$implicit.label),t(e,6,0,e.context.$implicit.label)})}function y(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","mode-tab-list btn-group btn-group-justified"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,g)),r.hb(2,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.tabs)},null)}var _=n("KnBw"),v=n("mVwE"),b=n("fzkN"),x=n("+ulk"),w=n("3g9f"),M=n("5IX/"),C=n("T1BI"),L=n("iUDz"),E=n("0u4Y"),k=n("64ZZ"),T=n("K48Q"),S=n("9lgY"),A=n("lR7y"),D=n("+9V0"),I=r.gb({encapsulation:0,styles:[".stop-search-container[_ngcontent-%COMP%]{position:relative;border:1px solid #ccc;border-top:4px solid #ccc;width:100%}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container{display:block;border-bottom:0;min-height:38px}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .error-popover{display:block;right:35px;top:-3px;left:auto;border-radius:4px;line-height:16px}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-input::-ms-clear{display:none}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container{width:100%;box-shadow:0px 2px 0.5em rgba(0,0,0,0.4);margin:0}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container svg.tp-icon.track-icon{margin:1px 3px 0 0}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .autosuggest-buttons .item:first-child{border-top:1px solid #ccc}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .autosuggest-dropdown-header{display:none}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .item:hover, .stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .item:focus, .stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .item:active, .stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .item.active{background-color:inherit;outline:4px solid #757575}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .list-group-item-title{font-weight:500}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline{margin:0 0 0  -5px;font-size:0.95em;font-weight:400}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline li:not(:first-child){padding:0}.stop-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-clear-button{height:17px}.stop-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]{color:#555;line-height:1.1em}.stop-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:3px}.stop-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-detail[_ngcontent-%COMP%]   .item-suburb[_ngcontent-%COMP%]{font-size:.95em;font-weight:400}"],data:{}});function P(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"tni-mode-summary",[],null,null,null,w.b,w.a)),r.wb(512,null,M.a,M.a,[]),r.wb(512,null,C.a,C.a,[]),r.hb(3,49152,null,0,L.a,[M.a,C.a],{location:[0,"location"]},null)],function(t,e){t(e,3,0,e.context.item)},null)}function O(t){return r.Bb(0,[r.xb(402653184,1,{autosuggestEl:0}),(t()(),r.ib(1,0,null,null,3,"div",[["class","stop-search-container"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,1,"tni-autosuggest",[["ariaLabel","Search Stations: Start typing, then use up and down keys and enter to select from list."],["displayProperty","shortName"],["ignoreKeyEvents","['Enter']"]],null,[[null,"selectItemChange"],[null,"inputTextChange"],["document","click"]],function(t,e,n){var i=!0,o=t.component;return"document:click"===e&&(i=!1!==r.sb(t,3).onDocumentClick(n)&&i),"selectItemChange"===e&&(i=!1!==o.handleSearchSelect(n)&&i),"inputTextChange"===e&&(i=!1!==o.onInputTextChange(n)&&i),i},E.b,E.a)),r.hb(3,4767744,[[1,4],["autosuggest",4]],0,k.a,[l.a],{id:[0,"id"],required:[1,"required"],placeholder:[2,"placeholder"],ariaLabel:[3,"ariaLabel"],searchFn:[4,"searchFn"],displayProperty:[5,"displayProperty"],selectItem:[6,"selectItem"],resultTemplate:[7,"resultTemplate"],errorMessage:[8,"errorMessage"],textValue:[9,"textValue"],ignoreKeyEvents:[10,"ignoreKeyEvents"]},{selectItemChange:"selectItemChange",inputTextChange:"inputTextChange"}),(t()(),r.Z(0,[["template",2]],null,0,null,P))],function(t,e){var n=e.component;t(e,3,1,[n.id,!0,n.placeholder,"Search Stations: Start typing, then use up and down keys and enter to select from list.",n.searchStops,"shortName",n.stop,r.sb(e,4),n.errorMessage,n.textValue,"['Enter']"])},null)}var N=n("NOf9"),R=n("E8FJ"),F=n("baxS"),Y=n("3qSw"),B=n("k0ah"),z=n("llQp"),j=n("u4wI"),V=r.gb({encapsulation:0,styles:[""],data:{}});function H(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"a",[["class","panel-footer-links"]],[[8,"href",4],[2,"hidden-xs",null]],[[null,"click"],[null,"keyup.enter"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onLinkClick(t.context.$implicit)&&r),"keyup.enter"===e&&(r=!1!==i.onLinkClick(t.context.$implicit)&&r),r},null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[["iconClasses","tp-icon xs"]],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(3,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.zb(4,null,["",""])),(t()(),r.ib(5,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(6,null,["",""]))],function(t,e){t(e,2,0,r.kb(1,"",e.context.$implicit.linkIcon.iconName,""),r.kb(1,"",e.context.$implicit.linkIcon.iconTitle,""),"tp-icon xs",!0)},function(t,e){t(e,0,0,r.kb(1,"",e.context.$implicit.linkPath,""),e.context.$implicit.hideMobile),t(e,4,0,e.context.$implicit.linkName),t(e,6,0,e.context.$implicit.linkAriaLabel)})}function U(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[["class","panel-footer collapse-footer "]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,H)),r.hb(2,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),r.rb(null,0)],function(t,e){t(e,2,0,e.component.footerLinks)},null)}function G(t){return r.Bb(0,[(t()(),r.Z(16777216,null,null,1,null,U)),r.hb(1,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.footerLinks&&n.footerLinks.length)},null)}var q=n("dJjl"),W=r.gb({encapsulation:0,styles:[".card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .panel-footer a{display:table-cell;text-align:center;text-decoration:none}.card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .panel-footer a .tp-icon{color:#1D69B4;fill:#1D69B4}.card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .panel-footer a svg{vertical-align:-5px}.card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .collapse-footer{padding:0;line-height:2em}.card-list-main-container[_ngcontent-%COMP%]   .card-footer-container[_ngcontent-%COMP%]     .collapse-footer a{text-decoration-line:none}.card-list-main-container[_ngcontent-%COMP%]   .card-icons[_ngcontent-%COMP%]{line-height:15px;padding:0;border:none}.card-list-main-container[_ngcontent-%COMP%]   .card-icons[_ngcontent-%COMP%]     .tp-icon{width:25px;height:25px;min-width:25px}.card-list-main-container[_ngcontent-%COMP%]   .card-icons[_ngcontent-%COMP%]     .tp-icon   svg{fill:#000;color:#000}"],data:{}});function Z(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-route-icon",[["iconClass","sm-md"]],null,null,null,F.b,F.a)),r.hb(1,573440,null,0,Y.a,[],{lineNumber:[0,"lineNumber"],iconClass:[1,"iconClass"],iconBackgroundColour:[2,"iconBackgroundColour"],iconFontColour:[3,"iconFontColour"]},null)],function(t,e){t(e,1,0,e.parent.context.$implicit.lineNumber,"sm-md",e.parent.context.$implicit.foregroundColour,e.parent.context.$implicit.fontColour)},null)}function X(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","card-icons"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(2,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null)],function(t,e){t(e,2,0,e.context.$implicit.iconName,e.context.$implicit.iconTitle,e.context.$implicit.iconClasses,e.context.$implicit.iconAriaHidden)},null)}function J(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,1,"span",[["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(3,null,["",""]))],null,function(t,e){t(e,3,0,e.parent.context.$implicit.bodyMessage)})}function K(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,27,"div",[["class","col-xs-12 tile-item-wrapper"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,26,"div",[["class","tile-item"]],null,null,null,null,null)),r.hb(2,278528,null,0,a.j,[r.p,r.i,r.y],{ngStyle:[0,"ngStyle"]},null),r.ub(3,{"border-left-color":0}),(t()(),r.ib(4,0,null,null,23,"div",[["class","panel-group tile-item--panel-group"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,22,"tni-collapsible-card",[],null,[[null,"toggle"]],function(t,e,n){var r=!0;return"toggle"===e&&(r=!1!==t.component.onToggleCard(n,t.context.$implicit)&&r),r},B.b,B.a)),r.hb(6,49152,null,0,z.a,[],{ariaLabel:[0,"ariaLabel"],expanded:[1,"expanded"],index:[2,"index"]},{toggle:"toggle"}),(t()(),r.ib(7,0,null,0,6,"div",[["card-header",""],["class","panel-heading"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,Z)),r.hb(9,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,X)),r.hb(11,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null),(t()(),r.ib(12,0,null,null,1,"h4",[["class","panel-title"]],null,null,null,null,null)),(t()(),r.zb(13,null,["",""])),(t()(),r.ib(14,0,null,1,2,"div",[["card-body",""]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,J)),r.hb(16,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(17,0,null,2,10,"div",[["card-footer",""]],null,null,null,null,null)),(t()(),r.ib(18,0,null,null,9,"card-footer",[["class","card-footer-container"]],null,[[null,"selectLink"]],function(t,e,n){var r=!0;return"selectLink"===e&&(r=!1!==t.component.onSelectFooterLink(n,t.context.$implicit)&&r),r},G,V)),r.hb(19,49152,null,0,j.a,[],{footerLinks:[0,"footerLinks"]},{selectLink:"selectLink"}),(t()(),r.ib(20,0,[["other",1]],0,7,"div",[["class","visible-xs-inline-block"],["other-links",""]],null,null,null,null,null)),(t()(),r.ib(21,0,null,null,6,"a",[["class","result-item-map visible-xs-inline-block panel-footer-links"],["href","javascript:;"],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.displayMap(t.context.$implicit.headerName)&&r),r},null,null)),(t()(),r.ib(22,0,null,null,1,"tni-icon",[["iconClasses","tp-icon sm"],["iconName","map"],["iconTitle","Open map view"]],null,null,null,i.b,i.a)),r.hb(23,49152,null,0,o.a,[],{iconName:[0,"iconName"],iconTitle:[1,"iconTitle"],iconClasses:[2,"iconClasses"],iconAriaHidden:[3,"iconAriaHidden"]},null),(t()(),r.ib(24,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Map"])),(t()(),r.ib(26,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Open map view"]))],function(t,e){var n=t(e,3,0,e.context.$implicit.lineColour);t(e,2,0,n),t(e,6,0,e.context.$implicit.headerName,e.context.$implicit.expanded,e.context.index),t(e,9,0,e.context.$implicit.showRouteIcon),t(e,11,0,e.context.$implicit.iconList),t(e,16,0,""!=e.context.$implicit.bodyMessage),t(e,19,0,e.context.$implicit.footerLinks),t(e,23,0,"map","Open map view","tp-icon sm",!1)},function(t,e){t(e,13,0,e.context.$implicit.headerName)})}function Q(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","card-list-main-container row row-flex row-flex-start"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,K)),r.hb(2,278528,null,0,a.f,[r.G,r.D,r.o],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.list)},null)}var $=n("rE3e"),tt=n("VtCN"),et=n("UTGZ"),nt=n("gTB4"),rt=n("IuMT"),it=n("3fdv"),ot=n("CLdD"),at=n("d8H3"),st=n("zOFj");n.d(e,"a",function(){return Lt});var lt=r.gb({encapsulation:2,styles:["\n    .mapboxgl-map{font:12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right,.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;overflow:hidden;background:#fff}.mapboxgl-ctrl-group:not(:empty){-moz-box-shadow:0 0 2px rgba(0,0,0,0.1);-webkit-box-shadow:0 0 2px rgba(0,0,0,0.1);box-shadow:0 0 0 2px rgba(0,0,0,0.1)}.mapboxgl-ctrl-group>button{width:30px;height:30px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group>button+button{border-top:1px solid #ddd}.mapboxgl-ctrl>button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl>button:hover{background-color:rgba(0,0,0,0.05)}.mapboxgl-ctrl-icon,.mapboxgl-ctrl-icon>.mapboxgl-ctrl-compass-arrow{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.mapboxgl-ctrl-icon{padding:5px}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='m 7,9 c -0.554,0 -1,0.446 -1,1 0,0.554 0.446,1 1,1 l 6,0 c 0.554,0 1,-0.446 1,-1 0,-0.554 -0.446,-1 -1,-1 z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='M 10 6 C 9.446 6 9 6.4459904 9 7 L 9 9 L 7 9 C 6.446 9 6 9.446 6 10 C 6 10.554 6.446 11 7 11 L 9 11 L 9 13 C 9 13.55401 9.446 14 10 14 C 10.554 14 11 13.55401 11 13 L 11 11 L 13 11 C 13.554 11 14 10.554 14 10 C 14 9.446 13.554 9 13 9 L 11 9 L 11 7 C 11 6.4459904 10.554 6 10 6 z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate:disabled{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting{-webkit-animation:mapboxgl-spin 2s infinite linear;-moz-animation:mapboxgl-spin 2s infinite linear;-o-animation:mapboxgl-spin 2s infinite linear;-ms-animation:mapboxgl-spin 2s infinite linear;animation:mapboxgl-spin 2s infinite linear}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-moz-keyframes mapboxgl-spin{0%{-moz-transform:rotate(0deg)}100%{-moz-transform:rotate(360deg)}}@-o-keyframes mapboxgl-spin{0%{-o-transform:rotate(0deg)}100%{-o-transform:rotate(360deg)}}@-ms-keyframes mapboxgl-spin{0%{-ms-transform:rotate(0deg)}100%{-ms-transform:rotate(360deg)}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M 5 4 C 4.5 4 4 4.5 4 5 L 4 6 L 4 9 L 4.5 9 L 5.7773438 7.296875 C 6.7771319 8.0602131 7.835765 8.9565728 8.890625 10 C 7.8257121 11.0633 6.7761791 11.951675 5.78125 12.707031 L 4.5 11 L 4 11 L 4 15 C 4 15.5 4.5 16 5 16 L 9 16 L 9 15.5 L 7.2734375 14.205078 C 8.0428931 13.187886 8.9395441 12.133481 9.9609375 11.068359 C 11.042371 12.14699 11.942093 13.2112 12.707031 14.21875 L 11 15.5 L 11 16 L 14 16 L 15 16 C 15.5 16 16 15.5 16 15 L 16 14 L 16 11 L 15.5 11 L 14.205078 12.726562 C 13.177985 11.949617 12.112718 11.043577 11.037109 10.009766 C 12.151856 8.981061 13.224345 8.0798624 14.228516 7.3046875 L 15.5 9 L 16 9 L 16 5 C 16 4.5 15.5 4 15 4 L 11 4 L 11 4.5 L 12.703125 5.7773438 C 11.932647 6.7864834 11.026693 7.8554712 9.9707031 8.9199219 C 8.9584739 7.8204943 8.0698767 6.7627188 7.3046875 5.7714844 L 9 4.5 L 9 4 L 6 4 L 5 4 z '/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23000000;' d='M 4.2421875 3.4921875 A 0.750075 0.750075 0 0 0 3.71875 4.78125 L 5.9648438 7.0273438 L 4 8.5 L 4 9 L 8 9 C 8.500001 8.9999988 9 8.4999992 9 8 L 9 4 L 8.5 4 L 7.0175781 5.9550781 L 4.78125 3.71875 A 0.750075 0.750075 0 0 0 4.2421875 3.4921875 z M 15.734375 3.4921875 A 0.750075 0.750075 0 0 0 15.21875 3.71875 L 12.984375 5.953125 L 11.5 4 L 11 4 L 11 8 C 11 8.4999992 11.499999 8.9999988 12 9 L 16 9 L 16 8.5 L 14.035156 7.0273438 L 16.28125 4.78125 A 0.750075 0.750075 0 0 0 15.734375 3.4921875 z M 4 11 L 4 11.5 L 5.9648438 12.972656 L 3.71875 15.21875 A 0.75130096 0.75130096 0 1 0 4.78125 16.28125 L 7.0273438 14.035156 L 8.5 16 L 9 16 L 9 12 C 9 11.500001 8.500001 11.000001 8 11 L 4 11 z M 12 11 C 11.499999 11.000001 11 11.500001 11 12 L 11 16 L 11.5 16 L 12.972656 14.035156 L 15.21875 16.28125 A 0.75130096 0.75130096 0 1 0 16.28125 15.21875 L 14.035156 12.972656 L 16 11.5 L 16 11 L 12 11 z '/%3E %3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass>.mapboxgl-ctrl-compass-arrow{width:20px;height:20px;margin:5px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpolygon fill='%23333333' points='6,9 10,1 14,9'/%3E %3Cpolygon fill='%23CCCCCC' points='6,11 10,19 14,11 '/%3E %3C/svg%3E\");background-repeat:no-repeat;display:inline-block}a.mapboxgl-ctrl-logo{width:85px;height:21px;margin:0 0 -3px -3px;display:block;background-repeat:no-repeat;cursor:pointer;background-image:url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 84.49 21' style='enable-background:new 0 0 84.49 21;' xml:space='preserve'%3E%3Cg%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M83.25,14.26c0,0.12-0.09,0.21-0.21,0.21h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39l-1.44,2.39 c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68L76.2,6.84 c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.4-2.35 c0.06-0.11,0.18-0.17,0.3-0.17H83c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.37,3.63l2.43,3.67 C83.24,14.18,83.25,14.22,83.25,14.26z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M66.24,9.59c-0.39-1.88-1.96-3.28-3.84-3.28c-1.03,0-2.03,0.42-2.73,1.18V3.51c0-0.13-0.1-0.23-0.23-0.23h-1.4 c-0.13,0-0.23,0.11-0.23,0.23v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.11,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.73,1.18 c1.88,0,3.45-1.41,3.84-3.29C66.37,10.79,66.37,10.18,66.24,9.59L66.24,9.59z M62.08,13c-1.32,0-2.39-1.11-2.41-2.48v-0.06 c0.02-1.38,1.09-2.48,2.41-2.48s2.42,1.12,2.42,2.51S63.41,13,62.08,13z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M71.67,6.32c-1.98-0.01-3.72,1.35-4.16,3.29c-0.13,0.59-0.13,1.19,0,1.77c0.44,1.94,2.17,3.32,4.17,3.3 c2.35,0,4.26-1.87,4.26-4.19S74.04,6.32,71.67,6.32z M71.65,13.01c-1.33,0-2.42-1.12-2.42-2.51s1.08-2.52,2.42-2.52 c1.33,0,2.42,1.12,2.42,2.51S72.99,13,71.65,13.01L71.65,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M62.08,7.98c-1.32,0-2.39,1.11-2.41,2.48v0.06C59.68,11.9,60.75,13,62.08,13s2.42-1.12,2.42-2.51 S63.41,7.98,62.08,7.98z M62.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25 c0.63,0,1.17,0.57,1.17,1.27C63.24,11.2,62.73,11.76,62.08,11.76z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M71.65,7.98c-1.33,0-2.42,1.12-2.42,2.51S70.32,13,71.65,13s2.42-1.12,2.42-2.51S72.99,7.98,71.65,7.98z M71.65,11.76c-0.64,0-1.17-0.57-1.17-1.27c0-0.7,0.53-1.26,1.17-1.26s1.17,0.57,1.17,1.27C72.82,11.21,72.29,11.76,71.65,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M45.74,6.53h-1.4c-0.13,0-0.23,0.11-0.23,0.23v0.73c-0.71-0.75-1.7-1.18-2.73-1.18 c-2.17,0-3.94,1.87-3.94,4.19s1.77,4.19,3.94,4.19c1.04,0,2.03-0.43,2.73-1.19v0.73c0,0.13,0.1,0.23,0.23,0.23h1.4 c0.13,0,0.23-0.11,0.23-0.23V6.74c0-0.12-0.09-0.22-0.22-0.22C45.75,6.53,45.75,6.53,45.74,6.53z M44.12,10.53 C44.11,11.9,43.03,13,41.71,13s-2.42-1.12-2.42-2.51s1.08-2.52,2.4-2.52c1.33,0,2.39,1.11,2.41,2.48L44.12,10.53z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M41.71,7.98c-1.33,0-2.42,1.12-2.42,2.51S40.37,13,41.71,13s2.39-1.11,2.41-2.48v-0.06 C44.1,9.09,43.03,7.98,41.71,7.98z M40.55,10.49c0-0.7,0.52-1.27,1.17-1.27c0.64,0,1.14,0.56,1.17,1.25v0.04 c-0.01,0.68-0.53,1.24-1.17,1.24C41.08,11.75,40.55,11.19,40.55,10.49z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M52.41,6.32c-1.03,0-2.03,0.42-2.73,1.18V6.75c0-0.13-0.1-0.23-0.23-0.23h-1.4c-0.13,0-0.23,0.11-0.23,0.23 v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.1,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.74,1.18c2.17,0,3.94-1.87,3.94-4.19 S54.58,6.32,52.41,6.32z M52.08,13.01c-1.32,0-2.39-1.11-2.42-2.48v-0.07c0.02-1.38,1.09-2.49,2.4-2.49c1.32,0,2.41,1.12,2.41,2.51 S53.4,13,52.08,13.01L52.08,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M52.08,7.98c-1.32,0-2.39,1.11-2.42,2.48v0.06c0.03,1.38,1.1,2.48,2.42,2.48s2.41-1.12,2.41-2.51 S53.4,7.98,52.08,7.98z M52.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25c0.63,0,1.17,0.58,1.17,1.27 S52.72,11.76,52.08,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M36.08,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68c0-0.98-0.74-1.71-1.62-1.71 c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.11,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V6.74 c0.01-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03c1.09,0,2.09,0.6,2.6,1.55 c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78L36.08,14.24z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M84.34,13.59l-0.07-0.13l-1.96-2.99l1.94-2.95c0.44-0.67,0.26-1.56-0.41-2.02c-0.02,0-0.03,0-0.04-0.01 c-0.23-0.15-0.5-0.22-0.78-0.22h-1.61c-0.56,0-1.08,0.29-1.37,0.78L79.72,6.6l-0.34-0.56C79.09,5.56,78.57,5.27,78,5.27h-1.6 c-0.6,0-1.13,0.37-1.35,0.92c-2.19-1.66-5.28-1.47-7.26,0.45c-0.35,0.34-0.65,0.72-0.89,1.14c-0.9-1.62-2.58-2.72-4.5-2.72 c-0.5,0-1.01,0.07-1.48,0.23V3.51c0-0.82-0.66-1.48-1.47-1.48h-1.4c-0.81,0-1.47,0.66-1.47,1.47v3.75 c-0.95-1.36-2.5-2.18-4.17-2.19c-0.74,0-1.46,0.16-2.12,0.47c-0.24-0.17-0.54-0.26-0.84-0.26h-1.4c-0.45,0-0.87,0.21-1.15,0.56 c-0.02-0.03-0.04-0.05-0.07-0.08c-0.28-0.3-0.68-0.47-1.09-0.47h-1.39c-0.3,0-0.6,0.09-0.84,0.26c-0.67-0.3-1.39-0.46-2.12-0.46 c-1.83,0-3.43,1-4.37,2.5c-0.2-0.46-0.48-0.89-0.83-1.25c-0.8-0.81-1.89-1.25-3.02-1.25h-0.01c-0.89,0.01-1.75,0.33-2.46,0.88 c-0.74-0.57-1.64-0.88-2.57-0.88H28.1c-0.29,0-0.58,0.03-0.86,0.11c-0.28,0.06-0.56,0.16-0.82,0.28c-0.21-0.12-0.45-0.18-0.7-0.18 h-1.4c-0.82,0-1.47,0.66-1.47,1.47v7.5c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.48-0.66,1.48-1.48l0,0V9.79 c0.03-0.36,0.23-0.59,0.36-0.59c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41c0.82,0,1.47-0.66,1.47-1.47 l-0.01-4.57c0.06-0.32,0.25-0.47,0.35-0.47c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41 c0.82,0,1.47-0.66,1.47-1.47v-0.38c0.96,1.29,2.46,2.06,4.06,2.06c0.74,0,1.46-0.16,2.12-0.47c0.24,0.17,0.54,0.26,0.84,0.26h1.39 c0.3,0,0.6-0.09,0.84-0.26v2.01c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.47-0.66,1.47-1.47v-1.77c0.48,0.15,0.99,0.23,1.49,0.22 c1.7,0,3.22-0.87,4.17-2.2v0.52c0,0.82,0.66,1.47,1.47,1.47h1.4c0.3,0,0.6-0.09,0.84-0.26c0.66,0.31,1.39,0.47,2.12,0.47 c1.92,0,3.6-1.1,4.49-2.73c1.54,2.65,4.95,3.53,7.58,1.98c0.18-0.11,0.36-0.22,0.53-0.36c0.22,0.55,0.76,0.91,1.35,0.9H78 c0.56,0,1.08-0.29,1.37-0.78l0.37-0.61l0.37,0.61c0.29,0.48,0.81,0.78,1.38,0.78h1.6c0.81,0,1.46-0.66,1.45-1.46 C84.49,14.02,84.44,13.8,84.34,13.59L84.34,13.59z M35.86,14.47h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23 V9.68c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23 V6.74c0.01-0.13,0.11-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03 c1.09,0,2.09,0.6,2.6,1.55c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78l0.01,5.16C36.09,14.36,35.98,14.46,35.86,14.47 L35.86,14.47z M45.97,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V13.5c-0.7,0.76-1.69,1.18-2.72,1.18 c-2.17,0-3.94-1.87-3.94-4.19s1.77-4.19,3.94-4.19c1.03,0,2.02,0.43,2.73,1.18V6.74c0-0.13,0.1-0.23,0.23-0.23h1.4 c0.12-0.01,0.22,0.08,0.23,0.21c0,0.01,0,0.01,0,0.02v7.51h-0.01V14.24z M52.41,14.67c-1.03,0-2.02-0.43-2.73-1.18v3.97 c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.1-0.23-0.23V6.75c0-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.23,0.11,0.23,0.23v0.73 c0.71-0.76,1.7-1.18,2.73-1.18c2.17,0,3.94,1.86,3.94,4.18S54.58,14.67,52.41,14.67z M66.24,11.39c-0.39,1.87-1.96,3.29-3.84,3.29 c-1.03,0-2.02-0.43-2.73-1.18v0.73c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V3.51c0-0.13,0.1-0.23,0.23-0.23 h1.4c0.13,0,0.23,0.11,0.23,0.23v3.97c0.71-0.75,1.7-1.18,2.73-1.17c1.88,0,3.45,1.4,3.84,3.28C66.37,10.19,66.37,10.8,66.24,11.39 L66.24,11.39L66.24,11.39z M71.67,14.68c-2,0.01-3.73-1.35-4.17-3.3c-0.13-0.59-0.13-1.19,0-1.77c0.44-1.94,2.17-3.31,4.17-3.3 c2.36,0,4.26,1.87,4.26,4.19S74.03,14.68,71.67,14.68L71.67,14.68z M83.04,14.47h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39 l-1.44,2.39c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68 L76.2,6.84c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.41-2.36 c0.06-0.11,0.18-0.17,0.3-0.17h1.61c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.38,3.64l2.43,3.67 c0.02,0.03,0.03,0.07,0.03,0.12C83.25,14.38,83.16,14.47,83.04,14.47L83.04,14.47L83.04,14.47z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M10.5,1.24c-5.11,0-9.25,4.15-9.25,9.25s4.15,9.25,9.25,9.25s9.25-4.15,9.25-9.25 C19.75,5.38,15.61,1.24,10.5,1.24z M14.89,12.77c-1.93,1.93-4.78,2.31-6.7,2.31c-0.7,0-1.41-0.05-2.1-0.16c0,0-1.02-5.64,2.14-8.81 c0.83-0.83,1.95-1.28,3.13-1.28c1.27,0,2.49,0.51,3.39,1.42C16.59,8.09,16.64,11,14.89,12.77z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M10.5-0.01C4.7-0.01,0,4.7,0,10.49s4.7,10.5,10.5,10.5S21,16.29,21,10.49C20.99,4.7,16.3-0.01,10.5-0.01z M10.5,19.74c-5.11,0-9.25-4.15-9.25-9.25s4.14-9.26,9.25-9.26s9.25,4.15,9.25,9.25C19.75,15.61,15.61,19.74,10.5,19.74z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M14.74,6.25C12.9,4.41,9.98,4.35,8.23,6.1c-3.16,3.17-2.14,8.81-2.14,8.81s5.64,1.02,8.81-2.14 C16.64,11,16.59,8.09,14.74,6.25z M12.47,10.34l-0.91,1.87l-0.9-1.87L8.8,9.43l1.86-0.9l0.9-1.87l0.91,1.87l1.86,0.9L12.47,10.34z'/%3E %3Cpolygon class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' points='14.33,9.43 12.47,10.34 11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 '/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:21px;height:21px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 21 21' style='enable-background:new 0 0 21 21;' xml:space='preserve'%3E%3Cg transform='translate(0,0.01)'%3E%3Cpath d='m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3Cpath d='M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpath d='M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpolygon points='11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 ' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3C/g%3E%3C/svg%3E\")}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:rgba(255,255,255,0.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{margin:10px;position:relative;background-color:#fff;border-radius:3px 12px 12px 3px}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 24px 2px 4px;visibility:visible}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover,.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 4px 2px 24px;border-radius:12px 3px 3px 12px}.mapboxgl-ctrl-attrib.mapboxgl-compact>*{display:none}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover>*{display:inline}.mapboxgl-ctrl-attrib.mapboxgl-compact::after{content:'';cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill='%23333333' fill-rule='evenodd' d='M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0'/%3E %3C/svg%3E\");background-color:rgba(255,255,255,0.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact::after{bottom:0;left:0}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,0.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:bold;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:rgba(255,255,255,0.75);font-size:10px;border-width:medium 2px 2px;border-style:none solid solid;border-color:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-flex;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,0.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,0.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot{background-color:#1da1f2;width:15px;height:15px;border-radius:50%;box-shadow:0 0 2px rgba(0,0,0,0.25)}.mapboxgl-user-location-dot::before{background-color:#1da1f2;content:'';width:15px;height:15px;border-radius:50%;position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;-moz-animation:mapboxgl-user-location-dot-pulse 2s infinite;-ms-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot::after{border-radius:50%;border:2px solid #fff;content:'';height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}100%{-webkit-transform:scale(1);opacity:0}}@-ms-keyframes mapboxgl-user-location-dot-pulse{0%{-ms-transform:scale(1);opacity:1}70%{-ms-transform:scale(3);opacity:0}100%{-ms-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}100%{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale::after{display:none}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:0.5}@media print{.mapbox-improve-map{display:none}}.metro-main-container{margin-bottom:20px}.metro-main-container .stop-search{padding:0 5px}.metro-main-container .tab-details{height:500px;overflow-y:auto;overflow-x:hidden}.metro-main-container .stations-heading{margin:8px 0}.metro-main-container .lines-heading{padding-left:8px;margin:8px 0}.metro-main-container .container-fluid.map{height:700px}.metro-main-container .col-left{position:relative;background:#F6F6F6;padding:1px 0 0;margin-bottom:0;overflow:hidden;box-shadow:8px 0 8px -2px rgba(0,0,0,0.2);z-index:1}.metro-main-container .col-left.map-scroll{overflow-y:hidden}.metro-main-container .col-left .transport-mode-filter{display:flex;padding:10px 0;flex-flow:row wrap;justify-content:flex-start}.metro-main-container .col-left .transport-mode-filter .transport-mode{opacity:0.3;width:45px;margin-left:10px;text-align:center;line-height:18px;cursor:pointer}.metro-main-container .col-left .transport-mode-filter .transport-mode:first-child{margin-left:0}.metro-main-container .col-left .transport-mode-filter .transport-mode.selected{opacity:1}.metro-main-container .col-left .transport-mode-filter .transport-mode .mode-name{font-size:14px;font-weight:400;padding-top:2px}.metro-main-container .col-left .btn-group .btn{font-size:14px;line-height:20px}.metro-main-container .col-left .btn-group .btn.selected{position:relative;background:#ececec}.metro-main-container .col-left .list-header{padding:5px 5px 0 5px;background:#fff;box-shadow:0 2px 3px 0 rgba(0,0,0,0.4)}.metro-main-container .col-left .list-header .filter-header{margin:10px 0;font-weight:bolder;font-size:15px;color:#1D69B4}.metro-main-container .col-left .list-header .tab-message{font-size:14px;font-weight:200;padding:10px 0}.metro-main-container .col-left .list-loading{margin-top:20px}.metro-main-container .col-left .result-item-map{white-space:nowrap;text-decoration:underline;margin-right:7px}.metro-main-container .col-left .result-item-map svg{vertical-align:-5px;color:#555}.metro-main-container .col-left .visible-xs-inline-block{display:none}.metro-main-container .col-left .change-list{margin:0 8px 16px;padding:0;display:block;height:100%}.metro-main-container .col-left .change-list .footer{position:relative}.metro-main-container .col-left .change-list.stations{margin:8px}@media (max-width: 767px){.metro-main-container .col-left .change-list{height:100%}}.metro-main-container .col-left .change-list .tile-item-wrapper{margin-bottom:15px;padding:0 13px}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item{border:0;border-left:3px solid #757575}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group{border-top:1px solid #ddd}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details{padding:0;background:#fff;box-shadow:0 2px 3px 0 rgba(0,0,0,0.4)}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .toggle{position:absolute;top:24px;right:3px}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-heading{padding:10px;display:flex}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-heading .route-icon-number{font-weight:500 !important;font-size:13px;padding:0 0.35em 0.1em;min-width:1.8em;text-transform:uppercase;font-variant:small-caps;border-radius:5px;letter-spacing:0.01em;text-align:center;vertical-align:middle;border:0;display:inline-block;line-height:22.65px}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-heading .panel-title{padding:0 12px;font-size:16px;font-weight:500}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-body{padding:10px 20px;border-top:1px solid #ddd}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-body .panel-title{display:flex;font-size:16px;font-weight:400;line-height:22px}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-footer{border-top:1px solid #ddd;background:#F9F9F9;display:flex;display:-webkit-flex;display:-ms-inline-flexbox;flex:1 0 auto;justify-content:space-around;width:100%}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-footer a{font-size:14px;display:-ms-inline-flexbox;justify-content:center}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-footer a span{padding-left:3px;text-decoration:underline}@media (max-width: 767px){.metro-main-container .col-left .visible-xs-inline-block{display:block}.metro-main-container .col-left .change-list .tile-item-wrapper .tile-item .panel-group .collapsible-card-details .panel-body .panel-title{display:flex;font-size:14px;font-weight:400;line-height:18px}}.metro-main-container .map-container{padding:0;margin:0;height:760px}.metro-main-container .map-container .placeholder-image{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-image:url(\"/themes/custom/tfnsw_bootstrap/assets/images/map-empty-state_720.jpg\");background-size:cover}.metro-main-container .map-container .placeholder-image .placeholder-text{max-width:90%;text-align:center;font-weight:500;padding-top:40px}.metro-main-container .map-container .placeholder-image .placeholder-text .tp-icon-disruption{padding-right:5px;color:#1D69B4}.metro-main-container .map-container .placeholder-image .placeholder-text a{text-decoration:underline}@media (max-width: 767px){.metro-main-container .map-container .placeholder-image{align-items:flex-start;padding:20px;max-height:100%}}.metro-main-container .map-container .mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass{display:none}.metro-main-container .map-container .mapboxgl-ctrl-logo::after{display:none}.metro-main-container .map-container .map-copyright{padding-right:5px}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content{line-height:1.4;padding:0;text-align:left;width:270px;font-family:transtext, sans-serif}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-close-button{position:absolute;top:0;right:0;width:16px;height:16px;color:#333;margin:3px 3px 5px 5px;font:16px/14px Tahoma, Verdana, sans-serif;line-height:14px;text-align:center;vertical-align:middle;padding:0;display:table-cell}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .location{border-left:3px solid #999}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container{padding:6px 12px 12px 12px}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container h3{margin:0 15px 6px 0;font-size:15px;font-weight:500;color:#1C1C1B}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-container .message{display:flex;font-size:14px}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container{border-top:1px solid #cacaca;padding:10px 5px;width:100%;display:-webkit-flex;display:-ms-flexbox;flex:1 0 auto;display:flex;-webkit-justify-content:space-around;justify-content:space-around;background-color:#F9F9F9}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a{margin:0}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .tp-icon{color:#1D69B4;fill:#1D69B4;margin:-2px 5px 0 0}.metro-main-container .map-container .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .link-label{text-decoration:underline}.tni-tab-container .tni-tab-header-container .tni-tab-header{color:#555 !important;border-right:0;border-bottom:0}.tni-tab-container .tni-tab-header-container{background:#fff !important;border:1px solid rgba(0,0,0,0.2);border-bottom:4px solid #1D69B4;margin-top:30px;line-height:10px}.tni-tab-container .tni-tab-header-container .tni-tab-header.active-tab{margin-top:-8px;border:0;background-color:#1D69B4 !important;color:#fff !important;padding:15px;font-weight:500;line-height:18px}.tab-view-container /deep/ .tni-tab-container{margin-left:-5px;margin-right:-15px}.tab-view-container /deep/ .tni-tab-container /deep/ .tni-tab-header-container{background:#fff !important;border:1px solid rgba(0,0,0,0.2);border-bottom:4px solid #1D69B4;margin-top:30px;line-height:10px}.tab-view-container /deep/ .tni-tab-container /deep/ .tni-tab-header{color:#555 !important;border-right:0;border-bottom:0}@media (max-width: 767px){html{height:100%}.map-only{height:100%}.map-only .dialog-off-canvas-main-canvas{height:100%}.map-only .dialog-off-canvas-main-canvas .tfnsw-sticky-header-spacer-new,.map-only .dialog-off-canvas-main-canvas .breadcrumb-region-wrapper,.map-only .dialog-off-canvas-main-canvas .page-title-region-wrapper,.map-only .dialog-off-canvas-main-canvas .social-tools,.map-only .dialog-off-canvas-main-canvas .tfnsw-site-banner,.map-only .dialog-off-canvas-main-canvas .tfnsw-family-ribbon,.map-only .dialog-off-canvas-main-canvas .container-fluid-footer{display:none}.map-only .dialog-off-canvas-main-canvas #main-content,.map-only .dialog-off-canvas-main-canvas #main-content>div,.map-only .dialog-off-canvas-main-canvas #main-content>div>div:not(.cr-placeholder-desktop),.map-only .dialog-off-canvas-main-canvas #main-content>div>div>section,.map-only .dialog-off-canvas-main-canvas #block-tfnsw-bootstrap-content,.map-only .dialog-off-canvas-main-canvas #block-tfnsw-bootstrap-content>.block-content,.map-only .dialog-off-canvas-main-canvas #block-tfnsw-bootstrap-content>.block-content>p,.map-only .dialog-off-canvas-main-canvas tni-stationlink,.map-only .dialog-off-canvas-main-canvas #main-content,.map-only .dialog-off-canvas-main-canvas .metro-main-container,.map-only .dialog-off-canvas-main-canvas .metro-main-container>.tfnsw-app-public,.map-only .dialog-off-canvas-main-canvas .metro-main-container>.tfnsw-app-public>.container-fluid,.map-only .dialog-off-canvas-main-canvas .metro-main-container>.tfnsw-app-public>.container-fluid>.row,.map-only .dialog-off-canvas-main-canvas .metro-main-container{height:100%}.map-only .dialog-off-canvas-main-canvas #block-tfnsw-bootstrap-content>.block-content>p{margin:0}.map-only .dialog-off-canvas-main-canvas .map-back-panel{position:absolute;width:100%;min-height:40px;background:white;margin-bottom:0;z-index:1;background:white;padding:0;border-radius:3px;box-shadow:0px 2px 3px 0px rgba(0,0,0,0.4);transition:box-shadow .2s ease-in-out}.map-only .dialog-off-canvas-main-canvas .map-back-panel:hover,.map-only .dialog-off-canvas-main-canvas .map-back-panel:focus,.map-only .dialog-off-canvas-main-canvas .map-back-panel:focus{box-shadow:0px 4px 8px 0px rgba(0,0,0,0.4)}.map-only .dialog-off-canvas-main-canvas .map-back-panel .panel-heading{padding:10px}.map-only .dialog-off-canvas-main-canvas .map-back-panel .panel-title{vertical-align:middle}.map-only .dialog-off-canvas-main-canvas .map-back-panel button{background:transparent;border:none}.map-only .dialog-off-canvas-main-canvas .map-container{position:relative}.map-only .dialog-off-canvas-main-canvas .map-container>[role='map']{height:100%;display:flex;flex-direction:column}.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] .map-component,.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] #mapbox-map{height:auto}.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] .map-component .mapboxgl-canvas,.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] #mapbox-map .mapboxgl-canvas{width:100% !important;height:100% !important}.map-only .dialog-off-canvas-main-canvas .map-container>[role='map'] .map-component{display:flex;flex:1}.map-only .dialog-off-canvas-main-canvas .map-container .mapboxgl-control-container .mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 5px}.map-only .dialog-off-canvas-main-canvas .map-container .mapboxgl-control-container .mapboxgl-ctrl-bottom-right .mapboxgl-ctrl-attrib{width:287px}}\n  "],data:{}});function ut(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.zb(-1,null,["Choose your service"]))],null,null)}function ct(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"transport-mode",[["class","transport-mode-filter"]],null,[[null,"selectMode"]],function(t,e,n){var r=!0;return"selectMode"===e&&(r=!1!==t.component.selectMode(n)&&r),r},h,c)),r.hb(1,49152,[[1,4]],0,s.a,[l.a,u.a],{selectedMode:[0,"selectedMode"],modes:[1,"modes"]},{selectMode:"selectMode"})],function(t,e){var n=e.component;t(e,1,0,n.selectedMode,n.transportModes)},null)}function pt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"transport-mode-tab",[],null,null,null,y,f)),r.hb(1,49152,null,0,d.a,[],{selectedTab:[0,"selectedTab"],tabs:[1,"tabs"]},null)],function(t,e){var n=e.component;t(e,1,0,n.selectedTab,n.selectedMode.tabs)},null)}function ht(t){return r.Bb(0,[(t()(),r.ib(0,0,[["tabContainer",1]],null,7,"div",[["class","tab-view-container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,6,"tni-tab-group",[],null,[[null,"tabChange"]],function(t,e,n){var r=!0;return"tabChange"===e&&(r=!1!==t.component.onViewChange(n)&&r),r},_.b,_.a)),r.hb(2,1097728,null,1,v.a,[],{activeTabId:[0,"activeTabId"]},{tabChange:"tabChange"}),r.xb(603979776,3,{tabs:1}),(t()(),r.ib(4,0,null,null,1,"tni-tab",[["tabId","tni-list-tab"],["title","List"]],null,null,null,b.b,b.a)),r.hb(5,49152,[[3,4]],0,x.a,[],{tabId:[0,"tabId"],title:[1,"title"]},null),(t()(),r.ib(6,0,null,null,1,"tni-tab",[["tabId","tni-map-tab"],["title","Map"]],null,null,null,b.b,b.a)),r.hb(7,49152,[[3,4]],0,x.a,[],{tabId:[0,"tabId"],title:[1,"title"]},null)],function(t,e){t(e,2,0,e.component.activeViewId),t(e,5,0,"tni-list-tab","List"),t(e,7,0,"tni-map-tab","Map")},null)}function dt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","tab-message"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.zb(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component.tabMessage)})}function ft(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,4,"div",[["class","stop-search"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"h4",[["class","stations-heading"]],null,null,null,null,null)),(t()(),r.zb(-1,null,["Stations"])),(t()(),r.ib(3,0,null,null,1,"stop-search",[],null,[[null,"stopChange"],[null,"inputTextChange"]],function(t,e,n){var r=!0,i=t.component;return"stopChange"===e&&(r=!1!==(i.selectStop.stop=n)&&r),"inputTextChange"===e&&(r=!1!==(i.selectStop.Text=n)&&r),"stopChange"===e&&(r=!1!==i.selectStopChange()&&r),r},O,I)),r.hb(4,4243456,[[2,4],["stopSearchEl",4]],0,T.a,[S.a,A.a,D.a,r.f,u.a],{id:[0,"id"],stop:[1,"stop"],placeholder:[2,"placeholder"],textValue:[3,"textValue"],transportMode:[4,"transportMode"]},{stopChange:"stopChange",inputTextChange:"inputTextChange"})],function(t,e){var n=e.component;t(e,4,0,"stopSearch",n.selectStop.stop,r.kb(1,"",n.stopSearchPlaceholder,""),n.selectStop.Text,n.selectedMode.mode)},null)}function mt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","list-loading"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-spinner",[["spinnerClass","topup-spinner"],["srText","Loading"]],null,null,null,N.b,N.a)),r.hb(2,49152,null,0,R.a,[],{srText:[0,"srText"],spinnerClass:[1,"spinnerClass"]},null)],function(t,e){t(e,2,0,"Loading","topup-spinner")},null)}function gt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","change-list stations"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"card-list",[],null,[[null,"selectMap"],[null,"toggleCard"],[null,"selectFooterLink"]],function(t,e,n){var r=!0,i=t.component;return"selectMap"===e&&(r=!1!==i.displayMap(n)&&r),"toggleCard"===e&&(r=!1!==i.onToggleCard(n)&&r),"selectFooterLink"===e&&(r=!1!==i.onSelectFooterLink(n)&&r),r},Q,W)),r.hb(2,49152,null,0,q.a,[],{list:[0,"list"]},{selectMap:"selectMap",toggleCard:"toggleCard",selectFooterLink:"selectFooterLink"})],function(t,e){t(e,2,0,e.component.getStationCards())},null)}function yt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"h4",[["class","lines-heading"]],null,null,null,null,null)),(t()(),r.zb(-1,null,[" Lines "]))],null,null)}function _t(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","change-list"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"card-list",[],null,[[null,"selectMap"],[null,"toggleCard"],[null,"selectFooterLink"]],function(t,e,n){var r=!0,i=t.component;return"selectMap"===e&&(r=!1!==i.displayMap(n)&&r),"toggleCard"===e&&(r=!1!==i.onToggleCard(n)&&r),"selectFooterLink"===e&&(r=!1!==i.onSelectFooterLink(n)&&r),r},Q,W)),r.hb(2,49152,null,0,q.a,[],{list:[0,"list"]},{selectMap:"selectMap",toggleCard:"toggleCard",selectFooterLink:"selectFooterLink"})],function(t,e){t(e,2,0,e.component.getLinesCards())},null)}function vt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,gt)),r.hb(2,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,yt)),r.hb(4,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,_t)),r.hb(6,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,!(!n.getStationCards().length||n.isLoadingData||n.showMap&&n.isMobileView())),t(e,4,0,!n.isLoadingData&&n.showAutoSuggest&&!n.showMap),t(e,6,0,n.showAutoSuggest&&!n.isLoadingData&&(!n.showMap||!n.isMobileView()))},null)}function bt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","change-list stations"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"card-list",[],null,[[null,"selectMap"],[null,"toggleCard"],[null,"selectFooterLink"]],function(t,e,n){var r=!0,i=t.component;return"selectMap"===e&&(r=!1!==i.displayMap(n)&&r),"toggleCard"===e&&(r=!1!==i.onToggleCard(n)&&r),"selectFooterLink"===e&&(r=!1!==i.onSelectFooterLink(n)&&r),r},Q,W)),r.hb(2,49152,null,0,q.a,[],{list:[0,"list"]},{selectMap:"selectMap",toggleCard:"toggleCard",selectFooterLink:"selectFooterLink"})],function(t,e){t(e,2,0,e.component.cardList)},null)}function xt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-map",[["class","map-component"]],null,[[null,"clickStopFeature"],[null,"clickRegionFeature"]],function(t,e,n){var r=!0,i=t.component;return"clickStopFeature"===e&&(r=!1!==i.onClickStopFeature(n)&&r),"clickRegionFeature"===e&&(r=!1!==i.onClickRegionFeature(n)&&r),r},$.b,$.a)),r.hb(1,638976,null,0,tt.a,[et.a,nt.a,l.a],{mapStyle:[0,"mapStyle"],bounds:[1,"bounds"],layers:[2,"layers"],sourceLayer:[3,"sourceLayer"],clickSourceLayer:[4,"clickSourceLayer"],popup:[5,"popup"],alwaysVisibleLayers:[6,"alwaysVisibleLayers"]},{clickStopFeature:"clickStopFeature",clickRegionFeature:"clickRegionFeature"})],function(t,e){var n=e.component;t(e,1,0,n.mapStyle,n.bounds,n.mapLayers,n.sourceLayers,n.clickSourceLayers,n.popup,n.selectedMode.alwaysVisibleLayers)},null)}function wt(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"div",[["class","col-sm-6 col-md-7 col-lg-8 map-container"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-map",[["class","map-component"]],null,[[null,"clickStopFeature"],[null,"clickRegionFeature"]],function(t,e,n){var r=!0,i=t.component;return"clickStopFeature"===e&&(r=!1!==i.onClickStopFeature(n)&&r),"clickRegionFeature"===e&&(r=!1!==i.onClickRegionFeature(n)&&r),r},$.b,$.a)),r.hb(2,638976,null,0,tt.a,[et.a,nt.a,l.a],{mapStyle:[0,"mapStyle"],bounds:[1,"bounds"],layers:[2,"layers"],sourceLayer:[3,"sourceLayer"],clickSourceLayer:[4,"clickSourceLayer"],popup:[5,"popup"],alwaysVisibleLayers:[6,"alwaysVisibleLayers"]},{clickStopFeature:"clickStopFeature",clickRegionFeature:"clickRegionFeature"})],function(t,e){var n=e.component;t(e,2,0,n.mapStyle,n.bounds,n.mapLayers,n.sourceLayers,n.clickSourceLayers,n.popup,n.selectedMode.alwaysVisibleLayers)},null)}function Mt(t){return r.Bb(0,[r.xb(671088640,1,{transportModesComponent:0}),r.xb(671088640,2,{stopSearchEl:0}),(t()(),r.ib(2,0,null,null,28,"div",[["class","metro-main-container"]],null,null,null,null,null)),(t()(),r.ib(3,0,null,null,27,"section",[["class","tfnsw-app-public"]],null,null,null,null,null)),(t()(),r.ib(4,0,null,null,26,"div",[["class","container-fluid map"]],null,null,null,null,null)),(t()(),r.ib(5,0,null,null,25,"div",[["class","row tile-item"]],null,null,null,null,null)),(t()(),r.ib(6,0,null,null,22,"div",[["class","col-xs-12 col-sm-6 col-md-5 col-lg-4 col-left map-container"]],[[2,"map-scroll",null]],null,null,null,null)),(t()(),r.ib(7,0,null,null,10,"div",[["class","list-header"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,ut)),r.hb(9,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,ct)),r.hb(11,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,pt)),r.hb(13,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,ht)),r.hb(15,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,dt)),r.hb(17,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(18,0,null,null,10,"div",[["class","tab-details"]],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,ft)),r.hb(20,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,mt)),r.hb(22,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,vt)),r.hb(24,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,bt)),r.hb(26,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,xt)),r.hb(28,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.Z(16777216,null,null,1,null,wt)),r.hb(30,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,9,0,n.displayModeHeading),t(e,11,0,n.selectedMode.showModes),t(e,13,0,n.selectedMode.showTabs),t(e,15,0,n.isMobileView()),t(e,17,0,!(n.showMap&&n.isMobileView()||""===n.tabMessage)),t(e,20,0,(!n.showMap||!n.isMobileView())&&n.showAutoSuggest),t(e,22,0,!n.showMap&&n.isLoadingData),t(e,24,0,n.showAutoSuggest),t(e,26,0,!(n.showAutoSuggest||n.isLoadingData||n.showMap&&n.isMobileView())),t(e,28,0,n.showMap&&n.isMobileView()),t(e,30,0,!n.isMobileView())},function(t,e){var n=e.component;t(e,6,0,n.isMobileView()&&n.showMap)})}function Ct(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,2,"metro-main",[],null,[["window","resize"]],function(t,e,n){var i=!0;return"window:resize"===e&&(i=!1!==r.sb(t,2).onResize(n)&&i),i},Mt,lt)),r.wb(512,null,rt.a,rt.a,[]),r.hb(2,4964352,null,0,it.a,[l.a,ot.a,at.a,st.a,u.a,rt.a],null,null)],function(t,e){t(e,2,0)},null)}var Lt=r.eb("metro-main",it.a,Ct,{},{},[])},xMyE:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("FFOo"),o=n("+umK"),a=n("2Bdj");function s(t,e,n){return function(r){return r.lift(new l(t,e,n))}}var l=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))},t}(),u=function(t){function e(e,n,r,i){var s=t.call(this,e)||this;return s._tapNext=o.a,s._tapError=o.a,s._tapComplete=o.a,s._tapError=r||o.a,s._tapComplete=i||o.a,Object(a.a)(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||o.a,s._tapError=n.error||o.a,s._tapComplete=n.complete||o.a),s}return r.c(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(i.a)},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},y4GE:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("CcnG"),i=n("eYWh"),o=n("ka1Z"),a=n("Ip0R"),s=n("0u4Y"),l=n("64ZZ"),u=n("3ZaB"),c=n("qi76"),p=n("DHEB"),h=r.gb({encapsulation:0,styles:[".twitter-handle-label[_ngcontent-%COMP%]{display:inline-block}.twitter-handle-label-container[_ngcontent-%COMP%]{margin-left:10px}.selected-twitter-handle-heading[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.selected-twitter-handle[_ngcontent-%COMP%]{padding:0}.selected-twitter-handle-heading[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:16px 16px}.selected-twitter-handle-body[_ngcontent-%COMP%]{padding:24px 16px}"],data:{}});function d(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(1,49152,null,0,o.a,[],{iconName:[0,"iconName"]},null)],function(t,e){t(e,1,0,r.kb(1,"",e.component.getIconByMode(e.parent.context.item._source.number,e.parent.context.item._source.payload.mode.code),""))},null)}function f(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,d)),r.hb(2,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(3,0,null,null,1,"strong",[["class","twitter-handle-label-container"]],null,null,null,null,null)),(t()(),r.zb(4,null,["",""])),(t()(),r.zb(5,null,[" - "," "]))],function(t,e){t(e,2,0,e.component.getIconByMode(e.context.item._source.number,e.context.item._source.payload.mode.code))},function(t,e){t(e,4,0,e.context.item._source.number),t(e,5,0,e.context.item._source.name)})}function m(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"tni-icon",[],null,null,null,i.b,i.a)),r.hb(1,49152,null,0,o.a,[],{iconName:[0,"iconName"]},null)],function(t,e){var n=e.component;t(e,1,0,r.kb(1,"",n.getIconByMode(n.tweet.number,n.tweet.payload.mode.code),""))},null)}function g(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,10,"div",[["class","selected-twitter-handle"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,6,"div",[["class","selected-twitter-handle-heading"]],null,null,null,null,null)),(t()(),r.ib(2,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.Z(16777216,null,null,1,null,m)),r.hb(4,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null),(t()(),r.ib(5,0,null,null,2,"div",[["class","twitter-handle-label-container"]],null,null,null,null,null)),(t()(),r.ib(6,0,null,null,1,"strong",[["class","twitter-handle-label"],["role",""],["tabindex","0"]],null,null,null,null,null)),(t()(),r.zb(7,null,[""," - ",""])),(t()(),r.ib(8,0,null,null,2,"div",[["class","selected-twitter-handle-body"]],null,null,null,null,null)),(t()(),r.ib(9,0,null,null,1,"a",[["tabindex","0"]],[[8,"href",4]],null,null,null,null)),(t()(),r.zb(10,null,[" Follow "," "]))],function(t,e){var n=e.component;t(e,4,0,n.getIconByMode(n.tweet.number,n.tweet.payload.mode.code))},function(t,e){var n=e.component;t(e,7,0,n.tweet.number,n.tweet.name),t(e,9,0,r.kb(1,"https://twitter.com/",n.tweet.payload.twitter[0],"")),t(e,10,0,n.tweet.payload.twitter[0])})}function y(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,3,"div",[["id","autosuggest-wrapper"]],null,null,null,null,null)),(t()(),r.ib(1,0,null,null,1,"tni-autosuggest",[["ariaLabel","Start typing, then use up and down keys and enter to select from list."],["displayProperty","name"],["hideDropdownHeader","true"],["id","twitterSearchAutocomplete"],["placeholder","Enter a line or route number"],["required","true"]],null,[[null,"selectItemChange"],["document","click"]],function(t,e,n){var i=!0,o=t.component;return"document:click"===e&&(i=!1!==r.sb(t,2).onDocumentClick(n)&&i),"selectItemChange"===e&&(i=!1!==o.selectTweet(n)&&i),i},s.b,s.a)),r.hb(2,4767744,[["autosuggest",4]],0,l.a,[u.a],{id:[0,"id"],required:[1,"required"],placeholder:[2,"placeholder"],ariaLabel:[3,"ariaLabel"],searchFn:[4,"searchFn"],displayProperty:[5,"displayProperty"],selectItem:[6,"selectItem"],resultTemplate:[7,"resultTemplate"],hideDropdownHeader:[8,"hideDropdownHeader"],showFooterBox:[9,"showFooterBox"]},{selectItemChange:"selectItemChange"}),(t()(),r.Z(0,[["template",2]],null,0,null,f)),(t()(),r.Z(16777216,null,null,1,null,g)),r.hb(5,16384,null,0,a.g,[r.G,r.D],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,"twitterSearchAutocomplete","true","Enter a line or route number","Start typing, then use up and down keys and enter to select from list.",n.searchTweet,"name",n.item,r.sb(e,3),"true",n.showFooterBox),t(e,5,0,n.tweet)},null)}function _(t){return r.Bb(0,[(t()(),r.ib(0,0,null,null,1,"app-twitter-handle-search",[],null,null,null,y,h)),r.hb(1,180224,null,0,c.a,[p.a],null,null)],null,null)}var v=r.eb("app-twitter-handle-search",c.a,_,{},{},[])},yM9K:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.forTest=function(){return{ngModule:t,providers:[]}},t.forRoot=function(){return{ngModule:t,providers:[]}},t}()},yPMs:function(t,e,n){!function(t){"use strict";n("wd/R").defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},yTny:function(t,e,n){"use strict";n("hpCz"),n.d(e,"b",function(){return"More info"}),n.d(e,"d",function(){return"Trip Planner"}),n.d(e,"c",function(){return"Timetable"}),n.d(e,"a",function(){return"Departures"})},yZql:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("wd/R"),i=function(){function t(){r.updateLocale("en",{relativeTime:{future:"in %",past:"% ago",s:"now",m:"%d min",mm:"%d min",h:"%d hour",hh:"%d hours",d:"%d day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},calendar:{lastDay:"[Yesterday (]ddd[)]",sameDay:"[Today (]ddd[)]",nextDay:"[Tomorrow (]ddd[)]",lastWeek:"D MMM[ (]ddd[)]",nextWeek:"D MMM[ (]ddd[)]",sameElse:"D MMM[ (]ddd[)]"}}),[{threshold:"s",limit:60},{threshold:"m",limit:60},{threshold:"h",limit:24}].forEach(function(t){r.relativeTimeThreshold(t.threshold,t.limit)}),r.relativeTimeRounding(Math.floor)}return t.prototype.transform=function(t){var e=r();return!t||e.isBefore(t)?null:t.isSame(e,"day")?r.duration(e.diff(t)).asMinutes()<1?null:{relativeTime:r(t).toNow(!0),suffix:"ago"}:{relativeTime:"",suffix:t.format("D MMM")}},t}()},z1FC:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[t+" m\xeduts",t+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[t+" \xfeoras",t+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return r?i[n][0]:e?i[n][0]:i[n][1]}n("wd/R").defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},z3Vd:function(t,e,n){!function(t){"use strict";var e="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t,n,r,i){var o=function(t){var n=Math.floor(t%1e3/100),r=Math.floor(t%100/10),i=t%10,o="";return n>0&&(o+=e[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+e[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+e[i]),""===o?"pagh":o}(t);switch(r){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}t.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu\u2019":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:n,m:"wa\u2019 tup",mm:n,h:"wa\u2019 rep",hh:n,d:"wa\u2019 jaj",dd:n,M:"wa\u2019 jar",MM:n,y:"wa\u2019 DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},zOFj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("8a/j"),i=n("Qn/6"),o=function(){function t(){}return t.prototype.get=function(t){var e=[];return t.forEach(function(t){if(t.value){var n={};switch(t.key){case r.a.moreInfo:n.name=i.n,n.icon="info",n.link=t.value,n.label="Display More Info";break;case r.a.timetable:n.name=i.p,n.icon="timetable",n.link=t.value,n.label="Display timetable";break;case r.a.departures:n.name=i.a,n.icon="arrow_from",n.link=t.value,n.label="Open Departures";break;case r.a.planTrip:n.name=i.q,n.icon="trip-planner",n.link=t.value,n.label="Open Trip Planner";break;case r.a.stationInfo:n.name=i.o,n.icon="info",n.link=t.value,n.label="Open Station info"}e.push(n)}}),e},t}()},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("rPjj"),i=n("Fxb1");function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}},zx6S:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))}}]);;
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(a,s,b){a.exports=b("zUnb")},RnhZ:function(a,s,b){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function t(a){var s=j(a);return b(s)}function j(a){var s=n[a];if(!(s+1)){var b=new Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b}return s}t.keys=function(){return Object.keys(n)},t.resolve=j,a.exports=t,t.id="RnhZ"},crnd:function(a,s){function b(a){return Promise.resolve().then(function(){var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s})}b.keys=function(){return[]},b.resolve=b,a.exports=b,b.id="crnd"},zUnb:function(a,s,b){"use strict";b.r(s);var n=b("CcnG"),t=b("Ifgn"),j=b("Eslu"),e=b("/hO8"),r=b("5WcC"),q=b("3fdv"),o=b("N467"),l=b("qi76"),i=b("srE5"),c=function(){function a(){this.tagComponentMapping={"tni-booking":t.a,"tni-plan":j.a,"tni-alerts-widget":e.a,"tni-trip-planner-tridget":o.a,"stationlink-main":r.a,"metro-main":q.a,"station-facilities":i.c,"stop-accessibility":i.b,"app-twitter-handle-search":l.a,"stop-routes-list":i.a}}return a.prototype.ngDoBootstrap=function(a){for(var s=0,b=Object.keys(this.tagComponentMapping);s<b.length;s++){var n=b[s];document.getElementsByTagName(n).length>0&&a.bootstrap(this.tagComponentMapping[n])}},a}(),u=b("+eoq"),d=b("2La6"),p=b("tuOl"),m=b("X2CI"),k=b("xEz5"),g=b("Y3k6"),h=b("Ex5S"),f=b("Aiio"),y=b("y4GE"),v=b("mpbb"),z=b("Ip0R"),O=b("ZYjt"),x=b("t/Na"),D=b("3ZaB"),w=b("9lgY"),E=b("T1BI"),U=b("kLtR"),C=b("dEht"),R=b("tUW/"),Y=b("4ATH"),B=b("w7Xv"),M=b("Uecl"),T=b("p7CD"),V=b("kz5P"),Z=b("E4Jq"),X=b("mr1O"),F=b("5IX/"),Q=b("lR7y"),I=b("UxfY"),N=b("+9V0"),J=b("UcfC"),L=b("gIcY"),W=b("GooZ"),P=b("nfFZ"),A=b("/Vdu"),S=b("J5xx"),K=b("/y3m"),G=b("lepT"),H=b("UTGZ"),_=b("gTB4"),$=b("DHEB"),aa=b("QJOd"),sa=b("lUqE"),ba=b("AfO8"),na=b("MCcF"),ta=b("oLF2"),ja=b("CLdD"),ea=b("d8H3"),ra=b("zOFj"),qa=b("Q6bz"),oa=b("N+V4"),la=b("nyDe"),ia=b("LZq5"),ca=b("OxXP"),ua=b("TY4Q"),da=b("dtn5"),pa=b("Yl2j"),ma=b("2On9"),ka=b("HrGG"),ga=b("EFUZ"),ha=b("gcOl"),fa=b("Fz3W"),ya=b("RyFW"),va=b("WERl"),za=b("3pWC"),Oa=b("LFOM"),xa=b("yM9K"),Da=b("BvNR"),wa=b("/JXh"),Ea=b("VTi8"),Ua=b("XAl4"),Ca=b("ND1Z"),Ra=b("8a0D"),Ya=b("lZPT"),Ba=b("n0B/"),Ma=b("+ZEM"),Ta=b("b5LC"),Va=b("GUKT"),Za=b("+TZ1"),Xa=b("PT6g"),Fa=b("RkwM"),Qa=b("0Nn5"),Ia=b("/8xC"),Na=b("ZxUa"),Ja=n.fb(c,[],function(a){return n.pb([n.qb(512,n.h,n.T,[[8,[u.a,d.a,p.a,m.a,k.a,g.a,h.a,f.a,y.a,v.a]],[3,n.h],n.r]),n.qb(5120,n.q,n.db,[[3,n.q]]),n.qb(4608,z.i,z.h,[n.q,[2,z.p]]),n.qb(4608,n.g,n.g,[]),n.qb(5120,n.a,n.ab,[]),n.qb(5120,n.o,n.bb,[]),n.qb(5120,n.p,n.cb,[]),n.qb(4608,O.b,O.k,[z.c]),n.qb(6144,n.B,null,[O.b]),n.qb(4608,O.e,O.g,[]),n.qb(5120,O.c,function(a,s,b,n,t,j,e,r){return[new O.i(a,s,b),new O.n(n),new O.m(t,j,e,r)]},[z.c,n.t,n.v,z.c,z.c,O.e,n.U,[2,O.f]]),n.qb(4608,O.d,O.d,[O.c,n.t]),n.qb(135680,O.l,O.l,[z.c]),n.qb(4608,O.j,O.j,[O.d,O.l]),n.qb(6144,n.z,null,[O.j]),n.qb(6144,O.o,null,[O.l]),n.qb(4608,n.E,n.E,[n.t]),n.qb(4608,x.j,x.p,[z.c,n.v,x.n]),n.qb(4608,x.q,x.q,[x.j,x.o]),n.qb(5120,x.a,function(a){return[a]},[x.q]),n.qb(4608,x.m,x.m,[]),n.qb(6144,x.k,null,[x.m]),n.qb(4608,x.i,x.i,[x.k]),n.qb(6144,x.b,null,[x.i]),n.qb(4608,x.g,x.l,[x.b,n.n]),n.qb(4608,x.c,x.c,[x.g]),n.qb(4608,D.a,D.a,[]),n.qb(4608,w.a,w.a,[x.c]),n.qb(4608,E.a,E.a,[]),n.qb(4608,U.a,U.a,[]),n.qb(4608,C.a,C.a,[x.c]),n.qb(4608,R.a,R.a,[]),n.qb(4608,Y.a,Y.a,[D.a]),n.qb(4608,B.a,B.a,[Y.a]),n.qb(4608,M.a,M.a,[Y.a]),n.qb(4608,T.a,T.a,[Y.a]),n.qb(4608,V.a,V.a,[Y.a]),n.qb(4608,Z.a,Z.a,[Y.a]),n.qb(4608,X.a,X.a,[Y.a]),n.qb(4608,F.a,F.a,[]),n.qb(4608,Q.a,Q.a,[]),n.qb(4608,I.a,I.a,[]),n.qb(4608,N.a,N.a,[]),n.qb(4608,J.a,J.a,[Y.a]),n.qb(4608,L.q,L.q,[]),n.qb(4608,W.a,W.a,[x.c]),n.qb(4608,P.a,P.a,[A.a]),n.qb(4608,S.a,S.a,[x.c]),n.qb(4608,K.a,K.a,[x.c]),n.qb(4608,G.a,G.a,[]),n.qb(4608,H.a,H.a,[Y.a]),n.qb(4608,_.a,_.a,[]),n.qb(4608,$.a,$.a,[x.c]),n.qb(4608,aa.a,aa.a,[D.a]),n.qb(4608,sa.a,sa.a,[x.c]),n.qb(4608,ba.a,ba.a,[]),n.qb(4608,na.a,na.a,[]),n.qb(4608,ta.a,ta.a,[Y.a]),n.qb(4608,ja.a,ja.a,[x.c]),n.qb(4608,ea.a,ea.a,[]),n.qb(4608,ra.a,ra.a,[]),n.qb(4608,qa.a,qa.a,[Y.a]),n.qb(4608,oa.a,oa.a,[x.c]),n.qb(4608,la.a,la.a,[x.c]),n.qb(4608,ia.a,ia.a,[x.c,la.a]),n.qb(4608,ca.a,ca.a,[]),n.qb(4608,ua.a,ua.a,[]),n.qb(4608,da.a,da.a,[]),n.qb(4608,pa.a,pa.a,[x.c]),n.qb(4608,ma.a,ma.a,[Y.a]),n.qb(4608,ka.a,ka.a,[]),n.qb(1073742336,z.b,z.b,[]),n.qb(1024,n.j,O.p,[]),n.qb(1024,n.b,function(a){return[O.q(a)]},[[2,n.s]]),n.qb(512,n.c,n.c,[[2,n.b]]),n.qb(131584,n.e,n.e,[n.t,n.U,n.n,n.j,n.h,n.c]),n.qb(1073742336,n.d,n.d,[n.e]),n.qb(1073742336,O.a,O.a,[[3,O.a]]),n.qb(1073742336,x.e,x.e,[]),n.qb(1073742336,x.d,x.d,[]),n.qb(1073742336,ga.a,ga.a,[]),n.qb(1073742336,ha.a,ha.a,[]),n.qb(1073742336,fa.a,fa.a,[]),n.qb(1073742336,ya.a,ya.a,[]),n.qb(1073742336,va.a,va.a,[]),n.qb(1073742336,za.a,za.a,[]),n.qb(1073742336,Oa.a,Oa.a,[]),n.qb(1073742336,L.o,L.o,[]),n.qb(1073742336,L.d,L.d,[]),n.qb(1073742336,xa.a,xa.a,[]),n.qb(1073742336,Da.a,Da.a,[]),n.qb(1073742336,wa.a,wa.a,[]),n.qb(1073742336,Ea.a,Ea.a,[]),n.qb(1073742336,Ua.a,Ua.a,[]),n.qb(1073742336,Ca.a,Ca.a,[]),n.qb(1073742336,Ra.a,Ra.a,[]),n.qb(1073742336,Ya.a,Ya.a,[]),n.qb(1073742336,Ba.a,Ba.a,[]),n.qb(1073742336,Ma.a,Ma.a,[]),n.qb(1073742336,Ta.a,Ta.a,[]),n.qb(1073742336,Va.a,Va.a,[]),n.qb(1073742336,Za.a,Za.a,[]),n.qb(1073742336,Xa.a,Xa.a,[]),n.qb(1073742336,Fa.a,Fa.a,[]),n.qb(1073742336,Qa.a,Qa.a,[]),n.qb(1073742336,Ia.a,Ia.a,[]),n.qb(1073742336,Na.a,Na.a,[]),n.qb(1073742336,c,c,[]),n.qb(256,n.S,!0,[]),n.qb(256,x.n,"XSRF-TOKEN",[]),n.qb(256,x.o,"X-XSRF-TOKEN",[]),n.qb(256,z.a,"/",[])])});Object(n.L)(),O.h().bootstrapModuleFactory(Ja)}},[[0,0,3]]]);;
