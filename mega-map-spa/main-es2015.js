(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+YVj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DistancePipe=void 0;const r=n("8Y7J");class i{transform(t){return!t||isNaN(t)||t<0?"":`(${t<=950?t+"m":(t/1e3).toFixed(1)+"km"})`}}e.DistancePipe=i,i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=r.\u0275\u0275definePipe({name:"distancePipe",type:i,pure:!0})},"+ZNT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShortPlatformService=void 0;const r=n("8Y7J");class i{getDestination(t){return(null==t?void 0:t.disassembledName)?t.disassembledName.split(",")[0]:(null==t?void 0:t.name)?t.name.split(",")[0]:"your destination"}getTravelInAdvice(t,e){return t&&t.travelInCarsFrom?e?t.travelInCarsFrom===t.travelInCarsTo?"Travel in car "+t.travelInCarsFrom:t.travelInCarsTo?`Travel in cars ${t.travelInCarsFrom} to ${t.travelInCarsTo}`:"Travel in car "+t.travelInCarsFrom:t.travelInCarsFrom===t.travelInCarsTo?"Car "+t.travelInCarsFrom:t.travelInCarsTo?`Car ${t.travelInCarsFrom}-${t.travelInCarsTo}`:"Car "+t.travelInCarsFrom:""}}e.ShortPlatformService=i,i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})},"+l4O":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesReducer=void 0;const r=n("KQMD"),i=n("wd/R"),o={departures:[],departuresRefreshList:[],departuresForm:null,isLoading:!1,systemMessages:null,departuresRequest:null,hasError:!1,showNewDepartureSearch:!0,selectedDeparture:null,modesByServingLines:null,errorMessage:null,lastRefreshed:null,selectedDepartureIndex:null,clearDeparturesForm:null,hasDetailError:!1};e.DeparturesReducer=function(t=o,e){switch(e.type){case r.DeparturesActionTypes.ShowNewDepartureSearch:return Object.assign({},Object.assign(Object.assign({},t),{showNewDepartureSearch:e.payload}));case r.DeparturesActionTypes.SearchDeparturesLoading:return Object.assign({},Object.assign(Object.assign({},t),{isLoading:e.payload}));case r.DeparturesActionTypes.SearchDepartures:return Object.assign({},Object.assign(Object.assign(Object.assign({},t),{hasError:!1}),e.payload));case r.DeparturesActionTypes.DeparturesResponse:return Object.assign({},Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),!e.payload.isRefresh&&{departures:e.payload.stopEvents,departuresRefreshList:[]}),e.payload.isRefresh&&{departuresRefreshList:e.payload.stopEvents}),e.payload.isRefresh&&!(null==t?void 0:t.departures)&&{departures:e.payload.stopEvents}),{isLoading:!1,hasError:!1,errorMessage:null,selectedDeparture:null,lastRefreshed:i().format("LTS")}));case r.DeparturesActionTypes.ClearDepartures:return Object.assign({},Object.assign(Object.assign({},t),{isLoading:!1,departures:[],hasError:!1,errorMessage:null,showNewDepartureSearch:e.payload.showNewSearchBtn,departuresForm:null,departuresRequest:Object.assign(Object.assign({},t.departuresRequest),{excludedModes:void 0}),clearDeparturesForm:e.payload.isUserClearedDep||!1}));case r.DeparturesActionTypes.SelectDeparture:return Object.assign(Object.assign({},t),{selectedDeparture:e.payload.departure,selectedDepartureIndex:e.payload.index,hasDetailError:!1});case r.DeparturesActionTypes.DepartureModesByLines:return Object.assign(Object.assign({},t),{modesByServingLines:e.payload.modes});case r.DeparturesActionTypes.DeparturesError:return Object.assign({},Object.assign(Object.assign({},t),{isLoading:!1,hasError:!0,departuresRequest:e.payload.departureReq,errorMessage:e.payload.errorMessage,departures:null}));case r.DeparturesActionTypes.DeparturesDetailError:return Object.assign({},Object.assign(Object.assign({},t),{hasDetailError:!0}));default:return t}}},"+pSP":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniIconModule=void 0;const r=n("SVse"),i=n("NiZn"),o=n("8Y7J");class a{}e.TniIconModule=a,a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({factory:function(t){return new(t||a)},imports:[[r.CommonModule,i.LottieModule]]})},"+s0g":function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},"+yMT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureFavouriteToastComponent=void 0;const r=n("GS7A"),i=n("kU1M"),o=n("qCKp"),a=n("xeYu"),s=n("8Y7J"),c=n("tqRt"),l=n("SVse"),u=n("0njA");function p(t,e){if(1&t&&(s.\u0275\u0275elementStart(0,"div",1),s.\u0275\u0275elementStart(1,"p",2),s.\u0275\u0275text(2),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(3,"tni-icon",3),s.\u0275\u0275elementStart(4,"span",4),s.\u0275\u0275text(5),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&t){const t=s.\u0275\u0275nextContext();s.\u0275\u0275property("@slideDown",void 0),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(t.toastMessage),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(t.toastMessage)}}class d{constructor(t){this.store=t,this.showToast=!1,this.toastMessage=null,this.destroy$=new o.Subject}ngOnInit(){this.store.pipe(a.selectIsDepartureFavourited()).pipe(i.takeUntil(this.destroy$)).subscribe(t=>{this.showToast=!0,this.toastMessage=t?"Added to favourites":"Removed from favourites",setTimeout(()=>{this.showToast=!1,this.toastMessage=null},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}e.DepartureFavouriteToastComponent=d,d.\u0275fac=function(t){return new(t||d)(s.\u0275\u0275directiveInject(c.Store))},d.\u0275cmp=s.\u0275\u0275defineComponent({type:d,selectors:[["tni-departure-favourite-toast"]],decls:1,vars:1,consts:[["class","tni-departure-favourite-toast",4,"ngIf"],[1,"tni-departure-favourite-toast"],["role","alert","aria-live","assertive",1,"sr-only"],["iconClasses","tp-icon sm favourite","iconName","star","iconAriaHidden","true"],["aria-hidden","true",1,"tni-departure-favourite-toast__message"]],template:function(t,e){1&t&&s.\u0275\u0275template(0,p,6,3,"div",0),2&t&&s.\u0275\u0275property("ngIf",e.showToast)},directives:[l.NgIf,u.IconComponent],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .tni-departure-favourite-toast[_ngcontent-%COMP%]{position:fixed;bottom:0;height:65px;width:inherit;background-color:#1d69b4;color:#fff;text-align:center}[_nghost-%COMP%]   .tni-departure-favourite-toast__message[_ngcontent-%COMP%]{display:inline-block;margin-top:21px;margin-left:8px;font-size:16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .tni-departure-favourite-toast[_ngcontent-%COMP%]{height:45px}[_nghost-%COMP%]   .tni-departure-favourite-toast__message[_ngcontent-%COMP%]{margin-top:12px}}  .tni-departure-favourite-toast .tp-icon{position:relative;height:18px;width:18px;min-width:15px;margin-top:-5px;margin-left:5px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .tni-departure-favourite-toast .tp-icon{height:15px;width:15px;margin-top:-7px}}"],data:{animation:[r.trigger("slideDown",[r.transition(":leave",[r.animate("0.4s ease-in-out",r.style({height:0}))])])]}})},"//9w":function(t,e,n){!function(t){"use strict";t.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},"/5D9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShortPlatformModalComponent=void 0;const r=n("8Y7J"),i=n("sYyf"),o=n("1z/I"),a=n("zpQm"),s=n("ywyY"),c=n("8Y7J"),l=n("lTCs"),u=n("NfbF"),p=n("1z/I"),d=n("ajRT"),h=n("SVse");function f(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"span"),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),2&t){const t=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ",t.travelIn," ")}}function m(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"span"),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),2&t){const t=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ",t.accessibleTravelIn," ")}}function g(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"p"),c.\u0275\u0275elementStart(1,"span",2),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t){const t=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate2(" ",t.travelIn,". This train is longer than the platform at ",t.destination,". ")}}function y(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"p"),c.\u0275\u0275elementStart(1,"span",2),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t){const t=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate2(" ",t.accessibleTravelIn,". This train is longer than the platform at ",t.destination,". ")}}function _(t,e){if(1&t){const t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"tni-modal",1),c.\u0275\u0275listener("closeEvent",(function(){return c.\u0275\u0275restoreView(t),c.\u0275\u0275nextContext().close()})),c.\u0275\u0275elementStart(2,"tni-modal-title"),c.\u0275\u0275elementStart(3,"h3",2),c.\u0275\u0275template(4,f,2,1,"span",3),c.\u0275\u0275template(5,m,2,1,"ng-template",null,4,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(7,"span",5),c.\u0275\u0275text(8),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(9,"div",6),c.\u0275\u0275elementStart(10,"p"),c.\u0275\u0275elementStart(11,"span",7),c.\u0275\u0275text(12),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(13,g,3,2,"p",3),c.\u0275\u0275template(14,y,3,2,"ng-template",null,8,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementStart(16,"span",9),c.\u0275\u0275text(17),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(18,"p"),c.\u0275\u0275text(19," Car 1 is the front car. "),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(20,"p"),c.\u0275\u0275elementStart(21,"a",10),c.\u0275\u0275listener("click",(function(){return c.\u0275\u0275restoreView(t),c.\u0275\u0275nextContext().trackMoreInfoClickAndNavigate()}))("keydown.enter",(function(){return c.\u0275\u0275restoreView(t),c.\u0275\u0275nextContext().trackMoreInfoClickAndNavigate()})),c.\u0275\u0275text(22,"Find out more"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(23,"tni-modal-custom-button"),c.\u0275\u0275elementStart(24,"button",11),c.\u0275\u0275listener("click",(function(){return c.\u0275\u0275restoreView(t),c.\u0275\u0275nextContext().close()})),c.\u0275\u0275text(25,"OK"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementContainerEnd()}if(2&t){const t=c.\u0275\u0275reference(6),e=c.\u0275\u0275reference(15),n=c.\u0275\u0275nextContext();c.\u0275\u0275advance(1),c.\u0275\u0275property("@fadeOutAnimation",void 0)("openingElement",n.shortPlatformElement)("fullscreenMobile",!0)("closeAtBottomLayout",!1),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngIf",1===n.travelIn.length)("ngIfElse",t),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate1("",n.accessibleTravelIn,"."),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate1("",n.travelIn," "),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",1===n.travelIn.length)("ngIfElse",e),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate2(" ",n.accessibleTravelIn,". This train is longer than the platform at ",n.destination,". ")}}class v{constructor(t,e){this.modalService=t,this.trackEventService=e,this.closeModal=new r.EventEmitter}set visible(t){t?this.modalService.addModalToBody(this.submitPortal):this.modalService.removeModalFromBody()}close(){this.closeModal.emit()}trackMoreInfoClickAndNavigate(){this.trackEventService.trackEvent(a.EventCategory.NIFShortPlatform,{action:s.EventAction.ModalMoreInfoClick}),window.open("https://transportnsw.info/short-platforms","_blank")}}e.ShortPlatformModalComponent=v,v.\u0275fac=function(t){return new(t||v)(c.\u0275\u0275directiveInject(l.ModalService),c.\u0275\u0275directiveInject(u.TrackEventService))},v.\u0275cmp=c.\u0275\u0275defineComponent({type:v,selectors:[["tni-short-platform-modal"]],viewQuery:function(t,e){var n;1&t&&c.\u0275\u0275staticViewQuery(o.CdkPortal,!0),2&t&&c.\u0275\u0275queryRefresh(n=c.\u0275\u0275loadQuery())&&(e.submitPortal=n.first)},inputs:{visible:"visible",travelIn:"travelIn",accessibleTravelIn:"accessibleTravelIn",destination:"destination"},outputs:{closeModal:"closeModal"},decls:1,vars:0,consts:[[4,"cdkPortal"],["ariaLabel","short platform","role","alertDialog","aria-labelledby","dialogTitle","aria-describedby","dialogDesc",3,"openingElement","fullscreenMobile","closeAtBottomLayout","closeEvent"],["aria-hidden","true"],[4,"ngIf","ngIfElse"],["notSameCarriages",""],["id","dialogTitle",1,"sr-only"],[1,"modal-text"],["aria-hidden","true",1,"short-platform-badge"],["travelInCars",""],["id","dialogDesc",1,"sr-only"],["href","javascript:;",3,"click","keydown.enter"],[1,"btn","btn-primary","btn-close-modal",3,"click"]],template:function(t,e){1&t&&c.\u0275\u0275template(0,_,26,12,"ng-container",0)},directives:[p.CdkPortal,d.ModalComponent,d.ModalTitleDirective,h.NgIf,d.ModalCustomButtonDirective],styles:[".short-platform-badge[_ngcontent-%COMP%]{color:#fff;background-color:#31393e;font-size:18px;font-weight:400;line-height:30px;border-radius:3px;max-width:40px;padding:3px 5px;top:40px}  .modal-header{text-align:center;border-bottom:1px solid #eaeaea!important;padding-bottom:20px!important;padding-top:20px!important;font-size:18px!important;font-weight:400!important;padding-left:55px!important}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .modal-header{text-align:left;padding-left:34px!important}}  .modal-footer{border-top:1px solid #eaeaea!important}  .modal-footer .btn-close-modal{height:48px!important;line-height:14px!important;font-size:16px!important;min-width:152px!important}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .modal-footer .btn-close-modal{width:100%!important}}tni-modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:2px}  .modal-box-body{font-size:16px}  .modal-box-body__text{padding:60px 24px 0}  .modal-box-body__text .modal-text{padding-bottom:100px!important;padding-top:35px!important;padding-left:32px;padding-right:32px;font-size:16px!important}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .modal-box-body__text .modal-text{padding-top:10px!important;padding-left:0;padding-right:0}}  .modal-box-body__text .modal-text p{margin:5px 0 24px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .modal-box-body__text .modal-text p{margin:0 0 24px}  .modal-box-body__text .modal-text p::first{margin-top:10px}}"],data:{animation:[i.fadeOutAnimation]}})},"/X5v":function(t,e,n){!function(t){"use strict";t.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},"/fmw":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OccupancyLevel=void 0,e.OccupancyLevel=function(t){return t.FULL="full",t.MEDIUM="medium",t.LOW="low",t}(e.OccupancyLevel||{})},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new a(t,this.compare,this.keySelector))}}class a extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"05l1":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("jtHE"),i=n("oB13");function o(t,e,n,o){n&&"function"!=typeof n&&(o=n);const a="function"==typeof n?n:void 0,s=new r.a(t,e,o);return t=>Object(i.a)(()=>s,a)(t)}},"08lQ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Location=void 0;const r=n("qKfS");class i{static fromJson(t){return t?"current_location"===t.type?i.createCurrentLocation():Object.assign(new i,t,{parent:t.parent?i.fromJson(t.parent):null,isCurrent:!1}):null}static fromStopResponse(t){if(!t)return null;const e=new i;return e.id=t.parent.id,e.shortName=t.parent.disassembledName,e.fullName=t.parent.name,e.type=t.parent.type,t.parent.parent&&(e.parent=i.fromXmlCoordResponse(t.parent)),e.coord=t.coord,e.isCurrent=!1,e}static fromPOIResponse(t){if(!t)return null;const e=new i;return e.id=t.id,e.fullName=t.name,e.shortName=t.name,e.type=t.type,e.coord=t.coord,t.parent&&(e.parent=i.fromPOIResponse(t.parent)),e.isCurrent=!1,e}static fromXmlCoordResponse(t){return t&&(t.parent||"platform"!==t.type)?"poi"===t.type?i.fromPOIResponse(t):i.fromStopResponse(t):null}static fromStopFinder(t){if(!t)return null;const e=new i;return e.id=t.id,e.shortName=t.disassembledName||t.name,e.fullName=t.name,e.motTypes=t.modes,e.type=t.type,t.parent&&(e.parent=i.fromStopFinder(t.parent)),e.coord=t.coord,e.matchQuality=t.matchQuality,e.isBest=t.isBest,e.buildingNumber=t.buildingNumber,e.isCurrent=!1,e.bbox=t.bbox,e}static createCurrentLocation(){const t=new i;return t.isCurrent=!0,t.type=r.LocationType.CurrentLocation,t.id="current_location",t.fullName="My current location",t.shortName="My current location",t}equals(t){return!!t&&(this===t||(this.isCurrent||t.isCurrent||this.id===t.id)&&this.type===t.type)}suburb(){return this.isLocality()?this.fullName:this.parent?this.parent.suburb():null}isLocality(){return this.type===r.LocationType.Locality||this.type===r.LocationType.Suburb||this.type===r.LocationType.District}isPOI(){return this.type===r.LocationType.POI}stopfinderName(){return this.isLocality()?this.fullName:(this.buildingNumber?this.buildingNumber+" ":"")+this.shortName}description(){let t=this.stopfinderName();return!this.isLocality()&&this.suburb()&&(t+=", "+this.suburb()),t}}e.Location=i},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"0ZrC":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LegFareComponent=void 0;const r=n("1z/I"),i=n("sYyf"),o=n("8Y7J"),a=n("lTCs"),s=n("SVse"),c=n("1z/I"),l=n("0njA"),u=n("ajRT"),p=["fareType"];function d(t,e){if(1&t){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",3),o.\u0275\u0275elementStart(1,"span",4,5),o.\u0275\u0275listener("keydown.enter",(function(e){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext().openOpalPayDialog(e)}))("click",(function(e){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext().openOpalPayDialog(e)})),o.\u0275\u0275element(3,"tni-icon",6),o.\u0275\u0275elementStart(4,"span",7),o.\u0275\u0275text(5,"Opalpay "),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(6,"available "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&t&&(o.\u0275\u0275advance(3),o.\u0275\u0275property("iconClasses","md left middle opal-pay")("iconAriaHidden",!0))}function h(t,e){1&t&&(o.\u0275\u0275elementStart(0,"span",8),o.\u0275\u0275elementStart(1,"span",7),o.\u0275\u0275text(2,"This is a free trip"),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(3,"Free"),o.\u0275\u0275elementEnd())}function f(t,e){1&t&&(o.\u0275\u0275elementStart(0,"span",8),o.\u0275\u0275elementStart(1,"span",7),o.\u0275\u0275text(2,"Opal is not available for thitrip"),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(3,"Opal not available"),o.\u0275\u0275elementEnd())}function m(t,e){1&t&&(o.\u0275\u0275elementStart(0,"span",8),o.\u0275\u0275elementStart(1,"span",7),o.\u0275\u0275text(2,"Fare is not available for this trip"),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(3,"Fare not available"),o.\u0275\u0275elementEnd())}function g(t,e){if(1&t){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"tni-modal",10),o.\u0275\u0275listener("closeEvent",(function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext(2).closeOpalPayDialog()})),o.\u0275\u0275elementStart(1,"tni-modal-title"),o.\u0275\u0275element(2,"tni-icon",6),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"div",11),o.\u0275\u0275elementStart(4,"p"),o.\u0275\u0275text(5," OpalPay allows you to pay with an Opal card, on selected private transport services. OpalPay fares are set by private operators and are not the same as Opal card or single trip ticket fares on the public transport network. "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"p"),o.\u0275\u0275text(7," OpalPay fares do not count towards the daily and weekly travel caps or incur any Opal benefits, such as travel discounts and the Opal trip advantage. "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"a",12),o.\u0275\u0275text(9," Find out more "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"tni-modal-custom-button"),o.\u0275\u0275elementStart(11,"button",13),o.\u0275\u0275listener("click",(function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext(2).closeOpalPayDialog()})),o.\u0275\u0275text(12,"OK"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&t&&(o.\u0275\u0275property("@fadeOutAnimation",void 0)("alignAtTop",!0)("fullscreenMobile",!0),o.\u0275\u0275advance(2),o.\u0275\u0275property("iconClasses","xl left middle opal-pay")("iconAriaHidden",!0))}function y(t,e){if(1&t&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,g,13,5,"tni-modal",9),o.\u0275\u0275elementContainerEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showOpalPayModal)}}class _{constructor(t){this.modalService=t}openOpalPayDialog(t){t.stopPropagation(),t.preventDefault(),this.modalService.addModalToBody(this.portal),this.showOpalPayModal=!0}closeOpalPayDialog(){this.modalService.removeModalFromBody(),this.showOpalPayModal=!1,setTimeout(()=>{this.fareTypeEl.nativeElement.focus()},200)}}e.LegFareComponent=_,_.\u0275fac=function(t){return new(t||_)(o.\u0275\u0275directiveInject(a.ModalService))},_.\u0275cmp=o.\u0275\u0275defineComponent({type:_,selectors:[["tni-leg-fare"]],viewQuery:function(t,e){var n;1&t&&(o.\u0275\u0275viewQuery(r.CdkPortal,!0),o.\u0275\u0275viewQuery(p,!0)),2&t&&(o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.portal=n.first),o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.fareTypeEl=n.first))},inputs:{isOpalNotAvailable:"isOpalNotAvailable",isOpalPay:"isOpalPay",isFreeService:"isFreeService",isFareNotAvailable:"isFareNotAvailable"},decls:5,vars:4,consts:[["class","pull-right journey-fare",4,"ngIf"],["class","pull-right no-fare",4,"ngIf"],[4,"cdkPortal"],[1,"pull-right","journey-fare"],["tabindex","0",1,"fareType","fare-type-opal-pay",3,"keydown.enter","click"],["fareType",""],["iconName","opal-pay","imageTitle","OpalPay",3,"iconClasses","iconAriaHidden"],[1,"sr-only"],[1,"pull-right","no-fare"],["class","opal-pay-modal-dialog","ariaLabel","Opalpay",3,"alignAtTop","fullscreenMobile","closeEvent",4,"ngIf"],["ariaLabel","Opalpay",1,"opal-pay-modal-dialog",3,"alignAtTop","fullscreenMobile","closeEvent"],[1,"opal-pay-text","modal-text"],["href","/opalpay","target","_blank"],[1,"btn","btn-primary","btn-close-modal",3,"click"]],template:function(t,e){1&t&&(o.\u0275\u0275template(0,d,7,2,"div",0),o.\u0275\u0275template(1,h,4,0,"span",1),o.\u0275\u0275template(2,f,4,0,"span",1),o.\u0275\u0275template(3,m,4,0,"span",1),o.\u0275\u0275template(4,y,2,1,"ng-container",2)),2&t&&(o.\u0275\u0275property("ngIf",e.isOpalPay),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.isFreeService),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.isOpalNotAvailable&&!e.isOpalPay),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.isFareNotAvailable))},directives:[s.NgIf,c.CdkPortal,l.IconComponent,u.ModalComponent,u.ModalTitleDirective,u.ModalCustomButtonDirective],styles:[".opal-pay-modal-dialog[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}.opal-pay-modal-dialog[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{bottom:1px}.fare-type-opal-pay[_ngcontent-%COMP%]{text-decoration:underline;color:#1d69b4}.fare-type-opal-pay[_ngcontent-%COMP%]:focus, .fare-type-opal-pay[_ngcontent-%COMP%]:hover{color:#124372}.leg-fare-type[_ngcontent-%COMP%]{cursor:auto}.journey-fare[_ngcontent-%COMP%]{cursor:pointer}.journey-fare[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-decoration:underline;font-size:16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.journey-fare[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}}svg.tp-icon.lg.left.middle.opal-pay[_ngcontent-%COMP%]{width:94px;height:56px;margin-right:2px}.btn-close-modal[_ngcontent-%COMP%]{width:130px;height:32px;font-size:14px;line-height:14px}.fare-modal[_ngcontent-%COMP%]{height:385px;overflow:auto;margin:10px 0;padding-bottom:8rem}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.fare-modal[_ngcontent-%COMP%]{height:90vh}}.btn-wrap[_ngcontent-%COMP%]{bottom:0}.pull-right[_ngcontent-%COMP%]{margin-right:20px;margin-top:8px}"],data:{animation:[i.fadeOutAnimation]}})},"0ile":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesHistoryListComponent=void 0;const r=n("qCKp"),i=n("Y7PD"),o=n("8Y7J"),a=n("tqRt"),s=n("SVse"),c=n("ITNc");function l(t,e){if(1&t&&o.\u0275\u0275element(0,"tni-departures-history-item",7),2&t){const t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("depHistoryData",t)}}function u(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"li",5),o.\u0275\u0275template(1,l,1,1,"tni-departures-history-item",6),o.\u0275\u0275elementEnd()),2&t){const t=e.index,n=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!(t>=n.limitTo))}}function p(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",3),o.\u0275\u0275elementStart(1,"ul"),o.\u0275\u0275template(2,u,2,1,"li",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",t.departureHistory)}}function d(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",8),o.\u0275\u0275elementStart(1,"p"),o.\u0275\u0275text(2,"No previous departures"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"span"),o.\u0275\u0275text(4,"Run a departure search above to view previous departures here"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function h(t,e){if(1&t){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275elementStart(1,"button",10),o.\u0275\u0275listener("click",(function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext().showMoreDepartures()})),o.\u0275\u0275text(2," Load more "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}}class f{constructor(t){this.stateStore=t,this.depHistoryFetched=!1,this.initialPastSearches=6,this.pastSearchesIncrement=6,this.maxPastSearches=60}ngOnInit(){this.subscriptionData=r.combineLatest([this.stateStore.select(i.DepartureHistorySelector)]).subscribe(([t])=>{this.departureHistory=t.data,this.depHistoryFetched=t.isComplete}),this.limitTo=this.initialPastSearches}ngOnDestroy(){this.subscriptionData.unsubscribe()}showMoreDepartures(){this.limitTo+=this.pastSearchesIncrement,this.limitTo>=this.maxPastSearches&&(this.limitTo=this.maxPastSearches)}}e.DeparturesHistoryListComponent=f,f.\u0275fac=function(t){return new(t||f)(o.\u0275\u0275directiveInject(a.Store))},f.\u0275cmp=o.\u0275\u0275defineComponent({type:f,selectors:[["tni-departures-history-list"]],decls:4,vars:3,consts:[["class","history-list",4,"ngIf"],["class","history-list empty-list",4,"ngIf"],["class","text-center xs mb-10","aria-hidden","true",4,"ngIf"],[1,"history-list"],["class","history-list-item",4,"ngFor","ngForOf"],[1,"history-list-item"],[3,"depHistoryData",4,"ngIf"],[3,"depHistoryData"],[1,"history-list","empty-list"],["aria-hidden","true",1,"text-center","xs","mb-10"],["type","button",1,"btn","btn-default","btn-secondary",3,"click"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,p,3,1,"div",0),o.\u0275\u0275template(2,d,5,0,"div",1),o.\u0275\u0275template(3,h,3,0,"div",2),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==e.departureHistory?null:e.departureHistory.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",0===(null==e.departureHistory?null:e.departureHistory.length)&&e.depHistoryFetched),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==e.departureHistory?null:e.departureHistory.length)&&(null==e.departureHistory?null:e.departureHistory.length)>e.limitTo&&e.limitTo<60))},directives:[s.NgIf,s.NgForOf,c.DeparturesHistoryItemComponent],styles:[".history-list[_ngcontent-%COMP%]{padding:8px 8px 16px}.history-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.history-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 18px;text-align:center;color:#555;font-size:14px;font-weight:500}.history-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}.history-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.empty-list[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:400}.empty-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.history-list-item[_ngcontent-%COMP%]{margin-bottom:8px}"]})},"0mo+":function(t,e,n){!function(t){"use strict";var e={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},n={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};t.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(t){return t.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===e&&t>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===e&&t<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":t<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":t<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":t<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(n("wd/R"))},"0mv7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureStopNameComponent=void 0;const r=n("8Y7J"),i=n("SVse"),o=n("q66I"),a=n("0njA");function s(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",5),r.\u0275\u0275element(1,"tni-short-platform",6),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("travelIn",t.travelIn)("accessibleTravelIn",t.accessibleTravelIn)}}function c(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",7),r.\u0275\u0275elementStart(1,"span",1),r.\u0275\u0275text(2,"This trip has Alert message"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(3,"tni-icon",8),r.\u0275\u0275elementEnd())}class l{}e.DepartureStopNameComponent=l,l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=r.\u0275\u0275defineComponent({type:l,selectors:[["tni-departure-stop-name"]],inputs:{stopName:"stopName",travelIn:"travelIn",hasHighPriorityAlerts:"hasHighPriorityAlerts",accessibleTravelIn:"accessibleTravelIn"},decls:7,vars:3,consts:[[1,"platform"],[1,"sr-only"],[1,"departing-location"],["class","short-platform",4,"ngIf"],["class","icon-alerts",4,"ngIf"],[1,"short-platform"],[3,"travelIn","accessibleTravelIn"],[1,"icon-alerts"],["iconAriaHidden","true","iconClasses","tp-icon xs alert-message-icon","iconName","alert-message"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275elementStart(1,"span",1),r.\u0275\u0275text(2,"From"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"span",2),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(5,s,2,2,"div",3),r.\u0275\u0275template(6,c,4,0,"div",4)),2&t&&(r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate1("",e.stopName," "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.travelIn),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.hasHighPriorityAlerts))},directives:[i.NgIf,o.ShortPlatformComponent,a.IconComponent],styles:[".departing-location[_ngcontent-%COMP%]{font-size:12px;color:#171717;line-height:18px;letter-spacing:.12px;text-align:left;font-weight:400;font-family:transtext-tp,sans-serif}.icon-alerts[_ngcontent-%COMP%]{float:right;margin-right:2px}.platform[_ngcontent-%COMP%]{float:left;padding-right:8px}.short-platform-message[_ngcontent-%COMP%]{color:#fff;background-color:#000;font-size:12px;font-weight:400;border-radius:3px;max-width:40px;padding:3px 5px}"]})},"0n+w":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextDepartureComponent=void 0;const r=n("cRl/"),i=n("iFc6"),o=n("wd/R"),a=n("8Y7J"),s=n("+ZNT"),c=n("SVse"),l=n("0njA"),u=n("q66I");function p(t,e){if(1&t&&a.\u0275\u0275element(0,"tni-icon",19),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275property("iconName",t.realTimeDepartureStatus)("iconAriaHidden",!0)}}function d(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",20),a.\u0275\u0275text(1,"Next day"),a.\u0275\u0275elementEnd())}function h(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",21),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(t.dayAfterDate)}}function f(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",22),a.\u0275\u0275elementStart(1,"span",3),a.\u0275\u0275text(2,"This is an accessible service"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(3,"tni-icon",23),a.\u0275\u0275elementEnd())}function m(t,e){1&t&&(a.\u0275\u0275elementStart(0,"span",3),a.\u0275\u0275text(1,"From"),a.\u0275\u0275elementEnd())}function g(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275element(1,"tni-short-platform",25),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("travelIn",t.travelIn)("accessibleTravelIn",t.accessibleTravelIn)}}const y=function(t){return[t]};class _{constructor(t){this.shortPlatformService=t}ngOnChanges(t){var e,n,r,i;if(null===(e=t.nextDeparture)||void 0===e?void 0:e.currentValue){this.nextDeparture=null===(n=t.nextDeparture)||void 0===n?void 0:n.currentValue,this.isRealTime=this.nextDeparture.isRealtimeControlled;const e=this._getDepartureTime(this.nextDeparture);this.departureTime=this._getTime(e),this.realTimeDepartureStatus=this.isRealTime&&this.nextDeparture.departureStatus?this.nextDeparture.departureStatus:null,this.realTimeLabel="on-time"===this.realTimeDepartureStatus?this.realTimeDepartureStatus:"running "+this.realTimeDepartureStatus,this.stopName=this._getStopName(this.nextDeparture),this.isAccessible=this.nextDeparture.isAccessible,this.showIsShortPlatform=null!==(i=null===(r=this.nextDeparture)||void 0===r?void 0:r.properties)&&void 0!==i?i:null,this.travelIn=this.shortPlatformService.getTravelInAdvice(this.showIsShortPlatform,!1),this.accessibleTravelIn=this.shortPlatformService.getTravelInAdvice(this.showIsShortPlatform,!0),this.isNextDayDeparture=this._isNextDayDeparture(this.nextDeparture),this.isDayAfterDeparture=this._isDayAfterDeparture(this.nextDeparture),this.dayAfterDate=this._getDayAfterDate(e)}}_getTime(t){return r.TimeZoneHelper.getFormattedDate(t,"HH:mm")}_getStopName(t){var e,n,r,o;return i.TniConstant.ICONIDS_FOR_COACHES.includes(null===(e=null==t?void 0:t.transportation)||void 0===e?void 0:e.iconId)?null===(r=null===(n=null==t?void 0:t.location)||void 0===n?void 0:n.parent)||void 0===r?void 0:r.disassembledName:null===(o=null==t?void 0:t.location)||void 0===o?void 0:o.platform}_getDepartureTime(t){return t.departureTimeEstimated?t.departureTimeEstimated:t.departureTimePlanned}_isNextDayDeparture(t){const e=o(this._getDepartureTime(t)).endOf("day"),n=o().endOf("day");return 1===e.diff(n,"days")}_isDayAfterDeparture(t){const e=o(this._getDepartureTime(t)).endOf("day"),n=o().endOf("day");return e.diff(n,"day")>1}_getDayAfterDate(t){return r.TimeZoneHelper.getFormattedDate(t,"D MMM")}}e.NextDepartureComponent=_,_.\u0275fac=function(t){return new(t||_)(a.\u0275\u0275directiveInject(s.ShortPlatformService))},_.\u0275cmp=a.\u0275\u0275defineComponent({type:_,selectors:[["tni-next-departure"]],inputs:{nextDeparture:"nextDeparture"},features:[a.\u0275\u0275NgOnChangesFeature],decls:27,vars:19,consts:[[1,"next-departure"],[1,"next-departure__result"],[1,"next-departure__time"],[1,"sr-only"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden",4,"ngIf"],[1,"next-departure__time-label"],[1,"next-departure__next-day"],["class","next-departure__next-day-indicator-message",4,"ngIf"],["class","next-departure__day-after-indicator-message",4,"ngIf"],[1,"next-departure__mode"],[1,"next-departure__mode-transport"],[1,"next-departure__indicators"],[1,"next-departure__name-and-accessible"],[1,"next-departure__destination_name"],["class","next-departure__icon-accessible",4,"ngIf"],[3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"next-departure__platform-name"],["class","next-departure__short-platform",4,"ngIf"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden"],[1,"next-departure__next-day-indicator-message"],[1,"next-departure__day-after-indicator-message"],[1,"next-departure__icon-accessible"],["iconAriaHidden","true","iconClasses","accessible tp-icon xs","iconName","accessible"],[1,"next-departure__short-platform"],[3,"travelIn","accessibleTravelIn"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275elementStart(3,"div"),a.\u0275\u0275elementStart(4,"span",3),a.\u0275\u0275text(5),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(6,p,1,2,"tni-icon",4),a.\u0275\u0275elementStart(7,"span",3),a.\u0275\u0275text(8,"Departing at"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"span",5),a.\u0275\u0275text(10),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div",6),a.\u0275\u0275template(12,d,2,0,"div",7),a.\u0275\u0275template(13,h,2,1,"div",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"div",9),a.\u0275\u0275elementStart(15,"span",10),a.\u0275\u0275text(16),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"div",11),a.\u0275\u0275elementStart(18,"div",12),a.\u0275\u0275elementStart(19,"div",13),a.\u0275\u0275text(20),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(21,f,4,0,"div",14),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(22,"div",15),a.\u0275\u0275template(23,m,2,0,"span",16),a.\u0275\u0275elementStart(24,"div",17),a.\u0275\u0275text(25),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(26,g,2,2,"div",18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(e.realTimeLabel),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.isRealTime&&e.realTimeDepartureStatus),a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(e.departureTime),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.isNextDayDeparture&&!e.isDayAfterDeparture),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.isDayAfterDeparture),a.\u0275\u0275advance(2),a.\u0275\u0275styleProp("background",e.nextDeparture.transportation.colour.foreground||"#000000")("color",e.nextDeparture.transportation.colour.text||"#ffffff"),a.\u0275\u0275attribute("aria-label",e.nextDeparture.transportation.name),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",e.nextDeparture.transportation.disassembledName," "),a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate1(" ",e.nextDeparture.transportation.destination.name," "),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.isAccessible),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(17,y,e.showIsShortPlatform?"next-departure__with-short-platform":"next-departure__without-short-platform")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.stopName),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.stopName),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.showIsShortPlatform))},directives:[c.NgIf,c.NgClass,l.IconComponent,u.ShortPlatformComponent],styles:[".next-departure__result[_ngcontent-%COMP%]{display:flex;margin-left:7px;margin-right:-8px;margin-bottom:5px}.next-departure__time[_ngcontent-%COMP%]{position:relative;margin-right:8px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__time[_ngcontent-%COMP%]{margin-right:0}}.next-departure__time-label[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.next-departure__mode[_ngcontent-%COMP%]{margin-right:8px;min-width:37px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__mode[_ngcontent-%COMP%]{margin-right:4px}}.next-departure__mode-transport[_ngcontent-%COMP%]{border-radius:3px;font-size:12px;font-weight:500;padding:0 7px;letter-spacing:.16px;line-height:20px;height:20px;display:inline-block;vertical-align:middle;color:#fff;margin-top:-2px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__mode-transport[_ngcontent-%COMP%]{margin-left:5px}}.next-departure__indicators[_ngcontent-%COMP%]{width:100%}.next-departure__destination_name[_ngcontent-%COMP%]{min-width:90%;font-weight:400;letter-spacing:.1px;vertical-align:middle;margin-left:4px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__destination_name[_ngcontent-%COMP%]{margin-left:8px;line-height:1.2}}.next-departure__name-and-accessible[_ngcontent-%COMP%]{display:flex}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__name-and-accessible[_ngcontent-%COMP%]{margin-top:3px;line-height:1.4}}.next-departure__with-short-platform[_ngcontent-%COMP%]{display:flex;margin-top:-4px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__with-short-platform[_ngcontent-%COMP%]{line-height:1.4}}.next-departure__without-short-platform[_ngcontent-%COMP%]{display:flex;margin-top:-8px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__without-short-platform[_ngcontent-%COMP%]{margin-top:-6px;min-width:122px;line-height:1.4}}.next-departure__platform-name[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;font-weight:500;letter-spacing:.1px;vertical-align:middle;margin-left:5px;margin-right:10px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__platform-name[_ngcontent-%COMP%]{margin-left:8px;min-width:69px;margin-right:0;margin-top:5px}}.next-departure__icon-accessible[_ngcontent-%COMP%]{position:absolute;right:0;color:#555}.next-departure__short-platform[_ngcontent-%COMP%]{margin-left:5px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__short-platform[_ngcontent-%COMP%]{margin-left:3px;margin-top:4px}}.next-departure__next-day[_ngcontent-%COMP%]{position:absolute;min-width:48px;margin-top:-9px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departure__next-day[_ngcontent-%COMP%]{margin-top:-7px;margin-left:1px}}.next-departure__day-after-indicator-message[_ngcontent-%COMP%], .next-departure__next-day-indicator-message[_ngcontent-%COMP%]{font-size:8.5px;font-weight:400;line-height:.8;margin-top:10px}"]})},"0njA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconComponent=void 0;const r=n("iFc6"),i=n("8Y7J"),o=n("SVse"),a=n("NiZn");function s(t,e){if(1&t&&(i.\u0275\u0275namespaceSVG(),i.\u0275\u0275elementStart(0,"title",5),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275propertyInterpolate("id",t.iconId),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(t.iconTitle)}}function c(t,e){if(1&t&&(i.\u0275\u0275namespaceSVG(),i.\u0275\u0275elementStart(0,"svg",2),i.\u0275\u0275template(1,s,2,2,"title",3),i.\u0275\u0275element(2,"use",4),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275propertyInterpolate("ngClass",t.iconClasses),i.\u0275\u0275attribute("aria-labelledby",t.iconId)("aria-hidden",!!t.iconAriaHidden),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!!t.iconTitle),i.\u0275\u0275advance(1),i.\u0275\u0275attribute("href",t.iconPath,null,"xlink")}}function l(t,e){if(1&t&&i.\u0275\u0275element(0,"ng-lottie",6),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275propertyInterpolate("ngClass",t.iconClasses),i.\u0275\u0275property("options",t.lottieConfig),i.\u0275\u0275attribute("aria-labelledby",t.iconId)("aria-hidden",!!t.iconAriaHidden)}}class u{constructor(){this.iconId="icon-"+ ++u.iconCounter}ngOnInit(){this.iconClasses&&(this.animate=this.iconClasses.split(" ").includes(r.TniConstant.ANIMATE_ICON),this.setAnimate(this.animate,this.iconName))}ngOnChanges(t){t&&t.iconName&&t.iconName.currentValue&&(this.iconPath=`${r.TniConstant.ICON_PATH}#tp_${t.iconName.currentValue}`,this.setAnimate(this.animate,t.iconName.currentValue))}setAnimate(t,e){t&&(this.lottieConfig={path:`${r.TniConstant.STATIC_ASSETS_BASE}/icons/${e}.json`,renderer:"svg"})}}e.IconComponent=u,u.iconCounter=0,u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=i.\u0275\u0275defineComponent({type:u,selectors:[["tni-icon"]],inputs:{iconName:"iconName",iconTitle:"iconTitle",iconClasses:"iconClasses",iconAriaHidden:"iconAriaHidden",iconHidden:"iconHidden"},features:[i.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[["role","img","class","tp-icon",3,"ngClass",4,"ngIf"],["class","tp-icon","role","img",3,"ngClass","options",4,"ngIf"],["role","img",1,"tp-icon",3,"ngClass"],[3,"id",4,"ngIf"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[3,"id"],["role","img",1,"tp-icon",3,"ngClass","options"]],template:function(t,e){1&t&&(i.\u0275\u0275template(0,c,3,5,"svg",0),i.\u0275\u0275template(1,l,1,4,"ng-lottie",1)),2&t&&(i.\u0275\u0275property("ngIf",!e.animate),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.animate))},directives:[o.NgIf,o.NgClass,a.LottieComponent],encapsulation:2})},"0tRk":function(t,e,n){!function(t){"use strict";t.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba"})}(n("wd/R"))},"1G5W":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(t){return e=>e.lift(new a(t))}class a{constructor(t){this.notifier=t}call(t,e){const n=new s(t),r=Object(i.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class s extends r.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1rYy":function(t,e,n){!function(t){"use strict";t.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(t){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(t)},meridiem:function(t){return t<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":t<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":t<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-\u056b\u0576":t+"-\u0580\u0564";default:return t}},week:{dow:1,doy:7}})}(n("wd/R"))},"1uah":function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u}));var r=n("yCtX"),i=n("DH7j"),o=n("7o/Q"),a=n("l7GE"),s=n("ZUHj"),c=n("Lhse");function l(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(r.a)(t,void 0).lift(new u(e))}class u{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new p(t,this.resultSelector))}}class p extends o.a{constructor(t,e,n=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=n}_next(t){const e=this.iterators;Object(i.a)(t)?e.push(new h(t)):e.push("function"==typeof t[c.a]?new d(t[c.a]()):new f(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe(e,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],a=e.next();if(e.hasCompleted()&&(r=!0),a.done)return void n.complete();i.push(a.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class d{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class h{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[c.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class f extends a.a{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[c.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return Object(s.a)(this,this.observable,this,e)}}},"1xZ4":function(t,e,n){!function(t){"use strict";t.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"\xe8";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n("wd/R"))},"1z/I":function(t,e,n){"use strict";n.r(e),n.d(e,"BasePortalHost",(function(){return p})),n.d(e,"BasePortalOutlet",(function(){return u})),n.d(e,"CdkPortal",(function(){return f})),n.d(e,"CdkPortalOutlet",(function(){return y})),n.d(e,"ComponentPortal",(function(){return s})),n.d(e,"DomPortal",(function(){return l})),n.d(e,"DomPortalHost",(function(){return h})),n.d(e,"DomPortalOutlet",(function(){return d})),n.d(e,"Portal",(function(){return a})),n.d(e,"PortalHostDirective",(function(){return _})),n.d(e,"PortalInjector",(function(){return M})),n.d(e,"PortalModule",(function(){return b})),n.d(e,"TemplatePortal",(function(){return c})),n.d(e,"TemplatePortalDirective",(function(){return m}));var r=n("8Y7J"),i=n("SVse");function o(){throw Error("Host already has a portal attached")}class a{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&o(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class s extends a{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class c extends a{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class l extends a{constructor(t){super(),this.element=t instanceof r.ElementRef?t.nativeElement:t}}class u{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&o(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof s?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof c?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof l?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class p extends u{}class d extends u{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class h extends d{}let f=(()=>{class t extends c{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.ViewContainerRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[r["\u0275\u0275InheritDefinitionFeature"]]}),t})(),m=(()=>{class t extends f{}return t.\u0275fac=function(e){return g(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[r["\u0275\u0275ProvidersFeature"]([{provide:f,useExisting:t}]),r["\u0275\u0275InheritDefinitionFeature"]]}),t})();const g=r["\u0275\u0275getInheritedFactory"](m);let y=(()=>{class t extends u{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.EventEmitter,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ComponentFactoryResolver),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](i.DOCUMENT))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r["\u0275\u0275InheritDefinitionFeature"]]}),t})(),_=(()=>{class t extends y{}return t.\u0275fac=function(e){return v(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[r["\u0275\u0275ProvidersFeature"]([{provide:y,useExisting:t}]),r["\u0275\u0275InheritDefinitionFeature"]]}),t})();const v=r["\u0275\u0275getInheritedFactory"](_);let b=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})();class M{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2SIV":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseFocusDirective=void 0;const r=n("8Y7J");class i{constructor(t){this.renderer=t}onClick(){this.renderer.addClass(document.body,"focus--mouse")}onKeyPress(){this.renderer.removeClass(document.body,"focus--mouse")}}e.MouseFocusDirective=i,i.\u0275fac=function(t){return new(t||i)(r.\u0275\u0275directiveInject(r.Renderer2))},i.\u0275dir=r.\u0275\u0275defineDirective({type:i,selectors:[["","mouseFocus",""]],hostBindings:function(t,e){1&t&&r.\u0275\u0275listener("click",(function(){return e.onClick()}),!1,r.\u0275\u0275resolveBody)("keyup",(function(){return e.onKeyPress()}),!1,r.\u0275\u0275resolveBody)}})},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2Vtg":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripHistoryModule=void 0;const r=n("PCNd"),i=n("SVse"),o=n("8Y7J");class a{}e.TripHistoryModule=a,a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({factory:function(t){return new(t||a)},imports:[[r.SharedModule,i.CommonModule]]})},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"2fjn":function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}(n("wd/R"))},"2wl8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopInfoComponent=void 0;const r=n("EiLY"),i=n("qCKp"),o=n("sYyf"),a=n("8Y7J"),s=n("MhY6"),c=n("tqRt"),l=n("SVse"),u=n("bm//"),p=n("0njA");function d(t,e){if(1&t&&a.\u0275\u0275element(0,"tni-icon",11),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275property("iconName",t.realTimeDepartureStatus)("iconAriaHidden",!0)}}function h(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275elementStart(1,"span",3),a.\u0275\u0275text(2,"This service does not stop here."),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",12),a.\u0275\u0275text(4," Does not stop "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function f(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",13),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" Stop ID: ",t.stopId," ")}}function m(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",14),a.\u0275\u0275elementStart(1,"span",15),a.\u0275\u0275listener("click",(function(e){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().switchToMapView(e)})),a.\u0275\u0275text(2," Map "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function g(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",16),a.\u0275\u0275elementStart(1,"div",17),a.\u0275\u0275elementStart(2,"span",3),a.\u0275\u0275text(3,"This is an accessible stop"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"tni-icon",18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}const y=function(t,e){return{"border-color":t,"background-color":e}};class _{constructor(t,e){this.windowRef=t,this.stateStore=e,this.subscriptions=new i.Subscription,this.isMobileView=this.windowRef.isMobileView()}switchToMapView(t){this.isMobileView&&(t.stopPropagation(),this.stateStore.dispatch(new r.SwitchAppViewAction({mobileMapView:!0})))}}e.StopInfoComponent=_,_.\u0275fac=function(t){return new(t||_)(a.\u0275\u0275directiveInject(s.WindowRef),a.\u0275\u0275directiveInject(c.Store))},_.\u0275cmp=a.\u0275\u0275defineComponent({type:_,selectors:[["tni-stop-info"]],inputs:{name:"name",time:"time",icon:"icon",stopId:"stopId",color:"color",borderColor:"borderColor",isAccessible:"isAccessible",showIsAccessible:"showIsAccessible",isRealTime:"isRealTime",isHighFrequency:"isHighFrequency",realTimeDepartureStatus:"realTimeDepartureStatus",isFirst:"isFirst",showDoesNotStop:"showDoesNotStop"},decls:15,vars:13,consts:[[1,"stop-info"],[1,"stop-info__time"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden",4,"ngIf"],[1,"sr-only"],[1,"stop-info__dot",3,"ngStyle"],[1,"stop-info__icon",3,"mode","iconSize"],[1,"stop-info__name"],[4,"ngIf"],["class","stop-info__stop-id",4,"ngIf"],["class","stop-info__map",4,"ngIf"],["class","stop-info__indicators",4,"ngIf"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden"],["aria-hidden","true","title","This service does not stop here.",1,"stop-info__does-not-stop"],[1,"stop-info__stop-id"],[1,"stop-info__map"],["role","button","tabindex","0","title","Open map view","aria-label","Open map view",1,"map-link",3,"click"],[1,"stop-info__indicators"],[1,"icon-accessible"],["iconAriaHidden","true","iconClasses","accessible tp-icon xs","iconName","accessible"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275template(2,d,1,2,"tni-icon",2),a.\u0275\u0275elementStart(3,"span",3),a.\u0275\u0275text(4,"departure time"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"span"),a.\u0275\u0275text(6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(7,"div",4),a.\u0275\u0275element(8,"tni-mode-icon",5),a.\u0275\u0275elementStart(9,"div",6),a.\u0275\u0275text(10),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,h,5,0,"div",7),a.\u0275\u0275template(12,f,2,1,"div",8),a.\u0275\u0275template(13,m,3,0,"div",9),a.\u0275\u0275template(14,g,5,0,"div",10),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.isFirst&&e.isRealTime),a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(e.time),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngStyle",a.\u0275\u0275pureFunction2(10,y,e.borderColor,e.color)),a.\u0275\u0275advance(1),a.\u0275\u0275property("mode",e.icon)("iconSize","sm-md"),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1(" ",e.name," "),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.showDoesNotStop),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.stopId),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.icon),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.isAccessible&&e.showIsAccessible&&!e.showDoesNotStop))},directives:[l.NgIf,l.NgStyle,u.ModeIconComponent,p.IconComponent],styles:["[_nghost-%COMP%]{display:block;position:relative;padding:12px 0 24px 32px;font-size:12px;letter-spacing:.1px;line-height:16px}.first[_nghost-%COMP%], .last[_nghost-%COMP%]{font-weight:500}[_nghost-%COMP%]   .stop-info__name[_ngcontent-%COMP%]{padding-left:48px;padding-right:16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .stop-info__name[_ngcontent-%COMP%]{padding-left:33px}}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .stop-info__map[_ngcontent-%COMP%]{position:absolute;right:-8px;top:37px;line-height:22px}}[_nghost-%COMP%]   .stop-info__icon[_ngcontent-%COMP%]{position:absolute;top:7px;left:43px;z-index:10;height:20px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .stop-info__icon[_ngcontent-%COMP%]{left:39px}[_nghost-%COMP%]   .stop-info__icon[_ngcontent-%COMP%]     .tp-icon{width:20px;min-width:20px;height:20px;margin-left:0;margin-top:2px}}[_nghost-%COMP%]   .stop-info__time[_ngcontent-%COMP%]{position:absolute;top:12px;left:0;font-size:12px}[_nghost-%COMP%]   .stop-info__indicators[_ngcontent-%COMP%]{position:absolute;right:-5px;top:11px}[_nghost-%COMP%]   .stop-info__stop-id[_ngcontent-%COMP%]{padding-left:48px;padding-top:16px;font-weight:200}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .stop-info__stop-id[_ngcontent-%COMP%]{padding-left:33px}}[_nghost-%COMP%]   .stop-info__dot[_ngcontent-%COMP%]{position:absolute;left:50px;width:10px;height:10px;border:2px solid #000;border-radius:8px;z-index:2;top:15px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .stop-info__dot[_ngcontent-%COMP%]{left:44px}}[_nghost-%COMP%]   .stop-info__does-not-stop[_ngcontent-%COMP%]{position:absolute;right:-5px;margin-top:-17px;height:18px;width:92px;color:#171717;font-size:12px;letter-spacing:.1px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #e7c943;border-radius:3px;background-color:#eed849;font-weight:500}@media (max-width:449px){[_nghost-%COMP%]   .stop-info__does-not-stop[_ngcontent-%COMP%]{display:none}}@media (min-width:768px){[_nghost-%COMP%]   .stop-info__does-not-stop[_ngcontent-%COMP%]{margin-top:14px}}[_nghost-%COMP%]   .stop-info__mode-transport[_ngcontent-%COMP%]{border-radius:3px;font-size:12px;font-weight:500;padding:0 5px;letter-spacing:.16px;line-height:20px;height:20px;display:inline-block;vertical-align:middle;color:#fff;margin-left:11px;margin-top:-2px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .stop-info__mode-transport[_ngcontent-%COMP%]{margin-left:5px}}.map-link[_ngcontent-%COMP%]{display:none;cursor:pointer;text-decoration:underline;color:#1d69b4;line-height:10px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.map-link[_ngcontent-%COMP%]{padding-top:26px;display:block}}"],data:{animation:[o.fadeOutAnimation]}})},"2ykv":function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},"3E1r":function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};t.defineLocale("hi",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924"===e?t<4?t:t+12:"\u0938\u0941\u092c\u0939"===e?t:"\u0926\u094b\u092a\u0939\u0930"===e?t>=10?t:t+12:"\u0936\u093e\u092e"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0930\u093e\u0924":t<10?"\u0938\u0941\u092c\u0939":t<17?"\u0926\u094b\u092a\u0939\u0930":t<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(n("wd/R"))},"3F7b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapPopup=void 0;const r=n("4ZJM"),i=n("MhY6"),o=n("iFc6"),a=n("8Y7J");class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}isMobileView(){return(new i.WindowRef).isMobileView()}createMessagePopup(t,e,n,i,o){if(void 0===o&&(o=!0),i&&this.removePopup(),e){const a=t.isOpalRetailer?this.generateOpalMessageMarkup(t):this.generateMessageMarkup(t);if(n){o&&this.isMobileView()&&this._autoPaneIfMobileView(e,n);const s=t.offset||0;this.popup=new r.Popup({offset:{top:[0,s],bottom:[0,-s],left:[s,0],right:[-s,0]},closeOnClick:i}),this.addPopup(this.popup,e,a,n)}}}_autoPaneIfMobileView(t,e){const n=e.getBounds(),r=n._sw.lng,i=n._ne.lng,o=e.getCenter(),a=i-r,s=(t[0]-r)/a;s>.1&&s<=.9&&e.panTo(s<=.2?[o.lng+(t[0]-r-.1*a),o.lat]:s>.2&&s<=.8?[t[0],o.lat]:[o.lng-(.9*a+r-t[0]),o.lat])}addPopup(t,e,n,r){e&&(Array.isArray(e)&&2===e.length||!Array.isArray(e)&&e.lng&&e.lat)&&t.setLngLat(e),t.setDOMContent(n),t.addTo(r)}removePopup(){this.popup&&this.popup.remove()}buildIcon(t,e){return'<svg class="'+t+'">\x3c!-- --\x3e<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+e+'"></use>\x3c!-- --\x3e</svg>'}generateMessageMarkup(t){const e=document,n=e.createElement("div");n.setAttribute("class","popup-container");const r=e.createElement("div"),i=e.createElement("h3");i.setAttribute("class","h4"),i.innerHTML=t.title,r.appendChild(i);const a=e.createElement("div");if(a.setAttribute("class","message"),a.innerHTML=t.messageBody,r.appendChild(a),n.appendChild(r),t.bottomContent){const r=e.createElement("div");r.setAttribute("class","mapboxgl-popup-content-bottom"),r.innerHTML=t.bottomContent,n.appendChild(r)}const s=[],c=e.createElement("div");t.links&&t.links.length>0&&(c.setAttribute("class","popup-footer-container"),t.links.forEach(t=>{if(!t.hideMap){const n=e.createElement("a");t.linkCallback?(n.setAttribute("href","javascript:;"),n.onclick=t.linkCallback):n.setAttribute("href",t.link);const r=e.createElement("div"),i=e.createElement("span");i.innerHTML=this.buildIcon("tp-icon xs",o.TniConstant.ICON_PATH+"#tp_"+t.icon),r.appendChild(i);const a=e.createElement("span");a.setAttribute("class","link-label"),a.innerHTML=t.name,r.appendChild(a),n.appendChild(r),c.appendChild(n),s.push(t)}}));const l=e.createElement("div");if(l.setAttribute("class","location"),t.colour&&l.setAttribute("style","border-left-color: "+t.colour),l.appendChild(n),s.length>0&&l.appendChild(c),t.departuresFromHereLink){const n=e.createElement("div");n.innerHTML='\n        <div class="popup-departures-from-here-container">\n            <h3 class="h4">View departures</h3>\n            <a href="javascript:;"><span class="link-label">From here</span></a>\n        </div>\n      ',n.querySelector("a").onclick=t.departuresFromHereLink,l.appendChild(n.firstElementChild)}return l}generateOpalMessageMarkup(t){const e=document,n=e.createElement("div");n.setAttribute("class","popup-container");const r=e.createElement("div");if(t.distanceFromPoint){const n=e.createElement("div");n.setAttribute("class","opal-retailer__distance"),n.innerHTML=""+t.distanceFromPoint,r.appendChild(n)}const i=e.createElement("h3");i.setAttribute("class","h4"),i.innerHTML=t.title,r.appendChild(i);const o=e.createElement("div");o.setAttribute("class","message"),o.innerHTML=t.messageBody,r.appendChild(o),n.appendChild(r);const a=[],s=e.createElement("div");if(s.setAttribute("class","location"),t.colour&&s.setAttribute("style","border-left-color: "+t.colour),s.appendChild(n),t.links&&t.links.length>0){const n=e.createElement("div");if(n.setAttribute("class","popup-opal-retailers-footer-container"),t.links.length>1){const r=e.createElement("a");r.setAttribute("href","tel:"+t.links[0].name),r.innerHTML=this.generateButtonContent("phone-outline",t.links[0].name),t.links[0].linkCallback&&(r.onclick=t.links[0].linkCallback),n.appendChild(r),a.push(t.links[0])}if(t.links.length>1&&t.links[1]||1===t.links.length&&t.links[0]){const r=t.links.length>1?t.links[1]:t.links[0],i=e.createElement("a");r.linkCallback?(i.setAttribute("href","javascript:;"),i.onclick=r.linkCallback):i.setAttribute("href",r.link),i.innerHTML=this.generateButtonContent(r.icon,r.name),n.appendChild(i),a.push(r)}s.appendChild(n)}return s}generateButtonContent(t="",e=""){return`\n    <div class="button-content">\n        ${""!==t?this.buildIcon("tp-icon xs",o.TniConstant.ICON_PATH+"#tp_"+t):""}\n        ${"phone-outline"===t?'<span class="sr-only">Call opal retailer followed by number</span>':"show_directions"===t?'<span class="sr-only">Plan a trip</span>':""}\n        <span>${e}</span>\n    </div>`}}e.MapPopup=s,s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=a.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac})},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3Pgj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectTripRequest=e.selectSystemMessages=e.selectTripResponseDurations=e.selectCycleJourneys=e.selectTripDetails=void 0;const r=n("tqRt"),i=n("p7t/"),o=n("6phY"),a=n("Y7PD"),s=n("yuJq");e.selectTripDetails=r.createFeatureSelector(a.TripDetailsSelector),e.selectCycleJourneys=r.createSelector(e.selectTripDetails,t=>t.cycle),e.selectTripResponseDurations=r.createSelector(e.selectTripDetails,o.getWalkSpeed,(t,e)=>{const n=t.journeys&&t.journeys.length>0&&t.journeys.map(t=>t.duration)||[0],r=t.taxiDrive&&t.taxiDrive.length>0&&t.taxiDrive.map(t=>t.duration)||[0],o=t.cycle?t.cycle.find(t=>t.cycleProfile===s.CycleProfile.Moderate):null,a=(null==o?void 0:o.duration)||0,c=t&&t.walk&&t.walk.length&&t.walk[0].legs&&t.walk[0].legs[0]&&t.walk[0].legs[0].distance?t.walk[0].legs[0].distance:0;return{publicTransport:(null==n?void 0:n.length)>0?Math.min(...n):null,taxiDrive:Math.min(...r),cycle:Math.min(a),walk:i.SpeedCalculationService.updateDurationBasedOnSpeed(c,e)}}),e.selectSystemMessages=r.createSelector(e.selectTripDetails,t=>t.systemMessages),e.selectTripRequest=r.createSelector(e.selectTripDetails,t=>t.tripRequest)},"3UWI":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("D0XW"),i=n("tnsW"),o=n("PqYM");function a(t,e=r.a){return Object(i.a)(()=>Object(o.a)(t,e))}},"3W3v":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPublicTransportResults=e.tripReducer=e.initialState=void 0;const r=n("xk7R"),i=n("ha9l"),o=n("EiLY"),a=n("5ApF"),s=n("bPm+");e.initialState=r.TripDetailsInitialState;const c=(t,e)=>{const n=t.legs[0].duration-e.legs[0].duration;if(0!==n)return n;const r=Math.min(...t.fares.map(t=>t.amountMin||t.amount))-Math.min(...e.fares.map(t=>t.amountMin||t.amount));return 0!==r?r:t.legs[0].transportation.operator.name.toUpperCase().charCodeAt(0)-e.legs[0].transportation.operator.name.toUpperCase().charCodeAt(0)};function l(t,e=[],n=[]){var r,o;const c=(null===(r=t.journeys)||void 0===r?void 0:r.filter(t=>t.type===i.JourneyType.PublicTransport))||[],l=c.filter(t=>t.legs.every(t=>t.isFootpath)&&t.legs.flatMap(t=>t.distance).reduce((t,e)=>t+e,0)<=2e3),u=c.filter(t=>t.legs.some(t=>!t.isFootpath)||t.legs.flatMap(t=>t.distance).reduce((t,e)=>t+e,0)>2e3),p=n.filter(t=>t.legs.every(t=>t.isFootpath)&&t.legs.flatMap(t=>t.distance).reduce((t,e)=>t+e,0)<=2e3),d=null===(o=t.tripRequest)||void 0===o?void 0:o.preferences,h=p.length>0?p:l;return d&&d.gettingFromMode===a.ItMode.Walk&&d.gettingToMode===a.ItMode.Walk&&h.every(t=>t.duration<=60*d.gettingFromValue&&t.duration<=60*d.gettingToValue)&&!t.tripRequest.filters.onlyAccessible&&d.tripPreference!==s.TripPreference.leastWalking?[...h,...e.reverse(),...u]:[...e.reverse(),...c]}e.tripReducer=function(t=e.initialState,n){switch(n.type){case o.TripActionTypes.TRIP_SEARCH_LOADING:return Object.assign({},Object.assign(Object.assign({},t),{isLoading:!0,hasError:!1}));case o.TripActionTypes.EARLIER_TRIPS_LOADING:return Object.assign({},Object.assign(Object.assign({},t),{isLoadingEarlier:!0}));case o.TripActionTypes.LATER_TRIPS_LOADING:return Object.assign({},Object.assign(Object.assign({},t),{isLoadingLater:!0}));case o.TripActionTypes.TAXI_TRIPS_LOADING:return Object.assign({},Object.assign(Object.assign({},t),{isTaxiLoading:!0}));case o.TripActionTypes.MULTI_CYCLE_ROUTES_LOADING:return Object.assign({},Object.assign(Object.assign({},t),{isCycleLoading:!0}));case o.TripActionTypes.TRIP_SEARCH:{const t=n.payload.tripResponse.journeys.filter(t=>t.type===i.JourneyType.Drive&&!t.isBookingRequired),e=n.payload.tripResponse.journeys.filter(t=>t.type===i.JourneyType.Drive&&t.isBookingRequired),r=n.payload.tripResponse.journeys.filter(t=>t.type===i.JourneyType.Walk),o=n.payload.tripResponse.journeys.filter(t=>t.type===i.JourneyType.Cycle);return Object.assign({},Object.assign(Object.assign({},n.payload.tripResponse),{isLoading:!1,hasError:!1,tripRequest:n.payload.tripRequest,journeys:l(Object.assign(Object.assign({},n.payload.tripResponse),{tripRequest:n.payload.tripRequest})),taxiDrive:t.sort(c).concat(e),walk:r,cycle:o}))}case o.TripActionTypes.TRIP_SEARCH_REFINE:return Object.assign({},Object.assign(Object.assign(Object.assign({},t),n.payload.tripResponse),{isLoading:!1,hasError:!1,tripRequest:n.payload.tripRequest,journeys:l(Object.assign(Object.assign({},n.payload.tripResponse),{tripRequest:n.payload.tripRequest}))}));case o.TripActionTypes.TAXI_SEARCH_RESPONSE:return Object.assign({},Object.assign(Object.assign({},t),{isLoading:!1,hasError:!1,isTaxiLoading:!1,taxiDrive:t.taxiDrive.concat(n.payload.tripResponse.journeys)}));case o.TripActionTypes.MULTI_CYCLE_ROUTES_RESPONSE:return Object.assign({},Object.assign(Object.assign({},t),{isLoading:!1,hasError:!1,isCycleLoading:!1,cycle:n.payload.tripResponse.journeys}));case o.TripActionTypes.TRIP_SEARCH_ERROR:return Object.assign({},Object.assign(Object.assign({},t),{isLoading:!1,hasError:!0,tripRequest:n.payload.tripRequest,errorMessage:n.payload.errorMessage}));case o.TripActionTypes.STORE_EARLIER_TRIPS:const e=n.payload.tripResponse.journeys.filter(t=>!(1===t.legs.length&&!t.legs[0].isPublicTransport)),r=n.payload.tripResponse.journeys.filter(t=>1===t.legs.length&&!t.legs[0].isPublicTransport),a=t.journeys.filter(t=>{var e,n;return 1===(null===(e=t.legs)||void 0===e?void 0:e.length)&&!(null===(n=t.legs[0])||void 0===n?void 0:n.isPublicTransport)}),s=t.journeys.filter(t=>{var e,n;return!(1===(null===(e=t.legs)||void 0===e?void 0:e.length)&&!(null===(n=t.legs[0])||void 0===n?void 0:n.isPublicTransport))});return Object.assign({},Object.assign(Object.assign({},t),{isLoading:!1,isLoadingEarlier:!1,isLoadingLater:!1,journeys:n.payload.tripAppend?[...s,...e,...a]:l(t,e,r)}));default:return t}},e.getPublicTransportResults=l},"3odx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tripHistoryReducer=e.initialState=void 0;const r=n("yqgP");e.initialState={data:[],isComplete:!1};const i=(t,e)=>e.isFav-t.isFav;e.tripHistoryReducer=function(t=e.initialState,n){switch(n.type){case r.TripHistoryActionTypes.INITIATE_STORE:return Object.assign({},Object.assign(Object.assign({},t),{data:n.payload.data,isComplete:!0}));case r.TripHistoryActionTypes.ADD_TRIP_HISTORY:const e=t.data.findIndex(t=>t.id===n.payload.tripHistory.id),o=e>-1?t.data[e]:n.payload.tripHistory,a=e>-1?[...t.data.slice(0,e),...t.data.slice(e+1)]:t.data;return Object.assign({},Object.assign(Object.assign({},t),{data:[o,...a].sort(i)}));case r.TripHistoryActionTypes.MARK_AS_FAV:const s=t.data.findIndex(t=>t.id===n.payload.id),c=t.data[s];return Object.assign({},Object.assign(Object.assign({},t),{data:[...t.data.slice(0,s),Object.assign(Object.assign({},c),{isFav:!c.isFav}),...t.data.slice(s+1)].sort(i)}));case r.TripHistoryActionTypes.REMOVE_TRIP_HISTORY_ITEM:const l=t.data.findIndex(t=>t.id===n.payload.id);return Object.assign({},Object.assign(Object.assign({},t),{data:[...t.data.slice(0,l),...t.data.slice(l+1)].sort(i)}));default:return t}}},"4A3s":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o)}}class o{call(t,e){return e.subscribe(new a(t))}}class a extends r.a{_next(t){}}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4MV3":function(t,e,n){!function(t){"use strict";var e={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},n={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};t.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ac7\u0ab9\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(t){return t.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0ab0\u0abe\u0aa4"===e?t<4?t:t+12:"\u0ab8\u0ab5\u0abe\u0ab0"===e?t:"\u0aac\u0aaa\u0acb\u0ab0"===e?t>=10?t:t+12:"\u0ab8\u0abe\u0a82\u0a9c"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0ab0\u0abe\u0aa4":t<10?"\u0ab8\u0ab5\u0abe\u0ab0":t<17?"\u0aac\u0aaa\u0acb\u0ab0":t<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(n("wd/R"))},"4TE5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BookingRequiredComponent=void 0;const r=n("8Y7J"),i=n("0njA");class o{}e.BookingRequiredComponent=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["tni-booking-required"]],inputs:{bookingInfo:"bookingInfo"},decls:5,vars:1,consts:[[1,"alert-message"],["iconClasses","booking tp-icon sm","iconName","booking"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275element(1,"tni-icon",1),r.\u0275\u0275text(2," Booking required"),r.\u0275\u0275element(3,"br"),r.\u0275\u0275element(4,"div",2),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(4),r.\u0275\u0275property("innerHTML",e.bookingInfo.urlText,r.\u0275\u0275sanitizeHtml))},directives:[i.IconComponent],styles:[".alert-message[_ngcontent-%COMP%]{font-size:14px;padding:12px;margin-bottom:4px;width:100%;background:#f2f2f2;border:1px solid #ccc;font-weight:400}"],changeDetection:0})},"4ZJM":function(t,e,n){t.exports=function(){"use strict";var t,e,n;function r(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),(n=i(a)).workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))}else e=i;else t=i}return r(0,(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r;function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=o;function o(t,e){this.x=t,this.y=e}function a(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!a(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!a(t[r],e[r]))return!1;return!0}return t===e}function s(t,e,r,i){var o=new n(t,e,r,i);return function(t){return o.solve(t)}}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-r*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var c=s(.25,.1,.25,1);function l(t,e,n){return Math.min(n,Math.max(e,t))}function u(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function p(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var d=1;function h(){return d++}function f(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function m(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function g(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function y(t,e){return-1!==t.indexOf(e,t.length-e.length)}function _(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function v(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function b(t){return Array.isArray(t)?t.map(b):"object"==typeof t&&t?_(t,b):t}var M={};function x(t){M[t]||("undefined"!=typeof console&&console.warn(t),M[t]=!0)}function w(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function C(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)e+=((a=t[i]).x-(o=t[n]).x)*(o.y+a.y);return e}function S(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function E(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var T=null;function O(t){if(null==T){var e=t.navigator?t.navigator.userAgent:null;T=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return T}function A(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var P,L,k,I,D=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),N=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,R=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,z={now:D,frame:function(t){var e=N(t);return{cancel:function(){return R(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=self.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return P||(P=self.document.createElement("a")),P.href=t,P.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==L&&(L=self.matchMedia("(prefers-reduced-motion: reduce)")),L.matches)}},F={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},j={supported:!1,testSupport:function(t){!B&&I&&(q?V(t):k=t)}},B=!1,q=!1;function V(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,I),t.isContextLost())return;j.supported=!0}catch(t){}t.deleteTexture(e),B=!0}self.document&&((I=self.document.createElement("img")).onload=function(){k&&V(k),k=null,q=!0},I.onerror=function(){B=!0,k=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Y="01",H=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function W(t){return 0===t.indexOf("mapbox:")}H.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Y,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},H.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},H.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},H.prototype.normalizeStyleURL=function(t,e){if(!W(t))return t;var n=J(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeGlyphsURL=function(t,e){if(!W(t))return t;var n=J(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeSourceURL=function(t,e){if(!W(t))return t;var n=J(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeSpriteURL=function(t,e,n,r){var i=J(t);return W(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+e+n,$(i))},H.prototype.normalizeTileURL=function(t,e,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),!e||!W(e))return t;var r=J(t);return r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,(z.devicePixelRatio>=2||512===n?"@2x":"")+(j.supported?".webp":"$1")),r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/v4"+r.path,F.REQUIRE_ACCESS_TOKEN&&(F.ACCESS_TOKEN||this._customAccessToken)&&this._skuToken&&r.params.push("sku="+this._skuToken),this._makeAPIURL(r,this._customAccessToken)},H.prototype.canonicalizeTileURL=function(t){var e=J(t);if(!e.path.match(/(^\/v4\/)/)||!e.path.match(/\.[\w]+$/))return t;var n="mapbox://tiles/";n+=e.path.replace("/v4/","");var r=e.params.filter((function(t){return!t.match(/^access_token=/)}));return r.length&&(n+="?"+r.join("&")),n},H.prototype.canonicalizeTileset=function(t,e){if(!W(e))return t.tiles||[];for(var n=[],r=0,i=t.tiles;r<i.length;r+=1){var o=this.canonicalizeTileURL(i[r]);n.push(o)}return n},H.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=J(F.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"/"!==r.path&&(t.path=""+r.path+t.path),!F.REQUIRE_ACCESS_TOKEN)return $(t);if(!(e=e||F.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),$(t)};var U=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(t){return U.test(t)}var G=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function J(t){var e=t.match(G);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function $(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function K(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(e[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return null}}var Z=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Z.prototype.getStorageKey=function(t){var e,n=K(F.ACCESS_TOKEN);return e=n&&n.u?self.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))}))):F.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},Z.prototype.fetchEventData=function(){var t=A("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var r=self.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=self.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){x("Unable to read from LocalStorage")}},Z.prototype.saveEventData=function(){var t=A("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{self.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){x("Unable to write to LocalStorage")}},Z.prototype.processRequests=function(t){},Z.prototype.postEvent=function(t,e,n,r){var i=this;if(F.EVENTS_URL){var o=J(F.EVENTS_URL);o.params.push("access_token="+(r||F.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.5.1",skuId:Y,userId:this.anonId},s=e?p(a,e):a,c={url:$(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=bt(c,(function(t){i.pendingRequest=null,n(t),i.saveEventData(),i.processRequests(r)}))}},Z.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var Q,tt,et=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,r){this.skuToken=n,(F.EVENTS_URL&&r||F.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return W(t)||X(t)})))&&this.queueRequest({id:e,timestamp:Date.now()},r)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=f()),this.postEvent(i,{skuToken:this.skuToken},(function(t){t||r&&(e.success[r]=!0)}),t))}},e}(Z),nt=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){F.EVENTS_URL&&F.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return W(t)||X(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=K(F.ACCESS_TOKEN),r=n?n.u:F.ACCESS_TOKEN,i=r!==this.eventData.tokenU;m(this.anonId)||(this.anonId=f(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),c=(o-this.eventData.lastSuccess)/864e5;i=i||c>=1||c<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)}),t)}},e}(Z)),rt=nt.postTurnstileEvent.bind(nt),it=new et,ot=it.postMapLoadEvent.bind(it),at="mapbox-tiles",st=500,ct=50;function lt(){self.caches&&!Q&&(Q=self.caches.open(at))}function ut(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var pt=1/0,dt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(dt);var ht=function(t){function e(e,n,r){401===n&&X(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error);function ft(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var mt,gt,yt=ft()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href},_t=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(yt())&&!/^\w+:/.test(n))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,r=new self.AbortController,i=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:yt(),signal:r.signal}),o=!1,a=!1,s=(n=i.url).indexOf("sku=")>0&&X(n);"json"===t.type&&i.headers.set("Accept","application/json");var c=function(n,r,o){if(!a){if(n&&"SecurityError"!==n.message&&x(n),r&&o)return l(r);var c=Date.now();self.fetch(i).then((function(n){if(n.ok){var r=s?n.clone():null;return l(n,r,c)}return e(new ht(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},l=function(n,r,s){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){a||(r&&s&&function(t,e,n){if(lt(),Q){var r={status:e.status,statusText:e.statusText,headers:new self.Headers};e.headers.forEach((function(t,e){return r.headers.set(e,t)}));var i=E(e.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===tt)try{new Response(new ReadableStream),tt=!0}catch(t){tt=!1}tt?e(t.body):t.blob().then(e)}(e,(function(e){var n=new self.Response(e,r);lt(),Q&&Q.then((function(e){return e.put(ut(t.url),n)})).catch((function(t){return x(t.message)}))})))}}(i,r,s),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){return e(new Error(t.message))}))};return s?function(t,e){if(lt(),!Q)return e(null);var n=ut(t.url);Q.then((function(t){t.match(n).then((function(r){var i=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=E(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(r);t.delete(n),i&&t.put(n,r.clone()),e(null,r,i)})).catch(e)})).catch(e)}(i,c):c(null,null),{cancel:function(){a=!0,o||r.abort()}}}(t,e);if(ft()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new self.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new ht(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},vt=function(t,e){return _t(p(t,{type:"arrayBuffer"}),e)},bt=function(t,e){return _t(p(t,{method:"POST"}),e)};mt=[],gt=0;var Mt=function(t,e){if(gt>=F.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return mt.push(n),n}gt++;var r=!1,i=function(){if(!r)for(r=!0,gt--;mt.length&&gt<F.MAX_PARALLEL_IMAGE_REQUESTS;){var t=mt.shift();t.cancelled||(t.cancel=Mt(t.requestParameters,t.callback).cancel)}},o=vt(t,(function(t,n,r,o){if(i(),t)e(t);else if(n){var a=new self.Image,s=self.URL||self.webkitURL;a.onload=function(){e(null,a),s.revokeObjectURL(a.src)},a.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var c=new self.Blob([new Uint8Array(n)],{type:"image/png"});a.cacheControl=r,a.expires=o,a.src=n.byteLength?s.createObjectURL(c):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}));return{cancel:function(){o.cancel(),i()}}};function xt(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function wt(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var Ct=function(t,e){void 0===e&&(e={}),p(this,e),this.type=t},St=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",p({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ct),Et=function(){};Et.prototype.on=function(t,e){return this._listeners=this._listeners||{},xt(t,e,this._listeners),this},Et.prototype.off=function(t,e){return wt(t,e,this._listeners),wt(t,e,this._oneTimeListeners),this},Et.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},xt(t,e,this._oneTimeListeners),this},Et.prototype.fire=function(t,e){"string"==typeof t&&(t=new Ct(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];wt(n,s,this._oneTimeListeners),s.call(this,t)}var c=this._eventedParent;c&&(p(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),c.fire(t))}else t instanceof St&&console.error(t.error);return this},Et.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Et.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Tt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Ot=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function At(t){var e=t.value;return e?[new Ot(t.key,e,"constants have been deprecated as of v8")]:[]}function Pt(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function Lt(t){return t instanceof Number||t instanceof String||t instanceof Boolean}function kt(t){return Lt(t)?t.valueOf():t}function It(t){if(Array.isArray(t))return t.map(It);if(t instanceof Object&&!Lt(t)){var e={};for(var n in t)e[n]=It(t[n]);return e}return kt(t)}var Dt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Nt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Nt.prototype.concat=function(t){return new Nt(this,t)},Nt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Nt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Rt={kind:"null"},zt={kind:"number"},Ft={kind:"string"},jt={kind:"boolean"},Bt={kind:"color"},qt={kind:"object"},Vt={kind:"value"},Yt={kind:"collator"},Ht={kind:"formatted"},Wt={kind:"resolvedImage"};function Ut(t,e){return{kind:"array",itemType:t,N:e}}function Xt(t){if("array"===t.kind){var e=Xt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Gt=[Rt,zt,Ft,jt,Bt,Ht,qt,Ut(Vt),Wt];function Jt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Jt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=Gt;n<r.length;n+=1)if(!Jt(r[n],e))return null}return"Expected "+Xt(t)+" but found "+Xt(e)+" instead."}var $t=e((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return function(t){return t<0?0:t>1?1:t}("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var c=s.indexOf("("),l=s.indexOf(")");if(-1!==c&&l+1===s.length){var u=s.substr(0,c),p=s.substr(c+1,l-(c+1)).split(","),d=1;switch(u){case"rgba":if(4!==p.length)return null;d=o(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),d];case"hsla":if(4!==p.length)return null;d=o(p.pop());case"hsl":if(3!==p.length)return null;var h=(parseFloat(p[0])%360+360)%360/360,f=o(p[1]),m=o(p[2]),g=m<=.5?m*(f+1):m+f-m*f,y=2*m-g;return[r(255*a(y,g,h+1/3)),r(255*a(y,g,h)),r(255*a(y,g,h-1/3)),d];default:return null}}return null}}catch(t){}})).parseCSSColor,Kt=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};Kt.parse=function(t){if(t){if(t instanceof Kt)return t;if("string"==typeof t){var e=$t(t);if(e)return new Kt(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},Kt.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],r=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+r+")"},Kt.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},Kt.black=new Kt(0,0,0,1),Kt.white=new Kt(1,1,1,1),Kt.transparent=new Kt(0,0,0,0),Kt.red=new Kt(1,0,0,1);var Zt=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Zt.prototype.compare=function(t,e){return this.collator.compare(t,e)},Zt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Qt=function(t,e,n,r){this.text=t,this.scale=e,this.fontStack=n,this.textColor=r},te=function(t){this.sections=t};te.fromString=function(t){return new te([new Qt(t,null,null,null)])},te.prototype.toString=function(){return this.sections.map((function(t){return t.text})).join("")},te.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}return t};var ee=function(t){this.name=t.name,this.available=t.available};function ne(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function re(t){if(null===t)return Rt;if("string"==typeof t)return Ft;if("boolean"==typeof t)return jt;if("number"==typeof t)return zt;if(t instanceof Kt)return Bt;if(t instanceof Zt)return Yt;if(t instanceof te)return Ht;if(t instanceof ee)return Wt;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=re(i[r]);if(e){if(e===o)continue;e=Vt;break}e=o}return Ut(e||Vt,n)}return qt}function ie(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof Kt||t instanceof te||t instanceof ee?t.toString():JSON.stringify(t)}ee.prototype.toString=function(){return this.name},ee.fromString=function(t){return new ee({name:t,available:!1})},ee.prototype.serialize=function(){return["image",this.name]};var oe=function(t,e){this.type=t,this.value=e};oe.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Kt)return!0;if(e instanceof Zt)return!0;if(e instanceof te)return!0;if(e instanceof ee)return!0;if(Array.isArray(e)){for(var n=0,r=e;n<r.length;n+=1)if(!t(r[n]))return!1;return!0}if("object"==typeof e){for(var i in e)if(!t(e[i]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");var n=t[1],r=re(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new oe(r,n)},oe.prototype.evaluate=function(){return this.value},oe.prototype.eachChild=function(){},oe.prototype.possibleOutputs=function(){return[this.value]},oe.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Kt?["rgba"].concat(this.value.toArray()):this.value instanceof te?this.value.serialize():this.value};var ae=function(t){this.name="ExpressionEvaluationError",this.message=t};ae.prototype.toJSON=function(){return this.message};var se={string:Ft,number:zt,boolean:jt,object:qt},ce=function(t,e){this.type=t,this.args=e};ce.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in se)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=se[s],r++}else o=Vt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=Ut(o,a)}else n=se[i];for(var c=[];r<t.length;r++){var l=e.parse(t[r],r,Vt);if(!l)return null;c.push(l)}return new ce(n,c)},ce.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Jt(this.type,re(n)))return n;if(e===this.args.length-1)throw new ae("Expected value to be of type "+Xt(this.type)+", but found "+Xt(re(n))+" instead.")}return null},ce.prototype.eachChild=function(t){this.args.forEach(t)},ce.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},ce.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var le=function(t){this.type=Ht,this.sections=t};le.parse=function(t,e){if(t.length<3)return e.error("Expected at least two arguments.");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");for(var n=[],r=1;r<t.length-1;r+=2){var i=e.parse(t[r],1,Vt);if(!i)return null;var o=i.type.kind;if("string"!==o&&"value"!==o&&"null"!==o)return e.error("Formatted text type must be 'string', 'value', or 'null'.");var a=t[r+1];if("object"!=typeof a||Array.isArray(a))return e.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,zt)))return null;var c=null;if(a["text-font"]&&!(c=e.parse(a["text-font"],1,Ut(Ft))))return null;var l=null;if(a["text-color"]&&!(l=e.parse(a["text-color"],1,Bt)))return null;n.push({text:i,scale:s,font:c,textColor:l})}return new le(n)},le.prototype.evaluate=function(t){return new te(this.sections.map((function(e){return new Qt(ie(e.text.evaluate(t)),e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},le.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.text),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}},le.prototype.possibleOutputs=function(){return[void 0]},le.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}return t};var ue=function(t){this.type=Wt,this.input=t};ue.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Ft);return n?new ue(n):e.error("No image name provided.")},ue.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=!1;return t.availableImages&&t.availableImages.indexOf(e)>-1&&(n=!0),new ee({name:e,available:n})},ue.prototype.eachChild=function(t){t(this.input)},ue.prototype.possibleOutputs=function(){return[void 0]},ue.prototype.serialize=function(){return["image",this.input.serialize()]};var pe={"to-boolean":jt,"to-color":Bt,"to-number":zt,"to-string":Ft},de=function(t,e){this.type=t,this.args=e};de.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=pe[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,Vt);if(!a)return null;i.push(a)}return new de(r,i)},de.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof Kt)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":ne(e[0],e[1],e[2],e[3])))return new Kt(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ae(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,c=this.args;s<c.length;s+=1){if(null===(a=c[s].evaluate(t)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new ae("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?te.fromString(ie(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ee.fromString(ie(this.args[0].evaluate(t))):ie(this.args[0].evaluate(t))},de.prototype.eachChild=function(t){this.args.forEach(t)},de.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},de.prototype.serialize=function(){if("formatted"===this.type.kind)return new le([{text:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ue(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var he=["Unknown","Point","LineString","Polygon"],fe=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};fe.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},fe.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?he[this.feature.type]:this.feature.type:null},fe.prototype.properties=function(){return this.feature&&this.feature.properties||{}},fe.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Kt.parse(t)),e};var me=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};me.prototype.evaluate=function(t){return this._evaluate(t,this.args)},me.prototype.eachChild=function(t){this.args.forEach(t)},me.prototype.possibleOutputs=function(){return[void 0]},me.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},me.parse=function(t,e){var n,r=t[0],i=me.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),c=null,l=0,u=s;l<u.length;l+=1){var p=u[l],d=p[0],h=p[1];c=new Me(e.registry,e.path,null,e.scope);for(var f=[],m=!1,g=1;g<t.length;g++){var y=t[g],_=Array.isArray(d)?d[g-1]:d.type,v=c.parse(y,1+f.length,_);if(!v){m=!0;break}f.push(v)}if(!m)if(Array.isArray(d)&&d.length!==f.length)c.error("Expected "+d.length+" arguments, but found "+f.length+" instead.");else{for(var b=0;b<f.length;b++){var M=Array.isArray(d)?d[b]:d.type,x=f[b];c.concat(b+1).checkSubtype(M,x.type)}if(0===c.errors.length)return new me(r,o,h,f)}}if(1===s.length)(n=e.errors).push.apply(n,c.errors);else{for(var w=(s.length?s:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Xt).join(", ")+")":"("+Xt(e.type)+"...)"})).join(" | "),C=[],S=1;S<t.length;S++){var E=e.parse(t[S],1+C.length);if(!E)return null;C.push(Xt(E.type))}e.error("Expected arguments of type "+w+", but found ("+C.join(", ")+") instead.")}return null},me.register=function(t,e){for(var n in me.definitions=e,e)t[n]=me};var ge=function(t,e,n){this.type=Yt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function ye(t){if(t instanceof me){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!ye(t)&&(e=!1)})),e}function _e(t){if(t instanceof me&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!_e(t)&&(e=!1)})),e}function ve(t,e){if(t instanceof me&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!ve(t,e)&&(n=!1)})),n}ge.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,jt);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,jt);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,Ft))?null:new ge(r,i,o)},ge.prototype.evaluate=function(t){return new Zt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ge.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ge.prototype.possibleOutputs=function(){return[void 0]},ge.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var be=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};be.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new be(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},be.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},be.prototype.eachChild=function(){},be.prototype.possibleOutputs=function(){return[void 0]},be.prototype.serialize=function(){return["var",this.name]};var Me=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new Nt),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function xe(t,e){for(var n,r=t.length-1,i=0,o=r,a=0;i<=o;)if((n=t[a=Math.floor((i+o)/2)])<=e){if(a===r||e<t[a+1])return a;i=a+1}else{if(!(n>e))throw new ae("Input is not a number.");o=a-1}return 0}Me.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Me.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new ce(e,[t]):"coerce"===n?new de(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof oe)&&"resolvedImage"!==o.type.kind&&function t(e){if(e instanceof be)return t(e.boundExpression);if(e instanceof me&&"error"===e.name)return!1;if(e instanceof ge)return!1;var n=e instanceof de||e instanceof ce,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof oe})),!!r&&ye(e)&&ve(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var c=new fe;try{o=new oe(o.type,o.evaluate(c))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},Me.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Me(this.registry,r,e||null,i,this.errors)},Me.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Dt(r,t))},Me.prototype.checkSubtype=function(t,e){var n=Jt(t,e);return n&&this.error(n),n};var we=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};we.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,zt);if(!n)return null;var r=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],c=o,l=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(r.length&&r[r.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);var u=e.parse(s,l,i);if(!u)return null;i=i||u.type,r.push([a,u])}return new we(i,n,r)},we.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[xe(e,r)].evaluate(t)},we.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},we.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},we.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Ce=Se;function Se(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}function Ee(t,e,n){return t*(1-n)+e*n}Se.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},Se.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},Se.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},Se.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},Se.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var Te=Object.freeze({__proto__:null,number:Ee,color:function(t,e,n){return new Kt(Ee(t.r,e.r,n),Ee(t.g,e.g,n),Ee(t.b,e.b,n),Ee(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,r){return Ee(t,e[r],n)}))}}),Oe=6/29*3*(6/29),Ae=Math.PI/180,Pe=180/Math.PI;function Le(t){return t>.008856451679035631?Math.pow(t,1/3):t/Oe+4/29}function ke(t){return t>6/29?t*t*t:Oe*(t-4/29)}function Ie(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function De(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ne(t){var e=De(t.r),n=De(t.g),r=De(t.b),i=Le((.4124564*e+.3575761*n+.1804375*r)/.95047),o=Le((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Le((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function Re(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*ke(e),n=.95047*ke(n),r=1.08883*ke(r),new Kt(Ie(3.2404542*n-1.5371385*e-.4985314*r),Ie(-.969266*n+1.8760108*e+.041556*r),Ie(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function ze(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var Fe={forward:Ne,reverse:Re,interpolate:function(t,e,n){return{l:Ee(t.l,e.l,n),a:Ee(t.a,e.a,n),b:Ee(t.b,e.b,n),alpha:Ee(t.alpha,e.alpha,n)}}},je={forward:function(t){var e=Ne(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*Pe;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*Ae,n=t.c;return Re({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:ze(t.h,e.h,n),c:Ee(t.c,e.c,n),l:Ee(t.l,e.l,n),alpha:Ee(t.alpha,e.alpha,n)}}},Be=Object.freeze({__proto__:null,lab:Fe,hcl:je}),qe=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],c=s[1];this.labels.push(s[0]),this.outputs.push(c)}};function Ve(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}qe.interpolationFactor=function(t,e,n,r){var i=0;if("exponential"===t.name)i=Ve(e,t.base,n,r);else if("linear"===t.name)i=Ve(e,1,n,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;i=new Ce(o[0],o[1],o[2],o[3]).solve(Ve(e,1,n,r))}return i},qe.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,zt)))return null;var c=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=Bt:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var u=0;u<o.length;u+=2){var p=o[u],d=o[u+1],h=u+3,f=u+4;if("number"!=typeof p)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(c.length&&c[c.length-1][0]>=p)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var m=e.parse(d,f,l);if(!m)return null;l=l||m.type,c.push([p,m])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new qe(l,n,r,i,c):e.error("Type "+Xt(l)+" is not interpolatable.")},qe.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=xe(e,r),a=qe.interpolationFactor(this.interpolation,r,e[o],e[o+1]),s=n[o].evaluate(t),c=n[o+1].evaluate(t);return"interpolate"===this.operator?Te[this.type.kind.toLowerCase()](s,c,a):"interpolate-hcl"===this.operator?je.reverse(je.interpolate(je.forward(s),je.forward(c),a)):Fe.reverse(Fe.interpolate(Fe.forward(s),Fe.forward(c),a))},qe.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},qe.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},qe.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var Ye=function(t,e){this.type=t,this.args=e};Ye.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=e.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var c=r&&i.some((function(t){return Jt(r,t.type)}));return new Ye(c?Vt:n,i)},Ye.prototype.evaluate=function(t){for(var e,n=null,r=0,i=0,o=this.args;i<o.length;i+=1){var a=o[i];if(r++,n=a.evaluate(t),"resolvedImage"!==a.type.kind||n.available||(e||(e=a.evaluate(t).name),n=null,r===this.args.length&&(n=e)),null!==n)break}return n},Ye.prototype.eachChild=function(t){this.args.forEach(t)},Ye.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},Ye.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var He=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};He.prototype.evaluate=function(t){return this.result.evaluate(t)},He.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},He.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new He(n,a):null},He.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},He.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e];t.push(r[0],r[1].serialize())}return t.push(this.result.serialize()),t};var We=function(t,e,n){this.type=t,this.index=e,this.input=n};We.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,zt),r=e.parse(t[2],2,Ut(e.expectedType||Vt));return n&&r?new We(r.type.itemType,n,r):null},We.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new ae("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new ae("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new ae("Array index must be an integer, but found "+e+" instead.");return n[e]},We.prototype.eachChild=function(t){t(this.index),t(this.input)},We.prototype.possibleOutputs=function(){return[void 0]},We.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ue=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};Ue.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],c=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var u=0,p=s;u<p.length;u+=1){var d=p[u];if("number"!=typeof d&&"string"!=typeof d)return l.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,re(d)))return null}else n=re(d);if(void 0!==i[String(d)])return l.error("Branch labels must be unique.");i[String(d)]=o.length}var h=e.parse(c,a,r);if(!h)return null;r=r||h.type,o.push(h)}var f=e.parse(t[1],1,Vt);if(!f)return null;var m=e.parse(t[t.length-1],t.length-1,r);return m?"value"!==f.type.kind&&e.concat(1).checkSubtype(n,f.type)?null:new Ue(n,r,f,i,o,m):null},Ue.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(re(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},Ue.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Ue.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Ue.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(p=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[p][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},c=0,l=n;c<l.length;c+=1){var u=l[c],p=u[0],d=u[1];e.push(1===d.length?s(d[0]):d.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var Xe=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};function Ge(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Je(t,e,n,r){return 0===r.compare(e,n)}function $e(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=jt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,Vt);if(!o)return null;if(!Ge(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Xt(o.type)+"'.");var a=e.parse(t[2],2,Vt);if(!a)return null;if(!Ge(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Xt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Xt(o.type)+"' and '"+Xt(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new ce(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new ce(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,Yt)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=re(o),c=re(a);if(s.kind!==c.kind||"string"!==s.kind&&"number"!==s.kind)throw new ae('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+c.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=re(o),u=re(a);if("string"!==l.kind||"string"!==u.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}Xe.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,jt);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new Xe(n,r,s):null},Xe.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];if(r[0].evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},Xe.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];t(r[0]),t(i)}t(this.otherwise)},Xe.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map((function(t){return t[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Xe.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Ke=$e("==",(function(t,e,n){return e===n}),Je),Ze=$e("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!Je(0,e,n,r)})),Qe=$e("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),tn=$e(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),en=$e("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),nn=$e(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),rn=function(t,e,n,r,i){this.type=Ft,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};rn.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,zt);if(!n)return null;var r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=e.parse(r.locale,1,Ft)))return null;var o=null;if(r.currency&&!(o=e.parse(r.currency,1,Ft)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=e.parse(r["min-fraction-digits"],1,zt)))return null;var s=null;return r["max-fraction-digits"]&&!(s=e.parse(r["max-fraction-digits"],1,zt))?null:new rn(n,i,o,a,s)},rn.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},rn.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},rn.prototype.possibleOutputs=function(){return[void 0]},rn.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var on=function(t){this.type=zt,this.input=t};on.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+Xt(n.type)+" instead."):new on(n):null},on.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ae("Expected value to be of type string or array, but found "+Xt(re(e))+" instead.")},on.prototype.eachChild=function(t){t(this.input)},on.prototype.possibleOutputs=function(){return[void 0]},on.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var an={"==":Ke,"!=":Ze,">":tn,"<":Qe,">=":nn,"<=":en,array:ce,at:We,boolean:ce,case:Xe,coalesce:Ye,collator:ge,format:le,image:ue,interpolate:qe,"interpolate-hcl":qe,"interpolate-lab":qe,length:on,let:He,literal:oe,match:Ue,number:ce,"number-format":rn,object:ce,step:we,string:ce,"to-boolean":de,"to-color":de,"to-number":de,"to-string":de,var:be};function sn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=ne(n,r,i,a);if(s)throw new ae(s);return new Kt(n/255*a,r/255*a,i/255*a,a)}function cn(t,e){return t in e}function ln(t,e){var n=e[t];return void 0===n?null:n}function un(t){return{type:t}}function pn(t){return{result:"success",value:t}}function dn(t){return{result:"error",value:t}}function hn(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function fn(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function mn(t){return!!t.expression&&t.expression.interpolated}function gn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function yn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function _n(t){return t}function vn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function bn(t,e,n,r,i){return vn(typeof n===i?r[n]:void 0,t.default,e.default)}function Mn(t,e,n){if("number"!==gn(n))return vn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=xe(t.stops.map((function(t){return t[0]})),n);return t.stops[i][1]}function xn(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==gn(n))return vn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=xe(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],c=t.stops[o+1][1],l=Te[e.type]||_n;if(t.colorSpace&&"rgb"!==t.colorSpace){var u=Be[t.colorSpace];l=function(t,e){return u.reverse(u.interpolate(u.forward(t),u.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=c.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return l(n,r,a)}}:l(s,c,a)}function wn(t,e,n){return"color"===e.type?n=Kt.parse(n):"formatted"===e.type?n=te.fromString(n.toString()):"resolvedImage"===e.type?n=ee.fromString(n.toString()):gn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),vn(n,t.default,e.default)}me.register(an,{error:[{kind:"error"},[Ft],function(t,e){throw new ae(e[0].evaluate(t))}],typeof:[Ft,[Vt],function(t,e){return Xt(re(e[0].evaluate(t)))}],"to-rgba":[Ut(zt,4),[Bt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Bt,[zt,zt,zt],sn],rgba:[Bt,[zt,zt,zt,zt],sn],has:{type:jt,overloads:[[[Ft],function(t,e){return cn(e[0].evaluate(t),t.properties())}],[[Ft,qt],function(t,e){var n=e[1];return cn(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:Vt,overloads:[[[Ft],function(t,e){return ln(e[0].evaluate(t),t.properties())}],[[Ft,qt],function(t,e){var n=e[1];return ln(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[Vt,[Ft],function(t,e){return ln(e[0].evaluate(t),t.featureState||{})}],properties:[qt,[],function(t){return t.properties()}],"geometry-type":[Ft,[],function(t){return t.geometryType()}],id:[Vt,[],function(t){return t.id()}],zoom:[zt,[],function(t){return t.globals.zoom}],"heatmap-density":[zt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[zt,[],function(t){return t.globals.lineProgress||0}],accumulated:[Vt,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[zt,un(zt),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[zt,un(zt),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:zt,overloads:[[[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[zt],function(t,e){return-e[0].evaluate(t)}]]},"/":[zt,[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[zt,[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[zt,[],function(){return Math.LN2}],pi:[zt,[],function(){return Math.PI}],e:[zt,[],function(){return Math.E}],"^":[zt,[zt,zt],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[zt,[zt],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[zt,[zt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[zt,[zt],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[zt,[zt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[zt,[zt],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[zt,[zt],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[zt,[zt],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[zt,[zt],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[zt,[zt],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[zt,[zt],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[zt,un(zt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[zt,un(zt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[zt,[zt],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[zt,[zt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[zt,[zt],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[zt,[zt],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[jt,[Ft,Vt],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[jt,[Vt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[jt,[Ft],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[jt,[Ft,Vt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[jt,[Vt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[jt,[Ft,Vt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[jt,[Vt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[jt,[Ft,Vt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[jt,[Vt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[jt,[Ft,Vt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[jt,[Vt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[jt,[Vt],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[jt,[],function(t){return null!==t.id()}],"filter-type-in":[jt,[Ut(Ft)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[jt,[Ut(Vt)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[jt,[Ft,Ut(Vt)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[jt,[Ft,Ut(Vt)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:jt,overloads:[[[jt,jt],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[un(jt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:jt,overloads:[[[jt,jt],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[un(jt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[jt,[jt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[jt,[Ft],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[Ft,[Ft],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Ft,[Ft],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Ft,un(Vt),function(t,e){return e.map((function(e){return ie(e.evaluate(t))})).join("")}],"resolved-locale":[Ft,[Yt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Cn=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new fe,this._defaultValue=e?function(t){return"color"===t.type&&yn(t.default)?new Kt(0,0,0,0):"color"===t.type?Kt.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function Sn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in an}function En(t,e){var n=new Me(an,[],e?function(t){var e={color:Bt,string:Ft,number:zt,enum:Ft,boolean:jt,formatted:Ht,resolvedImage:Wt};return"array"===t.type?Ut(e[t.value]||Vt,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?pn(new Cn(r,e)):dn(n.errors)}Cn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=i,this.expression.evaluate(this._evaluator)},Cn.prototype.evaluate=function(t,e,n,r,i){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=i||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new ae("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(o)+" instead.");return o}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Tn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!_e(e.expression)};Tn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i)},Tn.prototype.evaluate=function(t,e,n,r,i){return this._styleExpression.evaluate(t,e,n,r,i)};var On=function(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!_e(e.expression),this.interpolationType=r};function An(t,e){if("error"===(t=En(t,e)).result)return t;var n=t.value.expression,r=ye(n);if(!r&&!hn(e))return dn([new Dt("","data expressions not supported")]);var i=ve(n,["zoom"]);if(!i&&!fn(e))return dn([new Dt("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof He)n=t(e.result);else if(e instanceof Ye)for(var r=0,i=e.args;r<i.length&&!(n=t(i[r]));r+=1);else(e instanceof we||e instanceof qe)&&e.input instanceof me&&"zoom"===e.input.name&&(n=e);return n instanceof Dt||e.eachChild((function(e){var r=t(e);r instanceof Dt?n=r:!n&&r?n=new Dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Dt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Dt?dn([o]):o instanceof qe&&!mn(e)?dn([new Dt("",'"interpolate" expressions cannot be used with this property')]):pn(o?new On(r?"camera":"composite",t.value,o.labels,o instanceof qe?o.interpolation:void 0):new Tn(r?"constant":"source",t.value)):dn([new Dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}On.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i)},On.prototype.evaluate=function(t,e,n,r,i){return this._styleExpression.evaluate(t,e,n,r,i)},On.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?qe.interpolationFactor(this.interpolationType,t,e,n):0};var Pn=function(t,e){this._parameters=t,this._specification=e,Pt(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],c=s||!(s||void 0!==e.property),l=e.type||(mn(n)?"exponential":"interval");if(a&&((e=Pt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],Kt.parse(t[1])]}))),e.default=Kt.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Be[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===l)r=xn;else if("interval"===l)r=Mn;else if("categorical"===l){r=bn,i=Object.create(null);for(var u=0,p=e.stops;u<p.length;u+=1){var d=p[u];i[d[0]]=d[1]}o=typeof e.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');r=wn}if(s){for(var h={},f=[],m=0;m<e.stops.length;m++){var g=e.stops[m],y=g[0].zoom;void 0===h[y]&&(h[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},f.push(y)),h[y].stops.push([g[0].value,g[1]])}for(var _=[],v=0,b=f;v<b.length;v+=1){var M=b[v];_.push([h[M].zoom,t(h[M],n)])}var x={name:"linear"};return{kind:"composite",interpolationType:x,interpolationFactor:qe.interpolationFactor.bind(void 0,x),zoomStops:_.map((function(t){return t[0]})),evaluate:function(t,r){var i=t.zoom;return xn({stops:_,base:e.base},n,i).evaluate(i,r)}}}if(c){var w="exponential"===l?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:w,interpolationFactor:qe.interpolationFactor.bind(void 0,w),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){return r(e,n,t.zoom,i,o)}}}return{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?vn(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))};function Ln(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],c=gn(n);if("object"!==c)return[new Ot(e,n,"object expected, "+c+" found")];for(var l in n){var u=l.split(".")[0],p=r[u]||r["*"],d=void 0;if(i[u])d=i[u];else if(r[u])d=er;else if(i["*"])d=i["*"];else{if(!r["*"]){s.push(new Ot(e,n[l],'unknown property "'+l+'"'));continue}d=er}s=s.concat(d({key:(e?e+".":e)+l,value:n[l],valueSpec:p,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var h in r)i[h]||r[h].required&&void 0===r[h].default&&void 0===n[h]&&s.push(new Ot(e,n,'missing required property "'+h+'"'));return s}function kn(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||er;if("array"!==gn(e))return[new Ot(o,e,"array expected, "+gn(e)+" found")];if(n.length&&e.length!==n.length)return[new Ot(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Ot(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===gn(n.value)&&(s=n.value);for(var c=[],l=0;l<e.length;l++)c=c.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:r,styleSpec:i,key:o+"["+l+"]"}));return c}function In(t){var e=t.key,n=t.value,r=t.valueSpec,i=gn(n);return"number"!==i?[new Ot(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Ot(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Ot(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function Dn(t){var e,n,r,i=t.valueSpec,o=kt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,c=!s,l="array"===gn(t.value.stops)&&"array"===gn(t.value.stops[0])&&"object"===gn(t.value.stops[0][0]),u=Ln({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new Ot(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(kn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:p})),"array"===gn(n)&&0===n.length&&e.push(new Ot(t.key,n,"array must have at least one stop")),e},default:function(t){return er({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&u.push(new Ot(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||u.push(new Ot(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!mn(t.valueSpec)&&u.push(new Ot(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(c&&!hn(t.valueSpec)?u.push(new Ot(t.key,t.value,"property functions not supported")):s&&!fn(t.valueSpec)&&u.push(new Ot(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==t.value.property||u.push(new Ot(t.key,t.value,'"property" property is required')),u;function p(t){var e=[],o=t.value,s=t.key;if("array"!==gn(o))return[new Ot(s,o,"array expected, "+gn(o)+" found")];if(2!==o.length)return[new Ot(s,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==gn(o[0]))return[new Ot(s,o,"object expected, "+gn(o[0])+" found")];if(void 0===o[0].zoom)return[new Ot(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Ot(s,o,"object stop key must have value")];if(r&&r>kt(o[0].zoom))return[new Ot(s,o[0].zoom,"stop zoom values must appear in ascending order")];kt(o[0].zoom)!==r&&(r=kt(o[0].zoom),n=void 0,a={}),e=e.concat(Ln({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:In,value:d}}))}else e=e.concat(d({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return Sn(It(o[1]))?e.concat([new Ot(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(er({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function d(t,r){var s=gn(t.value),c=kt(t.value),l=null!==t.value?t.value:r;if(e){if(s!==e)return[new Ot(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Ot(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var u="number expected, "+s+" found";return hn(i)&&void 0===o&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ot(t.key,l,u)]}return"categorical"!==o||"number"!==s||isFinite(c)&&Math.floor(c)===c?"categorical"!==o&&"number"===s&&void 0!==n&&c<n?[new Ot(t.key,l,"stop domain values must appear in ascending order")]:(n=c,"categorical"===o&&c in a?[new Ot(t.key,l,"stop domain values must be unique")]:(a[c]=!0,[])):[new Ot(t.key,l,"integer expected, found "+c)]}}function Nn(t){var e=("property"===t.expressionContext?An:En)(It(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Ot(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==n.possibleOutputs().indexOf(void 0))return[new Ot(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!_e(n))return[new Ot(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!_e(n))return[new Ot(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!ve(n,["zoom","feature-state"]))return[new Ot(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!ye(n))return[new Ot(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Rn(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(kt(n))&&i.push(new Ot(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(kt(n))&&i.push(new Ot(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function zn(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!zn(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Pn.deserialize=function(t){return new Pn(t._parameters,t._specification)},Pn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Fn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function jn(t){if(null==t)return function(){return!0};zn(t)||(t=qn(t));var e=En(t,Fn);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function Bn(t,e){return t<e?-1:t>e?1:0}function qn(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?Vn(t[1],t[2],"=="):"!="===n?Wn(Vn(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Vn(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(qn))):"all"===n?["all"].concat(t.slice(1).map(qn)):"none"===n?["all"].concat(t.slice(1).map(qn).map(Wn)):"in"===n?Yn(t[1],t.slice(2)):"!in"===n?Wn(Yn(t[1],t.slice(2))):"has"===n?Hn(t[1]):"!has"!==n||Wn(Hn(t[1]))}function Vn(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function Yn(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(Bn)]]:["filter-in-small",t,["literal",e]]}}function Hn(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Wn(t){return["!",t]}function Un(t){return zn(It(t.value))?Nn(Pt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==gn(n))return[new Ot(r,n,"array expected, "+gn(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new Ot(r,n,"filter array must have at least 1 element")];switch(a=a.concat(Rn({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),kt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===kt(n[1])&&a.push(new Ot(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Ot(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=gn(n[1]))&&a.push(new Ot(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=gn(n[s]),"$type"===kt(n[1])?a=a.concat(Rn({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Ot(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var c=1;c<n.length;c++)a=a.concat(t({key:r+"["+c+"]",value:n[c],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=gn(n[1]),2!==n.length?a.push(new Ot(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Ot(r+"[1]",n[1],"string expected, "+i+" found"))}return a}(t)}function Xn(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var c=a.match(/^(.*)-transition$/);if("paint"===e&&c&&s[c[1]]&&s[c[1]].transition)return er({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var l,u=t.valueSpec||s[a];if(!u)return[new Ot(n,o,'unknown property "'+a+'"')];if("string"===gn(o)&&hn(u)&&!u.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new Ot(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var p=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&p.push(new Ot(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&yn(It(o))&&"identity"===kt(o.type)&&p.push(new Ot(n,o,'"text-font" does not support identity functions'))),p.concat(er({key:t.key,value:o,valueSpec:u,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function Gn(t){return Xn(t,"paint")}function Jn(t){return Xn(t,"layout")}function $n(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new Ot(r,n,'either "type" or "ref" is required'));var a,s=kt(n.type),c=kt(n.ref);if(n.id)for(var l=kt(n.id),u=0;u<t.arrayIndex;u++){var p=i.layers[u];kt(p.id)===l&&e.push(new Ot(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+p.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new Ot(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){kt(t.id)===c&&(a=t)})),a?a.ref?e.push(new Ot(r,n.ref,"ref cannot reference another ref layer")):s=kt(a.type):e.push(new Ot(r,n.ref,'ref layer "'+c+'" not found'));else if("background"!==s)if(n.source){var d=i.sources&&i.sources[n.source],h=d&&kt(d.type);d?"vector"===h&&"raster"===s?e.push(new Ot(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===h&&"raster"!==s?e.push(new Ot(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?e.push(new Ot(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===h&&d.lineMetrics||e.push(new Ot(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Ot(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Ot(r,n.source,'source "'+n.source+'" not found'))}else e.push(new Ot(r,n,'missing required property "source"'));return e=e.concat(Ln({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return er({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:Un,layout:function(t){return Ln({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Jn(Pt({layerType:s},t))}}})},paint:function(t){return Ln({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Gn(Pt({layerType:s},t))}}})}}}))}function Kn(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new Ot(n,e,'"type" is required')];var o,a=kt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return Ln({key:n,value:e,valueSpec:r["source_"+a.replace("-","_")],style:t.style,styleSpec:r});case"geojson":if(o=Ln({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r}),e.cluster)for(var s in e.clusterProperties){var c=e.clusterProperties[s],l=c[0],u="string"==typeof l?[l,["accumulated"],["get",s]]:l;o.push.apply(o,Nn({key:n+"."+s+".map",value:c[1],expressionContext:"cluster-map"})),o.push.apply(o,Nn({key:n+"."+s+".reduce",value:u,expressionContext:"cluster-reduce"}))}return o;case"video":return Ln({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Ln({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Ot(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Rn({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function Zn(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=gn(e);if(void 0===e)return o;if("object"!==a)return o.concat([new Ot("light",e,"object expected, "+a+" found")]);for(var s in e){var c=s.match(/^(.*)-transition$/);o=o.concat(c&&r[c[1]]&&r[c[1]].transition?er({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?er({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n}):[new Ot(s,e[s],'unknown property "'+s+'"')])}return o}function Qn(t){var e=t.value,n=t.key,r=gn(e);return"string"!==r?[new Ot(n,e,"string expected, "+r+" found")]:[]}var tr={"*":function(){return[]},array:kn,boolean:function(t){var e=t.value,n=t.key,r=gn(e);return"boolean"!==r?[new Ot(n,e,"boolean expected, "+r+" found")]:[]},number:In,color:function(t){var e=t.key,n=t.value,r=gn(n);return"string"!==r?[new Ot(e,n,"color expected, "+r+" found")]:null===$t(n)?[new Ot(e,n,'color expected, "'+n+'" found')]:[]},constants:At,enum:Rn,filter:Un,function:Dn,layer:$n,object:Ln,source:Kn,light:Zn,string:Qn,formatted:function(t){return 0===Qn(t).length?[]:Nn(t)},resolvedImage:function(t){return 0===Qn(t).length?[]:Nn(t)}};function er(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&yn(kt(e))?Dn(t):n.expression&&Sn(It(e))?Nn(t):n.type&&tr[n.type]?tr[n.type](t):Ln(Pt({},t,{valueSpec:n.type?r[n.type]:n}))}function nr(t){var e=t.value,n=t.key,r=Qn(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new Ot(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new Ot(n,e,'"glyphs" url must include a "{range}" token'))),r}function rr(t,e){void 0===e&&(e=Tt);var n=[];return n=n.concat(er({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:nr,"*":function(){return[]}}})),t.constants&&(n=n.concat(At({key:"constants",value:t.constants,style:t,styleSpec:e}))),ir(n)}function ir(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function or(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return ir(t.apply(this,e))}}rr.source=or(Kn),rr.light=or(Zn),rr.layer=or($n),rr.filter=or(Un),rr.paintProperty=or(Gn),rr.layoutProperty=or(Jn);var ar=rr,sr=ar.light,cr=ar.paintProperty,lr=ar.layoutProperty;function ur(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1)t.fire(new St(new Error(i[r].message))),n=!0;return n}var pr=dr;function dr(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var c=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],c),this.bboxes=i.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var l=0;l<this.d*this.d;l++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var u=n/e*t;this.min=-u,this.max=t+u}dr.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},dr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},dr.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},dr.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,r,this._queryCell,s,{},i),s},dr.prototype._queryCell=function(t,e,n,r,i,o,a,s){var c=this.cells[i];if(null!==c)for(var l=this.keys,u=this.bboxes,p=0;p<c.length;p++){var d=c[p];if(void 0===a[d]){var h=4*d;(s?s(u[h+0],u[h+1],u[h+2],u[h+3]):t<=u[h+2]&&e<=u[h+3]&&n>=u[h+0]&&r>=u[h+1])?(a[d]=!0,o.push(l[d])):a[d]=!1}}},dr.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var c=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(n),p=this._convertToCellCoord(r),d=c;d<=u;d++)for(var h=l;h<=p;h++){var f=this.d*h+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(h),this._convertFromCellCoord(d+1),this._convertFromCellCoord(h+1)))&&i.call(this,t,e,n,r,f,o,a,s))return}},dr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},dr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},dr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+t.length]=o,i.set(this.keys,o),i[3+t.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var hr=self.ImageData,fr={};function mr(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),fr[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var gr in mr("Object",Object),pr.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},pr.deserialize=function(t){return new pr(t.buffer)},mr("Grid",pr),mr("Color",Kt),mr("Error",Error),mr("ResolvedImage",ee),mr("StylePropertyFunction",Pn),mr("StyleExpression",Cn,{omit:["_evaluator"]}),mr("ZoomDependentExpression",On),mr("ZoomConstantExpression",Tn),mr("CompoundExpression",me,{omit:["_evaluate"]}),an)an[gr]._classRegistryKey||mr("Expression_"+gr,an[gr]);function yr(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function _r(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(yr(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof hr)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1)r.push(_r(o[i],e));return r}if("object"==typeof t){var a=t.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var c=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var l in t)if(t.hasOwnProperty(l)&&!(fr[s].omit.indexOf(l)>=0)){var u=t[l];c[l]=fr[s].shallow.indexOf(l)>=0?u:_r(u,e)}t instanceof Error&&(c.message=t.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(c.$name=s),c}throw new Error("can't serialize object of type "+typeof t)}function vr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||yr(t)||ArrayBuffer.isView(t)||t instanceof hr)return t;if(Array.isArray(t))return t.map(vr);if("object"==typeof t){var e=t.$name||"Object",n=fr[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=t[a];r[a]=fr[e].shallow.indexOf(a)>=0?s:vr(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}var br=function(){this.first=!0};br.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var Mr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function xr(t){for(var e=0,n=t;e<n.length;e+=1)if(Cr(n[e].charCodeAt(0)))return!0;return!1}function wr(t){return!(Mr.Arabic(t)||Mr["Arabic Supplement"](t)||Mr["Arabic Extended-A"](t)||Mr["Arabic Presentation Forms-A"](t)||Mr["Arabic Presentation Forms-B"](t))}function Cr(t){return!(746!==t&&747!==t&&(t<4352||!(Mr["Bopomofo Extended"](t)||Mr.Bopomofo(t)||Mr["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||Mr["CJK Compatibility Ideographs"](t)||Mr["CJK Compatibility"](t)||Mr["CJK Radicals Supplement"](t)||Mr["CJK Strokes"](t)||!(!Mr["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||Mr["CJK Unified Ideographs Extension A"](t)||Mr["CJK Unified Ideographs"](t)||Mr["Enclosed CJK Letters and Months"](t)||Mr["Hangul Compatibility Jamo"](t)||Mr["Hangul Jamo Extended-A"](t)||Mr["Hangul Jamo Extended-B"](t)||Mr["Hangul Jamo"](t)||Mr["Hangul Syllables"](t)||Mr.Hiragana(t)||Mr["Ideographic Description Characters"](t)||Mr.Kanbun(t)||Mr["Kangxi Radicals"](t)||Mr["Katakana Phonetic Extensions"](t)||Mr.Katakana(t)&&12540!==t||!(!Mr["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Mr["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||Mr["Unified Canadian Aboriginal Syllabics"](t)||Mr["Unified Canadian Aboriginal Syllabics Extended"](t)||Mr["Vertical Forms"](t)||Mr["Yijing Hexagram Symbols"](t)||Mr["Yi Syllables"](t)||Mr["Yi Radicals"](t))))}function Sr(t){return!(Cr(t)||function(t){return!!(Mr["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Mr["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Mr["Letterlike Symbols"](t)||Mr["Number Forms"](t)||Mr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Mr["Control Pictures"](t)&&9251!==t||Mr["Optical Character Recognition"](t)||Mr["Enclosed Alphanumerics"](t)||Mr["Geometric Shapes"](t)||Mr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Mr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Mr["CJK Symbols and Punctuation"](t)||Mr.Katakana(t)||Mr["Private Use Area"](t)||Mr["CJK Compatibility Forms"](t)||Mr["Small Form Variants"](t)||Mr["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Er(t,e){return!(!e&&(t>=1424&&t<=2303||Mr["Arabic Presentation Forms-A"](t)||Mr["Arabic Presentation Forms-B"](t))||t>=2304&&t<=3583||t>=3840&&t<=4255||Mr.Khmer(t))}var Tr,Or="unavailable",Ar="loading",Pr="loaded",Lr=Or,kr=null,Ir=new Et,Dr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Lr===Pr||null!=Dr.applyArabicShaping}},Nr=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new br,this.transition={})};Nr.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!Er(r[n].charCodeAt(0),e))return!1;return!0}(t,Dr.isLoaded())},Nr.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Nr.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var Rr=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(yn(t))return new Pn(t,e);if(Sn(t)){var n=An(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=Kt.parse(t)),{kind:"constant",evaluate:function(){return r}}}(void 0===e?t.specification.default:e,t.specification)};Rr.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Rr.prototype.possiblyEvaluate=function(t,e){return this.property.possiblyEvaluate(this,t,e)};var zr=function(t){this.property=t,this.value=new Rr(t,void 0)};zr.prototype.transitioned=function(t,e){return new jr(this.property,this.value,e,p({},t.transition,this.transition),t.now)},zr.prototype.untransitioned=function(){return new jr(this.property,this.value,null,{},0)};var Fr=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Fr.prototype.getValue=function(t){return b(this._values[t].value.value)},Fr.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new zr(this._values[t].property)),this._values[t].value=new Rr(this._values[t].property,null===e?void 0:b(e))},Fr.prototype.getTransition=function(t){return b(this._values[t].transition)},Fr.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new zr(this._values[t].property)),this._values[t].transition=b(e)||void 0},Fr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},Fr.prototype.transitioned=function(t,e){for(var n=new Br(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},Fr.prototype.untransitioned=function(){for(var t=new Br(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var jr=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};jr.prototype.possiblyEvaluate=function(t,e){var n=t.now||0,r=this.value.possiblyEvaluate(t,e),i=this.prior;if(i){if(n>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(n<this.begin)return i.possiblyEvaluate(t,e);var o=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(i.possiblyEvaluate(t,e),r,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(o))}return r};var Br=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Br.prototype.possiblyEvaluate=function(t,e){for(var n=new Yr(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].possiblyEvaluate(t,e)}return n},Br.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var qr=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};qr.prototype.getValue=function(t){return b(this._values[t].value)},qr.prototype.setValue=function(t,e){this._values[t]=new Rr(this._values[t].property,null===e?void 0:b(e))},qr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},qr.prototype.possiblyEvaluate=function(t,e){for(var n=new Yr(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].possiblyEvaluate(t,e)}return n};var Vr=function(t,e,n){this.property=t,this.value=e,this.parameters=n};Vr.prototype.isConstant=function(){return"constant"===this.value.kind},Vr.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},Vr.prototype.evaluate=function(t,e,n){return this.property.evaluate(this.value,this.parameters,t,e,n)};var Yr=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};Yr.prototype.get=function(t){return this._values[t]};var Hr=function(t){this.specification=t};Hr.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Hr.prototype.interpolate=function(t,e,n){var r=Te[this.specification.type];return r?r(t,e,n):t};var Wr=function(t,e){this.specification=t,this.overrides=e};Wr.prototype.possiblyEvaluate=function(t,e,n){return new Vr(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n)}:t.expression,e)},Wr.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Vr(this,{kind:"constant",value:void 0},t.parameters);var r=Te[this.specification.type];return r?new Vr(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},Wr.prototype.evaluate=function(t,e,n,r,i){return"constant"===t.kind?t.value:t.evaluate(e,n,r,i)};var Ur=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,n){if(void 0===t.value)return new Vr(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var r=t.expression.evaluate(e,null,{},n),i="resolvedImage"===t.property.specification.type&&"string"!=typeof r?r.name:r,o=this._calculate(i,i,i,e);return new Vr(this,{kind:"constant",value:o},e)}if("camera"===t.expression.kind){var a=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Vr(this,{kind:"constant",value:a},e)}return new Vr(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,r,i){if("source"===t.kind){var o=t.evaluate(e,n,r,i);return this._calculate(o,o,o,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value},e.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(Wr),Xr=function(t){this.specification=t};Xr.prototype.possiblyEvaluate=function(t,e,n){if(void 0!==t.value){if("constant"===t.expression.kind){var r=t.expression.evaluate(e,null,{},n);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new Nr(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Nr(Math.floor(e.zoom),e)),t.expression.evaluate(new Nr(Math.floor(e.zoom+1),e)),e)}},Xr.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},Xr.prototype.interpolate=function(t){return t};var Gr=function(t){this.specification=t};Gr.prototype.possiblyEvaluate=function(t,e,n){return!!t.expression.evaluate(e,null,{},n)},Gr.prototype.interpolate=function(){return!1};var Jr=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var r=this.defaultPropertyValues[e]=new Rr(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new zr(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};mr("DataDrivenProperty",Wr),mr("DataConstantProperty",Hr),mr("CrossFadedDataDrivenProperty",Ur),mr("CrossFadedProperty",Xr),mr("ColorRampProperty",Gr);var $r=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter=function(){return!0},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new qr(n.layout)),n.paint)){for(var r in this._transitionablePaint=new Fr(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){void 0===n&&(n={}),null!=e&&this._validate(lr,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return y(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e&&this._validate(cr,"layers."+this.id+".paint."+t,t,e,n))return!1;if(y(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var r=this._transitionablePaint._values[t],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(t,a,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),v(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&ur(this,t.call(ar,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:Tt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof Vr&&hn(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Et),Kr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Zr=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Qr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ti(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map((function(t){var i=Kr[t.type].BYTES_PER_ELEMENT,o=n=ei(n,Math.max(e,i)),a=t.components||1;return r=Math.max(r,i),n+=i*a,{name:t.name,type:t.type,components:a,offset:o}})),size:ei(n,Math.max(r,e)),alignment:e}}function ei(t,e){return Math.ceil(t/e)*e}Qr.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Qr.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Qr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Qr.prototype.clear=function(){this.length=0},Qr.prototype.resize=function(t){this.reserve(t),this.length=t},Qr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Qr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Qr);ni.prototype.bytesPerElement=4,mr("StructArrayLayout2i4",ni);var ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Qr);ri.prototype.bytesPerElement=8,mr("StructArrayLayout4i8",ri);var ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Qr);ii.prototype.bytesPerElement=12,mr("StructArrayLayout2i4i12",ii);var oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=4*t,c=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[c+4]=r,this.uint8[c+5]=i,this.uint8[c+6]=o,this.uint8[c+7]=a,t},e}(Qr);oi.prototype.bytesPerElement=8,mr("StructArrayLayout2i4ub8",oi);var ai=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,c){var l=8*t;return this.uint16[l+0]=e,this.uint16[l+1]=n,this.uint16[l+2]=r,this.uint16[l+3]=i,this.uint16[l+4]=o,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=c,t},e}(Qr);ai.prototype.bytesPerElement=16,mr("StructArrayLayout8ui16",ai);var si=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,c){var l=8*t;return this.int16[l+0]=e,this.int16[l+1]=n,this.int16[l+2]=r,this.int16[l+3]=i,this.uint16[l+4]=o,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=c,t},e}(Qr);si.prototype.bytesPerElement=16,mr("StructArrayLayout4i4ui16",si);var ci=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Qr);ci.prototype.bytesPerElement=12,mr("StructArrayLayout3f12",ci);var li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(Qr);li.prototype.bytesPerElement=4,mr("StructArrayLayout1ul4",li);var ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,c,l,u){var p=this.length;return this.resize(p+1),this.emplace(p,t,e,n,r,i,o,a,s,c,l,u)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,c,l,u,p){var d=12*t,h=6*t;return this.int16[d+0]=e,this.int16[d+1]=n,this.int16[d+2]=r,this.int16[d+3]=i,this.int16[d+4]=o,this.int16[d+5]=a,this.uint32[h+3]=s,this.uint16[d+8]=c,this.uint16[d+9]=l,this.int16[d+10]=u,this.int16[d+11]=p,t},e}(Qr);ui.prototype.bytesPerElement=24,mr("StructArrayLayout6i1ul2ui2i24",ui);var pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Qr);pi.prototype.bytesPerElement=12,mr("StructArrayLayout2i2i2i12",pi);var di=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,t},e}(Qr);di.prototype.bytesPerElement=12,mr("StructArrayLayout2ub2f12",di);var hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g){var y=this.length;return this.resize(y+1),this.emplace(y,t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y){var _=24*t,v=12*t,b=48*t;return this.int16[_+0]=e,this.int16[_+1]=n,this.uint16[_+2]=r,this.uint16[_+3]=i,this.uint32[v+2]=o,this.uint32[v+3]=a,this.uint32[v+4]=s,this.uint16[_+10]=c,this.uint16[_+11]=l,this.uint16[_+12]=u,this.float32[v+7]=p,this.float32[v+8]=d,this.uint8[b+36]=h,this.uint8[b+37]=f,this.uint8[b+38]=m,this.uint32[v+10]=g,this.int16[_+22]=y,t},e}(Qr);hi.prototype.bytesPerElement=48,mr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",hi);var fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y,_,v,b,M,x,w,C,S){var E=this.length;return this.resize(E+1),this.emplace(E,t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y,_,v,b,M,x,w,C,S)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y,_,v,b,M,x,w,C,S,E){var T=30*t,O=15*t;return this.int16[T+0]=e,this.int16[T+1]=n,this.int16[T+2]=r,this.int16[T+3]=i,this.int16[T+4]=o,this.int16[T+5]=a,this.int16[T+6]=s,this.int16[T+7]=c,this.uint16[T+8]=l,this.uint16[T+9]=u,this.uint16[T+10]=p,this.uint16[T+11]=d,this.uint16[T+12]=h,this.uint16[T+13]=f,this.uint16[T+14]=m,this.uint16[T+15]=g,this.uint16[T+16]=y,this.uint16[T+17]=_,this.uint16[T+18]=v,this.uint16[T+19]=b,this.uint16[T+20]=M,this.uint16[T+21]=x,this.uint32[O+11]=w,this.float32[O+12]=C,this.float32[O+13]=S,this.float32[O+14]=E,t},e}(Qr);fi.prototype.bytesPerElement=60,mr("StructArrayLayout8i14ui1ul3f60",fi);var mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(Qr);mi.prototype.bytesPerElement=4,mr("StructArrayLayout1f4",mi);var gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Qr);gi.prototype.bytesPerElement=6,mr("StructArrayLayout3i6",gi);var yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=n,this.uint16[i+3]=r,t},e}(Qr);yi.prototype.bytesPerElement=8,mr("StructArrayLayout1ul2ui8",yi);var _i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Qr);_i.prototype.bytesPerElement=6,mr("StructArrayLayout3ui6",_i);var vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Qr);vi.prototype.bytesPerElement=4,mr("StructArrayLayout2ui4",vi);var bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(Qr);bi.prototype.bytesPerElement=2,mr("StructArrayLayout1ui2",bi);var Mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Qr);Mi.prototype.bytesPerElement=8,mr("StructArrayLayout2f8",Mi);var xi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Qr);xi.prototype.bytesPerElement=16,mr("StructArrayLayout4f16",xi);var wi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(Zr);wi.prototype.size=24;var Ci=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new wi(this,t)},e}(ui);mr("CollisionBoxArray",Ci);var Si=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},n.associatedIconIndex.set=function(t){this._structArray.int16[this._pos2+22]=t},Object.defineProperties(e.prototype,n),e}(Zr);Si.prototype.size=48;var Ei=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Si(this,t)},e}(hi);mr("PlacedSymbolArray",Ei);var Ti=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.rightJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.centerJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.leftJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+4]=t},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+5]=t},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.placedIconSymbolIndex.set=function(t){this._structArray.int16[this._pos2+6]=t},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.verticalPlacedIconSymbolIndex.set=function(t){this._structArray.int16[this._pos2+7]=t},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.key.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.verticalTextBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+13]=t},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+14]=t},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+15]=t},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.verticalIconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+16]=t},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.featureIndex.set=function(t){this._structArray.uint16[this._pos2+17]=t},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numHorizontalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+18]=t},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+19]=t},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+20]=t},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.numVerticalIconVertices.set=function(t){this._structArray.uint16[this._pos2+21]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+11]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+11]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+12]},n.textBoxScale.set=function(t){this._structArray.float32[this._pos4+12]=t},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.set=function(t){this._structArray.float32[this._pos4+13]=t},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.set=function(t){this._structArray.float32[this._pos4+14]=t},Object.defineProperties(e.prototype,n),e}(Zr);Ti.prototype.size=60;var Oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Ti(this,t)},e}(fi);mr("SymbolInstanceArray",Oi);var Ai=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(Zr);Ai.prototype.size=4;var Pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new Ai(this,t)},e}(mi);mr("GlyphOffsetArray",Pi);var Li=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(Zr);Li.prototype.size=6;var ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new Li(this,t)},e}(gi);mr("SymbolLineVertexArray",ki);var Ii=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(Zr);Ii.prototype.size=8;var Di=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Ii(this,t)},e}(yi);mr("FeatureIndexArray",Di);var Ni=ti([{name:"a_pos",components:2,type:"Int16"}],4).members,Ri=function(t){void 0===t&&(t=[]),this.segments=t};function zi(t,e){return 256*(t=l(Math.floor(t),0,255))+l(Math.floor(e),0,255)}Ri.prototype.prepareSegment=function(t,e,n,r){var i=this.segments[this.segments.length-1];return t>Ri.MAX_VERTEX_ARRAY_LENGTH&&x("Max vertices per segment is "+Ri.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!i||i.vertexLength+t>Ri.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},Ri.prototype.get=function(){return this.segments},Ri.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},Ri.simpleSegment=function(t,e,n,r){return new Ri([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},Ri.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,mr("SegmentVector",Ri);var Fi=function(){this.ids=[],this.positions=[],this.indexed=!1};function ji(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}Fi.prototype.add=function(t,e,n,r){this.ids.push(t),this.positions.push(e,n,r)},Fi.prototype.getPositions=function(t){for(var e=0,n=this.ids.length-1;e<n;){var r=e+n>>1;this.ids[r]>=t?n=r:e=r+1}for(var i=[];this.ids[e]===t;)i.push({index:this.positions[3*e],start:this.positions[3*e+1],end:this.positions[3*e+2]}),e++;return i},Fi.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){if(!(r>=i)){for(var o=e[r+i>>1],a=r-1,s=i+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;ji(e,a,s),ji(n,3*a,3*s),ji(n,3*a+1,3*s+1),ji(n,3*a+2,3*s+2)}t(e,n,r,s),t(e,n,s+1,i)}}(n,r,0,n.length-1),e&&e.push(n.buffer,r.buffer),{ids:n,positions:r}},Fi.deserialize=function(t){var e=new Fi;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e},mr("FeaturePositionMap",Fi);var Bi=function(t,e){this.gl=t.gl,this.location=e},qi=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(Bi),Vi=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(Bi),Yi=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(Bi),Hi=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(Bi),Wi=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(Bi),Ui=function(t){function e(e,n){t.call(this,e,n),this.current=Kt.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(Bi),Xi=new Float32Array(16),Gi=function(t){function e(e,n){t.call(this,e,n),this.current=Xi}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(Bi);function Ji(t){return[zi(255*t.r,255*t.g),zi(255*t.b,255*t.a)]}var $i=function(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t})),this.type=n,this.maxValue=-1/0};$i.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},$i.prototype.setConstantPatternPositions=function(){},$i.prototype.populatePaintArray=function(){},$i.prototype.updatePaintArray=function(){},$i.prototype.upload=function(){},$i.prototype.destroy=function(){},$i.prototype.setUniforms=function(t,e,n,r){e.set(r.constantOr(this.value))},$i.prototype.getBinding=function(t,e){return"color"===this.type?new Ui(t,e):new Vi(t,e)},$i.serialize=function(t){var e=t.names,n=t.type;return{value:_r(t.value),names:e,type:n}},$i.deserialize=function(t){var e=t.names,n=t.type;return new $i(vr(t.value),e,n)};var Ki=function(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t})),this.type=n,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Ki.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},Ki.prototype.populatePaintArray=function(){},Ki.prototype.updatePaintArray=function(){},Ki.prototype.upload=function(){},Ki.prototype.destroy=function(){},Ki.prototype.setConstantPatternPositions=function(t,e){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=e.tlbr},Ki.prototype.setUniforms=function(t,e,n,r,i){var o=this.patternPositions;"u_pattern_to"===i&&o.patternTo&&e.set(o.patternTo),"u_pattern_from"===i&&o.patternFrom&&e.set(o.patternFrom)},Ki.prototype.getBinding=function(t,e){return new Wi(t,e)};var Zi=function(t,e,n,r){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map((function(t){return"a_"+t})),this.maxValue=-1/0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Zi.prototype.defines=function(){return[]},Zi.prototype.setConstantPatternPositions=function(){},Zi.prototype.populatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=i.length;i.reserve(t);var a=this.expression.evaluate(new Nr(0),e,{},[],r);if("color"===this.type)for(var s=Ji(a),c=o;c<t;c++)i.emplaceBack(s[0],s[1]);else{for(var l=o;l<t;l++)i.emplaceBack(a);this.maxValue=Math.max(this.maxValue,a)}},Zi.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:0},n,r);if("color"===this.type)for(var a=Ji(o),s=t;s<e;s++)i.emplace(s,a[0],a[1]);else{for(var c=t;c<e;c++)i.emplace(c,o);this.maxValue=Math.max(this.maxValue,o)}},Zi.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Zi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Zi.prototype.setUniforms=function(t,e){e.set(0)},Zi.prototype.getBinding=function(t,e){return new Vi(t,e)};var Qi=function(t,e,n,r,i,o){this.expression=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0;var a=o;this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new a};Qi.prototype.defines=function(){return[]},Qi.prototype.setConstantPatternPositions=function(){},Qi.prototype.populatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=i.length;i.reserve(t);var a=this.expression.evaluate(new Nr(this.zoom),e,{},[],r),s=this.expression.evaluate(new Nr(this.zoom+1),e,{},[],r);if("color"===this.type)for(var c=Ji(a),l=Ji(s),u=o;u<t;u++)i.emplaceBack(c[0],c[1],l[0],l[1]);else{for(var p=o;p<t;p++)i.emplaceBack(a,s);this.maxValue=Math.max(this.maxValue,a,s)}},Qi.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);if("color"===this.type)for(var s=Ji(o),c=Ji(a),l=t;l<e;l++)i.emplace(l,s[0],s[1],c[0],c[1]);else{for(var u=t;u<e;u++)i.emplace(u,o,a);this.maxValue=Math.max(this.maxValue,o,a)}},Qi.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Qi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Qi.prototype.interpolationFactor=function(t){return this.useIntegerZoom&&(t=Math.floor(t)),l(this.expression.interpolationFactor(t,this.zoom,this.zoom+1),0,1)},Qi.prototype.setUniforms=function(t,e,n){e.set(this.interpolationFactor(n.zoom))},Qi.prototype.getBinding=function(t,e){return new Vi(t,e)};var to=function(t,e,n,r,i,o,a){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map((function(t){return"u_"+t+"_t"})),this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o};to.prototype.defines=function(){return[]},to.prototype.setConstantPatternPositions=function(){},to.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray,i=this.zoomOutPaintVertexArray,o=this.layerId,a=r.length;if(r.reserve(t),i.reserve(t),n&&e.patterns&&e.patterns[o]){var s=e.patterns[o],c=n[s.min],l=n[s.mid],u=n[s.max];if(!c||!l||!u)return;for(var p=a;p<t;p++)r.emplaceBack(l.tl[0],l.tl[1],l.br[0],l.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1]),i.emplaceBack(l.tl[0],l.tl[1],l.br[0],l.br[1],u.tl[0],u.tl[1],u.br[0],u.br[1])}},to.prototype.updatePaintArray=function(t,e,n,r,i){var o=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(i&&n.patterns&&n.patterns[s]){var c=n.patterns[s],l=i[c.min],u=i[c.mid],p=i[c.max];if(!l||!u||!p)return;for(var d=t;d<e;d++)o.emplace(d,u.tl[0],u.tl[1],u.br[0],u.br[1],l.tl[0],l.tl[1],l.br[0],l.br[1]),a.emplace(d,u.tl[0],u.tl[1],u.br[0],u.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1])}},to.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},to.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},to.prototype.setUniforms=function(t,e){e.set(0)},to.prototype.getBinding=function(t,e){return new Vi(t,e)};var eo=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Fi,this._bufferOffset=0};eo.createDynamic=function(t,e,n){var r=new eo,i=[];for(var o in t.paint._values)if(n(o)){var a=t.paint.get(o);if(a instanceof Vr&&hn(a.property.specification)){var s=ro(o,t.type),c=a.property.specification.type,l=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)r.binders[o]=new Ki(a.value.value,s,c),i.push("/u_"+o);else{var u=io(o,c,"source");r.binders[o]=new to(a.value,s,c,l,e,u,t.id),i.push("/a_"+o)}else if("constant"===a.value.kind)r.binders[o]=new $i(a.value.value,s,c),i.push("/u_"+o);else if("source"===a.value.kind){var p=io(o,c,"source");r.binders[o]=new Zi(a.value,s,c,p),i.push("/a_"+o)}else{var d=io(o,c,"composite");r.binders[o]=new Qi(a.value,s,c,l,e,d),i.push("/z_"+o)}}}return r.cacheKey=i.sort().join(""),r},eo.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o in this.binders)this.binders[o].populatePaintArray(t,e,r,i);void 0!==e.id&&this._featureMap.add(+e.id,n,this._bufferOffset,t),this._bufferOffset=t},eo.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders)this.binders[n].setConstantPatternPositions(t,e)},eo.prototype.updatePaintArrays=function(t,e,n,r){var i=!1;for(var o in t)for(var a=0,s=this._featureMap.getPositions(+o);a<s.length;a+=1){var c=s[a],l=e.feature(c.index);for(var u in this.binders){var p=this.binders[u];if(!(p instanceof $i||p instanceof Ki)&&!0===p.expression.isStateDependent){var d=n.paint.get(u);p.expression=d.value,p.updatePaintArray(c.start,c.end,l,t[o],r),i=!0}}}return i},eo.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},eo.prototype.getPaintVertexBuffers=function(){return this._buffers},eo.prototype.getUniforms=function(t,e){var n=[];for(var r in this.binders)for(var i=this.binders[r],o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(e[s]){var c=i.getBinding(t,e[s]);n.push({name:s,property:r,binding:c})}}return n},eo.prototype.setUniforms=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.name,c=a.property;this.binders[c].setUniforms(t,a.binding,r,n.get(c),s)}},eo.prototype.updatePatternPaintBuffers=function(t){var e=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof to){var i=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;i&&e.push(i)}else(r instanceof Zi||r instanceof Qi)&&r.paintVertexBuffer&&e.push(r.paintVertexBuffer)}this._buffers=e},eo.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var n=[];for(var r in this.binders){var i=this.binders[r];(i instanceof Zi||i instanceof Qi)&&i.paintVertexBuffer&&n.push(i.paintVertexBuffer)}this._buffers=n},eo.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var no=function(t,e,n,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var i=0,o=e;i<o.length;i+=1){var a=o[i];this.programConfigurations[a.id]=eo.createDynamic(a,n,r),this.programConfigurations[a.id].layoutAttributes=t}this.needsUpload=!1};function ro(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function io(t,e,n){var r={color:{source:Mi,composite:xi},number:{source:mi,composite:Mi}},i=function(t){return{"line-pattern":{source:ai,composite:ai},"fill-pattern":{source:ai,composite:ai},"fill-extrusion-pattern":{source:ai,composite:ai}}[t]}(t);return i&&i[n]||r[e][n]}no.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(t,e,n,r,i);this.needsUpload=!0},no.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,e,a,r)||this.needsUpload}},no.prototype.get=function(t){return this.programConfigurations[t]},no.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},no.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},mr("ConstantBinder",$i),mr("CrossFadedConstantBinder",Ki),mr("SourceExpressionBinder",Zi),mr("CrossFadedCompositeBinder",to),mr("CompositeExpressionBinder",Qi),mr("ProgramConfiguration",eo,{omit:["_buffers"]}),mr("ProgramConfigurationSet",no);var oo=8192,ao={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function so(t){for(var e=oo/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<ao.min||a.x>ao.max||a.y<ao.min||a.y>ao.max)&&(x("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a.x=l(a.x,ao.min,ao.max),a.y=l(a.y,ao.min,ao.max))}return n}function co(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var lo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ni,this.indexArray=new _i,this.segments=new Ri,this.programConfigurations=new no(Ni,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function uo(t,e){for(var n=0;n<t.length;n++)if(bo(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(bo(t,e[r]))return!0;return!!mo(t,e)}function po(t,e,n){return!!bo(t,e)||!!yo(e,t,n)}function ho(t,e){if(1===t.length)return vo(e,t[0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(bo(t,r[i]))return!0;for(var o=0;o<t.length;o++)if(vo(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(mo(t,e[a]))return!0;return!1}function fo(t,e,n){if(t.length>1){if(mo(t,e))return!0;for(var r=0;r<e.length;r++)if(yo(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(yo(t[i],e,n))return!0;return!1}function mo(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(go(r,i,e[o],e[o+1]))return!0;return!1}function go(t,e,n,r){return w(t,n,r)!==w(e,n,r)&&w(t,e,n)!==w(t,e,r)}function yo(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(_o(t,e[i-1],e[i])<r)return!0;return!1}function _o(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return t.distSqr(i<0?e:i>1?n:n.sub(e)._mult(i)._add(e))}function vo(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,c=(n=t[a]).length-1;s<n.length;c=s++)(r=n[s]).y>e.y!=(i=n[c]).y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function bo(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function Mo(t,e,n){var r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;var o=w(t,e,n[0]);return o!==w(t,e,n[1])||o!==w(t,e,n[2])||o!==w(t,e,n[3])}function xo(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).binders[t].maxValue}function wo(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Co(t,e,n,r,o){if(!e[0]&&!e[1])return t;var a=i.convert(e)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],c=0;c<t.length;c++)s.push(t[c].sub(a));return s}lo.prototype.populate=function(t,e){var n=this.layers[0],r=[],i=null;"circle"===n.type&&(i=n.layout.get("circle-sort-key"));for(var o=0,a=t;o<a.length;o+=1){var s=a[o],c=s.feature,l=s.index,u=s.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nr(this.zoom),c)){var p=so(c),d=i?i.evaluate(c,{}):void 0;r.push({id:c.id,properties:c.properties,type:c.type,sourceLayerIndex:u,index:l,geometry:p,patterns:{},sortKey:d})}}i&&r.sort((function(t,e){return t.sortKey-e.sortKey}));for(var h=0,f=r;h<f.length;h+=1){var m=f[h],g=m.geometry,y=m.index,_=m.sourceLayerIndex,v=t[y].feature;this.addFeature(m,g,y),e.featureIndex.insert(v,g,y,_,this.index)}},lo.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},lo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},lo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},lo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ni),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},lo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},lo.prototype.addFeature=function(t,e,n){for(var r=0,i=e;r<i.length;r+=1)for(var o=0,a=i[r];o<a.length;o+=1){var s=a[o],c=s.x,l=s.y;if(!(c<0||c>=oo||l<0||l>=oo)){var u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),p=u.vertexLength;co(this.layoutVertexArray,c,l,-1,-1),co(this.layoutVertexArray,c,l,1,-1),co(this.layoutVertexArray,c,l,1,1),co(this.layoutVertexArray,c,l,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),u.vertexLength+=4,u.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{})},mr("CircleBucket",lo,{omit:["layers"]});var So,Eo=new Jr({"circle-sort-key":new Wr(Tt.layout_circle["circle-sort-key"])}),To={paint:new Jr({"circle-radius":new Wr(Tt.paint_circle["circle-radius"]),"circle-color":new Wr(Tt.paint_circle["circle-color"]),"circle-blur":new Wr(Tt.paint_circle["circle-blur"]),"circle-opacity":new Wr(Tt.paint_circle["circle-opacity"]),"circle-translate":new Hr(Tt.paint_circle["circle-translate"]),"circle-translate-anchor":new Hr(Tt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Hr(Tt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Hr(Tt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Wr(Tt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Wr(Tt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Wr(Tt.paint_circle["circle-stroke-opacity"])}),layout:Eo},Oo="undefined"!=typeof Float32Array?Float32Array:Array;function Ao(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)}),So=new Oo(3),Oo!=Float32Array&&(So[0]=0,So[1]=0,So[2]=0),function(){var t=new Oo(4);Oo!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var Po=function(t){function e(e){t.call(this,e,To)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new lo(t)},e.prototype.queryRadius=function(t){var e=t;return xo("circle-radius",this,e)+xo("circle-stroke-width",this,e)+wo(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var c=Co(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),l=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),u="map"===this.paint.get("circle-pitch-alignment"),p=u?c:function(t,e){return t.map((function(t){return Lo(t,e)}))}(c,s),d=u?l*a:l,h=0,f=r;h<f.length;h+=1)for(var m=0,g=f[h];m<g.length;m+=1){var y=g[m],_=u?y:Lo(y,s),v=d,b=Ao([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?v*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(v*=o.cameraToCenterDistance/b[3]),po(p,_,v))return!0}return!1},e}($r);function Lo(t,e){var n=Ao([],[t.x,t.y,0,1],e);return new i(n[0]/n[3],n[1]/n[3])}var ko=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(lo);function Io(t,e,n,r){var i=e.width,o=e.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function Do(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=Io({},{width:r,height:i},n);No(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function No(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,c=0;c<i.height;c++)for(var l=((n.y+c)*t.width+n.x)*o,u=((r.y+c)*e.width+r.x)*o,p=0;p<i.width*o;p++)s[u+p]=a[l+p];return e}mr("HeatmapBucket",ko,{omit:["layers"]});var Ro=function(t,e){Io(this,t,1,e)};Ro.prototype.resize=function(t){Do(this,t,1)},Ro.prototype.clone=function(){return new Ro({width:this.width,height:this.height},new Uint8Array(this.data))},Ro.copy=function(t,e,n,r,i){No(t,e,n,r,i,1)};var zo=function(t,e){Io(this,t,4,e)};zo.prototype.resize=function(t){Do(this,t,4)},zo.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},zo.prototype.clone=function(){return new zo({width:this.width,height:this.height},new Uint8Array(this.data))},zo.copy=function(t,e,n,r,i){No(t,e,n,r,i,4)},mr("AlphaImage",Ro),mr("RGBAImage",zo);var Fo={paint:new Jr({"heatmap-radius":new Wr(Tt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Wr(Tt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Hr(Tt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Gr(Tt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Hr(Tt.paint_heatmap["heatmap-opacity"])})};function jo(t,e){for(var n=new Uint8Array(1024),r={},i=0,o=0;i<256;i++,o+=4){r[e]=i/255;var a=t.evaluate(r);n[o+0]=Math.floor(255*a.r/a.a),n[o+1]=Math.floor(255*a.g/a.a),n[o+2]=Math.floor(255*a.b/a.a),n[o+3]=Math.floor(255*a.a)}return new zo({width:256,height:1},n)}var Bo=function(t){function e(e){t.call(this,e,Fo),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new ko(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=jo(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}($r),qo={paint:new Jr({"hillshade-illumination-direction":new Hr(Tt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Hr(Tt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Hr(Tt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Hr(Tt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Hr(Tt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Hr(Tt.paint_hillshade["hillshade-accent-color"])})},Vo=function(t){function e(e){t.call(this,e,qo)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}($r),Yo=ti([{name:"a_pos",components:2,type:"Int16"}],4).members,Ho=Uo,Wo=Uo;function Uo(t,e,n){n=n||2;var r,i,o,a,s,c,l,u=e&&e.length,p=u?e[0]*n:t.length,d=Xo(t,0,p,n,!0),h=[];if(!d||d.next===d.prev)return h;if(u&&(d=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Xo(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(ia(a));for(s.sort(ta),i=0;i<s.length;i++)ea(s[i],n),n=Go(n,n.next);return n}(t,e,d,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var f=n;f<p;f+=n)(s=t[f])<r&&(r=s),(c=t[f+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return Jo(d,h,n,r,i,l),h}function Xo(t,e,n,r,i){var o,a;if(i===ya(t,e,n,r)>0)for(o=e;o<n;o+=r)a=fa(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=fa(o,t[o],t[o+1],a);return a&&ca(a,a.next)&&(ma(a),a=a.next),a}function Go(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!ca(r,r.next)&&0!==sa(r.prev,r,r.next))r=r.next;else{if(ma(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Jo(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=ra(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,c,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(c=l;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,o);for(var s,c,l=t;t.prev!==t.next;)if(s=t.prev,c=t.next,o?Ko(t,r,i,o):$o(t))e.push(s.i/n),e.push(t.i/n),e.push(c.i/n),ma(t),t=c.next,l=c.next;else if((t=c)===l){a?1===a?Jo(t=Zo(Go(t),e,n),e,n,r,i,o,2):2===a&&Qo(t,e,n,r,i,o):Jo(Go(t),e,n,r,i,o,1);break}}}function $o(t){var e=t.prev,n=t,r=t.next;if(sa(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(oa(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&sa(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ko(t,e,n,r){var i=t.prev,o=t,a=t.next;if(sa(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,l=ra(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),u=ra(s,c,e,n,r),p=t.prevZ,d=t.nextZ;p&&p.z>=l&&d&&d.z<=u;){if(p!==t.prev&&p!==t.next&&oa(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&sa(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,d!==t.prev&&d!==t.next&&oa(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&sa(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;p&&p.z>=l;){if(p!==t.prev&&p!==t.next&&oa(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&sa(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;d&&d.z<=u;){if(d!==t.prev&&d!==t.next&&oa(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&sa(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Zo(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!ca(i,o)&&la(i,r,r.next,o)&&da(i,o)&&da(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),ma(r),ma(r.next),r=t=o),r=r.next}while(r!==t);return Go(r)}function Qo(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&aa(a,s)){var c=ha(a,s);return a=Go(a,a.next),c=Go(c,c.next),Jo(a,e,n,r,i,o),void Jo(c,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function ta(t,e){return t.x-e.x}function ea(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var c,l=n,u=n.x,p=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&oa(o<p?i:a,o,u,p,o<p?a:i,o,r.x,r.y)&&(c=Math.abs(o-r.y)/(i-r.x),da(r,t)&&(c<d||c===d&&(r.x>n.x||r.x===n.x&&na(n,r)))&&(n=r,d=c)),r=r.next}while(r!==l);return n}(t,e)){var n=ha(e,t);Go(n,n.next)}}function na(t,e){return sa(t.prev,t,e.prev)<0&&sa(e.next,t,t.next)<0}function ra(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ia(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function oa(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function aa(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&la(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(da(t,e)&&da(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(sa(t.prev,t,e.prev)||sa(t,e.prev,e))||ca(t,e)&&sa(t.prev,t,t.next)>0&&sa(e.prev,e,e.next)>0)}function sa(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ca(t,e){return t.x===e.x&&t.y===e.y}function la(t,e,n,r){var i=pa(sa(t,e,n)),o=pa(sa(t,e,r)),a=pa(sa(n,r,t)),s=pa(sa(n,r,e));return i!==o&&a!==s||!(0!==i||!ua(t,n,e))||!(0!==o||!ua(t,r,e))||!(0!==a||!ua(n,t,r))||!(0!==s||!ua(n,e,r))}function ua(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function pa(t){return t>0?1:t<0?-1:0}function da(t,e){return sa(t.prev,t,t.next)<0?sa(t,e,t.next)>=0&&sa(t,t.prev,e)>=0:sa(t,e,t.prev)<0||sa(t,t.next,e)<0}function ha(t,e){var n=new ga(t.i,t.x,t.y),r=new ga(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function fa(t,e,n,r){var i=new ga(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ma(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ga(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ya(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function _a(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,c=Math.log(a),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+u)),Math.min(i,Math.floor(n+(a-s)*l/a+u)),o)}var p=e[n],d=r,h=i;for(va(e,r,n),o(e[i],p)>0&&va(e,r,i);d<h;){for(va(e,d,h),d++,h--;o(e[d],p)<0;)d++;for(;o(e[h],p)>0;)h--}0===o(e[r],p)?va(e,r,h):va(e,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}(t,e,n||0,r||t.length-1,i||ba)}function va(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ba(t,e){return t<e?-1:t>e?1:0}function Ma(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=C(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var c=0;c<o.length;c++)o[c].length<=e||(_a(o[c],e,1,o[c].length-1,xa),o[c]=o[c].slice(0,e));return o}function xa(t,e){return e.area-t.area}function wa(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(i=!0);var c=s.constantOr(null);c&&(i=!0,r[c.to]=!0,r[c.from]=!0)}return i}function Ca(t,e,n,r,i){for(var o=i.patternDependencies,a=0,s=e;a<s.length;a+=1){var c=s[a],l=c.paint.get(t+"-pattern").value;if("constant"!==l.kind){var u=l.evaluate({zoom:r-1},n,{},i.availableImages),p=l.evaluate({zoom:r},n,{},i.availableImages),d=l.evaluate({zoom:r+1},n,{},i.availableImages);p=p&&p.name?p.name:p,d=d&&d.name?d.name:d,o[u=u&&u.name?u.name:u]=!0,o[p]=!0,o[d]=!0,n.patterns[c.id]={min:u,mid:p,max:d}}}return n}Uo.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(ya(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(ya(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var c=0;for(a=0;a<r.length;a+=3){var l=r[a]*n,u=r[a+1]*n,p=r[a+2]*n;c+=Math.abs((t[l]-t[p])*(t[u+1]-t[l+1])-(t[l]-t[u])*(t[p+1]-t[l+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},Uo.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},Ho.default=Wo;var Sa=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ni,this.indexArray=new _i,this.indexArray2=new vi,this.programConfigurations=new no(Yo,t.layers,t.zoom),this.segments=new Ri,this.segments2=new Ri,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Sa.prototype.populate=function(t,e){this.hasPattern=wa("fill",this.layers,e);for(var n=this.layers[0].layout.get("fill-sort-key"),r=[],i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.feature,c=a.index,l=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nr(this.zoom),s)){var u=so(s),p=n?n.evaluate(s,{},e.availableImages):void 0;r.push({id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:l,index:c,geometry:u,patterns:{},sortKey:p})}}n&&r.sort((function(t,e){return t.sortKey-e.sortKey}));for(var d=0,h=r;d<h.length;d+=1){var f=h[d],m=f.geometry,g=f.index,y=f.sourceLayerIndex;if(this.hasPattern){var _=Ca("fill",this.layers,f,this.zoom,e);this.patternFeatures.push(_)}else this.addFeature(f,m,g,{});e.featureIndex.insert(t[g].feature,m,g,y,this.index)}},Sa.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Sa.prototype.addFeatures=function(t,e){for(var n=0,r=this.patternFeatures;n<r.length;n+=1){var i=r[n];this.addFeature(i,i.geometry,i.index,e)}},Sa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Sa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Sa.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Yo),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},Sa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Sa.prototype.addFeature=function(t,e,n,r){for(var i=0,o=Ma(e,500);i<o.length;i+=1){for(var a=o[i],s=0,c=0,l=a;c<l.length;c+=1)s+=l[c].length;for(var u=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),p=u.vertexLength,d=[],h=[],f=0,m=a;f<m.length;f+=1){var g=m[f];if(0!==g.length){g!==a[0]&&h.push(d.length/2);var y=this.segments2.prepareSegment(g.length,this.layoutVertexArray,this.indexArray2),_=y.vertexLength;this.layoutVertexArray.emplaceBack(g[0].x,g[0].y),this.indexArray2.emplaceBack(_+g.length-1,_),d.push(g[0].x),d.push(g[0].y);for(var v=1;v<g.length;v++)this.layoutVertexArray.emplaceBack(g[v].x,g[v].y),this.indexArray2.emplaceBack(_+v-1,_+v),d.push(g[v].x),d.push(g[v].y);y.vertexLength+=g.length,y.primitiveLength+=g.length}}for(var b=Ho(d,h),M=0;M<b.length;M+=3)this.indexArray.emplaceBack(p+b[M],p+b[M+1],p+b[M+2]);u.vertexLength+=s,u.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},mr("FillBucket",Sa,{omit:["layers","patternFeatures"]});var Ea=new Jr({"fill-sort-key":new Wr(Tt.layout_fill["fill-sort-key"])}),Ta={paint:new Jr({"fill-antialias":new Hr(Tt.paint_fill["fill-antialias"]),"fill-opacity":new Wr(Tt.paint_fill["fill-opacity"]),"fill-color":new Wr(Tt.paint_fill["fill-color"]),"fill-outline-color":new Wr(Tt.paint_fill["fill-outline-color"]),"fill-translate":new Hr(Tt.paint_fill["fill-translate"]),"fill-translate-anchor":new Hr(Tt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ur(Tt.paint_fill["fill-pattern"])}),layout:Ea},Oa=function(t){function e(e){t.call(this,e,Ta)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new Sa(t)},e.prototype.queryRadius=function(){return wo(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return ho(Co(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e.prototype.isTileClipped=function(){return!0},e}($r),Aa=ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Pa=La;function La(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(ka,this,e)}function ka(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function Ia(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)r+=((n=t[a]).x-(e=t[i]).x)*(e.y+n.y);return r}La.types=["Unknown","Point","LineString","Polygon"],La.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,a=0,s=0,c=[];t.pos<n;){if(o<=0){var l=t.readVarint();r=7&l,o=l>>3}if(o--,1===r||2===r)a+=t.readSVarint(),s+=t.readSVarint(),1===r&&(e&&c.push(e),e=[]),e.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&c.push(e),c},La.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,c=1/0,l=-1/0;t.pos<e;){if(r<=0){var u=t.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<c&&(c=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,c,s,l]},La.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,c=this.loadGeometry(),l=La.types[this.type];function u(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<c.length;r++)p[r]=c[r][0];u(c=p);break;case 2:for(r=0;r<c.length;r++)u(c[r]);break;case 3:for(c=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=Ia(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(c),r=0;r<c.length;r++)for(i=0;i<c[r].length;i++)u(c[r][i])}1===c.length?c=c[0]:l="Multi"+l;var d={type:"Feature",geometry:{type:l,coordinates:c},properties:this.properties};return"id"in this&&(d.id=this.id),d};var Da=Na;function Na(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Ra,this,e),this.length=this._features.length}function Ra(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function za(t,e,n){if(3===t){var r=new Da(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}Na.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Pa(this._pbf,e,this.extent,this._keys,this._values)};var Fa={VectorTile:function(t,e){this.layers=t.readFields(za,{},e)},VectorTileFeature:Pa,VectorTileLayer:Da},ja=Fa.VectorTileFeature.types,Ba=Math.pow(2,13);function qa(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*Ba)+a,i*Ba*2,o*Ba*2,Math.round(s))}var Va=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ii,this.indexArray=new _i,this.programConfigurations=new no(Aa,t.layers,t.zoom),this.segments=new Ri,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Ya(t,e){return t.x===e.x&&(t.x<0||t.x>oo)||t.y===e.y&&(t.y<0||t.y>oo)}function Ha(t){return t.every((function(t){return t.x<0}))||t.every((function(t){return t.x>oo}))||t.every((function(t){return t.y<0}))||t.every((function(t){return t.y>oo}))}Va.prototype.populate=function(t,e){this.features=[],this.hasPattern=wa("fill-extrusion",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nr(this.zoom),o)){var c=so(o),l={sourceLayerIndex:s,index:a,geometry:c,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(l.id=o.id),this.hasPattern?this.features.push(Ca("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,c,a,{}),e.featureIndex.insert(o,c,a,s,this.index,!0)}}},Va.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n];this.addFeature(i,i.geometry,i.index,e)}},Va.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Va.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Va.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Va.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Aa),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Va.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Va.prototype.addFeature=function(t,e,n,r){for(var i=0,o=Ma(e,500);i<o.length;i+=1){for(var a=o[i],s=0,c=0,l=a;c<l.length;c+=1)s+=l[c].length;for(var u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,d=a;p<d.length;p+=1){var h=d[p];if(0!==h.length&&!Ha(h))for(var f=0,m=0;m<h.length;m++){var g=h[m];if(m>=1){var y=h[m-1];if(!Ya(g,y)){u.vertexLength+4>Ri.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=g.sub(y)._perp()._unit(),v=y.dist(g);f+v>32768&&(f=0),qa(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,0,f),qa(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,1,f),qa(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,f+=v),qa(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,f);var b=u.vertexLength;this.indexArray.emplaceBack(b,b+2,b+1),this.indexArray.emplaceBack(b+1,b+2,b+3),u.vertexLength+=4,u.primitiveLength+=2}}}}if(u.vertexLength+s>Ri.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===ja[t.type]){for(var M=[],x=[],w=u.vertexLength,C=0,S=a;C<S.length;C+=1){var E=S[C];if(0!==E.length){E!==a[0]&&x.push(M.length/2);for(var T=0;T<E.length;T++){var O=E[T];qa(this.layoutVertexArray,O.x,O.y,0,0,1,1,0),M.push(O.x),M.push(O.y)}}}for(var A=Ho(M,x),P=0;P<A.length;P+=3)this.indexArray.emplaceBack(w+A[P],w+A[P+2],w+A[P+1]);u.primitiveLength+=A.length/3,u.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},mr("FillExtrusionBucket",Va,{omit:["layers","features"]});var Wa={paint:new Jr({"fill-extrusion-opacity":new Hr(Tt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Wr(Tt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Hr(Tt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Hr(Tt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ur(Tt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Wr(Tt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Wr(Tt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Hr(Tt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ua=function(t){function e(e){t.call(this,e,Wa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Va(t)},e.prototype.queryRadius=function(){return wo(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s,c){var l=Co(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),u=this.paint.get("fill-extrusion-height").evaluate(e,n),p=this.paint.get("fill-extrusion-base").evaluate(e,n),d=function(t,e,n,r){for(var o=[],a=0,s=t;a<s.length;a+=1){var c=s[a],l=[c.x,c.y,0,1];Ao(l,l,e),o.push(new i(l[0]/l[3],l[1]/l[3]))}return o}(l,c),h=function(t,e,n,r){for(var o=[],a=[],s=r[8]*e,c=r[9]*e,l=r[10]*e,u=r[11]*e,p=r[8]*n,d=r[9]*n,h=r[10]*n,f=r[11]*n,m=0,g=t;m<g.length;m+=1){for(var y=[],_=[],v=0,b=g[m];v<b.length;v+=1){var M=b[v],x=M.x,w=M.y,C=r[0]*x+r[4]*w+r[12],S=r[1]*x+r[5]*w+r[13],E=r[2]*x+r[6]*w+r[14],T=r[3]*x+r[7]*w+r[15],O=E+l,A=T+u,P=C+p,L=S+d,k=E+h,I=T+f,D=new i((C+s)/A,(S+c)/A);D.z=O/A,y.push(D);var N=new i(P/I,L/I);N.z=k/I,_.push(N)}o.push(y),a.push(_)}return[o,a]}(r,p,u,c);return function(t,e,n){var r=1/0;ho(n,e)&&(r=Ga(n,e[0]));for(var i=0;i<e.length;i++)for(var o=e[i],a=t[i],s=0;s<o.length-1;s++){var c=o[s],l=[c,o[s+1],a[s+1],a[s],c];uo(n,l)&&(r=Math.min(r,Ga(n,l)))}return r!==1/0&&r}(h[0],h[1],d)},e}($r);function Xa(t,e){return t.x*e.x+t.y*e.y}function Ga(t,e){if(1===t.length){var n=e[0],r=e[1],i=e[3],o=t[0],a=r.sub(n),s=i.sub(n),c=o.sub(n),l=Xa(a,a),u=Xa(a,s),p=Xa(s,s),d=Xa(c,a),h=Xa(c,s),f=l*p-u*u,m=(p*d-u*h)/f,g=(l*h-u*d)/f;return n.z*(1-m-g)+r.z*m+i.z*g}for(var y=1/0,_=0,v=e;_<v.length;_+=1)y=Math.min(y,v[_].z);return y}var Ja=ti([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,$a=Fa.VectorTileFeature.types,Ka=Math.cos(Math.PI/180*37.5),Za=Math.pow(2,14)/.5,Qa=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new oi,this.indexArray=new _i,this.programConfigurations=new no(Ja,t.layers,t.zoom),this.segments=new Ri,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Qa.prototype.populate=function(t,e){this.hasPattern=wa("line",this.layers,e);for(var n=this.layers[0].layout.get("line-sort-key"),r=[],i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.feature,c=a.index,l=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nr(this.zoom),s)){var u=so(s),p=n?n.evaluate(s,{}):void 0;r.push({id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:l,index:c,geometry:u,patterns:{},sortKey:p})}}n&&r.sort((function(t,e){return t.sortKey-e.sortKey}));for(var d=0,h=r;d<h.length;d+=1){var f=h[d],m=f.geometry,g=f.index,y=f.sourceLayerIndex;if(this.hasPattern){var _=Ca("line",this.layers,f,this.zoom,e);this.patternFeatures.push(_)}else this.addFeature(f,m,g,{});e.featureIndex.insert(t[g].feature,m,g,y,this.index)}},Qa.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Qa.prototype.addFeatures=function(t,e){for(var n=0,r=this.patternFeatures;n<r.length;n+=1){var i=r[n];this.addFeature(i,i.geometry,i.index,e)}},Qa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Qa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qa.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ja),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Qa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qa.prototype.addFeature=function(t,e,n,r){for(var i=this.layers[0].layout,o=i.get("line-join").evaluate(t,{}),a=i.get("line-cap"),s=i.get("line-miter-limit"),c=i.get("line-round-limit"),l=0,u=e;l<u.length;l+=1)this.addLine(u[l],t,o,a,s,c,n,r)},Qa.prototype.addLine=function(t,e,n,r,i,o,a,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+e.properties.mapbox_clip_start,this.clipEnd=+e.properties.mapbox_clip_end;for(var c=0;c<t.length-1;c++)this.totalDistance+=t[c].dist(t[c+1])}for(var l="Polygon"===$a[e.type],u=t.length;u>=2&&t[u-1].equals(t[u-2]);)u--;for(var p=0;p<u-1&&t[p].equals(t[p+1]);)p++;if(!(u<(l?3:2))){"bevel"===n&&(i=1.05);var d,h=oo/(512*this.overscaling)*15,f=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),m=void 0,g=void 0,y=void 0,_=void 0;this.e1=this.e2=-1,l&&(_=t[p].sub(d=t[u-2])._unit()._perp());for(var v=p;v<u;v++)if(!(g=l&&v===u-1?t[p+1]:t[v+1])||!t[v].equals(g)){_&&(y=_),d&&(m=d),d=t[v],_=g?g.sub(d)._unit()._perp():y;var b=(y=y||_).add(_);0===b.x&&0===b.y||b._unit();var M=y.x*_.x+y.y*_.y,x=b.x*_.x+b.y*_.y,w=0!==x?1/x:1/0,C=2*Math.sqrt(2-2*x),S=x<Ka&&m&&g,E=y.x*_.y-y.y*_.x>0;if(S&&v>p){var T=d.dist(m);if(T>2*h){var O=d.sub(d.sub(m)._mult(h/T)._round());this.updateDistance(m,O),this.addCurrentVertex(O,y,0,0,f),m=O}}var A=m&&g,P=A?n:l?"butt":r;if(A&&"round"===P&&(w<o?P="miter":w<=2&&(P="fakeround")),"miter"===P&&w>i&&(P="bevel"),"bevel"===P&&(w>2&&(P="flipbevel"),w<i&&(P="miter")),m&&this.updateDistance(m,d),"miter"===P)b._mult(w),this.addCurrentVertex(d,b,0,0,f);else if("flipbevel"===P){if(w>100)b=_.mult(-1);else{var L=w*y.add(_).mag()/y.sub(_).mag();b._perp()._mult(L*(E?-1:1))}this.addCurrentVertex(d,b,0,0,f),this.addCurrentVertex(d,b.mult(-1),0,0,f)}else if("bevel"===P||"fakeround"===P){var k=-Math.sqrt(w*w-1),I=E?k:0,D=E?0:k;if(m&&this.addCurrentVertex(d,y,I,D,f),"fakeround"===P)for(var N=Math.round(180*C/Math.PI/20),R=1;R<N;R++){var z=R/N;if(.5!==z){var F=z-.5;z+=z*F*(z-1)*((1.0904+M*(M*(3.55645-1.43519*M)-3.2452))*F*F+(.848013+M*(.215638*M-1.06021)))}var j=_.sub(y)._mult(z)._add(y)._unit()._mult(E?-1:1);this.addHalfVertex(d,j.x,j.y,!1,E,0,f)}g&&this.addCurrentVertex(d,_,-I,-D,f)}else if("butt"===P)this.addCurrentVertex(d,b,0,0,f);else if("square"===P){var B=m?1:-1;this.addCurrentVertex(d,b,B,B,f)}else"round"===P&&(m&&(this.addCurrentVertex(d,y,0,0,f),this.addCurrentVertex(d,y,1,1,f,!0)),g&&(this.addCurrentVertex(d,_,-1,-1,f,!0),this.addCurrentVertex(d,_,0,0,f)));if(S&&v<u-1){var q=d.dist(g);if(q>2*h){var V=d.add(g.sub(d)._mult(h/q)._round());this.updateDistance(d,V),this.addCurrentVertex(V,_,0,0,f),d=V}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a,s)}},Qa.prototype.addCurrentVertex=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=e.y*r-e.x,s=-e.y-e.x*r;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,i),this.addHalfVertex(t,a,s,o,!0,-r,i),this.distance>Za/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,r,i,o))},Qa.prototype.addHalfVertex=function(t,e,n,r,i,o,a){var s=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((t.x<<1)+(r?1:0),(t.y<<1)+(i?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6);var c=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),a.primitiveLength++),i?this.e2=c:this.e1=c},Qa.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Za-1):this.distance},mr("LineBucket",Qa,{omit:["layers","patternFeatures"]});var ts=new Jr({"line-cap":new Hr(Tt.layout_line["line-cap"]),"line-join":new Wr(Tt.layout_line["line-join"]),"line-miter-limit":new Hr(Tt.layout_line["line-miter-limit"]),"line-round-limit":new Hr(Tt.layout_line["line-round-limit"]),"line-sort-key":new Wr(Tt.layout_line["line-sort-key"])}),es={paint:new Jr({"line-opacity":new Wr(Tt.paint_line["line-opacity"]),"line-color":new Wr(Tt.paint_line["line-color"]),"line-translate":new Hr(Tt.paint_line["line-translate"]),"line-translate-anchor":new Hr(Tt.paint_line["line-translate-anchor"]),"line-width":new Wr(Tt.paint_line["line-width"]),"line-gap-width":new Wr(Tt.paint_line["line-gap-width"]),"line-offset":new Wr(Tt.paint_line["line-offset"]),"line-blur":new Wr(Tt.paint_line["line-blur"]),"line-dasharray":new Xr(Tt.paint_line["line-dasharray"]),"line-pattern":new Ur(Tt.paint_line["line-pattern"]),"line-gradient":new Gr(Tt.paint_line["line-gradient"])}),layout:ts},ns=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new Nr(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r,i){return n=p({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r,i)},e}(Wr))(es.paint.properties["line-width"].specification);ns.useIntegerZoom=!0;var rs=function(t){function e(e){t.call(this,e,es)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},e.prototype._updateGradient=function(){this.gradient=jo(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=ns.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new Qa(t)},e.prototype.queryRadius=function(t){var e=t,n=is(xo("line-width",this,e),xo("line-gap-width",this,e)),r=xo("line-offset",this,e);return n/2+Math.abs(r)+wo(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s){var c=Co(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),l=s/2*is(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),u=this.paint.get("line-offset").evaluate(e,n);return u&&(r=function(t,e){for(var n=[],r=new i(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],c=0;c<a.length;c++){var l=a[c],u=a[c+1],p=0===c?r:l.sub(a[c-1])._unit()._perp(),d=c===a.length-1?r:u.sub(l)._unit()._perp(),h=p._add(d)._unit();h._mult(1/(h.x*d.x+h.y*d.y)),s.push(h._mult(e)._add(l))}n.push(s)}return n}(r,u*s)),function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.length>=3)for(var o=0;o<i.length;o++)if(bo(t,i[o]))return!0;if(fo(t,i,n))return!0}return!1}(c,r,l)},e.prototype.isTileClipped=function(){return!0},e}($r);function is(t,e){return e>0?e+2*t:t}var os=ti([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),as=ti([{name:"a_projected_pos",components:3,type:"Float32"}],4),ss=(ti([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ti([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),cs=(ti([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),ls=ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function us(t,e,n){return t.sections.forEach((function(t){t.text=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),Dr.applyArabicShaping&&(t=Dr.applyArabicShaping(t)),t}(t.text,e,n)})),t}ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),ti([{type:"Float32",name:"offsetX"}]),ti([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var ps={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},ds={horizontal:1,vertical:2,horizontalOnly:3},hs=function(){this.text="",this.sectionIndex=[],this.sections=[]};function fs(t,e,n,r,i,o,a,s,c,l,u,p){var d,h=hs.fromFeature(t,n);l===ds.vertical&&h.verticalizePunctuation();var f=Dr.processBidirectionalText,m=Dr.processStyledBidirectionalText;if(f&&1===h.sections.length){d=[];for(var g=0,y=f(h.toString(),bs(h,s,r,e,p));g<y.length;g+=1){var _=y[g],v=new hs;v.text=_,v.sections=h.sections;for(var b=0;b<_.length;b++)v.sectionIndex.push(0);d.push(v)}}else if(m){d=[];for(var M=0,x=m(h.text,h.sectionIndex,bs(h,s,r,e,p));M<x.length;M+=1){var w=x[M],C=new hs;C.text=w[0],C.sectionIndex=w[1],C.sections=h.sections,d.push(C)}}else d=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(i,s)),i=s}return i<r.length&&n.push(t.substring(i,r.length)),n}(h,bs(h,s,r,e,p));var S=[],E={positionedGlyphs:S,text:h.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:l,lineCount:d.length,yOffset:-17};return function(t,e,n,r,i,o,a,s,c){for(var l=0,u=t.yOffset,p=0,d=t.positionedGlyphs,h="right"===o?1:"left"===o?0:.5,f=0,m=n;f<m.length;f+=1){var g=m[f];g.trim();var y=g.getMaxScale();if(g.length()){for(var _=d.length,v=0;v<g.length();v++){var b=g.getSection(v),M=g.getSectionIndex(v),x=g.getCharCode(v),w=24*(y-b.scale),C=e[b.fontStack],S=C&&C[x];S&&(a===ds.horizontal||!c&&!Cr(x)||c&&(ms[x]||Mr.Arabic(E=x)||Mr["Arabic Supplement"](E)||Mr["Arabic Extended-A"](E)||Mr["Arabic Presentation Forms-A"](E)||Mr["Arabic Presentation Forms-B"](E))?(d.push({glyph:x,x:l,y:u+w,vertical:!1,scale:b.scale,fontStack:b.fontStack,sectionIndex:M}),l+=S.metrics.advance*b.scale+s):(d.push({glyph:x,x:l,y:u+w,vertical:!0,scale:b.scale,fontStack:b.fontStack,sectionIndex:M}),l+=24*b.scale+s))}d.length!==_&&(p=Math.max(l-s,p),xs(d,e,_,d.length-1,h)),l=0,u+=r*y}else u+=r}var E,T=Ms(i),O=T.horizontalAlign,A=T.verticalAlign;!function(t,e,n,r,i,o,a){for(var s=(e-n)*i,c=(-r*a+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=c}(d,h,O,A,p,r,n.length);var P=u-t.yOffset;t.top+=-A*P,t.bottom=t.top+P,t.left+=-O*p,t.right=t.left+p}(E,e,d,i,o,a,l,s,u),!!S.length&&E}hs.fromFeature=function(t,e){for(var n=new hs,r=0;r<t.sections.length;r++){var i=t.sections[r];n.sections.push({scale:i.scale||1,fontStack:i.fontStack||e}),n.text+=i.text;for(var o=0;o<i.text.length;o++)n.sectionIndex.push(r)}return n},hs.prototype.length=function(){return this.text.length},hs.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},hs.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},hs.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},hs.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;r&&Sr(r)&&!ps[t[n+1]]||i&&Sr(i)&&!ps[t[n-1]]||!ps[t[n]]?e+=t[n]:e+=ps[t[n]]}return e}(this.text)},hs.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&ms[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&ms[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},hs.prototype.substring=function(t,e){var n=new hs;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},hs.prototype.toString=function(){return this.text},hs.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)};var ms={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},gs={};function ys(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function _s(t,e,n){var r=0;return 10===t&&(r-=1e4),n&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function vs(t,e,n,r,i,o){for(var a=null,s=ys(e,n,i,o),c=0,l=r;c<l.length;c+=1){var u=l[c],p=ys(e-u.x,n,i,o)+u.badness;p<=s&&(a=u,s=p)}return{index:t,x:e,priorBreak:a,badness:s}}function bs(t,e,n,r,i){if("point"!==i)return[];if(!t)return[];for(var o,a=[],s=function(t,e,n,r){for(var i=0,o=0;o<t.length();o++){var a=t.getSection(o),s=r[a.fontStack],c=s&&s[t.getCharCode(o)];c&&(i+=c.metrics.advance*a.scale+e)}return i/Math.max(1,Math.ceil(i/n))}(t,e,n,r),c=t.text.indexOf("\u200b")>=0,l=0,u=0;u<t.length();u++){var p=t.getSection(u),d=t.getCharCode(u),h=r[p.fontStack],f=h&&h[d];if(f&&!ms[d]&&(l+=f.metrics.advance*p.scale+e),u<t.length()-1){var m=!((o=d)<11904||!(Mr["Bopomofo Extended"](o)||Mr.Bopomofo(o)||Mr["CJK Compatibility Forms"](o)||Mr["CJK Compatibility Ideographs"](o)||Mr["CJK Compatibility"](o)||Mr["CJK Radicals Supplement"](o)||Mr["CJK Strokes"](o)||Mr["CJK Symbols and Punctuation"](o)||Mr["CJK Unified Ideographs Extension A"](o)||Mr["CJK Unified Ideographs"](o)||Mr["Enclosed CJK Letters and Months"](o)||Mr["Halfwidth and Fullwidth Forms"](o)||Mr.Hiragana(o)||Mr["Ideographic Description Characters"](o)||Mr["Kangxi Radicals"](o)||Mr["Katakana Phonetic Extensions"](o)||Mr.Katakana(o)||Mr["Vertical Forms"](o)||Mr["Yi Radicals"](o)||Mr["Yi Syllables"](o)));(gs[d]||m)&&a.push(vs(u+1,l,s,a,_s(d,t.getCharCode(u+1),m&&c),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(vs(t.length(),l,s,a,0,!0))}function Ms(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function xs(t,e,n,r,i){if(i){var o=t[r],a=e[o.fontStack],s=a&&a[o.glyph];if(s)for(var c=(t[r].x+s.metrics.advance*o.scale)*i,l=n;l<=r;l++)t[l].x-=c}}function ws(t,e,n,r,i,o){var a,s,c,l,u=t.image,p=e.left*o,d=e.right*o;"width"===n||"both"===n?(l=i[0]+p-r[3],s=i[0]+d+r[1]):s=(l=i[0]+(p+d-u.displaySize[0])/2)+u.displaySize[0];var h=e.top*o,f=e.bottom*o;return"height"===n||"both"===n?(a=i[1]+h-r[0],c=i[1]+f+r[2]):c=(a=i[1]+(h+f-u.displaySize[1])/2)+u.displaySize[1],{image:u,top:a,right:s,bottom:c,left:l}}gs[10]=!0,gs[32]=!0,gs[38]=!0,gs[40]=!0,gs[41]=!0,gs[43]=!0,gs[45]=!0,gs[47]=!0,gs[173]=!0,gs[183]=!0,gs[8203]=!0,gs[8208]=!0,gs[8211]=!0,gs[8231]=!0;var Cs=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);mr("Anchor",Cs);var Ss=256;function Es(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Nr(t+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<t+1;)a++;a=Math.min(r.length-1,a);var s=r[o],c=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:c,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:c,minSize:n.evaluate(new Nr(s)),maxSize:n.evaluate(new Nr(c)),interpolationType:i}}function Ts(t,e,n){var r=e.uSize,i=n.lowerSize;return"source"===t.kind?i/Ss:"composite"===t.kind?Ee(i/Ss,n.upperSize/Ss,e.uSizeT):r}function Os(t,e){var n=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){var i=t.interpolationType,o=i?l(qe.interpolationFactor(i,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?r=Ee(t.minSize,t.maxSize,o):n=o}return{uSizeT:n,uSize:r}}var As=Object.freeze({__proto__:null,getSizeData:Es,evaluateSizeForFeature:Ts,evaluateSizeForZoom:Os,SIZE_PACK_FACTOR:Ss}),Ps=Fa.VectorTileFeature.types,Ls=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ks(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,s?s[0]:0,s?s[1]:0)}function Is(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var Ds=function(t){this.layoutVertexArray=new si,this.indexArray=new _i,this.programConfigurations=t,this.segments=new Ri,this.dynamicLayoutVertexArray=new ci,this.opacityVertexArray=new li,this.placedSymbolArray=new Ei};Ds.prototype.upload=function(t,e,n,r){n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,os.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,as.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Ls,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t)},Ds.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},mr("SymbolBuffers",Ds);var Ns=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new Ri,this.collisionVertexArray=new di};Ns.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,ss.members,!0)},Ns.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},mr("CollisionBuffers",Ns);var Rs=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasPaintOverrides=!1;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Es(this.zoom,e["text-size"]),this.iconSizeData=Es(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(t){return ds[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};Rs.prototype.createArrays=function(){this.hasPaintOverrides=Bs.hasPaintOverrides(this.layers[0].layout),this.text=new Ds(new no(os.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new Ds(new no(os.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.textCollisionBox=new Ns(pi,cs.members,vi),this.iconCollisionBox=new Ns(pi,cs.members,vi),this.textCollisionCircle=new Ns(pi,ls.members,_i),this.iconCollisionCircle=new Ns(pi,ls.members,_i),this.glyphOffsetArray=new Pi,this.lineVertexArray=new ki,this.symbolInstances=new Oi},Rs.prototype.calculateGlyphDependencies=function(t,e,n,r,i){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||r)&&i){var a=ps[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}},Rs.prototype.populate=function(t,e){var n=this.layers[0],r=n.layout,i=r.get("text-font"),o=r.get("text-field"),a=r.get("icon-image"),s=("constant"!==o.value.kind||o.value.value.toString().length>0)&&("constant"!==i.value.kind||i.value.value.length>0),c=("constant"!==a.value.kind||!!a.value.value)&&Object.keys(a.parameters).length>0,l=r.get("symbol-sort-key");if(this.features=[],s||c){for(var u=e.iconDependencies,p=e.glyphDependencies,d=e.availableImages,h=new Nr(this.zoom),f=0,m=t;f<m.length;f+=1){var g=m[f],y=g.feature,_=g.index,v=g.sourceLayerIndex;if(n._featureFilter(h,y)){var b=void 0;if(s){var M=n.getValueAndResolveTokens("text-field",y,d);b=us(M instanceof te?M:te.fromString(M),n,y)}var x=void 0;if(c){var w=n.getValueAndResolveTokens("icon-image",y,d);x=w instanceof ee?w:ee.fromString(w)}if(b||x){var C=this.sortFeaturesByKey?l.evaluate(y,{}):void 0,S={text:b,icon:x,index:_,sourceLayerIndex:v,geometry:so(y),properties:y.properties,type:Ps[y.type],sortKey:C};if(void 0!==y.id&&(S.id=y.id),this.features.push(S),x&&(u[x.name]=!0),b){var E=i.evaluate(y,{}).join(","),T="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ds.vertical)>=0;for(var O=0,A=b.sections;O<A.length;O+=1){var P=A[O],L=xr(b.toString()),k=P.fontStack||E,I=p[k]=p[k]||{};this.calculateGlyphDependencies(P.text,I,T,this.allowVerticalPlacement,L)}}}}}"line"===r.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function c(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var l=0;l<t.length;l++){var u=t[l],p=u.geometry,d=u.text?u.text.toString():null;if(d){var h=c(d,p),f=c(d,p,!0);if(h in n&&f in e&&n[h]!==e[f]){var m=s(h,f,p),g=a(h,f,r[m].geometry);delete e[h],delete n[f],n[c(d,r[g].geometry,!0)]=g,r[m].geometry=null}else h in n?a(h,f,p):f in e?s(h,f,p):(o(l),e[h]=i-1,n[f]=i-1)}else o(l)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},Rs.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},Rs.prototype.isEmpty=function(){return 0===this.symbolInstances.length},Rs.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Rs.prototype.upload=function(t){this.uploaded||(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t),this.textCollisionCircle.upload(t),this.iconCollisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Rs.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},Rs.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var c=0;c<e.length;c++){var l=o[c];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},Rs.prototype.addSymbols=function(t,e,n,r,i,o,a,s,c,l,u){var p=this,d=t.indexArray,h=t.layoutVertexArray,f=t.dynamicLayoutVertexArray,m=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray,o.sortKey),g=this.glyphOffsetArray.length,y=m.vertexLength,_=this.allowVerticalPlacement&&a===ds.vertical?Math.PI/2:0,v=function(t){var e=t.tl,r=t.tr,i=t.bl,o=t.br,a=t.tex,c=m.vertexLength,l=t.glyphOffset[1];ks(h,s.x,s.y,e.x,l+e.y,a.x,a.y,n),ks(h,s.x,s.y,r.x,l+r.y,a.x+a.w,a.y,n),ks(h,s.x,s.y,i.x,l+i.y,a.x,a.y+a.h,n),ks(h,s.x,s.y,o.x,l+o.y,a.x+a.w,a.y+a.h,n),Is(f,s,_),d.emplaceBack(c,c+1,c+2),d.emplaceBack(c+1,c+2,c+3),m.vertexLength+=4,m.primitiveLength+=2,p.glyphOffsetArray.emplaceBack(t.glyphOffset[0])};if(o.text&&o.text.sections){var b=o.text.sections;if(this.hasPaintOverrides){for(var M,x=function(e,n){void 0===M||M===e&&!n||t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{},b[M]),M=e},w=0,C=e;w<C.length;w+=1){var S=C[w];x(S.sectionIndex,!1),v(S)}x(M,!0)}else{for(var E=0,T=e;E<T.length;E+=1)v(T[E]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{},b[0])}}else{for(var O=0,A=e;O<A.length;O+=1)v(A[O]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{})}t.placedSymbolArray.emplaceBack(s.x,s.y,g,this.glyphOffsetArray.length-g,y,c,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,u)},Rs.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},Rs.prototype.addCollisionDebugVertices=function(t,e,n,r,o,a,s,c){var l=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),u=l.vertexLength,p=o.layoutVertexArray,d=o.collisionVertexArray,h=s.anchorX,f=s.anchorY;if(this._addCollisionDebugVertex(p,d,a,h,f,new i(t,e)),this._addCollisionDebugVertex(p,d,a,h,f,new i(n,e)),this._addCollisionDebugVertex(p,d,a,h,f,new i(n,r)),this._addCollisionDebugVertex(p,d,a,h,f,new i(t,r)),l.vertexLength+=4,c){var m=o.indexArray;m.emplaceBack(u,u+1,u+2),m.emplaceBack(u,u+2,u+3),l.primitiveLength+=2}else{var g=o.indexArray;g.emplaceBack(u,u+1),g.emplaceBack(u+1,u+2),g.emplaceBack(u+2,u+3),g.emplaceBack(u+3,u),l.primitiveLength+=4}},Rs.prototype.addDebugCollisionBoxes=function(t,e,n,r){for(var i=t;i<e;i++){var o=this.collisionBoxArray.get(i),a=o.radius>0;this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,a?r?this.textCollisionCircle:this.iconCollisionCircle:r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n,a)}},Rs.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},Rs.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i,o,a,s,c){for(var l={},u=e;u<n;u++){var p=t.get(u);if(0===p.radius){l.textBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},l.textFeatureIndex=p.featureIndex;break}l.textCircles||(l.textCircles=[],l.textFeatureIndex=p.featureIndex),l.textCircles.push(p.anchorPointX,p.anchorPointY,p.radius,p.signedDistanceFromAnchor,1)}for(var d=r;d<i;d++){var h=t.get(d);if(0===h.radius){l.verticalTextBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},l.verticalTextFeatureIndex=h.featureIndex;break}}for(var f=o;f<a;f++){var m=t.get(f);if(0===m.radius){l.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},l.iconFeatureIndex=m.featureIndex;break}}for(var g=s;g<c;g++){var y=t.get(g);if(0===y.radius){l.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},l.verticalIconFeatureIndex=y.featureIndex;break}}return l},Rs.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},Rs.prototype.hasTextData=function(){return this.text.segments.get().length>0},Rs.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Rs.prototype.hasTextCollisionBoxData=function(){return this.textCollisionBox.segments.get().length>0},Rs.prototype.hasIconCollisionBoxData=function(){return this.iconCollisionBox.segments.get().length>0},Rs.prototype.hasTextCollisionCircleData=function(){return this.textCollisionCircle.segments.get().length>0},Rs.prototype.hasIconCollisionCircleData=function(){return this.iconCollisionCircle.segments.get().length>0},Rs.prototype.addIndicesForPlacedTextSymbol=function(t){for(var e=this.text.placedSymbolArray.get(t),n=e.vertexStartIndex+4*e.numGlyphs,r=e.vertexStartIndex;r<n;r+=4)this.text.indexArray.emplaceBack(r,r+1,r+2),this.text.indexArray.emplaceBack(r+1,r+2,r+3)},Rs.prototype.addIndicesForPlacedIconSymbol=function(t){var e=this.icon.placedSymbolArray.get(t);if(e.numGlyphs){var n=e.vertexStartIndex;this.icon.indexArray.emplaceBack(n,n+1,n+2),this.icon.indexArray.emplaceBack(n+1,n+2,n+3)}},Rs.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(e*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(t,e){return r[t]-r[e]||i[e]-i[t]})),o},Rs.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(t,n,r){t>=0&&r.indexOf(t)===n&&e.addIndicesForPlacedTextSymbol(t)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedIconSymbol(i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedIconSymbol(i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},mr("SymbolBucket",Rs,{omit:["layers","collisionBoxArray","features","compareText"]}),Rs.MAX_GLYPHS=65535,Rs.addDynamicAttributes=Is;var zs=new Jr({"symbol-placement":new Hr(Tt.layout_symbol["symbol-placement"]),"symbol-spacing":new Hr(Tt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Hr(Tt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Wr(Tt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Hr(Tt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Hr(Tt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Hr(Tt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Hr(Tt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Hr(Tt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Wr(Tt.layout_symbol["icon-size"]),"icon-text-fit":new Hr(Tt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Hr(Tt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Wr(Tt.layout_symbol["icon-image"]),"icon-rotate":new Wr(Tt.layout_symbol["icon-rotate"]),"icon-padding":new Hr(Tt.layout_symbol["icon-padding"]),"icon-keep-upright":new Hr(Tt.layout_symbol["icon-keep-upright"]),"icon-offset":new Wr(Tt.layout_symbol["icon-offset"]),"icon-anchor":new Wr(Tt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Hr(Tt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Hr(Tt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Hr(Tt.layout_symbol["text-rotation-alignment"]),"text-field":new Wr(Tt.layout_symbol["text-field"]),"text-font":new Wr(Tt.layout_symbol["text-font"]),"text-size":new Wr(Tt.layout_symbol["text-size"]),"text-max-width":new Wr(Tt.layout_symbol["text-max-width"]),"text-line-height":new Hr(Tt.layout_symbol["text-line-height"]),"text-letter-spacing":new Wr(Tt.layout_symbol["text-letter-spacing"]),"text-justify":new Wr(Tt.layout_symbol["text-justify"]),"text-radial-offset":new Wr(Tt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Hr(Tt.layout_symbol["text-variable-anchor"]),"text-anchor":new Wr(Tt.layout_symbol["text-anchor"]),"text-max-angle":new Hr(Tt.layout_symbol["text-max-angle"]),"text-writing-mode":new Hr(Tt.layout_symbol["text-writing-mode"]),"text-rotate":new Wr(Tt.layout_symbol["text-rotate"]),"text-padding":new Hr(Tt.layout_symbol["text-padding"]),"text-keep-upright":new Hr(Tt.layout_symbol["text-keep-upright"]),"text-transform":new Wr(Tt.layout_symbol["text-transform"]),"text-offset":new Wr(Tt.layout_symbol["text-offset"]),"text-allow-overlap":new Hr(Tt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Hr(Tt.layout_symbol["text-ignore-placement"]),"text-optional":new Hr(Tt.layout_symbol["text-optional"])}),Fs={paint:new Jr({"icon-opacity":new Wr(Tt.paint_symbol["icon-opacity"]),"icon-color":new Wr(Tt.paint_symbol["icon-color"]),"icon-halo-color":new Wr(Tt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Wr(Tt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Wr(Tt.paint_symbol["icon-halo-blur"]),"icon-translate":new Hr(Tt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Hr(Tt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Wr(Tt.paint_symbol["text-opacity"]),"text-color":new Wr(Tt.paint_symbol["text-color"],{runtimeType:Bt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new Wr(Tt.paint_symbol["text-halo-color"]),"text-halo-width":new Wr(Tt.paint_symbol["text-halo-width"]),"text-halo-blur":new Wr(Tt.paint_symbol["text-halo-blur"]),"text-translate":new Hr(Tt.paint_symbol["text-translate"]),"text-translate-anchor":new Hr(Tt.paint_symbol["text-translate-anchor"])}),layout:zs},js=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Rt,this.defaultValue=t};js.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},js.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},js.prototype.possibleOutputs=function(){return[void 0]},js.prototype.serialize=function(){return null},mr("FormatSectionOverride",js,{omit:["defaultValue"]});var Bs=function(t){function e(e){t.call(this,e,Fs)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n){var r=this.layout.get(t).evaluate(e,{},n),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||Sn(i.value)||!r?r:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,n){return n in t?String(t[n]):""}))}(e.properties,r)},e.prototype.createBucket=function(t){return new Rs(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=Fs.paint.overridableProperties;t<n.length;t+=1){var r=n[t];if(e.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new js(o),s=new Cn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Tn("source",s):new On("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new Vr(o.property,i,o.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),r=Fs.paint.properties[e],i=!1,o=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r.overrides&&r.overrides.hasOverride(n[e]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof te)o(n.value.value.sections);else if("source"===n.value.kind){var a=function(t){i||(t instanceof oe&&re(t.value)===Ht?o(t.value.sections):t instanceof le?o(t.sections):t.eachChild(a))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},e.hasPaintOverrides=function(t){for(var n=0,r=Fs.paint.overridableProperties;n<r.length;n+=1)if(e.hasPaintOverride(t,r[n]))return!0;return!1},e}($r),qs={paint:new Jr({"background-color":new Hr(Tt.paint_background["background-color"]),"background-pattern":new Xr(Tt.paint_background["background-pattern"]),"background-opacity":new Hr(Tt.paint_background["background-opacity"])})},Vs=function(t){function e(e){t.call(this,e,qs)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}($r),Ys={paint:new Jr({"raster-opacity":new Hr(Tt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Hr(Tt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Hr(Tt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Hr(Tt.paint_raster["raster-brightness-max"]),"raster-saturation":new Hr(Tt.paint_raster["raster-saturation"]),"raster-contrast":new Hr(Tt.paint_raster["raster-contrast"]),"raster-resampling":new Hr(Tt.paint_raster["raster-resampling"]),"raster-fade-duration":new Hr(Tt.paint_raster["raster-fade-duration"])})},Hs=function(t){function e(e){t.call(this,e,Ys)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}($r),Ws=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}($r),Us={circle:Po,heatmap:Bo,hillshade:Vo,fill:Oa,"fill-extrusion":Ua,line:rs,symbol:Bs,background:Vs,raster:Hs};function Xs(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,c=0,l=0,u=t;l<u.length;l+=1)for(var p=u[l],d=a.length-1;d>=0;d--){var h=a[d];if(!(p.w>h.w||p.h>h.h)){if(p.x=h.x,p.y=h.y,c=Math.max(c,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===h.w&&p.h===h.h){var f=a.pop();d<a.length&&(a[d]=f)}else p.h===h.h?(h.x+=p.w,h.w-=p.w):p.w===h.w?(h.y+=p.h,h.h-=p.h):(a.push({x:h.x+p.w,y:h.y,w:h.w-p.w,h:p.h}),h.y+=p.h,h.h-=p.h);break}}return{w:s,h:c,fill:e/(s*c)||0}}var Gs=function(t,e){var n=e.pixelRatio,r=e.version;this.paddedRect=t,this.pixelRatio=n,this.version=r},Js={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Js.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Js.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Js.tlbr.get=function(){return this.tl.concat(this.br)},Js.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Gs.prototype,Js);var $s=function(t,e){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,n,i),this.addImages(e,r,i);var o=Xs(i),a=new zo({width:o.w||1,height:o.h||1});for(var s in t){var c=t[s],l=n[s].paddedRect;zo.copy(c.data,a,{x:0,y:0},{x:l.x+1,y:l.y+1},c.data)}for(var u in e){var p=e[u],d=r[u].paddedRect,h=d.x+1,f=d.y+1,m=p.data.width,g=p.data.height;zo.copy(p.data,a,{x:0,y:0},{x:h,y:f},p.data),zo.copy(p.data,a,{x:0,y:g-1},{x:h,y:f-1},{width:m,height:1}),zo.copy(p.data,a,{x:0,y:0},{x:h,y:f+g},{width:m,height:1}),zo.copy(p.data,a,{x:m-1,y:0},{x:h-1,y:f},{width:1,height:g}),zo.copy(p.data,a,{x:0,y:0},{x:h+m,y:f},{width:1,height:g})}this.image=a,this.iconPositions=n,this.patternPositions=r};$s.prototype.addImages=function(t,e,n){for(var r in t){var i=t[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),e[r]=new Gs(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},$s.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},$s.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var r=t.tl;n.update(e.data,void 0,{x:r[0],y:r[1]})}},mr("ImagePosition",Gs),mr("ImageAtlas",$s);var Ks=self.HTMLImageElement,Zs=self.HTMLCanvasElement,Qs=self.HTMLVideoElement,tc=self.ImageData,ec=function(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};ec.prototype.update=function(t,e,n){var r=t.width,i=t.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[r,i],t instanceof Ks||t instanceof Zs||t instanceof Qs||t instanceof tc?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,t.data);else{var c=n||{x:0,y:0},l=c.x,u=c.y;t instanceof Ks||t instanceof Zs||t instanceof Qs||t instanceof tc?s.texSubImage2D(s.TEXTURE_2D,0,l,u,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,l,u,r,i,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},ec.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},ec.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ec.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var nc={read:function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,p=n?i-1:0,d=n?-1:1,h=t[e+p];for(p+=d,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+t[e+p],p+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+p],p+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},write:function(t,e,n,r,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,p=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+p>=1?d/c:d*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(e*c-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+h]=255&a,h+=f,a/=256,l-=8);t[n+h-f]|=128*m}},rc=ic;function ic(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}ic.Varint=0,ic.Fixed64=1,ic.Bytes=2,ic.Fixed32=5;var oc="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function ac(t){return t.type===ic.Bytes?t.readVarint()+t.pos:t.pos+1}function sc(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function cc(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function lc(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function uc(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function pc(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function dc(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function hc(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function fc(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function mc(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function gc(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function yc(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function _c(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function vc(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function bc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function Mc(t,e,n){1===t&&n.readMessage(xc,e)}function xc(t,e,n){if(3===t){var r=n.readMessage(wc,{}),i=r.width,o=r.height,a=r.left,s=r.top,c=r.advance;e.push({id:r.id,bitmap:new Ro({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:c}})}}function wc(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}ic.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=_c(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=bc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=_c(this.buf,this.pos)+4294967296*_c(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=_c(this.buf,this.pos)+4294967296*bc(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=nc.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=nc.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return sc(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return sc(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return sc(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return sc(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return sc(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return sc(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&oc?function(t,e,n){return oc.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,c=t[i],l=null,u=c>239?4:c>223?3:c>191?2:1;if(i+u>n)break;1===u?c<128&&(l=c):2===u?128==(192&(o=t[i+1]))&&(l=(31&c)<<6|63&o)<=127&&(l=null):3===u?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((l=(15&c)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===u&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,u=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=u}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==ic.Bytes)return t.push(this.readVarint(e));var n=ac(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==ic.Bytes)return t.push(this.readSVarint());var e=ac(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==ic.Bytes)return t.push(this.readBoolean());var e=ac(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==ic.Bytes)return t.push(this.readFloat());var e=ac(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==ic.Bytes)return t.push(this.readDouble());var e=ac(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==ic.Bytes)return t.push(this.readFixed32());var e=ac(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==ic.Bytes)return t.push(this.readSFixed32());var e=ac(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==ic.Bytes)return t.push(this.readFixed64());var e=ac(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==ic.Bytes)return t.push(this.readSFixed64());var e=ac(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===ic.Varint)for(;this.buf[this.pos++]>127;);else if(e===ic.Bytes)this.pos=this.readVarint()+this.pos;else if(e===ic.Fixed32)this.pos+=4;else{if(e!==ic.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),vc(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),vc(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),vc(this.buf,-1&t,this.pos),vc(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),vc(this.buf,-1&t,this.pos),vc(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&cc(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),nc.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),nc.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&cc(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,ic.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,lc,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,uc,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,hc,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,pc,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,dc,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,fc,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,mc,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,gc,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,yc,e)},writeBytesField:function(t,e){this.writeTag(t,ic.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,ic.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,ic.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,ic.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,ic.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,ic.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,ic.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,ic.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,ic.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,ic.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Cc=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};Cc.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},Cc.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Sc=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},g(["receive","process"],this),this.invoker=new Cc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=S()?t:self};function Ec(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}Sc.prototype.send=function(t,e,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=O(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:_r(e,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Sc.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else S()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},Sc.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},Sc.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(vr(e.error)):r(null,vr(e.data)))}else{var i=!1,o=O(this.globalScope)?void 0:[],a=e.hasCallback?function(e,r){i=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?_r(e):null,data:_r(r,o)},o)}:function(t){i=!0},s=null,c=vr(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,c,a);else if(this.parent.getWorkerSource){var l=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,l[0],c.source)[l[1]](c,a)}else a(new Error("Could not find function "+e.type));!i&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},Sc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Tc=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Tc.prototype.setNorthEast=function(t){return this._ne=t instanceof Oc?new Oc(t.lng,t.lat):Oc.convert(t),this},Tc.prototype.setSouthWest=function(t){return this._sw=t instanceof Oc?new Oc(t.lng,t.lat):Oc.convert(t),this},Tc.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof Oc)e=t,n=t;else{if(!(t instanceof Tc))return Array.isArray(t)?t.every(Array.isArray)?this.extend(Tc.convert(t)):this.extend(Oc.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Oc(e.lng,e.lat),this._ne=new Oc(n.lng,n.lat)),this},Tc.prototype.getCenter=function(){return new Oc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Tc.prototype.getSouthWest=function(){return this._sw},Tc.prototype.getNorthEast=function(){return this._ne},Tc.prototype.getNorthWest=function(){return new Oc(this.getWest(),this.getNorth())},Tc.prototype.getSouthEast=function(){return new Oc(this.getEast(),this.getSouth())},Tc.prototype.getWest=function(){return this._sw.lng},Tc.prototype.getSouth=function(){return this._sw.lat},Tc.prototype.getEast=function(){return this._ne.lng},Tc.prototype.getNorth=function(){return this._ne.lat},Tc.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Tc.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Tc.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Tc.convert=function(t){return!t||t instanceof Tc?t:new Tc(t)};var Oc=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Oc.prototype.wrap=function(){return new Oc(u(this.lng,-180,180),this.lat)},Oc.prototype.toArray=function(){return[this.lng,this.lat]},Oc.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Oc.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Tc(new Oc(this.lng-n,this.lat-e),new Oc(this.lng+n,this.lat+e))},Oc.convert=function(t){if(t instanceof Oc)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Oc(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Oc(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ac=2*Math.PI*6378137;function Pc(t){return Ac*Math.cos(t*Math.PI/180)}function Lc(t){return(180+t)/360}function kc(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Ic(t,e){return t/Pc(e)}function Dc(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var Nc=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};Nc.fromLngLat=function(t,e){void 0===e&&(e=0);var n=Oc.convert(t);return new Nc(Lc(n.lng),kc(n.lat),Ic(e,n.lat))},Nc.prototype.toLngLat=function(){return new Oc(360*this.x-180,Dc(this.y))},Nc.prototype.toAltitude=function(){return this.z*Pc(Dc(this.y))},Nc.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ac*(t=Dc(this.y),1/Math.cos(t*Math.PI/180));var t};var Rc=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=jc(0,t,e,n)};Rc.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Rc.prototype.url=function(t,e){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Ec(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Ec(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),c=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",c).replace("{bbox-epsg-3857}",s)},Rc.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new i((t.x*e-this.x)*oo,(t.y*e-this.y)*oo)};var zc=function(t,e){this.wrap=t,this.canonical=e,this.key=jc(t,e.z,e.x,e.y)},Fc=function(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new Rc(n,+r,+i),this.key=jc(e,t,r,i)};function jc(t,e,n,r){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*r+n)+e}Fc.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Fc.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Fc(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Fc(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Fc.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Fc.prototype.children=function(t){if(this.overscaledZ>=t)return[new Fc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Fc(e,this.wrap,e,n,r),new Fc(e,this.wrap,e,n+1,r),new Fc(e,this.wrap,e,n,r+1),new Fc(e,this.wrap,e,n+1,r+1)]},Fc.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Fc.prototype.wrapped=function(){return new Fc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Fc.prototype.unwrapTo=function(t){return new Fc(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Fc.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Fc.prototype.toUnwrapped=function(){return new zc(this.wrap,this.canonical)},Fc.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Fc.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Nc(t.x-this.wrap,t.y))},mr("CanonicalTileID",Rc),mr("OverscaledTileID",Fc,{omit:["posMatrix"]});var Bc=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return x('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var r=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Bc.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Bc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Bc.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Bc.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Bc.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Bc.prototype.getPixels=function(){return new zo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Bc.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,c=-n*this.dim,l=o;l<a;l++)for(var u=r;u<i;u++)this.data[this._idx(u,l)]=t.data[this._idx(u+s,l+c)]},mr("DEMData",Bc);var qc=ti([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Vc=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Vc.prototype.encode=function(t){return this._stringToNumber[t]},Vc.prototype.decode=function(t){return this._numberToString[t]};var Yc=function(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},Hc={geometry:{configurable:!0}};Hc.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Hc.geometry.set=function(t){this._geometry=t},Yc.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Yc.prototype,Hc);var Wc=function(){this.state={},this.stateChanges={},this.deletedStates={}};Wc.prototype.updateState=function(t,e,n){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},p(this.stateChanges[t][r],n),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==r&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var o in this.deletedStates[t][r]={},this.state[t][r])n[o]||(this.deletedStates[t][r][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][a]&&delete this.deletedStates[t][r][a]},Wc.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e&&e>=0)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(void 0!==e&&e>=0)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}},Wc.prototype.getState=function(t,e){var n=String(e),r=p({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var i=this.deletedStates[t][e];if(null===i)return{};for(var o in i)delete r[o]}return r},Wc.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},Wc.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),p(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var c in this.state[a])s[c]={},this.state[a][c]={};else for(var l in this.deletedStates[a]){if(null===this.deletedStates[a][l])this.state[a][l]={};else for(var u=0,d=Object.keys(this.deletedStates[a][l]);u<d.length;u+=1)delete this.state[a][l][d[u]];s[l]=this.state[a][l]}n[a]=n[a]||{},p(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var h in t)t[h].setFeatureState(n,e)};var Uc=function(t,e,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new pr(oo,16,0),this.grid3D=new pr(oo,16,0),this.featureIndexArray=n||new Di};function Xc(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=t;o<a.length;o+=1){var s=a[o];e=Math.min(e,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:e,minY:n,maxX:r,maxY:i}}function Gc(t,e){return e-t}Uc.prototype.insert=function(t,e,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,c=0;c<e.length;c++){for(var l=e[c],u=[1/0,1/0,-1/0,-1/0],p=0;p<l.length;p++){var d=l[p];u[0]=Math.min(u[0],d.x),u[1]=Math.min(u[1],d.y),u[2]=Math.max(u[2],d.x),u[3]=Math.max(u[3],d.y)}u[0]<oo&&u[1]<oo&&u[2]>=0&&u[3]>=0&&s.insert(a,u[0],u[1],u[2],u[3])}},Uc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Fa.VectorTile(new rc(this.rawTileData)).layers,this.sourceLayerCoder=new Vc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Uc.prototype.query=function(t,e,n){var r=this;this.loadVTLayers();for(var o=t.params||{},a=oo/t.tileSize/t.scale,s=jn(o.filter),c=t.queryGeometry,l=t.queryPadding*a,u=Xc(c),p=this.grid.query(u.minX-l,u.minY-l,u.maxX+l,u.maxY+l),d=Xc(t.cameraQueryGeometry),h=0,f=this.grid3D.query(d.minX-l,d.minY-l,d.maxX+l,d.maxY+l,(function(e,n,r,o){return function(t,e,n,r,o){for(var a=0,s=t;a<s.length;a+=1){var c=s[a];if(e<=c.x&&n<=c.y&&r>=c.x&&o>=c.y)return!0}var l=[new i(e,n),new i(e,o),new i(r,o),new i(r,n)];if(t.length>2)for(var u=0,p=l;u<p.length;u+=1)if(bo(t,p[u]))return!0;for(var d=0;d<t.length-1;d++)if(Mo(t[d],t[d+1],l))return!0;return!1}(t.cameraQueryGeometry,e-l,n-l,r+l,o+l)}));h<f.length;h+=1)p.push(f[h]);p.sort(Gc);for(var m,g={},y=function(i){var l=p[i];if(l!==m){m=l;var u=r.featureIndexArray.get(l),d=null;r.loadMatchingFeature(g,u.bucketIndex,u.sourceLayerIndex,u.featureIndex,s,o.layers,e,(function(e,i){d||(d=so(e));var o={};return e.id&&(o=n.getState(i.sourceLayer||"_geojsonTileLayer",e.id)),i.queryIntersectsFeature(c,e,o,d,r.z,t.transform,a,t.pixelPosMatrix)}))}},_=0;_<p.length;_++)y(_);return g},Uc.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s){var c=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,c)){var l=this.sourceLayerCoder.decode(n),u=this.vtLayers[l].feature(r);if(i(new Nr(this.tileID.overscaledZ),u))for(var p=0;p<c.length;p++){var d=c[p];if(!(o&&o.indexOf(d)<0)){var h=a[d];if(h){var f=!s||s(u,h);if(f){var m=new Yc(u,this.z,this.x,this.y);m.layer=h.serialize();var g=t[d];void 0===g&&(g=t[d]=[]),g.push({featureIndex:r,feature:m,intersectionZ:f})}}}}}},Uc.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o){var a={};this.loadVTLayers();for(var s=jn(r),c=0,l=t;c<l.length;c+=1)this.loadMatchingFeature(a,e,n,l[c],s,i,o);return a},Uc.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},mr("FeatureIndex",Uc,{omit:["rawTileData","sourceLayerCoder"]});var Jc=function(t,e){this.tileID=t,this.uid=h(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};function $c(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var c=[],l=0;s<n/2;){var u=t[a],p=t[a+1];if(!p)return!1;var d=t[a-1].angleTo(u)-u.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),c.push({distance:s,angleDelta:d}),l+=d;s-c[0].distance>r;)l-=c.shift().angleDelta;if(l>i)return!1;a++,s+=u.dist(p)}return!0}function Kc(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Zc(t,e,n){return t?.6*e*n:0}function Qc(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function tl(t,e,n,r,i,o){for(var a=Zc(n,i,o),s=Qc(n,r)*o,c=0,l=Kc(t)/2,u=0;u<t.length-1;u++){var p=t[u],d=t[u+1],h=p.dist(d);if(c+h>l){var f=(l-c)/h,m=Ee(p.x,d.x,f),g=Ee(p.y,d.y,f),y=new Cs(m,g,d.angleTo(p),u);return y._round(),!a||$c(t,y,s,a,e)?y:void 0}c+=h}}function el(t,e,n,r,i,o,a,s,c){var l=Zc(r,o,a),u=Qc(r,i),p=u*a,d=0===t[0].x||t[0].x===c||0===t[0].y||t[0].y===c;return e-p<e/4&&(e=p+e/4),function t(e,n,r,i,o,a,s,c,l){for(var u=a/2,p=Kc(e),d=0,h=n-r,f=[],m=0;m<e.length-1;m++){for(var g=e[m],y=e[m+1],_=g.dist(y),v=y.angleTo(g);h+r<d+_;){var b=((h+=r)-d)/_,M=Ee(g.x,y.x,b),x=Ee(g.y,y.y,b);if(M>=0&&M<l&&x>=0&&x<l&&h-u>=0&&h+u<=p){var w=new Cs(M,x,v,m);w._round(),i&&!$c(e,w,a,i,o)||f.push(w)}}d+=_}return c||f.length||s||(f=t(e,d/2,r,i,o,a,s,!0,l)),f}(t,d?e/2*s%e:(u/2+2*o)*a*s%e,e,l,n,p,d,!1,c)}function nl(t,e){var n=t.image,r=t.right-t.left,o=(r*n.paddedRect.w/(n.paddedRect.w-2)-r)/2,a=t.left-o,s=t.right+o,c=t.bottom-t.top,l=(c*n.paddedRect.h/(n.paddedRect.h-2)-c)/2,u=t.top-l,p=t.bottom+l,d=new i(a,u),h=new i(s,u),f=new i(s,p),m=new i(a,p),g=e*Math.PI/180;if(g){var y=Math.sin(g),_=Math.cos(g),v=[_,-y,y,_];d._matMult(v),h._matMult(v),m._matMult(v),f._matMult(v)}return[{tl:d,tr:h,bl:m,br:f,tex:n.paddedRect,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0}]}Jc.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<z.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},Jc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Jc.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=function(){var t=o[i],r=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==r.length){t.layers=r,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return r.filter((function(e){return e.id===t}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=t}},i=0,o=t;i<o.length;i+=1)r();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof Rs){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}for(var o in this.queryPadding=0,this.buckets){var a=this.buckets[o];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(o).queryRadius(a))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Ci},Jc.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Jc.prototype.getBucket=function(t){return this.buckets[t.id]},Jc.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ec(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ec(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},Jc.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},Jc.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:r,scale:i,tileSize:this.tileSize,pixelPosMatrix:c,transform:a,params:o,queryPadding:this.queryPadding*s},t,e):{}},Jc.prototype.querySourceFeatures=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),r=n._geojsonTileLayer||n[e?e.sourceLayer:""];if(r)for(var i=jn(e&&e.filter),o=this.tileID.canonical,a=o.z,s=o.x,c=o.y,l={z:a,x:s,y:c},u=0;u<r.length;u++){var p=r.feature(u);if(i(new Nr(this.tileID.overscaledZ),p)){var d=new Yc(p,a,s,c);d.tile=l,t.push(d)}}}},Jc.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer),delete this.mask},Jc.prototype.setMask=function(t,e){if(!a(this.mask,t)&&(this.clearMask(),this.mask=t,!a(t,{0:!0}))){var n=new ri,r=new _i;this.segments=new Ri,this.segments.prepareSegment(0,n,r);for(var o=Object.keys(t),s=0;s<o.length;s++){var c=t[+o[s]],l=oo>>c.z,u=new i(c.x*l,c.y*l),p=new i(u.x+l,u.y+l),d=this.segments.prepareSegment(4,n,r);n.emplaceBack(u.x,u.y,u.x,u.y),n.emplaceBack(p.x,u.y,p.x,u.y),n.emplaceBack(u.x,p.y,u.x,p.y),n.emplaceBack(p.x,p.y,p.x,p.y);var h=d.vertexLength;r.emplaceBack(h,h+1,h+2),r.emplaceBack(h+1,h+2,h+3),d.vertexLength+=4,d.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(n,qc.members),this.maskedIndexBuffer=e.createIndexBuffer(r)}},Jc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Jc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Jc.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=E(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Jc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Jc.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];a&&s&&0!==Object.keys(s).length&&(i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(r).queryRadius(i))))}}},Jc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Jc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<z.now()},Jc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Jc.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=z.now()+t};var rl=function(t,e,n,r,o,a,s,c,l,u,p,d){var h=s.top*c-l,f=s.bottom*c+l,m=s.left*c-l,g=s.right*c+l;if(this.boxStartIndex=t.length,u){var y=f-h,_=g-m;y>0&&(y=Math.max(10*c,y),this._addLineCollisionCircles(t,e,n,n.segment,_,y,r,o,a,p))}else{if(d){var v=new i(m,h),b=new i(g,h),M=new i(m,f),x=new i(g,f),w=d*Math.PI/180;v._rotate(w),b._rotate(w),M._rotate(w),x._rotate(w),m=Math.min(v.x,b.x,M.x,x.x),g=Math.max(v.x,b.x,M.x,x.x),h=Math.min(v.y,b.y,M.y,x.y),f=Math.max(v.y,b.y,M.y,x.y)}t.emplaceBack(n.x,n.y,m,h,g,f,r,o,a,0,0)}this.boxEndIndex=t.length};rl.prototype._addLineCollisionCircles=function(t,e,n,r,i,o,a,s,c,l){var u=o/2,p=Math.floor(i/u)||1,d=1+.4*Math.log(l)/Math.LN2,h=Math.floor(p*d/2),f=-o/2,m=n,g=r+1,y=f,_=-i/2,v=_-i/4;do{if(--g<0){if(y>_)return;g=0;break}y-=e[g].dist(m),m=e[g]}while(y>v);for(var b=e[g].dist(e[g+1]),M=-h;M<p+h;M++){var x=M*u,w=_+x;if(x<0&&(w+=x),x>i&&(w+=x-i),!(w<y)){for(;y+b<w;){if(y+=b,1+ ++g>=e.length)return;b=e[g].dist(e[g+1])}var C=w-y,S=e[g],E=e[g+1].sub(S)._unit()._mult(C)._add(S)._round(),T=Math.abs(w-f)<u?0:.8*(w-f);t.emplaceBack(E.x,E.y,-o/2,-o/2,o/2,o/2,a,s,c,o/2,T)}}};var il=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=ol),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function ol(t,e){return t<e?-1:t>e?1:0}function al(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,c=t[0],l=0;l<c.length;l++){var u=c[l];(!l||u.x<r)&&(r=u.x),(!l||u.y<o)&&(o=u.y),(!l||u.x>a)&&(a=u.x),(!l||u.y>s)&&(s=u.y)}var p=Math.min(a-r,s-o),d=p/2,h=new il([],sl);if(0===p)return new i(r,o);for(var f=r;f<a;f+=p)for(var m=o;m<s;m+=p)h.push(new cl(f+d,m+d,d,t));for(var g=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var c=i[o],l=i[s],u=c.x*l.y-l.x*c.y;n+=(c.x+l.x)*u,r+=(c.y+l.y)*u,e+=3*u}return new cl(n/e,r/e,0,t)}(t),y=h.length;h.length;){var _=h.pop();(_.d>g.d||!g.d)&&(g=_,n&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,y)),_.max-g.d<=e||(h.push(new cl(_.p.x-(d=_.h/2),_.p.y-d,d,t)),h.push(new cl(_.p.x+d,_.p.y-d,d,t)),h.push(new cl(_.p.x-d,_.p.y+d,d,t)),h.push(new cl(_.p.x+d,_.p.y+d,d,t)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+g.d)),g.p}function sl(t,e){return e.max-t.max}function cl(t,e,n,r){this.p=new i(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,c=s-1;a<s;c=a++){var l=o[a],u=o[c];l.y>t.y!=u.y>t.y&&t.x<(u.x-l.x)*(t.y-l.y)/(u.y-l.y)+l.x&&(n=!n),r=Math.min(r,_o(t,l,u))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}il.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},il.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},il.prototype.peek=function(){return this.data[0]},il.prototype._up=function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},il.prototype._down=function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i};var ll=e((function(t){t.exports=function(t,e){var n,r,i,o,a,s,c,l;for(r=t.length-(n=3&t.length),i=e,a=3432918353,s=461845907,l=0;l<r;)c=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,i=27492+(65535&(o=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&t.charCodeAt(l+2))<<16;case 2:c^=(255&t.charCodeAt(l+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&t.charCodeAt(l)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),ul=e((function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),pl=ll,dl=ul;pl.murmur3=ll,pl.murmur2=dl;var hl=Number.POSITIVE_INFINITY;function fl(t,e){return e[1]!==hl?function(t,e,n){var r=0,i=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,i]}(t,e[0],e[1]):function(t,e){var n=0,r=0;e<0&&(e=0);var i=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-e;break;case"top":r=e-7}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}(t,e[0])}function ml(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var gl=65535;function yl(t,e,n,r,o,a,s,c,l,u,p,d,h,f){var m=function(t,e,n,r,o,a,s,c){for(var l=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=e.positionedGlyphs,p=[],d=0;d<u.length;d++){var h=u[d],f=s[h.fontStack],m=f&&f[h.glyph];if(m){var g=m.rect;if(g){var y=m.metrics.advance*h.scale/2,_=o?[h.x+y,h.y]:[0,0],v=o?[0,0]:[h.x+y+n[0],h.y+n[1]],b=(o||c)&&h.vertical,M=[0,0];b&&(M=v,v=[0,0]);var x=(m.metrics.left-4)*h.scale-y+v[0],w=(-m.metrics.top-4)*h.scale+v[1],C=x+g.w*h.scale,S=w+g.h*h.scale,E=new i(x,w),T=new i(C,w),O=new i(x,S),A=new i(C,S);if(b){var P=new i(-y,y-e.yOffset),L=-Math.PI/2,k=new i(5-e.yOffset-(12-y),0),I=new(Function.prototype.bind.apply(i,[null].concat(M)));E._rotateAround(L,P)._add(k)._add(I),T._rotateAround(L,P)._add(k)._add(I),O._rotateAround(L,P)._add(k)._add(I),A._rotateAround(L,P)._add(k)._add(I)}if(l){var D=Math.sin(l),N=Math.cos(l),R=[N,-D,D,N];E._matMult(R),T._matMult(R),O._matMult(R),A._matMult(R)}p.push({tl:E,tr:T,bl:O,br:A,tex:g,writingMode:e.writingMode,glyphOffset:_,sectionIndex:h.sectionIndex})}}}return p}(0,n,s,r,o,a,d,t.allowVerticalPlacement),g=t.textSizeData,y=null;"source"===g.kind?(y=[Ss*r.layout.get("text-size").evaluate(a,{})])[0]>gl&&x(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===g.kind&&((y=[Ss*f.compositeTextSizes[0].evaluate(a,{}),Ss*f.compositeTextSizes[1].evaluate(a,{})])[0]>gl||y[1]>gl)&&x(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),t.addSymbols(t.text,m,y,s,o,a,l,e,c.lineStartIndex,c.lineLength,h);for(var _=0,v=u;_<v.length;_+=1)p[v[_]]=t.text.placedSymbolArray.length-1;return 4*m.length}function _l(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}t.Actor=Sc,t.AlphaImage=Ro,t.CanonicalTileID=Rc,t.CollisionBoxArray=Ci,t.Color=Kt,t.DEMData=Bc,t.DataConstantProperty=Hr,t.DictionaryCoder=Vc,t.EXTENT=oo,t.ErrorEvent=St,t.EvaluationParameters=Nr,t.Event=Ct,t.Evented=Et,t.FeatureIndex=Uc,t.FillBucket=Sa,t.FillExtrusionBucket=Va,t.ImageAtlas=$s,t.ImagePosition=Gs,t.LineBucket=Qa,t.LngLat=Oc,t.LngLatBounds=Tc,t.MercatorCoordinate=Nc,t.ONE_EM=24,t.OverscaledTileID=Fc,t.Point=i,t.Point$1=i,t.ProgramConfiguration=eo,t.Properties=Jr,t.Protobuf=rc,t.RGBAImage=zo,t.RequestManager=H,t.ResourceType=dt,t.SegmentVector=Ri,t.SourceFeatureState=Wc,t.StructArrayLayout1ui2=bi,t.StructArrayLayout2i4=ni,t.StructArrayLayout2ui4=vi,t.StructArrayLayout3ui6=_i,t.StructArrayLayout4i8=ri,t.SymbolBucket=Rs,t.Texture=ec,t.Tile=Jc,t.Transitionable=Fr,t.Uniform1f=Vi,t.Uniform1i=qi,t.Uniform2f=Yi,t.Uniform3f=Hi,t.Uniform4f=Wi,t.UniformColor=Ui,t.UniformMatrix4f=Gi,t.UnwrappedTileID=zc,t.ValidationError=Ot,t.WritingMode=ds,t.ZoomHistory=br,t.addDynamicAttributes=Is,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},t.bezier=s,t.bindAll=g,t.browser=z,t.cacheEntryPossiblyAdded=function(t){++pt>ct&&(t.getActor().send("enforceCacheSizeLimit",st),pt=0)},t.clamp=l,t.clearTileCache=function(t){var e=self.caches.delete(at);t&&e.catch(t).then((function(){return t()}))},t.clone=function(t){var e=new Oo(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=b,t.config=F,t.create=function(){var t=new Oo(16);return Oo!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new Oo(9);return Oo!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new Oo(4);return Oo!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=En,t.createLayout=ti,t.createStyleLayer=function(t){return"custom"===t.type?new Ws(t):new Us[t.type](t)},t.deepEqual=a,t.ease=c,t.emitValidationErrors=ur,t.endsWith=y,t.enforceCacheSizeLimit=function(t){lt(),Q&&Q.then((function(e){e.keys().then((function(n){for(var r=0;r<n.length-t;r++)e.delete(n[r])}))}))},t.evaluateSizeForFeature=Ts,t.evaluateSizeForZoom=Os,t.evaluateVariableOffset=fl,t.evented=Ir,t.extend=p,t.featureFilter=jn,t.filterObject=v,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Ms,t.getAnchorJustification=ml,t.getArrayBuffer=vt,t.getImage=Mt,t.getJSON=function(t,e){return _t(p(t,{type:"json"}),e)},t.getRTLTextPluginStatus=function(){return Lr},t.getReferrer=yt,t.getVideo=function(t,e){var n,r,i=self.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var a=self.document.createElement("source");n=t[o],r=void 0,(r=self.document.createElement("a")).href=n,(r.protocol!==self.document.location.protocol||r.host!==self.document.location.host)&&(i.crossOrigin="Anonymous"),a.src=t[o],i.appendChild(a)}return{cancel:function(){}}},t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.ieee754=nc,t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=e[6],l=e[7],u=e[8],p=e[9],d=e[10],h=e[11],f=e[12],m=e[13],g=e[14],y=e[15],_=n*s-r*a,v=n*c-i*a,b=n*l-o*a,M=r*c-i*s,x=r*l-o*s,w=i*l-o*c,C=u*m-p*f,S=u*g-d*f,E=u*y-h*f,T=p*g-d*m,O=p*y-h*m,A=d*y-h*g,P=_*A-v*O+b*T+M*E-x*S+w*C;return P?(t[0]=(s*A-c*O+l*T)*(P=1/P),t[1]=(i*O-r*A-o*T)*P,t[2]=(m*w-g*x+y*M)*P,t[3]=(d*x-p*w-h*M)*P,t[4]=(c*E-a*A-l*S)*P,t[5]=(n*A-i*E+o*S)*P,t[6]=(g*b-f*w-y*v)*P,t[7]=(u*w-d*b+h*v)*P,t[8]=(a*O-s*E+l*C)*P,t[9]=(r*E-n*O-o*C)*P,t[10]=(f*x-m*b+y*_)*P,t[11]=(p*b-u*x-h*_)*P,t[12]=(s*S-a*T-c*C)*P,t[13]=(n*T-r*S+i*C)*P,t[14]=(m*v-f*M-g*_)*P,t[15]=(u*M-p*v+d*_)*P,t):null},t.isChar=Mr,t.isMapboxURL=W,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.makeRequest=_t,t.mapObject=_,t.mercatorXfromLng=Lc,t.mercatorYfromLat=kc,t.mercatorZfromAltitude=Ic,t.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],c=e[5],l=e[6],u=e[7],p=e[8],d=e[9],h=e[10],f=e[11],m=e[12],g=e[13],y=e[14],_=e[15],v=n[0],b=n[1],M=n[2],x=n[3];return t[0]=v*r+b*s+M*p+x*m,t[1]=v*i+b*c+M*d+x*g,t[2]=v*o+b*l+M*h+x*y,t[3]=v*a+b*u+M*f+x*_,t[4]=(v=n[4])*r+(b=n[5])*s+(M=n[6])*p+(x=n[7])*m,t[5]=v*i+b*c+M*d+x*g,t[6]=v*o+b*l+M*h+x*y,t[7]=v*a+b*u+M*f+x*_,t[8]=(v=n[8])*r+(b=n[9])*s+(M=n[10])*p+(x=n[11])*m,t[9]=v*i+b*c+M*d+x*g,t[10]=v*o+b*l+M*h+x*y,t[11]=v*a+b*u+M*f+x*_,t[12]=(v=n[12])*r+(b=n[13])*s+(M=n[14])*p+(x=n[15])*m,t[13]=v*i+b*c+M*d+x*g,t[14]=v*o+b*l+M*h+x*y,t[15]=v*a+b*u+M*f+x*_,t},t.mvt=Fa,t.number=Ee,t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),c=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*c,t[14]=(a+o)*l,t[15]=1,t},t.parseGlyphPBF=function(t){return new rc(t).readFields(Mc,[])},t.performSymbolLayout=function(t,e,n,r,o,a){t.createArrays(),t.tilePixelRatio=oo/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,c=t.layers[0]._unevaluatedLayout._values,l={};if("composite"===t.textSizeData.kind){var u=t.textSizeData,p=u.maxZoom;l.compositeTextSizes=[c["text-size"].possiblyEvaluate(new Nr(u.minZoom)),c["text-size"].possiblyEvaluate(new Nr(p))]}if("composite"===t.iconSizeData.kind){var d=t.iconSizeData,h=d.maxZoom;l.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new Nr(d.minZoom)),c["icon-size"].possiblyEvaluate(new Nr(h))]}l.layoutTextSize=c["text-size"].possiblyEvaluate(new Nr(t.zoom+1)),l.layoutIconSize=c["icon-size"].possiblyEvaluate(new Nr(t.zoom+1)),l.textMaxSize=c["text-size"].possiblyEvaluate(new Nr(18));for(var f=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),g=s.get("text-keep-upright"),y=function(){var a=v[_],c=s.get("text-font").evaluate(a,{}).join(","),u=n,p={horizontal:{},vertical:void 0},d=a.text,h=[0,0];if(d){var y=d.toString(),b=24*s.get("text-letter-spacing").evaluate(a,{}),M=function(t){for(var e=0,n=t;e<n.length;e+=1)if(!wr(n[e].charCodeAt(0)))return!1;return!0}(y)?b:0,w=s.get("text-anchor").evaluate(a,{}),C=s.get("text-variable-anchor");if(!C){var S=s.get("text-radial-offset").evaluate(a,{});h=S?fl(w,[24*S,hl]):s.get("text-offset").evaluate(a,{}).map((function(t){return 24*t}))}var E=m?"center":s.get("text-justify").evaluate(a,{}),T=s.get("symbol-placement"),O="point"===T?24*s.get("text-max-width").evaluate(a,{}):0,A=function(){t.allowVerticalPlacement&&xr(y)&&(p.vertical=fs(d,e,c,O,f,w,"left",M,h,ds.vertical,!0,T))};if(!m&&C){for(var P="auto"===E?C.map((function(t){return ml(t)})):[E],L=!1,k=0;k<P.length;k++){var I=P[k];if(!p.horizontal[I])if(L)p.horizontal[I]=p.horizontal[0];else{var D=fs(d,e,c,O,f,"center",I,M,h,ds.horizontal,!1,T);D&&(p.horizontal[I]=D,L=1===D.lineCount)}}A()}else{"auto"===E&&(E=ml(w));var N=fs(d,e,c,O,f,w,E,M,h,ds.horizontal,!1,T);N&&(p.horizontal[E]=N),A(),xr(y)&&m&&g&&(p.vertical=fs(d,e,c,O,f,w,E,M,h,ds.vertical,!1,T))}}var R=void 0;if(a.icon&&a.icon.name){var z=r[a.icon.name];z&&(R=function(t,e,n){var r=Ms(n),i=e[0]-t.displaySize[0]*r.horizontalAlign,o=e[1]-t.displaySize[1]*r.verticalAlign;return{image:t,top:o,bottom:o+t.displaySize[1],left:i,right:i+t.displaySize[0]}}(o[a.icon.name],s.get("icon-offset").evaluate(a,{}),s.get("icon-anchor").evaluate(a,{})),void 0===t.sdfIcons?t.sdfIcons=z.sdf:t.sdfIcons!==z.sdf&&x("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(z.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}(Object.keys(p.horizontal).length||R)&&function(t,e,n,r,o,a,s){var c=a.layoutTextSize.evaluate(e,{}),l=a.layoutIconSize.evaluate(e,{}),u=a.textMaxSize.evaluate(e,{});void 0===u&&(u=c);var p,d=t.layers[0].layout,h=d.get("icon-offset").evaluate(e,{}),f=function(t){for(var e in t)return t[e];return null}(n.horizontal),m=c/24,g=t.tilePixelRatio*m,y=t.tilePixelRatio*u/24,_=t.tilePixelRatio*l,v=t.tilePixelRatio*d.get("symbol-spacing"),b=d.get("text-padding")*t.tilePixelRatio,M=d.get("icon-padding")*t.tilePixelRatio,w=d.get("text-max-angle")/180*Math.PI,C="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),S="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),E=d.get("symbol-placement"),T=v/2,O=d.get("icon-text-fit");r&&"none"!==O&&(t.allowVerticalPlacement&&n.vertical&&(p=ws(r,n.vertical,O,d.get("icon-text-fit-padding"),h,m)),f&&(r=ws(r,f,O,d.get("icon-text-fit-padding"),h,m)));var A=function(i,c){c.x<0||c.x>=oo||c.y<0||c.y>=oo||function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y,_,v,b,M){var w,C,S,E,T,O=t.addToLineVertexArray(e,n),A=0,P=0,L=0,k=0,I=-1,D=-1,N={},R=pl(""),z=0,F=0;if(void 0===a._unevaluatedLayout.getValue("text-radial-offset")?(z=(w=a.layout.get("text-offset").evaluate(v,{}).map((function(t){return 24*t})))[0],F=w[1]):(z=24*a.layout.get("text-radial-offset").evaluate(v,{}),F=hl),t.allowVerticalPlacement&&r.vertical){var j=a.layout.get("text-rotate").evaluate(v,{})+90;E=new rl(s,n,e,c,l,u,r.vertical,p,d,h,t.overscaling,j),o&&(T=new rl(s,n,e,c,l,u,o,m,g,h,t.overscaling,j))}if(i){var B=a.layout.get("icon-rotate").evaluate(v,{}),q=nl(i,B),V=o?nl(o,B):void 0;S=new rl(s,n,e,c,l,u,i,m,g,!1,t.overscaling,B),A=4*q.length;var Y=t.iconSizeData,H=null;"source"===Y.kind?(H=[Ss*a.layout.get("icon-size").evaluate(v,{})])[0]>gl&&x(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===Y.kind&&((H=[Ss*M.compositeIconSizes[0].evaluate(v,{}),Ss*M.compositeIconSizes[1].evaluate(v,{})])[0]>gl||H[1]>gl)&&x(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),t.addSymbols(t.icon,q,H,_,y,v,!1,e,O.lineStartIndex,O.lineLength,-1),I=t.icon.placedSymbolArray.length-1,V&&(P=4*V.length,t.addSymbols(t.icon,V,H,_,y,v,ds.vertical,e,O.lineStartIndex,O.lineLength,-1),D=t.icon.placedSymbolArray.length-1)}for(var W in r.horizontal){var U=r.horizontal[W];if(!C){R=pl(U.text);var X=a.layout.get("text-rotate").evaluate(v,{});C=new rl(s,n,e,c,l,u,U,p,d,h,t.overscaling,X)}var G=1===U.lineCount;if(L+=yl(t,e,U,a,h,v,f,O,r.vertical?ds.horizontal:ds.horizontalOnly,G?Object.keys(r.horizontal):[W],N,b,I,M),G)break}r.vertical&&(k+=yl(t,e,r.vertical,a,h,v,f,O,ds.vertical,["vertical"],N,b,D,M));var J=C?C.boxStartIndex:t.collisionBoxArray.length,$=C?C.boxEndIndex:t.collisionBoxArray.length,K=E?E.boxStartIndex:t.collisionBoxArray.length,Z=E?E.boxEndIndex:t.collisionBoxArray.length,Q=S?S.boxStartIndex:t.collisionBoxArray.length,tt=S?S.boxEndIndex:t.collisionBoxArray.length,et=T?T.boxStartIndex:t.collisionBoxArray.length,nt=T?T.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=Rs.MAX_GLYPHS&&x("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),t.symbolInstances.emplaceBack(e.x,e.y,N.right>=0?N.right:-1,N.center>=0?N.center:-1,N.left>=0?N.left:-1,N.vertical||-1,I,D,R,J,$,K,Z,Q,tt,et,nt,c,L,k,A,P,0,p,z,F)}(t,c,i,n,r,p,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,g,b,C,s,_,M,S,h,e,o,a)};if("line"===E)for(var P=0,L=function(t,e,n,r,o){for(var a=[],s=0;s<t.length;s++)for(var c=t[s],l=void 0,u=0;u<c.length-1;u++){var p=c[u],d=c[u+1];p.x<0&&d.x<0||(p.x<0?p=new i(0,p.y+(0-p.x)/(d.x-p.x)*(d.y-p.y))._round():d.x<0&&(d=new i(0,p.y+(0-p.x)/(d.x-p.x)*(d.y-p.y))._round()),p.y<0&&d.y<0||(p.y<0?p=new i(p.x+(0-p.y)/(d.y-p.y)*(d.x-p.x),0)._round():d.y<0&&(d=new i(p.x+(0-p.y)/(d.y-p.y)*(d.x-p.x),0)._round()),p.x>=r&&d.x>=r||(p.x>=r?p=new i(r,p.y+(r-p.x)/(d.x-p.x)*(d.y-p.y))._round():d.x>=r&&(d=new i(r,p.y+(r-p.x)/(d.x-p.x)*(d.y-p.y))._round()),p.y>=o&&d.y>=o||(p.y>=o?p=new i(p.x+(o-p.y)/(d.y-p.y)*(d.x-p.x),o)._round():d.y>=o&&(d=new i(p.x+(o-p.y)/(d.y-p.y)*(d.x-p.x),o)._round()),l&&p.equals(l[l.length-1])||a.push(l=[p]),l.push(d)))))}return a}(e.geometry,0,0,oo,oo);P<L.length;P+=1)for(var k=L[P],I=0,D=el(k,v,w,n.vertical||f,r,24,y,t.overscaling,oo);I<D.length;I+=1){var N=D[I];f&&_l(t,f.text,T,N)||A(k,N)}else if("line-center"===E)for(var R=0,z=e.geometry;R<z.length;R+=1){var F=z[R];if(F.length>1){var j=tl(F,w,n.vertical||f,r,24,y);j&&A(F,j)}}else if("Polygon"===e.type)for(var B=0,q=Ma(e.geometry,0);B<q.length;B+=1){var V=q[B],Y=al(V,16);A(V[0],new Cs(Y.x,Y.y,0))}else if("LineString"===e.type)for(var H=0,W=e.geometry;H<W.length;H+=1){var U=W[H];A(U,new Cs(U[0].x,U[0].y,0))}else if("Point"===e.type)for(var X=0,G=e.geometry;X<G.length;X+=1)for(var J=0,$=G[X];J<$.length;J+=1){var K=$[J];A([K],new Cs(K.x,K.y,0))}}(t,a,p,R,u,l,h)},_=0,v=t.features;_<v.length;_+=1)y();a&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(o=1/(r-i)),t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.plugin=Dr,t.polygonIntersectsPolygon=uo,t.postMapLoadEvent=ot,t.postTurnstileEvent=rt,t.potpack=Xs,t.rasterBoundsAttributes=qc,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=mr,t.registerForPluginAvailability=function(t){return kr?t({pluginURL:kr,completionCallback:Tr}):Ir.once("pluginAvailable",t),t},t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*s,t[1]=i*c+a*s,t[2]=r*-s+o*c,t[3]=i*-s+a*c,t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],c=e[7],l=e[8],u=e[9],p=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+u*r,t[6]=s*i+p*r,t[7]=c*i+d*r,t[8]=l*i-o*r,t[9]=u*i-a*r,t[10]=p*i-s*r,t[11]=d*i-c*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],c=e[3],l=e[4],u=e[5],p=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+u*r,t[2]=s*i+p*r,t[3]=c*i+d*r,t[4]=l*i-o*r,t[5]=u*i-a*r,t[6]=p*i-s*r,t[7]=d*i-c*r,t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.setCacheLimits=function(t,e){st=t,ct=e},t.setRTLTextPlugin=function(t,e){if(Lr===Ar||Lr===Pr)throw new Error("setRTLTextPlugin cannot be called multiple times.");Lr=Ar,kr=z.resolveURL(t),Tr=function(t){t?(Lr=Or,kr=null,Lr="error",e&&e(t)):Lr=Pr},Ir.fire(new Ct("pluginAvailable",{pluginURL:kr,completionCallback:Tr}))},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.styleSpec=Tt,t.symbolSize=As,t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformMat4=Ao,t.translate=function(t,e,n){var r,i,o,a,s,c,l,u,p,d,h,f,m=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(i=e[1],o=e[2],a=e[3],s=e[4],c=e[5],l=e[6],u=e[7],p=e[8],d=e[9],h=e[10],f=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=c,t[6]=l,t[7]=u,t[8]=p,t[9]=d,t[10]=h,t[11]=f,t[12]=r*m+s*g+p*y+e[12],t[13]=i*m+c*g+d*y+e[13],t[14]=o*m+l*g+h*y+e[14],t[15]=a*m+u*g+f*y+e[15]),t},t.uniqueId=h,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=sr,t.validateStyle=ar,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=Fa,t.version="1.5.1",t.warnOnce=x,t.webpSupported=j,t.window=self,t.wrap=u})),r(0,(function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",i=0,o=t;i<o.length;i+=1)r+=e(o[i])+",";return r+"]"}for(var a=Object.keys(t).sort(),s="{",c=0;c<a.length;c++)s+=JSON.stringify(a[c])+":"+e(t[a[c]])+",";return s+"}"}function n(n){for(var r="",i=0,o=t.refProperties;i<o.length;i+=1)r+="/"+e(n[o[i]]);return r}var r=function(t){this.keyCache={},t&&this.replace(t)};r.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},r.prototype.update=function(e,r){for(var i=this,o=0,a=e;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var c=this._layers[s.id]=t.createStyleLayer(s);c._featureFilter=t.featureFilter(c.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,u=r;l<u.length;l+=1){var p=u[l];delete this.keyCache[p],delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var d=0,h=function(t,e){for(var r={},i=0;i<t.length;i++){var o=e&&e[t[i].id]||n(t[i]);e&&(e[t[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(t[i])}var s=[];for(var c in r)s.push(r[c]);return s}(t.values(this._layerConfigs),this.keyCache);d<h.length;d+=1){var f=h[d].map((function(t){return i._layers[t.id]})),m=f[0];if("none"!==m.visibility){var g=m.source||"",y=this.familiesBySource[g];y||(y=this.familiesBySource[g]={});var _=m.sourceLayer||"_geojsonTileLayer",v=y[_];v||(v=y[_]=[]),v.push(f)}}};var i=function(e){var n={},r=[];for(var i in e){var o=e[i],a=n[i]={};for(var s in o){var c=o[+s];if(c&&0!==c.bitmap.width&&0!==c.bitmap.height){var l={x:0,y:0,w:c.bitmap.width+2,h:c.bitmap.height+2};r.push(l),a[s]={rect:l,metrics:c.metrics}}}}var u=t.potpack(r),p=new t.AlphaImage({width:u.w||1,height:u.h||1});for(var d in e){var h=e[d];for(var f in h){var m=h[+f];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var g=n[d][f].rect;t.AlphaImage.copy(m.bitmap,p,{x:0,y:0},{x:g.x+1,y:g.y+1},m.bitmap)}}}this.image=p,this.positions=n};t.register("GlyphAtlas",i);var o=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies};function a(e,n,r){for(var i=new t.EvaluationParameters(n),o=0,a=e;o<a.length;o+=1)a[o].recalculate(i,r)}o.prototype.parse=function(e,n,r,o,s){var c=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var l=new t.DictionaryCoder(Object.keys(e.layers).sort()),u=new t.FeatureIndex(this.tileID);u.bucketLayerIDs=[];var p,d,h,f,m={},g={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},y=n.familiesBySource[this.source];for(var _ in y){var v=e.layers[_];if(v){1===v.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+_+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=l.encode(_),M=[],x=0;x<v.length;x++){var w=v.feature(x);M.push({feature:w,index:x,sourceLayerIndex:b})}for(var C=0,S=y[_];C<S.length;C+=1){var E=S[C],T=E[0];T.minzoom&&this.zoom<Math.floor(T.minzoom)||T.maxzoom&&this.zoom>=T.maxzoom||"none"!==T.visibility&&(a(E,this.zoom,r),(m[T.id]=T.createBucket({index:u.bucketLayerIDs.length,layers:E,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(M,g),u.bucketLayerIDs.push(E.map((function(t){return t.id}))))}}}var O=t.mapObject(g.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(O).length?o.send("getGlyphs",{uid:this.uid,stacks:O},(function(t,e){p||(p=t,d=e,L.call(c))})):d={};var A=Object.keys(g.iconDependencies);A.length?o.send("getImages",{icons:A},(function(t,e){p||(p=t,h=e,L.call(c))})):h={};var P=Object.keys(g.patternDependencies);function L(){if(p)return s(p);if(d&&h&&f){var e=new i(d),n=new t.ImageAtlas(h,f);for(var o in m){var c=m[o];c instanceof t.SymbolBucket?(a(c.layers,this.zoom,r),t.performSymbolLayout(c,d,e.positions,h,n.iconPositions,this.showCollisionBoxes)):c.hasPattern&&(c instanceof t.LineBucket||c instanceof t.FillBucket||c instanceof t.FillExtrusionBucket)&&(a(c.layers,this.zoom,r),c.addFeatures(g,n.patternPositions))}this.status="done",s(null,{buckets:t.values(m).filter((function(t){return!t.isEmpty()})),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?e.positions:null})}}P.length?o.send("getImages",{icons:P},(function(t,e){p||(p=t,f=e,L.call(c))})):f={},L.call(this)};var s="undefined"!=typeof performance,c={getEntriesByName:function(t){return!!(s&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(t)},mark:function(t){return!!(s&&performance&&performance.mark)&&performance.mark(t)},measure:function(t,e,n){return!!(s&&performance&&performance.measure)&&performance.measure(t,e,n)},clearMarks:function(t){return!!(s&&performance&&performance.clearMarks)&&performance.clearMarks(t)},clearMeasures:function(t){return!!(s&&performance&&performance.clearMeasures)&&performance.clearMeasures(t)}},l=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},c.mark(this._marks.start)};function u(e,n){var r=t.getArrayBuffer(e.request,(function(e,r,i,o){e?n(e):r&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.Protobuf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}l.prototype.finish=function(){c.mark(this._marks.end);var t=c.getEntriesByName(this._marks.measure);return 0===t.length&&(c.measure(this._marks.measure,this._marks.start,this._marks.end),t=c.getEntriesByName(this._marks.measure),c.clearMarks(this._marks.start),c.clearMarks(this._marks.end),c.clearMeasures(this._marks.measure)),t},c.Performance=l;var p=function(t,e,n,r){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=r||u,this.loading={},this.loaded={}};p.prototype.loadTile=function(e,n){var r=this,i=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new c.Performance(e.request),s=this.loading[i]=new o(e);s.abort=this.loadVectorData(e,(function(e,o){if(delete r.loading[i],e||!o)return s.status="done",r.loaded[i]=s,n(e);var c=o.rawData,l={};o.expires&&(l.expires=o.expires),o.cacheControl&&(l.cacheControl=o.cacheControl);var u={};if(a){var p=a.finish();p&&(u.resourceTiming=JSON.parse(JSON.stringify(p)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(e,r){if(e||!r)return n(e);n(null,t.extend({rawTileData:c.slice(0)},r,l,u))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},p.prototype.reloadTile=function(t,e){var n=this,r=this.loaded,i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),e(t,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},p.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},p.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var d=function(){this.loaded={}};function h(t){var e=0;if(t&&t.length>0){e+=Math.abs(f(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(f(t[n]))}return e}function f(t){var e,n,r,i,o,a,s=0,c=t.length;if(c>2){for(a=0;a<c;a++)a===c-2?(r=c-2,i=c-1,o=0):a===c-1?(r=c-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(m(t[o][0])-m(e[0]))*Math.sin(m(n[1]));s=6378137*s*6378137/2}return s}function m(t){return t*Math.PI/180}d.prototype.loadTile=function(e,n){var r=e.uid,i=new t.DEMData(r,e.rawImageData,e.encoding);this.loaded=this.loaded||{},this.loaded[r]=i,n(null,i)},d.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var g={geometry:function t(e){var n,r=0;switch(e.type){case"Polygon":return h(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=h(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},ring:f};function y(t,e){return function(n){return t(n,e)}}function _(t,e){t[0]=v(t[0],e=!!e);for(var n=1;n<t.length;n++)t[n]=v(t[n],!e);return t}function v(t,e){return function(t){return g.ring(t)>=0}(t)===e?t:t.reverse()}var b=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,M=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};M.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];e.push([new t.Point$1(i[0],i[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var c=[],l=0,u=s[a];l<u.length;l+=1){var p=u[l];c.push(new t.Point$1(p[0],p[1]))}o.push(c)}return o},M.prototype.toGeoJSON=function(t,e,n){return b.call(this,t,e,n)};var x=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};x.prototype.feature=function(t){return new M(this._features[t])};var w=C;function C(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function S(t){return t.type===C.Bytes?t.readVarint()+t.pos:t.pos+1}function E(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function T(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function O(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function A(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function P(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function L(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function k(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function I(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function D(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function N(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function R(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function z(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function F(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function j(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}C.Varint=0,C.Fixed64=1,C.Bytes=2,C.Fixed32=5,C.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=z(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=j(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=z(this.buf,this.pos)+4294967296*z(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=z(this.buf,this.pos)+4294967296*j(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var e=t.ieee754.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=t.ieee754.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return E(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return E(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return E(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return E(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return E(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return E(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,c=t[i],l=null,u=c>239?4:c>223?3:c>191?2:1;if(i+u>n)break;1===u?c<128&&(l=c):2===u?128==(192&(o=t[i+1]))&&(l=(31&c)<<6|63&o)<=127&&(l=null):3===u?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((l=(15&c)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===u&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,u=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=u}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==C.Bytes)return t.push(this.readVarint(e));var n=S(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==C.Bytes)return t.push(this.readSVarint());var e=S(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==C.Bytes)return t.push(this.readBoolean());var e=S(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==C.Bytes)return t.push(this.readFloat());var e=S(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==C.Bytes)return t.push(this.readDouble());var e=S(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==C.Bytes)return t.push(this.readFixed32());var e=S(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==C.Bytes)return t.push(this.readSFixed32());var e=S(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==C.Bytes)return t.push(this.readFixed64());var e=S(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==C.Bytes)return t.push(this.readSFixed64());var e=S(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===C.Varint)for(;this.buf[this.pos++]>127;);else if(e===C.Bytes)this.pos=this.readVarint()+this.pos;else if(e===C.Fixed32)this.pos+=4;else{if(e!==C.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),F(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),F(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),F(this.buf,-1&t,this.pos),F(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),F(this.buf,-1&t,this.pos),F(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&T(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),t.ieee754.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),t.ieee754.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&T(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,C.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,O,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,A,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,k,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,P,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,L,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,I,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,D,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,N,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,R,e)},writeBytesField:function(t,e){this.writeTag(t,C.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,C.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,C.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,C.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,C.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,C.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,C.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,C.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,C.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,C.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var B=t.vectorTile.VectorTileFeature,q=V;function V(t,e){this.options=e||{},this.features=t,this.length=t.length}function Y(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}V.prototype.feature=function(t){return new Y(this.features[t],this.options.extent)},Y.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++)i.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},Y.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var c=a[s];e=Math.min(e,c.x),n=Math.max(n,c.x),r=Math.min(r,c.y),i=Math.max(i,c.y)}return[e,r,n,i]},Y.prototype.toGeoJSON=B.prototype.toGeoJSON;var H=U,W=q;function U(t){var e=new w;return function(t,e){for(var n in t.layers)e.writeMessage(3,X,t.layers[n])}(t,e),e.finish()}function X(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,G,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,Q,o[n])}function G(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,J,t),e.writeVarintField(3,n.type),e.writeMessage(4,Z,n)}function J(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var c=o[s];void 0===c&&(r.push(s),o[s]=c=r.length-1),e.writeVarint(c);var l=n.properties[s],u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var p=u+":"+l,d=a[p];void 0===d&&(i.push(l),a[p]=d=i.length-1),e.writeVarint(d)}}function $(t,e){return(e<<3)+(7&t)}function K(t){return t<<1^t>>31}function Z(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var c=n[s],l=1;1===r&&(l=c.length),e.writeVarint($(1,l));for(var u=3===r?c.length-1:c.length,p=0;p<u;p++){1===p&&1!==r&&e.writeVarint($(2,u-1));var d=c[p].x-i,h=c[p].y-o;e.writeVarint(K(d)),e.writeVarint(K(h)),i+=d,o+=h}3===r&&e.writeVarint($(7,1))}}function Q(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function tt(t,e,n,r){et(t,n,r),et(e,2*n,2*r),et(e,2*n+1,2*r+1)}function et(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function nt(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}H.fromVectorTileJs=U,H.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new q(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return U({layers:n})},H.GeoJSONWrapper=W;var rt=function(t){return t[0]},it=function(t){return t[1]},ot=function(t,e,n,r,i){void 0===e&&(e=rt),void 0===n&&(n=it),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new i(2*t.length),c=0;c<t.length;c++)a[c]=c,s[2*c]=e(t[c]),s[2*c+1]=n(t[c]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function t(e,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,c=r-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-c*u/s+p)),Math.min(o,Math.floor(r+(s-c)*u/s+p)),a)}var d=n[2*r+a],h=i,f=o;for(tt(e,n,i,r),n[2*o+a]>d&&tt(e,n,i,o);h<f;){for(tt(e,n,h,f),h++,f--;n[2*h+a]<d;)h++;for(;n[2*f+a]>d;)f--}n[2*i+a]===d?tt(e,n,i,f):tt(e,n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};ot.prototype.range=function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,c,l=[0,t.length-1,0],u=[];l.length;){var p=l.pop(),d=l.pop(),h=l.pop();if(d-h<=a)for(var f=h;f<=d;f++)c=e[2*f+1],(s=e[2*f])>=n&&s<=i&&c>=r&&c<=o&&u.push(t[f]);else{var m=Math.floor((h+d)/2);c=e[2*m+1],(s=e[2*m])>=n&&s<=i&&c>=r&&c<=o&&u.push(t[m]);var g=(p+1)%2;(0===p?n<=s:r<=c)&&(l.push(h),l.push(m-1),l.push(g)),(0===p?i>=s:o>=c)&&(l.push(m+1),l.push(d),l.push(g))}}return u}(this.ids,this.coords,t,e,n,r,this.nodeSize)},ot.prototype.within=function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],c=i*i;a.length;){var l=a.pop(),u=a.pop(),p=a.pop();if(u-p<=o)for(var d=p;d<=u;d++)nt(e[2*d],e[2*d+1],n,r)<=c&&s.push(t[d]);else{var h=Math.floor((p+u)/2),f=e[2*h],m=e[2*h+1];nt(f,m,n,r)<=c&&s.push(t[h]);var g=(l+1)%2;(0===l?n-i<=f:r-i<=m)&&(a.push(p),a.push(h-1),a.push(g)),(0===l?n+i>=f:r+i>=m)&&(a.push(h+1),a.push(u),a.push(g))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var at={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(t){return t}},st=function(t){this.options=ft(Object.create(at),t),this.trees=new Array(this.options.maxZoom+1)};function ct(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function lt(t,e){var n=t.geometry.coordinates,r=n[1];return{x:dt(n[0]),y:ht(r),zoom:1/0,index:e,parentId:-1}}function ut(t){return{type:"Feature",id:t.id,properties:pt(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function pt(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return ft(ft({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function dt(t){return t/360+.5}function ht(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function ft(t,e){for(var n in e)t[n]=e[n];return t}function mt(t){return t.x}function gt(t){return t.y}function yt(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var c=((t-n)*a+(e-r)*s)/(a*a+s*s);c>1?(n=i,r=o):c>0&&(n+=a*c,r+=s*c)}return(a=t-n)*a+(s=e-r)*s}function _t(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)vt(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)vt(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)vt(t,e[r][i])}(i),i}function vt(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function bt(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],c=e.id;if(n.promoteId?c=e.properties[n.promoteId]:n.generateId&&(c=r||0),"Point"===o)Mt(i,s);else if("MultiPoint"===o)for(var l=0;l<i.length;l++)Mt(i[l],s);else if("LineString"===o)xt(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(l=0;l<i.length;l++)xt(i[l],s=[],a,!1),t.push(_t(c,"LineString",s,e.properties));return}wt(i,s,a,!1)}else if("Polygon"===o)wt(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(l=0;l<e.geometry.geometries.length;l++)bt(t,{id:c,geometry:e.geometry.geometries[l],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<i.length;l++){var u=[];wt(i[l],u,a,!0),s.push(u)}}t.push(_t(c,o,s,e.properties))}}function Mt(t,e){e.push(Ct(t[0])),e.push(St(t[1])),e.push(0)}function xt(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var c=Ct(t[s][0]),l=St(t[s][1]);e.push(c),e.push(l),e.push(0),s>0&&(a+=r?(i*l-c*o)/2:Math.sqrt(Math.pow(c-i,2)+Math.pow(l-o,2))),i=c,o=l}var u=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,c=r-n,l=e[n],u=e[n+1],p=e[r],d=e[r+1],h=n+3;h<r;h+=3){var f=yt(e[h],e[h+1],l,u,p,d);if(f>a)o=h,a=f;else if(f===a){var m=Math.abs(h-s);m<c&&(o=h,c=m)}}a>i&&(o-n>3&&t(e,n,o,i),e[o+2]=a,r-o>3&&t(e,o,r,i))}(e,0,u,n),e[u+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function wt(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];xt(t[i],o,n,r),e.push(o)}}function Ct(t){return t/360+.5}function St(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Et(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var c=[],l=0;l<t.length;l++){var u=t[l],p=u.geometry,d=u.type,h=0===i?u.minX:u.minY,f=0===i?u.maxX:u.maxY;if(h>=n&&f<r)c.push(u);else if(!(f<n||h>=r)){var m=[];if("Point"===d||"MultiPoint"===d)Tt(p,m,n,r,i);else if("LineString"===d)Ot(p,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===d)Pt(p,m,n,r,i,!1);else if("Polygon"===d)Pt(p,m,n,r,i,!0);else if("MultiPolygon"===d)for(var g=0;g<p.length;g++){var y=[];Pt(p[g],y,n,r,i,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)c.push(_t(u.id,d,m[g],u.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),c.push(_t(u.id,d,m,u.tags))}}}return c.length?c:null}function Tt(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function Ot(t,e,n,r,i,o,a){for(var s,c,l=At(t),u=0===i?kt:It,p=t.start,d=0;d<t.length-3;d+=3){var h=t[d],f=t[d+1],m=t[d+2],g=t[d+3],y=t[d+4],_=0===i?h:f,v=0===i?g:y,b=!1;a&&(s=Math.sqrt(Math.pow(h-g,2)+Math.pow(f-y,2))),_<n?v>n&&(c=u(l,h,f,g,y,n),a&&(l.start=p+s*c)):_>r?v<r&&(c=u(l,h,f,g,y,r),a&&(l.start=p+s*c)):Lt(l,h,f,m),v<n&&_>=n&&(c=u(l,h,f,g,y,n),b=!0),v>r&&_<=r&&(c=u(l,h,f,g,y,r),b=!0),!o&&b&&(a&&(l.end=p+s*c),e.push(l),l=At(t)),a&&(p+=s)}var M=t.length-3;h=t[M],f=t[M+1],m=t[M+2],(_=0===i?h:f)>=n&&_<=r&&Lt(l,h,f,m),M=l.length-3,o&&M>=3&&(l[M]!==l[0]||l[M+1]!==l[1])&&Lt(l,l[0],l[1],l[2]),l.length&&e.push(l)}function At(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function Pt(t,e,n,r,i,o){for(var a=0;a<t.length;a++)Ot(t[a],e,n,r,i,o,!1)}function Lt(t,e,n,r){t.push(e),t.push(n),t.push(r)}function kt(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function It(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function Dt(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=Nt(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(Nt(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var c=[],l=0;l<o.geometry[s].length;l++)c.push(Nt(o.geometry[s][l],e));i.push(c)}n.push(_t(o.id,a,i,o.tags))}return n}function Nt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function Rt(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var c=t.features[n],l=c.geometry,u=c.type;if(c.geometry=[],1===u)for(r=0;r<l.length;r+=2)c.geometry.push(zt(l[r],l[r+1],e,o,a,s));else for(r=0;r<l.length;r++){var p=[];for(i=0;i<l[r].length;i+=2)p.push(zt(l[r][i],l[r][i+1],e,o,a,s));c.geometry.push(p)}}return t.transformed=!0,t}function zt(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function Ft(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,jt(a,t[s],o,i);var c=t[s].minX,l=t[s].minY,u=t[s].maxX,p=t[s].maxY;c<a.minX&&(a.minX=c),l<a.minY&&(a.minY=l),u>a.maxX&&(a.maxX=u),p>a.maxY&&(a.maxY=p)}return a}function jt(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)Bt(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)Bt(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var c=0;c<i.length;c++){var l=i[c];for(s=0;s<l.length;s++)Bt(a,l[s],t,n,!0,0===s)}if(a.length){var u=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var p in u={},e.tags)u[p]=e.tags[p];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==e.id&&(d.id=e.id),t.features.push(d)}}function Bt(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],c=0;c<e.length;c+=3)(0===r||e[c+2]>a)&&(n.numSimplified++,s.push(e[c]),s.push(e[c+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function qt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)bt(n,t.features[r],e,r);else bt(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=Et(t,1,-1-n,n,0,-1,2,e),o=Et(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=Et(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=Dt(i,1).concat(r)),o&&(r=r.concat(Dt(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Vt(t,e,n){return 32*((1<<t)*n+e)+t}function Yt(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new x(r.features),o=H(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}st.prototype.load=function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],c=0;c<t.length;c++)t[c].geometry&&s.push(lt(t[c],c));this.trees[i+1]=new ot(s,mt,gt,o,Float32Array),n&&console.timeEnd(a);for(var l=i;l>=r;l--){var u=+Date.now();s=this._cluster(s,l),this.trees[l]=new ot(s,mt,gt,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-u)}return n&&console.timeEnd("total time"),this},st.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var c=this.trees[this._limitZoom(e)],l=[],u=0,p=c.range(dt(n),ht(o),dt(i),ht(r));u<p.length;u+=1){var d=c.points[p[u]];l.push(d.numPoints?ut(d):this.points[d.index])}return l},st.prototype.getChildren=function(t){var e=t>>5,n=t%32,r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],c=0,l=i.within(o.x,o.y,a);c<l.length;c+=1){var u=i.points[l[c]];u.parentId===t&&s.push(u.numPoints?ut(u):this.points[u.index])}if(0===s.length)throw new Error(r);return s},st.prototype.getLeaves=function(t,e,n){var r=[];return this._appendLeaves(r,t,e=e||10,n=n||0,0),r},st.prototype.getTile=function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.radius/o.extent,s=(n-a)/i,c=(n+1+a)/i,l={features:[]};return this._addTileFeatures(r.range((e-a)/i,s,(e+1+a)/i,c),r.points,e,n,i,l),0===e&&this._addTileFeatures(r.range(1-a/i,s,1,c),r.points,i,n,i,l),e===i-1&&this._addTileFeatures(r.range(0,s,a/i,c),r.points,-1,n,i,l),l.features.length?l:null},st.prototype.getClusterExpansionZoom=function(t){for(var e=t%32-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},st.prototype._appendLeaves=function(t,e,n,r,i){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],c=s.properties;if(c&&c.cluster?i+c.point_count<=r?i+=c.point_count:i=this._appendLeaves(t,c.cluster_id,n,r,i):i<r?i++:t.push(s),t.length===n)break}return i},st.prototype._addTileFeatures=function(t,e,n,r,i,o){for(var a=0,s=t;a<s.length;a+=1){var c=e[s[a]],l={type:1,geometry:[[Math.round(this.options.extent*(c.x*i-n)),Math.round(this.options.extent*(c.y*i-r))]],tags:c.numPoints?pt(c):this.points[c.index].properties},u=c.numPoints?c.id:this.points[c.index].id;void 0!==u&&(l.id=u),o.features.push(l)}},st.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},st.prototype._cluster=function(t,e){for(var n=[],r=this.options,i=r.reduce,o=r.radius/(r.extent*Math.pow(2,e)),a=0;a<t.length;a++){var s=t[a];if(!(s.zoom<=e)){s.zoom=e;for(var c=this.trees[e+1],l=c.within(s.x,s.y,o),u=s.numPoints||1,p=s.x*u,d=s.y*u,h=i&&u>1?this._map(s,!0):null,f=(a<<5)+(e+1),m=0,g=l;m<g.length;m+=1){var y=c.points[g[m]];if(!(y.zoom<=e)){y.zoom=e;var _=y.numPoints||1;p+=y.x*_,d+=y.y*_,u+=_,y.parentId=f,i&&(h||(h=this._map(s,!0)),i(h,this._map(y)))}}1===u?n.push(s):(s.parentId=f,n.push(ct(p/u,d/u,f,u,h)))}}return n},st.prototype._map=function(t,e){if(t.numPoints)return e?ft({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?ft({},r):r},qt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},qt.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],c=this.options,l=c.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var u=1<<e,p=Vt(e,n,r),d=this.tiles[p];if(!d&&(l>1&&console.time("creation"),d=this.tiles[p]=Ft(t,e,n,r,c),this.tileCoords.push({z:e,x:n,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var h="z"+e;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(d.source=t,i){if(e===c.maxZoom||e===i)continue;var f=1<<i-e;if(n!==Math.floor(o/f)||r!==Math.floor(a/f))continue}else if(e===c.indexMaxZoom||d.numPoints<=c.indexMaxPoints)continue;if(d.source=null,0!==t.length){l>1&&console.time("clipping");var m,g,y,_,v,b,M=.5*c.buffer/c.extent,x=.5-M,w=.5+M,C=1+M;m=g=y=_=null,v=Et(t,u,n-M,n+w,0,d.minX,d.maxX,c),b=Et(t,u,n+x,n+C,0,d.minX,d.maxX,c),t=null,v&&(m=Et(v,u,r-M,r+w,1,d.minY,d.maxY,c),g=Et(v,u,r+x,r+C,1,d.minY,d.maxY,c),v=null),b&&(y=Et(b,u,r-M,r+w,1,d.minY,d.maxY,c),_=Et(b,u,r+x,r+C,1,d.minY,d.maxY,c),b=null),l>1&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*r),s.push(g||[],e+1,2*n,2*r+1),s.push(y||[],e+1,2*n+1,2*r),s.push(_||[],e+1,2*n+1,2*r+1)}}},qt.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=Vt(t,e=(e%a+a)%a,n);if(this.tiles[s])return Rt(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,l=t,u=e,p=n;!c&&l>0;)l--,u=Math.floor(u/2),p=Math.floor(p/2),c=this.tiles[Vt(l,u,p)];return c&&c.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,u,p),o>1&&console.time("drilling down"),this.splitTile(c.source,l,u,p,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?Rt(this.tiles[s],i):null):null};var Ht=function(e){function n(t,n,r,i){e.call(this,t,n,r,Yt),i&&(this.loadGeoJSON=i)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new c.Performance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(y(t,n)),e;case"GeometryCollection":return e.geometries=e.geometries.map(y(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=_(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(y(_,e))),t}(e,n);default:return e}}(a,!0);try{e._geoJSONIndex=r.cluster?new st(function(e){var n=e.superclusterOptions,r=e.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},c=Object.keys(r),l=0,u=c;l<u.length;l+=1){var p=u[l],d=r[p],h=d[0],f=t.createExpression(d[1]),m=t.createExpression("string"==typeof h?[h,["accumulated"],["get",p]]:h);i[p]=f.value,o[p]=m.value}return n.map=function(t){s.properties=t;for(var e={},n=0,r=c;n<r.length;n+=1){var o=r[n];e[o]=i[o].evaluate(a,s)}return e},n.reduce=function(t,e){s.properties=e;for(var n=0,r=c;n<r.length;n+=1){var i=r[n];a.accumulated=t[i],t[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(t,e){return new qt(t,e)}(a,r.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var s={};if(i){var c=i.finish();c&&(s.resourceTiming={},s.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,s)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var r=this.loaded;return r&&r[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))},n.prototype.getClusterChildren=function(t,e){e(null,this._geoJSONIndex.getChildren(t.clusterId))},n.prototype.getClusterLeaves=function(t,e){e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))},n}(p),Wt=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:p,geojson:Ht},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isLoaded())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return Wt.prototype.setReferrer=function(t,e){this.referrer=e},Wt.prototype.setImages=function(t,e,n){this.availableImages[t]=e,n()},Wt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},Wt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},Wt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},Wt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},Wt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},Wt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},Wt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},Wt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},Wt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},Wt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},Wt.prototype.loadRTLTextPlugin=function(e,n,r){try{t.plugin.isLoaded()||(this.self.importScripts(n),r(t.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+n)))}catch(t){r(t.toString())}},Wt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},Wt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},Wt.prototype.getWorkerSource=function(t,e,n){var r=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,i){r.actor.send(e,n,i,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]},Wt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new d),this.demWorkerSources[t][e]},Wt.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&void 0!==t.window&&t.window instanceof WorkerGlobalScope&&(t.window.worker=new Wt(t.window)),Wt})),r(0,(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(t){return void 0===n[t]&&(n[t]=function(t){var n=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(t)),n[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var n={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(e,n,r){var i=t.window.document.createElement(e);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},r=t.window.document.documentElement.style;function i(t){if(!r)return t[0];for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[s]=e};var c=!1;try{var l=Object.defineProperty({},"passive",{get:function(){c=!0}});t.window.addEventListener("test",l,l),t.window.removeEventListener("test",l,l)}catch(t){c=!1}n.addEventListener=function(t,e,n,r){void 0===r&&(r={}),t.addEventListener(e,n,"passive"in r&&c?r:r.capture)},n.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),t.removeEventListener(e,n,"passive"in r&&c?r:r.capture)};var u=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",u,!0)};function p(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}n.suppressClick=function(){t.window.addEventListener("click",u,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",u,!0)}),0)},n.mousePos=function(e,n){var r=e.getBoundingClientRect(),i=t.window.TouchEvent&&n instanceof t.window.TouchEvent?n.touches[0]:n;return new t.Point(i.clientX-r.left-e.clientLeft,i.clientY-r.top-e.clientTop)},n.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o="touchend"===n.type?n.changedTouches:n.touches,a=0;a<o.length;a++)i.push(new t.Point(o[a].clientX-r.left-e.clientLeft,o[a].clientY-r.top-e.clientTop));return i},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var d=function(e){function n(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(t){return this.images[t]},n.prototype.addImage=function(t,e){this.images[t]=e},n.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},n.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},n.prototype._notify=function(e,n){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},n.prototype.getPattern=function(e){var n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);this.patterns[e]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},n.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var c=this.patterns[s].bin,l=c.x+1,u=c.y+1,p=this.images[s].data,d=p.width,h=p.height;t.RGBAImage.copy(p,a,{x:0,y:0},{x:l,y:u},{width:d,height:h}),t.RGBAImage.copy(p,a,{x:0,y:h-1},{x:l,y:u-1},{width:d,height:1}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:l,y:u+h},{width:d,height:1}),t.RGBAImage.copy(p,a,{x:d-1,y:0},{x:l-1,y:u},{width:1,height:h}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:l+d,y:u},{width:1,height:h})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];p(i)&&this.updateImage(r,i)}}},n}(t.Evented),h=g,f=g,m=1e20;function g(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var c=0;c<n;c++)r[c]=t[c*e+s];for(_(r,i,o,a,n),c=0;c<n;c++)t[c*e+s]=i[c]}for(c=0;c<n;c++){for(s=0;s<e;s++)r[s]=t[c*e+s];for(_(r,i,o,a,e),s=0;s<e;s++)t[c*e+s]=Math.sqrt(i[s])}}function _(t,e,n,r,i){n[0]=0,r[0]=-m,r[1]=+m;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+m}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}g.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?m:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?m:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},h.default=f;var v=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};v.prototype.setURL=function(t){this.url=t},v.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});t.asyncAll(i,(function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void e(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var c=o.requests[s];c||(c=o.requests[s]=[],v.loadGlyphRange(n,s,r.url,r.requestManager,(function(t,e){if(e)for(var n in e)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=e[+n]);for(var i=0,a=c;i<a.length;i+=1)(0,a[i])(t,e);delete o.requests[s]}))),c.push((function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})}))}}else e(null,{stack:n,id:i,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.stack,c=a.id,l=a.glyph;(r[s]||(r[s]={}))[c]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,r)}}))},v.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},v.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new v.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},v.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,c=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(c,(function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},v.TinySDF=h;var b=function(){this.specification=t.styleSpec.light.position};b.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},b.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var M=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new b,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),x=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(M),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var r in e){var i=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),w=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};w.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},w.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];for(var s=this.width/o,c=s/2,l=e.length%2==1,u=-r;u<=r;u++)for(var p=this.width*(this.nextRow+r+u),d=l?-e[e.length-1]:0,h=e[0],f=1,m=0;m<this.width;m++){for(;h<m/s;)d=h,h+=e[f],l&&f===e.length-1&&(h+=e[0]),f++;var g=Math.abs(m-d*s),y=Math.abs(m-h*s),_=Math.min(g,y),v=f%2==1,b=void 0;if(n){var M=r?u/r*(c+1):0;if(v){var x=c-Math.abs(M);b=Math.sqrt(_*_+x*x)}else b=c-Math.sqrt(_*_+M*M)}else b=(v?1:-1)*_;this.data[3+4*(p+m)]=Math.max(0,Math.min(255,b+128))}var w={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,w},w.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var C=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new e.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function S(e,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(t){return t.id}))),e.url&&(a.tiles=n.canonicalizeTileset(a,e.url)),r(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame((function(){return i(null,e)}))}C.prototype.broadcast=function(e,n,r){t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r=r||function(){})},C.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},C.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},C.Actor=t.Actor;var E=function(e,n,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24};E.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},E.prototype.contains=function(e){var n=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a};var T=function(e){function n(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(r,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new E(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,null),i={request:this.map._requestManager.transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function o(r,i){return delete e.request,e.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",i,o.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.clearMask(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),O=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new E(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var r=this,i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),t.clearMask(),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),A=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);function i(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),(function(r,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.browser.getImageData(o,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,i.bind(this)))}}).bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,c={};return c[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(c[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(c[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),c},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.clearMask(),t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},n}(O),P=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution);var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1},clusterProperties:r.clusterProperties},r.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},n.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},n.prototype.getClusterLeaves=function(t,e,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r),this},n.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),e(t))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(e,n){var r=this,i=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(i,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes},(function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.clearMask(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),L=function(e){function n(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var r=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new t.ErrorEvent(i)):o&&(r.image=o,e&&(r.coordinates=e),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var c=s[a];n=Math.min(n,c.x),r=Math.min(r,c.y),i=Math.max(i,c.x),o=Math.max(o,c.y)}var l=Math.max(i-n,o-r),u=Math.max(0,Math.floor(-Math.log(l)/Math.LN2)),p=Math.pow(2,u);return new t.CanonicalTileID(u,Math.floor((n+i)/2*p),Math.floor((r+o)/2*p))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),k=function(e){function n(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],t.ResourceType.Source).url);t.getVideo(this.urls,(function(n,r){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(L),I=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(L),D={vector:T,raster:O,"raster-dem":A,geojson:P,video:k,image:L,canvas:I};function N(e,n){var r=t.identity([]);return t.translate(r,r,[1,1,0]),t.scale(r,r,[.5*e.width,.5*e.height,1]),t.multiply(r,r,e.calculatePosMatrix(n.toUnwrapped()))}function R(t,e,n,r,i){var o=function(t,e,n){if(t)for(var r=0,i=t;r<i.length;r+=1){var o=e[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(r&&r.layers,e,t.id),a=i.maxPitchScaleFactor(),s=t.tilesIn(n,a,o);s.sort(z);for(var c=[],l=0,u=s;l<u.length;l+=1){var p=u[l];c.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(e,t._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,r,i,a,N(t.transform,p.tileID))})}var d=function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,c=n[s]=n[s]||{};for(var l in a)for(var u=a[l],p=c[l]=c[l]||{},d=e[l]=e[l]||[],h=0,f=u;h<f.length;h+=1){var m=f[h];p[m.featureIndex]||(p[m.featureIndex]=!0,d.push(m))}}return e}(c);for(var h in d)d[h].forEach((function(e){var n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return d}function z(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var F=function(t,e){this.max=t,this.onRemove=e,this.reset()};F.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},F.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},F.prototype.has=function(t){return t.wrapped().key in this.data},F.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},F.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},F.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},F.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},F.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var j=function(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};j.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},j.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var B={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},q=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};q.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},q.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},q.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=e.attributes[this.attributes[n].name];void 0!==r&&t.enableVertexAttribArray(r)}},q.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[B[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},q.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var V=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};V.prototype.get=function(){return this.current},V.prototype.set=function(t){},V.prototype.getDefault=function(){return this.default},V.prototype.setDefault=function(){this.set(this.default)};var Y=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(V),H=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(V),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(V),U=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(V),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(V),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(V),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(V),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(V),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(V),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(V),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(V),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(V),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(V),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(V),rt=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(V),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(V),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(V),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(V),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(V),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(V),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(V),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(V),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(V),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(V),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(V),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(V),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(V),gt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(V),yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(V),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(V),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(V),bt=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(V),Mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(bt),xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(bt),wt=function(t,e,n){this.context=t,this.width=e,this.height=n;var r=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new Mt(t,r),this.depthAttachment=new xt(t,r)};wt.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)};var Ct=function(t,e,n){this.func=t,this.mask=e,this.range=n};Ct.ReadOnly=!1,Ct.ReadWrite=!0,Ct.disabled=new Ct(519,Ct.ReadOnly,[0,1]);var St=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};St.disabled=new St({func:519,mask:0},0,0,7680,7680,7680);var Et=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};Et.disabled=new Et(Et.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),Et.unblended=new Et(Et.Replace,t.Color.transparent,[!0,!0,!0,!0]),Et.alphaBlended=new Et([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Tt=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};Tt.disabled=new Tt(!1,1029,2305),Tt.backCCW=new Tt(!0,1029,2305);var Ot=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Y(this),this.clearDepth=new H(this),this.clearStencil=new W(this),this.colorMask=new U(this),this.depthMask=new X(this),this.stencilMask=new G(this),this.stencilFunc=new J(this),this.stencilOp=new $(this),this.stencilTest=new K(this),this.depthRange=new Z(this),this.depthTest=new Q(this),this.depthFunc=new tt(this),this.blend=new et(this),this.blendFunc=new nt(this),this.blendColor=new rt(this),this.blendEquation=new it(this),this.cullFace=new ot(this),this.cullFaceSide=new at(this),this.frontFace=new st(this),this.program=new ct(this),this.activeTexture=new lt(this),this.viewport=new ut(this),this.bindFramebuffer=new pt(this),this.bindRenderbuffer=new dt(this),this.bindTexture=new ht(this),this.bindVertexBuffer=new ft(this),this.bindElementBuffer=new mt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new gt(this),this.pixelStoreUnpack=new yt(this),this.pixelStoreUnpackPremultiplyAlpha=new _t(this),this.pixelStoreUnpackFlipY=new vt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};Ot.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ot.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ot.prototype.createIndexBuffer=function(t,e){return new j(this,t,e)},Ot.prototype.createVertexBuffer=function(t,e,n){return new q(this,t,e,n)},Ot.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},Ot.prototype.createFramebuffer=function(t,e){return new wt(this,t,e)},Ot.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Ot.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Ot.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Ot.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Ot.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,Et.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Ot.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var At=function(e){function n(n,r,i){var o=this;e.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(e,n,r,i){var o=new D[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new F(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Pt)},n.prototype.getRenderableIds=function(e){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(+i,e)&&r.push(+i);return r.sort(e?function(e,r){var i=n._tiles[e].tileID,o=n._tiles[r].tileID,a=new t.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x}:Pt)},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},n.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var c=a;c.overscaledZ>e;)if(t[(c=c.scaledTo(c.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){for(var n=t.overscaledZ-1;n>=e;n--){var r=t.scaledTo(n);if(!r)return;var i=String(r.key),o=this._tiles[i];if(o&&o.hasData())return o;if(this._cache.has(r))return this._cache.get(r)}},n.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),n=Math.floor(5*e),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(i=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(t){return r._source.hasTile(t)})))):i=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),c=this._updateRetainedTiles(i,o);if(Lt(this._source.type)){for(var l={},u={},p=0,d=Object.keys(c);p<d.length;p+=1){var h=d[p],f=c[h],m=this._tiles[h];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=t.browser.now())){var g=this.findLoadedParent(f,a);g&&(this._addTile(g.tileID),l[g.tileID.key]=g.tileID),u[h]=f}}for(var y in this._retainLoadedChildren(u,o,s,c),l)c[y]||(this._coveredTiles[y]=!0,c[y]=l[y])}for(var _ in c)this._tiles[_].clearFadeHold();for(var v=0,b=t.keysDifference(this._tiles,c);v<b.length;v+=1){var M=b[v],x=this._tiles[M];x.hasSymbolBuckets&&!x.holdingForFade()?x.setHoldDuration(this.map._fadeDuration):x.hasSymbolBuckets&&!x.symbolFadeFinished()||this._removeTile(M)}}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var r={},i={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},c=0,l=t;c<l.length;c+=1){var u=l[c],p=this._addTile(u);r[u.key]=u,p.hasData()||e<this._source.maxzoom&&(s[u.key]=u)}this._retainLoadedChildren(s,e,a,r);for(var d=0,h=t;d<h.length;d+=1){var f=h[d],m=this._tiles[f.key];if(!m.hasData()){if(e+1>this._source.maxzoom){var g=f.children(this._source.maxzoom)[0],y=this.getTile(g);if(y&&y.hasData()){r[g.key]=g;continue}}else{var _=f.children(this._source.maxzoom);if(r[_[0].key]&&r[_[1].key]&&r[_[2].key]&&r[_[3].key])continue}for(var v=m.wasRequested(),b=f.overscaledZ-1;b>=o;--b){var M=f.scaledTo(b);if(i[M.key])break;if(i[M.key]=!0,!(m=this.getTile(M))&&v&&(m=this._addTile(M)),m&&(r[M.key]=M,v=m.wasRequested(),m.hasData()))break}}}return r},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var r=Boolean(n);return r||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(e):e,c=e.map((function(t){return a.pointCoordinate(t)})),l=s.map((function(t){return a.pointCoordinate(t)})),u=this.getIds(),p=1/0,d=1/0,h=-1/0,f=-1/0,m=0,g=l;m<g.length;m+=1){var y=g[m];p=Math.min(p,y.x),d=Math.min(d,y.y),h=Math.max(h,y.x),f=Math.max(f,y.y)}for(var _=function(e){var r=i._tiles[u[e]];if(!r.holdingForFade()){var s=r.tileID,m=Math.pow(2,a.zoom-r.tileID.overscaledZ),g=n*r.queryPadding*t.EXTENT/r.tileSize/m,y=[s.getTilePoint(new t.MercatorCoordinate(p,d)),s.getTilePoint(new t.MercatorCoordinate(h,f))];if(y[0].x-g<t.EXTENT&&y[0].y-g<t.EXTENT&&y[1].x+g>=0&&y[1].y+g>=0){var _=c.map((function(t){return s.getTilePoint(t)})),v=l.map((function(t){return s.getTilePoint(t)}));o.push({tile:r,tileID:s,queryGeometry:_,cameraQueryGeometry:v,scale:m})}}},v=0;v<u.length;v++)_(v);return o},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Lt(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.removeFeatureState=function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n}(t.Evented);function Pt(t,e){return t%32-e%32||e-t}function Lt(t){return"raster"===t||"image"===t||"video"===t}function kt(){return new t.window.Worker(Zr.workerUrl)}At.maxOverzooming=10,At.maxUnderzooming=3;var It=function(){this.active={}};It.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<It.workerCount;)this.workers.push(new kt);return this.active[t]=!0,this.workers.slice()},It.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)};var Dt,Nt=Math.floor(t.browser.hardwareConcurrency/2);function Rt(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach((function(t){t in n&&(r[t]=n[t])})),r}function zt(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=Rt(t[r],e[t[r].ref]));return t}It.workerCount=Math.max(Math.min(Nt,6),1);var Ft={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function jt(t,e,n){n.push({command:Ft.addSource,args:[t,e[t]]})}function Bt(t,e,n){e.push({command:Ft.removeSource,args:[t]}),n[t]=!0}function qt(t,e,n,r){Bt(t,n,r),jt(t,e,n)}function Vt(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;return!0}function Yt(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Ht(t){return t.id}function Wt(t,e){return t[e.id]=e,t}var Ut=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Xt(e,n,r,i,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):t.multiply(a,i.labelPlaneMatrix,e),a}function Gt(e,n,r,i,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function Jt(e,n){var r=[e.x,e.y,0,1];oe(r,r,n);var i=r[3];return{point:new t.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function $t(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function Kt(e,n,r,i,o,a,s,c){var l=i?e.textSizeData:e.iconSizeData,u=t.evaluateSizeForZoom(l,r.transform.zoom),p=[256/r.width*2+1,256/r.height*2+1],d=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;d.clear();for(var h=e.lineVertexArray,f=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=r.transform.width/r.transform.height,g=!1,y=0;y<f.length;y++){var _=f.get(y);if(_.hidden||_.writingMode===t.WritingMode.vertical&&!g)ie(_.numGlyphs,d);else{g=!1;var v=[_.anchorX,_.anchorY,0,1];if(t.transformMat4(v,v,n),$t(v,p)){var b=.5+v[3]/r.transform.cameraToCenterDistance*.5,M=t.evaluateSizeForFeature(l,u,_),x=s?M*b:M/b,w=new t.Point(_.anchorX,_.anchorY),C=Jt(w,o).point,S={},E=te(_,x,!1,c,n,o,a,e.glyphOffsetArray,h,d,C,w,S,m);g=E.useVertical,(E.notEnoughRoom||g||E.needsFlipping&&te(_,x,!0,c,n,o,a,e.glyphOffsetArray,h,d,C,w,S,m).notEnoughRoom)&&ie(_.numGlyphs,d)}else ie(_.numGlyphs,d)}}i?e.text.dynamicLayoutVertexBuffer.updateData(d):e.icon.dynamicLayoutVertexBuffer.updateData(d)}function Zt(t,e,n,r,i,o,a,s,c,l,u,p){var d=s.glyphStartIndex+s.numGlyphs,h=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),g=e.getoffsetX(d-1),y=ne(t*m,n,r,i,o,a,s.segment,h,f,c,l,u,p);if(!y)return null;var _=ne(t*g,n,r,i,o,a,s.segment,h,f,c,l,u,p);return _?{first:y,last:_}:null}function Qt(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function te(e,n,r,i,o,a,s,c,l,u,p,d,h,f){var m,g=n/24,y=e.lineOffsetX*g,_=e.lineOffsetY*g;if(e.numGlyphs>1){var v=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,M=e.lineStartIndex+e.lineLength,x=Zt(g,c,y,_,r,p,d,e,l,a,h,!1);if(!x)return{notEnoughRoom:!0};var w=Jt(x.first.point,s).point,C=Jt(x.last.point,s).point;if(i&&!r){var S=Qt(e.writingMode,w,C,f);if(S)return S}m=[x.first];for(var E=e.glyphStartIndex+1;E<v-1;E++)m.push(ne(g*c.getoffsetX(E),y,_,r,p,d,e.segment,b,M,l,a,h,!1));m.push(x.last)}else{if(i&&!r){var T=Jt(d,o).point,O=e.lineStartIndex+e.segment+1,A=new t.Point(l.getx(O),l.gety(O)),P=Jt(A,o),L=P.signedDistanceFromCamera>0?P.point:ee(d,A,T,1,o),k=Qt(e.writingMode,T,L,f);if(k)return k}var I=ne(g*c.getoffsetX(e.glyphStartIndex),y,_,r,p,d,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,a,h,!1);if(!I)return{notEnoughRoom:!0};m=[I]}for(var D=0,N=m;D<N.length;D+=1){var R=N[D];t.addDynamicAttributes(u,R.point,R.angle)}return{}}function ee(t,e,n,r,i){var o=Jt(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function ne(e,n,r,i,o,a,s,c,l,u,p,d,h){var f=i?e-n:e+n,m=f>0?1:-1,g=0;i&&(m*=-1,g=Math.PI),m<0&&(g+=Math.PI);for(var y=m>0?c+s:c+s+1,_=y,v=o,b=o,M=0,x=0,w=Math.abs(f);M+x<=w;){if((y+=m)<c||y>=l)return null;if(b=v,void 0===(v=d[y])){var C=new t.Point(u.getx(y),u.gety(y)),S=Jt(C,p);if(S.signedDistanceFromCamera>0)v=d[y]=S.point;else{var E=y-m;v=ee(0===M?a:new t.Point(u.getx(E),u.gety(E)),C,b,w-M+1,p)}}M+=x,x=b.dist(v)}var T=(w-M)/x,O=v.sub(b),A=O.mult(T)._add(b);return A._add(O._unit()._perp()._mult(r*m)),{point:A,angle:g+Math.atan2(v.y-b.y,v.x-b.x),tileDistance:h?{prevTileDistance:y-m===_?0:u.gettileUnitDistanceFromAnchor(y-m),lastSegmentViewportDistance:w-M}:null}}Ut.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ut.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ut.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Ut.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Ut.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Ut.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var c=0;c<this.circleKeys.length;c++){var l=this.circles[3*c],u=this.circles[3*c+1],p=this.circles[3*c+2];a.push({key:this.circleKeys[c],x1:l-p,y1:u-p,x2:l+p,y2:u+p})}return o?a.filter(o):a}return this._forEachCell(t,e,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Ut.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,c=e+n;if(a<0||o>this.width||c<0||s>this.height)return!r&&[];var l=[];return this._forEachCell(o,s,a,c,this._queryCellCircle,l,{hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},i),r?l.length>0:l},Ut.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Ut.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},Ut.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},Ut.prototype._queryCell=function(t,e,n,r,i,o,a,s){var c=a.seenUids,l=this.boxCells[i];if(null!==l)for(var u=this.bboxes,p=0,d=l;p<d.length;p+=1){var h=d[p];if(!c.box[h]){c.box[h]=!0;var f=4*h;if(t<=u[f+2]&&e<=u[f+3]&&n>=u[f+0]&&r>=u[f+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:u[f],y1:u[f+1],x2:u[f+2],y2:u[f+3]})}}}var m=this.circleCells[i];if(null!==m)for(var g=this.circles,y=0,_=m;y<_.length;y+=1){var v=_[y];if(!c.circle[v]){c.circle[v]=!0;var b=3*v;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],t,e,n,r)&&(!s||s(this.circleKeys[v]))){if(a.hitTest)return o.push(!0),!0;var M=g[b],x=g[b+1],w=g[b+2];o.push({key:this.circleKeys[v],x1:M-w,y1:x-w,x2:M+w,y2:x+w})}}}},Ut.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var c=a.circle,l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var p=this.bboxes,d=0,h=u;d<h.length;d+=1){var f=h[d];if(!l.box[f]){l.box[f]=!0;var m=4*f;if(this._circleAndRectCollide(c.x,c.y,c.radius,p[m+0],p[m+1],p[m+2],p[m+3])&&(!s||s(this.boxKeys[f])))return o.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var y=this.circles,_=0,v=g;_<v.length;_+=1){var b=v[_];if(!l.circle[b]){l.circle[b]=!0;var M=3*b;if(this._circlesCollide(y[M],y[M+1],y[M+2],c.x,c.y,c.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Ut.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var c=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),u=this._convertToXCellCoord(n),p=this._convertToYCellCoord(r),d=c;d<=u;d++)for(var h=l;h<=p;h++)if(i.call(this,t,e,n,r,this.xCellCount*h+d,o,a,s))return},Ut.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Ut.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Ut.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,c=n+o;return c*c>a*a+s*s},Ut.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,c=Math.abs(t-(r+s));if(c>s+n)return!1;var l=(a-i)/2,u=Math.abs(e-(i+l));if(u>l+n)return!1;if(c<=s||u<=l)return!0;var p=c-s,d=u-l;return p*p+d*d<=n*n};var re=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ie(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(re,3*r)}}function oe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var ae=function(t,e,n){void 0===e&&(e=new Ut(t.width+200,t.height+200,25)),void 0===n&&(n=new Ut(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function se(t,e,n){t[e+4]=n?1:0}function ce(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}ae.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,c=t.y1*a+o.point.y,l=t.x2*a+o.point.x,u=t.y2*a+o.point.y;return!this.isInsideGrid(s,c,l,u)||!e&&this.grid.hitTest(s,c,l,u,i)?{box:[],offscreen:!1}:{box:[s,c,l,u],offscreen:this.isOffscreen(s,c,l,u)}},ae.prototype.approximateTileDistance=function(t,e,n,r,i){var o=t.lastSegmentViewportDistance*n;return t.prevTileDistance+o+((i?1:r/this.pitchfactor)-1)*o*Math.abs(Math.sin(e))},ae.prototype.placeCollisionCircles=function(e,n,r,i,o,a,s,c,l,u,p,d,h){var f=[],m=this.projectAnchor(l,o.anchorX,o.anchorY),g=c/24,y=o.lineOffsetX*c,_=o.lineOffsetY*c,v=new t.Point(o.anchorX,o.anchorY),b=Zt(g,s,y,_,!1,Jt(v,u).point,v,o,a,u,{},!0),M=!1,x=!1,w=!0,C=m.perspectiveRatio*i,S=1/(i*r),E=0,T=0;b&&(E=this.approximateTileDistance(b.first.tileDistance,b.first.angle,S,m.cameraDistance,d),T=this.approximateTileDistance(b.last.tileDistance,b.last.angle,S,m.cameraDistance,d));for(var O=0;O<e.length;O+=5){var A=e[O],P=e[O+1],L=e[O+2],k=e[O+3];if(!b||k<-E||k>T)se(e,O,!1);else{var I=this.projectPoint(l,A,P),D=L*C;if(f.length>0){var N=I.x-f[f.length-4],R=I.y-f[f.length-3];if(D*D*2>N*N+R*R&&O+8<e.length){var z=e[O+8];if(z>-E&&z<T){se(e,O,!1);continue}}}f.push(I.x,I.y,D,O/5),se(e,O,!0);var F=I.x-D,j=I.y-D,B=I.x+D,q=I.y+D;if(w=w&&this.isOffscreen(F,j,B,q),x=x||this.isInsideGrid(F,j,B,q),!n&&this.grid.hitTestCircle(I.x,I.y,D,h)){if(!p)return{circles:[],offscreen:!1};M=!0}}}return{circles:M||!x?[]:f,offscreen:w}},ae.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,c=e;s<c.length;s+=1){var l=c[s],u=new t.Point(l.x+100,l.y+100);r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y),n.push(u)}for(var p={},d={},h=0,f=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));h<f.length;h+=1){var m=f[h],g=m.key;if(void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]={}),!p[g.bucketInstanceId][g.featureIndex]){var y=[new t.Point(m.x1,m.y1),new t.Point(m.x2,m.y1),new t.Point(m.x2,m.y2),new t.Point(m.x1,m.y2)];t.polygonIntersectsPolygon(n,y)&&(p[g.bucketInstanceId][g.featureIndex]=!0,void 0===d[g.bucketInstanceId]&&(d[g.bucketInstanceId]=[]),d[g.bucketInstanceId].push(g.featureIndex))}}return d},ae.prototype.insertCollisionBox=function(t,e,n,r,i){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},t[0],t[1],t[2],t[3])},ae.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},ae.prototype.projectAnchor=function(t,e,n){var r=[e,n,0,1];return oe(r,r,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},ae.prototype.projectPoint=function(e,n,r){var i=[n,r,0,1];return oe(i,i,e),new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100)},ae.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return oe(i,i,e),{point:new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ae.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},ae.prototype.isInsideGrid=function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary};var le=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};le.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var ue=function(t,e,n,r,i){this.text=new le(t?t.text:null,e,n,i),this.icon=new le(t?t.icon:null,e,r,i)};ue.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var pe=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},de=function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},he=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function fe(e,n,r,i,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,c=-(a.verticalAlign-.5)*r,l=t.evaluateVariableOffset(e,i);return new t.Point(s+l[0]*o,c+l[1]*o)}function me(e,n,r,i,o,a){var s=e.x1,c=e.x2,l=e.y1,u=e.y2,p=e.anchorPointX,d=e.anchorPointY,h=new t.Point(n,r);return i&&h._rotate(o?a:-a),{x1:s+h.x,y1:l+h.y,x2:c+h.x,y2:u+h.y,anchorPointX:p,anchorPointY:d}}he.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var ge=function(t,e,n,r){this.transform=t.clone(),this.collisionIndex=new ae(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new he(n),this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function ye(t,e,n,r,i){t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0)}ge.prototype.placeLayerTile=function(e,n,r,i){var o=n.getBucket(e),a=n.latestFeatureIndex;if(o&&a&&e.id===o.layerIds[0]){var s=n.collisionBoxArray,c=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),u=n.tileSize/t.EXTENT,p=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),d=Xt(p,"map"===c.get("text-pitch-alignment"),"map"===c.get("text-rotation-alignment"),this.transform,ce(n,1,this.transform.zoom)),h=Xt(p,"map"===c.get("icon-pitch-alignment"),"map"===c.get("icon-rotation-alignment"),this.transform,ce(n,1,this.transform.zoom));this.retainedQueryData[o.bucketInstanceId]=new de(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID),this.placeLayerBucket(o,p,d,h,l,u,r,n.holdingForFade(),i,s)}},ge.prototype.attemptAnchorPlacement=function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f){var m,g=[p.textOffset0,p.textOffset1],y=fe(t,n,r,g,i),_=this.collisionIndex.placeCollisionBox(me(e,y.x,y.y,o,a,this.transform.angle),u,s,c,l.predicate);if(!f||0!==this.collisionIndex.placeCollisionBox(me(f,y.x,y.y,o,a,this.transform.angle),u,s,c,l.predicate).box.length)return _.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID].text&&(m=this.prevPlacement.variableOffsets[p.crossTileID].anchor),this.variableOffsets[p.crossTileID]={textOffset:g,width:n,height:r,anchor:t,textBoxScale:i,prevAnchor:m},this.markUsedJustification(d,t,p,h),d.allowVerticalPlacement&&(this.markUsedOrientation(d,h,p),this.placedOrientations[p.crossTileID]=h),{shift:y,placedGlyphBoxes:_}):void 0},ge.prototype.placeLayerBucket=function(e,n,r,i,o,a,s,c,l,u){var p=this,d=e.layers[0].layout,h=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom),f=d.get("text-optional"),m=d.get("icon-optional"),g=d.get("text-allow-overlap"),y=d.get("icon-allow-overlap"),_=g&&(y||!e.hasIconData()||m),v=y&&(g||!e.hasTextData()||f),b=this.collisionGroups.get(e.sourceID),M="map"===d.get("text-rotation-alignment"),x="map"===d.get("text-pitch-alignment"),w="none"!==d.get("icon-text-fit"),C="viewport-y"===d.get("symbol-z-order");!e.collisionArrays&&u&&e.deserializeCollisionBoxes(u);var S=function(i,u){if(!l[i.crossTileID])if(c)p.placements[i.crossTileID]=new pe(!1,!1,!1);else{var C,S=!1,E=!1,T=!0,O=null,A={box:null,offscreen:null},P={box:null,offscreen:null},L=null,k=null,I=0,D=0,N=0;u.textFeatureIndex&&(I=u.textFeatureIndex),u.verticalTextFeatureIndex&&(D=u.verticalTextFeatureIndex);var R=u.textBox;if(R){var z=function(n){var r=t.WritingMode.horizontal;if(e.allowVerticalPlacement&&!n&&p.prevPlacement){var o=p.prevPlacement.placedOrientations[i.crossTileID];o&&(p.placedOrientations[i.crossTileID]=o,p.markUsedOrientation(e,r=o,i))}return r},F=function(n,r){if(e.allowVerticalPlacement&&i.numVerticalGlyphVertices>0&&u.verticalTextBox)for(var o=0,a=e.writingModes;o<a.length&&(a[o]===t.WritingMode.vertical?(A=r(),P=A):A=n(),!(A&&A.box&&A.box.length));o+=1);else A=n()};if(d.get("text-variable-anchor")){var j=d.get("text-variable-anchor");if(p.prevPlacement&&p.prevPlacement.variableOffsets[i.crossTileID]){var B=p.prevPlacement.variableOffsets[i.crossTileID];j.indexOf(B.anchor)>0&&(j=j.filter((function(t){return t!==B.anchor}))).unshift(B.anchor)}var q=function(t,r,o){for(var s=t.x2-t.x1,c=t.y2-t.y1,l=i.textBoxScale,u=w&&!y?r:null,d={box:[],offscreen:!1},h=g?2*j.length:j.length,f=0;f<h;++f){var m=p.attemptAnchorPlacement(j[f%j.length],t,s,c,l,M,x,a,n,b,f>=j.length,i,e,o,u);if(m&&(d=m.placedGlyphBoxes)&&d.box&&d.box.length){S=!0,O=m.shift;break}}return d};F((function(){return q(R,u.iconBox,t.WritingMode.horizontal)}),(function(){var n=u.verticalTextBox;return e.allowVerticalPlacement&&!(A&&A.box&&A.box.length)&&i.numVerticalGlyphVertices>0&&n?q(n,u.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),A&&(S=A.box,T=A.offscreen);var V=z(A&&A.box);if(!S&&p.prevPlacement){var Y=p.prevPlacement.variableOffsets[i.crossTileID];Y&&(p.variableOffsets[i.crossTileID]=Y,p.markUsedJustification(e,Y.anchor,i,V))}}else{var H=function(t,r){var o=p.collisionIndex.placeCollisionBox(t,d.get("text-allow-overlap"),a,n,b.predicate);return o&&o.box&&o.box.length&&(p.markUsedOrientation(e,r,i),p.placedOrientations[i.crossTileID]=r),o};F((function(){return H(R,t.WritingMode.horizontal)}),(function(){var n=u.verticalTextBox;return e.allowVerticalPlacement&&i.numVerticalGlyphVertices>0&&n?H(n,t.WritingMode.vertical):{box:null,offscreen:null}})),z(A&&A.box&&A.box.length)}}S=(C=A)&&C.box&&C.box.length>0,T=C&&C.offscreen;var W=u.textCircles;if(W){var U=e.text.placedSymbolArray.get(i.centerJustifiedTextSymbolIndex),X=t.evaluateSizeForFeature(e.textSizeData,h,U);L=p.collisionIndex.placeCollisionCircles(W,d.get("text-allow-overlap"),o,a,U,e.lineVertexArray,e.glyphOffsetArray,X,n,r,s,x,b.predicate),S=d.get("text-allow-overlap")||L.circles.length>0,T=T&&L.offscreen}if(u.iconFeatureIndex&&(N=u.iconFeatureIndex),u.iconBox){var G=function(t){var e=w&&O?me(t,O.x,O.y,M,x,p.transform.angle):t;return p.collisionIndex.placeCollisionBox(e,d.get("icon-allow-overlap"),a,n,b.predicate)};E=P&&P.box&&P.box.length&&u.verticalIconBox?(k=G(u.verticalIconBox)).box.length>0:(k=G(u.iconBox)).box.length>0,T=T&&k.offscreen}var J=f||0===i.numHorizontalGlyphVertices&&0===i.numVerticalGlyphVertices,$=m||0===i.numIconVertices;J||$?$?J||(E=E&&S):S=E&&S:E=S=E&&S,S&&C&&C.box&&p.collisionIndex.insertCollisionBox(C.box,d.get("text-ignore-placement"),e.bucketInstanceId,P&&P.box&&D?D:I,b.ID),E&&k&&p.collisionIndex.insertCollisionBox(k.box,d.get("icon-ignore-placement"),e.bucketInstanceId,N,b.ID),S&&L&&p.collisionIndex.insertCollisionCircles(L.circles,d.get("text-ignore-placement"),e.bucketInstanceId,I,b.ID),p.placements[i.crossTileID]=new pe(S||_,E||v,T||e.justReloaded),l[i.crossTileID]=!0}};if(C)for(var E=e.getSortedSymbolIndexes(this.transform.angle),T=E.length-1;T>=0;--T){var O=E[T];S(e.symbolInstances.get(O),e.collisionArrays[O])}else for(var A=0;A<e.symbolInstances.length;++A)S(e.symbolInstances.get(A),e.collisionArrays[A]);e.justReloaded=!1},ge.prototype.markUsedJustification=function(e,n,r,i){var o;o=i===t.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var c=s[a];c>=0&&(e.text.placedSymbolArray.get(c).crossTileID=o>=0&&c!==o?0:r.crossTileID)}},ge.prototype.markUsedOrientation=function(e,n,r){for(var i=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)e.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},ge.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var r=e?e.symbolFadeChange(t):1,i=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var c=this.placements[s],l=i[s];l?(this.opacities[s]=new ue(l,r,c.text,c.icon),n=n||c.text!==l.text.placed||c.icon!==l.icon.placed):(this.opacities[s]=new ue(null,r,c.text,c.icon,c.skipFade),n=n||c.text||c.icon)}for(var u in i){var p=i[u];if(!this.opacities[u]){var d=new ue(p,r,!1,!1);d.isHidden()||(this.opacities[u]=d,n=n||p.text.placed||p.icon.placed)}}for(var h in o)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=o[h]);for(var f in a)this.placedOrientations[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.placedOrientations[f]=a[f]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},ge.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},ge.prototype.updateBucketOpacities=function(e,n,r){var i=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear(),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexArray.clear(),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexArray.clear();var o=e.layers[0].layout,a=new ue(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),c=o.get("icon-allow-overlap"),l=o.get("text-variable-anchor"),u="map"===o.get("text-rotation-alignment"),p="map"===o.get("text-pitch-alignment"),d="none"!==o.get("icon-text-fit"),h=new ue(null,0,s&&(c||!e.hasIconData()||o.get("icon-optional")),c&&(s||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData())&&e.deserializeCollisionBoxes(r);for(var f=function(t,e,n){for(var r=0;r<e/4;r++)t.opacityVertexArray.emplaceBack(n)},m=function(r){var o=e.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,c=o.numVerticalGlyphVertices,m=o.crossTileID,g=n[m],y=i.opacities[m];g?y=a:y||(i.opacities[m]=y=h),n[m]=!0;var _=o.numIconVertices>0,v=i.placedOrientations[o.crossTileID],b=v===t.WritingMode.vertical,M=v===t.WritingMode.horizontal||v===t.WritingMode.horizontalOnly;if(s>0||c>0){var x=Se(y.text);f(e.text,s,b?Ee:x),f(e.text,c,M?Ee:x);var w=y.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=w||b?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||M?1:0);var C=i.variableOffsets[o.crossTileID];C&&i.markUsedJustification(e,C.anchor,o,v);var S=i.placedOrientations[o.crossTileID];S&&(i.markUsedJustification(e,"left",o,S),i.markUsedOrientation(e,S,o))}if(_){var E=Se(y.icon),T=!(d&&o.verticalPlacedIconSymbolIndex&&b);o.placedIconSymbolIndex>=0&&(f(e.icon,o.numIconVertices,T?E:Ee),e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=y.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(f(e.icon,o.numVerticalIconVertices,T?Ee:E),e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=y.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData()){var O=e.collisionArrays[r];if(O){var A=new t.Point(0,0);if(O.textBox||O.verticalTextBox){var P=!0;if(l){var L=i.variableOffsets[m];L?(A=fe(L.anchor,L.width,L.height,L.textOffset,L.textBoxScale),u&&A._rotate(p?i.transform.angle:-i.transform.angle)):P=!1}O.textBox&&ye(e.textCollisionBox.collisionVertexArray,y.text.placed,!P||b,A.x,A.y),O.verticalTextBox&&ye(e.textCollisionBox.collisionVertexArray,y.text.placed,!P||M,A.x,A.y)}var k=Boolean(!M&&O.verticalIconBox);O.iconBox&&ye(e.iconCollisionBox.collisionVertexArray,y.icon.placed,k,d?A.x:0,d?A.y:0),O.verticalIconBox&&ye(e.iconCollisionBox.collisionVertexArray,y.icon.placed,!k,d?A.x:0,d?A.y:0);var I=O.textCircles;if(I&&e.hasTextCollisionCircleData())for(var D=0;D<I.length;D+=5)ye(e.textCollisionCircle.collisionVertexArray,y.text.placed,g||0===I[D+4])}}},g=0;g<e.symbolInstances.length;g++)m(g);e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexBuffer&&e.iconCollisionCircle.collisionVertexBuffer.updateData(e.iconCollisionCircle.collisionVertexArray),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexBuffer&&e.textCollisionCircle.collisionVertexBuffer.updateData(e.textCollisionCircle.collisionVertexArray)},ge.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},ge.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},ge.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},ge.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},ge.prototype.setStale=function(){this.stale=!0};var _e=Math.pow(2,25),ve=Math.pow(2,24),be=Math.pow(2,17),Me=Math.pow(2,16),xe=Math.pow(2,9),we=Math.pow(2,8),Ce=Math.pow(2,1);function Se(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*_e+e*ve+n*be+e*Me+n*xe+e*we+n*Ce+e}var Ee=0,Te=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Te.prototype.continuePlacement=function(t,e,n,r,i){for(;this._currentTileIndex<t.length;)if(e.placeLayerTile(r,t[this._currentTileIndex],n,this._seenCrossTileIDs),this._currentTileIndex++,i())return!0};var Oe=function(t,e,n,r,i,o,a){this.placement=new ge(t,i,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Oe.prototype.isDone=function(){return this._done},Oe.prototype.continuePlacement=function(e,n,r){for(var i=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],c=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=c)&&(!s.maxzoom||s.maxzoom>c)){if(this._inProgressLayer||(this._inProgressLayer=new Te),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Oe.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Ae=512/t.EXTENT/2,Pe=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};Pe.prototype.getScaledCoordinates=function(e,n){var r=Ae/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*r)}},Pe.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),c=0,l=a;c<l.length;c+=1){var u=l[c];if(Math.abs(u.coord.x-s.x)<=r&&Math.abs(u.coord.y-s.y)<=r&&!n[u.crossTileID]){n[u.crossTileID]=!0,o.crossTileID=u.crossTileID;break}}}}};var Le=function(){this.maxCrossTileID=0};Le.prototype.generate=function(){return++this.maxCrossTileID};var ke=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ke.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},ke.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var c=a[s];c.tileID.isChildOf(t)&&c.findMatches(e.symbolInstances,t,i)}else{var l=a[t.scaledTo(Number(o)).key];l&&l.findMatches(e.symbolInstances,t,i)}}for(var u=0;u<e.symbolInstances.length;u++){var p=e.symbolInstances.get(u);p.crossTileID||(p.crossTileID=n.generate(),i[p.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Pe(t,e.symbolInstances,e.bucketInstanceId),!0},ke.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[t][i[r].crossTileID]},ke.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var Ie=function(){this.layerIndexes={},this.crossTileIDs=new Le,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ie.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new ke);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var c=s[a],l=c.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(c.tileID,l,this.crossTileIDs)&&(i=!0),o[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Ie.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var De=function(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},Ne=t.pick(Ft,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Re=t.pick(Ft,["setCenter","setZoom","setBearing","setPitch"]),ze=function(e){function n(r,i){var o=this;void 0===i&&(i={}),e.call(this),this.map=r,this.dispatcher=new C((Dt||(Dt=new It),Dt),this),this.imageManager=new d,this.imageManager.setEventedParent(this),this.glyphManager=new v(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new w(256,512),this.crossTileSymbolIndex=new Ie,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginAvailability((function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload()})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,(function(e,n){r._request=null,e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){r._request=null,r._load(e,!1!==n.validate)}))},n.prototype._load=function(e,n){var r=this;if(!n||!De(this,t.validateStyle(e))){for(var i in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(i,e.sources[i],{validate:!1});e.sprite?this._spriteRequest=function(e,n,r){var i,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",c=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){c=null,a||(a=t,i=e,u())})),l=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){l=null,a||(a=t,o=e,u())}));function u(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var s in i){var c=i[s],l=c.width,u=c.height,p=c.x,d=c.y,h=c.sdf,f=c.pixelRatio,m=new t.RGBAImage({width:l,height:u});t.RGBAImage.copy(e,m,{x:p,y:d},{x:0,y:0},{width:l,height:u}),n[s]={data:m,pixelRatio:f,sdf:h}}r(null,n)}}return{cancel:function(){c&&(c.cancel(),c=null),l&&(l.cancel(),l=null)}}}(e.sprite,this.map._requestManager,(function(e,n){if(r._spriteRequest=null,e)r.fire(new t.ErrorEvent(e));else if(n)for(var i in n)r.imageManager.addImage(i,n[i]);r.imageManager.setLoaded(!0),r.dispatcher.broadcast("setImages",r.imageManager.listImages()),r.fire(new t.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var o=zt(this.stylesheet.layers);this._order=o.map((function(t){return t.id})),this._layers={};for(var a=0,s=o;a<s.length;a+=1){var c=s[a];(c=t.createStyleLayer(c)).setEventedParent(this,{layer:{id:c.id}}),this._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&e.push(i.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}for(var c in this.sourceCaches)this.sourceCaches[c].used=!1;for(var l=0,u=this._order;l<u.length;l+=1){var p=this._layers[u[l]];p.recalculate(e,this.imageManager.listImages()),!p.isHidden(e.zoom)&&p.source&&(this.sourceCaches[p.source].used=!0)}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),De(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=zt(e.layers);var r=function(e,n){if(!e)return[{command:Ft.setStyle,args:[n]}];var r=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Ft.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||r.push({command:Ft.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||r.push({command:Ft.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||r.push({command:Ft.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||r.push({command:Ft.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||r.push({command:Ft.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||r.push({command:Ft.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||r.push({command:Ft.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||r.push({command:Ft.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Bt(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&Vt(e,n,o)?r.push({command:Ft.setGeoJSONSourceData,args:[o,n[o].data]}):qt(o,n,r,i)):jt(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:Ft.removeLayer,args:[t.id]}):a.push(t)})),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,s,c,l,u,p=(e=e||[]).map(Ht),d=n.map(Ht),h=e.reduce(Wt,{}),f=n.reduce(Wt,{}),m=p.slice(),g=Object.create(null);for(i=0,o=0;i<p.length;i++)f.hasOwnProperty(a=p[i])?o++:(r.push({command:Ft.removeLayer,args:[a]}),m.splice(m.indexOf(a,o),1));for(i=0,o=0;i<d.length;i++)m[m.length-1-i]!==(a=d[d.length-1-i])&&(h.hasOwnProperty(a)?(r.push({command:Ft.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-o),1)):o++,r.push({command:Ft.addLayer,args:[f[a],l=m[m.length-i]]}),m.splice(m.length-i,0,a),g[a]=!0);for(i=0;i<d.length;i++)if(s=h[a=d[i]],c=f[a],!g[a]&&!t.deepEqual(s,c))if(t.deepEqual(s.source,c.source)&&t.deepEqual(s["source-layer"],c["source-layer"])&&t.deepEqual(s.type,c.type)){for(u in Yt(s.layout,c.layout,r,a,null,Ft.setLayoutProperty),Yt(s.paint,c.paint,r,a,null,Ft.setPaintProperty),t.deepEqual(s.filter,c.filter)||r.push({command:Ft.setFilter,args:[a,c.filter]}),t.deepEqual(s.minzoom,c.minzoom)&&t.deepEqual(s.maxzoom,c.maxzoom)||r.push({command:Ft.setLayerZoomRange,args:[a,c.minzoom,c.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Yt(s[u],c[u],r,a,u.slice(6),Ft.setPaintProperty):t.deepEqual(s[u],c[u])||r.push({command:Ft.setLayerProperty,args:[a,u,c[u]]}));for(u in c)c.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Yt(s[u],c[u],r,a,u.slice(6),Ft.setPaintProperty):t.deepEqual(s[u],c[u])||r.push({command:Ft.setLayerProperty,args:[a,u,c[u]]}))}else r.push({command:Ft.removeLayer,args:[a]}),l=m[m.lastIndexOf(a)+1],r.push({command:Ft.addLayer,args:[c,l]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Ft.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in Re)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in Ne)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new At(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===e.type){if(De(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone$1(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}})}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(t.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=t.clone$1(n),this._updateLayer(i)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.sourceCaches[r],a=parseInt(e.id,10);if(void 0!==o){var s=o.getSource().type;"geojson"===s&&i?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||i?isNaN(a)||a<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):o.setFeatureState(i,a,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0,s=parseInt(e.id,10);"vector"!==o||a?void 0!==e.id&&isNaN(s)||s<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be non-negative."))):n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):i.removeFeatureState(a,s,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.sourceCaches[n],o=parseInt(e.id,10);if(void 0!==i)if("vector"!==i.getSource().type||r){if(!(isNaN(o)||o<0))return i.getFeatureState(r,o);this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,c=t;s<c.length;s+=1){var l=c[s][a];if(l)for(var u=0,p=l;u<p.length;u+=1)i.push(p[u])}}}i.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var d=[],h=this._order.length-1;h>=0;h--){var f=this._order[h];if(n(f))for(var m=i.length-1;m>=0;m--){var g=i[m].feature;if(r[g.layer.id]<h)break;d.push(g),i.pop()}else for(var y=0,_=t;y<_.length;y+=1){var v=_[y][f];if(v)for(var b=0,M=v;b<M.length;b+=1)d.push(M[b].feature)}}return d},n.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],c=this._layers[s];if(!c)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[c.source]=!0}}var l=[];for(var u in this.sourceCaches)n.layers&&!i[u]||l.push(R(this.sourceCaches[u],this._layers,e,n,r));return this.placement&&l.push(function(t,e,n,r,i,o){for(var a={},s=i.queryRenderedSymbols(n),c=[],l=0,u=Object.keys(s).map(Number);l<u.length;l+=1)c.push(o[u[l]]);c.sort(z);for(var p=function(){var e=h[d],n=e.featureIndex.lookupSymbolFeatures(s[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,r.filter,r.layers,t);for(var i in n){var o=a[i]=a[i]||[],c=n[i];c.sort((function(t,n){var r=e.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(n.featureIndex)-i}return n.featureIndex-t.featureIndex}));for(var l=0,u=c;l<u.length;l+=1)o.push(u[l])}},d=0,h=c;d<h.length;d+=1)p();var f=function(n){a[n].forEach((function(r){var i=r.feature,o=e[t[n].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var m in a)f(m);return a}(this._layers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},n.prototype.addSourceType=function(t,e,r){return n.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!t.deepEqual(e[o],r[o])){i=!0;break}if(i){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&De(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,r,i){for(var o=!1,a=!1,s={},c=0,l=this._order;c<l.length;c+=1){var u=this._layers[l[c]];if("symbol"===u.type){if(!s[u.source]){var p=this.sourceCaches[u.source];s[u.source]=p.getRenderableIds(!0).map((function(t){return p.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var d=this.crossTileSymbolIndex.addLayer(u,s[u.source],e.center.lng);o=o||d}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var h=this._layerOrderChanged||0===r;if((h||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new Oe(e,this._order,h,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(var f=0,m=this._order;f<m.length;f+=1){var g=this._layers[m[f]];"symbol"===g.type&&this.placement.updateLayerOpacities(g,s[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,r){return t.makeRequest(n,r)},n}(t.Evented);ze.getSourceType=function(t){return D[t]},ze.setSourceType=function(t,e){D[t]=e},ze.registerForPluginAvailability=t.registerForPluginAvailability;var Fe=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),je=pn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Be=pn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),qe=pn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ve=pn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ye=pn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),He=pn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),We=pn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ue=pn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Xe=pn("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),Ge=pn("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Je=pn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),$e=pn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ke=pn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ze=pn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Qe=pn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),tn=pn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),en=pn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),nn=pn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),rn=pn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),on=pn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),an=pn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),sn=pn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),cn=pn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),ln=pn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),un=pn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function pn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r={};return{fragmentSource:t=t.replace(n,(function(t,e,n,i,o){return r[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+n+" "+i+" "+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,i,o){var a="float"===i?"vec2":"vec4",s=o.match(/color/)?"color":a;return r[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float u_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\nvarying "+n+" "+i+" "+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = a_"+o+";\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+s+"(a_"+o+", u_"+o+"_t);\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float u_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = a_"+o+";\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = unpack_mix_"+s+"(a_"+o+", u_"+o+"_t);\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n"}))}}var dn=Object.freeze({__proto__:null,prelude:je,background:Be,backgroundPattern:qe,circle:Ve,clippingMask:Ye,heatmap:He,heatmapTexture:We,collisionBox:Ue,collisionCircle:Xe,debug:Ge,fill:Je,fillOutline:$e,fillOutlinePattern:Ke,fillPattern:Ze,fillExtrusion:Qe,fillExtrusionPattern:tn,hillshadePrepare:en,hillshade:nn,line:rn,lineGradient:on,linePattern:an,lineSDF:sn,raster:cn,symbolIcon:ln,symbolSDF:un}),hn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};hn.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var c=this.boundPaintVertexBuffers.length!==r.length,l=0;!c&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(c=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!c&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(e,n,r,i,o,a,s)},hn.prototype.freshBind=function(t,e,n,r,i,o,a){var s,c=t.numAttributes,l=this.context,u=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var p=c;p<s;p++)u.disableVertexAttribArray(p)}e.enableAttributes(u,t);for(var d=0,h=n;d<h.length;d+=1)h[d].enableAttributes(u,t);o&&o.enableAttributes(u,t),a&&a.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,i);for(var f=0,m=n;f<m.length;f+=1){var g=m[f];g.bind(),g.setVertexAttribPointers(u,t,i)}o&&(o.bind(),o.setVertexAttribPointers(u,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,t,i)),l.currentNumAttributes=c},hn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var fn=function(t,e,n,r,i){var o=t.gl;this.program=o.createProgram();var a=n.defines();i&&a.push("#define OVERDRAW_INSPECTOR;");var s=a.concat(je.fragmentSource,e.fragmentSource).join("\n"),c=a.concat(je.vertexSource,e.vertexSource).join("\n"),l=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(l,s),o.compileShader(l),o.attachShader(this.program,l);var u=o.createShader(o.VERTEX_SHADER);o.shaderSource(u,c),o.compileShader(u),o.attachShader(this.program,u);for(var p=n.layoutAttributes||[],d=0;d<p.length;d++)o.bindAttribLocation(this.program,d,p[d].name);o.linkProgram(this.program),this.numAttributes=o.getProgramParameter(this.program,o.ACTIVE_ATTRIBUTES),this.attributes={};for(var h={},f=0;f<this.numAttributes;f++){var m=o.getActiveAttrib(this.program,f);m&&(this.attributes[m.name]=o.getAttribLocation(this.program,m.name))}for(var g=o.getProgramParameter(this.program,o.ACTIVE_UNIFORMS),y=0;y<g;y++){var _=o.getActiveUniform(this.program,y);_&&(h[_.name]=o.getUniformLocation(this.program,_.name))}this.fixedUniforms=r(t,h),this.binderUniforms=n.getUniforms(t,h)};function mn(e,n,r){var i=1/ce(r,1,n.transform.tileZoom),o=Math.pow(2,r.tileID.overscaledZ),a=r.tileSize*Math.pow(2,n.transform.tileZoom)/o,s=a*(r.tileID.canonical.x+r.tileID.wrap*o),c=a*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,i,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,c>>16],u_pixel_coord_lower:[65535&s,65535&c]}}fn.prototype.draw=function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m){var g,y=t.gl;for(var _ in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[_].set(a[_]);h&&h.setUniforms(t,this.binderUniforms,p,{zoom:d});for(var v=(g={},g[y.LINES]=2,g[y.TRIANGLES]=3,g[y.LINE_STRIP]=1,g)[e],b=0,M=u.get();b<M.length;b+=1){var x=M[b],w=x.vaos||(x.vaos={});(w[s]||(w[s]=new hn)).bind(t,this,c,h?h.getPaintVertexBuffers():[],l,x.vertexOffset,f,m),y.drawElements(e,x.primitiveLength*v,y.UNSIGNED_SHORT,x.primitiveOffset*v*2)}};var gn=function(e,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],c=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(c,-n.transform.angle),t.transformMat3(s,s,c);var l=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+r,u_opacity:i}},yn=function(e,n,r,i,o,a,s){return t.extend(gn(e,n,r,i),mn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},_n=function(t){return{u_matrix:t}},vn=function(e,n,r,i){return t.extend(_n(e),mn(r,n,i))},bn=function(t,e){return{u_matrix:t,u_world:e}},Mn=function(e,n,r,i,o){return t.extend(vn(e,n,r,i),{u_world:o})},xn=function(e,n,r,i){var o,a,s=e.transform;if("map"===i.paint.get("circle-pitch-alignment")){var c=ce(r,1,s.zoom);o=!0,a=[c,c]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},wn=function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},Cn=function(t,e,n){var r=ce(n,1,e.zoom),i=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*i),e.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},Sn=function(t,e){return{u_matrix:t,u_color:e}},En=function(t){return{u_matrix:t}},Tn=function(t,e,n,r){return{u_matrix:t,u_extrude_scale:ce(e,1,n),u_intensity:r}};function On(e,n){var r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new t.MercatorCoordinate(0,i/r).toLngLat().lat,new t.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}var An=function(e,n,r){var i=e.transform;return{u_matrix:Dn(e,n,r),u_ratio:1/ce(n,1,i.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Pn=function(e,n,r){return t.extend(An(e,n,r),{u_image:0})},Ln=function(e,n,r,i){var o=e.transform,a=In(n,o);return{u_matrix:Dn(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/ce(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[t.browser.devicePixelRatio,a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},kn=function(e,n,r,i,o){var a=e.lineAtlas,s=In(n,e.transform),c="round"===r.layout.get("line-cap"),l=a.getDash(i.from,c),u=a.getDash(i.to,c),p=l.width*o.fromScale,d=u.width*o.toScale;return t.extend(An(e,n,r),{u_patternscale_a:[s/p,-l.height/2],u_patternscale_b:[s/d,-u.height/2],u_sdfgamma:a.width/(256*Math.min(p,d)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:u.y,u_mix:o.t})};function In(t,e){return 1/ce(t,1,e.tileZoom)}function Dn(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Nn=function(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Rn(i.paint.get("raster-hue-rotate"))};var o,a};function Rn(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var zn=function(t,e,n,r,i,o,a,s,c,l){var u=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:u.width/u.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+c,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},Fn=function(e,n,r,i,o,a,s,c,l,u,p){var d=o.transform;return t.extend(zn(e,n,r,i,o,a,s,c,l,u),{u_gamma_scale:i?Math.cos(d._pitch)*d.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+p})},jn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Bn=function(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,c=a.height,l=Math.pow(2,r.tileID.overscaledZ),u=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,p=u*(r.tileID.canonical.x+r.tileID.wrap*l),d=u*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,c],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/ce(r,1,n.transform.tileZoom),u_pixel_coord_upper:[p>>16,d>>16],u_pixel_coord_lower:[65535&p,65535&d]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},qn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:wn,collisionCircle:wn,debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_maxzoom:new t.Uniform1f(e,n.u_maxzoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1f(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Vn(e,n){for(var r=e.sort((function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0})),i=0;i<r.length;i++){var o={},a=r[i],s=r.slice(i+1);Yn(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),o),a.setMask(o,n)}}function Yn(e,n,r,i,o){for(var a=0;a<r.length;a++){var s=r[a];if(i.isLessThan(s.tileID))break;if(n.key===s.tileID.key)return;if(s.tileID.isChildOf(n)){for(var c=n.children(1/0),l=0;l<c.length;l++)Yn(e,c[l],r.slice(a),i,o);return}}var u=n.overscaledZ-e.overscaledZ,p=new t.CanonicalTileID(u,n.canonical.x-(e.canonical.x<<u),n.canonical.y-(e.canonical.y<<u));o[p.key]=o[p.key]||p}function Hn(t,e,n,r,i,o,a,s){for(var c=t.context,l=c.gl,u=t.useProgram(i?"collisionCircle":"collisionBox"),p=0;p<r.length;p++){var d=r[p],h=e.getTile(d),f=h.getBucket(n);if(f){var m=i?s?f.textCollisionCircle:f.iconCollisionCircle:s?f.textCollisionBox:f.iconCollisionBox;if(m){var g=d.posMatrix;0===o[0]&&0===o[1]||(g=t.translatePosMatrix(d.posMatrix,h,o,a)),u.draw(c,i?l.TRIANGLES:l.LINES,Ct.disabled,St.disabled,t.colorModeForRenderPass(),Tt.disabled,Cn(g,t.transform,h),n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,t.transform.zoom,null,null,m.collisionVertexBuffer)}}}}function Wn(t,e,n,r,i,o,a){Hn(t,e,n,r,!1,i,o,a),Hn(t,e,n,r,!0,i,o,a)}var Un=t.identity(new Float32Array(16));function Xn(e,n,r,i,o,a){var s=t.getAnchorAlignment(e),c=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*r,u=t.evaluateVariableOffset(e,i);return new t.Point((c/o+u[0])*a,(l/o+u[1])*a)}function Gn(e,n,r,i,o,a,s,c,l,u,p){var d=e.text.placedSymbolArray,h=e.text.dynamicLayoutVertexArray,f=e.icon.dynamicLayoutVertexArray,m={};h.clear();for(var g=0;g<d.length;g++){var y=d.get(g),_=y.hidden||!y.crossTileID||e.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(_){var v=new t.Point(y.anchorX,y.anchorY),b=Jt(v,r?c:s),M=.5+a.cameraToCenterDistance/b.signedDistanceFromCamera*.5,x=o.evaluateSizeForFeature(e.textSizeData,u,y)*M/t.ONE_EM;r&&(x*=e.tilePixelRatio/l);for(var w=Xn(_.anchor,_.width,_.height,_.textOffset,_.textBoxScale,x),C=r?Jt(v.add(w),s).point:b.point.add(n?w.rotate(-a.angle):w),S=e.allowVerticalPlacement&&y.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,E=0;E<y.numGlyphs;E++)t.addDynamicAttributes(h,C,S);p&&y.associatedIconIndex>=0&&(m[y.associatedIconIndex]={shiftedAnchor:C,angle:S})}else ie(y.numGlyphs,h)}if(p){f.clear();for(var T=e.icon.placedSymbolArray,O=0;O<T.length;O++){var A=T.get(O);if(A.hidden)ie(A.numGlyphs,f);else{var P=m[O];if(P)for(var L=0;L<A.numGlyphs;L++)t.addDynamicAttributes(f,P.shiftedAnchor,P.angle);else ie(A.numGlyphs,f)}}e.icon.dynamicLayoutVertexBuffer.updateData(f)}e.text.dynamicLayoutVertexBuffer.updateData(h)}function Jn(e,n,r,i,o,a,s,c,l,u,p,d){for(var h,f,m=e.context,g=m.gl,y=e.transform,_="map"===c,v="map"===l,b=_&&"point"!==r.layout.get("symbol-placement"),M=_&&!v&&!b,x=void 0!==r.layout.get("symbol-sort-key").constantOr(1),w=e.depthModeForSublayer(0,Ct.ReadOnly),C=r.layout.get("text-variable-anchor"),S=[],E=0,T=i;E<T.length;E+=1){var O=T[E],A=n.getTile(O),P=A.getBucket(r);if(P){var L=o?P.text:P.icon;if(L&&L.segments.get().length){var k=L.programConfigurations.get(r.id),I=o||P.sdfIcons,D=o?P.textSizeData:P.iconSizeData;h||(h=e.useProgram(I?"symbolSDF":"symbolIcon",k),f=t.evaluateSizeForZoom(D,y.zoom)),m.activeTexture.set(g.TEXTURE0);var N=void 0,R=void 0,z=void 0;if(o)R=A.glyphAtlasTexture,z=g.LINEAR,N=A.glyphAtlasTexture.size;else{var F=1!==r.layout.get("icon-size").constantOr(0)||P.iconsNeedLinear;R=A.imageAtlasTexture,z=I||e.options.rotating||e.options.zooming||F||v||0!==y.pitch?g.LINEAR:g.NEAREST,N=A.imageAtlasTexture.size}var j=ce(A,1,e.transform.zoom),B=Xt(O.posMatrix,v,_,e.transform,j),q=Gt(O.posMatrix,v,_,e.transform,j),V=C&&P.hasTextData(),Y="none"!==r.layout.get("icon-text-fit")&&V&&P.hasIconData();b&&Kt(P,O.posMatrix,e,o,B,q,v,u);var H=e.translatePosMatrix(O.posMatrix,A,a,s),W=b||o&&C||Y?Un:B,U=e.translatePosMatrix(q,A,a,s,!0),X=I&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),G={program:h,buffers:L,uniformValues:I?Fn(D.kind,f,M,v,e,H,W,U,o,N,!0):zn(D.kind,f,M,v,e,H,W,U,o,N),atlasTexture:R,atlasInterpolation:z,isSDF:I,hasHalo:X};if(x)for(var J=0,$=L.segments.get();J<$.length;J+=1){var K=$[J];S.push({segments:new t.SegmentVector([K]),sortKey:K.sortKey,state:G})}else S.push({segments:L.segments,sortKey:0,state:G})}}}x&&S.sort((function(t,e){return t.sortKey-e.sortKey}));for(var Z=0,Q=S;Z<Q.length;Z+=1){var tt=Q[Z],et=tt.state;if(et.atlasTexture.bind(et.atlasInterpolation,g.CLAMP_TO_EDGE),et.isSDF){var nt=et.uniformValues;et.hasHalo&&(nt.u_is_halo=1,$n(et.buffers,tt.segments,r,e,et.program,w,p,d,nt)),nt.u_is_halo=0}$n(et.buffers,tt.segments,r,e,et.program,w,p,d,et.uniformValues)}}function $n(t,e,n,r,i,o,a,s,c){var l=r.context;i.draw(l,l.gl.TRIANGLES,o,a,s,Tt.disabled,c,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function Kn(t,e,n,r,i,o,a){var s,c,l,u,p,d=t.context.gl,h=n.paint.get("fill-pattern"),f=h&&h.constantOr(1),m=n.getCrossfadeParameters();a?(c=f&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=d.LINES):(c=f?"fillPattern":"fill",s=d.TRIANGLES);for(var g=0,y=r;g<y.length;g+=1){var _=y[g],v=e.getTile(_);if(!f||v.patternsLoaded()){var b=v.getBucket(n);if(b){var M=b.programConfigurations.get(n.id),x=t.useProgram(c,M);f&&(t.context.activeTexture.set(d.TEXTURE0),v.imageAtlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE),M.updatePatternPaintBuffers(m));var w=h.constantOr(null);if(w&&v.imageAtlas){var C=v.imageAtlas,S=C.patternPositions[w.to.toString()],E=C.patternPositions[w.from.toString()];S&&E&&M.setConstantPatternPositions(S,E)}var T=t.translatePosMatrix(_.posMatrix,v,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){u=b.indexBuffer2,p=b.segments2;var O=[d.drawingBufferWidth,d.drawingBufferHeight];l="fillOutlinePattern"===c&&f?Mn(T,t,m,v,O):bn(T,O)}else u=b.indexBuffer,p=b.segments,l=f?vn(T,t,m,v):_n(T);x.draw(t.context,s,i,t.stencilModeForClipping(_),o,Tt.disabled,l,n.id,b.layoutVertexBuffer,u,p,n.paint,t.transform.zoom,M)}}}}function Zn(t,e,n,r,i,o,a){for(var s=t.context,c=s.gl,l=n.paint.get("fill-extrusion-pattern"),u=l.constantOr(1),p=n.getCrossfadeParameters(),d=n.paint.get("fill-extrusion-opacity"),h=0,f=r;h<f.length;h+=1){var m=f[h],g=e.getTile(m),y=g.getBucket(n);if(y){var _=y.programConfigurations.get(n.id),v=t.useProgram(u?"fillExtrusionPattern":"fillExtrusion",_);u&&(t.context.activeTexture.set(c.TEXTURE0),g.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),_.updatePatternPaintBuffers(p));var b=l.constantOr(null);if(b&&g.imageAtlas){var M=g.imageAtlas,x=M.patternPositions[b.to.toString()],w=M.patternPositions[b.from.toString()];x&&w&&_.setConstantPatternPositions(x,w)}var C=t.translatePosMatrix(m.posMatrix,g,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),S=n.paint.get("fill-extrusion-vertical-gradient"),E=u?yn(C,t,S,d,m,p,g):gn(C,t,S,d);v.draw(s,s.gl.TRIANGLES,i,o,a,Tt.backCCW,E,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,n.paint,t.transform.zoom,_)}}}function Qn(t,e,n,r,i,o){var a=t.context,s=a.gl,c=e.fbo;if(c){var l=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,c.colorAttachment.get());var u=function(t,e,n){var r=n.paint.get("hillshade-shadow-color"),i=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),a=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(a-=t.transform.angle);var s=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),s),u_image:0,u_latrange:On(0,e.tileID),u_light:[n.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:i,u_accent:o}}(t,e,n);e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments?l.draw(a,s.TRIANGLES,r,i,o,Tt.disabled,u,n.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments):l.draw(a,s.TRIANGLES,r,i,o,Tt.disabled,u,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function tr(e,n,r,i,o,a,s){var c=e.context,l=c.gl,u=n.dem;if(u&&u.data){var p=u.dim,d=u.stride,h=u.getPixels();if(c.activeTexture.set(l.TEXTURE1),c.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(d),n.demTexture){var f=n.demTexture;f.update(h,{premultiply:!1}),f.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(c,h,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);c.activeTexture.set(l.TEXTURE0);var m=n.fbo;if(!m){var g=new t.Texture(c,{width:p,height:p,data:null},l.RGBA);g.bind(l.LINEAR,l.CLAMP_TO_EDGE),(m=n.fbo=c.createFramebuffer(p,p)).colorAttachment.set(g.texture)}c.bindFramebuffer.set(m.framebuffer),c.viewport.set([0,0,p,p]),e.useProgram("hillshadePrepare").draw(c,l.TRIANGLES,o,a,s,Tt.disabled,function(e,n,r){var i=n.stride,o=t.create();return t.ortho(o,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(o,o,[0,-t.EXTENT,0]),{u_matrix:o,u_image:1,u_dimension:[i,i],u_zoom:e.overscaledZ,u_maxzoom:r,u_unpack:n.getUnpackVector()}}(n.tileID,u,i),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function er(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),c=(s-e.timeAdded)/a,l=n?(s-n.timeAdded)/a:-1,u=r.getSource(),p=o.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),h=d&&e.refreshedUponExpiration?1:t.clamp(d?c:1-l,0,1);return e.refreshedUponExpiration&&c>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}function nr(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,s=e.useProgram("debug"),c=Ct.disabled,l=St.disabled,u=e.colorModeForRenderPass(),p="$debug";s.draw(i,o.LINE_STRIP,c,l,u,Tt.disabled,Sn(a,t.Color.red),p,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);for(var d=n.getTileByID(r.key).latestRawTileData,h=Math.floor((d&&d.byteLength||0)/1024),f=n.getTile(r).tileSize,m=512/Math.min(f,512),g=function(t,e,n,r){r=r||1;var i,o,a,s,c,l,u,p,d=[];for(i=0,o=t.length;i<o;i++)if(c=rr[t[i]]){for(p=null,a=0,s=c[1].length;a<s;a+=2)-1===c[1][a]&&-1===c[1][a+1]?p=null:(l=e+c[1][a]*r,u=n-c[1][a+1]*r,p&&d.push(p.x,p.y,l,u),p={x:l,y:u});e+=c[0]*r}return d}(r.toString()+" "+h+"kb",50,200*m,5*m),y=new t.StructArrayLayout2i4,_=new t.StructArrayLayout2ui4,v=0;v<g.length;v+=2)y.emplaceBack(g[v],g[v+1]),_.emplaceBack(v,v+1);for(var b=i.createVertexBuffer(y,Fe.members),M=i.createIndexBuffer(_),x=t.SegmentVector.simpleSegment(0,0,y.length/2,y.length/2),w=t.EXTENT/(Math.pow(2,e.transform.zoom-r.overscaledZ)*f*m),C=[],S=-1;S<=1;S++)for(var E=-1;E<=1&&(0!==S||0!==E);E++)C.push([S,E]);for(var T=0;T<C.length;T++){var O=C[T];s.draw(i,o.LINES,c,l,u,Tt.disabled,Sn(t.translate([],a,[w*O[0],w*O[1],0]),t.Color.white),p,b,M,x)}s.draw(i,o.LINES,c,l,u,Tt.disabled,Sn(a,t.Color.black),p,b,M,x),b.destroy(),M.destroy(),x.destroy()}var rr={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},ir={symbol:function(e,n,r,i,o){if("translucent"===e.renderPass){var a=St.disabled,s=e.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(e,n,r,i,o,a,s){for(var c=n.transform,l="map"===o,u="map"===a,p=0,d=e;p<d.length;p+=1){var h=d[p],f=i.getTile(h),m=f.getBucket(r);if(m&&m.text&&m.text.segments.get().length){var g=t.evaluateSizeForZoom(m.textSizeData,c.zoom),y=ce(f,1,n.transform.zoom),_=Xt(h.posMatrix,u,l,n.transform,y),v="none"!==r.layout.get("icon-text-fit")&&m.hasIconData();if(g){var b=Math.pow(2,c.zoom-f.tileID.overscaledZ);Gn(m,l,u,s,t.symbolSize,c,_,h.posMatrix,b,g,v)}}}}(i,e,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&Jn(e,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&Jn(e,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Wn(e,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Wn(e,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),c=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var l=e.context,u=l.gl,p=e.depthModeForSublayer(0,Ct.ReadOnly),d=St.disabled,h=e.colorModeForRenderPass(),f=[],m=0;m<i.length;m++){var g=i[m],y=n.getTile(g),_=y.getBucket(r);if(_){var v=_.programConfigurations.get(r.id),b={programConfiguration:v,program:e.useProgram("circle",v),layoutVertexBuffer:_.layoutVertexBuffer,indexBuffer:_.indexBuffer,uniformValues:xn(e,g,y,r)};if(c)for(var M=0,x=_.segments.get();M<x.length;M+=1){var w=x[M];f.push({segments:new t.SegmentVector([w]),sortKey:w.sortKey,state:b})}else f.push({segments:_.segments,sortKey:0,state:b})}}c&&f.sort((function(t,e){return t.sortKey-e.sortKey}));for(var C=0,S=f;C<S.length;C+=1){var E=S[C],T=E.state;T.program.draw(l,u.TRIANGLES,p,d,h,Tt.disabled,T.uniformValues,r.id,T.layoutVertexBuffer,T.indexBuffer,E.segments,r.paint,e.transform.zoom,T.programConfiguration)}}}},heatmap:function(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=e.depthModeForSublayer(0,Ct.ReadOnly),c=St.disabled,l=new Et([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,n,r,i){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n.width/4,n.height/4,0,o.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),i.colorAttachment.set(r),e.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,i.colorAttachment.setDirty(),t(e,n,r,i))}(t,e,o,i)}}(o,e,r),o.clear({color:t.Color.transparent});for(var u=0;u<i.length;u++){var p=i[u];if(!n.hasRenderableParent(p)){var d=n.getTile(p),h=d.getBucket(r);if(h){var f=h.programConfigurations.get(r.id);e.useProgram("heatmap",f).draw(o,a.TRIANGLES,s,c,l,Tt.disabled,Tn(p.posMatrix,d,e.transform.zoom,r.paint.get("heatmap-intensity")),r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,r.paint,e.transform.zoom,f)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Ct.disabled,St.disabled,e.colorModeForRenderPass(),Tt.disabled,function(e,n,r,i){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1)){var s=e.depthModeForSublayer(0,Ct.ReadOnly),c=e.colorModeForRenderPass(),l=r.paint.get("line-dasharray"),u=r.paint.get("line-pattern"),p=u.constantOr(1),d=r.paint.get("line-gradient"),h=r.getCrossfadeParameters(),f=l?"lineSDF":p?"linePattern":d?"lineGradient":"line",m=e.context,g=m.gl,y=!0;if(d){m.activeTexture.set(g.TEXTURE0);var _=r.gradientTexture;if(!r.gradient)return;_||(_=r.gradientTexture=new t.Texture(m,r.gradient,g.RGBA)),_.bind(g.LINEAR,g.CLAMP_TO_EDGE)}for(var v=0,b=i;v<b.length;v+=1){var M=b[v],x=n.getTile(M);if(!p||x.patternsLoaded()){var w=x.getBucket(r);if(w){var C=w.programConfigurations.get(r.id),S=e.context.program.get(),E=e.useProgram(f,C),T=y||E.program!==S,O=u.constantOr(null);if(O&&x.imageAtlas){var A=x.imageAtlas,P=A.patternPositions[O.to.toString()],L=A.patternPositions[O.from.toString()];P&&L&&C.setConstantPatternPositions(P,L)}var k=l?kn(e,x,r,l,h):p?Ln(e,x,r,h):d?Pn(e,x,r):An(e,x,r);l&&(T||e.lineAtlas.dirty)?(m.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(m)):p&&(m.activeTexture.set(g.TEXTURE0),x.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),C.updatePatternPaintBuffers(h)),E.draw(m,g.TRIANGLES,s,e.stencilModeForClipping(M),c,Tt.disabled,k,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,e.transform.zoom,C),y=!1}}}}}},fill:function(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),c=r.paint.get("fill-pattern"),l=e.opaquePassEnabledForLayer()&&!c.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===l){var u=e.depthModeForSublayer(1,"opaque"===e.renderPass?Ct.ReadWrite:Ct.ReadOnly);Kn(e,n,r,i,u,s,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var p=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Ct.ReadOnly);Kn(e,n,r,i,p,s,!0)}}},"fill-extrusion":function(t,e,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){var o=new Ct(t.context.gl.LEQUAL,Ct.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))Zn(t,e,n,r,o,St.disabled,Et.disabled),Zn(t,e,n,r,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();Zn(t,e,n,r,o,St.disabled,a)}}},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=e.getSource().maxzoom,a=t.depthModeForSublayer(0,Ct.ReadOnly),s=St.disabled,c=t.colorModeForRenderPass(),l=0,u=r;l<u.length;l+=1){var p=e.getTile(u[l]);p.needsHillshadePrepare&&"offscreen"===t.renderPass?tr(t,p,n,o,a,s,c):"translucent"===t.renderPass&&Qn(t,p,n,a,s,c)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity"))for(var i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),c=St.disabled,l=t.colorModeForRenderPass(),u=r.length&&r[0].overscaledZ,p=!t.options.moving,d=0,h=r;d<h.length;d+=1){var f=h[d],m=t.depthModeForSublayer(f.overscaledZ-u,1===n.paint.get("raster-opacity")?Ct.ReadWrite:Ct.ReadOnly,o.LESS),g=e.getTile(f),y=t.transform.calculatePosMatrix(f.toUnwrapped(),p);g.registerFadeDuration(n.paint.get("raster-fade-duration"));var _=e.findLoadedParent(f,0),v=er(g,_,e,n,t.transform),b=void 0,M=void 0,x="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),g.texture.bind(x,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),_?(_.texture.bind(x,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),b=Math.pow(2,_.tileID.overscaledZ-g.tileID.overscaledZ),M=[g.tileID.canonical.x*b%1,g.tileID.canonical.y*b%1]):g.texture.bind(x,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var w=Nn(y,M||[0,0],b||1,v,n);a instanceof L?s.draw(i,o.TRIANGLES,m,c,l,Tt.disabled,w,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):g.maskedBoundsBuffer&&g.maskedIndexBuffer&&g.segments?s.draw(i,o.TRIANGLES,m,c,l,Tt.disabled,w,n.id,g.maskedBoundsBuffer,g.maskedIndexBuffer,g.segments,n.paint,t.transform.zoom):s.draw(i,o.TRIANGLES,m,c,l,Tt.disabled,w,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,c=s.tileSize,l=n.paint.get("background-pattern");if(!t.isPatternMissing(l)){var u=!l&&1===r.a&&1===i&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===u){var p=St.disabled,d=t.depthModeForSublayer(0,"opaque"===u?Ct.ReadWrite:Ct.ReadOnly),h=t.colorModeForRenderPass(),f=t.useProgram(l?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:c});l&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var g=n.getCrossfadeParameters(),y=0,_=m;y<_.length;y+=1){var v=_[y],b=t.transform.calculatePosMatrix(v.toUnwrapped()),M=l?Bn(b,i,t,l,{tileID:v,tileSize:c},g):jn(b,i,r);f.draw(o,a.TRIANGLES,d,p,h,Tt.disabled,M,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)nr(t,e,n[r])},custom:function(t,e,n){var r=t.context,i=n.implementation;if("offscreen"===t.renderPass){var o=i.prerender;o&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),o.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(St.disabled);var a="3d"===i.renderingMode?new Ct(t.context.gl.LEQUAL,Ct.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Ct.ReadOnly);r.setDepthMode(a),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},or=function(e,n){this.context=new Ot(e),this.transform=n,this._tileTextures={},this.setup(),this.numSublayers=At.maxUnderzooming+At.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.ProgramConfiguration,this.crossTileSymbolIndex=new Ie};function ar(t,e){if(t.y>e.y){var n=t;t=e,e=n}return{x0:t.x,y0:t.y,x1:e.x,y1:e.y,dx:e.x-t.x,dy:e.y-t.y}}function sr(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var c=t.dx/t.dy,l=e.dx/e.dy,u=t.dx>0,p=e.dx<0,d=o;d<a;d++){var h=c*Math.max(0,Math.min(t.dy,d+u-t.y0))+t.x0,f=l*Math.max(0,Math.min(e.dy,d+p-e.y0))+e.x0;i(Math.floor(f),Math.ceil(h),d)}}function cr(t,e,n,r,i,o){var a,s=ar(t,e),c=ar(e,n),l=ar(n,t);s.dy>c.dy&&(a=s,s=c,c=a),s.dy>l.dy&&(a=s,s=l,l=a),c.dy>l.dy&&(a=c,c=l,l=a),s.dy&&sr(l,s,r,i,o),c.dy&&sr(l,c,r,i,o)}or.prototype.resize=function(e,n){var r=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var i=0,o=this.style._order;i<o.length;i+=1)this.style._layers[o[i]].resize();this.depthRbo&&(r.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},or.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,Fe.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,Fe.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,t.rasterBoundsAttributes.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,Fe.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var c=this.context.gl;this.stencilClearMode=new St({func:c.ALWAYS,mask:0},0,255,c.ZERO,c.ZERO,c.ZERO)},or.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,Ct.disabled,this.stencilClearMode,Et.disabled,Tt.disabled,En(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},or.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,r=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(Et.disabled),n.setDepthMode(Ct.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],c=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Ct.disabled,new St({func:r.ALWAYS,mask:0},c,255,r.KEEP,r.KEEP,r.REPLACE),Et.disabled,Tt.disabled,En(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},or.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new St({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},or.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new St({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},or.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new Et([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Et.unblended:Et.alphaBlended},or.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return Ct.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Ct(n||this.context.gl.LEQUAL,e,[r,r])},or.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},or.prototype.render=function(e,n){this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var r=this.style._order,i=this.style.sourceCaches;for(var o in i){var a=i[o];a.used&&a.prepare(this.context)}var s={},c={},l={};for(var u in i){var p=i[u];s[u]=p.getVisibleCoordinates(),c[u]=s[u].slice().reverse(),l[u]=p.getVisibleCoordinates(!0).reverse()}for(var d in i){var h=i[d],f=h.getSource();if("raster"===f.type||"raster-dem"===f.type){for(var m=[],g=0,y=s[d];g<y.length;g+=1)m.push(h.getTile(y[g]));Vn(m,this.context)}}this.opaquePassCutoff=1/0;for(var _=0;_<r.length;_++)if(this.style._layers[r[_]].is3D()){this.opaquePassCutoff=_;break}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var v=0,b=r;v<b.length;v+=1){var M=this.style._layers[b[v]];if(M.hasOffscreenPass()&&!M.isHidden(this.transform.zoom)){var x=c[M.source];("custom"===M.type||x.length)&&this.renderLayer(this,i[M.source],M,x)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var w=this.style._layers[r[this.currentLayer]],C=i[w.source],S=s[w.source];this._renderTileClippingMasks(w,S),this.renderLayer(this,C,w,S)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var E=this.style._layers[r[this.currentLayer]],T=i[E.source],O=("symbol"===E.type?l:c)[E.source];this._renderTileClippingMasks(E,s[E.source]),this.renderLayer(this,T,E,O)}if(this.options.showTileBoundaries)for(var A in i){ir.debug(this,i[A],s[A]);break}this.context.setDefault()},or.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},or.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,ir[n.type](t,e,n,r,this.style.placement.variableOffsets))},or.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),c=Math.cos(a);r=[r[0]*c-r[1]*s,r[0]*s+r[1]*c]}var l=[o?r[0]:ce(n,r[0],this.transform.zoom),o?r[1]:ce(n,r[1],this.transform.zoom),0],u=new Float32Array(16);return t.translate(u,e,l),u},or.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},or.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},or.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},or.prototype.useProgram=function(t,e){void 0===e&&(e=this.emptyProgramConfiguration),this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new fn(this.context,dn[t],e,qn[t],this._showOverdrawInspector)),this.cache[n]},or.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},or.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)};var lr=function(e,n,r){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===r||r,this._minZoom=e||0,this._maxZoom=n||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},ur={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};lr.prototype.clone=function(){var t=new lr(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},ur.minZoom.get=function(){return this._minZoom},ur.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},ur.maxZoom.get=function(){return this._maxZoom},ur.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},ur.renderWorldCopies.get=function(){return this._renderWorldCopies},ur.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},ur.worldSize.get=function(){return this.tileSize*this.scale},ur.centerPoint.get=function(){return this.size._div(2)},ur.size.get=function(){return new t.Point(this.width,this.height)},ur.bearing.get=function(){return-this.angle/Math.PI*180},ur.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ur.pitch.get=function(){return this._pitch/Math.PI*180},ur.pitch.set=function(e){var n=t.clamp(e,0,60)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},ur.fov.get=function(){return this._fov/Math.PI*180},ur.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},ur.zoom.get=function(){return this._zoom},ur.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},ur.center.get=function(){return this._center},ur.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},lr.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},lr.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),c=Math.floor(Math.max(r.x,i.x,o.x,a.x)),l=s-1;l<=c+1;l++)0!==l&&n.push(new t.UnwrappedTileID(l,e));return n},lr.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=new t.Point(o*i.x-.5,o*i.y-.5);return function(e,n,r,i){void 0===i&&(i=!0);var o=1<<e,a={};function s(n,s,c){var l,u,p;if(c>=0&&c<=o)for(l=n;l<s;l++)0!==(u=Math.floor(l/o))&&!0!==i||(p=new t.OverscaledTileID(r,u,e,(l%o+o)%o,c),a[p.key]=p)}var c=n.map((function(e){return new t.Point(e.x,e.y)._mult(o)}));return cr(c[0],c[1],c[2],0,o,s),cr(c[2],c[3],c[0],0,o,s),Object.keys(a).map((function(t){return a[t]}))}(n,[this.pointCoordinate(new t.Point(0,0)),this.pointCoordinate(new t.Point(this.width,0)),this.pointCoordinate(new t.Point(this.width,this.height)),this.pointCoordinate(new t.Point(0,this.height))],e.reparseOverscaled?r:n,this._renderWorldCopies).sort((function(t,e){return a.dist(t.canonical)-a.dist(e.canonical)}))},lr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},ur.unmodified.get=function(){return this._unmodified},lr.prototype.zoomScale=function(t){return Math.pow(2,t)},lr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},lr.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},lr.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},ur.point.get=function(){return this.project(this.center)},lr.prototype.setLocationAtPoint=function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},lr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},lr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},lr.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},lr.prototype.coordinateLocation=function(t){return t.toLngLat()},lr.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,c=n[2]/i,l=r[2]/o,u=c===l?0:(0-c)/(l-c);return new t.MercatorCoordinate(t.number(n[0]/i,r[0]/o,u)/this.worldSize,t.number(a,s,u)/this.worldSize)},lr.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},lr.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},lr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},lr.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},lr.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,c=t.identity(new Float64Array(16));return t.translate(c,c,[s*a,o.y*a,0]),t.scale(c,c,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(c,n?this.alignedProjMatrix:this.projMatrix,c),i[r]=new Float32Array(c),i[r]},lr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},lr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,c=180,l=this.size,u=this._unmodified;if(this.latRange){var p=this.latRange;o=t.mercatorYfromLat(p[1])*this.worldSize,e=(a=t.mercatorYfromLat(p[0])*this.worldSize)-o<l.y?l.y/(a-o):0}if(this.lngRange){var d=this.lngRange;s=t.mercatorXfromLng(d[0])*this.worldSize,n=(c=t.mercatorXfromLng(d[1])*this.worldSize)-s<l.x?l.x/(c-s):0}var h=this.point,f=Math.max(n||0,e||0);if(f)return this.center=this.unproject(new t.Point(n?(c+s)/2:h.x,e?(a+o)/2:h.y)),this.zoom+=this.scaleZoom(f),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var m=h.y,g=l.y/2;m-g<o&&(i=o+g),m+g>a&&(i=a-g)}if(this.lngRange){var y=h.x,_=l.x/2;y-_<s&&(r=s+_),y+_>c&&(r=c-_)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:h.x,void 0!==i?i:h.y))),this._unmodified=u,this._constraining=!1}},lr.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,n=Math.PI/2+this._pitch,r=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-n-e),i=this.point,o=i.x,a=i.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),c=this.height/50,l=new Float64Array(16);t.perspective(l,this._fov,this.width/this.height,c,s),t.scale(l,l,[1,-1,1]),t.translate(l,l,[0,0,-this.cameraToCenterDistance]),t.rotateX(l,l,this._pitch),t.rotateZ(l,l,this.angle),t.translate(l,l,[-o,-a,0]),this.mercatorMatrix=t.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),t.scale(l,l,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l;var u=this.width%2/2,p=this.height%2/2,d=Math.cos(this.angle),h=Math.sin(this.angle),f=o-Math.round(o)+d*u+h*p,m=a-Math.round(a)+d*p+h*u,g=new Float64Array(l);if(t.translate(g,g,[f>.5?f-1:f,m>.5?m-1:m,0]),this.alignedProjMatrix=g,l=t.create(),t.scale(l,l,[this.width/2,-this.height/2,1]),t.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=t.create(),t.scale(l,l,[1,-1,1]),t.translate(l,l,[-1,-1,0]),t.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},lr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},lr.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},lr.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,c=e;s<c.length;s+=1){var l=c[s];r=Math.min(r,l.x),i=Math.min(i,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y)}return[new t.Point(r,i),new t.Point(o,i),new t.Point(o,a),new t.Point(r,a),new t.Point(r,i)]},Object.defineProperties(lr.prototype,ur);var pr=function(e){var n,r,i,o;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};pr.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},pr.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},pr.prototype.getHashString=function(e){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,c=this._map.getBearing(),l=this._map.getPitch(),u="";if(u+=e?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(c||l)&&(u+="/"+Math.round(10*c)/10),l&&(u+="/"+Math.round(l)),this._hashName){var p=this._hashName,d=!1,h=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===p?(d=!0,e+"="+u):t})).filter((function(t){return t}));return d||h.push(p+"="+u),"#"+h.join("&")}return"#"+u},pr.prototype._getCurrentHash=function(){var e=this,n=t.window.location.hash.replace("#","");if(this._hashName){var r=n.split("&").map((function(t){return t.split("=")})).find((function(t){return t[0]===e._hashName}));return(r&&r[1]||"").split("/")}return n.split("/")},pr.prototype._onHashChange=function(){var t=this._getCurrentHash();return t.length>=3&&!t.some((function(t){return isNaN(t)}))&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},pr.prototype._updateHashUnthrottled=function(){var e=this.getHashString();try{t.window.history.replaceState(t.window.history.state,"",e)}catch(t){}};var dr=function(e){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),c=i.unproject(s);e.call(this,r,t.extend({point:s,lngLat:c,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),hr=function(e){function r(r,i,o){var a=n.touchPos(i.getCanvasContainer(),o),s=a.map((function(t){return i.unproject(t)})),c=a.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.Point(0,0)),l=i.unproject(c);e.call(this,r,{points:a,point:c,lngLats:s,lngLat:l,originalEvent:o}),this._defaultPrevented=!1}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),fr=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),mr=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};mr.prototype.setZoomRate=function(t){this._defaultZoomRate=t},mr.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},mr.prototype.isEnabled=function(){return!!this._enabled},mr.prototype.isActive=function(){return!!this._active},mr.prototype.isZooming=function(){return!!this._zooming},mr.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},mr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},mr.prototype.onWheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this.isActive()||this._start(e)),e.preventDefault()}},mr.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},mr.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var r=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},mr.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:n.zoom,s=this._startZoom,c=this._easing,l=!1;if("wheel"===this._type&&s&&c){var u=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),p=c(u);n.zoom=t.number(s,a,p),u<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):l=!0}else n.zoom=a,l=!0;n.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),l&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom}),200))}},mr.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n};var gr=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};gr.prototype.isEnabled=function(){return!!this._enabled},gr.prototype.isActive=function(){return!!this._active},gr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},gr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},gr.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),n.disableDrag(),this._startPos=this._lastPos=n.mousePos(this._el,e),this._active=!0)},gr.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=e,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var i=Math.min(r.x,e.x),o=Math.max(r.x,e.x),a=Math.min(r.y,e.y),s=Math.max(r.y,e.y);n.setTransform(this._box,"translate("+i+"px,"+a+"px)"),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"}},gr.prototype._onMouseUp=function(e){if(0===e.button){var r=this._startPos,i=n.mousePos(this._el,e);this._finish(),n.suppressClick(),r.x===i.x&&r.y===i.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(r,i,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}))}},gr.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},gr.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},gr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var yr=t.bezier(0,0,.25,1),_r=function(e,n){this._map=e,this._el=n.element||e.getCanvasContainer(),this._state="disabled",this._button=n.button||"right",this._bearingSnap=n.bearingSnap||0,this._pitchWithRotate=!1!==n.pitchWithRotate,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};_r.prototype.isEnabled=function(){return"disabled"!==this._state},_r.prototype.isActive=function(){return"active"===this._state},_r.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},_r.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},_r.prototype.onMouseDown=function(e){if("enabled"===this._state){var r="touchstart"===e.type;if(r)this._startTime=Date.now();else if("right"===this._button){if(this._eventButton=n.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==n.mouseButton(e))return;this._eventButton=0}n.disableDrag(),r?(t.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("touchend",this._onMouseUp)):(t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp)),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=n.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},_r.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},_r.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var n=this._map.transform,r=this._prevPos,i=this._lastPos,o=n.bearing-.8*(r.x-i.x),a=n.pitch- -.5*(r.y-i.y),s=this._inertia,c=s[s.length-1];this._drainInertiaBuffer(),s.push([t.browser.now(),this._map._normalizeBearing(o,c[1])]);var l=n.bearing;if(n.bearing=o,this._pitchWithRotate){var u=n.pitch;n.pitch=a,n.pitch!==u&&this._fireEvent("pitch",e)}n.bearing!==l&&this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._prevPos=this._lastPos}},_r.prototype._onMouseUp=function(t){if("touchend"===t.type&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),n.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},_r.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},_r.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("touchend",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),n.enableDrag()},_r.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},_r.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),i=this._inertia,o=function(){Math.abs(r)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(i.length<2)o();else{var a=i[0],s=i[i.length-1],c=n._normalizeBearing(r,i[i.length-2][1]),l=s[1]-a[1],u=l<0?-1:1,p=(s[0]-a[0])/1e3;if(0!==l&&0!==p){var d=Math.abs(l*(.25/p));d>180&&(d=180);var h=d/180;c+=u*d*(h/2),Math.abs(n._normalizeBearing(c,0))<this._bearingSnap&&(c=n._normalizeBearing(0,c)),n.rotateTo(c,{duration:1e3*h,easing:yr,noMoveStart:!0},{originalEvent:t})}else o()}},_r.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},_r.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var vr=t.bezier(0,0,.3,1),br=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};br.prototype.isEnabled=function(){return"disabled"!==this._state},br.prototype.isActive=function(){return"active"===this._state},br.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},br.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},br.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==n.mouseButton(e)||(n.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)))},br.prototype.onTouchStart=function(e){this.isEnabled()&&(e.touches&&e.touches.length>1&&("pending"===this._state||"active"===this._state)||(n.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)))},br.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=n.mousePos(this._el,e),this._startTouch=this._lastTouch=t.window.TouchEvent&&e instanceof t.window.TouchEvent?n.touchPos(this._el,e):null,this._inertia=[[t.browser.now(),this._startPos]]},br.prototype._touchesMatch=function(t,e){return!(!t||!e||t.length!==e.length)&&t.every((function(t,n){return e[n]===t}))},br.prototype._onMove=function(e){e.preventDefault();var r=t.window.TouchEvent&&e instanceof t.window.TouchEvent?n.touchPos(this._el,e):null,i=n.mousePos(this._el,e);(r?this._touchesMatch(this._lastTouch,r):this._lastPos.equals(i))||"pending"===this._state&&i.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=i,this._lastTouch=r,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},br.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t)if(this._map.touchZoomRotate.isActive())this._abort(t);else if(this._shouldStart&&(this._fireEvent("dragstart",t),this._fireEvent("movestart",t),this._shouldStart=!1),this.isActive()){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._prevPos=this._lastPos,delete this._lastMoveEvent}},br.prototype._onMouseUp=function(t){if(0===n.mouseButton(t))switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},br.prototype._onTouchEnd=function(t){if(t.touches&&0!==t.touches.length)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(t)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},br.prototype._abort=function(e){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",e),this._fireEvent("moveend",e)),this._unbind(),this._deactivate(),t.window.TouchEvent&&e instanceof t.window.TouchEvent&&e.touches.length>1&&n.addEventListener(t.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},br.prototype._onBlur=function(t){this._abort(t)},br.prototype._unbind=function(){n.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onTouchEnd),n.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.removeEventListener(t.window.document,"mouseup",this._onMouseUp),n.removeEventListener(t.window,"blur",this._onBlur)},br.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},br.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var n=e[e.length-1],r=e[0],i=n[1].sub(r[1]),o=(n[0]-r[0])/1e3;if(0===o||n[1].equals(r[1]))this._fireEvent("moveend",t);else{var a=i.mult(.3/o),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var c=s/750,l=a.mult(-c/2);this._map.panBy(l,{duration:1e3*c,easing:vr,noMoveStart:!0},{originalEvent:t})}}},br.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},br.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var Mr=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function xr(t){return t*(2-t)}Mr.prototype.isEnabled=function(){return!!this._enabled},Mr.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Mr.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Mr.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,r=0,i=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),i=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),i=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?r=-1:(o=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),c={duration:300,delayEndEvents:500,easing:xr,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*n,pitch:a.getPitch()+10*r,offset:[100*-i,100*-o],center:a.getCenter()};a.easeTo(c,{originalEvent:t})}};var wr=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};wr.prototype.isEnabled=function(){return!!this._enabled},wr.prototype.isActive=function(){return!!this._active},wr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},wr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},wr.prototype.onTouchStart=function(t){var e=this;if(this.isEnabled()&&!(t.points.length>1))if(this._tapped){var n=this._tappedPoint;if(n&&n.dist(t.points[0])<=30){t.originalEvent.preventDefault();var r=function(){e._tapped&&e._zoom(t),e._map.off("touchcancel",i),e._resetTapped()},i=function(){e._map.off("touchend",r),e._resetTapped()};this._map.once("touchend",r),this._map.once("touchcancel",i)}else this._resetTapped()}else this._tappedPoint=t.points[0],this._tapped=setTimeout((function(){e._tapped=null,e._tappedPoint=null}),300)},wr.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},wr.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},wr.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},wr.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Cr=t.bezier(0,0,.15,1),Sr=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Sr.prototype.isEnabled=function(){return!!this._enabled},Sr.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},Sr.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Sr.prototype.disableRotation=function(){this._rotationDisabled=!0},Sr.prototype.enableRotation=function(){this._rotationDisabled=!1},Sr.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},Sr.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var r=n.mousePos(this._el,e.touches[0]),i=n.mousePos(this._el,e.touches[1]),o=r.add(i).div(2);this._startVec=r.sub(i),this._startAround=this._map.transform.pointLocation(o),this._gestureIntent=void 0,this._inertia=[],n.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.addEventListener(t.window.document,"touchend",this._onEnd)}},Sr.prototype._getTouchEventData=function(t){var e=n.mousePos(this._el,t.touches[0]),r=n.mousePos(this._el,t.touches[1]),i=e.sub(r);return{vec:i,center:e.add(r).div(2),scale:i.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI}},Sr.prototype._onMove=function(e){if(2===e.touches.length){var n=this._getTouchEventData(e),r=n.vec,i=n.scale,o=n.bearing;if(!this._gestureIntent){var a=this._rotationDisabled&&1!==i||Math.abs(1-i)>.15;Math.abs(o)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=r)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},Sr.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var n=this._map.transform;this._startScale||(this._startScale=n.scale,this._startBearing=n.bearing);var r=this._getTouchEventData(this._lastTouchEvent),i=r.center,o=r.bearing,a=r.scale,s=n.pointLocation(i),c=n.locationPoint(s);"rotate"===e&&(n.bearing=this._startBearing+o),n.zoom=n.scaleZoom(this._startScale*a),n.setLocationAtPoint(this._startAround,c),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),a,i])}},Sr.prototype._onEnd=function(e){n.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onEnd);var r=this._gestureIntent,i=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,r){this._map.fire(new t.Event(r+"end",{originalEvent:e})),this._drainInertiaBuffer();var o=this._inertia,a=this._map;if(o.length<2)a.snapToNorth({},{originalEvent:e});else{var s=o[o.length-1],c=o[0],l=a.transform.scaleZoom(i*s[1]),u=a.transform.scaleZoom(i*c[1]),p=(s[0]-c[0])/1e3,d=s[2];if(0!==p&&l!==u){var h=.15*(l-u)/p;Math.abs(h)>2.5&&(h=h>0?2.5:-2.5);var f=1e3*Math.abs(h/(12*.15)),m=l+h*f/2e3;m<0&&(m=0),a.easeTo({zoom:m,duration:f,easing:Cr,around:this._aroundCenter?a.getCenter():a.unproject(d),noMoveStart:!0},{originalEvent:e})}else a.snapToNorth({},{originalEvent:e})}}},Sr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>2&&n-e[0][0]>160;)e.shift()};var Er={scrollZoom:mr,boxZoom:gr,dragRotate:_r,dragPan:br,keyboard:Mr,doubleClickZoom:wr,touchZoomRotate:Sr},Tr=function(e){function n(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},n.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){return e=t.LngLatBounds.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,n)},n.prototype._cameraForBoxAndBearing=function(e,n,r,i){if("number"==typeof(i=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}if(t.deepEqual(Object.keys(i.padding).sort((function(t,e){return t<e?-1:t>e?1:0})),["bottom","left","right","top"])){var a=this.transform,s=a.project(t.LngLat.convert(e)),c=a.project(t.LngLat.convert(n)),l=s.rotate(-r*Math.PI/180),u=c.rotate(-r*Math.PI/180),p=new t.Point(Math.max(l.x,u.x),Math.max(l.y,u.y)),d=new t.Point(Math.min(l.x,u.x),Math.min(l.y,u.y)),h=p.sub(d),f=(a.width-i.padding.left-i.padding.right)/h.x,m=(a.height-i.padding.top-i.padding.bottom)/h.y;if(!(m<0||f<0)){var g=Math.min(a.scaleZoom(a.scale*Math.min(f,m)),i.maxZoom),y=t.Point.convert(i.offset),_=new t.Point(y.x+(i.padding.left-i.padding.right)/2,y.y+(i.padding.top-i.padding.bottom)/2).mult(a.scale/a.zoomScale(g));return{center:a.unproject(s.add(c).div(2).sub(_)),zoom:g,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(e,n,r){return e?(n=t.extend(e,n)).linear?this.easeTo(n,r):this.flyTo(n,r):this},n.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var r=this;this.stop(),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||t.browser.prefersReducedMotion)&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),c="zoom"in e?+e.zoom:o,l="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,p=i.centerPoint.add(t.Point.convert(e.offset)),d=i.pointLocation(p),h=t.LngLat.convert(e.center||d);this._normalizeCenter(h);var f,m,g=i.project(d),y=i.project(h).sub(g),_=i.zoomScale(c-o);return e.around&&(f=t.LngLat.convert(e.around),m=i.locationPoint(f)),this._zooming=c!==o,this._rotating=a!==l,this._pitching=u!==s,this._prepareEase(n,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,c,e)),r._rotating&&(i.bearing=t.number(a,l,e)),r._pitching&&(i.pitch=t.number(s,u,e)),f)i.setLocationAtPoint(f,m);else{var d=i.zoomScale(i.zoom-o),h=c>o?Math.min(2,_):Math.max(.5,_),v=Math.pow(h,1-e),b=i.unproject(g.add(y.mult(e*v)).mult(d));i.setLocationAtPoint(i.renderWorldCopies?b.wrap():b,p)}r._fireMoveEvents(n)}),(function(){e.delayEndEvents?r._easeEndTimeoutID=setTimeout((function(){return r._afterEase(n)}),e.delayEndEvents):r._afterEase(n)}),e),this},n.prototype._prepareEase=function(e,n){this._moving=!0,n||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e){var n=this._zooming,r=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,n&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),i&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},n.prototype.flyTo=function(e,n){var r=this;if(t.browser.prefersReducedMotion){var i=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),s=this.getBearing(),c=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,u="bearing"in e?this._normalizeBearing(e.bearing,s):s,p="pitch"in e?+e.pitch:c,d=o.zoomScale(l-a),h=o.centerPoint.add(t.Point.convert(e.offset)),f=o.pointLocation(h),m=t.LngLat.convert(e.center||f);this._normalizeCenter(m);var g=o.project(f),y=o.project(m).sub(g),_=e.curve,v=Math.max(o.width,o.height),b=v/d,M=y.mag();if("minZoom"in e){var x=t.clamp(Math.min(e.minZoom,a,l),o.minZoom,o.maxZoom),w=v/o.zoomScale(x-a);_=Math.sqrt(w/M*2)}var C=_*_;function S(t){var e=(b*b-v*v+(t?-1:1)*C*C*M*M)/(2*(t?b:v)*C*M);return Math.log(Math.sqrt(e*e+1)-e)}function E(t){return(Math.exp(t)-Math.exp(-t))/2}function T(t){return(Math.exp(t)+Math.exp(-t))/2}var O=S(0),A=function(t){return T(O)/T(O+_*t)},P=function(t){return v*((T(O)*(E(e=O+_*t)/T(e))-E(O))/C)/M;var e},L=(S(1)-O)/_;if(Math.abs(M)<1e-6||!isFinite(L)){if(Math.abs(v-b)<1e-6)return this.easeTo(e,n);var k=b<v?-1:1;L=Math.abs(Math.log(b/v))/_,P=function(){return 0},A=function(t){return Math.exp(k*_*t)}}return e.duration="duration"in e?+e.duration:1e3*L/("screenSpeed"in e?+e.screenSpeed/_:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==u,this._pitching=p!==c,this._prepareEase(n,!1),this._ease((function(e){var i=e*L,d=1/A(i);o.zoom=1===e?l:a+o.scaleZoom(d),r._rotating&&(o.bearing=t.number(s,u,e)),r._pitching&&(o.pitch=t.number(c,p,e));var f=1===e?m:o.unproject(g.add(y.mult(P(i))).mult(d));o.setLocationAtPoint(o.renderWorldCopies?f.wrap():f,h),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},n.prototype._ease=function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),Or=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Or.prototype.getDefaultPosition=function(){return"bottom-right"},Or.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Or.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Or.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var r=n.reduce((function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow"}},Or.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},Or.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Or.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Ar=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};Ar.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ar.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ar.prototype.getDefaultPosition=function(){return"bottom-left"},Ar.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Ar.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},Ar.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var Pr=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Pr.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},Pr.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},Pr.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!r.cancelled&&(r.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Pr.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Lr=t.window.HTMLImageElement,kr=t.window.HTMLElement,Ir={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Dr=function(r){function i(e){var i=this;if(null!=(e=t.extend({},Ir,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var o=new lr(e.minZoom,e.maxZoom,e.renderWorldCopies);if(r.call(this,o,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new Pr,this._controls=[],this._mapId=t.uniqueId(),this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof kr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return i._update(!1)})),this.on("moveend",(function(){return i._update(!1)})),this.on("zoom",(function(){return i._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var r=t.getCanvasContainer(),i=null,o=!1,a=null;for(var s in Er)t[s]=new Er[s](t,e),e.interactive&&e[s]&&t[s].enable(e[s]);n.addEventListener(r,"mouseout",(function(e){t.fire(new dr("mouseout",t,e))})),n.addEventListener(r,"mousedown",(function(i){o=!0,a=n.mousePos(r,i);var s=new dr("mousedown",t,i);t.fire(s),s.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(i),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(i),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(i))})),n.addEventListener(r,"mouseup",(function(e){var n=t.dragRotate.isActive();i&&!n&&t.fire(new dr("contextmenu",t,i)),i=null,o=!1,t.fire(new dr("mouseup",t,e))})),n.addEventListener(r,"mousemove",(function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new dr("mousemove",t,e))}})),n.addEventListener(r,"mouseover",(function(e){for(var n=e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new dr("mouseover",t,e))})),n.addEventListener(r,"touchstart",(function(n){var r=new hr("touchstart",t,n);t.fire(r),r.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(n),t.touchZoomRotate.onStart(n),t.doubleClickZoom.onTouchStart(r))}),{passive:!1}),n.addEventListener(r,"touchmove",(function(e){t.fire(new hr("touchmove",t,e))}),{passive:!1}),n.addEventListener(r,"touchend",(function(e){t.fire(new hr("touchend",t,e))})),n.addEventListener(r,"touchcancel",(function(e){t.fire(new hr("touchcancel",t,e))})),n.addEventListener(r,"click",(function(i){var o=n.mousePos(r,i);(!a||o.equals(a)||o.dist(a)<e.clickTolerance)&&t.fire(new dr("click",t,i))})),n.addEventListener(r,"dblclick",(function(e){var n=new dr("dblclick",t,e);t.fire(n),n.defaultPrevented||t.doubleClickZoom.onDblClick(n)})),n.addEventListener(r,"contextmenu",(function(e){var n=t.dragRotate.isActive();o||n?o&&(i=e):t.fire(new dr("contextmenu",t,e)),(t.dragRotate.isEnabled()||t.listens("contextmenu"))&&e.preventDefault()})),n.addEventListener(r,"wheel",(function(n){e.interactive&&t.stop();var r=new fr("wheel",t,n);t.fire(r),r.defaultPrevented||t.scrollZoom.onWheel(n)}),{passive:!1})}(this,e),this._hash=e.hash&&new pr("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new Or({customAttribution:e.customAttribution})),this.addControl(new Ar,e.logoPosition),this.on("style.load",(function(){i.transform.unmodified&&i.jumpTo(i.style.stylesheet)})),this.on("data",(function(e){i._update("style"===e.dataType),i.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){i.fire(new t.Event(e.dataType+"dataloading",e))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(e,n){if(void 0===n&&e.getDefaultPosition&&(n=e.getDefaultPosition()),void 0===n&&(n="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},i.prototype.resize=function(e){var n=this._containerDimensions(),r=n[0],i=n[1];return this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},i.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},i.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},i.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},i.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},i.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},i.prototype.on=function(t,e,n){var i=this;if(void 0===n)return r.prototype.on.call(this,t,e);var o=function(){var r;if("mouseenter"===t||"mouseover"===t){var o=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[];a.length?o||(o=!0,n.call(i,new dr(t,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){(i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(i,new dr(t,i,r.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(i,new dr(t,i,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(r={},r[t]=function(t){var r=i.getLayer(e)?i.queryRenderedFeatures(t.point,{layers:[e]}):[];r.length&&(t.features=r,n.call(i,t),delete t.features)},r)}}();for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(o),o.delegates)this.on(a,o.delegates[a]);return this},i.prototype.off=function(t,e,n){if(void 0===n)return r.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var i=this._delegatedListeners[t],o=0;o<i.length;o++){var a=i[o];if(a.layer===e&&a.listener===n){for(var s in a.delegates)this.off(s,a.delegates[s]);return i.splice(o,1),this}}return this},i.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var r;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var i=t.Point.convert(e[0]),o=t.Point.convert(e[1]);r=[i,new t.Point(o.x,i.y),o,new t.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},i.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},i.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new ze(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},i.prototype._diffStyle=function(e,n){var r=this;if("string"==typeof e){var i=this._requestManager.normalizeStyleURL(e),o=this._requestManager.transformRequest(i,t.ResourceType.Style);t.getJSON(o,(function(e,i){e?r.fire(new t.ErrorEvent(e)):i&&r._updateDiff(i,n)}))}else"object"==typeof e&&this._updateDiff(e,n)},i.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(r){t.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0)},i.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},i.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},i.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},i.prototype.getSource=function(t){return this.style.getSource(t)},i.prototype.addImage=function(e,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;if(void 0===o&&(o=!1),n instanceof Lr){var a=t.browser.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:a.width,height:a.height},a.data),pixelRatio:i,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var s=n;this.style.addImage(e,{data:new t.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,sdf:o,version:0,userImage:s}),s.onAdd&&s.onAdd(this,e)}},i.prototype.updateImage=function(e,n){var r=this.style.getImage(e);if(!r)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Lr?t.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof Lr)),void this.style.updateImage(e,r))},i.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(t){this.style.removeImage(t)},i.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0)},i.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},i.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},i.prototype.getLayer=function(t){return this.style.getLayer(t)},i.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},i.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},i.prototype.getFilter=function(t){return this.style.getFilter(t)},i.prototype.setPaintProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(t,e,n,r),this._update(!0)},i.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},i.prototype.setLayoutProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(t,e,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},i.prototype.setLight=function(t,e){return void 0===e&&(e={}),this.style.setLight(t,e),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},i.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},i.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){o[t]=n.create("div","mapboxgl-ctrl-"+t,i)}))},i.prototype._resizeCanvas=function(e,n){var r=t.window.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new or(r,this.transform),t.webpSupported.testSupport(r)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},i.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},i.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},i.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var n=this.transform.zoom,r=t.browser.now();this.style.zoomHistory.update(n,r);var i=new t.EvaluationParameters(n,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=i.crossFadingFactor();1===o&&o===this._crossFadingFactor||(e=!0,this._crossFadingFactor=o),this.style.update(i)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),this},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Nr(this._canvasContainer),Nr(this._controlContainer),Nr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},i.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(){e._frame=null,e._render()})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},i.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},o.version.get=function(){return t.version},Object.defineProperties(i.prototype,o),i}(Tr);function Nr(t){t.parentNode&&t.parentNode.removeChild(t)}var Rr={showCompass:!0,showZoom:!0,visualizePitch:!1},zr=function(e){var r=this;this.options=t.extend({},Rr,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",(function(t){return r._map.zoomIn({},{originalEvent:t})})),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",(function(t){return r._map.zoomOut({},{originalEvent:t})}))),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",(function(t){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:t}):r._map.resetNorth({},{originalEvent:t})})),this._compassArrow=n.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function Fr(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(n);r.locationPoint(i).distSqr(n)<a?e=i:r.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}zr.prototype._updateZoomButtons=function(){var t=this._map.getZoom();t===this._map.getMaxZoom()?this._zoomInButton.classList.add("mapboxgl-ctrl-icon-disabled"):this._zoomInButton.classList.remove("mapboxgl-ctrl-icon-disabled"),t===this._map.getMinZoom()?this._zoomOutButton.classList.add("mapboxgl-ctrl-icon-disabled"):this._zoomOutButton.classList.remove("mapboxgl-ctrl-icon-disabled")},zr.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},zr.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _r(t,{button:"left",element:this._compass}),n.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),n.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},zr.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),n.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),n.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},zr.prototype._createButton=function(t,e,r){var i=n.create("button",t,this._container);return i.type="button",i.title=e,i.setAttribute("aria-label",e),i.addEventListener("click",r),i};var jr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Br(t,e,n){var r=t.classList;for(var i in jr)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var qr,Vr=function(e){function r(r,i){if(e.call(this),(r instanceof t.window.HTMLElement||i)&&(r=t.extend({element:r},i)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._draggable=r&&r.draggable||!1,this._state="inactive",r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var c=n.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"transform","translate(3.0, 29.0)"),c.setAttributeNS(null,"fill","#000000");for(var l=0,u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<u.length;l+=1){var p=u[l],d=n.createNS("http://www.w3.org/2000/svg","ellipse");d.setAttributeNS(null,"opacity","0.04"),d.setAttributeNS(null,"cx","10.5"),d.setAttributeNS(null,"cy","5.80029008"),d.setAttributeNS(null,"rx",p.rx),d.setAttributeNS(null,"ry",p.ry),c.appendChild(d)}var h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var f=n.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(f);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var g=n.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(g);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var _=n.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=n.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),_.appendChild(v),_.appendChild(b),s.appendChild(c),s.appendChild(h),s.appendChild(m),s.appendChild(y),s.appendChild(_),o.appendChild(s),this._element.appendChild(o),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),Br(this._element,this._anchor,"marker"),this._popup=null}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},r.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},r.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Fr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,jr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},r.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r}(t.Evented),Yr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Hr=function(e){function r(n){e.call(this),this.options=t.extend({},Yr,n),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.onAdd=function(e){var r;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==qr?r(qr):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){r(qr="denied"!==t.state)})):r(qr=!!t.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),n.remove(this._container),this._map=void 0},r.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(e){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},r.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},r.prototype._onError=function(e){this.options.trackUserLocation&&(1===e.code?(this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0,this._geolocateButton.title="Location not available",this._geolocateButton.setAttribute("aria-label","Location not available"),void 0!==this._geolocationWatchID&&this._clearWatch()):this._setErrorState()),"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(e){var r=this;this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.title="Find my location",this._geolocateButton.setAttribute("aria-label","Find my location"),!1===e&&(t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled."),this._geolocateButton.disabled=!0,this._geolocateButton.title="Location not available",this._geolocateButton.setAttribute("aria-label","Location not available")),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Vr(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(t.Evented),Wr={maxWidth:100,unit:"metric"},Ur=function(e){this.options=t.extend({},Wr,e),t.bindAll(["_onMove","setUnit"],this)};function Xr(t,e,n){var r,i,o,a,s,c,l=n&&n.maxWidth||100,u=t._container.clientHeight/2,p=(r=t.unproject([0,u]),i=t.unproject([l,u]),o=Math.PI/180,a=r.lat*o,s=i.lat*o,c=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((i.lng-r.lng)*o),6371e3*Math.acos(Math.min(c,1)));if(n&&"imperial"===n.unit){var d=3.2808*p;d>5280?Gr(e,l,d/5280,"mi"):Gr(e,l,d,"ft")}else n&&"nautical"===n.unit?Gr(e,l,p/1852,"nm"):Gr(e,l,p,"m")}function Gr(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a))),c=s/n;"m"===r&&s>=1e3&&(s/=1e3,r="km"),t.style.width=e*c+"px",t.innerHTML=s+r}Ur.prototype.getDefaultPosition=function(){return"bottom-left"},Ur.prototype._onMove=function(){Xr(this._map,this._container,this.options)},Ur.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ur.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ur.prototype.setUnit=function(t){this.options.unit=t,Xr(this._map,this._container,this.options)};var Jr=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Jr.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Jr.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Jr.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Jr.prototype._setupUI=function(){(this._fullscreenButton=n.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Jr.prototype._updateTitle=function(){var t=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Jr.prototype._isFullscreen=function(){return this._fullscreen},Jr.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Jr.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var $r={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Kr=function(e){function r(n){e.call(this),this.options=t.extend(Object.create($r),n),t.bindAll(["_update","_onClickClose","remove"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(e){var n=this;return this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",(function(t){n._update(t.point)})),this._map.on("mouseup",(function(t){n._update(t.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),this._map.off("mousemove"),delete this._map),this.fire(new t.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove"),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){var t=this;return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",(function(e){t._update(e.point)})),this._map.on("drag",(function(e){t._update(e.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},r.prototype.setHTML=function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container.style.maxWidth},r.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},r.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},r.prototype._createContent=function(){this._content&&n.remove(this._content),this._content=n.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},r.prototype._update=function(e){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return r._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Fr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var i=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),o=this.options.anchor,a=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var s,c=this._container.offsetWidth,l=this._container.offsetHeight;s=i.y+a.bottom.y<l?["top"]:i.y>this._map.transform.height-l?["bottom"]:[],i.x<c/2?s.push("left"):i.x>this._map.transform.width-c/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var u=i.add(a[o]).round();n.setTransform(this._container,jr[o]+" translate("+u.x+"px,"+u.y+"px)"),Br(this._container,o,"popup")}},r.prototype._onClickClose=function(){this.remove()},r}(t.Evented),Zr={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Dr,NavigationControl:zr,GeolocateControl:Hr,AttributionControl:Or,ScaleControl:Ur,FullscreenControl:Jr,Popup:Kr,Marker:Vr,Style:ze,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return It.workerCount},set workerCount(t){It.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Zr})),n}()},"4dOw":function(t,e,n){!function(t){"use strict";t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(c((n,r)=>Object(s.a)(t(n,r)).pipe(Object(a.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new l(t,n)))}class l{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),a=this.destination;a.add(i);const s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5ApF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItMode=void 0,e.ItMode=function(t){return t[t.Walk=100]="Walk",t[t.Cycle=107]="Cycle",t[t.Taxi=105]="Taxi",t}(e.ItMode||{})},"5MJQ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createExcludedModeFormObject=e.createDepartureTimeFormObject=e.getFormValues=e.DeparturesPreferenceGroupDefaultValue=e.DeparturesPreferenceGroup=void 0;const r=n("s7LF"),i=n("f0Wu"),o=n("LIED"),a=n("yPCr");function s(t,e){t.optionDateTimeSelection={option:e.dateTime?o.DateTimeSelectorOptions.Leaving:o.DateTimeSelectorOptions.Now,day:e.dateTime?i(e.dateTime).startOf("day"):void 0,hour:e.dateTime?i(e.dateTime).hours():void 0,minute:e.dateTime?5*Math.floor(i(e.dateTime).minutes()/5):void 0}}function c(t,e){return Object.assign(Object.assign({},t),e.length>0?{preferencesForm:{metro:!e.includes(a.Mode.Metro),ferry:!e.includes(a.Mode.Ferry),school:!e.includes(a.Mode.SchoolBus),train:!e.includes(a.Mode.Train),lightRail:!e.includes(a.Mode.LightRail),bus:!e.includes(a.Mode.Bus),coach:!e.includes(a.Mode.Coach)}}:{preferencesForm:{metro:!1,ferry:!1,school:!1,train:!1,lightRail:!1,bus:!1,coach:!1}})}e.DeparturesPreferenceGroup=new r.FormGroup({preferencesForm:new r.FormGroup({metro:new r.FormControl(!1),ferry:new r.FormControl(!1),school:new r.FormControl(!1),train:new r.FormControl(!1),lightRail:new r.FormControl(!1),bus:new r.FormControl(!1),coach:new r.FormControl(!1)}),optionDateTimeSelection:new r.FormControl,tripPreferences:new r.FormGroup({tripPreference:new r.FormControl("0")}),serviceOptions:new r.FormGroup({includeOpalPayOnDemandAndBookableServices:new r.FormControl(!0),onlyAccessible:new r.FormControl(!1)})}),e.DeparturesPreferenceGroupDefaultValue=t=>({preferencesForm:{metro:!1,ferry:!1,school:!1,train:!1,lightRail:!1,bus:!1,coach:!1},optionDateTimeSelection:{option:"Now",day:i(t).startOf("day"),hour:t.hour(),minute:5*Math.floor(t.minutes()/5)%60},tripPreferences:{tripPreference:"0"},serviceOptions:{includeOpalPayOnDemandAndBookableServices:!0,onlyAccessible:!1}}),e.getFormValues=function(t,e){return s(t,e),t.serviceOptions={includeOpalPayOnDemandAndBookableServices:!e.onlyOpal,onlyAccessible:e.onlyAccessible&&"true"===e.onlyAccessible.toLowerCase()},c(t,e.excludedModes?e.excludedModes.split(",").map(Number):[])},e.createDepartureTimeFormObject=s,e.createExcludedModeFormObject=c},"5g3M":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OPAL_RETAILER_RING_CLASS=e.OpalRetetailersConstants=void 0,e.OpalRetetailersConstants={OPAL_RETAILER:"New Opal cards, Top ups",TOP_UP_ONLY:"Top up machine",TOP_UP_SINGLE:"Top up and single trip ticket machine",NO_CASH_SALES:"No cash sales"},e.OPAL_RETAILER_RING_CLASS="opal-ring"},"5rvx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Filters=void 0,e.Filters={propertyKey:"service_type",layerName:"mbs-opal-retailers",options:[{id:"topUp",label:"Top up",allowedValues:["Retailer","Top up only","Top up and single"],disclaimerText:"Never wait in the queue and always be ready to travel.",eventAction:"Enable auto top up LINK",hyperLinkText:"Enable auto top up.",hyperLink:"/tickets-opal/opal/top-up-your-opal-card"},{id:"newCard",label:"New card",allowedValues:["Retailer"],disclaimerText:"Adult and Child/Youth cards only.",eventAction:"Apply card LINK",hyperLinkText:"Apply online",hyperLink:"https://www.opal.com.au/en/get-an-opal-card/",hyperLinkText2:"for other card types."},{id:"singleTrip",label:"Single trip",allowedValues:["Top up and single"],disclaimerText:"Adult and Child/Youth cards only. Fares are more expensive than using Opal or ",eventAction:"Contactless payments LINK",hyperLinkText:"contactless.",hyperLink:"/tickets-opal/opal/contactless-payments"}]}},"6+QB":function(t,e,n){!function(t){"use strict";t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n("wd/R"))},"6B0Y":function(t,e,n){!function(t){"use strict";var e={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},n={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};t.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(t){return"\u179b\u17d2\u1784\u17b6\u1785"===t},meridiem:function(t,e,n){return t<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(t){return t.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n("wd/R"))},"6B56":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripPlannerModule=void 0;const r=n("UhP/"),i=n("PCNd"),o=n("r425"),a=n("SVse"),s=n("Ul4P"),c=n("2Vtg"),l=n("p195"),u=n("8Y7J");class p{}e.TripPlannerModule=p,p.\u0275mod=u.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=u.\u0275\u0275defineInjector({factory:function(t){return new(t||p)},imports:[[a.CommonModule,i.SharedModule,s.TripResultsModule,o.TripFormModule,c.TripHistoryModule,r.MatRippleModule,l.TripPlannerRoutingModule]]})},"6V4H":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripRequestService=void 0;const r=n("bPm+"),i=n("PkF6"),o=n("Z+0j"),a=n("5ApF"),s=n("LIED"),c=n("f0Wu"),l=n("WHQF"),u=n("8Y7J");class p{createTripRequest(t,e,n,r){const i=new o.TripRequest;return i.from=t.fromLocationUrlParam().trim(),i.fromLat=t.fromLocation.coord[0],i.fromLng=t.fromLocation.coord[1],i.fromName=t.fromLocation.fullName,i.to=t.toLocationUrlParam().trim(),i.toLat=t.toLocation.coord[0],i.toLng=t.toLocation.coord[1],i.toName=t.toLocation.fullName,i.leaving=e.optionDateTimeSelection.option!==s.DateTimeSelectorOptions.Arriving,i.dateTime=this.getTravelTime(e),i.excludedModes=t.excludedModes||[],i.source="transportnsw-info",i.filters={onlyAccessible:e.serviceOptions.onlyAccessible,onlyOpal:!e.serviceOptions.includeOpalPayOnDemandAndBookableServices,includedJourneys:n},i.preferences={tripPreference:this.getTripPreference(e.tripPreferences),walkSpeed:this.getWalkingSpeed(e.walkingSpeed),cycleSpeed:this.getCyclingSpeed(r),gettingFromMode:Number(e.tripConnections.gettingFrom),gettingToMode:Number(e.tripConnections.gettingTo),gettingFromValue:this.getFromValue(e.tripConnections),gettingToValue:this.getToValue(e.tripConnections)},i}getTravelTime(t){if(t.optionDateTimeSelection.option!==s.DateTimeSelectorOptions.Now)return c(t.optionDateTimeSelection.day).set({hour:t.optionDateTimeSelection.hour,minute:t.optionDateTimeSelection.minute,millisecond:0}).toISOString()}getWalkingSpeed(t){if(+t.walkingSpeed===i.WalkSpeed.fast||+t.walkingSpeed===i.WalkSpeed.normal||+t.walkingSpeed===i.WalkSpeed.slow)return+t.walkingSpeed}getCyclingSpeed(t){return t===l.CycleSpeed.fast?25:t===l.CycleSpeed.slow?12:16}getTripPreference(t){return+t.tripPreference===r.TripPreference.fastest||+t.tripPreference===r.TripPreference.fewestChanges||+t.tripPreference===r.TripPreference.leastWalking?+t.tripPreference:void 0}getToValue(t){return Number(t.gettingTo)===a.ItMode.Walk?Number(t.walkDuration):Number(t.gettingTo)===a.ItMode.Cycle?Number(t.cycleDuration):Number(t.gettingTo)===a.ItMode.Taxi?Number(t.driveDuration):void 0}getFromValue(t){return Number(t.gettingFrom)===a.ItMode.Walk?Number(t.walkDuration):Number(t.gettingFrom)===a.ItMode.Cycle?Number(t.cycleDuration):Number(t.gettingFrom)===a.ItMode.Taxi?Number(t.driveDuration):void 0}getCyclingPreference(t){return 25===t?l.CycleSpeed.fast:12===t?l.CycleSpeed.slow:l.CycleSpeed.average}}e.TripRequestService=p,p.\u0275fac=function(t){return new(t||p)},p.\u0275prov=u.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})},"6Xgo":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchTripEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("qCKp"),a=n("kU1M"),s=n("ha9l"),c=n("RNDk"),l=n("EiLY"),u=n("yqgP"),p=n("yuJq"),d=n("cRl/"),h=n("wd/R"),f=n("8Y7J"),m=n("7bNT"),g=n("A9CO"),y=n("tqRt"),_=n("JvPz"),v=n("9sYg"),b=n("VS5s");e.SearchTripEffects=(()=>{class t{constructor(t,e,n,r,f,m){this.actions=t,this.tripService=e,this.stateStore=n,this.windowRef=r,this.tripServiceErrorHandler=f,this.trackTripPlannerEventService=m,this.searchTrip$=this.actions.pipe(i.ofType(l.TripActionTypes.SEARCH_TRIP),a.tap(()=>{this.stateStore.dispatch(new l.SearchLoadingAction)}),a.map(t=>({tripRequest:t.payload.tripRequest,trip:t.payload.trip,travelMode:t.payload.travelMode})),a.switchMap(({tripRequest:t,trip:e,travelMode:n})=>(this.tripService.clearCycleJourneysBySpeed(),this.tripService.Search(t).pipe(a.tap(e=>{this.trackTripPlannerEventService.trackRealTimeJourney(e.journeys),this.trackTripPlannerEventService.trackShortPlatform(e.journeys),n===s.JourneyType.Cycle&&d.LocalStorageHelper.setItem("cycle-journeys-"+t.preferences.cycleSpeed,{journeys:e.journeys.filter(t=>t.type===s.JourneyType.Cycle)})}),a.map(t=>(t.journeys.some(t=>t.type===s.JourneyType.Cycle&&t.cycleProfile===p.CycleProfile.Moderate)||(t.journeys=t.journeys.filter(t=>t.type!==s.JourneyType.Cycle)),t)),a.mergeMap(r=>[new l.TripSearchAction({tripResponse:r,tripRequest:t}),new c.MapTripAction({trip:null==r?void 0:r.journeys[0]}),new c.MapTripLegAction({mapLeg:this.windowRef.isMobileView()&&(null==r?void 0:r.journeys[0])?{leg:r.journeys[0].legs[0],index:0}:null}),new u.TripHistoryAction(e?this.getHistoryData(e):null),new l.TransportFilterAction({filter:n}),new l.ChangeTripSpeedCycleAction({tripSpeedCycle:Number(t.preferences.cycleSpeed)})]),a.catchError(e=>(this.tripServiceErrorHandler.handleError(e,t),o.NEVER)),a.takeUntil(this.actions.pipe(i.ofType(l.TripActionTypes.CLEAR_TRIP))))))),this.getTime=()=>h().toISOString()}getHistoryData(t){const e=t=>"current_location"===t.type?t.type:t.fullName.replace(/\s+/g,"");return{tripHistory:{trip:{fromLocation:t.fromLocation,toLocation:t.toLocation},id:e(t.fromLocation)+e(t.toLocation),isFav:!1,timeStamp:this.getTime()}}}}return t.\u0275fac=function(e){return new(e||t)(f.\u0275\u0275inject(m.Actions),f.\u0275\u0275inject(g.TripService),f.\u0275\u0275inject(y.Store),f.\u0275\u0275inject(_.WindowRef),f.\u0275\u0275inject(v.TripServiceErrorHandler),f.\u0275\u0275inject(b.TrackTripPlannerEventService))},t.\u0275prov=f.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"searchTrip$",void 0),t})()},"6Yv/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalRetailersModule=void 0;const r=n("PCNd"),i=n("SVse"),o=n("Q/jW"),a=n("TswQ"),s=n("Km1n"),c=n("2Vtg"),l=n("Hrlu"),u=n("8Y7J");class p{}e.OpalRetailersModule=p,p.\u0275mod=u.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=u.\u0275\u0275defineInjector({factory:function(t){return new(t||p)},providers:[l.LocationService],imports:[[i.CommonModule,r.SharedModule,s.MatBottomSheetModule,a.TniFormModule,c.TripHistoryModule,o.OpalRetailersRoutingModule]]})},"6eTy":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cpa=function(t,e){var n=(0,r.headingDistanceTo)(t.location,e.location),s=n.distance,c=n.heading,l=s*Math.sin((0,i.degToRad)(c)),u=s*Math.cos((0,i.degToRad)(c)),p={position:{x:0,y:0},vector:{x:t.speed*Math.sin((0,i.degToRad)(t.heading)),y:t.speed*Math.cos((0,i.degToRad)(t.heading))}},d={position:{x:l,y:u},vector:{x:e.speed*Math.sin((0,i.degToRad)(e.heading)),y:e.speed*Math.cos((0,i.degToRad)(e.heading))}};return{time:o(p,d),distance:a(p,d)}},e.cpaTime=o,e.cpaDistance=a;var r=n("RvDl"),i=n("9TDR");function o(t,e){var n=u(t.vector,e.vector),r=s(n,n);return r<1e-8?0:-s(u(t.position,e.position),n)/r}function a(t,e){var n=o(t,e);return function(t){return Math.sqrt(s(t,t))}(u(c(t.position,l(n,t.vector)),c(e.position,l(n,e.vector))))}function s(t,e){return t.x*e.x+t.y*e.y}function c(t,e){return{x:t.x+e.x,y:t.y+e.y}}function l(t,e){return{x:t*e.x,y:t*e.y}}function u(t,e){return{x:t.x-e.x,y:t.y-e.y}}},"6phY":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNavigateLink=e.getWalkSpeed=e.getCycleSpeed=e.getAppViewState=void 0;const r=n("tqRt"),i=n("XSGw"),o=r.createFeatureSelector(i.appViewKey),a=r.createSelector(o,t=>t),s=r.createSelector(o,t=>t.tripSpeedCycle),c=r.createSelector(o,t=>t.tripSpeedWalk),l=r.createSelector(o,t=>t.navigateLink);e.getAppViewState=a,e.getCycleSpeed=s,e.getWalkSpeed=c,e.getNavigateLink=l},"7+OI":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},"79vA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalRetailFilterComponent=void 0;const r=n("8Y7J"),i=n("f44v"),o=n("8Y7J"),a=n("f44v"),s=["topUpChip"],c=["newCardChip"],l=["singleTripChip"];class u{constructor(){this.selectedFilter=new r.EventEmitter,this.selected="topUp"}ngAfterViewChecked(){this.matChipListElementRef.nativeElement.setAttribute("role","tablist"),this.topUpChip._elementRef.nativeElement.tabIndex=this.isDisabled?null:0,this.newCardChip._elementRef.nativeElement.tabIndex=this.isDisabled?null:0,this.singleTripChip._elementRef.nativeElement.tabIndex=this.isDisabled?null:0,this.topUpChip.selected||this.topUpChip._elementRef.nativeElement.setAttribute("aria-selected","false"),this.newCardChip.selected||this.newCardChip._elementRef.nativeElement.setAttribute("aria-selected","false"),this.singleTripChip.selected||this.singleTripChip._elementRef.nativeElement.setAttribute("aria-selected","false")}selectChip(t){this.selectedFilter.emit(t),this.selected=t}}e.OpalRetailFilterComponent=u,u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["tni-opal-retailer-filter"]],viewQuery:function(t,e){var n;1&t&&(o.\u0275\u0275viewQuery(i.MatChipList,!0,r.ElementRef),o.\u0275\u0275viewQuery(s,!0),o.\u0275\u0275viewQuery(c,!0),o.\u0275\u0275viewQuery(l,!0)),2&t&&(o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.matChipListElementRef=n.first),o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.topUpChip=n.first),o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.newCardChip=n.first),o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.singleTripChip=n.first))},outputs:{selectedFilter:"selectedFilter"},decls:13,vars:8,consts:[["multiple","false",1,"mat-chip-list--overflowed",3,"selectable"],["id","trip-transport-filter-tab__top-up","value","topUp",1,"mat-chip__top-up",3,"selected","click","keyup.enter","keyup.space"],["topUpChip","matChip"],["id","trip-transport-filter-tab__new-card","value","newCard",1,"mat-chip__new-card",3,"selected","click","keyup.enter","keyup.space"],["newCardChip","matChip"],["id","trip-transport-filter-tab__single-trip","value","singleTrip",1,"mat-chip__single-trip",3,"selected","click","keyup.enter","keyup.space"],["singleTripChip","matChip"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"mat-chip-list",0),o.\u0275\u0275elementStart(1,"mat-chip",1,2),o.\u0275\u0275listener("click",(function(){return e.selectChip("topUp")}))("keyup.enter",(function(){return e.selectChip("topUp")}))("keyup.space",(function(){return e.selectChip("topUp")})),o.\u0275\u0275elementStart(3,"label"),o.\u0275\u0275text(4,"Top up"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"mat-chip",3,4),o.\u0275\u0275listener("click",(function(){return e.selectChip("newCard")}))("keyup.enter",(function(){return e.selectChip("newCard")}))("keyup.space",(function(){return e.selectChip("newCard")})),o.\u0275\u0275elementStart(7,"label"),o.\u0275\u0275text(8,"New card"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"mat-chip",5,6),o.\u0275\u0275listener("click",(function(){return e.selectChip("singleTrip")}))("keyup.enter",(function(){return e.selectChip("singleTrip")}))("keyup.space",(function(){return e.selectChip("singleTrip")})),o.\u0275\u0275elementStart(11,"label"),o.\u0275\u0275text(12,"Single trip"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("selectable",!e.isDisabled),o.\u0275\u0275attribute("role","tablist"),o.\u0275\u0275advance(1),o.\u0275\u0275property("selected","topUp"===e.selected),o.\u0275\u0275attribute("role","tab"),o.\u0275\u0275advance(4),o.\u0275\u0275property("selected","newCard"===e.selected),o.\u0275\u0275attribute("role","tab"),o.\u0275\u0275advance(4),o.\u0275\u0275property("selected","singleTrip"===e.selected),o.\u0275\u0275attribute("role","tab"))},directives:[a.MatChipList,a.MatChip],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]{padding:20px 0}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:11px;flex:1 0 auto;justify-content:center}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;cursor:pointer}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip.mat-chip-disabled[_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;top:1px;margin:0;padding:0 2px}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:focus:after{opacity:0}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   .mat-chip.mat-standard-chip.mat-chip-selected[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]     mat-chip-list{width:calc(100% + 32px + 32px - 8px);margin-left:-24px}[_nghost-%COMP%]     mat-chip-list .mat-chip-list-wrapper:after{content:"\xa0";width:8px}}@media (orientation:portrait) and (min-width:768px){[_nghost-%COMP%]     mat-chip-list.mat-chip-list--overflowed{width:calc(100% + 48px + 48px - 8px);margin-left:-40px}[_nghost-%COMP%]     mat-chip-list.mat-chip-list--overflowed .mat-chip-list-wrapper:after{content:"\xa0";width:8px}}[_nghost-%COMP%]     mat-chip-list .mat-chip-list-wrapper{margin:10px auto;position:relative;text-align:center}[_nghost-%COMP%]     mat-chip.mat-chip.mat-standard-chip{background-color:#f2f2f2}[_nghost-%COMP%]     tni-icon.tp-icon--selected{fill:#fff}']})},"7BjC":function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[t+" minuti",t+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[t+" tunni",t+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[t+" kuu",t+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[t+" aasta",t+" aastat"]};return e?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}t.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d p\xe4eva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},"7HRe":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("quSY"),o=n("kJWO"),a=n("jZKg"),s=n("Lhse"),c=n("c2HN"),l=n("I55L");function u(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new i.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new i.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new i.a;let o;return r.add(()=>{o&&"function"==typeof o.return&&o.return()}),r.add(e.schedule(()=>{o=t[s.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=o.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));let r=1;const i=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const s={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=s.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(s.clearImmediate(e),t.scheduled=void 0)}}var u=n("IjjT");class p extends u.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new p(l)},"7P/m":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAP_OPTIONS_DISPLAY_NAME_TO_TEXT_MAP=e.MAP_OPTIONS_DISPLAY=e.INIT_MAP_OPTIONS=e.OPAL_RETAILER_TO_PUBLIC_TRANSPORT_MAP_OPTIONS=e.OPAL_MAP_OPTIONS=e.DEFAULT_MAP_OPTIONS_PUBLIC_TRANSPORT=e.DEFAULT_MAP_OPTIONS_WALK=e.DEFAULT_MAP_OPTIONS_CYCLE=e.MapOptionsIconType=void 0;var r=e.MapOptionsIconType=function(t){return t[t.Icon=0]="Icon",t[t.Image=1]="Image",t}(e.MapOptionsIconType||{});e.DEFAULT_MAP_OPTIONS_CYCLE={stops:!1,opal:!1,poi:!1,bikeOnly:!0,bikeNoAccess:!0,sharedPath:!0,walkOnly:!1,bikeLocker:!0,bikeShed:!0},e.DEFAULT_MAP_OPTIONS_WALK={stops:!1,opal:!1,poi:!1,bikeOnly:!1,bikeNoAccess:!1,sharedPath:!0,walkOnly:!0,bikeLocker:!1,bikeShed:!1},e.DEFAULT_MAP_OPTIONS_PUBLIC_TRANSPORT={stops:!0,opal:!1,poi:!1,bikeOnly:!1,bikeNoAccess:!1,sharedPath:!1,walkOnly:!1,bikeLocker:!1,bikeShed:!1},e.OPAL_MAP_OPTIONS={stops:!1,opal:!0,poi:!1,bikeOnly:!1,bikeNoAccess:!1,sharedPath:!1,walkOnly:!1,bikeLocker:!1,bikeShed:!1},e.OPAL_RETAILER_TO_PUBLIC_TRANSPORT_MAP_OPTIONS={stops:!0,opal:!0,poi:!1,bikeOnly:!1,bikeNoAccess:!1,sharedPath:!1,walkOnly:!1,bikeLocker:!1,bikeShed:!1},e.INIT_MAP_OPTIONS={stops:!1,opal:!1,poi:!1,bikeOnly:!1,bikeNoAccess:!1,sharedPath:!1,walkOnly:!1,bikeLocker:!1,bikeShed:!1},e.MAP_OPTIONS_DISPLAY=[{heading:"General",options:[{name:"stops",text:"Public transport stops",icon:{type:r.Icon,name:"stop"}},{name:"poi",text:"Points of interest",icon:{type:r.Icon,name:"poi"}},{name:"opal",text:"Opal",icon:{type:r.Image,name:"opal-icon.png"}}]},{heading:"Bike riding and walking",options:[{name:"bikeOnly",text:"Bike riding access",icon:{type:r.Icon,name:"bike_access",classes:"icon-bikeAccess"}},{name:"bikeNoAccess",text:"No bike access",icon:{type:r.Icon,name:"bike_no_access",classes:"icon-noBikeAccess"}},{name:"sharedPath",text:"Shared bike and walk path",icon:{type:r.Icon,name:"shared_path"}},{name:"walkOnly",text:"Walking path",icon:{type:r.Icon,name:"walking_path",classes:"icon-walkOnly"}}]},{heading:"Bike parking",options:[{name:"bikeLocker",text:"Bike lockers",icon:{type:r.Icon,name:"bicycle_locker",classes:"icon-primary"}},{name:"bikeShed",text:"Bike sheds",icon:{type:r.Icon,name:"bicycle_shed",classes:"icon-primary"}}]}],e.MAP_OPTIONS_DISPLAY_NAME_TO_TEXT_MAP=e.MAP_OPTIONS_DISPLAY.flatMap(t=>t.options).reduce((t,e)=>Object.assign(Object.assign({},t),{[e.name]:e.text}),{})},"7aV9":function(t,e,n){!function(t){"use strict";t.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(t){return t+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(t){return"\u0db4.\u0dc0."===t||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===t},meridiem:function(t,e,n){return t>11?n?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":n?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(n("wd/R"))},"7bNT":function(t,e,n){"use strict";n.r(e),n.d(e,"Actions",(function(){return D})),n.d(e,"EFFECTS_ERROR_HANDLER",(function(){return H})),n.d(e,"Effect",(function(){return E})),n.d(e,"EffectSources",(function(){return W})),n.d(e,"EffectsFeatureModule",(function(){return K})),n.d(e,"EffectsModule",(function(){return Z})),n.d(e,"EffectsRootModule",(function(){return $})),n.d(e,"EffectsRunner",(function(){return X})),n.d(e,"ROOT_EFFECTS_INIT",(function(){return G})),n.d(e,"USER_PROVIDED_EFFECTS",(function(){return j})),n.d(e,"act",(function(){return et})),n.d(e,"createEffect",(function(){return w})),n.d(e,"defaultEffectsErrorHandler",(function(){return I})),n.d(e,"getEffectsMetadata",(function(){return P})),n.d(e,"mergeEffects",(function(){return k})),n.d(e,"ofType",(function(){return N})),n.d(e,"rootEffectsInit",(function(){return J})),n.d(e,"\u0275a",(function(){return L})),n.d(e,"\u0275b",(function(){return Q})),n.d(e,"\u0275c",(function(){return tt})),n.d(e,"\u0275d",(function(){return F})),n.d(e,"\u0275e",(function(){return B})),n.d(e,"\u0275f",(function(){return q})),n.d(e,"\u0275g",(function(){return V})),n.d(e,"\u0275h",(function(){return Y}));var r=n("tqRt"),i=n("VRyK"),o=n("HDdC"),a=n("XNiG"),s=n("NXyV"),c=n("WMd4"),l=n("4A3s"),u=n("dkDA"),p=n("lJxs"),d=n("JIr8"),h=n("pLZG"),f=n("OQgR"),m=n("5+tZ"),g=n("XqQ8"),y=n("kgNN"),_=n("IzEk"),v=n("bOdf"),b=n("nYR2"),M=n("8Y7J");const x={dispatch:!0,useEffectsErrorHandler:!0};function w(t,e){const n=t(),r=Object.assign(Object.assign({},x),e);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:r}),n}function C(t){return Object.getOwnPropertyNames(t).filter(e=>t[e]&&t[e].hasOwnProperty("__@ngrx/effects_create__")).map(e=>Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"]))}function S(t){return Object.getPrototypeOf(t)}function E(t={}){return function(e,n){var r,i;r=e,i=Object.assign(Object.assign(Object.assign({},x),t),{propertyName:n}),O(r)?r.constructor["__@ngrx/effects__"].push(i):Object.defineProperty(r.constructor,"__@ngrx/effects__",{value:[i]})}}function T(t){return Object(r.compose)(A,S)(t)}function O(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}function A(t){return O(t)?t.constructor["__@ngrx/effects__"]:[]}function P(t){return L(t).reduce((t,{propertyName:e,dispatch:n,useEffectsErrorHandler:r})=>(t[e]={dispatch:n,useEffectsErrorHandler:r},t),{})}function L(t){return[T,C].reduce((e,n)=>e.concat(n(t)),[])}function k(t,e,n){const r=S(t).constructor.name,o=L(t).map(({propertyName:i,dispatch:o,useEffectsErrorHandler:a})=>{const s="function"==typeof t[i]?t[i]():t[i],c=a?n(s,e):s;return!1===o?c.pipe(Object(l.a)()):c.pipe(Object(u.a)()).pipe(Object(p.a)(e=>({effect:t[i],notification:e,propertyName:i,sourceName:r,sourceInstance:t})))});return Object(i.a)(...o)}function I(t,e,n=10){return t.pipe(Object(d.a)(r=>(e&&e.handleError(r),n<=1?t:I(t,e,n-1))))}let D=(()=>{class t extends o.a{constructor(t){super(),t&&(this.source=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}}return t.\u0275fac=function(e){return new(e||t)(M["\u0275\u0275inject"](r.ScannedActionsSubject))},t.\u0275prov=M["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function N(...t){return Object(h.a)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function R(t){return z(t,"ngrxOnInitEffects")}function z(t,e){return t&&e in t&&"function"==typeof t[e]}const F=new M.InjectionToken("@ngrx/effects Internal Root Guard"),j=new M.InjectionToken("ngrx/effects: User Provided Effects"),B=new M.InjectionToken("ngrx/effects: Internal Root Effects"),q=new M.InjectionToken("ngrx/effects: Root Effects"),V=new M.InjectionToken("ngrx/effects: Internal Feature Effects"),Y=new M.InjectionToken("ngrx/effects: Feature Effects"),H=new M.InjectionToken("ngrx/effects: Effects Error Handler");let W=(()=>{class t extends a.a{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(Object(f.b)(S),Object(m.a)(t=>t.pipe(Object(f.b)(U))),Object(m.a)(t=>{const e=t.pipe(Object(g.a)(t=>{return(e=this.errorHandler,n=this.effectsErrorHandler,t=>{const r=k(t,e,n);return z(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(r):r})(t);var e,n}),Object(p.a)(t=>(function(t,e){if("N"===t.notification.kind){const n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:n}){const r="function"==typeof e[t];return`"${n}.${String(t)}${r?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(e){return t}}(n)}`))}}(t,this.errorHandler),t.notification)),Object(h.a)(t=>"N"===t.kind),Object(y.a)()),n=t.pipe(Object(_.a)(1),Object(h.a)(R),Object(p.a)(t=>t.ngrxOnInitEffects()));return Object(i.a)(e,n)}))}}return t.\u0275fac=function(e){return new(e||t)(M["\u0275\u0275inject"](M.ErrorHandler),M["\u0275\u0275inject"](H))},t.\u0275prov=M["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function U(t){return z(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}let X=(()=>{class t{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(M["\u0275\u0275inject"](W),M["\u0275\u0275inject"](r.Store))},t.\u0275prov=M["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const G="@ngrx/effects/init",J=Object(r.createAction)(G);let $=(()=>{class t{constructor(t,e,n,r,i,o,a){this.sources=t,e.start(),r.forEach(e=>t.addEffects(e)),n.dispatch({type:G})}addEffects(t){this.sources.addEffects(t)}}return t.\u0275mod=M["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=M["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(M["\u0275\u0275inject"](W),M["\u0275\u0275inject"](X),M["\u0275\u0275inject"](r.Store),M["\u0275\u0275inject"](q),M["\u0275\u0275inject"](r.StoreRootModule,8),M["\u0275\u0275inject"](r.StoreFeatureModule,8),M["\u0275\u0275inject"](F,8))}}),t})(),K=(()=>{class t{constructor(t,e,n,r){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}return t.\u0275mod=M["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=M["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(M["\u0275\u0275inject"]($),M["\u0275\u0275inject"](Y),M["\u0275\u0275inject"](r.StoreRootModule,8),M["\u0275\u0275inject"](r.StoreFeatureModule,8))}}),t})(),Z=(()=>{class t{static forFeature(t=[]){return{ngModule:K,providers:[t,{provide:V,multi:!0,useValue:t},{provide:j,multi:!0,useValue:[]},{provide:Y,multi:!0,useFactory:Q,deps:[M.Injector,V,j]}]}}static forRoot(t=[]){return{ngModule:$,providers:[{provide:F,useFactory:tt,deps:[[X,new M.Optional,new M.SkipSelf]]},{provide:H,useValue:I},X,W,D,t,{provide:B,useValue:[t]},{provide:j,multi:!0,useValue:[]},{provide:q,useFactory:Q,deps:[M.Injector,B,j]}]}}}return t.\u0275mod=M["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=M["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})();function Q(t,e,n){const r=[];for(let i of e)r.push(...i);for(let i of n)r.push(...i);return function(t,e){return e.map(e=>t.get(e))}(t,r)}function tt(t){if(t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}function et(t,e){const{project:n,error:r,complete:o,operator:l,unsubscribe:d}="function"==typeof t?{project:t,error:e,operator:v.a,complete:void 0,unsubscribe:void 0}:Object.assign(Object.assign({},t),{operator:t.operator||v.a});return t=>Object(s.a)(()=>{const e=new a.a;return Object(i.a)(t.pipe(l((t,i)=>Object(s.a)(()=>{let a=!1,s=!1,l=0;return n(t,i).pipe(Object(u.a)(),Object(p.a)(e=>{switch(e.kind){case"E":return s=!0,new c.a("N",r(e.error,t));case"C":return a=!0,o?new c.a("N",o(l,t)):void 0;default:return++l,e}}),Object(h.a)(t=>null!=t),Object(y.a)(),Object(b.a)(()=>{a||s||!d||e.next(d(l,t))}))}))),e)})}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),c=n("NJ4a");class l extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[a.a](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,o){let a;super(),this._parentSubscriber=t;let s=this;Object(r.a)(e)?a=e:e&&(a=e.next,n=e.error,o=e.complete,e!==i.a&&(s=Object.create(e),Object(r.a)(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=a,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"7rOj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("mrSG");r.__exportStar(n("J6Ds"),e),r.__exportStar(n("Ht1M"),e),r.__exportStar(n("ZBcq"),e),r.__exportStar(n("hZer"),e),r.__exportStar(n("KJxU"),e),r.__exportStar(n("+YVj"),e),r.__exportStar(n("ALoK"),e)},"8/+R":function(t,e,n){!function(t){"use strict";var e={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},n={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};t.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(t){return t.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0a30\u0a3e\u0a24"===e?t<4?t:t+12:"\u0a38\u0a35\u0a47\u0a30"===e?t:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===e?t>=10?t:t+12:"\u0a38\u0a3c\u0a3e\u0a2e"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0a30\u0a3e\u0a24":t<10?"\u0a38\u0a35\u0a47\u0a30":t<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":t<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(n("wd/R"))},"81Uo":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("KQMD"),a=n("kU1M"),s=n("KQMD"),c=n("qCKp"),l=n("wd/R"),u=n("8Y7J"),p=n("7bNT"),d=n("qwcM"),h=n("h6C5"),f=n("9sYg");e.DepartureEffects=(()=>{class t{constructor(t,e,n,r){this.action$=t,this.departureSearchService=e,this.servingLinesService=n,this.errorHandler=r,this.searchDepartures$=this.action$.pipe(i.ofType(o.DeparturesActionTypes.SearchDepartures),a.map(t=>({departuresRequest:t.payload.departuresRequest,departure:t.payload.departuresForm,isRefresh:t.payload.isRefresh,selectedIndex:t.payload.selectedIndex,refreshDepartures:t.payload.refreshDepartures})),a.switchMap(({departuresRequest:t,departure:e,isRefresh:n,selectedIndex:r,refreshDepartures:l})=>c.forkJoin([this.departureSearchService.search(t),(null==t?void 0:t.destStopFilter)&&!n?this.servingLinesService.get(null==t?void 0:t.name,null==t?void 0:t.destStopFilter):c.of([])]).pipe(a.map(([n,r])=>{var i;return[n.stopEvents.map(n=>Object.assign(Object.assign(Object.assign({},n),t.destStopFilter&&{destStopFilter:t.destStopFilter}),e.toLocation&&{suburb:e.toLocation.suburb()})),this._getModesByServingLinesOrDepartures(r,null==t?void 0:t.destStopFilter,null===(i=n.locations[0])||void 0===i?void 0:i.assignedStops[0].modes)]}),a.mergeMap(([i,a])=>i.length>0?[new o.DeparturesResponseAction({stopEvents:i.sort(this.sortStopEvents),isRefresh:!this._checkIfAnyTripIsAddedOrRemoved(i,l)&&n}),new s.DeparturesHistoryAction(this.getHistoryData(t,e)),new o.DeparturesDetailAction({departureReq:t,departure:i[r||0],isRefresh:n}),n?new o.DeparturesNoOpAction:new o.SetDepartureModesByLinesAction({modes:a}),new s.DeparturesRefreshAction({departuresRequest:t,departuresForm:e})]:[new o.DeparturesResponseAction({stopEvents:i,isRefresh:n}),n?new o.DeparturesNoOpAction:new o.SetDepartureModesByLinesAction({modes:a}),new s.DeparturesRefreshAction({departuresRequest:t,departuresForm:e})]),a.catchError(n=>(this.errorHandler.handleDeparturesError(n,t,e),c.NEVER)),a.takeUntil(this.action$.pipe(i.ofType(o.DeparturesActionTypes.ClearDepartures))))))}sortStopEvents(t,e){return t.departureTimeEstimated&&e.departureTimeEstimated?t.departureTimeEstimated<e.departureTimeEstimated?-1:1:t.departureTimePlanned<e.departureTimePlanned?-1:1}_checkIfAnyTripIsAddedOrRemoved(t,e){if(!e||0===e.length)return!1;const n=t.filter(t=>-1===(null==e?void 0:e.findIndex(e=>e.id===t.id))),r=null==e?void 0:e.filter(e=>-1===t.findIndex(t=>t.id===e.id));return(null==n?void 0:n.length)>0||(null==r?void 0:r.length)>0}_getModesByServingLinesOrDepartures(t,e,n){const r=t.map(t=>{var e;return null===(e=t.product)||void 0===e?void 0:e.iconId});return e&&t.length>0?r.filter((t,e)=>r.indexOf(t)===e):e?[]:n||[]}getHistoryData(t,e){const n=t=>"current_location"===(null==t?void 0:t.type)?null==t?void 0:t.type:null==t?void 0:t.fullName.replace(/\s+/g,"");return{departureHistory:{departure:{fromLocation:e.fromLocation,toLocation:e.toLocation},id:n(e.fromLocation)+n(e.toLocation)+t.accessible,isAccessible:t.accessible,isFav:!1,timeStamp:l().toISOString()}}}}return t.\u0275fac=function(e){return new(e||t)(u.\u0275\u0275inject(p.Actions),u.\u0275\u0275inject(d.DeparturesSearchService),u.\u0275\u0275inject(h.ServingLinesService),u.\u0275\u0275inject(f.TripServiceErrorHandler))},t.\u0275prov=u.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"searchDepartures$",void 0),t})()},"87t5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapConfigService=void 0;const r=n("B04L"),i=n("RNDk"),o=n("iFc6"),a=n("8Y7J"),s=n("tqRt");class c{constructor(t){this.stateStore=t,this.trackingLocation=!1,this.zoomedInCurrentMarker=!1,this.getCurrentRoute=()=>this.currentRoute,this.mapTypesByUrl={"Interactive Map":"changes-by-mode"}}getMapType(t){let e;return Object.keys(this.mapTypesByUrl).forEach(n=>{t.match(this.mapTypesByUrl[n])&&(e=n)}),e}initialiseMapOnRouteChange(){this.stateStore.select(r.getRouteUrl).subscribe(t=>{let e=[];this.currentRoute=t,t===o.TniConstant.ROUTE_PATHS.OPAL_RETAILERS&&(e=[...e,o.TniConstant.MAPBOX_CONSTANTS.mapbox_retailer_layer_id]),this.stateStore.dispatch(new i.ShowLayerOnMapAction({layers:e}))})}showMapOptions(t,e){this.stateStore.dispatch(new i.DisplayMapOptionsAction({display:t,mapSource:e}))}}e.MapConfigService=c,c.\u0275fac=function(t){return new(t||c)(a.\u0275\u0275inject(s.Store))},c.\u0275prov=a.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac})},"8LU1":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return o}));var r=n("8Y7J");function i(t){return null!=t&&""+t!="false"}function o(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function a(t){return Array.isArray(t)?t:[t]}function s(t){return null==t?"":"string"==typeof t?t:t+"px"}function c(t){return t instanceof r.ElementRef?t.nativeElement:t}},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}},"8Y7J":function(t,e,n){"use strict";n.r(e),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",(function(){return Ps})),n.d(e,"APP_BOOTSTRAP_LISTENER",(function(){return Zg})),n.d(e,"APP_ID",(function(){return Ug})),n.d(e,"APP_INITIALIZER",(function(){return Hg})),n.d(e,"ApplicationInitStatus",(function(){return Wg})),n.d(e,"ApplicationModule",(function(){return N_})),n.d(e,"ApplicationRef",(function(){return Jy})),n.d(e,"Attribute",(function(){return w})),n.d(e,"COMPILER_OPTIONS",(function(){return _y})),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",(function(){return cr})),n.d(e,"ChangeDetectionStrategy",(function(){return kt})),n.d(e,"ChangeDetectorRef",(function(){return xa})),n.d(e,"Compiler",(function(){return yy})),n.d(e,"CompilerFactory",(function(){return vy})),n.d(e,"Component",(function(){return Ag})),n.d(e,"ComponentFactory",(function(){return ap})),n.d(e,"ComponentFactoryResolver",(function(){return up})),n.d(e,"ComponentRef",(function(){return op})),n.d(e,"ContentChild",(function(){return Is})),n.d(e,"ContentChildren",(function(){return ks})),n.d(e,"DEFAULT_CURRENCY_CODE",(function(){return ny})),n.d(e,"DebugElement",(function(){return T_})),n.d(e,"DebugEventListener",(function(){return c_})),n.d(e,"DebugNode",(function(){return E_})),n.d(e,"DefaultIterableDiffer",(function(){return Ep})),n.d(e,"Directive",(function(){return Og})),n.d(e,"ElementRef",(function(){return hp})),n.d(e,"EmbeddedViewRef",(function(){return s_})),n.d(e,"ErrorHandler",(function(){return sr})),n.d(e,"EventEmitter",(function(){return wm})),n.d(e,"Host",(function(){return M})),n.d(e,"HostBinding",(function(){return Ig})),n.d(e,"HostListener",(function(){return Dg})),n.d(e,"INJECTOR",(function(){return ot})),n.d(e,"Inject",(function(){return y})),n.d(e,"InjectFlags",(function(){return C})),n.d(e,"Injectable",(function(){return Va})),n.d(e,"InjectionToken",(function(){return it})),n.d(e,"Injector",(function(){return ss})),n.d(e,"Input",(function(){return Lg})),n.d(e,"IterableDiffers",(function(){return Dp})),n.d(e,"KeyValueDiffers",(function(){return Np})),n.d(e,"LOCALE_ID",(function(){return ey})),n.d(e,"MissingTranslationStrategy",(function(){return oy})),n.d(e,"ModuleWithComponentFactories",(function(){return cy})),n.d(e,"NO_ERRORS_SCHEMA",(function(){return lr})),n.d(e,"NgModule",(function(){return qg})),n.d(e,"NgModuleFactory",(function(){return xt})),n.d(e,"NgModuleFactoryLoader",(function(){return Ky})),n.d(e,"NgModuleRef",(function(){return Mt})),n.d(e,"NgProbeToken",(function(){return qy})),n.d(e,"NgZone",(function(){return xy})),n.d(e,"Optional",(function(){return _})),n.d(e,"Output",(function(){return kg})),n.d(e,"PACKAGE_ROOT_URL",(function(){return Qg})),n.d(e,"PLATFORM_ID",(function(){return Kg})),n.d(e,"PLATFORM_INITIALIZER",(function(){return $g})),n.d(e,"Pipe",(function(){return Pg})),n.d(e,"PlatformRef",(function(){return Xy})),n.d(e,"Query",(function(){return Ls})),n.d(e,"QueryList",(function(){return Sm})),n.d(e,"ReflectiveInjector",(function(){return Os})),n.d(e,"ReflectiveKey",(function(){return ds})),n.d(e,"Renderer2",(function(){return _p})),n.d(e,"RendererFactory2",(function(){return gp})),n.d(e,"RendererStyleFlags2",(function(){return yp})),n.d(e,"ResolvedReflectiveFactory",(function(){return bs})),n.d(e,"Sanitizer",(function(){return Mp})),n.d(e,"SecurityContext",(function(){return Qr})),n.d(e,"Self",(function(){return v})),n.d(e,"SimpleChange",(function(){return se})),n.d(e,"SkipSelf",(function(){return b})),n.d(e,"SystemJsNgModuleLoader",(function(){return i_})),n.d(e,"SystemJsNgModuleLoaderConfig",(function(){return n_})),n.d(e,"TRANSLATIONS",(function(){return ry})),n.d(e,"TRANSLATIONS_FORMAT",(function(){return iy})),n.d(e,"TemplateRef",(function(){return jp})),n.d(e,"Testability",(function(){return Py})),n.d(e,"TestabilityRegistry",(function(){return Ly})),n.d(e,"Type",(function(){return Sa})),n.d(e,"VERSION",(function(){return wp})),n.d(e,"Version",(function(){return xp})),n.d(e,"ViewChild",(function(){return Ns})),n.d(e,"ViewChildren",(function(){return Ds})),n.d(e,"ViewContainerRef",(function(){return Vp})),n.d(e,"ViewEncapsulation",(function(){return Nt})),n.d(e,"ViewRef",(function(){return a_})),n.d(e,"WrappedValue",(function(){return Us})),n.d(e,"asNativeElements",(function(){return p_})),n.d(e,"assertPlatform",(function(){return Hy})),n.d(e,"createPlatform",(function(){return Vy})),n.d(e,"createPlatformFactory",(function(){return Yy})),n.d(e,"defineInjectable",(function(){return O})),n.d(e,"destroyPlatform",(function(){return Wy})),n.d(e,"enableProdMode",(function(){return Tr})),n.d(e,"forwardRef",(function(){return q})),n.d(e,"getDebugNode",(function(){return x_})),n.d(e,"getModuleFactory",(function(){return t_})),n.d(e,"getPlatform",(function(){return Uy})),n.d(e,"inject",(function(){return gt})),n.d(e,"isDevMode",(function(){return Er})),n.d(e,"platformCore",(function(){return O_})),n.d(e,"resolveForwardRef",(function(){return V})),n.d(e,"setTestabilityGetter",(function(){return Iy})),n.d(e,"\u02750",(function(){return g})),n.d(e,"\u02751",(function(){return x})),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",(function(){return By})),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",(function(){return Gg})),n.d(e,"\u0275ChangeDetectorStatus",(function(){return It})),n.d(e,"\u0275CodegenComponentFactoryResolver",(function(){return pp})),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",(function(){return my})),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",(function(){return hy})),n.d(e,"\u0275Compiler_compileModuleAsync__POST_R3__",(function(){return py})),n.d(e,"\u0275Compiler_compileModuleSync__POST_R3__",(function(){return ly})),n.d(e,"\u0275ComponentFactory",(function(){return ap})),n.d(e,"\u0275Console",(function(){return ty})),n.d(e,"\u0275DEFAULT_LOCALE_ID",(function(){return Zh})),n.d(e,"\u0275EMPTY_ARRAY",(function(){return zd})),n.d(e,"\u0275EMPTY_MAP",(function(){return Fd})),n.d(e,"\u0275INJECTOR_IMPL__POST_R3__",(function(){return os})),n.d(e,"\u0275INJECTOR_SCOPE",(function(){return Wa})),n.d(e,"\u0275LifecycleHooksFeature",(function(){return Bu})),n.d(e,"\u0275LocaleDataIndex",(function(){return $h})),n.d(e,"\u0275NG_COMP_DEF",(function(){return K})),n.d(e,"\u0275NG_DIR_DEF",(function(){return Z})),n.d(e,"\u0275NG_ELEMENT_ID",(function(){return rt})),n.d(e,"\u0275NG_INJ_DEF",(function(){return D})),n.d(e,"\u0275NG_MOD_DEF",(function(){return tt})),n.d(e,"\u0275NG_PIPE_DEF",(function(){return Q})),n.d(e,"\u0275NG_PROV_DEF",(function(){return I})),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",(function(){return Ah})),n.d(e,"\u0275NO_CHANGE",(function(){return Li})),n.d(e,"\u0275NgModuleFactory",(function(){return Zf})),n.d(e,"\u0275NoopNgZone",(function(){return Ay})),n.d(e,"\u0275ReflectionCapabilities",(function(){return La})),n.d(e,"\u0275Render3ComponentFactory",(function(){return jh})),n.d(e,"\u0275Render3ComponentRef",(function(){return Bh})),n.d(e,"\u0275Render3NgModuleRef",(function(){return Kf})),n.d(e,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",(function(){return wa})),n.d(e,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",(function(){return Ng})),n.d(e,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",(function(){return Rg})),n.d(e,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",(function(){return Ya})),n.d(e,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",(function(){return Vg})),n.d(e,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",(function(){return zg})),n.d(e,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",(function(){return fp})),n.d(e,"\u0275SWITCH_IVY_ENABLED__POST_R3__",(function(){return ay})),n.d(e,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",(function(){return vp})),n.d(e,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",(function(){return Bp})),n.d(e,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",(function(){return Yp})),n.d(e,"\u0275_sanitizeHtml",(function(){return Kr})),n.d(e,"\u0275_sanitizeUrl",(function(){return Ir})),n.d(e,"\u0275allowSanitizationBypassAndThrow",(function(){return yr})),n.d(e,"\u0275and",(function(){return R_})),n.d(e,"\u0275angular_packages_core_core_a",(function(){return Y})),n.d(e,"\u0275angular_packages_core_core_b",(function(){return ht})),n.d(e,"\u0275angular_packages_core_core_ba",(function(){return ke})),n.d(e,"\u0275angular_packages_core_core_bb",(function(){return Re})),n.d(e,"\u0275angular_packages_core_core_bc",(function(){return je})),n.d(e,"\u0275angular_packages_core_core_bd",(function(){return We})),n.d(e,"\u0275angular_packages_core_core_be",(function(){return ln})),n.d(e,"\u0275angular_packages_core_core_bg",(function(){return um})),n.d(e,"\u0275angular_packages_core_core_bh",(function(){return pm})),n.d(e,"\u0275angular_packages_core_core_bi",(function(){return dm})),n.d(e,"\u0275angular_packages_core_core_bj",(function(){return hm})),n.d(e,"\u0275angular_packages_core_core_bk",(function(){return fm})),n.d(e,"\u0275angular_packages_core_core_bl",(function(){return oi})),n.d(e,"\u0275angular_packages_core_core_bm",(function(){return f})),n.d(e,"\u0275angular_packages_core_core_bn",(function(){return m})),n.d(e,"\u0275angular_packages_core_core_bo",(function(){return S})),n.d(e,"\u0275angular_packages_core_core_bq",(function(){return c})),n.d(e,"\u0275angular_packages_core_core_br",(function(){return Ii})),n.d(e,"\u0275angular_packages_core_core_c",(function(){return vt})),n.d(e,"\u0275angular_packages_core_core_d",(function(){return As})),n.d(e,"\u0275angular_packages_core_core_e",(function(){return ys})),n.d(e,"\u0275angular_packages_core_core_f",(function(){return ws})),n.d(e,"\u0275angular_packages_core_core_g",(function(){return Xg})),n.d(e,"\u0275angular_packages_core_core_h",(function(){return _a})),n.d(e,"\u0275angular_packages_core_core_i",(function(){return va})),n.d(e,"\u0275angular_packages_core_core_j",(function(){return Zy})),n.d(e,"\u0275angular_packages_core_core_k",(function(){return l_})),n.d(e,"\u0275angular_packages_core_core_l",(function(){return u_})),n.d(e,"\u0275angular_packages_core_core_m",(function(){return w_})),n.d(e,"\u0275angular_packages_core_core_n",(function(){return Cp})),n.d(e,"\u0275angular_packages_core_core_o",(function(){return Lp})),n.d(e,"\u0275angular_packages_core_core_p",(function(){return A_})),n.d(e,"\u0275angular_packages_core_core_q",(function(){return P_})),n.d(e,"\u0275angular_packages_core_core_r",(function(){return L_})),n.d(e,"\u0275angular_packages_core_core_s",(function(){return I_})),n.d(e,"\u0275angular_packages_core_core_t",(function(){return D_})),n.d(e,"\u0275angular_packages_core_core_u",(function(){return Qh})),n.d(e,"\u0275angular_packages_core_core_v",(function(){return xh})),n.d(e,"\u0275angular_packages_core_core_w",(function(){return ed})),n.d(e,"\u0275angular_packages_core_core_x",(function(){return le})),n.d(e,"\u0275angular_packages_core_core_y",(function(){return Fh})),n.d(e,"\u0275angular_packages_core_core_z",(function(){return Xn})),n.d(e,"\u0275bypassSanitizationTrustHtml",(function(){return vr})),n.d(e,"\u0275bypassSanitizationTrustResourceUrl",(function(){return wr})),n.d(e,"\u0275bypassSanitizationTrustScript",(function(){return Mr})),n.d(e,"\u0275bypassSanitizationTrustStyle",(function(){return br})),n.d(e,"\u0275bypassSanitizationTrustUrl",(function(){return xr})),n.d(e,"\u0275ccf",(function(){return Kd})),n.d(e,"\u0275clearOverrides",(function(){return ub})),n.d(e,"\u0275clearResolutionOfComponentResourcesQueue",(function(){return Bs})),n.d(e,"\u0275cmf",(function(){return pb})),n.d(e,"\u0275compileComponent",(function(){return pg})),n.d(e,"\u0275compileDirective",(function(){return dg})),n.d(e,"\u0275compileNgModule",(function(){return eg})),n.d(e,"\u0275compileNgModuleDefs",(function(){return ng})),n.d(e,"\u0275compileNgModuleFactory__POST_R3__",(function(){return zy})),n.d(e,"\u0275compilePipe",(function(){return Eg})),n.d(e,"\u0275createInjector",(function(){return Ka})),n.d(e,"\u0275crt",(function(){return sd})),n.d(e,"\u0275defaultIterableDiffers",(function(){return zp})),n.d(e,"\u0275defaultKeyValueDiffers",(function(){return Fp})),n.d(e,"\u0275detectChanges",(function(){return bc})),n.d(e,"\u0275devModeEqual",(function(){return Ws})),n.d(e,"\u0275did",(function(){return vh})),n.d(e,"\u0275eld",(function(){return z_})),n.d(e,"\u0275findLocaleData",(function(){return Wh})),n.d(e,"\u0275flushModuleScopingQueueAsMuchAsPossible",(function(){return Qm})),n.d(e,"\u0275getComponentViewDefinitionFactory",(function(){return Zd})),n.d(e,"\u0275getDebugNodeR2",(function(){return C_})),n.d(e,"\u0275getDebugNode__POST_R3__",(function(){return M_})),n.d(e,"\u0275getDirectives",(function(){return Eu})),n.d(e,"\u0275getHostElement",(function(){return Ou})),n.d(e,"\u0275getInjectableDef",(function(){return P})),n.d(e,"\u0275getLContext",(function(){return ui})),n.d(e,"\u0275getLocaleCurrencyCode",(function(){return Uh})),n.d(e,"\u0275getLocalePluralCase",(function(){return Xh})),n.d(e,"\u0275getModuleFactory__POST_R3__",(function(){return Qy})),n.d(e,"\u0275getSanitizationBypassType",(function(){return _r})),n.d(e,"\u0275global",(function(){return G})),n.d(e,"\u0275initServicesIfNeeded",(function(){return Sv})),n.d(e,"\u0275inlineInterpolate",(function(){return Nd})),n.d(e,"\u0275interpolate",(function(){return Dd})),n.d(e,"\u0275isBoundToModule__POST_R3__",(function(){return jy})),n.d(e,"\u0275isDefaultChangeDetectionStrategy",(function(){return Dt})),n.d(e,"\u0275isListLikeIterable",(function(){return Xs})),n.d(e,"\u0275isObservable",(function(){return Fc})),n.d(e,"\u0275isPromise",(function(){return zc})),n.d(e,"\u0275ivyEnabled",(function(){return sy})),n.d(e,"\u0275makeDecorator",(function(){return d})),n.d(e,"\u0275markDirty",(function(){return Mc})),n.d(e,"\u0275mod",(function(){return Hd})),n.d(e,"\u0275mpd",(function(){return Yd})),n.d(e,"\u0275ncd",(function(){return X_})),n.d(e,"\u0275nov",(function(){return lh})),n.d(e,"\u0275overrideComponentView",(function(){return lb})),n.d(e,"\u0275overrideProvider",(function(){return cb})),n.d(e,"\u0275pad",(function(){return $_})),n.d(e,"\u0275patchComponentDefWithScope",(function(){return sg})),n.d(e,"\u0275pid",(function(){return bh})),n.d(e,"\u0275pod",(function(){return K_})),n.d(e,"\u0275ppd",(function(){return J_})),n.d(e,"\u0275prd",(function(){return Mh})),n.d(e,"\u0275publishDefaultGlobalUtils",(function(){return Du})),n.d(e,"\u0275publishGlobalUtil",(function(){return Nu})),n.d(e,"\u0275qud",(function(){return V_})),n.d(e,"\u0275registerLocaleData",(function(){return Hh})),n.d(e,"\u0275registerModuleFactory",(function(){return Xf})),n.d(e,"\u0275registerNgModuleType",(function(){return Jf})),n.d(e,"\u0275renderComponent",(function(){return Ru})),n.d(e,"\u0275resetCompiledComponents",(function(){return og})),n.d(e,"\u0275resetJitOptions",(function(){return Jm})),n.d(e,"\u0275resolveComponentResources",(function(){return Rs})),n.d(e,"\u0275setClassMetadata",(function(){return Wf})),n.d(e,"\u0275setCurrentInjector",(function(){return pt})),n.d(e,"\u0275setDocument",(function(){return fe})),n.d(e,"\u0275setLocaleId",(function(){return Hf})),n.d(e,"\u0275store",(function(){return wc})),n.d(e,"\u0275stringify",(function(){return F})),n.d(e,"\u0275ted",(function(){return Q_})),n.d(e,"\u0275transitiveScopesFor",(function(){return cg})),n.d(e,"\u0275unregisterLocaleData",(function(){return Jh})),n.d(e,"\u0275unv",(function(){return ad})),n.d(e,"\u0275unwrapSafeValue",(function(){return gr})),n.d(e,"\u0275vid",(function(){return nv})),n.d(e,"\u0275whenRendered",(function(){return qu})),n.d(e,"\u0275\u0275CopyDefinitionFeature",(function(){return $u})),n.d(e,"\u0275\u0275InheritDefinitionFeature",(function(){return Yu})),n.d(e,"\u0275\u0275NgOnChangesFeature",(function(){return ce})),n.d(e,"\u0275\u0275ProvidersFeature",(function(){return ip})),n.d(e,"\u0275\u0275advance",(function(){return zi})),n.d(e,"\u0275\u0275attribute",(function(){return ec})),n.d(e,"\u0275\u0275attributeInterpolate1",(function(){return pc})),n.d(e,"\u0275\u0275attributeInterpolate2",(function(){return dc})),n.d(e,"\u0275\u0275attributeInterpolate3",(function(){return hc})),n.d(e,"\u0275\u0275attributeInterpolate4",(function(){return fc})),n.d(e,"\u0275\u0275attributeInterpolate5",(function(){return mc})),n.d(e,"\u0275\u0275attributeInterpolate6",(function(){return gc})),n.d(e,"\u0275\u0275attributeInterpolate7",(function(){return yc})),n.d(e,"\u0275\u0275attributeInterpolate8",(function(){return _c})),n.d(e,"\u0275\u0275attributeInterpolateV",(function(){return vc})),n.d(e,"\u0275\u0275classMap",(function(){return xl})),n.d(e,"\u0275\u0275classMapInterpolate1",(function(){return Ul})),n.d(e,"\u0275\u0275classMapInterpolate2",(function(){return Xl})),n.d(e,"\u0275\u0275classMapInterpolate3",(function(){return Gl})),n.d(e,"\u0275\u0275classMapInterpolate4",(function(){return Jl})),n.d(e,"\u0275\u0275classMapInterpolate5",(function(){return $l})),n.d(e,"\u0275\u0275classMapInterpolate6",(function(){return Kl})),n.d(e,"\u0275\u0275classMapInterpolate7",(function(){return Zl})),n.d(e,"\u0275\u0275classMapInterpolate8",(function(){return Ql})),n.d(e,"\u0275\u0275classMapInterpolateV",(function(){return tu})),n.d(e,"\u0275\u0275classProp",(function(){return vl})),n.d(e,"\u0275\u0275contentQuery",(function(){return Fm})),n.d(e,"\u0275\u0275defineComponent",(function(){return jt})),n.d(e,"\u0275\u0275defineDirective",(function(){return Xt})),n.d(e,"\u0275\u0275defineInjectable",(function(){return T})),n.d(e,"\u0275\u0275defineInjector",(function(){return A})),n.d(e,"\u0275\u0275defineNgModule",(function(){return Ht})),n.d(e,"\u0275\u0275definePipe",(function(){return Gt})),n.d(e,"\u0275\u0275directiveInject",(function(){return Sc})),n.d(e,"\u0275\u0275disableBindings",(function(){return Ne})),n.d(e,"\u0275\u0275element",(function(){return kc})),n.d(e,"\u0275\u0275elementContainer",(function(){return Nc})),n.d(e,"\u0275\u0275elementContainerEnd",(function(){return Dc})),n.d(e,"\u0275\u0275elementContainerStart",(function(){return Ic})),n.d(e,"\u0275\u0275elementEnd",(function(){return Lc})),n.d(e,"\u0275\u0275elementStart",(function(){return Pc})),n.d(e,"\u0275\u0275enableBindings",(function(){return De})),n.d(e,"\u0275\u0275getCurrentView",(function(){return Rc})),n.d(e,"\u0275\u0275getFactoryOf",(function(){return nr})),n.d(e,"\u0275\u0275getInheritedFactory",(function(){return rr})),n.d(e,"\u0275\u0275hostProperty",(function(){return vu})),n.d(e,"\u0275\u0275i18n",(function(){return kf})),n.d(e,"\u0275\u0275i18nApply",(function(){return zf})),n.d(e,"\u0275\u0275i18nAttributes",(function(){return If})),n.d(e,"\u0275\u0275i18nEnd",(function(){return Of})),n.d(e,"\u0275\u0275i18nExp",(function(){return Rf})),n.d(e,"\u0275\u0275i18nPostprocess",(function(){return Tf})),n.d(e,"\u0275\u0275i18nStart",(function(){return xf})),n.d(e,"\u0275\u0275inject",(function(){return ft})),n.d(e,"\u0275\u0275injectAttribute",(function(){return Ec})),n.d(e,"\u0275\u0275injectPipeChangeDetectorRef",(function(){return Um})),n.d(e,"\u0275\u0275invalidFactory",(function(){return Tc})),n.d(e,"\u0275\u0275invalidFactoryDep",(function(){return mt})),n.d(e,"\u0275\u0275listener",(function(){return jc})),n.d(e,"\u0275\u0275loadQuery",(function(){return qm})),n.d(e,"\u0275\u0275namespaceHTML",(function(){return mn})),n.d(e,"\u0275\u0275namespaceMathML",(function(){return fn})),n.d(e,"\u0275\u0275namespaceSVG",(function(){return hn})),n.d(e,"\u0275\u0275nextContext",(function(){return Hc})),n.d(e,"\u0275\u0275pipe",(function(){return mm})),n.d(e,"\u0275\u0275pipeBind1",(function(){return gm})),n.d(e,"\u0275\u0275pipeBind2",(function(){return ym})),n.d(e,"\u0275\u0275pipeBind3",(function(){return _m})),n.d(e,"\u0275\u0275pipeBind4",(function(){return vm})),n.d(e,"\u0275\u0275pipeBindV",(function(){return bm})),n.d(e,"\u0275\u0275projection",(function(){return Jc})),n.d(e,"\u0275\u0275projectionDef",(function(){return Uc})),n.d(e,"\u0275\u0275property",(function(){return Oc})),n.d(e,"\u0275\u0275propertyInterpolate",(function(){return $c})),n.d(e,"\u0275\u0275propertyInterpolate1",(function(){return Kc})),n.d(e,"\u0275\u0275propertyInterpolate2",(function(){return Zc})),n.d(e,"\u0275\u0275propertyInterpolate3",(function(){return Qc})),n.d(e,"\u0275\u0275propertyInterpolate4",(function(){return tl})),n.d(e,"\u0275\u0275propertyInterpolate5",(function(){return el})),n.d(e,"\u0275\u0275propertyInterpolate6",(function(){return nl})),n.d(e,"\u0275\u0275propertyInterpolate7",(function(){return rl})),n.d(e,"\u0275\u0275propertyInterpolate8",(function(){return il})),n.d(e,"\u0275\u0275propertyInterpolateV",(function(){return ol})),n.d(e,"\u0275\u0275pureFunction0",(function(){return Qf})),n.d(e,"\u0275\u0275pureFunction1",(function(){return tm})),n.d(e,"\u0275\u0275pureFunction2",(function(){return em})),n.d(e,"\u0275\u0275pureFunction3",(function(){return nm})),n.d(e,"\u0275\u0275pureFunction4",(function(){return rm})),n.d(e,"\u0275\u0275pureFunction5",(function(){return im})),n.d(e,"\u0275\u0275pureFunction6",(function(){return om})),n.d(e,"\u0275\u0275pureFunction7",(function(){return am})),n.d(e,"\u0275\u0275pureFunction8",(function(){return sm})),n.d(e,"\u0275\u0275pureFunctionV",(function(){return cm})),n.d(e,"\u0275\u0275queryRefresh",(function(){return Dm})),n.d(e,"\u0275\u0275reference",(function(){return Cc})),n.d(e,"\u0275\u0275resolveBody",(function(){return zn})),n.d(e,"\u0275\u0275resolveDocument",(function(){return Rn})),n.d(e,"\u0275\u0275resolveWindow",(function(){return Nn})),n.d(e,"\u0275\u0275restoreView",(function(){return Fe})),n.d(e,"\u0275\u0275sanitizeHtml",(function(){return ti})),n.d(e,"\u0275\u0275sanitizeResourceUrl",(function(){return ri})),n.d(e,"\u0275\u0275sanitizeScript",(function(){return ii})),n.d(e,"\u0275\u0275sanitizeStyle",(function(){return ei})),n.d(e,"\u0275\u0275sanitizeUrl",(function(){return ni})),n.d(e,"\u0275\u0275sanitizeUrlOrResourceUrl",(function(){return ai})),n.d(e,"\u0275\u0275select",(function(){return Fi})),n.d(e,"\u0275\u0275setComponentScope",(function(){return Bt})),n.d(e,"\u0275\u0275setNgModuleScope",(function(){return Wt})),n.d(e,"\u0275\u0275staticContentQuery",(function(){return jm})),n.d(e,"\u0275\u0275staticViewQuery",(function(){return Nm})),n.d(e,"\u0275\u0275styleMap",(function(){return bl})),n.d(e,"\u0275\u0275styleMapInterpolate1",(function(){return eu})),n.d(e,"\u0275\u0275styleMapInterpolate2",(function(){return nu})),n.d(e,"\u0275\u0275styleMapInterpolate3",(function(){return ru})),n.d(e,"\u0275\u0275styleMapInterpolate4",(function(){return iu})),n.d(e,"\u0275\u0275styleMapInterpolate5",(function(){return ou})),n.d(e,"\u0275\u0275styleMapInterpolate6",(function(){return au})),n.d(e,"\u0275\u0275styleMapInterpolate7",(function(){return su})),n.d(e,"\u0275\u0275styleMapInterpolate8",(function(){return cu})),n.d(e,"\u0275\u0275styleMapInterpolateV",(function(){return lu})),n.d(e,"\u0275\u0275styleProp",(function(){return _l})),n.d(e,"\u0275\u0275stylePropInterpolate1",(function(){return uu})),n.d(e,"\u0275\u0275stylePropInterpolate2",(function(){return pu})),n.d(e,"\u0275\u0275stylePropInterpolate3",(function(){return du})),n.d(e,"\u0275\u0275stylePropInterpolate4",(function(){return hu})),n.d(e,"\u0275\u0275stylePropInterpolate5",(function(){return fu})),n.d(e,"\u0275\u0275stylePropInterpolate6",(function(){return mu})),n.d(e,"\u0275\u0275stylePropInterpolate7",(function(){return gu})),n.d(e,"\u0275\u0275stylePropInterpolate8",(function(){return yu})),n.d(e,"\u0275\u0275stylePropInterpolateV",(function(){return _u})),n.d(e,"\u0275\u0275syntheticHostListener",(function(){return Bc})),n.d(e,"\u0275\u0275syntheticHostProperty",(function(){return bu})),n.d(e,"\u0275\u0275template",(function(){return xc})),n.d(e,"\u0275\u0275templateRefExtractor",(function(){return Wm})),n.d(e,"\u0275\u0275text",(function(){return Nl})),n.d(e,"\u0275\u0275textInterpolate",(function(){return Rl})),n.d(e,"\u0275\u0275textInterpolate1",(function(){return zl})),n.d(e,"\u0275\u0275textInterpolate2",(function(){return Fl})),n.d(e,"\u0275\u0275textInterpolate3",(function(){return jl})),n.d(e,"\u0275\u0275textInterpolate4",(function(){return Bl})),n.d(e,"\u0275\u0275textInterpolate5",(function(){return ql})),n.d(e,"\u0275\u0275textInterpolate6",(function(){return Vl})),n.d(e,"\u0275\u0275textInterpolate7",(function(){return Yl})),n.d(e,"\u0275\u0275textInterpolate8",(function(){return Hl})),n.d(e,"\u0275\u0275textInterpolateV",(function(){return Wl})),n.d(e,"\u0275\u0275viewQuery",(function(){return Rm}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function c(t){return{toString:t}.toString()}const l="__annotations__",u="__parameters__",p="__prop__metadata__";function d(t,e,n,r,i){return c(()=>{const o=h(e);function a(...t){if(this instanceof a)return o.call(this,...t),this;const e=new a(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(l)?n[l]:Object.defineProperty(n,l,{value:[]})[l]).push(e),r&&r(n),n}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}function h(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function f(t,e,n){return c(()=>{const r=h(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(u)?t[u]:Object.defineProperty(t,u,{value:[]})[u];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function m(t,e,n,r){return c(()=>{const i=h(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,a=o.hasOwnProperty(p)?o[p]:Object.defineProperty(o,p,{value:{}})[p];a[i]=a.hasOwnProperty(i)&&a[i]||[],a[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const g=t=>({token:t}),y=f("Inject",g),_=f("Optional"),v=f("Self"),b=f("SkipSelf"),M=f("Host"),x=t=>({attributeName:t}),w=f("Attribute",x);var C=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function S(t){for(let e in t)if(t[e]===S)return e;throw Error("Could not find renamed property on target object.")}function E(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const O=T;function A(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function P(t){return L(t,t[I])||L(t,t[R])}function L(t,e){return e&&e.token===t?e:null}function k(t){return t&&(t.hasOwnProperty(D)||t.hasOwnProperty(z))?t[D]:null}const I=S({\u0275prov:S}),D=S({\u0275inj:S}),N=S({\u0275provFallback:S}),R=S({ngInjectableDef:S}),z=S({ngInjectorDef:S});function F(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(F).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const B=S({__forward_ref__:S});function q(t){return t.__forward_ref__=q,t.toString=function(){return F(this())},t}function V(t){return Y(t)?t():t}function Y(t){return"function"==typeof t&&t.hasOwnProperty(B)&&t.__forward_ref__===q}const H="undefined"!=typeof globalThis&&globalThis,W="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,X="undefined"!=typeof global&&global,G=H||X||W||U;var J=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function $(){const t=G.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const K=S({\u0275cmp:S}),Z=S({\u0275dir:S}),Q=S({\u0275pipe:S}),tt=S({\u0275mod:S}),et=S({\u0275loc:S}),nt=S({\u0275fac:S}),rt=S({__NG_ELEMENT_ID__:S});class it{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const ot=new it("INJECTOR",-1),at={},st=/\n/gm,ct=S({provide:String,useValue:S});let lt,ut=void 0;function pt(t){const e=ut;return ut=t,e}function dt(t){const e=lt;return lt=t,e}function ht(t,e=C.Default){if(void 0===ut)throw new Error("inject() must be called from an injection context");return null===ut?yt(t,void 0,e):ut.get(t,e&C.Optional?null:void 0,e)}function ft(t,e=C.Default){return(lt||ht)(V(t),e)}function mt(t){throw new Error("invalid")}const gt=ft;function yt(t,e,n){const r=P(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&C.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${F(t)}]`)}function _t(t){const e=[];for(let n=0;n<t.length;n++){const r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=C.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof _||"Optional"===i.ngMetadataName||i===_?n|=C.Optional:i instanceof b||"SkipSelf"===i.ngMetadataName||i===b?n|=C.SkipSelf:i instanceof v||"Self"===i.ngMetadataName||i===v?n|=C.Self:t=i instanceof y||i===y?i.token:i}e.push(ft(t,n))}else e.push(ft(r))}return e}class vt{get(t,e=at){if(e===at){const e=new Error(`NullInjectorError: No provider for ${F(t)}!`);throw e.name="NullInjectorError",e}return e}}const bt={\u0275\u0275defineInjectable:T,\u0275\u0275defineInjector:A,\u0275\u0275inject:ft,\u0275\u0275getFactoryOf:function t(e){const n=e;if(Y(e))return()=>{const e=t(V(n));return e?e():null};const r=P(n)||k(n);return r&&void 0!==r.factory?r.factory:null},\u0275\u0275invalidFactoryDep:mt};class Mt{}class xt{}function wt(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function Ct(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Ct(r,e)):e!==t&&e.push(r)}return e}function St(t,e){t.forEach(t=>Array.isArray(t)?St(t,e):e(t))}function Et(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ot(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function At(t,e,n){let r=Lt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Pt(t,e){const n=Lt(t,e);if(n>=0)return t[1|n]}function Lt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var kt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),It=function(t){return t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed",t}({});function Dt(t){return null==t||t===kt.Default}var Nt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Rt={},zt=[];let Ft=0;function jt(t){return c(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Nt.Emulated,id:"c",styles:t.styles||zt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ft++,n.inputs=Ut(t.inputs,e),n.outputs=Ut(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(qt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Vt):null,n})}function Bt(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(qt),r.pipeDefs=()=>n.map(Vt)}function qt(t){return Jt(t)||$t(t)}function Vt(t){return Kt(t)}const Yt={};function Ht(t){const e={type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{Yt[t.id]=t.type}),e}function Wt(t,e){return c(()=>{const n=Qt(t,!0);n.declarations=e.declarations||zt,n.imports=e.imports||zt,n.exports=e.exports||zt})}function Ut(t,e){if(null==t)return Rt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Xt=jt;function Gt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jt(t){return t[K]||null}function $t(t){return t[Z]||null}function Kt(t){return t[Q]||null}function Zt(t,e){return t.hasOwnProperty(nt)?t[nt]:null}function Qt(t,e){const n=t[tt]||null;if(!n&&!0===e)throw new Error(`Type ${F(t)} does not have '\u0275mod' property.`);return n}function te(t){return Array.isArray(t)&&"object"==typeof t[1]}function ee(t){return Array.isArray(t)&&!0===t[1]}function ne(t){return 0!=(8&t.flags)}function re(t){return 2==(2&t.flags)}function ie(t){return 1==(1&t.flags)}function oe(t){return null!==t.template}function ae(t){return 0!=(512&t[2])}class se{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ce(){return le}function le(t){return t.type.prototype.ngOnChanges&&(t.setInput=pe),ue}function ue(){const t=de(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Rt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function pe(t,e,n,r){const i=de(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Rt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],c=a[s];o[s]=new se(c&&c.currentValue,e,a===Rt),t[r]=e}function de(t){return t.__ngSimpleChanges__||null}ce.ngInherit=!0;let he=void 0;function fe(t){he=t}function me(){return void 0!==he?he:"undefined"!=typeof document?document:void 0}function ge(t){return!!t.listen}const ye={createRenderer:(t,e)=>me()};function _e(t){for(;Array.isArray(t);)t=t[0];return t}function ve(t,e){return _e(e[t+20])}function be(t,e){return _e(e[t.index])}function Me(t,e){const n=t.index;return-1!==n?_e(e[n]):null}function xe(t,e){return t.data[e+20]}function we(t,e){return t[e+20]}function Ce(t,e){const n=e[t];return te(n)?n:n[0]}function Se(t){return t.__ngContext__||null}function Ee(t){const e=Se(t);return e?Array.isArray(e)?e:e.lView:null}function Te(t){return 4==(4&t[2])}function Oe(t){return 128==(128&t[2])}function Ae(t,e){return null===t||null==e?null:t[e]}function Pe(t){t[18]=0}function Le(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ke={lFrame:on(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ie(){return ke.bindingsEnabled}function De(){ke.bindingsEnabled=!0}function Ne(){ke.bindingsEnabled=!1}function Re(){return ke.lFrame.lView}function ze(){return ke.lFrame.tView}function Fe(t){ke.lFrame.contextLView=t}function je(){return ke.lFrame.previousOrParentTNode}function Be(t,e){ke.lFrame.previousOrParentTNode=t,ke.lFrame.isParent=e}function qe(){return ke.lFrame.isParent}function Ve(){ke.lFrame.isParent=!1}function Ye(){return ke.checkNoChangesMode}function He(t){ke.checkNoChangesMode=t}function We(){const t=ke.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ue(){return ke.lFrame.bindingIndex}function Xe(t){return ke.lFrame.bindingIndex=t}function Ge(){return ke.lFrame.bindingIndex++}function Je(t){const e=ke.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $e(t,e){const n=ke.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ke(e)}function Ke(t){ke.lFrame.currentDirectiveIndex=t}function Ze(t){const e=ke.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Qe(){return ke.lFrame.currentQueryIndex}function tn(t){ke.lFrame.currentQueryIndex=t}function en(t,e){const n=rn();ke.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function nn(t,e){const n=rn(),r=t[1];ke.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function rn(){const t=ke.lFrame,e=null===t?null:t.child;return null===e?on(t):e}function on(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function an(){const t=ke.lFrame;return ke.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const sn=an;function cn(){const t=an();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ln(t){return(ke.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ke.lFrame.contextLView))[8]}function un(){return ke.lFrame.selectedIndex}function pn(t){ke.lFrame.selectedIndex=t}function dn(){const t=ke.lFrame;return xe(t.tView,t.selectedIndex)}function hn(){ke.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function fn(){ke.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function mn(){ke.lFrame.currentNamespace=null}function gn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:a,ngOnDestroy:s}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),a&&((t.viewHooks||(t.viewHooks=[])).push(n,a),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,a)),null!=s&&(t.destroyHooks||(t.destroyHooks=[])).push(n,s)}}function yn(t,e,n){bn(t,e,3,n)}function _n(t,e,n,r){(3&t[2])===n&&bn(t,e,n,r)}function vn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function bn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Mn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Mn(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}class xn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function wn(t,e,n){const r=ge(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const a=n[i++],s=n[i++],c=n[i++];r?t.setAttribute(e,s,c,a):e.setAttributeNS(a,s,c)}else{const a=o,s=n[++i];Sn(a)?r&&t.setProperty(e,a,s):r?t.setAttribute(e,a,s):e.setAttribute(a,s),i++}}return i}function Cn(t){return 3===t||4===t||6===t}function Sn(t){return 64===t.charCodeAt(0)}function En(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Tn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Tn(t,e,n,r,i){let o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){a=-1;break}if(n>e){a=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function On(t){return-1!==t}function An(t){return 32767&t}function Pn(t){return t>>16}function Ln(t,e){let n=Pn(t),r=e;for(;n>0;)r=r[15],n--;return r}function kn(t){return"string"==typeof t?t:null==t?"":""+t}function In(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():kn(t)}const Dn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function Nn(t){return{name:"window",target:t.ownerDocument.defaultView}}function Rn(t){return{name:"document",target:t.ownerDocument}}function zn(t){return{name:"body",target:t.ownerDocument.body}}function Fn(t){return t instanceof Function?t():t}let jn=!0;function Bn(t){const e=jn;return jn=t,e}let qn=0;function Vn(t,e){const n=Hn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Yn(r.data,t),Yn(e,null),Yn(r.blueprint,null));const i=Wn(t,e),o=t.injectorIndex;if(On(i)){const t=An(i),n=Ln(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Yn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Hn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Wn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Un(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(rt)&&(r=n[rt]),null==r&&(r=n[rt]=qn++);const i=255&r,o=1<<i,a=64&i,s=32&i,c=e.data;128&i?a?s?c[t+7]|=o:c[t+6]|=o:s?c[t+5]|=o:c[t+4]|=o:a?s?c[t+3]|=o:c[t+2]|=o:s?c[t+1]|=o:c[t]|=o}(t,e,n)}function Xn(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Cn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}function Gn(t,e,n,r=C.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(rt)?t[rt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){en(e,t);try{const t=i();if(null!=t||r&C.Optional)return t;throw new Error(`No provider for ${In(n)}!`)}finally{sn()}}else if("number"==typeof i){if(-1===i)return new er(t,e);let o=null,a=Hn(t,e),s=-1,c=r&C.Host?e[16][6]:null;for((-1===a||r&C.SkipSelf)&&(s=-1===a?Wn(t,e):e[a+8],tr(r,!1)?(o=e[1],a=An(s),e=Ln(s,e)):a=-1);-1!==a;){s=e[a+8];const t=e[1];if(Qn(i,a,t.data)){const t=$n(a,e,n,o,r,c);if(t!==Jn)return t}tr(r,e[1].data[a+8]===c)&&Qn(i,a,e)?(o=t,a=An(s),e=Ln(s,e)):a=-1}}}if(r&C.Optional&&void 0===i&&(i=null),0==(r&(C.Self|C.Host))){const t=e[9],o=dt(void 0);try{return t?t.get(n,i,r&C.Optional):yt(n,i,r&C.Optional)}finally{dt(o)}}if(r&C.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${In(n)}]`)}const Jn={};function $n(t,e,n,r,i,o){const a=e[1],s=a.data[t+8],c=Kn(s,a,n,null==r?re(s)&&jn:r!=a&&3===s.type,i&C.Host&&o===s);return null!==c?Zn(e,a,c,s):Jn}function Kn(t,e,n,r,i){const o=t.providerIndexes,a=e.data,s=1048575&o,c=t.directiveStart,l=o>>20,u=i?s+l:t.directiveEnd;for(let p=r?s:s+l;p<u;p++){const t=a[p];if(p<c&&n===t||p>=c&&t.type===n)return p}if(i){const t=a[c];if(t&&oe(t)&&t.type===n)return c}return null}function Zn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof xn){const a=i;if(a.resolving)throw new Error("Circular dep for "+In(o[n]));const s=Bn(a.canSeeViewProviders);let c;a.resolving=!0,a.injectImpl&&(c=dt(a.injectImpl)),en(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=le(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&dt(c),Bn(s),a.resolving=!1,sn()}}return i}function Qn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function tr(t,e){return!(t&C.Self||t&C.Host&&e)}class er{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Gn(this._tNode,this._lView,t,void 0,e)}}function nr(t){const e=t;if(Y(t))return()=>{const t=nr(V(e));return t?t():null};let n=Zt(e);if(null===n){const t=k(e);n=t&&t.factory}return n||null}function rr(t){return c(()=>{const e=t.prototype.constructor,n=e[nt]||nr(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[nt]||nr(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function ir(t){return t.ngDebugContext}function or(t){return t.ngOriginalError}function ar(t,...e){t.error(...e)}class sr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ar}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ir(t)?ir(t):this._findContext(or(t)):null}_findOriginalError(t){let e=or(t);for(;e&&or(e);)e=or(e);return e}}const cr={name:"custom-elements"},lr={name:"no-errors-schema"};class ur{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class pr extends ur{getTypeName(){return"HTML"}}class dr extends ur{getTypeName(){return"Style"}}class hr extends ur{getTypeName(){return"Script"}}class fr extends ur{getTypeName(){return"URL"}}class mr extends ur{getTypeName(){return"ResourceURL"}}function gr(t){return t instanceof ur?t.changingThisBreaksApplicationSecurity:t}function yr(t,e){const n=_r(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function _r(t){return t instanceof ur&&t.getTypeName()||null}function vr(t){return new pr(t)}function br(t){return new dr(t)}function Mr(t){return new hr(t)}function xr(t){return new fr(t)}function wr(t){return new mr(t)}let Cr=!0,Sr=!1;function Er(){return Sr=!0,Cr}function Tr(){if(Sr)throw new Error("Cannot enable prod mode after platform setup.");Cr=!1}function Or(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Ar:new Pr(t)}class Ar{getInertBodyElement(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Pr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Lr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,kr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ir(t){return(t=String(t)).match(Lr)||t.match(kr)?t:(Er()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Dr(t){return(t=String(t)).split(",").map(t=>Ir(t.trim())).join(", ")}function Nr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Rr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const zr=Nr("area,br,col,hr,img,wbr"),Fr=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jr=Nr("rp,rt"),Br=Rr(jr,Fr),qr=Rr(zr,Rr(Fr,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rr(jr,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Br),Vr=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yr=Nr("srcset"),Hr=Rr(Vr,Yr,Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wr=Nr("script,style,template");class Ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!qr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Wr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Hr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Vr[i]&&(o=Ir(o)),Yr[i]&&(o=Dr(o)),this.buf.push(" ",e,'="',Jr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();qr.hasOwnProperty(e)&&!zr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Jr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Xr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gr=/([^\#-~ |!])/g;function Jr(t){return t.replace(/&/g,"&amp;").replace(Xr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Gr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $r;function Kr(t,e){let n=null;try{$r=$r||Or(t);let r=e?String(e):"";n=$r.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=$r.getInertBodyElement(r)}while(r!==o);const a=new Ur,s=a.sanitizeChildren(Zr(n)||n);return Er()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n){const t=Zr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Zr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Qr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ti(t){const e=si();return e?e.sanitize(Qr.HTML,t)||"":yr(t,"HTML")?gr(t):Kr(me(),kn(t))}function ei(t){const e=si();return e?e.sanitize(Qr.STYLE,t)||"":yr(t,"Style")?gr(t):kn(t)}function ni(t){const e=si();return e?e.sanitize(Qr.URL,t)||"":yr(t,"URL")?gr(t):Ir(kn(t))}function ri(t){const e=si();if(e)return e.sanitize(Qr.RESOURCE_URL,t)||"";if(yr(t,"ResourceURL"))return gr(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function ii(t){const e=si();if(e)return e.sanitize(Qr.SCRIPT,t)||"";if(yr(t,"Script"))return gr(t);throw new Error("unsafe value used in a script context")}function oi(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ri:ni}function ai(t,e,n){return oi(e,n)(t)}function si(){const t=Re();return t&&t[12]}const ci=/([A-Z])/g;function li(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function ui(t){let e=Se(t);if(e){if(Array.isArray(e)){const r=e;let i,o=void 0,a=void 0;if((n=t)&&n.constructor&&n.constructor.\u0275cmp){if(i=gi(r,t),-1==i)throw new Error("The provided component was not found in the application");o=t}else if(function(t){return t&&t.constructor&&t.constructor.\u0275dir}(t)){if(i=function(t,e){let n=t[1].firstChild;for(;n;){const r=n.directiveEnd;for(let i=n.directiveStart;i<r;i++)if(t[i]===e)return n.index;n=mi(n)}return-1}(r,t),-1==i)throw new Error("The provided directive was not found in the application");a=yi(i,r,!1)}else if(i=fi(r,t),-1==i)return null;const s=_e(r[i]),c=Se(s),l=c&&!Array.isArray(c)?c:pi(r,i,s);if(o&&void 0===l.component&&(l.component=o,hi(l.component,l)),a&&void 0===l.directives){l.directives=a;for(let t=0;t<a.length;t++)hi(a[t],l)}hi(l.native,l),e=l}}else{const n=t;let r=n;for(;r=r.parentNode;){const t=Se(r);if(t){let r;if(r=Array.isArray(t)?t:t.lView,!r)return null;const i=fi(r,n);if(i>=0){const t=_e(r[i]),n=pi(r,i,t);hi(t,n),e=n;break}}}}var n;return e||null}function pi(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}function di(t){let e,n=Se(t);if(Array.isArray(n)){const r=gi(n,t);e=Ce(r,n);const i=pi(n,r,e[0]);i.component=t,hi(t,i),hi(i.native,i)}else e=Ce(n.nodeIndex,n.lView);return e}function hi(t,e){t.__ngContext__=e}function fi(t,e){let n=t[1].firstChild;for(;n;){if(Me(n,t)===e)return n.index;n=mi(n)}return-1}function mi(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function gi(t,e){const n=t[1].components;if(n)for(let r=0;r<n.length;r++){const i=n[r];if(Ce(i,t)[8]===e)return i}else if(Ce(20,t)[8]===e)return 20;return-1}function yi(t,e,n){const r=e[1].data[t];let i=r.directiveStart;return 0==i?zt:(!n&&2&r.flags&&i++,e.slice(i,r.directiveEnd))}function _i(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function vi(){throw new Error("Cannot mix multi providers and regular providers")}function bi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Mi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==bi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function xi(t){return 0===t.type&&"ng-template"!==t.tagName}function wi(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Ci(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Cn(t[e]))return e;return t.length}(i);let a=!1;for(let s=0;s<e.length;s++){const c=e[s];if("number"!=typeof c){if(!a)if(4&r){if(r=2|1&r,""!==c&&!wi(t,c,n)||""===c&&1===e.length){if(Si(r))return!1;a=!0}}else{const l=8&r?c:e[++s];if(8&r&&null!==t.attrs){if(!Mi(t.attrs,l,n)){if(Si(r))return!1;a=!0}continue}const u=Ei(8&r?"class":c,i,xi(t),n);if(-1===u){if(Si(r))return!1;a=!0;continue}if(""!==l){let t;t=u>o?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==bi(e,l,0)||2&r&&l!==t){if(Si(r))return!1;a=!0}}}}else{if(!a&&!Si(r)&&!Si(c))return!1;if(a&&Si(c))continue;a=!1,r=c|1&r}}return Si(r)||a}function Si(t){return 0==(1&t)}function Ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ti(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ci(t,e[r],n))return!0;return!1}function Oi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ai(t,e){return t?":not("+e.trim()+")":e}function Pi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&r){const e=t[++n];i+="["+a+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Si(a)||(e+=Ai(o,i),i=""),r=a,o=o||!Si(r);n++}return""!==i&&(e+=Ai(o,i)),e}const Li={};function ki(t){const e=t[3];return ee(e)?e[3]:e}function Ii(t){return function(t){let e=te(t)?t:Ee(t);for(;e&&!(512&e[2]);)e=ki(e);return e}(t)[8]}function Di(t){return Ri(t[13])}function Ni(t){return Ri(t[4])}function Ri(t){for(;null!==t&&!ee(t);)t=t[4];return t}function zi(t){ji(ze(),Re(),un()+t,Ye())}function Fi(t){ji(ze(),Re(),t,Ye())}function ji(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&yn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_n(e,r,0,n)}pn(n)}const Bi={marker:"element"},qi={marker:"comment"};function Vi(t,e){return t<<17|e<<2}function Yi(t){return t>>17&32767}function Hi(t){return 2|t}function Wi(t){return(131068&t)>>2}function Ui(t,e){return-131069&t|e<<2}function Xi(t){return 1|t}const Gi=(()=>Promise.resolve(null))();function Ji(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];tn(i),n.contentQueries(2,e[o],o)}}}function $i(t,e,n){return ge(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ki(t,e,n,r,i,o,a,s,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Pe(u),u[3]=u[15]=t,u[8]=n,u[10]=a||t&&t[10],u[11]=s||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function Zi(t,e,n,r,i,o){const a=n+20,s=t.data[a]||function(t,e,n,r,i,o){const a=je(),s=qe(),c=s?a:a&&a.parent,l=t.data[n]=uo(0,c&&c!==e?c:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=l),a&&(!s||null!=a.child||null===l.parent&&2!==a.type?s||(a.next=l):a.child=l),l}(t,e,a,r,i,o);return Be(s,!0),s}function Qi(t,e,n){nn(e,e[6]);try{const r=t.viewQuery;null!==r&&No(1,r,n);const i=t.template;null!==i&&no(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ji(t,e),t.staticViewQueries&&No(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ao(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,cn()}}function to(t,e,n,r){const i=e[2];if(256==(256&i))return;nn(e,e[6]);const o=Ye();try{Pe(e),Xe(t.bindingStartIndex),null!==n&&no(t,e,n,2,r);const a=3==(3&i);if(!o)if(a){const n=t.preOrderCheckHooks;null!==n&&yn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_n(e,n,0,null),vn(e,0)}if(function(t){for(let e=Di(t);null!==e;e=Ni(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Le(r,1),n[2]|=1024}}}(e),function(t){for(let e=Di(t);null!==e;e=Ni(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Oe(n)&&to(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ji(t,e),!o)if(a){const n=t.contentCheckHooks;null!==n&&yn(e,n)}else{const n=t.contentHooks;null!==n&&_n(e,n,1),vn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const a=n[t];"number"==typeof a?a<=0?(o=0-a,pn(o),r+=9+n[++t],i=r):r+=a:(null!==a&&($e(r,i),a(2,e[i])),i++)}}}finally{pn(-1)}}(t,e);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Oo(t,e[n])}(e,s);const c=t.viewQuery;if(null!==c&&No(2,c,r),!o)if(a){const n=t.viewCheckHooks;null!==n&&yn(e,n)}else{const n=t.viewHooks;null!==n&&_n(e,n,2),vn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Le(e[3],-1))}finally{cn()}}function eo(t,e,n,r){const i=e[10],o=!Ye(),a=Te(e);try{o&&!a&&i.begin&&i.begin(),a&&Qi(t,e,r),to(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function no(t,e,n,r,i){const o=un();try{pn(-1),2&r&&e.length>20&&ji(t,e,0,Ye()),n(r,i)}finally{pn(o)}}function ro(t,e,n){if(ne(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function io(t,e,n){Ie()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Vn(n,e),hi(r,e);const a=n.initialInputs;for(let s=i;s<o;s++){const r=t.data[s],o=oe(r);o&&wo(e,n,r);const c=Zn(e,t,s,n);hi(c,e),null!==a&&So(0,s-i,c,r,0,a),o&&(Ce(n.index,e)[8]=c)}}(t,e,n,be(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,c=ke.lFrame.currentDirectiveIndex;try{pn(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ke(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?yo(r,i):a&&o.push(null)}}finally{pn(-1),Ke(c)}}(t,e,n))}function oo(t,e,n=be){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}}function ao(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=so(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function so(t,e,n,r,i,o,a,s,c,l){const u=20+r,p=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Li);return n}(u,p);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:s,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:l,incompleteFirstPass:!1}}function co(t,e,n){if(ge(t))return t.selectRootElement(e,n===Nt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}function lo(t,e,n,r){const i=zo(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function uo(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function po(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ho(t,e,n,r,i,o,a,s){const c=be(e,n);let l,u=e.inputs;var p;!s&&null!=u&&(l=u[r])?(Bo(t,n,l,r,i),re(e)&&function(t,e){const n=Ce(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(p=r)?"className":"for"===p?"htmlFor":"formaction"===p?"formAction":"innerHtml"===p?"innerHTML":"readonly"===p?"readOnly":"tabindex"===p?"tabIndex":p,i=null!=a?a(i,e.tagName||"",r):i,ge(o)?o.setProperty(c,r,i):Sn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function fo(t,e,n,r){let i=!1;if(Ie()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const a=r[o];Ti(n,a.selectors,!1)&&(i||(i=[]),Un(Vn(n,e),t,a.type),oe(a)?(2&n.flags&&_i(n),vo(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Mo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}_o(t,n,o.length);let s=!1,c=!1;for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=En(n.mergedAttrs,l.hostAttrs),xo(t,e,l),bo(t.data.length-1,l,a),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),s=!0),c||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),c=!0),mo(t,l),r+=l.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let a=null,s=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,l=null===i||xi(e)?null:Eo(n,i);o.push(l),a=po(n,c,a),s=po(t.outputs,c,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),go(t,e,r)}a&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,a)}return n.mergedAttrs=En(n.mergedAttrs,n.attrs),i}function mo(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function go(t,e,n){for(let r=0;r<n;r++)e.push(Li),t.blueprint.push(Li),t.data.push(null)}function yo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function _o(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function vo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function bo(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;oe(e)&&(n[""]=t)}}function Mo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xo(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Zt(n.type)),i=new xn(r,oe(n),null);t.blueprint.push(i),e.push(i)}function wo(t,e,n){const r=be(e,t),i=ao(n),o=t[10],a=Po(t,Ki(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function Co(t,e,n,r,i,o){const a=be(t,e),s=e[11];if(null==r)ge(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{const e=null==i?kn(r):i(r,t.tagName||"",n);ge(s)?s.setAttribute(a,n,e,o):o?a.setAttributeNS(o,n,e):a.setAttribute(n,e)}}function So(t,e,n,r,i,o){const a=o[e];if(null!==a){const t=r.setInput;for(let e=0;e<a.length;){const i=a[e++],o=a[e++],s=a[e++];null!==t?r.setInput(n,s,i,o):n[o]=s}}}function Eo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function To(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Oo(t,e){const n=Ce(e,t);if(Oe(n)){const t=n[1];80&n[2]?to(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Di(e);null!==r;r=Ni(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];to(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ce(n[r],e);Oe(i)&&i[5]>0&&t(i)}}(n)}}function Ao(t,e){const n=Ce(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Qi(r,n,n[8])}function Po(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Lo(t){for(;t;){t[2]|=64;const e=ki(t);if(ae(t)&&!e)return t;t=e}return null}function ko(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ee(n),i=r[1];eo(i,r,i.template,n)}}function Io(t,e,n){const r=e[10];r.begin&&r.begin();try{to(t,e,t.template,n)}catch(i){throw jo(e,i),i}finally{r.end&&r.end()}}function Do(t){ko(t[8])}function No(t,e,n){tn(0),e(t,n)}const Ro=Gi;function zo(t){return t[7]||(t[7]=[])}function Fo(t,e,n){return(null===t||oe(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function jo(t,e){const n=t[9],r=n?n.get(sr,null):null;r&&r.handleError(e)}function Bo(t,e,n,r,i){for(let o=0;o<n.length;){const a=n[o++],s=n[o++],c=e[a],l=t.data[a];null!==l.setInput?l.setInput(c,i,r,s):c[s]=i}}function qo(t,e,n){const r=ve(e,t),i=t[11];ge(i)?i.setValue(r,n):r.textContent=n}function Vo(t,e){const n=e[3];return-1===t.index?ee(n)?n:null:n}function Yo(t,e){const n=Vo(t,e);return n?na(e[11],n[7]):null}function Ho(t,e,n,r,i){if(null!=r){let o,a=!1;ee(r)?o=r:te(r)&&(a=!0,r=r[0]);const s=_e(r);0===t&&null!==n?null==i?ta(e,n,s):Qo(e,n,s,i||null):1===t&&null!==n?Qo(e,n,s,i||null):2===t?aa(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){const o=n[7];o!==_e(n)&&Ho(e,t,r,o,i);for(let a=10;a<n.length;a++){const i=n[a];ca(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Wo(t,e){return ge(e)?e.createText(t):e.createTextNode(t)}function Uo(t,e,n,r){const i=Yo(t.node,e);i&&ca(t,e,e[11],n?1:2,i,r)}function Xo(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&Le(e[3],-1),n.splice(r,1)}function Go(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Xo(i,r),e>0&&(t[n-1][4]=r[4]);const o=Tt(t,10+e);Uo(r[1],r,!1,null);const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Jo(t,e){if(!(256&e[2])){const n=e[11];ge(n)&&n.destroyNode&&ca(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ko(t[1],t);for(;e;){let n=null;if(te(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)te(e)&&Ko(e[1],e),e=$o(e,t);null===e&&(e=t),te(e)&&Ko(e[1],e),n=e&&e[4]}e=n}}(e)}}function $o(t,e){let n;return te(t)&&(n=t[6])&&2===n.type?Vo(n,t):t[3]===e?null:t[3]}function Ko(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof xn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):_e(e[i]),a=t[n[r+2]],s=n[r+3];"boolean"==typeof s?o.removeEventListener(n[r],a,s):s>=0?t[s]():t[-s].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&ge(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&ee(e[3])){r!==e[3]&&Xo(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Zo(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Yo(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return be(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Nt.ShadowDom&&n!==Nt.Native)return null}return be(r,n)}function Qo(t,e,n,r){ge(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ta(t,e,n){ge(t)?t.appendChild(e,n):e.appendChild(n)}function ea(t,e,n,r){null!==r?Qo(t,e,n,r):ta(t,e,n)}function na(t,e){return ge(t)?t.parentNode(e):e.parentNode}function ra(t,e){if(2===t.type){const n=Vo(t,e);return null===n?null:oa(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?be(t,e):null}function ia(t,e,n,r){const i=Zo(t,r,e);if(null!=i){const t=e[11],o=ra(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)ea(t,i,n[e],o);else ea(t,i,n,o)}}function oa(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return be(n,e);if(0===r)return oa(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return ee(t)?oa(-1,t):_e(t)}}{const r=e[16],i=r[6],o=ki(r),a=i.projection[n.projection];return null!=a?t(o,a):t(e,n.next)}}return null}(t,r)}return e[7]}function aa(t,e,n){const r=na(t,e);r&&function(t,e,n,r){ge(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function sa(t,e,n,r,i,o,a){for(;null!=n;){const s=r[n.index],c=n.type;a&&0===e&&(s&&hi(_e(s),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(sa(t,e,n.child,r,i,o,!1),Ho(e,t,i,s,o)):1===c?ua(t,e,r,n,i,o):Ho(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function ca(t,e,n,r,i,o){sa(n,r,t.node.child,e,i,o,!1)}function la(t,e,n){ua(e[11],0,e,n,Zo(t,n,e),ra(n.parent||e[6],e))}function ua(t,e,n,r,i,o){const a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(let c=0;c<s.length;c++)Ho(e,t,i,s[c],o);else sa(t,e,s,a[3],i,o,!0)}function pa(t,e,n){ge(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function da(t,e,n){ge(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ha{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const a=n[r.index];if(null!==a&&i.push(_e(a)),ee(a))for(let e=10;e<a.length;e++){const n=a[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const s=r.type;if(4===s||5===s)t(e,n,r.child,i);else if(1===s){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=ki(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Jo(this._lView[1],this._lView)}onDestroy(t){lo(this._lView[1],this._lView,null,t)}markForCheck(){Lo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Io(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){He(!0);try{Io(t,e,n)}finally{He(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ca(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class fa extends ha{constructor(t){super(t),this._view=t}detectChanges(){Do(this._view)}checkNoChanges(){!function(t){He(!0);try{Do(t)}finally{He(!1)}}(this._view)}get context(){return null}}let ma,ga,ya;function _a(t,e,n){return ma||(ma=class extends t{}),new ma(be(e,n))}function va(t,e,n,r){return ga||(ga=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ki(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Qi(e,n,t),new ha(n)}}),0===n.type?new ga(r,n,_a(e,n,r)):null}function ba(t,e,n,r){let i;ya||(ya=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return _a(e,this._hostTNode,this._hostView)}get injector(){return new er(this._hostTNode,this._hostView)}get parentInjector(){const t=Wn(this._hostTNode,this._hostView),e=Ln(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Pn(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return On(t)&&null!=n?new er(n,e):new er(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Mt,null);t&&(i=t)}const a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),ee(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ya(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Et(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const a=e[17];null!==a&&n!==a&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);const s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Uo(r,n,!0,oa(i,this._lContainer)),t.attachToViewContainerRef(this),Et(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Go(t,e);n&&Jo(n[1],n)}(this._lContainer,e),Tt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Go(this._lContainer,e);return n&&null!=Tt(this._lContainer[8],e)?new ha(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(ee(o))i=o;else{let t;if(4===n.type)t=_e(o);else if(t=r[11].createComment(""),ae(r)){const e=r[11],i=be(n,r);Qo(e,na(e,i),t,function(t,e){return ge(t)?t.nextSibling(e):e.nextSibling}(e,i))}else ia(r[1],r,t,n);r[n.index]=i=To(o,r,t,n),Po(r,i)}return new ya(i,n,r)}function Ma(t=!1){return function(t,e,n){if(!n&&re(t)){const n=Ce(t.index,e);return new ha(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new ha(e[16],e):null}(je(),Re(),t)}let xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ca(),t})();const wa=Ma,Ca=wa,Sa=Function;function Ea(t){return"function"==typeof t}const Ta=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Oa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Aa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Pa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class La{constructor(t){this._reflect=t||G.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Ot(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Ta.test(n)||Pa.test(n)||Oa.test(n)&&!Aa.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&ka(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(u)&&t[u],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):Ot(t.length)}parameters(t){if(!Ea(t))return[];const e=Ia(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?ka(t.decorators):t.hasOwnProperty(l)?t[l]:null}annotations(t){if(!Ea(t))return[];const e=Ia(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=ka(e[t])}),n}return t.hasOwnProperty(p)?t[p]:null}propMetadata(t){if(!Ea(t))return{};const e=Ia(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Ea(t)&&this._ownPropMetadata(t,Ia(t))||{}}hasLifecycleHook(t,e){return t instanceof Sa&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+F(t)}resourceUri(t){return"./"+F(t)}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function ka(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Ia(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}let Da=null;function Na(){return Da=Da||new La}function Ra(t){return za(Na().parameters(t))}function za(t){const e=$();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const o=e[i];if(void 0===o)continue;const a=Object.getPrototypeOf(o);if(o instanceof _||"Optional"===a.ngMetadataName)n.optional=!0;else if(o instanceof b||"SkipSelf"===a.ngMetadataName)n.skipSelf=!0;else if(o instanceof v||"Self"===a.ngMetadataName)n.self=!0;else if(o instanceof M||"Host"===a.ngMetadataName)n.host=!0;else if(o instanceof y)n.token=o.token;else if(o instanceof w){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else o===xa?(n.token=o,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=J.Invalid):r(e);return n}(e,t))}const Fa=S({provide:String,useValue:S});function ja(t){return void 0!==t.useClass}function Ba(t){return void 0!==t.useFactory}function qa(t,e){const n=e||{providedIn:null},r={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn,userDeps:void 0};return(ja(n)||Ba(n))&&void 0!==n.deps&&(r.userDeps=za(n.deps)),ja(n)?r.useClass=V(n.useClass):function(t){return Fa in t}(n)?r.useValue=V(n.useValue):Ba(n)?r.useFactory=n.useFactory:function(t){return void 0!==t.useExisting}(n)&&(r.useExisting=V(n.useExisting)),r}const Va=d("Injectable",void 0,void 0,void 0,(t,e)=>Ha(t,e)),Ya=function(t,e){let n=null,r=null;t.hasOwnProperty(I)||(Object.defineProperty(t,I,{get:()=>(null===n&&(n=$().compileInjectable(bt,`ng:///${t.name}/\u0275prov.js`,qa(t,e))),n)}),t.hasOwnProperty(N)||(t[N]=()=>t[I])),t.hasOwnProperty(nt)||Object.defineProperty(t,nt,{get:()=>{if(null===r){const n=qa(t,e),i=$();r=i.compileFactory(bt,`ng:///${t.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:Ra(t),injectFn:"inject",target:i.R3FactoryTarget.Injectable})}return r},configurable:!0})},Ha=Ya,Wa=new it("Set Injector scope."),Ua={},Xa={},Ga=[];let Ja=void 0;function $a(){return void 0===Ja&&(Ja=new vt),Ja}function Ka(t,e=null,n=null,r){const i=Za(t,e,n,r);return i._resolveInjectorDefTypes(),i}function Za(t,e=null,n=null,r){return new Qa(t,n,e||$a(),r)}class Qa{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&St(e,n=>this.processProvider(n,t,e)),St([t],t=>this.processInjectorType(t,[],i)),this.records.set(ot,ns(void 0,this));const o=this.records.get(Wa);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:F(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=at,n=C.Default){this.assertNotDestroyed();const r=pt(this);try{if(!(n&C.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof it)&&P(t);e=n&&this.injectableDefInScope(n)?ns(ts(t),Ua):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&C.Self?$a():this.parent).get(t,e=n&C.Optional&&e===at?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(F(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=F(e);if(Array.isArray(e))i=e.map(F).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):F(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(st,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{pt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(F(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=V(t)))return!1;let r=k(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,a=-1!==n.indexOf(o);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!a){let t;n.push(o);try{St(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];St(r,t=>this.processProvider(t,n,r||Ga))}}this.injectorDefTypes.add(o),this.records.set(o,ns(r.factory,Ua));const s=r.providers;if(null!=s&&!a){const e=t;St(s,t=>this.processProvider(t,e,s))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=is(t=V(t))?t:V(t&&t.provide);const i=function(t,e,n){return rs(t)?ns(void 0,t.useValue):ns(es(t,e,n),Ua)}(t,e,n);if(is(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&vi()}else{let e=this.records.get(r);e?void 0===e.multi&&vi():(e=ns(void 0,Ua,!0),e.factory=()=>_t(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Xa?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(F(t)):e.value===Ua&&(e.value=Xa,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ts(t){const e=P(t),n=null!==e?e.factory:Zt(t);if(null!==n)return n;const r=k(t);if(null!==r)return r.factory;if(t instanceof it)throw new Error(`Token ${F(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Ot(e,"?");throw new Error(`Can't resolve all parameters for ${F(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[R]||t[N]&&t[N]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function es(t,e,n){let r=void 0;if(is(t)){const e=V(t);return Zt(e)||ts(e)}if(rs(t))r=()=>V(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(..._t(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ft(V(t.useExisting));else{const i=V(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${F(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Zt(i)||ts(i);r=()=>new i(..._t(t.deps))}var i;return r}function ns(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function rs(t){return null!==t&&"object"==typeof t&&ct in t}function is(t){return"function"==typeof t}function os(t,e,n){return Ka({name:n},e,t,n)}const as=os;let ss=(()=>{class t{static create(t,e){return Array.isArray(t)?as(t,e,""):as(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=at,t.NULL=new vt,t.\u0275prov=T({token:t,providedIn:"any",factory:()=>ft(ot)}),t.__NG_ELEMENT_ID__=-1,t})();function cs(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>F(t.token)).join(" -> ")+")":""}function ls(t,e,n,r){const i=[e],o=n(i),a=r?function(t,e){const n=`${t} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r.ngOriginalError=e,r}(o,r):Error(o);return a.addKey=us,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a.ngOriginalError=r,a}function us(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function ps(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];n.push(t&&0!=t.length?t.map(F).join(" "):"?")}return Error("Cannot resolve all parameters for '"+F(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+F(t)+"' is decorated with Injectable.")}class ds{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=F(this.token)}static get(t){return fs.get(V(t))}static get numberOfKeys(){return fs.numberOfKeys}}class hs{constructor(){this._allKeys=new Map}get(t){if(t instanceof ds)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new ds(t,ds.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}}const fs=new hs;class ms{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}const gs=new ms(new La);class ys{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new ys(t,!1,null)}}const _s=[];class vs{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class bs{constructor(t,e){this.factory=t,this.dependencies=e}}function Ms(t){let e,n;if(t.useClass){const r=V(t.useClass);e=gs.factory(r),n=Cs(r)}else t.useExisting?(e=t=>t,n=[ys.fromKey(ds.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>Ss(t,e,n))}return Cs(t)}(t.useFactory,t.deps)):(e=()=>t.useValue,n=_s);return new bs(e,n)}function xs(t){return new vs(ds.get(t.provide),[Ms(t)],t.multi||!1)}function ws(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new vs(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof Sa)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!Array.isArray(e))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(xs),new Map);return Array.from(e.values())}function Cs(t){const e=gs.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw ps(t,e);return e.map(n=>Ss(t,n,e))}function Ss(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return Es(e instanceof y?e.token:e,i,null);let o=null;for(let a=0;a<e.length;++a){const t=e[a];t instanceof Sa?r=t:t instanceof y?r=t.token:t instanceof _?i=!0:t instanceof v||t instanceof b?o=t:t instanceof it&&(r=t)}if(r=V(r),null!=r)return Es(r,i,o);throw ps(t,n)}function Es(t,e,n){return new ys(ds.get(t),e,n)}const Ts={};class Os{static resolve(t){return ws(t)}static resolveAndCreate(t,e){const n=Os.resolve(t);return Os.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new As(t,e)}}let As=(()=>{class t{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=[],this.objs=[];for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Ts}get(t,e=at){return this._getByKey(ds.get(t),null,e)}resolveAndCreateChild(t){const e=Os.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(e){const n=new t(e);return n.parent=this,n}resolveAndInstantiate(t){return this.instantiateResolved(Os.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw ls(this,t.key,(function(t){return"Cannot instantiate cyclic dependency!"+cs(t)}));return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=[];for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(a){throw a.addKey&&a.addKey(this,t.key),a}try{i=n(...r)}catch(a){throw ls(this,t.key,(function(t){const e=F(t[0].token);return`${o.message}: Error during instantiation of ${e}!${cs(t)}.`}),o=a)}var o;return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:at)}_getByKey(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof v?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Ts&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Ts}_throwOrNull(t,e){if(e!==at)return e;throw function(t,e){return ls(t,e,(function(t){return`No provider for ${F(t[0].token)}!${cs(t)}`}))}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==Ts?n:this._throwOrNull(t,e)}_getByKeyDefault(e,n,r){let i;for(i=r instanceof b?this.parent:this;i instanceof t;){const t=i,n=t._getObjByKeyId(e.id);if(n!==Ts)return n;i=t.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=[];for(let r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=ds.get(ss),t})();const Ps=new it("AnalyzeForEntryComponents");class Ls{}const ks=m("ContentChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e),Ls),Is=m("ContentChild",(t,e={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e),Ls),Ds=m("ViewChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e),Ls),Ns=m("ViewChild",(t,e)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e),Ls);function Rs(t){const e=[],n=new Map;function r(e){let r=n.get(e);if(!r){const i=t(e);n.set(e,r=i.then(qs))}return r}return zs.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((e,n)=>{a.push(""),i.push(r(e).then(r=>{a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const c=Promise.all(i).then(()=>function(t){Fs.delete(t)}(n));e.push(c)}),Bs(),Promise.all(e).then(()=>{})}let zs=new Map;const Fs=new Set;function js(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function Bs(){const t=zs;return zs=new Map,t}function qs(t){return"string"==typeof t?t:t.text()}function Vs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const t=e[a];"number"==typeof t?o=t:1==o?i=j(i,t):2==o&&(r=j(r,t+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Ys=null;function Hs(){if(!Ys){const t=G.Symbol;if(t&&t.iterator)Ys=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ys=n)}}}return Ys}function Ws(t,e){const n=Xs(t),r=Xs(e);if(n&&r)return function(t,e,n){const r=t[Hs()](),i=e[Hs()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Ws);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||Object.is(t,e)}}class Us{constructor(t){this.wrapped=t}static wrap(t){return new Us(t)}static unwrap(t){return Us.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Us}}function Xs(t){return!!Gs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Hs()in t)}function Gs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Js(t,e,n){return t[e]=n}function $s(t,e){return t[e]}function Ks(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Zs(t,e,n,r){const i=Ks(t,e,n);return Ks(t,e+1,r)||i}function Qs(t,e,n,r,i){const o=Zs(t,e,n,r);return Ks(t,e+2,i)||o}function tc(t,e,n,r,i,o){const a=Zs(t,e,n,r);return Zs(t,e+2,i,o)||a}function ec(t,e,n,r){const i=Re();return Ks(i,Ge(),e)&&(ze(),Co(dn(),i,t,e,n,r)),ec}function nc(t,e){let n=!1,r=Ue();for(let o=1;o<e.length;o+=2)n=Ks(t,r++,e[o])||n;if(Xe(r),!n)return Li;let i=e[0];for(let o=1;o<e.length;o+=2)i+=kn(e[o])+e[o+1];return i}function rc(t,e,n,r){return Ks(t,Ge(),n)?e+kn(n)+r:Li}function ic(t,e,n,r,i,o){const a=Zs(t,Ue(),n,i);return Je(2),a?e+kn(n)+r+kn(i)+o:Li}function oc(t,e,n,r,i,o,a,s){const c=Qs(t,Ue(),n,i,a);return Je(3),c?e+kn(n)+r+kn(i)+o+kn(a)+s:Li}function ac(t,e,n,r,i,o,a,s,c,l){const u=tc(t,Ue(),n,i,a,c);return Je(4),u?e+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+l:Li}function sc(t,e,n,r,i,o,a,s,c,l,u,p){const d=Ue();let h=tc(t,d,n,i,a,c);return h=Ks(t,d+4,u)||h,Je(5),h?e+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+l+kn(u)+p:Li}function cc(t,e,n,r,i,o,a,s,c,l,u,p,d,h){const f=Ue();let m=tc(t,f,n,i,a,c);return m=Zs(t,f+4,u,d)||m,Je(6),m?e+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+l+kn(u)+p+kn(d)+h:Li}function lc(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m){const g=Ue();let y=tc(t,g,n,i,a,c);return y=Qs(t,g+4,u,d,f)||y,Je(7),y?e+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+l+kn(u)+p+kn(d)+h+kn(f)+m:Li}function uc(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y){const _=Ue();let v=tc(t,_,n,i,a,c);return v=tc(t,_+4,u,d,f,g)||v,Je(8),v?e+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+l+kn(u)+p+kn(d)+h+kn(f)+m+kn(g)+y:Li}function pc(t,e,n,r,i,o){const a=Re(),s=rc(a,e,n,r);return s!==Li&&Co(dn(),a,t,s,i,o),pc}function dc(t,e,n,r,i,o,a,s){const c=Re(),l=ic(c,e,n,r,i,o);return l!==Li&&Co(dn(),c,t,l,a,s),dc}function hc(t,e,n,r,i,o,a,s,c,l){const u=Re(),p=oc(u,e,n,r,i,o,a,s);return p!==Li&&Co(dn(),u,t,p,c,l),hc}function fc(t,e,n,r,i,o,a,s,c,l,u,p){const d=Re(),h=ac(d,e,n,r,i,o,a,s,c,l);return h!==Li&&Co(dn(),d,t,h,u,p),fc}function mc(t,e,n,r,i,o,a,s,c,l,u,p,d,h){const f=Re(),m=sc(f,e,n,r,i,o,a,s,c,l,u,p);return m!==Li&&Co(dn(),f,t,m,d,h),mc}function gc(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m){const g=Re(),y=cc(g,e,n,r,i,o,a,s,c,l,u,p,d,h);return y!==Li&&Co(dn(),g,t,y,f,m),gc}function yc(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y){const _=Re(),v=lc(_,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m);return v!==Li&&Co(dn(),_,t,v,g,y),yc}function _c(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y,_,v){const b=Re(),M=uc(b,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y);return M!==Li&&Co(dn(),b,t,M,_,v),_c}function vc(t,e,n,r){const i=Re(),o=nc(i,e);return o!==Li&&Co(dn(),i,t,o,n,r),vc}function bc(t){const e=di(t);Io(e[1],e,t)}function Mc(t){!function(t,e){const n=0===t.flags;if(t.flags|=1,n&&t.clean==Gi){let e;t.clean=new Promise(t=>e=t),t.scheduler(()=>{if(1&t.flags&&(t.flags&=-2,ko(t)),2&t.flags){t.flags&=-3;const e=t.playerHandler;e&&e.flushPlayers()}t.clean=Gi,e(null)})}}(Lo(di(t))[8])}function xc(t,e,n,r,i,o,a,s){const c=Re(),l=ze(),u=t+20,p=l.firstCreatePass?function(t,e,n,r,i,o,a,s,c){const l=e.consts,u=Zi(e,n[6],t,0,a||null,Ae(l,s));fo(e,n,u,Ae(l,c)),gn(e,u);const p=u.tViews=so(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),d=uo(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,p.node=d,null!==e.queries&&(e.queries.template(e,u),p.queries=e.queries.embeddedTView(u)),u}(t,l,c,e,n,r,i,o,a):l.data[u];Be(p,!1);const d=c[11].createComment("");ia(l,c,d,p),hi(d,c),Po(c,c[u]=To(d,c,d,p)),ie(p)&&io(l,c,p),null!=a&&oo(c,p,s)}function wc(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}function Cc(t){return we(ke.lFrame.contextLView,t)}function Sc(t,e=C.Default){const n=Re();return null==n?ft(t,e):Gn(je(),n,V(t),e)}function Ec(t){return Xn(je(),t)}function Tc(){throw new Error("invalid")}function Oc(t,e,n){const r=Re();return Ks(r,Ge(),e)&&ho(ze(),dn(),r,t,e,r[11],n,!1),Oc}function Ac(t,e,n,r,i){const o=i?"class":"style";Bo(t,n,e.inputs[o],o,r)}function Pc(t,e,n,r){const i=Re(),o=ze(),a=20+t,s=i[11],c=i[a]=$i(e,s,ke.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,a){const s=e.consts,c=Ae(s,o),l=Zi(e,n[6],t,3,i,c);return fo(e,n,l,Ae(s,a)),null!==l.attrs&&Vs(l,l.attrs,!1),null!==l.mergedAttrs&&Vs(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(t,o,i,0,e,n,r):o.data[a];Be(l,!0);const u=l.mergedAttrs;null!==u&&wn(s,c,u);const p=l.classes;null!==p&&da(s,c,p);const d=l.styles;null!==d&&pa(s,c,d),ia(o,i,c,l),0===ke.lFrame.elementDepthCount&&hi(c,i),ke.lFrame.elementDepthCount++,ie(l)&&(io(o,i,l),ro(o,l,i)),null!==r&&oo(i,l)}function Lc(){let t=je();qe()?Ve():(t=t.parent,Be(t,!1));const e=t;ke.lFrame.elementDepthCount--;const n=ze();n.firstCreatePass&&(gn(n,t),ne(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ac(n,e,Re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ac(n,e,Re(),e.stylesWithoutHost,!1)}function kc(t,e,n,r){Pc(t,e,n,r),Lc()}function Ic(t,e,n){const r=Re(),i=ze(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,a=Ae(o,r),s=Zi(e,n[6],t,4,"ng-container",a);return null!==a&&Vs(s,a,!0),fo(e,n,s,Ae(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,i,r,e,n):i.data[o];Be(a,!0);const s=r[o]=r[11].createComment("");ia(i,r,s,a),hi(s,r),ie(a)&&(io(i,r,a),ro(i,a,r)),null!=n&&oo(r,a)}function Dc(){let t=je();const e=ze();qe()?Ve():(t=t.parent,Be(t,!1)),e.firstCreatePass&&(gn(e,t),ne(t)&&e.queries.elementEnd(t))}function Nc(t,e,n){Ic(t,e,n),Dc()}function Rc(){return Re()}function zc(t){return!!t&&"function"==typeof t.then}function Fc(t){return!!t&&"function"==typeof t.subscribe}function jc(t,e,n=!1,r){const i=Re(),o=ze(),a=je();return qc(o,i,i[11],a,t,e,n,r),jc}function Bc(t,e,n=!1,r){const i=je(),o=Re(),a=ze();return qc(a,o,Fo(Ze(a.data),i,o),i,t,e,n,r),Bc}function qc(t,e,n,r,i,o,a=!1,s){const c=ie(r),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=zo(e);let p=!0;if(3===r.type){const d=be(r,e),h=s?s(d):Rt,f=h.target||d,m=u.length,g=s?t=>s(_e(t[r.index])).target:r.index;if(ge(n)){let a=null;if(!s&&c&&(a=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==a)(a.__ngLastListenerFn__||a).__ngNextListenerFn__=o,a.__ngLastListenerFn__=o,p=!1;else{o=Yc(r,e,o,!1);const t=n.listen(h.name||f,i,o);u.push(o,t),l&&l.push(i,g,m,m+1)}}else o=Yc(r,e,o,!0),f.addEventListener(i,o,a),u.push(o),l&&l.push(i,g,m,a)}const d=r.outputs;let h;if(p&&null!==d&&(h=d[i])){const t=h.length;if(t)for(let n=0;n<t;n+=2){const t=e[h[n]][h[n+1]].subscribe(o),a=u.length;u.push(o,t),l&&l.push(i,r.index,a,-(a+1))}}}function Vc(t,e,n){try{return!1!==e(n)}catch(r){return jo(t,r),!1}}function Yc(t,e,n,r){return function i(o){if(o===Function)return n;const a=2&t.flags?Ce(t.index,e):e;0==(32&e[2])&&Lo(a);let s=Vc(e,n,o),c=i.__ngNextListenerFn__;for(;c;)s=Vc(e,c,o)&&s,c=c.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Hc(t=1){return ln(t)}function Wc(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ti(t,o,!0):Oi(r,o))return i}else n=i}return n}function Uc(t){const e=Re()[16][6];if(!e.projection){const n=e.projection=Ot(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Wc(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let Xc=!1;function Gc(t){Xc=t}function Jc(t,e=0,n){const r=Re(),i=ze(),o=Zi(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),Ve(),Xc||la(i,r,o)}function $c(t,e,n){return Kc(t,"",e,"",n),$c}function Kc(t,e,n,r,i){const o=Re(),a=rc(o,e,n,r);return a!==Li&&ho(ze(),dn(),o,t,a,o[11],i,!1),Kc}function Zc(t,e,n,r,i,o,a){const s=Re(),c=ic(s,e,n,r,i,o);return c!==Li&&ho(ze(),dn(),s,t,c,s[11],a,!1),Zc}function Qc(t,e,n,r,i,o,a,s,c){const l=Re(),u=oc(l,e,n,r,i,o,a,s);return u!==Li&&ho(ze(),dn(),l,t,u,l[11],c,!1),Qc}function tl(t,e,n,r,i,o,a,s,c,l,u){const p=Re(),d=ac(p,e,n,r,i,o,a,s,c,l);return d!==Li&&ho(ze(),dn(),p,t,d,p[11],u,!1),tl}function el(t,e,n,r,i,o,a,s,c,l,u,p,d){const h=Re(),f=sc(h,e,n,r,i,o,a,s,c,l,u,p);return f!==Li&&ho(ze(),dn(),h,t,f,h[11],d,!1),el}function nl(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f){const m=Re(),g=cc(m,e,n,r,i,o,a,s,c,l,u,p,d,h);return g!==Li&&ho(ze(),dn(),m,t,g,m[11],f,!1),nl}function rl(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g){const y=Re(),_=lc(y,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m);return _!==Li&&ho(ze(),dn(),y,t,_,y[11],g,!1),rl}function il(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y,_){const v=Re(),b=uc(v,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y);return b!==Li&&ho(ze(),dn(),v,t,b,v[11],_,!1),il}function ol(t,e,n){const r=Re(),i=nc(r,e);return i!==Li&&ho(ze(),dn(),r,t,i,r[11],n,!1),ol}const al=[];function sl(t,e,n,r,i){const o=t[n+1],a=null===e;let s=r?Yi(o):Wi(o),c=!1;for(;0!==s&&(!1===c||a);){const n=t[s+1];cl(t[s],e)&&(c=!0,t[s+1]=r?Xi(n):Hi(n)),s=r?Yi(n):Wi(n)}c&&(t[n+1]=r?Hi(o):Xi(o))}function cl(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Lt(t,e)>=0}const ll={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ul(t){return t.substring(ll.key,ll.keyEnd)}function pl(t){return t.substring(ll.value,ll.valueEnd)}function dl(t,e){const n=ll.textEnd;return n===e?-1:(e=ll.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ll.key=e,n),ml(t,e,n))}function hl(t,e){const n=ll.textEnd;let r=ll.key=ml(t,e,n);return n===r?-1:(r=ll.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90);)e++;return e}(t,r,n),r=gl(t,r,n),r=ll.value=ml(t,r,n),r=ll.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,a=e,s=a;for(;a<n;){const c=t.charCodeAt(a++);if(59===c)return s;34===c||39===c?s=a=yl(t,c,a,n):e===a-4&&85===o&&82===i&&76===r&&40===c?s=a=yl(t,41,a,n):c>32&&(s=a),o=i,i=r,r=-33&c}return s}(t,r,n),gl(t,r,n))}function fl(t){ll.key=0,ll.keyEnd=0,ll.value=0,ll.valueEnd=0,ll.textEnd=t.length}function ml(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function gl(t,e,n,r){return(e=ml(t,e,n))<n&&e++,e}function yl(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function _l(t,e,n){return Cl(t,e,n,!1),_l}function vl(t,e){return Cl(t,e,null,!0),vl}function bl(t){Sl(Pl,Ml,t,!1)}function Ml(t,e){for(let n=function(t){return fl(t),hl(t,ml(t,0,ll.textEnd))}(e);n>=0;n=hl(e,n))Pl(t,ul(e),pl(e))}function xl(t){Sl(At,wl,t,!0)}function wl(t,e){for(let n=function(t){return fl(t),dl(t,ml(t,0,ll.textEnd))}(e);n>=0;n=dl(e,n))At(t,ul(e),!0)}function Cl(t,e,n,r){const i=Re(),o=ze(),a=Je(2);o.firstUpdatePass&&Tl(o,t,a,r),e!==Li&&Ks(i,a,e)&&Ll(o,o.data[un()+20],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=F(gr(t)))),t}(e,n),r,a)}function Sl(t,e,n,r){const i=ze(),o=Je(2);i.firstUpdatePass&&Tl(i,null,o,r);const a=Re();if(n!==Li&&Ks(a,o,n)){const s=i.data[un()+20];if(Dl(s,r)&&!El(i,o)){let t=r?s.classesWithoutHost:s.stylesWithoutHost;null!==t&&(n=j(t,n||"")),Ac(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Li&&(i=al);let c=0,l=0,u=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;null!==u||null!==p;){const d=c<i.length?i[c+1]:void 0,h=l<o.length?o[l+1]:void 0;let f=null,m=void 0;u===p?(c+=2,l+=2,d!==h&&(f=p,m=h)):null===p||null!==u&&u<p?(c+=2,f=u):(l+=2,f=p,m=h),null!==f&&Ll(t,e,n,r,f,m,a,s),u=c<i.length?i[c]:null,p=l<o.length?o[l]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return al;const r=[],i=gr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function El(t,e){return e>=t.expandoStartIndex}function Tl(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[un()+20],a=El(t,n);Dl(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){const i=Ze(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Al(n=Ol(null,t,e,n,r),e.attrs,r),o=null);else{const a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Ol(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Wi(r))return t[Yi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ol(null,t,e,n[1],r),n=Al(n,e.attrs,r),function(t,e,n,r){t[Yi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Al(r,t[o].hostAttrs,n);return Al(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,s=Yi(a),c=Wi(a);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||Lt(t,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const e=Yi(t[s+1]);t[r+1]=Vi(e,s),0!==e&&(t[e+1]=Ui(t[e+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Vi(s,0),0!==s&&(t[s+1]=Ui(t[s+1],r)),s=r;else t[r+1]=Vi(c,0),0===s?s=r:t[c+1]=Ui(t[c+1],r),c=r;u&&(t[r+1]=Hi(t[r+1])),sl(t,l,r,!0),sl(t,l,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Lt(o,e)>=0&&(n[r+1]=Xi(n[r+1]))}(e,l,t,r,o),a=Vi(s,c),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Ol(t,e,n,r,i){let o=null;const a=n.directiveEnd;let s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(o=e[s],r=Al(r,o.hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Al(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),At(t,a,!!n||e[++o]))}return void 0===t?null:t}function Pl(t,e,n){At(t,e,gr(n))}function Ll(t,e,n,r,i,o,a,s){if(3!==e.type)return;const c=t.data,l=c[s+1];Il(1==(1&l)?kl(c,e,n,i,Wi(l),a):void 0)||(Il(o)||function(t){return 2==(2&t)}(l)&&(o=kl(c,null,n,i,s,a)),function(t,e,n,r,i){const o=ge(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,a,ve(un(),n),i,o))}function kl(t,e,n,r,i,o){const a=null===e;let s=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,l=null===c;let u=n[i+1];u===Li&&(u=l?al:void 0);let p=l?Pt(u,r):c===r?u:void 0;if(o&&!Il(p)&&(p=Pt(e,r)),Il(p)&&(s=p,a))return s;const d=t[i+1];i=a?Yi(d):Wi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(s=Pt(t,r))}return s}function Il(t){return void 0!==t}function Dl(t,e){return 0!=(t.flags&(e?16:32))}function Nl(t,e=""){const n=Re(),r=ze(),i=t+20,o=r.firstCreatePass?Zi(r,n[6],t,3,null,null):r.data[i],a=n[i]=Wo(e,n[11]);ia(r,n,a,o),Be(o,!1)}function Rl(t){return zl("",t,""),Rl}function zl(t,e,n){const r=Re(),i=rc(r,t,e,n);return i!==Li&&qo(r,un(),i),zl}function Fl(t,e,n,r,i){const o=Re(),a=ic(o,t,e,n,r,i);return a!==Li&&qo(o,un(),a),Fl}function jl(t,e,n,r,i,o,a){const s=Re(),c=oc(s,t,e,n,r,i,o,a);return c!==Li&&qo(s,un(),c),jl}function Bl(t,e,n,r,i,o,a,s,c){const l=Re(),u=ac(l,t,e,n,r,i,o,a,s,c);return u!==Li&&qo(l,un(),u),Bl}function ql(t,e,n,r,i,o,a,s,c,l,u){const p=Re(),d=sc(p,t,e,n,r,i,o,a,s,c,l,u);return d!==Li&&qo(p,un(),d),ql}function Vl(t,e,n,r,i,o,a,s,c,l,u,p,d){const h=Re(),f=cc(h,t,e,n,r,i,o,a,s,c,l,u,p,d);return f!==Li&&qo(h,un(),f),Vl}function Yl(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f){const m=Re(),g=lc(m,t,e,n,r,i,o,a,s,c,l,u,p,d,h,f);return g!==Li&&qo(m,un(),g),Yl}function Hl(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g){const y=Re(),_=uc(y,t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g);return _!==Li&&qo(y,un(),_),Hl}function Wl(t){const e=Re(),n=nc(e,t);return n!==Li&&qo(e,un(),n),Wl}function Ul(t,e,n){Sl(At,wl,rc(Re(),t,e,n),!0)}function Xl(t,e,n,r,i){Sl(At,wl,ic(Re(),t,e,n,r,i),!0)}function Gl(t,e,n,r,i,o,a){Sl(At,wl,oc(Re(),t,e,n,r,i,o,a),!0)}function Jl(t,e,n,r,i,o,a,s,c){Sl(At,wl,ac(Re(),t,e,n,r,i,o,a,s,c),!0)}function $l(t,e,n,r,i,o,a,s,c,l,u){Sl(At,wl,sc(Re(),t,e,n,r,i,o,a,s,c,l,u),!0)}function Kl(t,e,n,r,i,o,a,s,c,l,u,p,d){Sl(At,wl,cc(Re(),t,e,n,r,i,o,a,s,c,l,u,p,d),!0)}function Zl(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f){Sl(At,wl,lc(Re(),t,e,n,r,i,o,a,s,c,l,u,p,d,h,f),!0)}function Ql(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g){Sl(At,wl,uc(Re(),t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g),!0)}function tu(t){Sl(At,wl,nc(Re(),t),!0)}function eu(t,e,n){bl(rc(Re(),t,e,n))}function nu(t,e,n,r,i){bl(ic(Re(),t,e,n,r,i))}function ru(t,e,n,r,i,o,a){bl(oc(Re(),t,e,n,r,i,o,a))}function iu(t,e,n,r,i,o,a,s,c){bl(ac(Re(),t,e,n,r,i,o,a,s,c))}function ou(t,e,n,r,i,o,a,s,c,l,u){bl(sc(Re(),t,e,n,r,i,o,a,s,c,l,u))}function au(t,e,n,r,i,o,a,s,c,l,u,p,d){bl(cc(Re(),t,e,n,r,i,o,a,s,c,l,u,p,d))}function su(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f){bl(lc(Re(),t,e,n,r,i,o,a,s,c,l,u,p,d,h,f))}function cu(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g){bl(uc(Re(),t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g))}function lu(t){bl(nc(Re(),t))}function uu(t,e,n,r,i){return Cl(t,rc(Re(),e,n,r),i,!1),uu}function pu(t,e,n,r,i,o,a){return Cl(t,ic(Re(),e,n,r,i,o),a,!1),pu}function du(t,e,n,r,i,o,a,s,c){return Cl(t,oc(Re(),e,n,r,i,o,a,s),c,!1),du}function hu(t,e,n,r,i,o,a,s,c,l,u){return Cl(t,ac(Re(),e,n,r,i,o,a,s,c,l),u,!1),hu}function fu(t,e,n,r,i,o,a,s,c,l,u,p,d){return Cl(t,sc(Re(),e,n,r,i,o,a,s,c,l,u,p),d,!1),fu}function mu(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f){return Cl(t,cc(Re(),e,n,r,i,o,a,s,c,l,u,p,d,h),f,!1),mu}function gu(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g){return Cl(t,lc(Re(),e,n,r,i,o,a,s,c,l,u,p,d,h,f,m),g,!1),gu}function yu(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y,_){return Cl(t,uc(Re(),e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y),_,!1),yu}function _u(t,e,n){return Cl(t,nc(Re(),e),n,!1),_u}function vu(t,e,n){const r=Re();return Ks(r,Ge(),e)&&ho(ze(),dn(),r,t,e,r[11],n,!0),vu}function bu(t,e,n){const r=Re();if(Ks(r,Ge(),e)){const i=ze(),o=dn();ho(i,o,r,t,e,Fo(Ze(i.data),o,r),n,!0)}return bu}function Mu(t){Lu(t);const e=Tu(t,!1);return null===e?null:(void 0===e.component&&(e.component=function(t,e){const n=e[1].data[t];return 2&n.flags?e[n.directiveStart]:null}(e.nodeIndex,e.lView)),e.component)}function xu(t){Lu(t);const e=Tu(t,!1);return null===e?null:e.lView[8]}function wu(t){const e=Tu(t,!1);if(null===e)return null;let n,r=e.lView;for(;null===r[0]&&(n=ki(r));)r=n;return 512&r[2]?null:r[8]}function Cu(t){return[...Ii(t).components]}function Su(t){const e=Tu(t,!1);return null===e?ss.NULL:new er(e.lView[1].data[e.nodeIndex],e.lView)}function Eu(t){const e=Tu(t);return void 0===e.directives&&(e.directives=yi(e.nodeIndex,e.lView,!1)),null===e.directives?[]:[...e.directives]}function Tu(t,e=!0){const n=ui(t);if(!n&&e)throw new Error("Invalid ng target");return n}function Ou(t){return ui(t).native}function Au(t){Lu(t);const e=Tu(t,!1);if(null===e)return[];const n=e.lView,r=n[7],i=n[1].cleanup,o=[];if(i&&r)for(let a=0;a<i.length;){const e=i[a++],s=i[a++];if("string"==typeof e){const c=e,l=_e(n[s]),u=r[i[a++]],p=i[a++],d="boolean"==typeof p||p>=0?"dom":"output",h="boolean"==typeof p&&p;t==l&&o.push({element:t,name:c,callback:u,useCapture:h,type:d})}}return o.sort(Pu),o}function Pu(t,e){return t.name==e.name?0:t.name<e.name?-1:1}function Lu(t){if("undefined"!=typeof Element&&!(t instanceof Element))throw new Error("Expecting instance of DOM Element")}function ku(t){Mc(t),Cu(t).forEach(t=>bc(t))}let Iu=!1;function Du(){Iu||(Iu=!0,Nu("getComponent",Mu),Nu("getContext",xu),Nu("getListeners",Au),Nu("getOwningComponent",wu),Nu("getHostElement",Ou),Nu("getInjector",Su),Nu("getRootComponents",Cu),Nu("getDirectives",Eu),Nu("applyChanges",ku))}function Nu(t,e){if("undefined"==typeof COMPILED||!COMPILED){const n=G;if(n){let r=n.ng;r||(r=n.ng={}),r[t]=e}}}function Ru(t,e={}){const n=e.rendererFactory||ye,r=e.sanitizer||null,i=Jt(t);i.type!=t&&(i.type=t);const o=i.selectors[0][0],a=co(n.createRenderer(null,null),e.host||o,i.encapsulation),s=i.onPush?576:528,c=ju(e.scheduler,e.playerHandler),l=n.createRenderer(a,i),u=so(0,-1,null,1,0,null,null,null,null,null),p=Ki(null,u,c,s,null,null,n,l,void 0,e.injector||null);let d;nn(p,null);try{n.begin&&n.begin(),d=Fu(zu(a,i,p,n,l,r),i,p,c,e.hostFeatures||null),Qi(u,p,null),to(u,p,null,null)}finally{cn(),n.end&&n.end()}return d}function zu(t,e,n,r,i,o){const a=n[1];n[20]=t;const s=Zi(a,null,0,3,null,null),c=s.mergedAttrs=e.hostAttrs;null!==c&&(Vs(s,c,!0),null!==t&&(wn(i,t,c),null!==s.classes&&da(i,t,s.classes),null!==s.styles&&pa(i,t,s.styles)));const l=r.createRenderer(t,e),u=Ki(n,ao(e),null,e.onPush?64:16,n[20],s,r,l,o);return a.firstCreatePass&&(Un(Vn(s,n),a,e.type),vo(a,s),Mo(s,n.length,1)),Po(n,u),n[20]=u}function Fu(t,e,n,r,i){const o=n[1],a=function(t,e,n){const r=je();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),_o(t,r,1),xo(t,e,n));const i=Zn(e,t,e.length-1,r);hi(i,e);const o=be(r,e);return o&&hi(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach(t=>t(a,e)),e.contentQueries&&e.contentQueries(1,a,n.length-1);const s=je();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){pn(s.index-20);const t=n[1];mo(t,e),go(t,n,e.hostVars),yo(e,a)}return a}function ju(t,e){return{components:[],scheduler:t||Dn,clean:Ro,playerHandler:e||null,flags:0}}function Bu(t,e){const n=Ee(t)[1],r=n.data.length-1;gn(n,{directiveStart:r,directiveEnd:r+1})}function qu(t){return Ii(t).clean}function Vu(t){return Object.getPrototypeOf(t.prototype).constructor}function Yu(t){let e=Vu(t.type),n=!0;const r=[t];for(;e;){let i=void 0;if(oe(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Hu(t.inputs),e.declaredInputs=Hu(t.declaredInputs),e.outputs=Hu(t.outputs);const n=i.hostBindings;n&&Xu(t,n);const o=i.viewQuery,a=i.contentQueries;if(o&&Wu(t,o),a&&Uu(t,a),E(t.inputs,i.inputs),E(t.declaredInputs,i.declaredInputs),E(t.outputs,i.outputs),oe(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Yu&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=En(i.hostAttrs,n=En(n,i.hostAttrs))}}(r)}function Hu(t){return t===Rt?{}:t===zt?[]:t}function Wu(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Uu(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Xu(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const Gu=["providersResolver"],Ju=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function $u(t){let e=Vu(t.type),n=void 0;n=oe(t)?e.\u0275cmp:e.\u0275dir;const r=t;for(const i of Gu)r[i]=n[i];if(oe(n))for(const i of Ju)r[i]=n[i]}function Ku(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ku(t[o],e,n,r,i);else{const o=ze(),a=Re();let s=is(t)?t:V(t.provide),c=es(t);const l=je(),u=1048575&l.providerIndexes,p=l.directiveStart,d=l.providerIndexes>>20;if(is(t)||!t.multi){const r=new xn(c,i,Sc),h=tp(s,e,i?u:u+d,p);-1===h?(Un(Vn(l,a),o,s),Zu(o,t,e.length),e.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),a.push(r)):(n[h]=r,a[h]=r)}else{const h=tp(s,e,u+d,p),f=tp(s,e,u,u+d),m=h>=0&&n[h],g=f>=0&&n[f];if(i&&!g||!i&&!m){Un(Vn(l,a),o,s);const u=function(t,e,n,r,i){const o=new xn(t,n,Sc);return o.multi=[],o.index=e,o.componentProviders=0,Qu(o,i,r&&!n),o}(i?np:ep,n.length,i,r,c);!i&&g&&(n[f].providerFactory=u),Zu(o,t,e.length,0),e.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),a.push(u)}else Zu(o,t,h>-1?h:f,Qu(n[i?f:h],c,!i&&r));!i&&r&&g&&n[f].componentProviders++}}}function Zu(t,e,n,r){const i=is(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=a.indexOf(n);-1===t?a.push(n,[r,o]):a[t+1].push(r,o)}else a.push(n,o)}}}function Qu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ep(t,e,n,r){return rp(this.multi,[])}function np(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Zn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),rp(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],rp(i,o);return o}function rp(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ip(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ze();if(r.firstCreatePass){const i=oe(t);Ku(n,r.data,r.blueprint,i,!0),Ku(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class op{}class ap{}function sp(t){const e=Error(`No component factory found for ${F(t)}. Did you add it to @NgModule.entryComponents?`);return e[cp]=t,e}const cp="ngComponent";class lp{resolveComponentFactory(t){throw sp(t)}}let up=(()=>{class t{}return t.NULL=new lp,t})();class pp{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw sp(t);return new dp(e,this._ngModule)}}class dp extends ap{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}let hp=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>mp(t),t})();const fp=function(t){return _a(t,je(),Re())},mp=fp;class gp{}var yp=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let _p=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>bp(),t})();const vp=function(){const t=Re(),e=Ce(je().index,t);return function(t){const e=t[11];if(ge(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(te(e)?e:t)},bp=vp;let Mp=(()=>{class t{}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>null}),t})();class xp{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wp=new xp("10.0.7");class Cp{constructor(){}supports(t){return Xs(t)}create(t){return new Ep(t)}}const Sp=(t,e)=>e;class Ep{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Sp}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Pp(n,r,i)?e:n,a=Pp(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=a-r,e=s-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}a!==s&&t(o,a,s)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Xs(t))throw new Error(`Error trying to diff '${F(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Hs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Tp(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ap),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ap),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Tp{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Op{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ap{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Op,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pp(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Lp{constructor(){}supports(t){return t instanceof Map||Gs(t)}create(){return new kp}}class kp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Gs(t)))throw new Error(`Error trying to diff '${F(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ip(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ip{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Dp=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new _]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new Cp])}),t})(),Np=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new _]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new Lp])}),t})();const Rp=[new Lp],zp=new Dp([new Cp]),Fp=new Np(Rp);let jp=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qp(t,hp),t})();const Bp=function(t,e){return va(t,e,je(),Re())},qp=Bp;let Vp=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Hp(t,hp),t})();const Yp=function(t,e){return ba(t,e,je(),Re())},Hp=Yp;function Wp(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Up(n,e),n}(i,t)}function Up(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function Xp(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function Gp(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Jp(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function $p(t,e){return t.nodes[e]}function Kp(t,e){return t.nodes[e]}function Zp(t,e){return t.nodes[e]}function Qp(t,e){return t.nodes[e]}function td(t,e){return t.nodes[e]}class ed{}const nd={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},rd=()=>{},id=new Map;function od(t){let e=id.get(t);return e||(e=F(t)+"_"+id.size,id.set(t,e)),e}function ad(t,e,n,r){if(Us.isWrapped(r)){r=Us.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=Us.unwrap(t.oldValues[i]);t.oldValues[i]=new Us(o)}return r}function sd(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let cd=0;function ld(t,e,n,r){return!(!(2&t.state)&&Object.is(t.oldValues[e.bindingIndex+n],r))}function ud(t,e,n,r){return!!ld(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function pd(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ws(i,r)){const o=e.bindings[n].name;throw Wp(nd.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function dd(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function hd(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function fd(t,e,n,r){try{return dd(33554432&t.def.nodes[e].flags?Kp(t,e).componentView:t),nd.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function md(t){return t.parent?Kp(t.parent,t.parentNodeDef.nodeIndex):null}function gd(t){return t.parent?t.parentNodeDef.parent:null}function yd(t,e){switch(201347067&e.flags){case 1:return Kp(t,e.nodeIndex).renderElement;case 2:return $p(t,e.nodeIndex).renderText}}function _d(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function vd(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function bd(t){return 1<<t%32}function Md(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=bd(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function xd(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:r,token:n,tokenKey:od(n)}})}function wd(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Nt.Native?Kp(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Cd=new WeakMap;function Sd(t){let e=Cd.get(t);return e||(e=t(()=>rd),e.factory=t,Cd.set(t,e)),e}function Ed(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(yd(t,t.def.lastRenderRootNode))),Td(t,e,0,t.def.nodes.length-1,n,r,i)}function Td(t,e,n,r,i,o,a){for(let s=n;s<=r;s++){const n=t.def.nodes[s];11&n.flags&&Ad(t,n,e,i,o,a),s+=n.childCount}}function Od(t,e,n,r,i,o){let a=t;for(;a&&!_d(a);)a=a.parent;const s=a.parent,c=gd(a),l=c.nodeIndex+c.childCount;for(let u=c.nodeIndex+1;u<=l;u++){const t=s.def.nodes[u];t.ngContentIndex===e&&Ad(s,t,n,r,i,o),u+=t.childCount}if(!s.parent){const a=t.root.projectableNodes[e];if(a)for(let e=0;e<a.length;e++)Pd(t,a[e],n,r,i,o)}}function Ad(t,e,n,r,i,o){if(8&e.flags)Od(t,e.ngContent.index,n,r,i,o);else{const a=yd(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Pd(t,a,n,r,i,o),32&e.bindingFlags&&Pd(Kp(t,e.nodeIndex).componentView,a,n,r,i,o)):Pd(t,a,n,r,i,o),16777216&e.flags){const a=Kp(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<a.length;t++)Ed(a[t],n,r,i,o)}1&e.flags&&!e.element.name&&Td(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Pd(t,e,n,r,i,o){const a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}const Ld=/^:([^:]+):(.+)$/;function kd(t){if(":"===t[0]){const e=t.match(Ld);return[e[1],e[2]]}return["",t]}function Id(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Dd(t,e){let n="";for(let r=0;r<2*t;r+=2)n=n+e[r]+Rd(e[r+1]);return n+e[2*t]}function Nd(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y,_,v){switch(t){case 1:return e+Rd(n)+r;case 2:return e+Rd(n)+r+Rd(i)+o;case 3:return e+Rd(n)+r+Rd(i)+o+Rd(a)+s;case 4:return e+Rd(n)+r+Rd(i)+o+Rd(a)+s+Rd(c)+l;case 5:return e+Rd(n)+r+Rd(i)+o+Rd(a)+s+Rd(c)+l+Rd(u)+p;case 6:return e+Rd(n)+r+Rd(i)+o+Rd(a)+s+Rd(c)+l+Rd(u)+p+Rd(d)+h;case 7:return e+Rd(n)+r+Rd(i)+o+Rd(a)+s+Rd(c)+l+Rd(u)+p+Rd(d)+h+Rd(f)+m;case 8:return e+Rd(n)+r+Rd(i)+o+Rd(a)+s+Rd(c)+l+Rd(u)+p+Rd(d)+h+Rd(f)+m+Rd(g)+y;case 9:return e+Rd(n)+r+Rd(i)+o+Rd(a)+s+Rd(c)+l+Rd(u)+p+Rd(d)+h+Rd(f)+m+Rd(g)+y+Rd(_)+v;default:throw new Error("Does not support more than 9 expressions")}}function Rd(t){return null!=t?t.toString():""}const zd=[],Fd={},jd={},Bd=od(ss),qd=od(ot),Vd=od(Mt);function Yd(t,e,n,r){return n=V(n),{index:-1,deps:xd(r,F(e)),flags:t,token:e,value:n}}function Hd(t){const e={},n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];o.token===Wa&&(r=o.value),1073741824&o.flags&&n.push(o.token),o.index=i,e[od(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,scope:r}}function Wd(t,e,n=ss.THROW_IF_NOT_FOUND){const r=pt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const i=e.tokenKey;switch(i){case Bd:case qd:case Vd:return t}const o=t._def.providersByKey[i];let a;if(o){let e=t._providers[o.index];return void 0===e&&(e=t._providers[o.index]=Ud(t,o)),e===jd?void 0:e}if((a=P(e.token))&&function(t,e){const n=e.providedIn;return null!=n&&("any"===n||n===t._def.scope||function(t,e){return t._def.modules.indexOf(e)>-1}(t,n))}(t,a)){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:e.token},t._providers[n]=jd,t._providers[n]=Ud(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{pt(r)}}function Ud(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Wd(t,n[0]));case 2:return new e(Wd(t,n[0]),Wd(t,n[1]));case 3:return new e(Wd(t,n[0]),Wd(t,n[1]),Wd(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=Wd(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Wd(t,n[0]));case 2:return e(Wd(t,n[0]),Wd(t,n[1]));case 3:return e(Wd(t,n[0]),Wd(t,n[1]),Wd(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=Wd(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Wd(t,e.deps[0]);break;case 256:n=e.value}return n===jd||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?jd:n}function Xd(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Tt(n,e),nd.dirtyParentQueries(r),Jd(r),r}function Gd(t,e,n){const r=e?yd(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Ed(n,2,i,o,void 0)}function Jd(t){Ed(t,3,null,null,void 0)}const $d={};function Kd(t,e,n,r,i,o){return new Qd(t,e,n,r,i,o)}function Zd(t){return t.viewDefFactory}class Qd extends ap{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Sd(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=nd.createRootView(t,e||[],n,i,r,$d),s=Zp(a,o).instance;return n&&a.renderer.setAttribute(Kp(a,0).renderElement,"ng-version",wp.full),new th(a,new ih(a),s)}}class th extends op{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new hp(Kp(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new ch(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function eh(t,e,n){return new nh(t,e,n)}class nh{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new hp(this._data.renderElement)}get injector(){return new ch(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=gd(t),t=t.parent;return t?new ch(t,e):new ch(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Xd(this._data,t);nd.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new ih(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof dp||(i=o.get(Mt));const a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Et(i,n,r),function(t,e){const n=md(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),nd.dirtyParentQueries(r),Gd(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Tt(r,e),null==n&&(n=r.length),Et(r,n,i),nd.dirtyParentQueries(i),Jd(i),Gd(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Xd(this._data,t);e&&nd.destroyView(e)}detach(t){const e=Xd(this._data,t);return e?new ih(e):null}}function rh(t){return new ih(t)}class ih{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Ed(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){dd(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{nd.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){nd.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),nd.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Jd(this._view),nd.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function oh(t,e){return new ah(t,e)}class ah extends jp{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new ih(nd.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new hp(Kp(this._parentView,this._def.nodeIndex).renderElement)}}function sh(t,e){return new ch(t,e)}class ch{constructor(t,e){this.view=t,this.elDef=e}get(t,e=ss.THROW_IF_NOT_FOUND){return nd.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:od(t)},e)}}function lh(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Kp(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return $p(t,n.nodeIndex).renderText;if(20240&n.flags)return Zp(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function uh(t,e,n,r){return new ph(t,e,n,r)}class ph{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=Ot(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Ud(t,i))}}(this)}get(t,e=ss.THROW_IF_NOT_FOUND,n=C.Default){let r=0;return n&C.SkipSelf?r|=1:n&C.Self&&(r|=4),Wd(this,{token:t,tokenKey:od(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(up)}destroy(){if(this._destroyed)throw new Error(`The ng module ${F(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==jd){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const dh=od(_p),hh=od(hp),fh=od(Vp),mh=od(jp),gh=od(xa),yh=od(ss),_h=od(ot);function vh(t,e,n,r,i,o,a,s){const c=[];if(a)for(let u in a){const[t,e]=a[u];c[t]={flags:8,name:u,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const l=[];if(s)for(let u in s)l.push({type:1,propName:u,target:null,eventName:s[u]});return xh(t,e|=16384,n,r,i,i,o,c,l)}function bh(t,e,n){return xh(-1,t|=16,null,0,e,e,n)}function Mh(t,e,n,r,i){return xh(-1,t,e,0,n,r,i)}function xh(t,e,n,r,i,o,a,s,c){const{matchedQueries:l,references:u,matchedQueryIds:p}=Md(n);c||(c=[]),s||(s=[]),o=V(o);const d=xd(a,F(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:p,references:u,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Id(s),outputs:c,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function wh(t,e){return Th(t,e)}function Ch(t,e){let n=t;for(;n.parent&&!_d(n);)n=n.parent;return Oh(n.parent,gd(n),!0,e.provider.value,e.provider.deps)}function Sh(t,e){const n=Oh(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!Fc(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Eh(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Eh(t,e,n){return r=>fd(t,e,n,r)}function Th(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Oh(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Ph(t,e,n,i[0]));case 2:return r(Ph(t,e,n,i[0]),Ph(t,e,n,i[1]));case 3:return r(Ph(t,e,n,i[0]),Ph(t,e,n,i[1]),Ph(t,e,n,i[2]));default:const a=[];for(let r=0;r<o;r++)a.push(Ph(t,e,n,i[r]));return r(...a)}}(t,e.parent,n,r.value,r.deps);case 2048:return Ph(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Oh(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Ph(t,e,n,i[0]));case 2:return new r(Ph(t,e,n,i[0]),Ph(t,e,n,i[1]));case 3:return new r(Ph(t,e,n,i[0]),Ph(t,e,n,i[1]),Ph(t,e,n,i[2]));default:const a=[];for(let r=0;r<o;r++)a.push(Ph(t,e,n,i[r]));return new r(...a)}}const Ah={};function Ph(t,e,n,r,i=ss.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const a=r.tokenKey;a===gh&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let s=t;for(;s;){if(e)switch(a){case dh:return Lh(s,e,n).renderer;case hh:return new hp(Kp(s,e.nodeIndex).renderElement);case fh:return Kp(s,e.nodeIndex).viewContainer;case mh:if(e.element.template)return Kp(s,e.nodeIndex).template;break;case gh:return rh(Lh(s,e,n));case yh:case _h:return sh(s,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[a];if(t){let e=Zp(s,t.nodeIndex);return e||(e={instance:Th(s,t)},s.nodes[t.nodeIndex]=e),e.instance}}n=_d(s),e=gd(s),s=s.parent,4&r.flags&&(s=null)}const c=o.root.injector.get(r.token,Ah);return c!==Ah||i===Ah?c:o.root.ngModule.injector.get(r.token,i)}function Lh(t,e,n){let r;if(n)r=Kp(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!_d(r);)r=r.parent;return r}function kh(t,e,n,r,i,o){if(32768&n.flags){const e=Kp(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=Us.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new se(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Ih(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let a=o.parent;for(!a&&o.flags&e&&Nh(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Dh(t,a,e,r)),a=a.parent}}function Dh(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Nh(t,i,e.flags&n,r++),i+=e.childCount}return r}function Nh(t,e,n,r){const i=Zp(t,e);if(!i)return;const o=i.instance;o&&(nd.setCurrentNode(t,e),1048576&n&&Jp(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Jp(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}class Rh extends up{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Jt(t);return new jh(e,this.ngModule)}}function zh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Fh=new it("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dn});class jh extends ap{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Pi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return zh(this.componentDef.inputs)}get outputs(){return zh(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ah,i);return o!==Ah||r===Ah?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(gp,ye),a=i.get(Mp,null),s=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?co(s,n,this.componentDef.encapsulation):$i(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,p=ju(),d=so(0,-1,null,1,0,null,null,null,null,null),h=Ki(null,d,p,u,null,null,o,s,a,i);let f,m;nn(h,null);try{const t=zu(l,this.componentDef,h,o,s);if(l)if(n)wn(s,l,["ng-version",wp.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&wn(s,l,t),e&&e.length>0&&da(s,l,e.join(" "))}if(m=xe(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}f=Fu(t,this.componentDef,h,p,[Bu]),Qi(d,h,null)}finally{cn()}const g=new Bh(this.componentType,f,_a(hp,m,h),h,m);return d.node.child=m,g}}class Bh extends op{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new fa(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=uo(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const qh=void 0;var Vh=["en",[["a","p"],["AM","PM"],qh],[["AM","PM"],qh,qh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qh,"{1} 'at' {0}",qh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Yh={};function Hh(t,e,n){"string"!=typeof e&&(n=e,e=t[$h.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Yh[e]=t,n&&(Yh[e][$h.ExtraData]=n)}function Wh(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Gh(e);if(n)return n;const r=e.split("-")[0];if(n=Gh(r),n)return n;if("en"===r)return Vh;throw new Error(`Missing locale data for the locale "${t}".`)}function Uh(t){return Wh(t)[$h.CurrencyCode]||null}function Xh(t){return Wh(t)[$h.PluralCase]}function Gh(t){return t in Yh||(Yh[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),Yh[t]}function Jh(){Yh={}}var $h=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Kh=["zero","one","two","few","many"],Zh="en-US",Qh="USD",tf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ef=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,nf=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,rf=/\ufffd(\d+):?\d*\ufffd/gi,of=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,af=/\[(\ufffd.+?\ufffd?)\]/,sf=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,cf=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,lf=/{([A-Z0-9_]+)}/g,uf=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,pf=/\/\*/,df=/\d+\:(\d+)/;function hf(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);tf.test(n)?r.push(ff(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const a=t.substring(e);return r.push(a),r}function ff(t){const e=[],n=[];let r=1,i=0;const o=hf(t=t.replace(tf,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let a=0;a<o.length;){let t=o[a++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=hf(o[a++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function mf(t){let e,n,r="",i=0,o=!1;for(;null!==(e=ef.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function gf(t,e,n,r=null){const i=[null,null],o=t.split(rf);let a=0;for(let s=0;s<o.length;s++){const t=o[s];if(1&s){const e=parseInt(t,10);i.push(-1-e),a|=bf(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function yf(t,e=0){let n;e|=bf(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=rf.exec(r);)e|=bf(parseInt(n[1],10));else e=yf(r,e)}}return e}const _f=[];let vf=-1;function bf(t){return 1<<Math.min(t,31)}const Mf=[];function xf(t,e,n){const r=ze();_f[++vf]=t,Gc(!0),r.firstCreatePass&&null===r.data[t+20]&&function(t,e,n,r,i){const o=e.blueprint.length-20;wf=0;const a=je(),s=qe()?a:a&&a.parent;let c=s&&s!==t[6]?s.index-20:n,l=0;Mf[l]=c;const u=[];if(n>0&&a!==s){let t=a.index-20;qe()||(t=~t),u.push(t<<3|0)}const p=[],d=[];if(""===r&&Ef(i))u.push(r,Cf(o),c<<17|1);else{const t=function(t,e){if(Ef(e))return mf(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return mf(t.substring(n,r))}}(r,i),e=(h=t,h.replace(Vf," ")).split(nf);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);c=Mf[--l],u.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);u.push((e?t:~t)<<3|0,c<<17|1),e&&(Mf[++l]=c=t)}else{const e=hf(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Cf(o);u.push(qi,"",i,c<<17|1);const a=yf(r);jf(d,r,i,i);const s=d.length-1;p.push(bf(r.mainBinding),3,-1-r.mainBinding,i<<2|2,s,a,2,i<<2|3,s)}else if(""!==e[n]){const t=e[n],r=t.match(rf),i=Cf(o);u.push(r?"":t,i,c<<17|1),r&&wt(gf(t,i),p)}}}}var h;wf>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,wf),e.data[n+20]={vars:wf,create:u,update:p,icus:d.length?d:null}}(Re(),r,t,e,n)}let wf;function Cf(t){return t+wf++}function Sf(t,e,n,r,i){const o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let a=e.next;for(;a;)a.next===e&&(a.next=o),a=a.next;if(1===e.type)return la(t,i,e),e;ia(t,i,be(e,i),e);const s=i[e.index];return 0!==e.type&&ee(s)&&ia(t,i,s[7],e),e}function Ef(t){return void 0===t}function Tf(t,e={}){let n=t;if(af.test(t)){const t={},e=[0];n=n.replace(sf,(n,r,i)=>{const o=r||i,a=t[o]||[];if(a.length||(o.split("|").forEach(t=>{const e=t.match(df),n=e?parseInt(e[1],10):0,r=pf.test(t);a.push([n,r,t])}),t[o]=a),!a.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);const s=e[e.length-1];let c=0;for(let t=0;t<a.length;t++)if(a[t][0]===s){c=t;break}const[l,u,p]=a[c];return u?e.pop():s!==l&&e.push(l),a.splice(c,1),p})}return Object.keys(e).length?(n=n.replace(cf,(t,n,r,i,o,a)=>e.hasOwnProperty(r)?`${n}${e[r]}${a}`:t),n=n.replace(lf,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(uf,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}function Of(){const t=Re();!function(t,e){const n=_f[vf--],r=t.data[n+20],i=je(),o=Pf(n,r.create,t,e);let a=n+1;for(;a<=i.index-20;){-1===o.indexOf(a)&&Lf(t,e,a,!0);const n=xe(t,a);!n||0!==n.type&&3!==n.type&&4!==n.type||null===n.localNames||(a+=n.localNames.length>>1),a++}}(ze(),t),Gc(!1)}function Af(t,e,n,r,i,o){const a=je();e[n+20]=i;const s=Zi(t,e[6],n,r,o,null);return a&&a.next===s&&(a.next=null),s}function Pf(t,e,n,r){const i=r[11];let o=null,a=null;const s=[];for(let c=0;c<e.length;c++){const l=e[c];if("string"==typeof l){const t=Wo(l,i),u=e[++c];a=o,o=Af(n,r,u,3,t,null),s.push(u),Ve()}else if("number"==typeof l)switch(7&l){case 1:const i=l>>>17;let u;u=i===t?r[6]:xe(n,i),a=Sf(n,o,u,a,r);break;case 0:const p=l>=0,d=(p?l:~l)>>>3;s.push(d),a=o,o=xe(n,d),o&&Be(o,p);break;case 5:a=o=xe(n,l>>>3),Be(o,!1);break;case 4:const h=e[++c],f=e[++c];Co(xe(n,l>>>3),r,h,f,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case qi:const t=e[++c],u=e[++c],p=i.createComment(t);a=o,o=Af(n,r,u,5,p,null),s.push(u),hi(p,r),o.activeCaseIndex=null,Ve();break;case Bi:const d=e[++c],h=e[++c];a=o,o=Af(n,r,h,3,i.createElement(d),d),s.push(h);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}}return Ve(),s}function Lf(t,e,n,r){const i=xe(t,n),o=ve(n,e);o&&aa(e[11],o);const a=we(e,n);if(ee(a)){const t=a;0!==i.type&&aa(e[11],t[7])}r&&(i.flags|=64)}function kf(t,e,n){xf(t,e,n),Of()}function If(t,e){!function(t,e,n,r){const i=je().index-20,o=[];for(let a=0;a<r.length;a+=2){const s=r[a],c=r[a+1].split(of);for(let r=0;r<c.length;r++){const a=c[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==a)if(a.match(rf))e.firstCreatePass&&null===e.data[n+20]&&wt(gf(a,i,s),o);else{const n=xe(e,i);3===n.type&&Co(n,t,s,a,null,null);const r=null!==n.inputs&&n.inputs[s];r&&Bo(e,t,r,s,a)}}}e.firstCreatePass&&null===e.data[n+20]&&(e.data[n+20]=o)}(Re(),ze(),t,e)}let Df=0,Nf=0;function Rf(t){return Ks(Re(),Ge(),t)&&(Df|=1<<Nf),Nf++,Rf}function zf(t){if(Nf){const e=ze(),n=e.data[t+20];let r,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus);const o=Ue()-Nf-1,a=Re();!function t(e,n,r,i,o,a,s=!1){let c=!1;for(let l=0;l<e.length;l++){const u=e[l],p=e[++l];if(s||u&i){let s="";for(let u=l+1;u<=l+p;u++){const l=e[u];if("string"==typeof l)s+=l;else if("number"==typeof l)if(l<0)s+=kn(a[r-l]);else{const p=l>>>2;let d,h,f;switch(3&l){case 1:const l=e[++u],m=e[++u];ho(o,xe(o,p),a,l,s,a[11],m,!1);break;case 0:qo(a,p,s);break;case 2:if(d=e[++u],h=n[d],f=xe(o,p),null!==f.activeCaseIndex){const t=h.remove[f.activeCaseIndex];for(let e=0;e<t.length;e++){const r=t[e];switch(7&r){case 3:Lf(o,a,r>>>3,!1);break;case 6:const i=xe(o,t[e+1]>>>3).activeCaseIndex;null!==i&&wt(n[r>>>3].remove[i],t)}}}const g=Ff(h,s);f.activeCaseIndex=-1!==g?g:null,g>-1&&(Pf(-1,h.create[g],o,a),c=!0);break;case 3:d=e[++u],h=n[d],f=xe(o,p),null!==f.activeCaseIndex&&t(h.update[f.activeCaseIndex],n,r,i,o,a,c)}}}}l+=p}}(r,i,o,Df,e,a),Df=0,Nf=0}}function Ff(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Xh(e)(parseInt(t,10)),r=Kh[n];return void 0!==r?r:"other"}(e,Yf);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}function jf(t,e,n,r){const i=[],o=[],a=[],s=[],c=[];for(let l=0;l<e.values.length;l++){const u=e.values[l],p=[];for(let t=0;t<u.length;t++){const e=u[t];if("string"!=typeof e){const n=p.push(e)-1;u[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const d=Bf(u.join(""),n,p,t,r);i.push(d.create),o.push(d.remove),a.push(d.update),s.push(d.vars),c.push(d.childIcus)}t.push({type:e.type,vars:s,childIcus:c,cases:e.cases,create:i,remove:o,update:a}),wf+=Math.max(...s)}function Bf(t,e,n,r,i){const o=Or(me()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const a={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,a){if(e){const s=[];for(;e;){const c=e.nextSibling,l=a+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const c=e,u=c.tagName.toLowerCase();if(qr.hasOwnProperty(u)){n.create.push(Bi,u,l,r<<17|1);const s=c.attributes;for(let t=0;t<s.length;t++){const e=s.item(t),r=e.name.toLowerCase();e.value.match(rf)?Hr.hasOwnProperty(r)&&wt(Vr[r]?gf(e.value,l,e.name,Ir):Yr[r]?gf(e.value,l,e.name,Dr):gf(e.value,l,e.name),n.update):n.create.push(l<<3|4,e.name,e.value)}t(e.firstChild,n,l,i,o,a),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const p=e.textContent||"",d=p.match(rf);n.create.push(d?"":p,l,r<<17|1),n.remove.push(l<<3|3),d&&wt(gf(p,l),n.update);break;case Node.COMMENT_NODE:const h=qf.exec(e.textContent||"");if(h){const t=parseInt(h[1],10);n.create.push(qi,"",l,r<<17|1),s.push([i[t],l])}else n.vars--;break;default:n.vars--}e=c}for(let t=0;t<s.length;t++){const e=s[t][0],r=s[t][1];jf(o,e,r,a+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const c=yf(e);n.update.push(bf(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,c,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Zr(o)||o).firstChild,a,e,n,r,i),a}const qf=/\ufffd(\d+)\ufffd/,Vf=/\uE500/g;let Yf=Zh;function Hf(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Yf=t.toLowerCase().replace(/_/g,"-"))}function Wf(t,e,n,r){return c(()=>{const i=t,o=i.prototype?Object.getPrototypeOf(i.prototype):null,a=o&&o.constructor;null!==e&&(void 0===i.decorators||a&&a.decorators===i.decorators?i.decorators=e:i.decorators.push(...e)),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=void 0===i.propDecorators||a&&a.propDecorators===i.propDecorators?r:Object.assign(Object.assign({},i.propDecorators),r))})}const Uf=new Map;function Xf(t,e){const n=Uf.get(t);Gf(t,n&&n.moduleType,e.moduleType),Uf.set(t,e)}function Gf(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${F(e)} vs ${F(e.name)}`)}function Jf(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;Gf(e,Uf.get(e),t),Uf.set(e,t)}let e=t.\u0275mod.imports;e instanceof Function&&(e=e()),e&&e.forEach(t=>Jf(t))}function $f(t){return Uf.get(t)||Yt[t]}class Kf extends Mt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Rh(this);const n=Qt(t),r=t[et]||null;r&&Hf(r),this._bootstrapComponents=Fn(n.bootstrap),this._r3Injector=Za(t,e,[{provide:Mt,useValue:this},{provide:up,useValue:this.componentFactoryResolver}],F(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ss.THROW_IF_NOT_FOUND,n=C.Default){return t===ss||t===Mt||t===ot?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Zf extends xt{constructor(t){super(),this.moduleType=t,null!==Qt(t)&&Jf(t)}create(t){return new Kf(this.moduleType,t)}}function Qf(t,e,n){const r=We()+t,i=Re();return i[r]===Li?Js(i,r,n?e.call(n):e()):$s(i,r)}function tm(t,e,n,r){return um(Re(),We(),t,e,n,r)}function em(t,e,n,r,i){return pm(Re(),We(),t,e,n,r,i)}function nm(t,e,n,r,i,o){return dm(Re(),We(),t,e,n,r,i,o)}function rm(t,e,n,r,i,o,a){return hm(Re(),We(),t,e,n,r,i,o,a)}function im(t,e,n,r,i,o,a,s){const c=We()+t,l=Re(),u=tc(l,c,n,r,i,o);return Ks(l,c+4,a)||u?Js(l,c+5,s?e.call(s,n,r,i,o,a):e(n,r,i,o,a)):$s(l,c+5)}function om(t,e,n,r,i,o,a,s,c){const l=We()+t,u=Re(),p=tc(u,l,n,r,i,o);return Zs(u,l+4,a,s)||p?Js(u,l+6,c?e.call(c,n,r,i,o,a,s):e(n,r,i,o,a,s)):$s(u,l+6)}function am(t,e,n,r,i,o,a,s,c,l){const u=We()+t,p=Re();let d=tc(p,u,n,r,i,o);return Qs(p,u+4,a,s,c)||d?Js(p,u+7,l?e.call(l,n,r,i,o,a,s,c):e(n,r,i,o,a,s,c)):$s(p,u+7)}function sm(t,e,n,r,i,o,a,s,c,l,u){const p=We()+t,d=Re(),h=tc(d,p,n,r,i,o);return tc(d,p+4,a,s,c,l)||h?Js(d,p+8,u?e.call(u,n,r,i,o,a,s,c,l):e(n,r,i,o,a,s,c,l)):$s(d,p+8)}function cm(t,e,n,r){return fm(Re(),We(),t,e,n,r)}function lm(t,e){const n=t[e];return n===Li?void 0:n}function um(t,e,n,r,i,o){const a=e+n;return Ks(t,a,i)?Js(t,a+1,o?r.call(o,i):r(i)):lm(t,a+1)}function pm(t,e,n,r,i,o,a){const s=e+n;return Zs(t,s,i,o)?Js(t,s+2,a?r.call(a,i,o):r(i,o)):lm(t,s+2)}function dm(t,e,n,r,i,o,a,s){const c=e+n;return Qs(t,c,i,o,a)?Js(t,c+3,s?r.call(s,i,o,a):r(i,o,a)):lm(t,c+3)}function hm(t,e,n,r,i,o,a,s,c){const l=e+n;return tc(t,l,i,o,a,s)?Js(t,l+4,c?r.call(c,i,o,a,s):r(i,o,a,s)):lm(t,l+4)}function fm(t,e,n,r,i,o){let a=e+n,s=!1;for(let c=0;c<i.length;c++)Ks(t,a++,i[c])&&(s=!0);return s?Js(t,a,r.apply(o,i)):lm(t,a)}function mm(t,e){const n=ze();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Zt(r.type)),a=dt(Sc),s=Bn(!1),c=o();return Bn(s),dt(a),wc(n,Re(),t,c),c}function gm(t,e,n){const r=Re(),i=we(r,t);return xm(r,Mm(r,t)?um(r,We(),e,i.transform,n,i):i.transform(n))}function ym(t,e,n,r){const i=Re(),o=we(i,t);return xm(i,Mm(i,t)?pm(i,We(),e,o.transform,n,r,o):o.transform(n,r))}function _m(t,e,n,r,i){const o=Re(),a=we(o,t);return xm(o,Mm(o,t)?dm(o,We(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function vm(t,e,n,r,i,o){const a=Re(),s=we(a,t);return xm(a,Mm(a,t)?hm(a,We(),e,s.transform,n,r,i,o,s):s.transform(n,r,i,o))}function bm(t,e,n){const r=Re(),i=we(r,t);return xm(r,Mm(r,t)?fm(r,We(),e,i.transform,n,i):i.transform.apply(i,n))}function Mm(t,e){return t[1].data[e+20].pure}function xm(t,e){return Us.isWrapped(e)&&(e=Us.unwrap(e),t[Ue()]=Li),e}const wm=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,a=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(a=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(a=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,o,a);return t instanceof i.a&&t.add(s),s}};function Cm(){return this._results[Hs()]()}class Sm{constructor(){this.dirty=!0,this._results=[],this.changes=new wm,this.length=0;const t=Hs(),e=Sm.prototype;e[t]||(e[t]=Cm)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=Ct(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Em{constructor(t){this.queryList=t,this.matches=null}clone(){return new Em(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Tm(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Hm(t,e).matches&&this.queries[e].setDirty()}}class Om{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Am{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Am(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pm{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Lm(e,n[r]))}else{const n=this.metadata.predicate;n===jp?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Kn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===hp||r===Vp||r===jp&&0===e.type)this.addMatch(e.index,-2);else{const n=Kn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Lm(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function km(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?_a(hp,t,e):0===t.type?va(jp,hp,t,e):null}(e,t):-2===n?function(t,e,n){return n===hp?_a(hp,e,t):n===jp?va(jp,hp,e,t):n===Vp?ba(Vp,hp,e,t):void 0}(t,e,r):Zn(t,t[1],n,e)}function Im(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,a=[];for(let t=0;t<o.length;t+=2){const i=o[t];a.push(i<0?null:km(e,r[i],o[t+1],n.metadata.read))}i.matches=a}return i.matches}function Dm(t){const e=Re(),n=ze(),r=Qe();tn(r+1);const i=Hm(n,r);if(t.dirty&&Te(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),a=o.matches;if(null!==a){const s=Im(e,n,o,r);for(let e=0;e<a.length;e+=2){const r=a[e];if(r>0)i.push(s[e/2]);else{const o=a[e+1],s=n[-r];for(let e=10;e<s.length;e++){const n=s[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==s[9]){const e=s[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Im(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Nm(t,e,n){zm(ze(),Re(),t,e,n,!0)}function Rm(t,e,n){zm(ze(),Re(),t,e,n,!1)}function zm(t,e,n,r,i,o){t.firstCreatePass&&(Ym(t,new Om(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Vm(t,e)}function Fm(t,e,n,r){Bm(ze(),Re(),e,n,r,!1,je(),t)}function jm(t,e,n,r){Bm(ze(),Re(),e,n,r,!0,je(),t)}function Bm(t,e,n,r,i,o,a,s){t.firstCreatePass&&(Ym(t,new Om(n,r,o,i),a.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),o&&(t.staticContentQueries=!0)),Vm(t,e)}function qm(){return t=Re(),e=Qe(),t[19].queries[e].queryList;var t,e}function Vm(t,e){const n=new Sm;lo(t,e,n,n.destroy),null===e[19]&&(e[19]=new Tm),e[19].queries.push(new Em(n))}function Ym(t,e,n){null===t.queries&&(t.queries=new Am),t.queries.track(new Pm(e,n))}function Hm(t,e){return t.queries.getByIndex(e)}function Wm(t,e){return va(jp,hp,t,e)}function Um(t=C.Default){const e=Ma(!0);if(null!=e||t&C.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Xm=(()=>({\u0275\u0275attribute:ec,\u0275\u0275attributeInterpolate1:pc,\u0275\u0275attributeInterpolate2:dc,\u0275\u0275attributeInterpolate3:hc,\u0275\u0275attributeInterpolate4:fc,\u0275\u0275attributeInterpolate5:mc,\u0275\u0275attributeInterpolate6:gc,\u0275\u0275attributeInterpolate7:yc,\u0275\u0275attributeInterpolate8:_c,\u0275\u0275attributeInterpolateV:vc,\u0275\u0275defineComponent:jt,\u0275\u0275defineDirective:Xt,\u0275\u0275defineInjectable:T,\u0275\u0275defineInjector:A,\u0275\u0275defineNgModule:Ht,\u0275\u0275definePipe:Gt,\u0275\u0275directiveInject:Sc,\u0275\u0275getFactoryOf:nr,\u0275\u0275getInheritedFactory:rr,\u0275\u0275inject:ft,\u0275\u0275injectAttribute:Ec,\u0275\u0275invalidFactory:Tc,\u0275\u0275invalidFactoryDep:mt,\u0275\u0275injectPipeChangeDetectorRef:Um,\u0275\u0275templateRefExtractor:Wm,\u0275\u0275NgOnChangesFeature:ce,\u0275\u0275ProvidersFeature:ip,\u0275\u0275CopyDefinitionFeature:$u,\u0275\u0275InheritDefinitionFeature:Yu,\u0275\u0275nextContext:Hc,\u0275\u0275namespaceHTML:mn,\u0275\u0275namespaceMathML:fn,\u0275\u0275namespaceSVG:hn,\u0275\u0275enableBindings:De,\u0275\u0275disableBindings:Ne,\u0275\u0275elementStart:Pc,\u0275\u0275elementEnd:Lc,\u0275\u0275element:kc,\u0275\u0275elementContainerStart:Ic,\u0275\u0275elementContainerEnd:Dc,\u0275\u0275elementContainer:Nc,\u0275\u0275pureFunction0:Qf,\u0275\u0275pureFunction1:tm,\u0275\u0275pureFunction2:em,\u0275\u0275pureFunction3:nm,\u0275\u0275pureFunction4:rm,\u0275\u0275pureFunction5:im,\u0275\u0275pureFunction6:om,\u0275\u0275pureFunction7:am,\u0275\u0275pureFunction8:sm,\u0275\u0275pureFunctionV:cm,\u0275\u0275getCurrentView:Rc,\u0275\u0275restoreView:Fe,\u0275\u0275listener:jc,\u0275\u0275projection:Jc,\u0275\u0275syntheticHostProperty:bu,\u0275\u0275syntheticHostListener:Bc,\u0275\u0275pipeBind1:gm,\u0275\u0275pipeBind2:ym,\u0275\u0275pipeBind3:_m,\u0275\u0275pipeBind4:vm,\u0275\u0275pipeBindV:bm,\u0275\u0275projectionDef:Uc,\u0275\u0275hostProperty:vu,\u0275\u0275property:Oc,\u0275\u0275propertyInterpolate:$c,\u0275\u0275propertyInterpolate1:Kc,\u0275\u0275propertyInterpolate2:Zc,\u0275\u0275propertyInterpolate3:Qc,\u0275\u0275propertyInterpolate4:tl,\u0275\u0275propertyInterpolate5:el,\u0275\u0275propertyInterpolate6:nl,\u0275\u0275propertyInterpolate7:rl,\u0275\u0275propertyInterpolate8:il,\u0275\u0275propertyInterpolateV:ol,\u0275\u0275pipe:mm,\u0275\u0275queryRefresh:Dm,\u0275\u0275viewQuery:Rm,\u0275\u0275staticViewQuery:Nm,\u0275\u0275staticContentQuery:jm,\u0275\u0275loadQuery:qm,\u0275\u0275contentQuery:Fm,\u0275\u0275reference:Cc,\u0275\u0275classMap:xl,\u0275\u0275classMapInterpolate1:Ul,\u0275\u0275classMapInterpolate2:Xl,\u0275\u0275classMapInterpolate3:Gl,\u0275\u0275classMapInterpolate4:Jl,\u0275\u0275classMapInterpolate5:$l,\u0275\u0275classMapInterpolate6:Kl,\u0275\u0275classMapInterpolate7:Zl,\u0275\u0275classMapInterpolate8:Ql,\u0275\u0275classMapInterpolateV:tu,\u0275\u0275styleMap:bl,\u0275\u0275styleMapInterpolate1:eu,\u0275\u0275styleMapInterpolate2:nu,\u0275\u0275styleMapInterpolate3:ru,\u0275\u0275styleMapInterpolate4:iu,\u0275\u0275styleMapInterpolate5:ou,\u0275\u0275styleMapInterpolate6:au,\u0275\u0275styleMapInterpolate7:su,\u0275\u0275styleMapInterpolate8:cu,\u0275\u0275styleMapInterpolateV:lu,\u0275\u0275styleProp:_l,\u0275\u0275stylePropInterpolate1:uu,\u0275\u0275stylePropInterpolate2:pu,\u0275\u0275stylePropInterpolate3:du,\u0275\u0275stylePropInterpolate4:hu,\u0275\u0275stylePropInterpolate5:fu,\u0275\u0275stylePropInterpolate6:mu,\u0275\u0275stylePropInterpolate7:gu,\u0275\u0275stylePropInterpolate8:yu,\u0275\u0275stylePropInterpolateV:_u,\u0275\u0275classProp:vl,\u0275\u0275select:Fi,\u0275\u0275advance:zi,\u0275\u0275template:xc,\u0275\u0275text:Nl,\u0275\u0275textInterpolate:Rl,\u0275\u0275textInterpolate1:zl,\u0275\u0275textInterpolate2:Fl,\u0275\u0275textInterpolate3:jl,\u0275\u0275textInterpolate4:Bl,\u0275\u0275textInterpolate5:ql,\u0275\u0275textInterpolate6:Vl,\u0275\u0275textInterpolate7:Yl,\u0275\u0275textInterpolate8:Hl,\u0275\u0275textInterpolateV:Wl,\u0275\u0275i18n:kf,\u0275\u0275i18nAttributes:If,\u0275\u0275i18nExp:Rf,\u0275\u0275i18nStart:xf,\u0275\u0275i18nEnd:Of,\u0275\u0275i18nApply:zf,\u0275\u0275i18nPostprocess:Tf,\u0275\u0275resolveWindow:Nn,\u0275\u0275resolveDocument:Rn,\u0275\u0275resolveBody:zn,\u0275\u0275setComponentScope:Bt,\u0275\u0275setNgModuleScope:Wt,\u0275\u0275sanitizeHtml:ti,\u0275\u0275sanitizeStyle:ei,\u0275\u0275sanitizeResourceUrl:ri,\u0275\u0275sanitizeScript:ii,\u0275\u0275sanitizeUrl:ni,\u0275\u0275sanitizeUrlOrResourceUrl:ai}))();let Gm=null;function Jm(){Gm=null}const $m=[],Km=[];let Zm=!1;function Qm(){if(!Zm){Zm=!0;try{for(let t=Km.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=Km[t];n.declarations&&n.declarations.every(tg)&&(Km.splice(t,1),ag(e,n))}}finally{Zm=!1}}}function tg(t){return Array.isArray(t)?t.every(tg):!!V(t)}function eg(t,e={}){ng(t,e),function(t,e){Km.push({moduleType:t,ngModule:e})}(t,e)}function ng(t,e,n=!1){const r=Ct(e.declarations||$m);let i=null;Object.defineProperty(t,tt,{configurable:!0,get:()=>(null===i&&(i=$().compileNgModule(Xm,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:Ct(e.bootstrap||$m).map(V),declarations:r.map(V),imports:Ct(e.imports||$m).map(V).map(lg),exports:Ct(e.exports||$m).map(V).map(lg),schemas:e.schemas?Ct(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(t,D,{get:()=>{if(null===o){const n={name:t.name,type:t,deps:Ra(t),providers:e.providers||$m,imports:[(e.imports||$m).map(V),(e.exports||$m).map(V)]};o=$().compileInjector(Xm,`ng:///${t.name}/\u0275inj.js`,n)}return o},configurable:!1})}let rg=new Map,ig=new Map;function og(){rg=new Map,ig=new Map,Km.length=0}function ag(t,e){const n=Ct(e.declarations||$m),r=cg(t);n.forEach(e=>{e.hasOwnProperty(K)?sg(Jt(e),r):e.hasOwnProperty(Z)||e.hasOwnProperty(Q)||(e.ngSelectorScope=t)})}function sg(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(K)?Jt(t):$t(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>Kt(t)),t.schemas=e.schemas,t.tView=null}function cg(t){if(!ug(t))throw new Error(t.name+" does not have a module def (\u0275mod property)");const e=Qt(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Fn(e.imports).forEach(t=>{const e=t;if(!ug(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const r=cg(e);r.exported.directives.forEach(t=>n.compilation.directives.add(t)),r.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),Fn(e.declarations).forEach(t=>{Kt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),Fn(e.exports).forEach(t=>{const e=t;if(ug(e)){const t=cg(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else Kt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function lg(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function ug(t){return!!Qt(t)}function pg(t,e){let n=null;!function(t,e){js(e)&&(zs.set(t,e),Fs.add(t))}(t,e),fg(t,e),Object.defineProperty(t,K,{get:()=>{if(null===n){const r=$();if(js(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(" - templateUrl: "+e.templateUrl),e.styleUrls&&e.styleUrls.length&&n.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=Gm;let o=e.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let a=e.encapsulation;void 0===a&&(a=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:Nt.Emulated);const s=e.templateUrl||`ng:///${t.name}/template.html`,c=Object.assign(Object.assign({},gg(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,s),template:e.template||"",preserveWhitespaces:o,styles:e.styles||zt,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:a,interpolation:e.interpolation,viewProviders:e.viewProviders||null});if(c.usesInheritance&&yg(t),n=r.compileComponent(Xm,s,c),Qm(),void 0!==t.ngSelectorScope){const e=cg(t.ngSelectorScope);sg(n,e)}}return n},configurable:!1})}function dg(t,e){let n=null;fg(t,e||{}),Object.defineProperty(t,Z,{get:()=>{if(null===n){const r=hg(t,e||{});n=$().compileDirective(Xm,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function hg(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=$(),o=gg(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&yg(t),{metadata:o,sourceMapUrl:r}}function fg(t,e){let n=null;Object.defineProperty(t,nt,{get:()=>{if(null===n){const r=hg(t,e),i=$();n=i.compileFactory(Xm,`ng:///${t.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function mg(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function gg(t,e){const n=Na(),r=n.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:Ra(t),host:e.host||Rt,propMetadata:r,inputs:e.inputs||zt,outputs:e.outputs||zt,queries:vg(t,r,bg),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!mg(t),exportAs:(i=e.exportAs,void 0===i?null:wg(i)),providers:e.providers||null,viewQueries:vg(t,r,Mg)};var i}function yg(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)$t(n)||Jt(n)||!Sg(n)||dg(n,null),n=Object.getPrototypeOf(n)}function _g(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?wg(n):V(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static};var n}function vg(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${In(t)}" since the query selector wasn't defined.`);if(o.some(xg))throw new Error("Cannot combine @Input decorators with query decorators");r.push(_g(i,e))}})}return r}function bg(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Mg(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function xg(t){return"Input"===t.ngMetadataName}function wg(t){return t.split(",").map(t=>t.trim())}const Cg=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Sg(t){const e=Na();if(Cg.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(xg(n)||bg(n)||Mg(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function Eg(t,e){let n=null,r=null;Object.defineProperty(t,nt,{get:()=>{if(null===r){const n=Tg(t,e),i=$();r=i.compileFactory(Xm,`ng:///${n.name}/\u0275fac.js`,Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(t,Q,{get:()=>{if(null===n){const r=Tg(t,e);n=$().compilePipe(Xm,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})}function Tg(t,e){return{type:t,typeArgumentCount:0,name:t.name,deps:Ra(t),pipeName:e.name,pure:void 0===e.pure||e.pure}}const Og=d("Directive",(t={})=>t,void 0,void 0,(t,e)=>jg(t,e)),Ag=d("Component",(t={})=>Object.assign({changeDetection:kt.Default},t),Og,void 0,(t,e)=>Fg(t,e)),Pg=d("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>Bg(t,e)),Lg=m("Input",t=>({bindingPropertyName:t})),kg=m("Output",t=>({bindingPropertyName:t})),Ig=m("HostBinding",t=>({hostPropertyName:t})),Dg=m("HostListener",(t,e)=>({eventName:t,args:e})),Ng=pg,Rg=dg,zg=Eg,Fg=Ng,jg=Rg,Bg=zg,qg=d("NgModule",t=>t,void 0,void 0,(t,e)=>Yg(t,e)),Vg=eg,Yg=Vg,Hg=new it("Application Initializer");let Wg=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();zc(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ft(Hg,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Ug=new it("AppId");function Xg(){return`${Jg()}${Jg()}${Jg()}`}const Gg={provide:Ug,useFactory:Xg,deps:[]};function Jg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $g=new it("Platform Initializer"),Kg=new it("Platform ID"),Zg=new it("appBootstrapListener"),Qg=new it("Application Packages Root URL");let ty=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const ey=new it("LocaleId"),ny=new it("DefaultCurrencyCode"),ry=new it("Translations"),iy=new it("TranslationsFormat");var oy=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({});const ay=!0,sy=ay;class cy{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ly=function(t){return new Zf(t)},uy=ly,py=function(t){return Promise.resolve(ly(t))},dy=py,hy=function(t){const e=ly(t),n=Fn(Qt(t).declarations).reduce((t,e)=>{const n=Jt(e);return n&&t.push(new jh(n)),t},[]);return new cy(e,n)},fy=hy,my=function(t){return Promise.resolve(hy(t))},gy=my;let yy=(()=>{class t{constructor(){this.compileModuleSync=uy,this.compileModuleAsync=dy,this.compileModuleAndAllComponentsSync=fy,this.compileModuleAndAllComponentsAsync=gy}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const _y=new it("compilerOptions");class vy{}const by=(()=>Promise.resolve(0))();function My(t){"undefined"==typeof Zone?by.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class xy{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wm(!1),this.onMicrotaskEmpty=new wm(!1),this.onStable=new wm(!1),this.onError=new wm(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ey(t),Sy(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ey(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,a,s)=>{try{return Ty(t),n.invokeTask(i,o,a,s)}finally{e&&"eventTask"===o.type&&e(),Oy(t)}},onInvoke:(e,n,r,i,o,a,s)=>{try{return Ty(t),e.invoke(r,i,o,a,s)}finally{Oy(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ey(t),Sy(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xy.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xy.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Cy,wy,wy);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function wy(){}const Cy={};function Sy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ey(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ty(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Oy(t){t._nesting--,Sy(t)}class Ay{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wm,this.onMicrotaskEmpty=new wm,this.onStable=new wm,this.onError=new wm}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Py=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xy.assertNotInAngularZone(),My(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())My(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ft(xy))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})(),Ly=(()=>{class t{constructor(){this._applications=new Map,Ny.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ny.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();class ky{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Iy(t){Ny=t}let Dy,Ny=new ky,Ry=zy;function zy(t,e,n){const r=new Zf(n);return Promise.resolve(r)}let Fy=jy;function jy(t){return t.isBoundToModule}const By=new it("AllowMultipleToken");class qy{constructor(t,e){this.name=t,this.token=e}}function Vy(t){if(Dy&&!Dy.destroyed&&!Dy.injector.get(By,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Dy=t.get(Xy);const e=t.get($g,null);return e&&e.forEach(t=>t()),Dy}function Yy(t,e,n=[]){const r="Platform: "+e,i=new it(r);return(e=[])=>{let o=Uy();if(!o||o.injector.get(By,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Wa,useValue:"platform"});Vy(ss.create({providers:t,name:r}))}return Hy(i)}}function Hy(t){const e=Uy();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Wy(){Dy&&!Dy.destroyed&&Dy.destroy()}function Uy(){return Dy&&!Dy.destroyed?Dy:null}let Xy=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ay:("zone.js"===t?void 0:t)||new xy({enableLongStackTrace:Er(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:xy,useValue:n}];return n.run(()=>{const e=ss.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(sr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>$y(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return zc(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Wg);return t.runInitializers(),t.donePromise.then(()=>(sy&&Hf(i.injector.get(ey,Zh)||Zh),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Gy({},e);return Ry(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Jy);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${F(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ft(ss))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Gy(t,e){return Array.isArray(e)?e.reduce(Gy,t):Object.assign(Object.assign({},t),e)}let Jy=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Er(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{xy.assertNotInAngularZone(),My(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{xy.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(a.a)(l,u.pipe(Object(s.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ap?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=Fy(n)?void 0:this._injector.get(Mt),i=n.create(ss.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Py,null);return o&&i.injector.get(Ly).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Er()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;$y(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Zg,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),$y(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ft(xy),ft(ty),ft(ss),ft(sr),ft(up),ft(Wg))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function $y(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ky{}function Zy(t){const e=$f(t);if(!e)throw e_(t);return e}function Qy(t){const e=$f(t);if(!e)throw e_(t);return new Zf(e)}const t_=Qy;function e_(t){return new Error(`No module with ID ${t} loaded`)}class n_{}const r_={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let i_=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||r_}load(t){return!sy&&this._compiler instanceof yy?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>o_(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>o_(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ft(yy),ft(n_,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function o_(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class a_ extends xa{}class s_ extends a_{}class c_{constructor(t,e){this.name=t,this.callback=e}}class l_{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof u_&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class u_ extends l_{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof u_&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof u_&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof u_&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof u_)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}function p_(t){return t.map(t=>t.nativeElement)}class d_{constructor(t){this.nativeNode=t}get parent(){const t=this.nativeNode.parentNode;return t?new h_(t):null}get injector(){return Su(this.nativeNode)}get componentInstance(){const t=this.nativeNode;return t&&(Mu(t)||wu(t))}get context(){return Mu(this.nativeNode)||xu(this.nativeNode)}get listeners(){return Au(this.nativeNode).filter(t=>"dom"===t.type)}get references(){return function(t){const e=Tu(t,!1);return null===e?{}:(void 0===e.localRefs&&(e.localRefs=function(t,e){const n=t[1].data[e];if(n&&n.localNames){const e={};let r=n.index+1;for(let i=0;i<n.localNames.length;i+=2)e[n.localNames[i]]=t[r],r++;return e}return null}(e.lView,e.nodeIndex)),e.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(t){const e=Tu(t,!1);if(null===e)return[];const n=e.lView[1],r=n.data[e.nodeIndex],i=[],o=r.directiveEnd;for(let s=1048575&r.providerIndexes;s<o;s++){let t=n.data[s];void 0!==(a=t).type&&void 0!==a.template&&void 0!==a.declaredInputs&&(t=t.type),i.push(t)}var a;return i}(this.nativeNode)}}class h_ extends d_{constructor(t){super(t)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){try{const t=Tu(this.nativeNode);return t.lView[1].data[t.nodeIndex].tagName}catch(t){return this.nativeNode.nodeName}}get properties(){const t=Tu(this.nativeNode,!1);if(null==t)return{};const e=t.lView,n=e[1].data,r=n[t.nodeIndex],i={};return function(t,e){if(t){let n=Object.getPrototypeOf(t);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=t[n];f_(r)&&(e[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,i),function(t,e,n,r){let i=e.propertyBindings;if(null!==i)for(let o=0;o<i.length;o++){const e=i[o],a=r[e].split("\ufffd"),s=a[0];if(a.length>1){let r=a[1];for(let t=1;t<a.length-1;t++)r+=kn(n[e+t-1])+a[t+1];t[s]=r}else t[s]=n[e]}}(i,r,e,n),i}get attributes(){const t={},e=this.nativeElement;if(!e)return t;const n=Tu(e,!1);if(null==n)return{};const r=n.lView[1].data[n.nodeIndex].attrs,i=[];if(r){let e=0;for(;e<r.length;){const n=r[e];if("string"!=typeof n)break;t[n]=r[e+1],i.push(n.toLowerCase()),e+=2}}const o=e.attributes;for(let a=0;a<o.length;a++){const e=o[a],n=e.name.toLowerCase();-1===i.indexOf(n)&&(t[n]=e.value)}return t}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const t={},e=this.nativeElement.className;return(e&&"string"!=typeof e?e.baseVal.split(" "):e.split(" ")).forEach(e=>t[e]=!0),t}get childNodes(){const t=this.nativeNode.childNodes,e=[];for(let n=0;n<t.length;n++)e.push(M_(t[n]));return e}get children(){const t=this.nativeElement;if(!t)return[];const e=t.children,n=[];for(let r=0;r<e.length;r++)n.push(M_(e[r]));return n}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return m_(this,t,e,!0),e}queryAllNodes(t){const e=[];return m_(this,t,e,!1),e}triggerEventHandler(t,e){const n=this.nativeNode,r=[];this.listeners.forEach(i=>{if(i.name===t){const t=i.callback;t.call(n,e),r.push(t)}}),"function"==typeof n.eventListeners&&n.eventListeners(t).forEach(t=>{if(-1!==t.toString().indexOf("__ngUnwrap__")){const i=t("__ngUnwrap__");return-1===r.indexOf(i)&&i.call(n,e)}})}}function f_(t){return"string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===t}function m_(t,e,n,r){const i=Tu(t.nativeNode,!1);null!==i?g_(i.lView[1].data[i.nodeIndex],i.lView,e,n,r,t.nativeNode):v_(t.nativeNode,e,n,r)}function g_(t,e,n,r,i,o){const a=Me(t,e);if(3===t.type||4===t.type){if(__(a,n,r,i,o),re(t)){const a=Ce(t.index,e);a&&a[1].firstChild&&g_(a[1].firstChild,a,n,r,i,o)}else t.child&&g_(t.child,e,n,r,i,o),a&&v_(a,n,r,i);const s=e[t.index];ee(s)&&y_(s,n,r,i,o)}else if(0===t.type){const a=e[t.index];__(a[7],n,r,i,o),y_(a,n,r,i,o)}else if(1===t.type){const a=e[16],s=a[6].projection[t.projection];if(Array.isArray(s))for(let t of s)__(t,n,r,i,o);else if(s){const t=a[3];g_(t[1].data[s.index],t,n,r,i,o)}}else t.child&&g_(t.child,e,n,r,i,o);if(o!==a){const a=4&t.flags?t.projectionNext:t.next;a&&g_(a,e,n,r,i,o)}}function y_(t,e,n,r,i){for(let o=10;o<t.length;o++){const a=t[o];g_(a[1].node,a,e,n,r,i)}}function __(t,e,n,r,i){if(i!==t){const i=x_(t);if(!i)return;(r&&i instanceof h_&&e(i)&&-1===n.indexOf(i)||!r&&e(i)&&-1===n.indexOf(i))&&n.push(i)}}function v_(t,e,n,r){const i=t.childNodes,o=i.length;for(let a=0;a<o;a++){const t=i[a],o=x_(t);o&&((r&&o instanceof h_&&e(o)&&-1===n.indexOf(o)||!r&&e(o)&&-1===n.indexOf(o))&&n.push(o),v_(t,e,n,r))}}const b_=new Map;function M_(t){return t instanceof Node?(t.hasOwnProperty("__ng_debug__")||(t.__ng_debug__=t.nodeType==Node.ELEMENT_NODE?new h_(t):new d_(t)),t.__ng_debug__):null}const x_=M_;function w_(t){return function(t){return b_.get(t)||null}(t)}const C_=function(t){return null};function S_(t){b_.set(t.nativeNode,t)}const E_=d_,T_=h_,O_=Yy(null,"core",[{provide:Kg,useValue:"unknown"},{provide:Xy,deps:[ss]},{provide:Ly,deps:[]},{provide:ty,deps:[]}]);function A_(){return zp}function P_(){return Fp}function L_(t){return t=t||sy&&"undefined"!=typeof $localize&&$localize.locale||Zh,sy&&Hf(t),t}const k_=Qh,I_=[{provide:Jy,useClass:Jy,deps:[xy,ty,ss,sr,up,Wg]},{provide:Fh,deps:[xy],useFactory:D_},{provide:Wg,useClass:Wg,deps:[[new _,Hg]]},{provide:yy,useClass:yy,deps:[]},Gg,{provide:Dp,useFactory:A_,deps:[]},{provide:Np,useFactory:P_,deps:[]},{provide:ey,useFactory:L_,deps:[[new y(ey),new _,new b]]},{provide:ny,useValue:k_}];function D_(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}let N_=(()=>{class t{constructor(t){}}return t.\u0275mod=Ht({type:t}),t.\u0275inj=A({factory:function(e){return new(e||t)(ft(Jy))},providers:I_}),t})();function R_(t,e,n,r,i,o){t|=1;const{matchedQueries:a,references:s,matchedQueryIds:c}=Md(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:c,references:s,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Sd(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||rd},provider:null,text:null,query:null,ngContent:null}}function z_(t,e,n,r,i,o,a=[],s,c,l,u,p){l||(l=rd);const{matchedQueries:d,references:h,matchedQueryIds:f}=Md(n);let m=null,g=null;o&&([m,g]=kd(o)),s=s||[];const y=[];for(let b=0;b<s.length;b++){const[t,e,n]=s[b],[r,i]=kd(e);let o=void 0,a=void 0;switch(15&t){case 4:a=n;break;case 1:case 8:o=n}y[b]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:a}}c=c||[];const _=[];for(let b=0;b<c.length;b++){const[t,e]=c[b];_[b]={type:0,target:t,eventName:e,propName:null}}const v=(a=a||[]).map(([t,e])=>{const[n,r]=kd(t);return[n,r,e]});return p=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==Nt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+cd++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(p),u&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:h,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Id(y),outputs:_,element:{ns:m,name:g,attrs:v,template:null,componentProvider:null,componentView:u||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:l||rd},provider:null,text:null,query:null,ngContent:null}}function F_(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let a;if(t.parent||!i){a=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=wd(t,e,n);i&&o.appendChild(i,a)}else a=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Nt.ShadowDom);if(r.attrs)for(let s=0;s<r.attrs.length;s++){const[t,e,n]=r.attrs[s];o.setAttribute(a,e,n,t)}return a}function j_(t,e,n,r){for(let a=0;a<n.outputs.length;a++){const s=n.outputs[a],c=B_(t,n.nodeIndex,(o=s.eventName,(i=s.target)?`${i}:${o}`:o));let l=s.target,u=t;"component"===s.target&&(l=null,u=e);const p=u.renderer.listen(l||r,s.eventName,c);t.disposables[n.outputIndex+a]=p}var i,o}function B_(t,e,n){return r=>fd(t,e,n,r)}function q_(t,e,n,r){if(!ud(t,e,n,r))return!1;const i=e.bindings[n],o=Kp(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const a=e.securityContext;let s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;const c=t.renderer;null!=o?c.setAttribute(n,i,s,r):c.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(Qr.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}function V_(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:bd(e),bindings:r},ngContent:null}}function Y_(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&vd(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&td(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&td(t,n).setDirty(),n+=e.childCount}}function H_(t,e){const n=td(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=W_(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Zp(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=W_(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let a=!1;for(let s=0;s<o.length;s++){const t=o[s];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,a=!0}r[t.propName]=e}a&&n.notifyOnChanges()}function W_(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(U_(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Kp(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(W_(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],a=md(o);a&&a===n&&W_(o,0,o.def.nodes.length-1,r,i)}}const a=n.template._projectedViews;if(a)for(let t=0;t<a.length;t++){const e=a[t];W_(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function U_(t,e,n){if(null!=n)switch(n){case 1:return Kp(t,e.nodeIndex).renderElement;case 0:return new hp(Kp(t,e.nodeIndex).renderElement);case 2:return Kp(t,e.nodeIndex).template;case 3:return Kp(t,e.nodeIndex).viewContainer;case 4:return Zp(t,e.nodeIndex).instance}}function X_(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function G_(t,e,n){const r=wd(t,e,n);r&&Od(t,n.ngContent.index,1,r,null,void 0)}function J_(t,e){return Z_(128,t,Ot(e+1))}function $_(t,e){return Z_(32,t,Ot(e))}function K_(t,e){const n=Object.keys(e),r=n.length,i=[];for(let o=0;o<r;o++)i.push(n[o]);return Z_(64,t,i)}function Z_(t,e,n){const r=[];for(let i=0;i<n.length;i++){const t=n[i];r.push({flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Id(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Q_(t,e,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function tv(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=wd(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function ev(t,e){return(null!=t?t.toString():"")+e.suffix}function nv(t,e,n,r){let i=0,o=0,a=0,s=0,c=0,l=null,u=null,p=!1,d=!1,h=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=l,t.bindingIndex=i,t.outputIndex=o,t.renderParent=u,a|=t.flags,c|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=l?l.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,p=!1,d=!1,t.element.template&&(c|=t.element.template.nodeMatchedQueries)}if(iv(l,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!u&&3&t.flags&&(h=t),20224&t.flags){p||(p=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?l.element.publicProviders[od(t.provider.token)]=t:(d||(d=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[od(t.provider.token)]=t),e&&(l.element.componentProvider=t)}if(l?(l.childFlags|=t.flags,l.directChildFlags|=t.flags,l.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(l.childMatchedQueries|=t.element.template.nodeMatchedQueries)):s|=t.flags,t.childCount>0)l=t,rv(t)||(u=t);else for(;l&&f===l.nodeIndex+l.childCount;){const t=l.parent;t&&(t.childFlags|=l.childFlags,t.childMatchedQueries|=l.childMatchedQueries),l=t,u=l&&rv(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:c,flags:t,nodes:e,updateDirectives:n||rd,updateRenderer:r||rd,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:h}}function rv(t){return 0!=(1&t.flags)&&null===t.element.name}function iv(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function ov(t,e,n,r){const i=cv(t.root,t.renderer,t,e,n);return lv(i,t.component,r),uv(i),i}function av(t,e,n){const r=cv(t,t.renderer,null,null,e);return lv(r,n,n),uv(r),r}function sv(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,cv(t.root,o,t,e.element.componentProvider,n)}function cv(t,e,n,r,i){const o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function lv(t,e,n){t.component=e,t.context=n}function uv(t){let e;_d(t)&&(e=Kp(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let a;switch(nd.setCurrentNode(t,i),201347067&o.flags){case 1:const n=F_(t,e,o);let s=void 0;if(33554432&o.flags){const e=Sd(o.element.componentView);s=nd.createComponentView(t,o,e,n)}j_(t,s,o,n),a={renderElement:n,componentView:s,viewContainer:null,template:o.element.template?oh(t,o):void 0},16777216&o.flags&&(a.viewContainer=eh(t,o,a));break;case 2:a=tv(t,e,o);break;case 512:case 1024:case 2048:case 256:a=r[i],a||4096&o.flags||(a={instance:wh(t,o)});break;case 16:a={instance:Ch(t,o)};break;case 16384:a=r[i],a||(a={instance:Sh(t,o)}),32768&o.flags&&lv(Kp(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Sm;break;case 8:G_(t,e,o),a=void 0}r[i]=a}vv(t,_v.CreateViewNodes),wv(t,201326592,268435456,0)}function pv(t){fv(t),nd.updateDirectives(t,1),bv(t,_v.CheckNoChanges),nd.updateRenderer(t,1),vv(t,_v.CheckNoChanges),t.state&=-97}function dv(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Gp(t,0,256),fv(t),nd.updateDirectives(t,0),bv(t,_v.CheckAndUpdate),wv(t,67108864,536870912,0);let e=Gp(t,256,512);Ih(t,2097152|(e?1048576:0)),nd.updateRenderer(t,0),vv(t,_v.CheckAndUpdate),wv(t,134217728,536870912,0),e=Gp(t,512,768),Ih(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Gp(t,768,1024)}function hv(t,e,n,r,i,o,a,s,c,l,u,p,d){return 0===n?function(t,e,n,r,i,o,a,s,c,l,u,p){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,c,l,u,p){const d=e.bindings.length;let h=!1;return d>0&&q_(t,e,0,n)&&(h=!0),d>1&&q_(t,e,1,r)&&(h=!0),d>2&&q_(t,e,2,i)&&(h=!0),d>3&&q_(t,e,3,o)&&(h=!0),d>4&&q_(t,e,4,a)&&(h=!0),d>5&&q_(t,e,5,s)&&(h=!0),d>6&&q_(t,e,6,c)&&(h=!0),d>7&&q_(t,e,7,l)&&(h=!0),d>8&&q_(t,e,8,u)&&(h=!0),d>9&&q_(t,e,9,p)&&(h=!0),h}(t,e,n,r,i,o,a,s,c,l,u,p);case 2:return function(t,e,n,r,i,o,a,s,c,l,u,p){let d=!1;const h=e.bindings,f=h.length;if(f>0&&ud(t,e,0,n)&&(d=!0),f>1&&ud(t,e,1,r)&&(d=!0),f>2&&ud(t,e,2,i)&&(d=!0),f>3&&ud(t,e,3,o)&&(d=!0),f>4&&ud(t,e,4,a)&&(d=!0),f>5&&ud(t,e,5,s)&&(d=!0),f>6&&ud(t,e,6,c)&&(d=!0),f>7&&ud(t,e,7,l)&&(d=!0),f>8&&ud(t,e,8,u)&&(d=!0),f>9&&ud(t,e,9,p)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=ev(n,h[0])),f>1&&(d+=ev(r,h[1])),f>2&&(d+=ev(i,h[2])),f>3&&(d+=ev(o,h[3])),f>4&&(d+=ev(a,h[4])),f>5&&(d+=ev(s,h[5])),f>6&&(d+=ev(c,h[6])),f>7&&(d+=ev(l,h[7])),f>8&&(d+=ev(u,h[8])),f>9&&(d+=ev(p,h[9]));const m=$p(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,r,i,o,a,s,c,l,u,p);case 16384:return function(t,e,n,r,i,o,a,s,c,l,u,p){const d=Zp(t,e.nodeIndex),h=d.instance;let f=!1,m=void 0;const g=e.bindings.length;return g>0&&ld(t,e,0,n)&&(f=!0,m=kh(t,d,e,0,n,m)),g>1&&ld(t,e,1,r)&&(f=!0,m=kh(t,d,e,1,r,m)),g>2&&ld(t,e,2,i)&&(f=!0,m=kh(t,d,e,2,i,m)),g>3&&ld(t,e,3,o)&&(f=!0,m=kh(t,d,e,3,o,m)),g>4&&ld(t,e,4,a)&&(f=!0,m=kh(t,d,e,4,a,m)),g>5&&ld(t,e,5,s)&&(f=!0,m=kh(t,d,e,5,s,m)),g>6&&ld(t,e,6,c)&&(f=!0,m=kh(t,d,e,6,c,m)),g>7&&ld(t,e,7,l)&&(f=!0,m=kh(t,d,e,7,l,m)),g>8&&ld(t,e,8,u)&&(f=!0,m=kh(t,d,e,8,u,m)),g>9&&ld(t,e,9,p)&&(f=!0,m=kh(t,d,e,9,p,m)),m&&h.ngOnChanges(m),65536&e.flags&&Jp(t,256,e.nodeIndex)&&h.ngOnInit(),262144&e.flags&&h.ngDoCheck(),f}(t,e,n,r,i,o,a,s,c,l,u,p);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,c,l,u,p){const d=e.bindings;let h=!1;const f=d.length;if(f>0&&ud(t,e,0,n)&&(h=!0),f>1&&ud(t,e,1,r)&&(h=!0),f>2&&ud(t,e,2,i)&&(h=!0),f>3&&ud(t,e,3,o)&&(h=!0),f>4&&ud(t,e,4,a)&&(h=!0),f>5&&ud(t,e,5,s)&&(h=!0),f>6&&ud(t,e,6,c)&&(h=!0),f>7&&ud(t,e,7,l)&&(h=!0),f>8&&ud(t,e,8,u)&&(h=!0),f>9&&ud(t,e,9,p)&&(h=!0),h){const h=Qp(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=[],f>0&&m.push(n),f>1&&m.push(r),f>2&&m.push(i),f>3&&m.push(o),f>4&&m.push(a),f>5&&m.push(s),f>6&&m.push(c),f>7&&m.push(l),f>8&&m.push(u),f>9&&m.push(p);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=r),f>2&&(m[d[2].name]=i),f>3&&(m[d[3].name]=o),f>4&&(m[d[4].name]=a),f>5&&(m[d[5].name]=s),f>6&&(m[d[6].name]=c),f>7&&(m[d[7].name]=l),f>8&&(m[d[8].name]=u),f>9&&(m[d[9].name]=p);break;case 128:const t=n;switch(f){case 1:m=t.transform(n);break;case 2:m=t.transform(r);break;case 3:m=t.transform(r,i);break;case 4:m=t.transform(r,i,o);break;case 5:m=t.transform(r,i,o,a);break;case 6:m=t.transform(r,i,o,a,s);break;case 7:m=t.transform(r,i,o,a,s,c);break;case 8:m=t.transform(r,i,o,a,s,c,l);break;case 9:m=t.transform(r,i,o,a,s,c,l,u);break;case 10:m=t.transform(r,i,o,a,s,c,l,u,p)}}h.value=m}return h}(t,e,n,r,i,o,a,s,c,l,u,p);default:throw"unreachable"}}(t,e,r,i,o,a,s,c,l,u,p,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)q_(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)ud(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=ev(n[t],r[t]);i=e.text.prefix+i;const o=$p(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Zp(t,e.nodeIndex),i=r.instance;let o=!1,a=void 0;for(let s=0;s<n.length;s++)ld(t,e,s,n[s])&&(o=!0,a=kh(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Jp(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)ud(t,e,o,n[o])&&(i=!0);if(i){const i=Qp(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function fv(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Kp(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,hd(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function mv(t,e,n,r,i,o,a,s,c,l,u,p,d){return 0===n?function(t,e,n,r,i,o,a,s,c,l,u,p){const d=e.bindings.length;d>0&&pd(t,e,0,n),d>1&&pd(t,e,1,r),d>2&&pd(t,e,2,i),d>3&&pd(t,e,3,o),d>4&&pd(t,e,4,a),d>5&&pd(t,e,5,s),d>6&&pd(t,e,6,c),d>7&&pd(t,e,7,l),d>8&&pd(t,e,8,u),d>9&&pd(t,e,9,p)}(t,e,r,i,o,a,s,c,l,u,p,d):function(t,e,n){for(let r=0;r<n.length;r++)pd(t,e,r,n[r])}(t,e,r),!1}function gv(t,e){if(td(t,e.nodeIndex).dirty)throw Wp(nd.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function yv(t){if(!(128&t.state)){if(bv(t,_v.Destroy),vv(t,_v.Destroy),Ih(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=md(t);if(e){const n=e.template._projectedViews;n&&(Tt(n,n.indexOf(t)),nd.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Kp(t,n).renderElement):2&e.flags?t.renderer.destroyNode($p(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&td(t,n).destroy()}}(t),_d(t)&&t.renderer.destroy(),t.state|=128}}var _v=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function vv(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Mv(Kp(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function bv(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Kp(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Mv(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Mv(t,e){const n=t.state;switch(e){case _v.CheckNoChanges:0==(128&n)&&(12==(12&n)?pv(t):64&n&&xv(t,_v.CheckNoChangesProjectedViews));break;case _v.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?pv(t):64&n&&xv(t,e));break;case _v.CheckAndUpdate:0==(128&n)&&(12==(12&n)?dv(t):64&n&&xv(t,_v.CheckAndUpdateProjectedViews));break;case _v.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?dv(t):64&n&&xv(t,e));break;case _v.Destroy:yv(t);break;case _v.CreateViewNodes:uv(t)}}function xv(t,e){bv(t,e),vv(t,e)}function wv(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(nd.setCurrentNode(t,i.nodeIndex),r){case 0:H_(t,i);break;case 1:gv(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let Cv=!1;function Sv(){if(Cv)return;Cv=!0;const t=Er()?{setCurrentNode:Gv,createRootView:Tv,createEmbeddedView:Av,createComponentView:Pv,createNgModuleRef:Lv,overrideProvider:Nv,overrideComponentView:Rv,clearOverrides:zv,checkAndUpdateView:qv,checkNoChangesView:Vv,destroyView:Yv,createDebugContext:(t,e)=>new nb(t,e),handleEvent:Jv,updateDirectives:$v,updateRenderer:Kv}:{setCurrentNode:()=>{},createRootView:Ev,createEmbeddedView:ov,createComponentView:sv,createNgModuleRef:uh,overrideProvider:rd,overrideComponentView:rd,clearOverrides:rd,checkAndUpdateView:dv,checkNoChangesView:pv,destroyView:yv,createDebugContext:(t,e)=>new nb(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?jv:Bv,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?jv:Bv,t)};nd.setCurrentNode=t.setCurrentNode,nd.createRootView=t.createRootView,nd.createEmbeddedView=t.createEmbeddedView,nd.createComponentView=t.createComponentView,nd.createNgModuleRef=t.createNgModuleRef,nd.overrideProvider=t.overrideProvider,nd.overrideComponentView=t.overrideComponentView,nd.clearOverrides=t.clearOverrides,nd.checkAndUpdateView=t.checkAndUpdateView,nd.checkNoChangesView=t.checkNoChangesView,nd.destroyView=t.destroyView,nd.resolveDep=Ph,nd.createDebugContext=t.createDebugContext,nd.handleEvent=t.handleEvent,nd.updateDirectives=t.updateDirectives,nd.updateRenderer=t.updateRenderer,nd.dirtyParentQueries=Y_}function Ev(t,e,n,r,i,o){const a=i.injector.get(gp);return av(Ov(t,i,a,e,n),r,o)}function Tv(t,e,n,r,i,o){const a=i.injector.get(gp),s=Ov(t,i,new ab(a),e,n),c=Fv(r);return ib(Hv.create,av,null,[s,c,o])}function Ov(t,e,n,r,i){const o=e.injector.get(Mp),a=e.injector.get(sr),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Av(t,e,n,r){const i=Fv(n);return ib(Hv.create,ov,null,[t,e,i,r])}function Pv(t,e,n,r){return n=Dv.get(e.element.componentProvider.provider.token)||Fv(n),ib(Hv.create,sv,null,[t,e,n,r])}function Lv(t,e,n,r){return uh(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===kv.size||(t.providers.forEach(t=>{const r=kv.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{Iv.forEach((r,i)=>{P(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=kv.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=xd(i.deps),r.value=i.value)}if(Iv.size>0){let e=new Set(t.modules);Iv.forEach((r,i)=>{if(e.has(P(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:xd(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[od(i)]=e}})}}(t=t.factory(()=>rd)),t):t}(r))}const kv=new Map,Iv=new Map,Dv=new Map;function Nv(t){let e;kv.set(t.token,t),"function"==typeof t.token&&(e=P(t.token))&&"function"==typeof e.providedIn&&Iv.set(t.token,t)}function Rv(t,e){const n=Sd(Zd(e)),r=Sd(n.nodes[0].element.componentView);Dv.set(t,r)}function zv(){kv.clear(),Iv.clear(),Dv.clear()}function Fv(t){if(0===kv.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&kv.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>rd);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=kv.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=xd(n.deps),t.value=n.value)}}}}function jv(t,e,n,r,i,o,a,s,c,l,u,p,d){const h=t.def.nodes[e];return hv(t,h,n,r,i,o,a,s,c,l,u,p,d),224&h.flags?Qp(t,e).value:void 0}function Bv(t,e,n,r,i,o,a,s,c,l,u,p,d){const h=t.def.nodes[e];return mv(t,h,n,r,i,o,a,s,c,l,u,p,d),224&h.flags?Qp(t,e).value:void 0}function qv(t){return ib(Hv.detectChanges,dv,null,[t])}function Vv(t){return ib(Hv.checkNoChanges,pv,null,[t])}function Yv(t){return ib(Hv.destroy,yv,null,[t])}var Hv=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});let Wv,Uv,Xv;function Gv(t,e){Uv=t,Xv=e}function Jv(t,e,n,r){return Gv(t,e),ib(Hv.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function $v(t,e){if(128&t.state)throw Xp(Hv[Wv]);return Gv(t,tb(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Zv(t,o,r,i):Qv(t,o,r,i),16384&o.flags&&Gv(t,tb(t,n)),224&o.flags?Qp(t,o.nodeIndex).value:void 0}),t)}function Kv(t,e){if(128&t.state)throw Xp(Hv[Wv]);return Gv(t,eb(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Zv(t,o,r,i):Qv(t,o,r,i),3&o.flags&&Gv(t,eb(t,n)),224&o.flags?Qp(t,o.nodeIndex).value:void 0}),t)}function Zv(t,e,n,r){if(hv(t,e,n,...r)){const o=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],a=o[t];8&r.flags&&(n[(i=r.nonMinifiedName,"ng-reflect-"+i.replace(/[$@]/g,"_").replace(ci,(...t)=>"-"+t[1].toLowerCase()))]=li(a))}const r=e.parent,a=Kp(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(a,e,r):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,"bindings="+JSON.stringify(n,null,2))}}var i}function Qv(t,e,n,r){mv(t,e,n,...r)}function tb(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function eb(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class nb{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=gd(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Kp(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return sh(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){rb(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&rb(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!_d(t);)t=t.parent;return t.parent?Kp(t.parent,gd(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?yd(this.view,this.nodeDef):yd(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?t.error.bind(t,...e):rd)),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function rb(t,e,n){for(let r in e.references)n[r]=U_(t,e,e.references[r])}function ib(t,e,n,r){const i=Wv,o=Uv,a=Xv;try{Wv=t;const s=e.apply(n,r);return Uv=o,Xv=a,Wv=i,s}catch(s){if(ir(s)||!Uv)throw s;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Up(t,e),t}(s,ob())}}function ob(){return Uv?new nb(Uv,Xv):null}class ab{constructor(t){this.delegate=t}createRenderer(t,e){return new sb(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class sb{constructor(t){this.delegate=t,this.debugContextFactory=ob,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=x_(t);!function(t){b_.delete(t.nativeNode)}(e),e instanceof l_&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new u_(n,null,r);e.name=t,S_(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&S_(new l_(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&S_(new l_(e,null,n)),e}appendChild(t,e){const n=x_(t),r=x_(e);n&&r&&n instanceof u_&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=x_(t),i=x_(e),o=x_(n);r&&i&&r instanceof u_&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=x_(t),r=x_(e);n&&r&&n instanceof u_&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=ob();return r&&S_(new u_(n,null,r)),n}setAttribute(t,e,n,r){const i=x_(t);i&&i instanceof u_&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=x_(t);r&&r instanceof u_&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=x_(t);n&&n instanceof u_&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=x_(t);n&&n instanceof u_&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=x_(t);i&&i instanceof u_&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=x_(t);r&&r instanceof u_&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=x_(t);r&&r instanceof u_&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=x_(t);r&&r.listeners.push(new c_(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function cb(t){return Sv(),nd.overrideProvider(t)}function lb(t,e){return Sv(),nd.overrideComponentView(t,e)}function ub(){return Sv(),nd.clearOverrides()}function pb(t,e,n){return new db(t,e,n)}class db extends xt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){Sv();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,scope:t.scope,providers:e,modules:n,providersByKey:r}}(Sd(this._ngModuleDefFactory));return nd.createNgModuleRef(this.moduleType,t||ss.NULL,this._bootstrapComponents,e)}}},"8iVM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NavigateBackComponent=void 0;const r=n("8Y7J"),i=n("8Y7J"),o=n("0njA");class a{constructor(){this.clickBack=new r.EventEmitter}navigateBack(){this.clickBack.emit()}}e.NavigateBackComponent=a,a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=i.\u0275\u0275defineComponent({type:a,selectors:[["tni-navigate-back"]],inputs:{target:"target"},outputs:{clickBack:"clickBack"},decls:4,vars:3,consts:[["tabindex","0",1,"navigate-back-container",3,"click","keydown.enter"],["iconClasses","tp-icon sm","iconName","card_arrow_left_small",3,"iconAriaHidden","iconTitle"],[1,"navigate-back-text"]],template:function(t,e){1&t&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275listener("click",(function(){return e.navigateBack()}))("keydown.enter",(function(){return e.navigateBack()})),i.\u0275\u0275element(1,"tni-icon",1),i.\u0275\u0275elementStart(2,"div",2),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&t&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("iconAriaHidden",!0)("iconTitle","back to "+e.target),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1("Back to ",e.target,""))},directives:[o.IconComponent],styles:[".navigate-back-container[_ngcontent-%COMP%]{display:flex;padding:14px;cursor:pointer;background-color:#fff}.navigate-back-text[_ngcontent-%COMP%]{font-size:14px;line-height:14px;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#1d69b4;padding:6px 10px;font-weight:400}"]})},"8iuE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FooterMessageComponent=void 0;const r=n("CrTo"),i=n("8Y7J"),o=n("F+fM"),a=n("SVse"),s=n("0njA"),c=function(t,e){return{"fade-out":t,"fade-in":e}};function l(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div",2),i.\u0275\u0275element(1,"tni-icon",3),i.\u0275\u0275elementStart(2,"p",4),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction2(2,c,!1===t.showMessage,t.showMessage)),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(t.footerMessage.text)}}class u{constructor(t){this.tripHistoryEffects=t,this.footerMessage={text:"",duration:0},this.showMessage=!1}ngOnInit(){this.subscribeToFavourites()}subscribeToFavourites(){this.subscribedData=this.tripHistoryEffects.favActionData$.subscribe(t=>{0!==Object.keys(t).length&&(this.footerMessage=t.payload.value?r.FooterMessages.addFav:r.FooterMessages.removeFav,this.showMessage=!0,setTimeout(()=>{this.showMessage=!1},this.footerMessage.duration))})}ngOnDestroy(){this.subscribedData.unsubscribe()}}e.FooterMessageComponent=u,u.\u0275fac=function(t){return new(t||u)(i.\u0275\u0275directiveInject(o.TripHistoryEffects))},u.\u0275cmp=i.\u0275\u0275defineComponent({type:u,selectors:[["tni-footer-message"]],decls:3,vars:2,consts:[["role","alert","aria-live","assertive",1,"sr-only"],["class","message-wrap",3,"ngClass",4,"ngIf"],[1,"message-wrap",3,"ngClass"],["iconClasses","tp-icon sm favourite","iconName","star","iconAriaHidden","true"],["aria-hidden","true",1,"message"]],template:function(t,e){1&t&&(i.\u0275\u0275elementStart(0,"p",0),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(2,l,4,5,"div",1)),2&t&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(e.footerMessage.text),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.footerMessage))},directives:[a.NgIf,a.NgClass,s.IconComponent],styles:[".message-wrap[_ngcontent-%COMP%]{text-align:center;background-color:#1d69b4;color:#fff;position:fixed;bottom:0;width:inherit}.message-wrap[_ngcontent-%COMP%]     .tp-icon{position:relative;height:18px;width:18px;min-width:15px;margin-top:-5px;margin-left:5px}.message-wrap[_ngcontent-%COMP%]     .tp-icon .favourite{display:inline-block}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.message-wrap[_ngcontent-%COMP%]     .tp-icon{height:15px;width:15px;margin-top:-7px}}.message-wrap[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{display:inline-block;margin-top:21px;margin-left:8px;font-size:16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.message-wrap[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:12px}}.fade-in[_ngcontent-%COMP%]{height:65px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.fade-in[_ngcontent-%COMP%]{height:45px}}.fade-out[_ngcontent-%COMP%]{height:0;transition:height .4s ease-in-out}"]})},"8mBD":function(t,e,n){!function(t){"use strict";t.defineLocale("pt",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},"8wnD":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.currentLocationReducer=e.initialState=e.currentLocationKey=void 0;const r=n("EiLY");e.currentLocationKey="currentLocation",e.initialState={coords:null},e.currentLocationReducer=function(t=e.initialState,n){switch(n.type){case r.TripActionTypes.CURRENT_LOCATION:return Object.assign({},Object.assign(Object.assign({},t),{coords:n.payload.coords}));default:return t}}},"9EFC":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OccupancyIndicatorMoreInfoModalComponent=void 0;const r=n("qCKp"),i=n("kU1M"),o=n("sYyf"),a=n("/fmw"),s=n("b2IO"),c=n("8Y7J"),l=n("lTCs"),u=n("EpZu"),p=n("SVse"),d=n("ajRT"),h=n("0njA");function f(t,e){1&t&&c.\u0275\u0275elementContainer(0)}const m=function(t,e,n){return{capacityRealTimeIconName:t,capacityIconText:e,capacityLevel:n}};function g(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"div",9),c.\u0275\u0275template(1,f,1,0,"ng-container",10),c.\u0275\u0275elementStart(2,"span"),c.\u0275\u0275text(3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;c.\u0275\u0275nextContext(2);const n=c.\u0275\u0275reference(2);c.\u0275\u0275advance(1),c.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",c.\u0275\u0275pureFunction3(3,m,t.realtimeIconName,t.text,t.level)),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(t.text)}}function y(t,e){1&t&&c.\u0275\u0275elementContainer(0)}const _=function(t,e){return{capacityIconText:t,capacityLevel:e}};function v(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"div",11),c.\u0275\u0275template(1,y,1,0,"ng-container",10),c.\u0275\u0275elementStart(2,"span"),c.\u0275\u0275text(3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;c.\u0275\u0275nextContext(2);const n=c.\u0275\u0275reference(2);c.\u0275\u0275advance(1),c.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",c.\u0275\u0275pureFunction2(3,_,t.text,t.level)),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(t.text)}}function b(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"div"),c.\u0275\u0275elementStart(1,"h4"),c.\u0275\u0275text(2,"Look for the green dots"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"div",12),c.\u0275\u0275elementStart(4,"div",13),c.\u0275\u0275element(5,"tni-icon",14),c.\u0275\u0275element(6,"tni-icon",14),c.\u0275\u0275element(7,"tni-icon",14),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"p"),c.\u0275\u0275text(9),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t){const t=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(5),c.\u0275\u0275property("iconName","covid-sit-here")("iconAriaHidden",!0)("iconTitle","Sit here"),c.\u0275\u0275advance(1),c.\u0275\u0275property("iconName","covid-stand-here")("iconAriaHidden",!0)("iconTitle","Stand here"),c.\u0275\u0275advance(1),c.\u0275\u0275property("iconName","covid-physical-distance-capacity")("iconAriaHidden",!0)("iconTitle","Physical distance capacity"),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(t.greendotsText)}}function M(t,e){if(1&t){const t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"tni-modal",2),c.\u0275\u0275listener("closeEvent",(function(){return c.\u0275\u0275restoreView(t),c.\u0275\u0275nextContext().close()})),c.\u0275\u0275elementStart(1,"tni-modal-title"),c.\u0275\u0275elementStart(2,"h2"),c.\u0275\u0275text(3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"div",3),c.\u0275\u0275elementStart(5,"p"),c.\u0275\u0275text(6),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(7,"div"),c.\u0275\u0275elementStart(8,"h4"),c.\u0275\u0275text(9,"Real time capacity status"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(10,"div",4),c.\u0275\u0275template(11,g,4,7,"div",5),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(12,"div"),c.\u0275\u0275elementStart(13,"h4"),c.\u0275\u0275text(14,"When real time data is unavailable"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(15,"p"),c.\u0275\u0275text(16),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(17,"div",6),c.\u0275\u0275template(18,v,4,6,"div",7),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(19,b,10,10,"div",8),c.\u0275\u0275pipe(20,"async"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()}if(2&t){const t=c.\u0275\u0275nextContext();c.\u0275\u0275property("alignAtTop",!0)("fullscreenMobile",!0)("closeAtBottomLayout",!0)("@fadeOutAnimation",void 0),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(t.title),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(t.subheading),c.\u0275\u0275advance(5),c.\u0275\u0275property("ngForOf",t.realtimeOccupancyIconsMetadata),c.\u0275\u0275advance(5),c.\u0275\u0275textInterpolate(t.estimatedCapacityText),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngForOf",t.historicalOccupancyIconsMetadata),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",c.\u0275\u0275pipeBind1(20,10,t.isEnableCovidOccupancyText$))}}function x(t,e){if(1&t&&c.\u0275\u0275element(0,"tni-icon",19),2&t){const t=c.\u0275\u0275nextContext().capacityRealTimeIconName;c.\u0275\u0275property("iconName",t)("iconAriaHidden",!0)}}function w(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"div",15),c.\u0275\u0275template(1,x,1,2,"tni-icon",16),c.\u0275\u0275elementStart(2,"div",17),c.\u0275\u0275element(3,"tni-icon",18),c.\u0275\u0275element(4,"tni-icon",18),c.\u0275\u0275element(5,"tni-icon",18),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t){const t=e.capacityRealTimeIconName,n=e.capacityIconText,r=e.capacityLevel;c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",t),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngClass","occupancy-indicator__icon--"+r+(t?"":"-historical")),c.\u0275\u0275advance(1),c.\u0275\u0275styleProp("opacity",1),c.\u0275\u0275property("iconName","occupancy")("iconAriaHidden",!0)("iconTitle",n),c.\u0275\u0275advance(1),c.\u0275\u0275styleProp("opacity","medium"===r||"full"===r?1:.3),c.\u0275\u0275property("iconName","occupancy")("iconAriaHidden",!0)("iconTitle",n),c.\u0275\u0275advance(1),c.\u0275\u0275styleProp("opacity","full"===r?1:.3),c.\u0275\u0275property("iconName","occupancy")("iconAriaHidden",!0)("iconTitle",n)}}class C{constructor(t,e){this.modalService=t,this.occupancyIndicatorService=e,this.tfnswSiteDesignClass="tfnsw-site-design",this.isOpen=!1,this.title="",this.subheading="",this.estimatedCapacityText="",this.greendotsText="",this.destroyed$=new r.Subject}close(){this.isOpen=!1,setTimeout(()=>{this.modalService.removeModalFromBody()},300)}ngOnInit(){this.isEnableCovidOccupancyText$=this.occupancyIndicatorService.isEnableCovidOccupancyText$(),this.occupancyIndicatorService.getCovidOccupancyModalText().pipe(i.takeUntil(this.destroyed$)).subscribe(t=>{this.title=t.title,this.subheading=t.subheading,this.estimatedCapacityText=t.estimatedCapacityText,this.greendotsText=t.greendotsText,this.historicalOccupancyIconsMetadata=[{level:a.OccupancyLevel.LOW,text:t.lowCapacity},{level:a.OccupancyLevel.MEDIUM,text:t.mediumCapacity},{level:a.OccupancyLevel.FULL,text:t.fullCapacity}],this.realtimeOccupancyIconsMetadata=this.historicalOccupancyIconsMetadata.map(t=>Object.assign(Object.assign({},t),{realtimeIconName:t.level===a.OccupancyLevel.LOW?s.RealTimeStatus.ON_TIME:t.level===a.OccupancyLevel.MEDIUM?s.RealTimeStatus.EARLY:s.RealTimeStatus.LATE}))}),setTimeout(()=>{this.isOpen=!0},0)}ngOnDestroy(){this.destroyed$.next()}}e.OccupancyIndicatorMoreInfoModalComponent=C,C.\u0275fac=function(t){return new(t||C)(c.\u0275\u0275directiveInject(l.ModalService),c.\u0275\u0275directiveInject(u.OccupancyIndicatorService))},C.\u0275cmp=c.\u0275\u0275defineComponent({type:C,selectors:[["tni-occupancy-indicator-more-info-modal"]],hostVars:2,hostBindings:function(t,e){2&t&&c.\u0275\u0275classMap(e.tfnswSiteDesignClass)},decls:3,vars:1,consts:[["ariaLabel","Help us make your travel safe",3,"alignAtTop","fullscreenMobile","closeAtBottomLayout","closeEvent",4,"ngIf"],["capacityIcons",""],["ariaLabel","Help us make your travel safe",3,"alignAtTop","fullscreenMobile","closeAtBottomLayout","closeEvent"],[1,"modal-text"],[1,"real-time-capacity-status-legend"],["class","real-time-capacity-status-legend__key",4,"ngFor","ngForOf"],[1,"historical-capacity-status-legend"],["class","historical-capacity-status-legend__key",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"real-time-capacity-status-legend__key"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"historical-capacity-status-legend__key"],[1,"covid-section"],[1,"covid-section__icons"],["iconClasses","lg",3,"iconName","iconAriaHidden","iconTitle"],["aria-hidden","true",1,"occupancy-indicator"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden",4,"ngIf"],[1,"occupancy-indicator__icon",3,"ngClass"],["iconClasses","xs occupancy",3,"iconName","iconAriaHidden","iconTitle"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden"]],template:function(t,e){1&t&&(c.\u0275\u0275template(0,M,21,12,"tni-modal",0),c.\u0275\u0275template(1,w,6,17,"ng-template",null,1,c.\u0275\u0275templateRefExtractor)),2&t&&c.\u0275\u0275property("ngIf",e.isOpen)},directives:[p.NgIf,d.ModalComponent,d.ModalTitleDirective,p.NgForOf,p.NgTemplateOutlet,h.IconComponent,p.NgClass],pipes:[p.AsyncPipe],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:6px;font-weight:500}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:1em 0}[_nghost-%COMP%]   .historical-capacity-status-legend__key[_ngcontent-%COMP%], [_nghost-%COMP%]   .real-time-capacity-status-legend__key[_ngcontent-%COMP%]{display:flex;padding:12px 0;border-bottom:1px solid #eaeaea}[_nghost-%COMP%]   .historical-capacity-status-legend__key[_ngcontent-%COMP%]:last-child, [_nghost-%COMP%]   .real-time-capacity-status-legend__key[_ngcontent-%COMP%]:last-child{border-bottom:none}[_nghost-%COMP%]   .historical-capacity-status-legend__key[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .real-time-capacity-status-legend__key[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:36px}[_nghost-%COMP%]   .covid-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:65px 1fr;align-items:center;padding-top:12px}[_nghost-%COMP%]   .covid-section__icons[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .covid-section__icons[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{padding-bottom:6px}[_nghost-%COMP%]   .covid-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2em}[_nghost-%COMP%]   .occupancy-indicator[_ngcontent-%COMP%]{display:inline-block;position:relative;white-space:nowrap}[_nghost-%COMP%]   .occupancy-indicator__icon[_ngcontent-%COMP%]{color:#555}[_nghost-%COMP%]   .occupancy-indicator__icon[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{margin-right:-6px}[_nghost-%COMP%]   .occupancy-indicator__icon--low[_ngcontent-%COMP%]{color:#31a50e}[_nghost-%COMP%]   .occupancy-indicator__icon--medium[_ngcontent-%COMP%]{color:#dc7a13}[_nghost-%COMP%]   .occupancy-indicator__icon--full[_ngcontent-%COMP%]{color:#af1919}"],data:{animation:[o.fadeOutAnimation]}})},"9TDR":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.degToRad=function(t){return t*Math.PI/180},e.radToDeg=function(t){return 180*t/Math.PI},e.knotsToMeterPerSecond=function(t){return.514444*t},e.meterPerSecondToKnots=function(t){return t/.514444},e.knotsToKmPerHour=function(t){return 1.852*t},e.kmPerHourToKnots=function(t){return t/1.852}},"9Xeq":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PipesModule=void 0;const r=n("J/9z"),i=n("7rOj"),o=n("8Y7J");class a{}e.PipesModule=a,a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({factory:function(t){return new(t||a)},providers:[i.LastUpdatedDescriptionPipe,i.LocationDescriptionPipe,i.LocationSortPipe,i.ModeSortPipe,i.UniqueLocationsPipe,i.DistancePipe,i.DurationPipe],imports:[[r.NgStringPipesModule],r.NgStringPipesModule]})},"9aRb":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesModule=void 0;const r=n("iInd"),i=n("IRuf"),o=n("TswQ"),a=n("SVse"),s=n("PCNd"),c=n("NR7J"),l=n("QSoc"),u=n("dFlJ"),p=n("qwcM"),d=n("7bNT"),h=n("2Vtg"),f=n("81Uo"),m=n("j+vQ"),g=n("NwGF"),y=n("vMil"),_=n("8Y7J"),v=(n("7bNT"),n("iInd"),[{path:"",component:i.DeparturesComponent}]);class b{}e.DeparturesModule=b,b.\u0275mod=_.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=_.\u0275\u0275defineInjector({factory:function(t){return new(t||b)},providers:[l.DeparturesUrlService,u.DeparturesRequestService,p.DeparturesSearchService,y.DeparturesDetailRequestService],imports:[[o.TniFormModule,a.CommonModule,s.SharedModule,h.TripHistoryModule,c.TniDateTimeSelectorModule,d.EffectsModule.forFeature([f.DepartureEffects,g.DepartureDetailEffects,m.DepartureRefreshEffect]),r.RouterModule.forChild(v)]]})},"9b/N":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return p}));var r=n("8LU1"),i=n("8Y7J"),o=n("HDdC"),a=n("XNiG"),s=n("Kj3r");let c=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t},token:t,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Object(r.d)(t);return new o.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new a.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](c))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(c))},token:t,providedIn:"root"}),t})(),u=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new i.EventEmitter,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(r.b)(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Object(r.e)(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Object(s.a)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](l),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.NgZone))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),p=(()=>{class t{}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[c]}),t})()},"9gLZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("8Y7J"),i=n("SVse");const o=new r.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.inject)(i.DOCUMENT)}});let a=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.EventEmitter,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](o,8))},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(o,8))},token:t,providedIn:"root"}),t})(),s=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})()},"9hJF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectedJourneyReducer=e.initialState=e.selectedJourneyFeatureKey=void 0;const r=n("EiLY");e.selectedJourneyFeatureKey="selectedJourney",e.initialState={selectedJourney:null},e.selectedJourneyReducer=function(t=e.initialState,n){switch(n.type){case r.TripActionTypes.SELECT_JOURNEY:return Object.assign({},Object.assign(Object.assign({},t),{selectedJourney:n.payload.trip}));default:return t}}},"9iXN":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClearTripEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("kU1M"),a=n("xk7R"),s=n("RNDk"),c=n("EiLY"),l=n("ha9l"),u=n("8Y7J"),p=n("7bNT"),d=n("iInd");e.ClearTripEffects=(()=>{class t{constructor(t,e,n){this.actions=t,this.router=e,this.route=n,this.clearTrip$=this.actions.pipe(i.ofType(c.TripActionTypes.CLEAR_TRIP),o.tap(({travelMode:t})=>{setTimeout(()=>{this.router.navigate([],{queryParams:Object.assign({},t&&t!==l.JourneyType.PublicTransport&&{travelMode:t}),relativeTo:this.route})},200)}),o.mergeMap(({travelMode:t})=>[new c.TripSearchAction({tripResponse:a.TripDetailsInitialState,tripRequest:null}),new s.MapTripAction({trip:null}),new s.MapTripLegAction({mapLeg:null}),new c.TransportFilterAction({filter:t}),new c.CurrentLocationAction({coords:null}),new c.SearchFromHereAction({from:null}),new c.SearchToHereAction({to:null})]))}}return t.\u0275fac=function(e){return new(e||t)(u.\u0275\u0275inject(p.Actions),u.\u0275\u0275inject(d.Router),u.\u0275\u0275inject(d.ActivatedRoute))},t.\u0275prov=u.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"clearTrip$",void 0),t})()},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},"9qKE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalSearchFormComponent=void 0;const r=n("8Y7J"),i=n("Oh75"),o=n("zpQm"),a=n("Axic"),s=n("EiLY"),c=n("1z/I"),l=n("erv5"),u=n("qCKp"),p=n("kU1M"),d=n("qtzU"),h=n("RNDk"),f=n("8Y7J"),m=n("tqRt"),g=n("NfbF"),y=n("Hrlu"),_=n("lTCs"),v=n("aUnO"),b=n("s7LF"),M=n("bHkN"),x=n("1z/I"),w=n("SVse"),C=n("ajRT");function S(t,e){if(1&t){const t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tni-modal",8),f.\u0275\u0275listener("closeEvent",(function(){f.\u0275\u0275restoreView(t);const e=f.\u0275\u0275nextContext(2);return e.isErrorModalOpen=!1,e.modalService.removeModalFromBody()})),f.\u0275\u0275elementStart(1,"tni-modal-title"),f.\u0275\u0275elementStart(2,"h2"),f.\u0275\u0275text(3,"Something went wrong"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",9),f.\u0275\u0275text(5),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&t){const t=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("ariaLabel",t.errorMessage)("openingElement",t.locationSearchTo.location&&t.locationSearchTo.location.isCurrent?t.locationSearchTo:t.locationSearchFrom)("closeAtBottomLayout",!0)("fullscreenMobile",!0),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",t.errorMessage," ")}}function E(t,e){if(1&t&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,S,6,5,"tni-modal",7),f.\u0275\u0275elementContainerEnd()),2&t){const t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.isErrorModalOpen)}}function T(t,e){if(1&t){const t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tni-modal",8),f.\u0275\u0275listener("closeEvent",(function(){f.\u0275\u0275restoreView(t);const e=f.\u0275\u0275nextContext(2);return e.isErrorModalOpen=!1,e.modalService.removeModalFromBody()})),f.\u0275\u0275elementStart(1,"tni-modal-title"),f.\u0275\u0275elementStart(2,"h2"),f.\u0275\u0275text(3,"Something went wrong"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",9),f.\u0275\u0275text(5),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&t){const t=f.\u0275\u0275nextContext(2),e=f.\u0275\u0275reference(5);f.\u0275\u0275property("ariaLabel",t.errorMessage)("openingElement",e)("closeAtBottomLayout",!0)("fullscreenMobile",!0),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",t.errorMessage," ")}}function O(t,e){if(1&t&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,T,6,5,"tni-modal",7),f.\u0275\u0275elementContainerEnd()),2&t){const t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.isErrorModalOpen)}}const A=function(t){return{stopsOnly:!1,mode:"geocode",coords:t}};class P{constructor(t,e,n,i,o){this.store=t,this.trackEventService=e,this.locationService=n,this.modalService=i,this.storeMapService=o,this.geocode=l.SearchMode.GEOCODE,this.ngDestroyed$=new u.Subject,this.updateResearchFrom=new r.EventEmitter}ngOnInit(){this.opalSearch=new a.OpalSearch,this.isErrorModalOpen=!1,this.coords$=this.storeMapService.getMapCenter$().pipe(p.filter(t=>!!t),p.takeUntil(this.ngDestroyed$),p.map(t=>Array.from(t).reverse().join(","))),this.store.select(d.getSearchLocation).pipe(p.take(1),p.filter(t=>!!t)).subscribe(t=>{this.opalSearch.fromLocation=t,this.store.dispatch(new h.MapReloadOpalLocationAction)})}opalLocationChange(){this.opalSearch.fromLocation?(this.updateResearchFrom.emit(this.opalSearch.fromLocation.isCurrent),this.opalSearch.fromLocation.isCurrent?(this.trackEventService.trackEvent(o.EventCategory.OpalRetailers,{action:"Search location",label:this.opalSearch.fromLocation.fullName}),this.locationService.getCurrentLocation().subscribe(t=>{this._updateLocationsWithCurrentLocation(t)},t=>{this._handleErrorCurrentLocation(t)})):(this.trackEventService.trackEvent(o.EventCategory.OpalRetailers,{action:"Search location",label:this.opalSearch.fromLocation.fullName}),this.store.dispatch(new i.SelectLocationAction({location:this.opalSearch.fromLocation})))):this.store.dispatch(new i.ClearSelectLocationAction)}onSearch(){this.opalSearch.fromLocation&&(this.opalSearch.fromText=this.opalSearch.fromLocation.description(),this.opalSearch.clearFromLocationError())}onInputBlur(){}mapLinkClick(){}ngOnDestroy(){this.ngDestroyed$.next()}_updateLocationsWithCurrentLocation(t){this.opalSearch.fromLocation.id=t.id,this.opalSearch.fromLocation.coord=[t.coord[1],t.coord[0]],this.store.dispatch(new s.CurrentLocationAction({coords:t.coord?[t.coord[0],t.coord[1]]:null})),this.store.dispatch(new i.SelectLocationAction({location:this.opalSearch.fromLocation}))}_handleErrorCurrentLocation(t){this.store.dispatch(new s.CurrentLocationAction({coords:null})),this.modalService.addModalToBody(this.portals.toArray()[1]),this.isErrorModalOpen=!0,this.errorMessage=t.message}}e.OpalSearchFormComponent=P,P.\u0275fac=function(t){return new(t||P)(f.\u0275\u0275directiveInject(m.Store),f.\u0275\u0275directiveInject(g.TrackEventService),f.\u0275\u0275directiveInject(y.LocationService),f.\u0275\u0275directiveInject(_.ModalService),f.\u0275\u0275directiveInject(v.StoreMapService))},P.\u0275cmp=f.\u0275\u0275defineComponent({type:P,selectors:[["tni-opal-search-form"]],viewQuery:function(t,e){var n;1&t&&f.\u0275\u0275viewQuery(c.CdkPortal,!0),2&t&&f.\u0275\u0275queryRefresh(n=f.\u0275\u0275loadQuery())&&(e.portals=n)},outputs:{updateResearchFrom:"updateResearchFrom"},decls:9,vars:12,consts:[[1,"clearfix"],["novalidate","",1,"form"],[1,"opal-search-form-main"],[1,"opal-search-form-main__search"],["label","Search for a location",1,"from-location",3,"noHistory","searchOptions","id","location","hideCurrentLocation","textValue","errorMessage","highlightText","inputTextChange","locationChange","inputBlur","formSubmit","mapLinkClick"],["DepartureSearchFrom",""],[4,"cdkPortal"],[3,"ariaLabel","openingElement","closeAtBottomLayout","fullscreenMobile","closeEvent",4,"ngIf"],[3,"ariaLabel","openingElement","closeAtBottomLayout","fullscreenMobile","closeEvent"],[1,"modal-text"]],template:function(t,e){1&t&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"form",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275elementStart(3,"div",3),f.\u0275\u0275elementStart(4,"tni-location-search",4,5),f.\u0275\u0275listener("inputTextChange",(function(t){return e.opalSearch.fromText=t}))("locationChange",(function(t){return e.opalSearch.fromLocation=t}))("inputBlur",(function(){return e.onInputBlur()}))("locationChange",(function(){return e.opalLocationChange()}))("formSubmit",(function(){return e.onSearch()}))("mapLinkClick",(function(){return e.mapLinkClick()})),f.\u0275\u0275pipe(6,"async"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(7,E,2,1,"ng-container",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(8,O,2,1,"ng-container",6)),2&t&&(f.\u0275\u0275advance(4),f.\u0275\u0275property("noHistory",!0)("searchOptions",f.\u0275\u0275pureFunction1(10,A,f.\u0275\u0275pipeBind1(6,8,e.coords$)))("id","tniOpalLocationSearch")("location",e.opalSearch.fromLocation)("hideCurrentLocation",!1)("textValue",e.opalSearch.fromText)("errorMessage",e.opalSearch.fromError)("highlightText",!0))},directives:[b.\u0275angular_packages_forms_forms_y,b.NgControlStatusGroup,b.NgForm,M.LocationSearchComponent,x.CdkPortal,w.NgIf,C.ModalComponent,C.ModalTitleDirective],pipes:[w.AsyncPipe],styles:[".opal-container[_ngcontent-%COMP%]{min-height:165px;font-size:14px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.opal-container[_ngcontent-%COMP%]{min-height:155px}}.opal-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{background:#f2f2f2}.opal-container[_ngcontent-%COMP%]   .opal-search-form-heading[_ngcontent-%COMP%]{text-align:center}.opal-container[_ngcontent-%COMP%]   .tp-search-switch[_ngcontent-%COMP%]{width:34px;height:30px;position:absolute;right:-36px;top:42%;background:#fff;fill:#333;color:#333;transition:background .05s ease-in-out;background:transparent;border:none}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.opal-container[_ngcontent-%COMP%]   .tp-search-switch[_ngcontent-%COMP%]{margin-right:10px}}.opal-container[_ngcontent-%COMP%]   .go-btn-wrap[_ngcontent-%COMP%]{padding:16px;box-shadow:0 -1px 5px 0 rgba(0,0,0,.2)}.opal-container[_ngcontent-%COMP%]   .go-btn-wrap[_ngcontent-%COMP%]   .go-btn[_ngcontent-%COMP%]{width:100%}.opal-container[_ngcontent-%COMP%]   .opal-search-form-main[_ngcontent-%COMP%]{padding:5px 0 0}.opal-container[_ngcontent-%COMP%]   .opal-search-form-footer[_ngcontent-%COMP%], .opal-container[_ngcontent-%COMP%]   .opal-search-form-main[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);position:relative}.opal-container[_ngcontent-%COMP%]   .opal-search-form-footer__search[_ngcontent-%COMP%], .opal-container[_ngcontent-%COMP%]   .opal-search-form-main__search[_ngcontent-%COMP%]{position:relative;padding-left:8px;padding-right:13px}"]})},"9rJ0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleTransportMode=e.TransportMode=void 0,e.TransportMode=function(t){return t[t.rail=1]="rail",t[t.subway=2]="subway",t[t.bus=5]="bus",t[t.coach=7]="coach",t[t.ferry=9]="ferry",t[t.tram=4]="tram",t[t.other=11]="other",t}(e.TransportMode||{}),e.AccessibleTransportMode=function(t){return t[t.Train=1]="Train",t[t.IntercityTrain=2]="IntercityTrain",t[t.RegionalTrainsAndCoachesNetwork33=3]="RegionalTrainsAndCoachesNetwork33",t[t.Ferry=10]="Ferry",t[t.ManlyFastFerry=12]="ManlyFastFerry",t[t.LightRail=13]="LightRail",t[t.NewcastleLightRail=21]="NewcastleLightRail",t[t.Metro=24]="Metro",t}(e.AccessibleTransportMode||{})},"9rRi":function(t,e,n){!function(t){"use strict";t.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n("wd/R"))},"9sYg":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripServiceErrorHandler=void 0;const r=n("PCNd"),i=n("IheW"),o=n("m91t"),a=n("EiLY"),s=n("KQMD"),c=n("8Y7J"),l=n("tqRt");class u{constructor(t){this.stateStore=t}handleError(t,e){if(t instanceof i.HttpErrorResponse){const t=navigator.onLine?o.ErrorMessages.service:o.ErrorMessages.network;this.stateStore.dispatch(new a.SearchErrorAction({errorMessage:t,tripRequest:e}))}}handleDeparturesError(t,e,n){if(t instanceof i.HttpErrorResponse){const t=navigator.onLine?o.ErrorMessages.service:o.ErrorMessages.network;this.stateStore.dispatch(new s.DeparturesErrorAction({errorMessage:t,departureReq:e})),this.stateStore.dispatch(new s.DeparturesRefreshAction({departuresRequest:e,departuresForm:n}))}}}e.TripServiceErrorHandler=u,u.\u0275fac=function(t){return new(t||u)(c.\u0275\u0275inject(l.Store))},u.\u0275prov=c.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:r.SharedModule})},"A+xa":function(t,e,n){!function(t){"use strict";t.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(t){return t+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(t)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(t)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(n("wd/R"))},A1oB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccordionComponent=void 0;const r=n("8Y7J"),i=n("sYyf"),o=n("8Y7J"),a=n("SVse"),s=n("0njA"),c=[[["","header",""]],[["","body",""]]],l=function(t){return{expanded:t}};class u{constructor(){this.toggle=new r.EventEmitter}toggleExpanded(t){t.preventDefault(),t.stopPropagation(),this.expanded=!this.expanded,this.toggle.emit(this.expanded)}}e.AccordionComponent=u,u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["tni-accordion"]],inputs:{ariaLabel:"ariaLabel",expanded:"expanded",headerClasses:"headerClasses",bodyClasses:"bodyClasses"},outputs:{toggle:"toggle"},ngContentSelectors:["[header]","[body]"],decls:6,vars:11,consts:[["role","button","tabindex","0",1,"accordion",3,"click","keyup.enter","keydown.space"],["tabindex","-1","role","none",1,"accordion__header",3,"ngClass"],["iconName","arrow-down-small","iconClasses","xs",1,"accordion__icon",3,"iconAriaHidden"],[1,"accordion__body",3,"ngClass"]],template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(c),o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275listener("click",(function(t){return e.toggleExpanded(t)}))("keyup.enter",(function(t){return e.toggleExpanded(t)}))("keydown.space",(function(t){return e.toggleExpanded(t)})),o.\u0275\u0275elementStart(1,"button",1),o.\u0275\u0275projection(2),o.\u0275\u0275element(3,"tni-icon",2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"div",3),o.\u0275\u0275projection(5,1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275attribute("aria-expanded",e.expanded),o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate("ngClass",e.headerClasses),o.\u0275\u0275attribute("aria-label",e.ariaLabel)("aria-expanded",e.expanded),o.\u0275\u0275advance(2),o.\u0275\u0275property("iconAriaHidden",!0)("@rotateClockwiseAnimation",e.expanded?"rotate":"default"),o.\u0275\u0275advance(1),o.\u0275\u0275classMap(e.bodyClasses),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(9,l,e.expanded)))},directives:[a.NgClass,s.IconComponent],styles:["[_nghost-%COMP%]{display:block;border-bottom:1px solid #ddd}[_nghost-%COMP%]:first-child{border-top:1px solid #ddd}.accordion[_ngcontent-%COMP%]{padding:12px 16px 12px 24px}.accordion[_ngcontent-%COMP%]   .accordion__header[_ngcontent-%COMP%]{cursor:pointer;outline:none;background:transparent;border:0;color:#171717;font-size:12px;font-weight:500;line-height:15px}.accordion[_ngcontent-%COMP%]   .accordion__icon[_ngcontent-%COMP%]{position:absolute;right:0;height:20px;min-width:20px;width:20px;margin-top:-2px}.accordion[_ngcontent-%COMP%]   .accordion__icon[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{margin-top:-3px}.accordion[_ngcontent-%COMP%]   .accordion__body[_ngcontent-%COMP%]{max-height:0;opacity:0;visibility:hidden;transition:all .35s ease-in-out}.accordion[_ngcontent-%COMP%]   .accordion__body.expanded[_ngcontent-%COMP%]{margin-top:16px;max-height:100%;opacity:1;visibility:visible}"],data:{animation:[i.rotateClockwiseAnimation]},changeDetection:0})},A5KL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PublicTransportMode=void 0;class r{static fromJson(t){const e=new r;return Object.assign(e,t),e}}e.PublicTransportMode=r},A9CO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripService=void 0;const r=n("kU1M"),i=n("qCKp"),o=n("tqRt"),a=n("PCNd"),s=n("cRl/"),c=n("f0Wu"),l=n("8Y7J"),u=n("IheW"),p=n("tqRt");class d{constructor(t,e){this.http=t,this.stateStore=e,this.localStorageName="debug-trip-request"}Search(t,e){if(e&&this.getCycleJourneysBySpeed(t))return i.of(this.getCycleJourneysBySpeed(t));let n="/api/trip/v1/trip-request";return n=s.LocalStorageHelper.getItem(this.localStorageName)?n.concat("?debug=true"):n,this.http.post(n,t).pipe(r.map(t=>t))}saveDebugMode(t){t&&s.LocalStorageHelper.setItem(this.localStorageName,{lastRequest:c().format()})}getTrips(){return this.stateStore.pipe(o.select(t=>t.TripDetails))}clearCycleJourneysBySpeed(){s.LocalStorageHelper.removeItem("cycle-journeys-25"),s.LocalStorageHelper.removeItem("cycle-journeys-16"),s.LocalStorageHelper.removeItem("cycle-journeys-12")}getCycleJourneysBySpeed(t){return s.LocalStorageHelper.getItem("cycle-journeys-"+t.preferences.cycleSpeed)}}e.TripService=d,d.\u0275fac=function(t){return new(t||d)(l.\u0275\u0275inject(u.HttpClient),l.\u0275\u0275inject(p.Store))},d.\u0275prov=l.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:a.SharedModule})},ALoK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DurationPipe=void 0;const r=n("f0Wu"),i=n("8Y7J");class o{transform(t,e=null,n=!0,i={hour:"h",minute:"min"},o=!1){if(!t||isNaN(t))return"";{const a=r.duration(t,"seconds"),s=a.minutes(),c=a.hours(),l=a.days(),u=r.duration(1,"minute"),p=r.duration(1,"hour"),d=r.duration(1,"day");return a<u?e||"1"+i.minute:a<p?`${s}${i.minute}`:a<d?0===s?`${c}${i.hour}`:n?`${c}${i.hour} ${s}${i.minute}`:`${c}${i.hour} ${s}`:o?"1 day":0===s?`${l}d ${c}${i.hour}`:`${l}d ${c}${i.hour} ${s}${i.minute}`}}}e.DurationPipe=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=i.\u0275\u0275definePipe({name:"durationPipe",type:o,pure:!0})},AO9Q:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StoreMapLocationService=void 0;const r=n("edgm"),i=n("8Y7J"),o=n("tqRt");class a{constructor(t){this.store=t,this.getOriginFromMap$=()=>this.store.select(r.getOriginFromMap),this.getDestinationFromMap$=()=>this.store.select(r.getDestinationFromMap)}}e.StoreMapLocationService=a,a.\u0275fac=function(t){return new(t||a)(i.\u0275\u0275inject(o.Store))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})},AQ68:function(t,e,n){!function(t){"use strict";t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n("wd/R"))},AQhy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectTripEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("kU1M"),a=n("qCKp"),s=n("ha9l"),c=n("RNDk"),l=n("EiLY"),u=n("8Y7J"),p=n("7bNT");e.SelectTripEffects=(()=>{class t{constructor(t){this.actions=t,this.selectTrip$=this.actions.pipe(i.ofType(l.TripActionTypes.SELECT_JOURNEY),o.map(t=>({trip:t.payload.trip})),o.mergeScan((t,e)=>t&&e.trip.type===s.JourneyType.Drive&&t.trip.type===s.JourneyType.Drive&&t.trip.legs[0].origin.name===e.trip.legs[0].origin.name&&t.trip.legs[t.trip.legs.length-1].destination.name===e.trip.legs[t.trip.legs.length-1].destination.name?a.NEVER:a.of(e),null),o.catchError(()=>a.NEVER),o.mergeMap(t=>[new c.MapTripAction({trip:t.trip}),new c.MapTripLegAction({mapLeg:null})]))}}return t.\u0275fac=function(e){return new(e||t)(u.\u0275\u0275inject(p.Actions))},t.\u0275prov=u.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"selectTrip$",void 0),t})()},AoJw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTransportFilter=void 0;const r=n("tqRt"),i=n("IkPc"),o=r.createFeatureSelector(i.transportFilterKey),a=r.createSelector(o,t=>t);e.getTransportFilter=a},AvvY:function(t,e,n){!function(t){"use strict";t.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===e&&t>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===e||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":t<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":t<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":t<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(n("wd/R"))},Axic:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalSearch=void 0,e.OpalSearch=class{constructor(){this.fromText=""}isFromLocationValid(){return!!this.fromLocation}clearFromLocationError(){this.fromError=""}}},AytR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.environment=void 0,e.environment={production:!0}},B04L:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRouteUrl=void 0;const r=n("tqRt").createSelector(t=>t&&t.router&&t.router.state,t=>t&&t.url);e.getRouteUrl=r},B0Le:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoJsonTemplates=void 0;const r=n("iFc6"),i=n("bk1F"),o=n("erv5"),a=n("8Y7J");class s{createFeatureFromStop(t,e){const n=this.getSymbolFeature();n.geometry.coordinates=t.coordinates.concat().reverse(),n.properties.name=t.name,n.properties.disassembledName=t.disassembledName;const r=t.id?" (Stop ID "+t.id+")":"";return n.properties.description=`${t.name.split(",")[0]}${r}`,n.properties.id=t.id.toString(),n.properties.type=i.StopType[t.type],n.properties.suburb=t.name,e&&(n.properties.colour=e),n}createFeatureFromLocation(t,e){const n=this.getSymbolFeature();return n.geometry.coordinates=t.coord.concat().reverse(),n.properties.name=t.fullName,n.properties.disassembledName=t.stopfinderName(),n.properties.description=`${t.suburb()}${this.getStopID(t)}`,n.properties.id=t.id,n.properties.groupId=t.parent?t.parent.id:null,n.properties.type=o.LocationType[t.type],n.properties.suburb=t.suburb(),e&&(n.properties.colour=e),n}getStopID(t){return t.id&&t.type!==o.LocationType.POI?" (Stop ID "+t.id+")":""}getLineLayerTemplate(t){return{id:t,type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-width":r.TniConstant.MAPBOX_CONSTANTS.line_width,"line-opacity":1},productId:0}}getLineFeatureTemplate(){return{type:"Feature",geometry:{type:"LineString",coordinates:[]}}}getCircleLayer(t){return{id:t,type:"circle",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}},layout:{visibility:"visible"},paint:{"circle-radius":r.TniConstant.MAPBOX_CONSTANTS.circle_radius,"circle-stroke-width":r.TniConstant.MAPBOX_CONSTANTS.circle_stroke_width,"circle-stroke-color":r.TniConstant.MAPBOX_CONSTANTS.circle_stroke_color},productId:1}}getSymbolLayer(t,e){return{id:t,type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}},layout:{"icon-image":e,"icon-size":1.3,visibility:"visible"},productId:2}}getSymbolFeature(){return{type:"Feature",properties:{name:"",disassembledName:"",description:"",id:"",groupId:"",type:"",suburb:"",colour:"#000000"},geometry:{type:"Point",coordinates:[]}}}}e.GeoJsonTemplates=s,s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=a.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},B55N:function(t,e,n){!function(t){"use strict";t.defineLocale("ja",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5f8c"===t},meridiem:function(t,e,n){return t<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(t){return t.week()<this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(t){return this.week()<t.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";default:return t}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(n("wd/R"))},BFxc:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function a(t){return function(e){return 0===t?Object(o.b)():e.lift(new s(t))}}class s{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends r.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}},BIft:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripSearchFormComponent=void 0;const r=n("mrSG"),i=n("1z/I"),o=n("8Y7J"),a=n("s7LF"),s=n("tqRt"),c=n("f0Wu"),l=n("qCKp"),u=n("kU1M"),p=n("sYyf"),d=n("ha9l"),h=n("Y7PD"),f=n("AoJw"),m=n("3Pgj"),g=n("iDss"),y=n("08lQ"),_=n("mrM3"),v=n("bHkN"),b=n("C96X"),M=n("wNZk"),x=n("cRl/"),w=n("RNDk"),C=n("EiLY"),S=n("jMrl"),E=n("6phY"),T=n("yh6M"),O=n("zpQm"),A=n("ywyY"),P=n("8Y7J"),L=n("dN6K"),k=n("Hrlu"),I=n("MbAS"),D=n("iInd"),N=n("tqRt"),R=n("lTCs"),z=n("ElVz"),F=n("AO9Q"),j=n("JvPz"),B=n("6V4H"),q=n("jSZz"),V=n("YqJu"),Y=n("7rOj"),H=n("VS5s"),W=n("A9CO"),U=n("s7LF"),X=n("0njA"),G=n("bHkN"),J=n("SVse"),$=n("1z/I"),K=n("ljUz"),Z=n("iDss"),Q=n("aTCI"),tt=n("LIED"),et=n("rfQM"),nt=n("WDjA"),rt=n("EQnc"),it=n("Vqw1"),ot=n("RdKv"),at=n("gdVn"),st=n("ajRT"),ct=n("Mzj4");function lt(t,e){if(1&t){const t=P.\u0275\u0275getCurrentView();P.\u0275\u0275elementContainerStart(0),P.\u0275\u0275elementStart(1,"tni-trip-transport-filter",21),P.\u0275\u0275listener("filteredPublicTransport",(function(){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().onPublicTransportFilter()}))("filteredTaxiDrive",(function(){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().onTaxiDriveFilter()}))("filteredCycle",(function(){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().onCycleFilter()}))("filteredWalk",(function(){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().onWalkFilter()})),P.\u0275\u0275pipe(2,"async"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementContainerEnd()}if(2&t){const t=P.\u0275\u0275nextContext();P.\u0275\u0275advance(1),P.\u0275\u0275property("durations",P.\u0275\u0275pipeBind1(2,3,t.tripResponseDurations$))("formControl",t.tripTransportFilterFormControl)("@slideOpenThenFadeIn",void 0)}}function ut(t,e){if(1&t){const t=P.\u0275\u0275getCurrentView();P.\u0275\u0275elementContainerStart(0,43),P.\u0275\u0275elementStart(1,"div",44),P.\u0275\u0275listener("escapeTrapFocus",(function(e){P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext();const n=P.\u0275\u0275reference(12),r=P.\u0275\u0275reference(3);return P.\u0275\u0275nextContext().showChatBot(),r.onTabClick(e,n)})),P.\u0275\u0275elementStart(2,"div",45),P.\u0275\u0275text(3," Refine search "),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(4,"div",36),P.\u0275\u0275elementStart(5,"button",46),P.\u0275\u0275listener("click",(function(){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext(2).clearPreferences()})),P.\u0275\u0275text(6,"Reset"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(7,"strong"),P.\u0275\u0275text(8,"Refine"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(9,"button",46),P.\u0275\u0275listener("click",(function(e){P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext();const n=P.\u0275\u0275reference(12),r=P.\u0275\u0275reference(3);return P.\u0275\u0275nextContext().cancel(),r.onTabClick(e,n)})),P.\u0275\u0275text(10,"Cancel"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275element(11,"tni-trip-preferences",38),P.\u0275\u0275element(12,"hr",39),P.\u0275\u0275elementStart(13,"tni-mode-select",47),P.\u0275\u0275listener("excludedModes",(function(e){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext(2).onExcludedModesChange(e)})),P.\u0275\u0275elementEnd(),P.\u0275\u0275element(14,"hr",39),P.\u0275\u0275element(15,"tni-trip-connections",38),P.\u0275\u0275element(16,"hr",39),P.\u0275\u0275element(17,"tni-service-options",38),P.\u0275\u0275element(18,"hr",39),P.\u0275\u0275element(19,"tni-walking-speed",38),P.\u0275\u0275elementStart(20,"div",41),P.\u0275\u0275elementStart(21,"button",42),P.\u0275\u0275listener("click",(function(){P.\u0275\u0275restoreView(t);const e=P.\u0275\u0275nextContext(2);return e.showChatBot(),e.onSearch([],!0,"refine")})),P.\u0275\u0275text(22," Apply "),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementContainerEnd()}if(2&t){const t=P.\u0275\u0275nextContext(2);P.\u0275\u0275advance(1),P.\u0275\u0275property("@slideUpDownAnimation",void 0),P.\u0275\u0275advance(10),P.\u0275\u0275property("group",t.tripPreferenceGroup.controls.tripPreferences),P.\u0275\u0275advance(2),P.\u0275\u0275property("preferencesForm",t.tripPreferenceGroup.controls.preferencesForm)("defaultExcludedModes",t.trip.excludedModes),P.\u0275\u0275advance(2),P.\u0275\u0275property("group",t.tripPreferenceGroup.controls.tripConnections),P.\u0275\u0275advance(2),P.\u0275\u0275property("group",t.tripPreferenceGroup.controls.serviceOptions),P.\u0275\u0275advance(2),P.\u0275\u0275property("group",t.tripPreferenceGroup.controls.walkingSpeed)}}const pt=function(t){return{"trip-planner-search-form-footer--overlay":t}};function dt(t,e){if(1&t){const t=P.\u0275\u0275getCurrentView();P.\u0275\u0275elementStart(0,"div",22),P.\u0275\u0275elementStart(1,"div",23),P.\u0275\u0275elementStart(2,"tni-tab-group",24,25),P.\u0275\u0275listener("tabChange",(function(e){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().togglePref(e)})),P.\u0275\u0275elementStart(4,"tni-tab",26),P.\u0275\u0275pipe(5,"async"),P.\u0275\u0275element(6,"tni-date-time-selector",27,28),P.\u0275\u0275elementStart(8,"div",29),P.\u0275\u0275elementStart(9,"button",30),P.\u0275\u0275listener("click",(function(){P.\u0275\u0275restoreView(t);const e=P.\u0275\u0275nextContext();return e.showChatBot(),e.onSearch([],!0,"leaving")})),P.\u0275\u0275text(10," Apply "),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(11,"tni-tab",31,32),P.\u0275\u0275template(13,ut,23,7,"ng-container",33),P.\u0275\u0275elementContainerStart(14),P.\u0275\u0275elementStart(15,"div",34),P.\u0275\u0275listener("escapeTrapFocus",(function(e){P.\u0275\u0275restoreView(t);const n=P.\u0275\u0275reference(12);return P.\u0275\u0275reference(3).onTabClick(e,n)})),P.\u0275\u0275elementStart(16,"div",35),P.\u0275\u0275text(17," Refine search "),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(18,"div",36),P.\u0275\u0275elementStart(19,"button",37),P.\u0275\u0275listener("click",(function(){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().clearPreferences()})),P.\u0275\u0275text(20,"Reset"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(21,"strong"),P.\u0275\u0275text(22,"Refine"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(23,"button",37),P.\u0275\u0275listener("click",(function(e){P.\u0275\u0275restoreView(t);const n=P.\u0275\u0275reference(12),r=P.\u0275\u0275reference(3);return P.\u0275\u0275nextContext().cancel(),r.onTabClick(e,n)})),P.\u0275\u0275text(24,"Cancel"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275element(25,"tni-trip-preferences",38),P.\u0275\u0275element(26,"hr",39),P.\u0275\u0275elementStart(27,"tni-mode-select",40),P.\u0275\u0275listener("excludedModes",(function(e){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().onExcludedModesChange(e)})),P.\u0275\u0275elementEnd(),P.\u0275\u0275element(28,"hr",39),P.\u0275\u0275element(29,"tni-trip-connections",38),P.\u0275\u0275element(30,"hr",39),P.\u0275\u0275element(31,"tni-service-options",38),P.\u0275\u0275element(32,"hr",39),P.\u0275\u0275element(33,"tni-walking-speed",38),P.\u0275\u0275elementStart(34,"div",41),P.\u0275\u0275elementStart(35,"button",42),P.\u0275\u0275listener("click",(function(){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().onSearch([],!0,"refine")})),P.\u0275\u0275text(36," Apply "),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementContainerEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd()}if(2&t){const t=P.\u0275\u0275reference(3),e=P.\u0275\u0275reference(7),n=P.\u0275\u0275nextContext();P.\u0275\u0275property("ngClass",P.\u0275\u0275pureFunction1(18,pt,"preferences-tab"===t.activeTabId)),P.\u0275\u0275advance(2),P.\u0275\u0275property("activeTabId",n.activeTabId),P.\u0275\u0275advance(2),P.\u0275\u0275property("ariaExpanded",!1)("title",P.\u0275\u0275pipeBind1(5,16,e.tniDateTimeSelectorText$)),P.\u0275\u0275advance(2),P.\u0275\u0275property("formControl",n.tripPreferenceGroup.controls.optionDateTimeSelection)("tniDateTimeSelectorDayRange",n.featureDayLookaheadState.days)("isDepartures",!1),P.\u0275\u0275advance(9),P.\u0275\u0275property("@slideUpDownAnimation",void 0)("trapFocusDisabled",n.windowRef.isMobileView()||"preferences-tab"!==t.activeTabId)("hidden",n.windowRef.isMobileView()||"preferences-tab"!==t.activeTabId),P.\u0275\u0275advance(10),P.\u0275\u0275property("group",n.tripPreferenceGroup.controls.tripPreferences),P.\u0275\u0275advance(2),P.\u0275\u0275property("preferencesForm",n.tripPreferenceGroup.controls.preferencesForm)("defaultExcludedModes",n.trip.excludedModes),P.\u0275\u0275advance(2),P.\u0275\u0275property("group",n.tripPreferenceGroup.controls.tripConnections),P.\u0275\u0275advance(2),P.\u0275\u0275property("group",n.tripPreferenceGroup.controls.serviceOptions),P.\u0275\u0275advance(2),P.\u0275\u0275property("group",n.tripPreferenceGroup.controls.walkingSpeed)}}function ht(t,e){if(1&t){const t=P.\u0275\u0275getCurrentView();P.\u0275\u0275elementStart(0,"tni-modal",49),P.\u0275\u0275listener("closeEvent",(function(){P.\u0275\u0275restoreView(t);const e=P.\u0275\u0275nextContext(2);return e.isErrorModalOpen=!1,e.modalService.removeModalFromBody()})),P.\u0275\u0275elementStart(1,"tni-modal-title"),P.\u0275\u0275elementStart(2,"h2"),P.\u0275\u0275text(3,"Something went wrong"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(4,"div",50),P.\u0275\u0275text(5),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd()}if(2&t){const t=P.\u0275\u0275nextContext(2),e=P.\u0275\u0275reference(13),n=P.\u0275\u0275reference(16);P.\u0275\u0275property("ariaLabel",t.errorMessage)("openingElement",e.location&&e.location.isCurrent?e:n)("closeAtBottomLayout",!0)("fullscreenMobile",!0),P.\u0275\u0275advance(5),P.\u0275\u0275textInterpolate1(" ",t.errorMessage," ")}}function ft(t,e){if(1&t&&(P.\u0275\u0275elementContainerStart(0),P.\u0275\u0275template(1,ht,6,5,"tni-modal",48),P.\u0275\u0275elementContainerEnd()),2&t){const t=P.\u0275\u0275nextContext();P.\u0275\u0275advance(1),P.\u0275\u0275property("ngIf",t.isErrorModalOpen)}}const mt=function(t){return{hidden:t}};function gt(t,e){if(1&t){const t=P.\u0275\u0275getCurrentView();P.\u0275\u0275elementStart(0,"tni-trip-result-action",51),P.\u0275\u0275listener("clearTripData",(function(){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().clearTrip()}))("tripSpeedChanged",(function(){return P.\u0275\u0275restoreView(t),P.\u0275\u0275nextContext().speedChanged()})),P.\u0275\u0275elementEnd()}if(2&t){const t=P.\u0275\u0275nextContext();P.\u0275\u0275property("trip",t.trip)("tripResults",t.tripResults)("hideEarlierLater",!t.viewPublicTransport)("cycleOrWalk",t.cycleOrWalk)("ngClass",P.\u0275\u0275pureFunction1(6,mt,"preferences-tab"===t.activeTab))("transportFilter",t.transportFilter)}}class yt{constructor(t,e,n,r,i,s,c,p,d,h,f,g,y,_,v,b){this.featureStateService=t,this.locationService=e,this.locationFinderService=n,this.route=r,this.stateStore=i,this.ref=s,this.modalService=c,this.domService=p,this.storeMapLocationService=d,this.windowRef=h,this.tripRequestService=f,this.tripUrlService=g,this.refreshResultsService=y,this.locationSortPipe=_,this.trackTripPlannerEventService=v,this.tripService=b,this.sendTripData=new o.EventEmitter,this.tripError="Enter a location",this.dateTimeSelectorToggle=!0,this.featureDayLookaheadState={days:void 0},this.tripPreferenceGroup=M.TripPreferenceGroup,this.tripTransportFilterFormControl=new a.FormControl("publicTransport"),this.isMetro=!1,this.searchExecuted=!1,this.errorMessage="",this.viewPublicTransport=!0,this.cycleOrWalk=!1,this.preferenceMobile=!1,this.resetClicked=!1,this.tripResponseDurations$=this.stateStore.select(m.selectTripResponseDurations),this.currentLocation$=this.locationService.getCurrentLocation().pipe(u.tap(t=>this._updateLocationsWithCurrentLocationSideEffect(t),t=>this._handleCurrentLocationError(t))),this.ngDestroyed$=new l.Subject}get activeTab(){return this.tabGroupComponent?this.tabGroupComponent.activeTabId:""}get searchAction$(){const t=this.trip.fromLocation&&this.trip.fromLocation.isCurrent||this.trip.toLocation&&this.trip.toLocation.isCurrent,e=l.of(t).pipe(u.filter(t=>!t)),n=l.of(t).pipe(u.filter(t=>t),u.switchMap(()=>this.currentLocation$),u.map(()=>!0));return l.merge(e,n)}ngOnInit(){this.registerLoading(),this._initTripPreferences(),this._setupFeatureValues(),this.watchUrlChange(),this.loadSearchFromUrl(),this.loadSearchFromMap(),this.registerForRefresh(),this.innerWidth=window.innerWidth,this.stateStore.select(f.getTransportFilter).subscribe(t=>{this.tripUrlService.addModeParam(t.filter),this.tripTransportFilterFormControl.setValue(t.filter),this.viewPublicTransport=t.filter===d.JourneyType.PublicTransport,this.cycleOrWalk=t.filter===d.JourneyType.Cycle||t.filter===d.JourneyType.Walk}),this.stateStore.select(E.getCycleSpeed).subscribe(t=>{this.cycleSpeedPreference=t})}registerLoading(){l.combineLatest([this.stateStore.pipe(s.select(h.TripDetailsSelector)).pipe(u.map(t=>{if(t)return t.isLoading}))]).pipe(u.takeUntil(this.ngDestroyed$)).subscribe(([t])=>{this.isLoading$=l.of(t)})}registerForRefresh(){this.refreshResultsService.refresh$.pipe(u.takeUntil(this.ngDestroyed$)).subscribe(t=>{t&&this.loadSearchFromUrl()})}_initTripPreferences(){this.tripPreferenceGroup.setValue(M.TripPreferenceGroupDefaultValue(c())),this.stateStore.select(m.selectTripRequest).pipe(u.withLatestFrom(this.stateStore.select(f.getTransportFilter).pipe(u.map(t=>t.filter))),u.takeUntil(this.ngDestroyed$)).subscribe(([t,e])=>{t&&this.route.snapshot.queryParams&&0===Object.entries(this.route.snapshot.queryParams).length&&(this.tripPreferenceGroup.setValue(M.getFormValues(this.tripUrlService.getQueryParamsFromTripRequest(t,e))),this.trip.excludedModes=t.excludedModes,this.cycleSpeedPreference=this.tripRequestService.getCyclingPreference(t.preferences.cycleSpeed),this.travelMode=e,this.tripUrlService.createTripUrl(t,e))})}_setupFeatureValues(){return r.__awaiter(this,void 0,void 0,(function*(){this.featureDayLookaheadState=yield this.featureStateService.getFeatureValue({drupalKey:"days-lookahead",default:{days:14}}).toPromise()}))}onSearch(t=[],e=!1,n=""){if("leaving"===n?this.trackTripPlannerEventService.trackApplyLeaving():"refine"===n&&this.trackTripPlannerEventService.trackApplyRefine(),e&&(this.tabGroupComponent.activeTabId=null),this.domService.removeComponentFromBody(),this.validateSearchFields(),"function"!=typeof this.trip.isValid||"function"!=typeof this.trip.isFromLocationValid||!this.trip.isFromLocationValid()||!this.trip.isValid())return!1;this.sendTripData.emit(this.trip),this.form&&this.form.onSubmit(null),this.activeTabId="search-tab",this.ref.detectChanges(),this.searchAction$.subscribe(()=>{this._performSearch(e,t)})}showChatBot(){const t=document.querySelector("#virtual-assistant .va-trigger.va-inactive");this.windowRef.isMobileView()&&t&&(t.style.display="flex")}validateSearchFields(){if("function"==typeof this.trip.isValid&&"function"==typeof this.trip.isFromLocationValid){if(!this.trip.isValid()&&!this.trip.isFromLocationValid())return this.trip.toError=this.tripError,this.trip.fromError=this.tripError,void this.focusOnSearchField(0);this.trip.isValid()||(this.trip.toError=this.tripError,this.focusOnSearchField(1)),this.trip.isFromLocationValid()||(this.trip.fromError=this.tripError,this.focusOnSearchField(0))}}watchUrlChange(){this.route.queryParams.subscribe(({searchAppended:t}={})=>{t&&(this.trip=new _.Trip,this.loadSearchFromUrl())})}focusOnSearchField(t){this.searchLocation&&this.searchLocation.toArray()[t].focus()}clearTrip(){this.tripPreferenceGroup.setValue(M.TripPreferenceGroupDefaultValue(c())),this.stateStore.dispatch(new C.ClearSearchAction(this.travelMode)),this.trip=new _.Trip,this.trip.fromLocation=null,this.trip.toLocation=null}clearPreferences(){const t=M.TripPreferenceGroupDefaultValue(c());delete t.optionDateTimeSelection,this.tripPreferenceGroup.patchValue(t),this.resetClicked=!0,this.tripPreferenceGroup.valueChanges.pipe(u.take(1)).subscribe(t=>{this.resetClicked=!1})}cancel(){this.tripPreferenceGroup.get("tripPreferences").patchValue(this.originalTripPreferences.tripPreferences,{emitEvent:!1}),this.tripPreferenceGroup.get("preferencesForm").patchValue(this.originalTripPreferences.preferencesForm,{emitEvent:!1}),this.tripPreferenceGroup.get("tripConnections").patchValue(this.originalTripPreferences.tripConnections,{emitEvent:!1}),this.tripPreferenceGroup.get("serviceOptions").patchValue(this.originalTripPreferences.serviceOptions,{emitEvent:!1}),this.tripPreferenceGroup.get("walkingSpeed").patchValue(this.originalTripPreferences.walkingSpeed,{emitEvent:!1})}_performSearch(t,e,n=!1){return r.__awaiter(this,void 0,void 0,(function*(){this.trackTripPlannerEventService.trackViewTripPlanResults();let r=this.tripRequestService.createTripRequest(this.trip,this.tripPreferenceGroup.getRawValue(),e,this.cycleSpeedPreference);this.activeTabId=void 0,this.tripUrlService.createTripUrl(r,this.travelMode),this.travelMode===d.JourneyType.Drive&&(r=Object.assign(Object.assign({},r),{filters:Object.assign(Object.assign({},r.filters),{includedJourneys:[n?S.JourneyReqType.RideShare:S.JourneyReqType.All]})})),e.find(t=>"ride-share"===t)?this.stateStore.dispatch(new C.TaxiTripSearchAction({tripRequest:r,trip:this.trip,travelMode:d.JourneyType.Drive})):e.find(t=>"all-cycle-profiles"===t)?this.stateStore.dispatch(2===e.length?new C.CycleRoutesSearchAction({tripRequest:r,trip:this.trip,travelMode:d.JourneyType.Cycle}):new C.SearchTripAction({tripRequest:r,trip:this.trip,travelMode:this.travelMode})):this.stateStore.dispatch(t?new C.RefineTripAction({tripRequest:r}):new C.SearchTripAction({tripRequest:r,trip:this.trip,travelMode:this.travelMode?this.travelMode:d.JourneyType.PublicTransport}))}))}loadSearchFromMap(){this.storeMapLocationService.getOriginFromMap$().pipe(u.takeUntil(this.ngDestroyed$)).subscribe(t=>this.loadSearchFromMapOrigin(t)),this.storeMapLocationService.getDestinationFromMap$().pipe(u.takeUntil(this.ngDestroyed$)).subscribe(t=>this.loadSearchFromMapDestination(t))}loadSearchFromMapOrigin(t){let e;if(this.storeMapLocationService.getDestinationFromMap$().pipe(u.takeUntil(this.ngDestroyed$)).subscribe(t=>e=t),t)if(this.trip.fromLocation=t,this.trip.fromText=this.trip.fromLocation.description(),this.trip.toLocation||e){this.trip.clearFromLocationError();const t=this._getJourneyRequestType(this.travelMode);this.onSearch(t)}else this.windowRef.focus("tniToTripLocation")}loadSearchFromMapDestination(t){let e;if(this.storeMapLocationService.getDestinationFromMap$().pipe(u.takeUntil(this.ngDestroyed$)).subscribe(t=>e=t),t)if(this.trip.toLocation=t,this.trip.toText=this.trip.toLocation.description(),this.trip.fromLocation||e){this.trip.clearToLocationError();const t=this._getJourneyRequestType(this.travelMode);this.onSearch(t)}else this.windowRef.focus("tniFromTripLocation")}loadSearchFromUrl(){return r.__awaiter(this,void 0,void 0,(function*(){if(this.route.snapshot.queryParams&&Object.entries(this.route.snapshot.queryParams).length>0){const t=this.tripUrlService.readFromUrl(this.route.snapshot.queryParamMap);this.tripPreferenceGroup.setValue(M.getFormValues(t)),this.travelMode=t.travelMode?t.travelMode:d.JourneyType.PublicTransport,this.stateStore.dispatch(new C.TransportFilterAction({filter:this.travelMode}));const e=x.LocalStorageHelper.getItem(this.tripService.localStorageName);let n=!0;if(e){const t=c().subtract(1,"hours");n=c(e.lastRequest).isBefore(t),n&&x.LocalStorageHelper.removeItem(this.tripService.localStorageName)}if(this.tripService.saveDebugMode("true"===t.debug||!n),t.from&&(this.trip.fromLocation="current"===t.from?y.Location.createCurrentLocation():yield this.getMatchingLocation(t.from)),t.to&&(this.trip.toLocation="current"===t.to?y.Location.createCurrentLocation():yield this.getMatchingLocation(t.to)),t.from&&t.to&&this.trip.fromLocation&&this.trip.toLocation){this.trip.fromText="$UNKNOWN_POINT$"===this.trip.fromLocation.fullName?"Location from map":this.trip.fromLocation.fullName,this.trip.toText="$UNKNOWN_POINT$"===this.trip.toLocation.fullName?"Location from map":this.trip.toLocation.fullName,t.excludedModes&&(this.trip.excludedModes=t.excludedModes.split(",").map(t=>Number(t)));const e=[...S.JourneyReqTypeAll];t.travelMode===d.JourneyType.Cycle&&e.push(S.JourneyReqType.AllCycleProfiles),this.onSearch(e)}}else this.stateStore.dispatch(new C.TransportFilterAction({filter:d.JourneyType.PublicTransport}))}))}getMatchingLocation(t){return r.__awaiter(this,void 0,void 0,(function*(){const e=yield this.locationFinderService.search(t,new T.StopFinderRequest).pipe(u.toArray(),u.map(t=>this.locationSortPipe.transform(t))).toPromise();if(e&&e.length)return e[0]}))}swapFromTo(){this.trackTripPlannerEventService.trackSwitchDirections(),this.stateStore.dispatch(new w.MapTripAction({trip:null})),this.trip.swap(),this.trip.clearError();const t=this._getJourneyRequestType(this.travelMode);this.onSearch(t)}updateErrorMessage(){this.trip.toError&&this.trip.isValid()&&this.trip.clearError(),this.trip.fromError&&this.trip.isFromLocationValid()&&this.trip.clearFromLocationError(),this.trip.fromLocation&&this.trip.toLocation||this.stateStore.dispatch(new C.ClearSearchAction(this.travelMode))}fromLocationChange(){if(this.trip.fromLocation&&this.trip.toLocation){this.trip.fromText=this.trip.fromLocation.description(),this.trip.toText=this.trip.toLocation.description(),this.trip.clearFromLocationError();const t=this._getJourneyRequestType(this.travelMode);this.onSearch(t)}!this.trip.toLocation&&this.trip.fromLocation&&setTimeout(()=>{this.searchLocation.toArray()[1].focus()},0),this.updateErrorMessage()}_getJourneyRequestType(t){return t===d.JourneyType.Cycle?S.JourneyReqTypeAllExpandedCycle:S.JourneyReqTypeAll}toLocationChange(){if(this.trip.toLocation){this.trip.fromText=this.trip.fromLocation?this.trip.fromLocation.description():"",this.trip.toText=this.trip.toLocation.description(),this.trip.clearToLocationError();const t=this._getJourneyRequestType(this.travelMode);this.trip.fromLocation?this.onSearch(t):this.focusOnSearchField(0)}this.updateErrorMessage()}onExcludedModesChange(t){this.trip.excludedModes=t}_updateLocationsWithCurrentLocationSideEffect(t){this.trip.fromLocation&&this.trip.fromLocation.isCurrent&&(this.trip.fromLocation.id=t.id,this.trip.fromLocation.coord=t.coord,this.stateStore.dispatch(new C.CurrentLocationAction({coords:t.coord?[t.coord[0],t.coord[1]]:null}))),this.trip.toLocation&&this.trip.toLocation.isCurrent&&(this.trip.toLocation.id=t.id,this.trip.toLocation.coord=t.coord,this.stateStore.dispatch(new C.CurrentLocationAction({coords:t.coord?[t.coord[0],t.coord[1]]:null})))}_handleCurrentLocationError(t){this.stateStore.dispatch(new C.CurrentLocationAction({coords:null})),this.modalService.addModalToBody(this.portals.toArray()[1]),this.isErrorModalOpen=!0,this.errorMessage=t.message}onResize(){this.innerWidth=window.innerWidth,!this.preferenceMobile&&this.windowRef.isMobileView()&&(this.tabGroupComponent.activeTabId=null,this.domService.removeComponentFromBody(),this.preferenceMobile=!1),this.preferenceMobile&&!this.windowRef.isMobileView()&&(this.tabGroupComponent.activeTabId=null,this.domService.removeComponentFromBody(),this.preferenceMobile=!1)}togglePref(t){"preferences-tab"===t&&this._rememberOriginalDeparturePreferences({tripPreferences:this.tripPreferenceGroup.get("tripPreferences").value,publicTransportOptions:this.tripPreferenceGroup.get("preferencesForm").value,connectionsWithPublicTransport:this.tripPreferenceGroup.get("tripConnections").value,serviceOptions:this.tripPreferenceGroup.get("serviceOptions").value,walkingSpeed:this.tripPreferenceGroup.get("walkingSpeed").value}),"preferences-tab"===t&&this.trackTripPlannerEventService.trackOptionsModal(),this.windowRef.isMobileView()&&(this.preferenceMobile=!0,"preferences-tab"===t?this.domService.addComponentToBody(this.portals.toArray()[0]):(this.domService.removeComponentFromBody(),setTimeout(()=>document.getElementById("preferences-tab").focus(),0)))}_rememberOriginalDeparturePreferences({tripPreferences:t,publicTransportOptions:e,connectionsWithPublicTransport:n,serviceOptions:r,walkingSpeed:i}){this.originalTripPreferences={tripPreferences:Object.assign({},t),preferencesForm:Object.assign({},e),tripConnections:Object.assign({},n),serviceOptions:Object.assign({},r),walkingSpeed:Object.assign({},i)}}mapLinkClick(t){this.trackTripPlannerEventService.trackPlanFromMap("tniFromTripLocation"===t?A.EventAction.PlanFromMapFrom:A.EventAction.PlanFromMapTo,O.EventCategory.TripPlanner,"Stop"),this.trackTripPlannerEventService.trackViewResultsOnMapForMobile();const e=this.tripResults?this.tripResults.journeys[0]:null;this.stateStore.dispatch(new w.MapTripAction({trip:e})),this.stateStore.dispatch(new w.MapTripLegAction({mapLeg:e?{leg:e.legs[0],index:0}:null})),this.stateStore.dispatch(new C.SwitchAppViewAction({mobileMapView:!0}))}ngOnDestroy(){this.ngDestroyed$.next(),this.trip.fromLocation&&this.stateStore.dispatch(new C.SearchFromHereAction({from:this.trip.fromLocation})),this.trip.toLocation&&this.stateStore.dispatch(new C.SearchToHereAction({to:this.trip.toLocation}))}onInputBlur(t){"tniToTripLocation"!==t||this.trip.isValid()?"tniFromTripLocation"!==t||this.trip.isFromLocationValid()||(this.trip.fromError=this.tripError):this.trip.toError=this.tripError}onPublicTransportFilter(){this.trackTripPlannerEventService.trackPublicTransportFilterTab(),this.travelMode=d.JourneyType.PublicTransport,this.stateStore.dispatch(new C.TransportFilterAction({filter:d.JourneyType.PublicTransport}))}onTaxiDriveFilter(){this.trackTripPlannerEventService.trackTaxiDriveFilterTab(),this.travelMode=d.JourneyType.Drive,this.stateStore.dispatch(new C.TransportFilterAction({filter:d.JourneyType.Drive})),0===this.tripResults.taxiDrive.filter(t=>t.type===d.JourneyType.Drive&&t.isBookingRequired).length&&this._performSearch(!1,[S.JourneyReqType.RideShare],!0)}onCycleFilter(){this.trackTripPlannerEventService.trackCycleFilterTab(),this.travelMode=d.JourneyType.Cycle,this.stateStore.dispatch(new C.TransportFilterAction({filter:d.JourneyType.Cycle})),3!==this.tripResults.cycle.length&&this._performSearch(!1,[S.JourneyReqType.Cycle,S.JourneyReqType.AllCycleProfiles])}onWalkFilter(){this.travelMode=d.JourneyType.Walk,this.trackTripPlannerEventService.trackWalkFilterTab(),this.stateStore.dispatch(new C.TransportFilterAction({filter:d.JourneyType.Walk}))}speedChanged(){this.tripResults.isLoading=!0,this.travelMode=d.JourneyType.Cycle,this.stateStore.dispatch(new C.TransportFilterAction({filter:d.JourneyType.Cycle})),this._performSearch(!1,[S.JourneyReqType.Cycle,S.JourneyReqType.AllCycleProfiles])}}e.TripSearchFormComponent=yt,yt.\u0275fac=function(t){return new(t||yt)(P.\u0275\u0275directiveInject(L.FeatureStateService),P.\u0275\u0275directiveInject(k.LocationService),P.\u0275\u0275directiveInject(I.LocationFinderService),P.\u0275\u0275directiveInject(D.ActivatedRoute),P.\u0275\u0275directiveInject(N.Store),P.\u0275\u0275directiveInject(P.ChangeDetectorRef),P.\u0275\u0275directiveInject(R.ModalService),P.\u0275\u0275directiveInject(z.DomService),P.\u0275\u0275directiveInject(F.StoreMapLocationService),P.\u0275\u0275directiveInject(j.WindowRef),P.\u0275\u0275directiveInject(B.TripRequestService),P.\u0275\u0275directiveInject(q.TripUrlService),P.\u0275\u0275directiveInject(V.RefreshResultsService),P.\u0275\u0275directiveInject(Y.LocationSortPipe),P.\u0275\u0275directiveInject(H.TrackTripPlannerEventService),P.\u0275\u0275directiveInject(W.TripService))},yt.\u0275cmp=P.\u0275\u0275defineComponent({type:yt,selectors:[["tni-trip-search-form"]],viewQuery:function(t,e){var n;1&t&&(P.\u0275\u0275staticViewQuery(a.NgForm,!0),P.\u0275\u0275viewQuery(g.TniTabGroupComponent,!0),P.\u0275\u0275viewQuery(i.CdkPortal,!0),P.\u0275\u0275viewQuery(v.LocationSearchComponent,!0)),2&t&&(P.\u0275\u0275queryRefresh(n=P.\u0275\u0275loadQuery())&&(e.form=n.first),P.\u0275\u0275queryRefresh(n=P.\u0275\u0275loadQuery())&&(e.tabGroupComponent=n.first),P.\u0275\u0275queryRefresh(n=P.\u0275\u0275loadQuery())&&(e.portals=n),P.\u0275\u0275queryRefresh(n=P.\u0275\u0275loadQuery())&&(e.searchLocation=n))},hostBindings:function(t,e){1&t&&P.\u0275\u0275listener("resize",(function(){return e.onResize()}),!1,P.\u0275\u0275resolveWindow)},inputs:{tripResults:"tripResults",transportFilter:"transportFilter",trip:"trip"},outputs:{sendTripData:"sendTripData"},decls:25,vars:20,consts:[["role","alert","aria-live","assertive",1,"sr-only"],[1,"trip-planner-container","clearfix"],["novalidate","",1,"form"],[1,"trip-planner-search-form-main"],[1,"trip-planner-search-form-main__to-from"],[1,"trip-planner-path"],["iconClasses","tp-icon","iconName","from","iconAriaHidden","true"],[1,"trip-planner-path-line"],["iconClasses","tp-icon","iconName","to","iconAriaHidden","true"],["label","From",1,"from-location",3,"id","location","excludeLocation","textValue","errorMessage","highlightText","inputTextChange","locationChange","inputBlur","formSubmit","mapLinkClick"],["locationSearchTo",""],["label","To",1,"to-location",3,"id","location","excludeLocation","errorMessage","textValue","highlightText","inputTextChange","locationChange","inputBlur","formSubmit","mapLinkClick"],["toLocationSearch","","locationSearchFrom",""],["type","button",1,"tp-search-switch",3,"click"],[3,"iconName","iconTitle","iconClasses","iconAriaHidden"],["id","service-provider-tabs-wrap"],[1,"service-provider-tabs"],[4,"ngIf"],["class","trip-planner-search-form-footer",3,"ngClass",4,"ngIf"],[4,"cdkPortal"],[3,"trip","tripResults","hideEarlierLater","cycleOrWalk","ngClass","transportFilter","clearTripData","tripSpeedChanged",4,"ngIf"],[3,"durations","formControl","filteredPublicTransport","filteredTaxiDrive","filteredCycle","filteredWalk"],[1,"trip-planner-search-form-footer",3,"ngClass"],[1,"trip-planner-options-panel"],[3,"activeTabId","tabChange"],["tabGroup",""],["titlePrefix","change date and time. current selection is ","tabId","time-tab",3,"ariaExpanded","title"],["name","optionDateTimeSelection",3,"formControl","tniDateTimeSelectorDayRange","isDepartures"],["dateTimeSelector",""],[1,"go-btn-wrap","trip-planner-buttons-panel"],["type","button",1,"btn","btn-primary","go-btn","date-time-btn",3,"click"],["tabIcon","preferences","tabId","preferences-tab","title","Refine"],["preferencesTab",""],["class","portal-container",4,"cdkPortal"],["trapFocus","",1,"preferences-desktop",3,"trapFocusDisabled","hidden","escapeTrapFocus"],["role","alert","tabindex","0",1,"sr-only"],[1,"preferences-header"],["role","button","type","button","tabindex","0",1,"btn","btn-tertiary",3,"click"],[3,"group"],[1,"trip-planner_divider"],[3,"preferencesForm","defaultExcludedModes","excludedModes"],[1,"go-btn-wrap","trip-planner-buttons-panel","trip-preferences-buttons-panel"],["type","button",1,"btn","btn-primary","go-btn","refine-btn-desktop",3,"click"],[1,"portal-container"],["trapFocus","",1,"tfnsw-site-design","preferences-fullscreen",3,"escapeTrapFocus"],["tabindex","0","role","alert",1,"sr-only"],["type","button",1,"btn","btn-tertiary",3,"click"],["rowType","grid",3,"preferencesForm","defaultExcludedModes","excludedModes"],[3,"ariaLabel","openingElement","closeAtBottomLayout","fullscreenMobile","closeEvent",4,"ngIf"],[3,"ariaLabel","openingElement","closeAtBottomLayout","fullscreenMobile","closeEvent"],[1,"modal-text"],[3,"trip","tripResults","hideEarlierLater","cycleOrWalk","ngClass","transportFilter","clearTripData","tripSpeedChanged"]],template:function(t,e){1&t&&(P.\u0275\u0275elementStart(0,"span",0),P.\u0275\u0275text(1,"Options have been Reset"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(2,"div",1),P.\u0275\u0275elementStart(3,"form",2),P.\u0275\u0275elementStart(4,"div",3),P.\u0275\u0275elementStart(5,"div",4),P.\u0275\u0275elementStart(6,"div",5),P.\u0275\u0275elementStart(7,"p"),P.\u0275\u0275element(8,"tni-icon",6),P.\u0275\u0275elementEnd(),P.\u0275\u0275element(9,"span",7),P.\u0275\u0275elementStart(10,"p"),P.\u0275\u0275element(11,"tni-icon",8),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(12,"tni-location-search",9,10),P.\u0275\u0275listener("inputTextChange",(function(t){return e.trip.fromText=t}))("locationChange",(function(t){return e.trip.fromLocation=t}))("inputBlur",(function(t){return e.onInputBlur(t)}))("locationChange",(function(){return e.fromLocationChange()}))("formSubmit",(function(){return e.onSearch()}))("mapLinkClick",(function(t){return e.mapLinkClick(t)})),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(14,"tni-location-search",11,12),P.\u0275\u0275listener("inputTextChange",(function(t){return e.trip.toText=t}))("locationChange",(function(t){return e.trip.toLocation=t}))("inputBlur",(function(t){return e.onInputBlur(t)}))("locationChange",(function(){return e.toLocationChange()}))("formSubmit",(function(){return e.onSearch()}))("mapLinkClick",(function(t){return e.mapLinkClick(t)})),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(17,"button",13),P.\u0275\u0275listener("click",(function(){return e.swapFromTo()})),P.\u0275\u0275element(18,"tni-icon",14),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(19,"div",15),P.\u0275\u0275elementStart(20,"div",16),P.\u0275\u0275template(21,lt,3,5,"ng-container",17),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275template(22,dt,37,20,"div",18),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementEnd(),P.\u0275\u0275template(23,ft,2,1,"ng-container",19),P.\u0275\u0275template(24,gt,1,8,"tni-trip-result-action",20)),2&t&&(P.\u0275\u0275attribute("aria-hidden",!e.resetClicked),P.\u0275\u0275advance(12),P.\u0275\u0275property("id","tniFromTripLocation")("location",e.trip.fromLocation)("excludeLocation",e.trip.toLocation)("textValue",e.trip.fromText)("errorMessage",e.trip.fromError)("highlightText",!1),P.\u0275\u0275advance(2),P.\u0275\u0275property("id","tniToTripLocation")("location",e.trip.toLocation)("excludeLocation",e.trip.fromLocation)("errorMessage",e.trip.toError)("textValue",e.trip.toText)("highlightText",!1),P.\u0275\u0275advance(4),P.\u0275\u0275property("iconName","switch")("iconTitle","Swap from and to locations")("iconClasses","tp-icon sm")("iconAriaHidden",!1),P.\u0275\u0275advance(3),P.\u0275\u0275property("ngIf",e.tripResults.journeys.length>0||e.tripResults.taxiDrive.length>0||e.tripResults.cycle.length>0||e.tripResults.walk.length>0),P.\u0275\u0275advance(1),P.\u0275\u0275property("ngIf",e.viewPublicTransport),P.\u0275\u0275advance(2),P.\u0275\u0275property("ngIf",e.trip.fromLocation&&e.trip.toLocation&&!e.tripResults.isLoading&&!e.tripResults.isLoadingEarlier&&!e.tripResults.hasError))},directives:[U.\u0275angular_packages_forms_forms_y,U.NgControlStatusGroup,U.NgForm,X.IconComponent,G.LocationSearchComponent,J.NgIf,$.CdkPortal,K.TripTransportFilterComponent,U.NgControlStatus,U.FormControlDirective,J.NgClass,Z.TniTabGroupComponent,Q.TniTabComponent,tt.DateTimeSelectorComponent,et.TrapFocusDirective,nt.TripPreferencesComponent,rt.ModeSelectComponent,it.TripConnectionsComponent,ot.ServiceOptionsComponent,at.WalkingSpeedComponent,st.ModalComponent,st.ModalTitleDirective,ct.TripResultActionComponent],pipes:[J.AsyncPipe],styles:[".trip-planner-container[_ngcontent-%COMP%]{min-height:165px;font-size:14px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner-container[_ngcontent-%COMP%]{min-height:155px}}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]{position:absolute;top:33px;left:-25px;display:flex;flex-direction:column;align-items:center}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-path-line[_ngcontent-%COMP%]{box-sizing:border-box;height:50px;width:1px;background:#ddd}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#757575}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{color:#1d69b4}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]     .tp-icon{width:16px;min-width:16px;height:16px}.trip-planner-container[_ngcontent-%COMP%]   .tp-search-switch[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);position:absolute;top:calc(50% - 20px);right:-20px;border-radius:40px;width:40px;height:40px;background:#fff;fill:#333;color:#333;transition:background .05s ease-in-out;border:none}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner-container[_ngcontent-%COMP%]   .tp-search-switch[_ngcontent-%COMP%]{margin-right:10px}}.trip-planner-container[_ngcontent-%COMP%]   .go-btn-wrap[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);flex-shrink:0;padding:0;margin-bottom:24px}.trip-planner-container[_ngcontent-%COMP%]   .go-btn-wrap[_ngcontent-%COMP%]   .more-options-link[_ngcontent-%COMP%]{font-weight:lighter;font-size:14px;margin-right:2px;text-decoration:underline}.trip-planner-container[_ngcontent-%COMP%]   .go-btn-wrap[_ngcontent-%COMP%]   .go-btn[_ngcontent-%COMP%]{width:100%}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-footer[_ngcontent-%COMP%], .trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-main[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);background-color:#fff;position:relative}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-footer__to-from[_ngcontent-%COMP%], .trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-main__to-from[_ngcontent-%COMP%]{position:relative}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-main[_ngcontent-%COMP%]{padding:12px 32px}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:baseline;padding:0;width:100%;position:relative;transition:top .5s ease;transition:position .5s ease}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-footer--overlay[_ngcontent-%COMP%]{position:absolute!important;top:0}.trip-planner-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:#f2f2f2}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-footer[_ngcontent-%COMP%]   .trip-planner-date-time-selector-toggle[_ngcontent-%COMP%]{width:calc(100% - 145px)}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-footer[_ngcontent-%COMP%]   .trip-planner-date-time-selector-toggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex}.trip-planner-container[_ngcontent-%COMP%]   .trip-planner-search-form-footer[_ngcontent-%COMP%]   .trip-planner-date-time-selector-toggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .time-options-trunc[_ngcontent-%COMP%]{padding-left:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.trip-planner-container[_ngcontent-%COMP%]   .trip-preferences-buttons-panel[_ngcontent-%COMP%]{background-color:#fff;bottom:0;box-shadow:0 -1px 5px 0 rgba(0,0,0,.2);margin:0;padding:16px;position:-webkit-sticky;position:sticky;z-index:10}.trip-planner_divider[_ngcontent-%COMP%]{margin:28px 16px 20px;border-top-width:1px;border-top-color:#ddd}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner_divider[_ngcontent-%COMP%]{margin:28px 10px 20px}}  .trip-preference h4{color:#171717}  .trip-preference h5{font-weight:400;font-size:14px;color:#373636}  .trip-preference .info-modal{position:absolute;right:5px;top:10px;cursor:pointer}  .trip-preference .icon-wrap{float:right;line-height:35px;cursor:pointer}.trip-planner-options-panel[_ngcontent-%COMP%]{width:100%;z-index:2}.preferences-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);background:#fff;height:46px;position:-webkit-sticky;position:sticky;top:0;z-index:99999999}.preferences-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{padding:8px;font-size:14px;font-weight:500;letter-spacing:.4px;line-height:18px}.btn-tertiary[_ngcontent-%COMP%]{font-size:14px!important}"],data:{animation:[p.slideUpDownAnimation,b.slideOpenThenFadeIn]}})},BRcV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureResultComponent=void 0;const r=n("8Y7J"),i=n("cRl/"),o=n("qCKp"),a=n("9rJ0"),s=n("iFc6"),c=n("wd/R"),l=n("1z/I"),u=n("xeYu"),p=n("sYyf"),d=n("9EFC"),h=n("kU1M"),f=n("8Y7J"),m=n("bVZy"),g=n("tqRt"),y=n("lTCs"),_=n("+ZNT"),v=n("VS5s"),b=n("SVse"),M=n("/5D9"),x=n("k+hU"),w=n("rk3W"),C=n("gvNm"),S=n("EDem"),E=n("Bi9A"),T=n("0mv7"),O=n("2wl8"),A=n("rYH4"),P=n("SNB+"),L=n("q66I"),k=n("0njA"),I=n("FYjP"),D=["shortPlatformElement"],N=["capacityIndicatorElement"];function R(t,e){if(1&t&&(f.\u0275\u0275elementStart(0,"div",26),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&t){const t=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",t.realtimeStatusTitle," ")}}function z(t,e){if(1&t&&f.\u0275\u0275element(0,"tni-departure-time",27),2&t){const t=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("departureTime",t.journey.isRealtimeControlled?t.journey.departureTimeEstimated:t.journey.departureTimePlanned)}}function F(t,e){if(1&t&&(f.\u0275\u0275elementStart(0,"div",28),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&t){const t=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("title",t.realtimeStatusTitle),f.\u0275\u0275attribute("aria-label",t.realtimeStatusTitle),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",t.realtimeStatusLabel," ")}}function j(t,e){if(1&t&&f.\u0275\u0275element(0,"tni-departure-stop-name",29),2&t){const t=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("stopName",t.getStopName(t.journey))("travelIn",t.travelIn)("accessibleTravelIn",t.accessibleTravelIn)}}function B(t,e){1&t&&(f.\u0275\u0275elementStart(0,"div",40),f.\u0275\u0275text(1," Does not stop "),f.\u0275\u0275elementEnd())}function q(t,e){if(1&t&&(f.\u0275\u0275elementStart(0,"div",41),f.\u0275\u0275element(1,"tni-realtime-pill",42),f.\u0275\u0275elementEnd()),2&t){const t=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(1),f.\u0275\u0275property("departingTime",t.journey.departureTime)("departingTimePlanned",t.journey.departureTimePlanned)("arrivalStatus",t.journey.arrivalStatus)}}function V(t,e){if(1&t){const t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"button",45,46),f.\u0275\u0275listener("click",(function(e){return f.\u0275\u0275restoreView(t),f.\u0275\u0275nextContext(5).displayOccupancyIndicatorMoreInfoModal(!0,e)}))("keydown.enter",(function(e){return f.\u0275\u0275restoreView(t),f.\u0275\u0275nextContext(5).displayOccupancyIndicatorMoreInfoModal(!0,e)})),f.\u0275\u0275element(2,"tni-occupancy-indicator",47),f.\u0275\u0275elementEnd()}if(2&t){const t=f.\u0275\u0275nextContext(5);f.\u0275\u0275advance(2),f.\u0275\u0275property("transportation",t.journey.location)}}function Y(t,e){if(1&t&&(f.\u0275\u0275elementStart(0,"div",43),f.\u0275\u0275template(1,V,3,1,"button",44),f.\u0275\u0275elementEnd()),2&t){const t=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null==t.journey.location?null:t.journey.location.occupancy)}}function H(t,e){if(1&t){const t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",48),f.\u0275\u0275elementStart(1,"button",49,50),f.\u0275\u0275listener("click",(function(){return f.\u0275\u0275restoreView(t),f.\u0275\u0275nextContext(4).displayShortPlatformModal(!0)}))("keydown.enter",(function(){return f.\u0275\u0275restoreView(t),f.\u0275\u0275nextContext(4).displayShortPlatformModal(!0)}))("focus",(function(){return f.\u0275\u0275restoreView(t),f.\u0275\u0275nextContext(4).displayShortPlatformModal(!1)})),f.\u0275\u0275elementStart(3,"span",51),f.\u0275\u0275text(4,"Travel in "),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(5,"tni-short-platform",52),f.\u0275\u0275elementStart(6,"a",53),f.\u0275\u0275element(7,"tni-icon",54),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&t){const t=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(1),f.\u0275\u0275propertyInterpolate1("title","travel in ",t.travelIn,""),f.\u0275\u0275advance(4),f.\u0275\u0275property("travelIn",t.travelIn)("accessibleTravelIn",t.accessibleTravelIn)}}function W(t,e){if(1&t&&f.\u0275\u0275element(0,"span",60),2&t){const t=f.\u0275\u0275nextContext(5);f.\u0275\u0275property("innerHTML",null==t.journey.bookingInfo?null:t.journey.bookingInfo.urlText,f.\u0275\u0275sanitizeHtml)}}function U(t,e){if(1&t&&(f.\u0275\u0275elementStart(0,"div",55),f.\u0275\u0275elementStart(1,"span",56),f.\u0275\u0275element(2,"tni-icon",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"span",58),f.\u0275\u0275text(4,"Booking required."),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(5,W,1,1,"span",59),f.\u0275\u0275elementEnd()),2&t){const t=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",null==t.journey.bookingInfo?null:t.journey.bookingInfo.urlText)}}function X(t,e){1&t&&f.\u0275\u0275element(0,"tni-alert",63),2&t&&f.\u0275\u0275property("alert",e.$implicit)}function G(t,e){if(1&t&&(f.\u0275\u0275elementStart(0,"div",61),f.\u0275\u0275template(1,X,1,1,"tni-alert",62),f.\u0275\u0275elementEnd()),2&t){const t=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.alerts)}}const J=function(t,e){return{first:t,last:e}};function $(t,e){if(1&t&&(f.\u0275\u0275elementStart(0,"li",32),f.\u0275\u0275element(1,"tni-stop-info",33),f.\u0275\u0275template(2,B,2,0,"div",34),f.\u0275\u0275template(3,q,2,3,"div",35),f.\u0275\u0275template(4,Y,2,1,"div",36),f.\u0275\u0275template(5,H,8,3,"div",37),f.\u0275\u0275template(6,U,6,1,"div",38),f.\u0275\u0275template(7,G,2,1,"div",39),f.\u0275\u0275elementEnd()),2&t){const t=e.$implicit,n=e.first,r=e.last,i=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction2(20,J,n,r))("name",t.disassembledName+", "+t.suburb)("time",t.formattedStopTime)("icon",t.iconId)("isAccessible",n?i.journey.location.isAccessible:t.isAccessible)("color",r?null==i.journey.transportation||null==i.journey.transportation.colour?null:i.journey.transportation.colour.foreground:"white")("borderColor",null==i.journey.transportation||null==i.journey.transportation.colour?null:i.journey.transportation.colour.foreground)("stopId",n?t.id:null)("isRealTime",i.journey.isRealtimeControlled)("isHighFrequency",i.journey.isHighFrequency)("isFirst",n)("realTimeDepartureStatus",i.journey.isRealtimeControlled&&i.journey.departureStatus?i.journey.departureStatus:null)("showIsAccessible",i.showIsAccessible(i.journey))("showDoesNotStop",(null==t.properties||null==t.properties.realtimeStatus?null:t.properties.realtimeStatus.includes("NO_CALL_AT_STOP"))||n&&(null==t.properties||null==t.properties.realtimeStatus?null:t.properties.realtimeStatus.includes("DEPARTURE_CANCELLED"))||r&&(null==t.properties||null==t.properties.realtimeStatus?null:t.properties.realtimeStatus.includes("ARRIVAL_CANCELLED"))),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",(null==t.properties||null==t.properties.realtimeStatus?null:t.properties.realtimeStatus.includes("NO_CALL_AT_STOP"))||n&&(null==t.properties||null==t.properties.realtimeStatus?null:t.properties.realtimeStatus.includes("DEPARTURE_CANCELLED"))||r&&(null==t.properties||null==t.properties.realtimeStatus?null:t.properties.realtimeStatus.includes("ARRIVAL_CANCELLED"))),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",n&&!!i.journey.isRealtimeControlled&&!i.journey.isHighFrequency),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",n&&(null==i.journey||null==i.journey.location?null:i.journey.location.occupancy)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",n&&i.showIsShortPlatform),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",n&&i.journey.isBookingRequired),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",n&&i.hasAlerts)}}function K(t,e){if(1&t&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275elementStart(1,"ul",30),f.\u0275\u0275template(2,$,8,23,"li",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&t){const t=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",t.departures)}}function Z(t,e){1&t&&(f.\u0275\u0275elementStart(0,"div",64),f.\u0275\u0275text(1," Service details unavailable "),f.\u0275\u0275elementEnd())}const Q=function(t){return{"border-left":t}},tt=function(t){return{cancelled:t}},et=function(t){return{"background-color":t}};function nt(t,e){if(1&t){const t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",2),f.\u0275\u0275elementStart(1,"tni-departure-collapsible-card",3),f.\u0275\u0275listener("toggle",(function(e){return f.\u0275\u0275restoreView(t),f.\u0275\u0275nextContext().onToggleCard(e)})),f.\u0275\u0275elementStart(2,"div",4),f.\u0275\u0275template(3,R,2,1,"div",5),f.\u0275\u0275elementStart(4,"div",6),f.\u0275\u0275elementStart(5,"div",7),f.\u0275\u0275element(6,"tni-departure-mode",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",9),f.\u0275\u0275elementStart(8,"div",10),f.\u0275\u0275template(9,z,1,1,"tni-departure-time",11),f.\u0275\u0275template(10,F,2,3,"div",12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",13),f.\u0275\u0275elementStart(12,"div",7),f.\u0275\u0275element(13,"tni-departure-journey-duration",14),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",15),f.\u0275\u0275elementStart(15,"div",16),f.\u0275\u0275template(16,j,1,3,"tni-departure-stop-name",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(17,"div",18),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(18,"tni-departure-result-indicators",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",20),f.\u0275\u0275element(20,"div",21),f.\u0275\u0275elementStart(21,"div",22),f.\u0275\u0275element(22,"div",23),f.\u0275\u0275template(23,K,3,1,"div",24),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(24,Z,2,0,"div",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&t){const t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("expanded",t.expanded),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.showRealtimeStatus),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngStyle",f.\u0275\u0275pureFunction1(18,Q,"4px "+(null==t.journey||null==t.journey.transportation||null==t.journey.transportation.colour?null:t.journey.transportation.colour.foreground)+" solid")),f.\u0275\u0275advance(2),f.\u0275\u0275property("journey",t.journey),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngIf",!t.showRealtimeStatus),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.showRealtimeStatus),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(20,tt,t.showRealtimeStatus)),f.\u0275\u0275advance(2),f.\u0275\u0275property("journey",t.journey)("showAlertIcon",t.showAlertIcon)("showDurationAndEndTime",!t.isResultWithNoArrivalStop),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngIf",t.getStopName(t.journey)),f.\u0275\u0275advance(2),f.\u0275\u0275property("isAccessible",t.isAccessible)("isBookingRequired",t.journey.isBookingRequired)("isPlatformName",t.isPlatformName),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass","pt-leg-line--"+(null==t.journey.transportation?null:t.journey.transportation.mode))("ngStyle",f.\u0275\u0275pureFunction1(22,et,null==t.journey.transportation||null==t.journey.transportation.colour?null:t.journey.transportation.colour.foreground)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!t.hasDepartureDetailError),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.hasDepartureDetailError)}}class rt{constructor(t,e,n,i,a,s){this.cd=t,this.selectedDepartureStoreService=e,this.stateStore=n,this.modalService=i,this.shortPlatformService=a,this.trackTripPlannerEventService=s,this.isResultWithNoArrivalStop=!1,this.toggle=new r.EventEmitter,this.expanded=!1,this.transportModes=[],this.durations=[],this.distances=[],this.subscriptions=new o.Subscription,this.showRealtimeStatus=!1,this.showShortPlatformModal=!1,this.hasDepartureDetailError=!1,this.ngDestroyed$=new o.Subject,this.createDepartures=(t,e)=>{var n;return[{isAccessible:t.isAccessible,id:t.location.id,disassembledName:t.location.parent.disassembledName,suburb:t.location.suburb,iconId:t.transportation.iconId,arrivalTimeEstimated:t.arrivalTimeEstimated,arrivalTimePlanned:t.arrivalTimePlanned,departureTimeEstimated:t.departureTimeEstimated,departureTimePlanned:t.departureTimePlanned,properties:Object.assign(Object.assign({},t.properties),{realtimeStatus:(null==t?void 0:t.realtimeStatus)||(null===(n=null==t?void 0:t.properties)||void 0===n?void 0:n.realtimeStatus)})},...e.length>0?e:t.onwardLocations].map((t,e,n)=>Object.assign(Object.assign({},t),{properties:t.properties||{},formattedStopTime:this._getTime(t,e===n.length-1)}))},this.sortAlerts=(t,e)=>t.isVeryLowPriority===e.isVeryLowPriority?c(t.lastUpdated).isBefore(c(e.lastUpdated))?1:-1:t.isVeryLowPriority?1:-1}ngOnInit(){this.subscriptions.add(this.stateStore.select(u.selectDeparturesFeature).subscribe(t=>{var e,n;this.destination=(null===(n=null===(e=null==t?void 0:t.departuresForm)||void 0===e?void 0:e.toLocation)||void 0===n?void 0:n.shortName)||"your destination"}))}ngOnChanges(t){var e,n,r,i,o;(null===(e=t.result)||void 0===e?void 0:e.currentValue)&&(this.subscriptions.add(this.stateStore.select(u.getRefreshDepartureSelector(null===(n=t.result)||void 0===n?void 0:n.currentValue.id,(null===(r=t.result)||void 0===r?void 0:r.currentValue.avmsTripId)||"")).pipe(h.filter(t=>t&&this.journey&&this._isRefreshResultEligibleForUpdate(this.journey,t))).subscribe(t=>{this.journey=t,this.departures=this.createDepartures(t,this.getToDestinationOnly(t,this.destStopFilter)),this._updateOtherJourneyDetails(this.journey),this.cd.detectChanges()})),this.journey=t.result.currentValue,this.destStopFilter=null===(i=t.destStopFilter)||void 0===i?void 0:i.currentValue,this.departures=this.createDepartures(this.journey,this.getToDestinationOnly(t.result.currentValue,null===(o=t.destStopFilter)||void 0===o?void 0:o.currentValue)),this._updateOtherJourneyDetails(this.journey),this.subscription=this.selectedDepartureStoreService.expandedDeparture$.subscribe(t=>{t&&t.id&&(this.expanded=`${this.journey.id}-${this.journey.avmsTripId||""}`==`${t.id}-${t.avmsTripId||""}`)}),this.cd.detectChanges())}_isRefreshResultEligibleForUpdate(t,e){var n,r,i,o;return t.arrivalTimeEstimated!==e.arrivalTimeEstimated||t.arrivalTimePlanned!==e.arrivalTimePlanned||t.departureTimeEstimated!==e.departureTimeEstimated||t.departureTimePlanned!==e.departureTimePlanned||(null===(n=t.location)||void 0===n?void 0:n.isHistoricalOccupancy)!==(null===(r=e.location)||void 0===r?void 0:r.isHistoricalOccupancy)||(null===(i=t.location)||void 0===i?void 0:i.occupancy)!==(null===(o=e.location)||void 0===o?void 0:o.occupancy)||t.arrivalStatus!==e.arrivalStatus}_updateOtherJourneyDetails(t){var e,n,r,i;this.showIsShortPlatform=null!==(e=null==t?void 0:t.properties)&&void 0!==e?e:null,this.travelIn=this.shortPlatformService.getTravelInAdvice(this.showIsShortPlatform,!1),this.accessibleTravelIn=this.shortPlatformService.getTravelInAdvice(this.showIsShortPlatform,!0),this.alerts=null===(n=this.filteredAlerts(t))||void 0===n?void 0:n.sort(this.sortAlerts),this.showAlertIcon=null===(r=this.alerts)||void 0===r?void 0:r.some(t=>!0===t.isHighPriority),this.detectCancelled(t,this.departures),this.isPlatformName=!!(null===(i=null==t?void 0:t.location)||void 0===i?void 0:i.platform)}getToDestinationOnly(t,e){var n;return null===(n=t.onwardLocations)||void 0===n?void 0:n.splice(0,e?t.onwardLocations.findIndex(t=>t.parentId===e)+1:t.onwardLocations.lastIndexOf(t.onwardLocations.slice().reverse().find(e=>e.suburb===t.suburb))+1)}detectCancelled(t,e){var n,r;if(t.isCancelled&&(null===(n=t.realtimeStatus)||void 0===n?void 0:n.includes("TRIP_CANCELLED")))return this.showRealtimeStatus=!0,this.realtimeStatusLabel="Cancelled",void(this.realtimeStatusTitle="This service has been cancelled.");(null===(r=e[0].properties.realtimeStatus)||void 0===r?void 0:r.includes("DEPARTURE_CANCELLED"))?(this.showRealtimeStatus=!0,this.realtimeStatusLabel="Does not stop here",this.realtimeStatusTitle="This service does not stop here."):this.showRealtimeStatus=!1}onToggleCard(t){this.expanded=t,this.stateStore.select(u.selectDeparturesDetailError).pipe(h.takeUntil(this.ngDestroyed$)).subscribe(t=>{this.hasDepartureDetailError=t}),this.toggle.emit(t)}get isAccessible(){var t;return null===(t=this.journey)||void 0===t?void 0:t.isAccessible}get hasAlerts(){const t=this.filteredAlerts(this.journey);return t&&Array.isArray(t)&&t.length>0}switchToMapView(t){t.stopPropagation()}getStopName(t){var e,n,r,i;return s.TniConstant.ICONIDS_FOR_COACHES.includes(null===(e=null==t?void 0:t.transportation)||void 0===e?void 0:e.iconId)?null===(r=null===(n=null==t?void 0:t.location)||void 0===n?void 0:n.parent)||void 0===r?void 0:r.disassembledName:null===(i=null==t?void 0:t.location)||void 0===i?void 0:i.platform}_getTime(t,e){return i.TimeZoneHelper.getFormattedDate(e?t.arrivalTimeEstimated?t.arrivalTimeEstimated:t.arrivalTimePlanned:t.departureTimeEstimated?t.departureTimeEstimated:t.departureTimePlanned,"HH:mm")}showIsAccessible(t){return t.transportation.networkId in a.AccessibleTransportMode}displayShortPlatformModal(t){this.showShortPlatformModal=t,t?this.trackTripPlannerEventService.trackShortPlatformModalClick():this.shortPlatformEl.nativeElement.focus()}filteredAlerts(t){var e;return null===(e=null==t?void 0:t.alerts)||void 0===e?void 0:e.filter(t=>{var e,n,r;return!(null===(e=null==t?void 0:t.subtitle)||void 0===e?void 0:e.toLowerCase().includes("book your seat"))&&!(null===(n=null==t?void 0:t.urlText)||void 0===n?void 0:n.toLowerCase().includes("book your seat"))&&!(null===(r=null==t?void 0:t.content)||void 0===r?void 0:r.toLowerCase().includes("book your seat"))})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}displayOccupancyIndicatorMoreInfoModal(t,e){this.trackTripPlannerEventService.trackCapacityIndicatorModalClick(),e.preventDefault();const n=this.capacityIndicatorEl.nativeElement;t?this.modalService.addModalToBody(new l.ComponentPortal(d.OccupancyIndicatorMoreInfoModalComponent),n):this.modalService.removeModalFromBody()}}e.DepartureResultComponent=rt,rt.\u0275fac=function(t){return new(t||rt)(f.\u0275\u0275directiveInject(f.ChangeDetectorRef),f.\u0275\u0275directiveInject(m.SelectedDepartureStoreService),f.\u0275\u0275directiveInject(g.Store),f.\u0275\u0275directiveInject(y.ModalService),f.\u0275\u0275directiveInject(_.ShortPlatformService),f.\u0275\u0275directiveInject(v.TrackTripPlannerEventService))},rt.\u0275cmp=f.\u0275\u0275defineComponent({type:rt,selectors:[["tni-departure-result"]],viewQuery:function(t,e){var n;1&t&&(f.\u0275\u0275viewQuery(l.CdkPortal,!0),f.\u0275\u0275viewQuery(D,!0),f.\u0275\u0275viewQuery(N,!0)),2&t&&(f.\u0275\u0275queryRefresh(n=f.\u0275\u0275loadQuery())&&(e.portal=n.first),f.\u0275\u0275queryRefresh(n=f.\u0275\u0275loadQuery())&&(e.shortPlatformEl=n.first),f.\u0275\u0275queryRefresh(n=f.\u0275\u0275loadQuery())&&(e.capacityIndicatorEl=n.first))},inputs:{result:"result",destStopFilter:"destStopFilter",cardType:"cardType",index:"index",isResultWithNoArrivalStop:"isResultWithNoArrivalStop"},outputs:{toggle:"toggle"},features:[f.\u0275\u0275NgOnChangesFeature],decls:2,vars:5,consts:[["class","card-wrapper",4,"ngIf"],[3,"visible","travelIn","destination","accessibleTravelIn","closeModal"],[1,"card-wrapper"],[1,"trip-card",3,"expanded","toggle"],["card-header",""],["role","alert","aria-live","assertive","class","sr-only","aria-atomic","true",4,"ngIf"],[1,"summary-header",3,"ngStyle"],[1,"row"],[3,"journey"],[1,"row","summary-time-container"],[1,"summary-time"],[3,"departureTime",4,"ngIf"],["class","row cancelled-departure",3,"title",4,"ngIf"],[1,"summary-body",3,"ngClass"],[3,"journey","showAlertIcon","showDurationAndEndTime"],[1,"row","departure-indicators"],[1,"col-md-7","col-xs-10"],[3,"stopName","travelIn","accessibleTravelIn",4,"ngIf"],[1,"col-md-5","col-xs-2"],[3,"isAccessible","isBookingRequired","isPlatformName"],["card-body",""],[1,"component-divider-light"],[1,"tp-result-item-steps"],["aria-hidden","true",1,"pt-leg-line",3,"ngClass","ngStyle"],["class","row",4,"ngIf"],["class","no-service-details","tabindex","0",4,"ngIf"],["role","alert","aria-live","assertive","aria-atomic","true",1,"sr-only"],[3,"departureTime"],[1,"row","cancelled-departure",3,"title"],[3,"stopName","travelIn","accessibleTravelIn"],[1,"list-unstyled"],["class","trip-step",4,"ngFor","ngForOf"],[1,"trip-step"],[3,"ngClass","name","time","icon","isAccessible","color","borderColor","stopId","isRealTime","isHighFrequency","isFirst","realTimeDepartureStatus","showIsAccessible","showDoesNotStop"],["class","stop-info__does-not-stop","title","This service does not stop here.","aria-hidden","true",4,"ngIf"],["class","realtime-pill",4,"ngIf"],["class","capacity-indicator",4,"ngIf"],["class","short-platform",4,"ngIf"],["class","booking-message",4,"ngIf"],["class","alert-indicator",4,"ngIf"],["title","This service does not stop here.","aria-hidden","true",1,"stop-info__does-not-stop"],[1,"realtime-pill"],[3,"departingTime","departingTimePlanned","arrivalStatus"],[1,"capacity-indicator"],["tabindex","0",3,"click","keydown.enter",4,"ngIf"],["tabindex","0",3,"click","keydown.enter"],["capacityIndicatorElement",""],[1,"pt-leg-from__realtime__occupancy",3,"transportation"],[1,"short-platform"],["tabindex","0",1,"icon-wrap",3,"title","click","keydown.enter","focus"],["shortPlatformElement",""],["aria-hidden","true",1,"travel-in"],[3,"travelIn","accessibleTravelIn"],["aria-label","More information",1,"icon-more-info"],["iconClasses","tp-icon sm","iconName","more-info","iconTitle","More information","iconAriaHidden","true"],[1,"booking-message"],[1,"booking-icon"],["iconClasses","booking tp-icon sm","iconName","booking"],["aria-label","booking required",1,"booking-required"],["class","booking-text",3,"innerHTML",4,"ngIf"],[1,"booking-text",3,"innerHTML"],[1,"alert-indicator"],[3,"alert",4,"ngFor","ngForOf"],[3,"alert"],["tabindex","0",1,"no-service-details"]],template:function(t,e){1&t&&(f.\u0275\u0275template(0,nt,25,24,"div",0),f.\u0275\u0275elementStart(1,"tni-short-platform-modal",1),f.\u0275\u0275listener("closeModal",(function(){return e.displayShortPlatformModal(!1)})),f.\u0275\u0275elementEnd()),2&t&&(f.\u0275\u0275property("ngIf",e.journey),f.\u0275\u0275advance(1),f.\u0275\u0275property("visible",e.showShortPlatformModal)("travelIn",e.travelIn)("destination",e.destination)("accessibleTravelIn",e.accessibleTravelIn))},directives:[b.NgIf,M.ShortPlatformModalComponent,x.DepartureCollapsibleCardComponent,b.NgStyle,w.DepatureModeComponent,b.NgClass,C.DepartureJourneyDurationComponent,S.DepartureResultIndicatorsComponent,E.DepartureTimeComponent,T.DepartureStopNameComponent,b.NgForOf,O.StopInfoComponent,A.RealTimePillComponent,P.OccupancyIndicatorComponent,L.ShortPlatformComponent,k.IconComponent,I.AlertComponent],styles:[".trip-card[_ngcontent-%COMP%]{margin-bottom:15px}.align-with-header[_ngcontent-%COMP%]{margin-left:-145px}.tp-result-item-steps[_ngcontent-%COMP%]{position:relative;padding:16px;cursor:default}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.tp-result-item-steps[_ngcontent-%COMP%]{padding:8px 16px 0}}.cancelled-departure[_ngcontent-%COMP%]{margin-left:-7px!important;width:64px;color:#171717;font-size:11px;letter-spacing:.09px;line-height:14px;text-align:center;box-sizing:border-box;border:1px solid #e7c943;border-radius:3px;background-color:#eed849;margin-top:23px;font-weight:500;position:absolute;bottom:0}.cancelled-departure-origin[_ngcontent-%COMP%]{height:32px}.cancelled-departure-dest[_ngcontent-%COMP%]{height:54px}.stop-info__does-not-stop[_ngcontent-%COMP%]{width:92px;color:#171717;font-size:12px;letter-spacing:.1px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #e7c943;border-radius:3px;background-color:#eed849;margin-left:65px;font-weight:500;margin-bottom:16px}@media (min-width:450px){.stop-info__does-not-stop[_ngcontent-%COMP%]{display:none}}.card-wrapper[_ngcontent-%COMP%]{margin-bottom:8px}.summary-header[_ngcontent-%COMP%]{overflow:auto;border-top-left-radius:3px;padding:16px 7px 8px;margin-right:5px;min-height:112px}.summary-time[_ngcontent-%COMP%]{float:left}.summary-time-container[_ngcontent-%COMP%]{position:relative;min-height:51px}.summary-body[_ngcontent-%COMP%]{float:left;padding-left:23px;width:345px}.summary-body.cancelled[_ngcontent-%COMP%]{margin-left:60px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.summary-body[_ngcontent-%COMP%]{padding-left:10px;width:210px}}@media (min-width:768px){.summary-body[_ngcontent-%COMP%]{padding-left:16px;width:284px}}.modes[_ngcontent-%COMP%]{padding-bottom:10px}.summary-footer[_ngcontent-%COMP%]{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;padding-top:15px}.summary-footer[_ngcontent-%COMP%]   .journey-fare[_ngcontent-%COMP%]{position:relative}.summary-footer[_ngcontent-%COMP%]   .journey-links[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.summary-footer[_ngcontent-%COMP%]   .journey-booking-required[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;color:#373636;font-size:12px}.summary-footer[_ngcontent-%COMP%]   .journey-booking-required[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-right:5px}  .tp-icon.alert-message{position:absolute;right:5px;top:27px;height:100px;width:100px}.map-link[_ngcontent-%COMP%]{display:none;cursor:pointer;text-decoration:underline;margin-right:16px;font-size:12px;color:#1d69b4}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.map-link[_ngcontent-%COMP%]{display:block}}@media print{.col-trip-time[_ngcontent-%COMP%], .map-link[_ngcontent-%COMP%]{display:none}}  .booking-icon{padding-right:5px;margin-top:10px}.departure-indicators[_ngcontent-%COMP%]{margin-top:2px;display:flex;flex-basis:85%;position:relative}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departure-indicators[_ngcontent-%COMP%]{margin-top:10px;flex-basis:65%}}@media (min-width:768px){.departure-indicators[_ngcontent-%COMP%]{flex-basis:65%}}@media (min-width:992px){.departure-indicators[_ngcontent-%COMP%]{flex-basis:75%}}@media (min-width:1478px){.departure-indicators[_ngcontent-%COMP%]{flex-basis:80%}}@media (min-width:1200px){.departure-indicators[_ngcontent-%COMP%]{flex-basis:80%}}.footer[_ngcontent-%COMP%]{line-height:23px}.pt-leg-line[_ngcontent-%COMP%]{position:absolute;top:25px;left:70px;bottom:25px;width:2px;background:#000}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.pt-leg-line[_ngcontent-%COMP%]{left:64px}}@media print{.pt-leg-line[_ngcontent-%COMP%]{border-left:2px solid #000}}.component-divider-light[_ngcontent-%COMP%]{height:1px;width:100%;opacity:.7;background-color:#eaeaea}.realtime-pill[_ngcontent-%COMP%]:not(empty){padding-left:80px;padding-bottom:16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.realtime-pill[_ngcontent-%COMP%]:not(empty){padding-left:65px}}.realtime-pill[_ngcontent-%COMP%]:empty{padding-bottom:0}.alert-indicator[_ngcontent-%COMP%]{padding:0 0 12px 80px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.alert-indicator[_ngcontent-%COMP%]{padding:0 0 12px 65px}}.departure-stop[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.departure-stop-name[_ngcontent-%COMP%]{flex-basis:auto;justify-content:space-between}.capacity-indicator[_ngcontent-%COMP%], .short-platform[_ngcontent-%COMP%]{color:#31393e;padding-left:76px;padding-bottom:16px;font-size:12px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.capacity-indicator[_ngcontent-%COMP%], .short-platform[_ngcontent-%COMP%]{padding-left:65px}}.capacity-indicator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .short-platform[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#31393e;background-color:#fff;border:none}.short-platform[_ngcontent-%COMP%]{color:#31393e;padding-left:80px;padding-bottom:16px}.short-platform[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .short-platform[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;cursor:pointer}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.short-platform[_ngcontent-%COMP%]{padding-left:65px}}.short-platform[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-left:0}.short-platform-message[_ngcontent-%COMP%]{color:#fff;background-color:#31393e;font-size:12px;font-weight:400;line-height:30px;border-radius:3px;max-width:40px;padding:3px 5px;text-decoration:none;cursor:pointer}.icon-more-info[_ngcontent-%COMP%]{margin-left:12px;vertical-align:baseline;text-decoration:none;cursor:pointer}.short-platform-badge[_ngcontent-%COMP%]{color:#fff;background-color:#31393e;font-size:18px;font-weight:400;line-height:30px;border-radius:3px;max-width:40px;padding:3px 5px;top:40px}  .modal-header{border-bottom:1px solid #eaeaea!important;padding-bottom:20px!important;padding-top:20px!important;font-size:18px!important;font-weight:400!important;padding-left:55px!important}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .modal-header{padding-left:48px!important}}  .modal-footer{border-top:1px solid #eaeaea!important}  .modal-footer .btn-close-modal{height:48px!important;line-height:14px!important;font-size:16px!important;min-width:152px!important}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .modal-footer .btn-close-modal{width:100%!important}}  .modal-box-body{font-size:16px}  .modal-box-body__text{padding:60px 24px 0!important}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .modal-box-body__text{padding:28px 17px!important}}  .modal-box-body__text .modal-text{padding-bottom:100px!important;padding-top:60px!important;padding-left:32px;padding-right:32px;font-size:16px!important}.travel-in[_ngcontent-%COMP%]{font-family:transtext-tp,sans-serif;font-size:13px;color:#31393e;text-decoration:none;cursor:pointer;margin-right:4px}.booking-text[_ngcontent-%COMP%]{margin-left:29px;display:block}.booking-text[_ngcontent-%COMP%]     a{white-space:normal!important}@media (max-width:320px){.booking-text[_ngcontent-%COMP%]     [href^=http]{white-space:pre-wrap}}.booking-message[_ngcontent-%COMP%]{font-family:transtext-tp,sans-serif;font-size:12px;padding:12px;margin-left:79px;margin-top:12px;background:#f2f2f2;border:1px solid #ccc;font-weight:400}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.booking-message[_ngcontent-%COMP%]{margin-left:65px}}.booking-required[_ngcontent-%COMP%]{margin-left:4px;font-family:transtext-tp,sans-serif;font-size:12px;font-weight:400}.booking-icon[_ngcontent-%COMP%], .booking-required[_ngcontent-%COMP%]{vertical-align:middle}tni-departure-result-indicators[_ngcontent-%COMP%]{display:block;position:absolute;right:12px;bottom:0}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){tni-departure-result-indicators[_ngcontent-%COMP%]{padding-right:16px}}.no-service-details[_ngcontent-%COMP%]{font-family:transtext-tp,sans-serif;font-size:12px;font-weight:400;margin-left:32px;vertical-align:middle;height:54px;line-height:14.71px}"],data:{animation:[p.fadeOutAnimation]}})},BVg3:function(t,e,n){!function(t){"use strict";function e(t){return t%100==11||t%10!=1}function n(t,n,r,i){var o=t+" ";switch(r){case"s":return n||i?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return e(t)?o+(n||i?"sek\xfandur":"sek\xfandum"):o+"sek\xfanda";case"m":return n?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return e(t)?o+(n||i?"m\xedn\xfatur":"m\xedn\xfatum"):n?o+"m\xedn\xfata":o+"m\xedn\xfatu";case"hh":return e(t)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return e(t)?n?o+"dagar":o+(i?"daga":"d\xf6gum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"m\xe1nu\xf0ur":i?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return e(t)?n?o+"m\xe1nu\xf0ir":o+(i?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):n?o+"m\xe1nu\xf0ur":o+(i?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return n||i?"\xe1r":"\xe1ri";case"yy":return e(t)?o+(n||i?"\xe1r":"\xe1rum"):o+(n||i?"\xe1r":"\xe1ri")}}t.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},Bi9A:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureTimeComponent=void 0;const r=n("qCKp"),i=n("wd/R"),o=n("8Y7J"),a=n("SVse");function s(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"span",6),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2("Leaving in ",t.relativeTime.value," ",t.relativeTime.unit,"")}}function c(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"span",6),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2("Left ",t.relativeTime.value," ",t.relativeTime.unit," ago")}}function l(t,e){1&t&&(o.\u0275\u0275elementStart(0,"span",6),o.\u0275\u0275text(1,"Leaving Now"),o.\u0275\u0275elementEnd())}function u(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",7),o.\u0275\u0275elementStart(1,"div",8),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("className",t.isStopInTwoLines?"now-twolines":"now-oneline"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.relativeTime.value)}}function p(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("className",t.left?"left-unit":"leaving-unit"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2(" ",t.relativeTime.unit," ",t.suffix," ")}}function d(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",2),o.\u0275\u0275template(1,s,2,2,"span",3),o.\u0275\u0275template(2,c,2,2,"span",3),o.\u0275\u0275template(3,l,2,0,"span",3),o.\u0275\u0275template(4,u,3,2,"div",4),o.\u0275\u0275template(5,p,2,3,"div",5),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(),e=o.\u0275\u0275reference(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","Leaving"===t.prefix),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","Left"===t.prefix),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","Leave"===t.prefix),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","Now"===t.relativeTime.value)("ngIfElse",e),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.relativeTime.unit||t.suffix)}}function h(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",7),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275classMap(t.leavingLeftClassName),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.relativeTime.value)}}class f{constructor(){this.subscription=new r.Subscription}ngOnInit(){this.updateTimes();const t=r.interval(6e4);this.subscription=t.subscribe(()=>this.updateTimes())}ngOnDestroy(){this.subscription.unsubscribe()}updateTimes(){const t=i(this.departureTime);this.isBefore(t)?(this.prefix="Left",t.isSame(i(),"day")?(this.relativeTime=i(t).toNow(!0),this.suffix="ago"):(this.relativeTime=t.format("ddd"),this.suffix=t.format("D MMM")),this.dateDiff=-1):this.isAfter(t)?(this.prefix="Leaving",t.isSameOrAfter(this.twoDaysInTheFuture())?(this.relativeTime=t.format("ddd"),this.suffix=t.format("D MMM")):(this.relativeTime=i(t).toNow(!0),this.suffix=""),this.dateDiff=1):(this.prefix="Leave",this.relativeTime=t.isSameOrAfter(this.twoDaysInTheFuture())?t.format("ddd"):i(t).toNow(!0),this.suffix="",this.dateDiff=0),this.relativeTime=this.splitRelativeTime(this.relativeTime)}get left(){return new Date(this.departureTime)<new Date&&"now"!==i(new Date(this.departureTime)).fromNow().split(" ")[0].toLowerCase()}splitRelativeTime(t){const e=t.split(" ");return 1===e.length?{value:e[0]}:{value:e[0],unit:e[1]}}isBefore(t){return t.isSameOrBefore(i().subtract(60,"s"))}isAfter(t){return t.isSameOrAfter(i().add(60,"s"))}twoDaysInTheFuture(){return i().startOf("day").add(2,"d")}get leavingLeftClassName(){let t="";return this.left&&(t=this.isStopInTwoLines?"left-time-twolines":"left-time-oneline"),this.left||(t=this.isStopInTwoLines?"leaving-time-twolines":"leaving-time-oneline"),t}}e.DepartureTimeComponent=f,f.\u0275fac=function(t){return new(t||f)},f.\u0275cmp=o.\u0275\u0275defineComponent({type:f,selectors:[["tni-departure-time"]],inputs:{departureTime:"departureTime",isStopInTwoLines:"isStopInTwoLines"},decls:3,vars:1,consts:[["class","departure-time",4,"ngIf"],["notNow",""],[1,"departure-time"],["class","sr-only",4,"ngIf"],["aria-hidden","true",4,"ngIf","ngIfElse"],["aria-hidden","true",3,"className",4,"ngIf"],[1,"sr-only"],["aria-hidden","true"],[3,"className"],["aria-hidden","true",3,"className"]],template:function(t,e){1&t&&(o.\u0275\u0275template(0,d,6,6,"div",0),o.\u0275\u0275template(1,h,2,4,"ng-template",null,1,o.\u0275\u0275templateRefExtractor)),2&t&&o.\u0275\u0275property("ngIf",e.relativeTime)},directives:[a.NgIf],styles:[".leaving[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{font-size:12px;display:block;font-weight:350}.left[_ngcontent-%COMP%]{color:#af1919}.leaving[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{color:#373636}.time[_ngcontent-%COMP%]{font-weight:500;font-size:18px}.time.left[_ngcontent-%COMP%]{color:#af1919}.departure-time[_ngcontent-%COMP%]{width:60px;text-align:center;margin-top:3px;min-height:51px}.departure-time[_ngcontent-%COMP%]   .leaving[_ngcontent-%COMP%]{color:#171717}.departure-time[_ngcontent-%COMP%]   .leaving[_ngcontent-%COMP%], .departure-time[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{font-size:14px;margin-bottom:-7px;font-weight:400}.departure-time[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{color:#af1919}.departure-time[_ngcontent-%COMP%]   .left-time-twolines[_ngcontent-%COMP%]{font-size:24px;color:#af1919;font-weight:500;margin-top:18px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departure-time[_ngcontent-%COMP%]   .left-time-twolines[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:3px}}.departure-time[_ngcontent-%COMP%]   .left-time-oneline[_ngcontent-%COMP%]{font-size:24px;color:#af1919;font-weight:500;margin-top:5px;margin-bottom:2px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departure-time[_ngcontent-%COMP%]   .left-time-oneline[_ngcontent-%COMP%]{margin-top:13px;margin-bottom:9px}}.departure-time[_ngcontent-%COMP%]   .leaving-time-twolines[_ngcontent-%COMP%]{font-size:24px;color:#171717;font-weight:500;margin-top:20px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departure-time[_ngcontent-%COMP%]   .leaving-time-twolines[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:3px}}.departure-time[_ngcontent-%COMP%]   .leaving-time-oneline[_ngcontent-%COMP%]{font-size:24px;color:#171717;font-weight:500;margin-top:5px;margin-bottom:3px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departure-time[_ngcontent-%COMP%]   .leaving-time-oneline[_ngcontent-%COMP%]{margin-top:14px;margin-bottom:3px}}.departure-time[_ngcontent-%COMP%]   .left-unit[_ngcontent-%COMP%]{color:#af1919;font-size:14px;font-weight:400}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departure-time[_ngcontent-%COMP%]   .left-unit[_ngcontent-%COMP%]{margin-top:10px}}.departure-time[_ngcontent-%COMP%]   .leaving-unit[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#171717}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departure-time[_ngcontent-%COMP%]   .leaving-unit[_ngcontent-%COMP%]{margin-top:9px}}.departure-time[_ngcontent-%COMP%]   .now-twolines[_ngcontent-%COMP%]{font-size:18px;color:#171717;font-weight:500;vertical-align:middle;margin-top:23px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departure-time[_ngcontent-%COMP%]   .now-twolines[_ngcontent-%COMP%]{margin-top:30px}}.departure-time[_ngcontent-%COMP%]   .now-oneline[_ngcontent-%COMP%]{font-size:18px;color:#171717;font-weight:500;vertical-align:middle;margin-top:5px;min-height:51px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departure-time[_ngcontent-%COMP%]   .now-oneline[_ngcontent-%COMP%]{margin-top:13px}}"]})},ByF4:function(t,e,n){!function(t){"use strict";t.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},C0Jg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FareType=void 0,e.FareType=function(t){return t[t.adult=0]="adult",t[t.youth=1]="youth",t[t.pensioner=2]="pensioner",t[t.concession=3]="concession",t[t.operator=4]="operator",t}(e.FareType||{})},C96X:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.slideOpenThenFadeIn=void 0;const r=n("GS7A");e.slideOpenThenFadeIn=r.trigger("slideOpenThenFadeIn",[r.transition(":enter",[r.animate("1s ease-in-out",r.keyframes([r.style({height:0,opacity:0,offset:0}),r.style({height:"*",opacity:0,offset:.25}),r.style({height:"*",opacity:0,offset:.75}),r.style({height:"*",opacity:1,offset:1})]))]),r.transition(":leave",[r.animate("0.3s ease-in-out",r.style({height:0,opacity:0}))])])},CT06:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeZoneHelper=void 0;const r=n("f0Wu");e.TimeZoneHelper=class{static getFormattedDate(t,e){return r(t).startOf("minute").format(e)}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("SeVD"),o=n("7HRe");function a(t,e){return e?Object(o.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},CjzT:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},CoRJ:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:6,doy:12}})}(n("wd/R"))},CrTo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FooterMessages=void 0,e.FooterMessages={addFav:{text:"Added to favourites",duration:3e3},removeFav:{text:"Removed from favourites",duration:3e3}}},CtHx:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return a}));var r=n("7+OI"),i=n("LRne"),o=n("XNiG");function a(t){return t&&"function"==typeof t.connect}n("8Y7J");class s extends class{}{constructor(t){super(),this._data=t}connect(){return Object(r.a)(this._data)?this._data:Object(i.a)(this._data)}disconnect(){}}class c{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new o.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}},"D/JM":function(t,e,n){!function(t){"use strict";t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},"DKr+":function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["thodde secondanim","thodde second"],ss:[t+" secondanim",t+" second"],m:["eka mintan","ek minute"],mm:[t+" mintanim",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voranim",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disanim",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineanim",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsanim",t+" vorsam"]};return e?i[n][0]:i[n][1]}t.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokalli"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokalli":t<16?"donparam":t<20?"sanje":"rati"}})}(n("wd/R"))},Dkky:function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n("wd/R"))},Dmvi:function(t,e,n){!function(t){"use strict";t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},DoHr:function(t,e,n){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};t.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'\u0131nc\u0131";var r=t%10;return t+(e[r]||e[t%100-r]||e[t>=100?100:null])}},week:{dow:1,doy:7}})}(n("wd/R"))},DoVa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoHelper=e.NSW_POLY_BOUNDARIES=void 0;const r=n("VhxH");e.NSW_POLY_BOUNDARIES=[[-28.98858574199994,140.794747421],[-28.872676251999962,140.85344318400007],[-28.81899862499995,140.9976418750001],[-28.819105553999975,148.86458937500004],[-28.405299740999965,149.4329403590001],[-28.42636466199997,149.91121607700006],[-28.357236193999938,150.2832409240001],[-28.474376158999974,150.52003695200005],[-28.454242233999935,150.77165911600002],[-28.523334785999964,150.98964100600006],[-28.811452775999953,151.41920778300005],[-28.700095921999946,151.6448465750001],[-28.701011525999945,151.80606082600002],[-28.547018004999984,151.74924741900008],[-28.403803610999944,151.79872587600005],[-28.09691984099993,152.37624714900005],[-28.154139250999947,153.00411036100002],[-27.977446826999937,153.46437513400008],[-28.089056249999942,153.73873304300002],[-28.48647983999996,153.75660642600008],[-28.636367740999958,153.84291740800006],[-28.901493793999975,153.80250370800002],[-29.306246801999976,153.5707852920001],[-30.203850934999934,153.40732061000006],[-30.54796411799998,153.23776165100003],[-31.10359073099994,153.26776523500007],[-31.915708035999955,152.94917411400002],[-32.090201398999966,152.7596143820001],[-32.50294391199998,152.7403749880001],[-32.658071838999945,152.4862531230001],[-32.88608176499997,152.3420157920001],[-33.06539316299995,151.93337750800004],[-33.662462328999936,151.55479847100003],[-34.08482649399997,151.44146394000006],[-34.36775466299997,151.1487678860001],[-34.88327410599993,151.00560622000012],[-34.99471422599993,151.06793857500008],[-35.132012964999944,151.036412648],[-35.36610649399995,150.71185051700002],[-35.96967878899994,150.38404698800002],[-36.29562561199998,150.36929689500005],[-36.90808750799994,150.16483234100008],[-37.29190198599997,150.27356605500006],[-37.60055955399997,150.16822188900005],[-37.684850402999984,149.983221199],[-36.937117342999954,147.96218586700002],[-36.823721854999974,147.8785068100001],[-36.64852471399996,147.93431857400003],[-36.15034265299994,147.74633303300004],[-36.295735580999974,146.9280452590001],[-36.17596161899996,146.53249686800007],[-36.22044399899994,146.1546432030001],[-36.16131270799997,145.73611424700005],[-36.02223443899993,145.47353019800005],[-36.02542039599996,145.2040355480001],[-36.23116657399993,145.0868741060001],[-36.286354132999975,144.65047790900007],[-36.209479493999936,144.46778947200005],[-35.734540392999975,143.94120776600005],[-35.547102493999944,143.51161085],[-35.314913124999975,143.23367263500006],[-34.881837590999965,143.06468384400011],[-34.856616548999966,142.84739340600004],[-34.956993918999956,142.6925183610001],[-34.942444544999944,142.47809893200008],[-34.84170369699996,142.32210954000004],[-34.346433797999964,142.02182305100007],[-34.30283174899995,141.77275956200003],[-34.39332169099998,141.47161656000003],[-34.178581849999944,140.85911084000008],[-34.04000064699994,140.78548646600007]],e.GeoHelper=class{static isInNSWOrACT(t){return r.insidePolygon(t,e.NSW_POLY_BOUNDARIES)}}},Dvum:function(t,e,n){var r,i,o;!function(a,s){"use strict";t.exports?t.exports=s(n("wd/R")):(i=[n("wd/R")],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o))}(0,(function(t){"use strict";var e,n={},r={},i={},o={};t&&"string"==typeof t.version||E("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var a=t.version.split("."),s=+a[0],c=+a[1];function l(t){return t>96?t-87:t>64?t-29:t-48}function u(t){var e=0,n=t.split("."),r=n[0],i=n[1]||"",o=1,a=0,s=1;for(45===t.charCodeAt(0)&&(e=1,s=-1);e<r.length;e++)a=60*a+l(r.charCodeAt(e));for(e=0;e<i.length;e++)o/=60,a+=l(i.charCodeAt(e))*o;return a*s}function p(t){for(var e=0;e<t.length;e++)t[e]=u(t[e])}function d(t,e){var n,r=[];for(n=0;n<e.length;n++)r[n]=t[e[n]];return r}function h(t){var e=t.split("|"),n=e[2].split(" "),r=e[3].split(""),i=e[4].split(" ");return p(n),p(r),p(i),function(t,e){for(var n=0;n<e;n++)t[n]=Math.round((t[n-1]||0)+6e4*t[n]);t[e-1]=1/0}(i,r.length),{name:e[0],abbrs:d(e[1].split(" "),r),offsets:d(n,r),untils:i,population:0|e[5]}}function f(t){t&&this._set(h(t))}function m(t){var e=t.toTimeString(),n=e.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=e.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+t,this.abbr=n,this.offset=t.getTimezoneOffset()}function g(t){this.zone=t,this.offsetScore=0,this.abbrScore=0}function y(t,e){for(var n,r;r=6e4*((e.at-t.at)/12e4|0);)(n=new m(new Date(t.at+r))).offset===t.offset?t=n:e=n;return t}function _(t,e){return t.offsetScore!==e.offsetScore?t.offsetScore-e.offsetScore:t.abbrScore!==e.abbrScore?t.abbrScore-e.abbrScore:t.zone.population!==e.zone.population?e.zone.population-t.zone.population:e.zone.name.localeCompare(t.zone.name)}function v(t,e){var n,r;for(p(e),n=0;n<e.length;n++)o[r=e[n]]=o[r]||{},o[r][t]=!0}function b(t){var e,n,r,a=t.length,s={},c=[];for(e=0;e<a;e++)for(n in r=o[t[e].offset]||{})r.hasOwnProperty(n)&&(s[n]=!0);for(e in s)s.hasOwnProperty(e)&&c.push(i[e]);return c}function M(t){return(t||"").toLowerCase().replace(/\//g,"_")}function x(t){var e,r,o,a;for("string"==typeof t&&(t=[t]),e=0;e<t.length;e++)a=M(r=(o=t[e].split("|"))[0]),n[a]=t[e],i[a]=r,v(a,o[2].split(" "))}function w(t,e){t=M(t);var o,a=n[t];return a instanceof f?a:"string"==typeof a?(a=new f(a),n[t]=a,a):r[t]&&e!==w&&(o=w(r[t],w))?((a=n[t]=new f)._set(o),a.name=i[t],a):null}function C(t){var e,n,o,a;for("string"==typeof t&&(t=[t]),e=0;e<t.length;e++)o=M((n=t[e].split("|"))[0]),a=M(n[1]),r[o]=a,i[o]=n[0],r[a]=o,i[a]=n[1]}function S(t){return!(!t._a||void 0!==t._tzm||"X"===t._f||"x"===t._f)}function E(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}function T(e){var n=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],i=w(r),o=t.utc.apply(null,n);return i&&!t.isMoment(e)&&S(o)&&o.add(i.parse(o),"minutes"),o.tz(r),o}(s<2||2===s&&c<6)&&E("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+t.version+". See momentjs.com"),f.prototype={_set:function(t){this.name=t.name,this.abbrs=t.abbrs,this.untils=t.untils,this.offsets=t.offsets,this.population=t.population},_index:function(t){var e,n=+t,r=this.untils;for(e=0;e<r.length;e++)if(n<r[e])return e},parse:function(t){var e,n,r,i,o=+t,a=this.offsets,s=this.untils,c=s.length-1;for(i=0;i<c;i++)if(r=a[i?i-1:i],(e=a[i])<(n=a[i+1])&&T.moveAmbiguousForward?e=n:e>r&&T.moveInvalidForward&&(e=r),o<s[i]-6e4*e)return a[i];return a[c]},abbr:function(t){return this.abbrs[this._index(t)]},offset:function(t){return E("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(t)]},utcOffset:function(t){return this.offsets[this._index(t)]}},g.prototype.scoreOffsetAt=function(t){this.offsetScore+=Math.abs(this.zone.utcOffset(t.at)-t.offset),this.zone.abbr(t.at).replace(/[^A-Z]/g,"")!==t.abbr&&this.abbrScore++},T.version="0.5.26",T.dataVersion="",T._zones=n,T._links=r,T._names=i,T.add=x,T.link=C,T.load=function(t){x(t.zones),C(t.links),T.dataVersion=t.version},T.zone=w,T.zoneExists=function t(e){return t.didShowError||(t.didShowError=!0,E("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!w(e)},T.guess=function(t){return e&&!t||(e=function(){try{var t=Intl.DateTimeFormat().resolvedOptions().timeZone;if(t&&t.length>3){var e=i[M(t)];if(e)return e;E("Moment Timezone found "+t+" from the Intl api, but did not have that data loaded.")}}catch(u){}var n,r,o,a=function(){var t,e,n,r=(new Date).getFullYear()-2,i=new m(new Date(r,0,1)),o=[i];for(n=1;n<48;n++)(e=new m(new Date(r,n,1))).offset!==i.offset&&(t=y(i,e),o.push(t),o.push(new m(new Date(t.at+6e4)))),i=e;for(n=0;n<4;n++)o.push(new m(new Date(r+n,0,1))),o.push(new m(new Date(r+n,6,1)));return o}(),s=a.length,c=b(a),l=[];for(r=0;r<c.length;r++){for(n=new g(w(c[r]),s),o=0;o<s;o++)n.scoreOffsetAt(a[o]);l.push(n)}return l.sort(_),l.length>0?l[0].zone.name:void 0}()),e},T.names=function(){var t,e=[];for(t in i)i.hasOwnProperty(t)&&(n[t]||n[r[t]])&&i[t]&&e.push(i[t]);return e.sort()},T.Zone=f,T.unpack=h,T.unpackBase60=u,T.needsOffset=S,T.moveInvalidForward=!0,T.moveAmbiguousForward=!1;var O,A=t.fn;function P(t){return function(){return this._z?this._z.abbr(this):t.call(this)}}function L(t){return function(){return this._z=null,t.apply(this,arguments)}}t.tz=T,t.defaultZone=null,t.updateOffset=function(e,n){var r,i=t.defaultZone;if(void 0===e._z&&(i&&S(e)&&!e._isUTC&&(e._d=t.utc(e._a)._d,e.utc().add(i.parse(e),"minutes")),e._z=i),e._z)if(r=e._z.utcOffset(e),Math.abs(r)<16&&(r/=60),void 0!==e.utcOffset){var o=e._z;e.utcOffset(-r,n),e._z=o}else e.zone(r,n)},A.tz=function(e,n){if(e){if("string"!=typeof e)throw new Error("Time zone name must be a string, got "+e+" ["+typeof e+"]");return this._z=w(e),this._z?t.updateOffset(this,n):E("Moment Timezone has no data for "+e+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},A.zoneName=P(A.zoneName),A.zoneAbbr=P(A.zoneAbbr),A.utc=L(A.utc),A.local=L(A.local),A.utcOffset=(O=A.utcOffset,function(){return arguments.length>0&&(this._z=null),O.apply(this,arguments)}),t.tz.setDefault=function(e){return(s<2||2===s&&c<9)&&E("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+t.version+"."),t.defaultZone=e?w(e):null,t};var k=t.momentProperties;return"[object Array]"===Object.prototype.toString.call(k)?(k.push("_z"),k.push("_a")):k&&(k._z=null),t}))},DxQv:function(t,e,n){!function(t){"use strict";t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},Dzi0:function(t,e,n){!function(t){"use strict";t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n("wd/R"))},"E+lV":function(t,e,n){!function(t){"use strict";var e={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"\u0434\u0430\u043d",dd:e.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:e.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},"E/gV":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripSkeletonLoaderComponent=void 0;const r=n("8Y7J"),i=n("qCKp"),o=n("8Y7J"),a=n("SVse");function s(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"p",2),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.scrReaderText)}}function c(t,e){if(1&t){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",6),o.\u0275\u0275elementStart(1,"div",7),o.\u0275\u0275elementStart(2,"div",8),o.\u0275\u0275text(3,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"div",9),o.\u0275\u0275elementStart(5,"div",8),o.\u0275\u0275text(6,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"button",10),o.\u0275\u0275listener("click",(function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext(2).clearTrip()})),o.\u0275\u0275text(8,"Clear"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}}function l(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"div",12),o.\u0275\u0275elementStart(2,"div",13),o.\u0275\u0275elementStart(3,"div",8),o.\u0275\u0275text(4,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",14),o.\u0275\u0275text(6,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"div",8),o.\u0275\u0275text(8,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"div",15),o.\u0275\u0275elementStart(10,"div",16),o.\u0275\u0275text(11,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"div",17),o.\u0275\u0275text(13,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"div",18),o.\u0275\u0275elementStart(15,"div",13),o.\u0275\u0275elementStart(16,"div",19),o.\u0275\u0275text(17,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(18,"div",15),o.\u0275\u0275elementStart(19,"div",20),o.\u0275\u0275text(20,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function u(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",6),o.\u0275\u0275elementStart(1,"div",7),o.\u0275\u0275elementStart(2,"div",8),o.\u0275\u0275text(3,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function p(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",3),o.\u0275\u0275template(1,c,9,0,"div",4),o.\u0275\u0275template(2,l,21,0,"div",5),o.\u0275\u0275template(3,u,4,0,"div",4),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!t.isAppend),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf"," ".repeat(3).split("")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.isAppend)}}function d(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",22),o.\u0275\u0275elementStart(1,"div",23),o.\u0275\u0275elementStart(2,"div",24),o.\u0275\u0275elementStart(3,"div",25),o.\u0275\u0275text(4,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",26),o.\u0275\u0275elementStart(6,"div",27),o.\u0275\u0275text(7,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"div",27),o.\u0275\u0275text(9,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"div",28),o.\u0275\u0275elementStart(11,"div",27),o.\u0275\u0275text(12,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"div",27),o.\u0275\u0275text(14,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function h(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",3),o.\u0275\u0275template(1,d,15,0,"div",21),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf"," ".repeat(3).split("")))}function f(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",22),o.\u0275\u0275elementStart(1,"div",29),o.\u0275\u0275elementStart(2,"div",24),o.\u0275\u0275elementStart(3,"div",30),o.\u0275\u0275text(4,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",31),o.\u0275\u0275elementStart(6,"div",32),o.\u0275\u0275text(7,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"div",29),o.\u0275\u0275elementStart(9,"div",31),o.\u0275\u0275elementStart(10,"div",17),o.\u0275\u0275text(11,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"div",33),o.\u0275\u0275elementStart(13,"div",34),o.\u0275\u0275text(14,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(15,"div",35),o.\u0275\u0275text(16,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function m(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",3),o.\u0275\u0275template(1,f,17,0,"div",21),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf"," ".repeat(3).split("")))}class g{constructor(t){this.ref=t,this.clearTripData=new r.EventEmitter,this.scrReaderText="Searching",this.setInterval=i.interval(1e4)}ngOnInit(){this.changeScrReaderText()}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe()}clearTrip(){this.clearTripData.emit()}changeScrReaderText(){this.subscribe=this.setInterval.subscribe(()=>{this.scrReaderText="",this.ref.detectChanges(),this.scrReaderText="Still searching"})}}e.TripSkeletonLoaderComponent=g,g.\u0275fac=function(t){return new(t||g)(o.\u0275\u0275directiveInject(o.ChangeDetectorRef))},g.\u0275cmp=o.\u0275\u0275defineComponent({type:g,selectors:[["tni-skeleton-loader"]],inputs:{isAppend:"isAppend",isTripResults:"isTripResults",isTaxiResults:"isTaxiResults",isCycleResults:"isCycleResults"},outputs:{clearTripData:"clearTripData"},decls:4,vars:4,consts:[["role","alert","aria-live","polite","class","sr-only","aria-atomic","true",4,"ngIf"],["class","skeleton-loader",4,"ngIf"],["role","alert","aria-live","polite","aria-atomic","true",1,"sr-only"],[1,"skeleton-loader"],["class","buttons",4,"ngIf"],["class","results",4,"ngFor","ngForOf"],[1,"buttons"],[1,"earlier"],[1,"animate"],[1,"favourite"],["aria-label","clear trip results",1,"result-actions-clear",3,"click"],[1,"results"],[1,"skeleton-loader-upper","row"],[1,"col-md-3","col-xs-3"],[1,"animate","number"],[1,"col-md-9","col-xs-9"],[1,"animate","route"],[1,"animate","time"],[1,"skeleton-loader-lower"],[1,"animate","accessible"],[1,"animate","card"],["class","history",4,"ngFor","ngForOf"],[1,"history"],[1,"skeleton-loader-row","row"],[1,"col-md-1","col-xs-1"],[1,"animate","favourite"],[1,"col-md-6","col-xs-6"],[1,"animate","history"],[1,"col-md-5","col-xs-5"],[1,"skeleton-loader-row","row","taxi-row"],[1,"animate","logo"],[1,"col-md-4","col-xs-4"],[1,"animate","provider"],[1,"col-md-8","col-xs-8"],[1,"animate","book-btn"],[1,"animate","price"]],template:function(t,e){1&t&&(o.\u0275\u0275template(0,s,2,1,"p",0),o.\u0275\u0275template(1,p,4,3,"div",1),o.\u0275\u0275template(2,h,2,1,"div",1),o.\u0275\u0275template(3,m,2,1,"div",1)),2&t&&(o.\u0275\u0275property("ngIf",e.scrReaderText),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.isTripResults),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!e.isTripResults&&!e.isTaxiResults),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!e.isTripResults&&e.isTaxiResults||e.isCycleResults))},directives:[a.NgIf,a.NgForOf],styles:['.skeleton-loader[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 2px 0 #f1f1f1;margin:8px}.skeleton-loader[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 2px 0 #f1f1f1;margin:8px 0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:0 8px 10px;overflow:hidden;margin-top:16px}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{margin:11px auto;height:10px}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:32px;box-shadow:0 1px 2px 0 #f1f1f1;border-radius:2px;border:none;background:#fff}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .favourite[_ngcontent-%COMP%]{width:105px;float:right}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .clear[_ngcontent-%COMP%]{width:48px;float:right;margin-right:8px}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .result-actions-clear[_ngcontent-%COMP%]{font-size:13px;color:#555;line-height:20px;height:32px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff;float:right;margin-right:8px}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .earlier[_ngcontent-%COMP%]{width:48px;float:left}.skeleton-loader-upper[_ngcontent-%COMP%]{padding:15px 15px 5px;border-bottom:1px solid #f2f2f2}.skeleton-loader-row[_ngcontent-%COMP%]{padding:15px 15px 30px;border-bottom:1px solid #f2f2f2;margin:8px 0}.skeleton-loader[_ngcontent-%COMP%]   .animate.number[_ngcontent-%COMP%]{width:20%;height:13px}.skeleton-loader[_ngcontent-%COMP%]   .animate.route[_ngcontent-%COMP%]{height:19px;margin-bottom:18px;width:60%}.skeleton-loader[_ngcontent-%COMP%]   .animate.time[_ngcontent-%COMP%]{height:13px;width:60%}.skeleton-loader[_ngcontent-%COMP%]   .animate.accessible[_ngcontent-%COMP%]{height:18px;width:18px;margin-top:-8px}.skeleton-loader[_ngcontent-%COMP%]   .animate.card[_ngcontent-%COMP%]{float:right;width:40%;margin-top:-9px;height:18px}.skeleton-loader[_ngcontent-%COMP%]   .animate.history[_ngcontent-%COMP%]{height:16px;margin-bottom:4px}.skeleton-loader[_ngcontent-%COMP%]   .animate.favourite[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:8px}.skeleton-loader[_ngcontent-%COMP%]   .animate.logo[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:0;border-radius:50%}.skeleton-loader[_ngcontent-%COMP%]   .animate.provider[_ngcontent-%COMP%]{height:16px;margin-bottom:4px}.skeleton-loader[_ngcontent-%COMP%]   .animate.time[_ngcontent-%COMP%]{height:10px;margin-bottom:22px}.skeleton-loader[_ngcontent-%COMP%]   .animate.book-btn[_ngcontent-%COMP%]{height:24px;width:64px;float:right}.skeleton-loader[_ngcontent-%COMP%]   .animate.price[_ngcontent-%COMP%]{height:16px;width:94px;float:right;margin-right:10px;margin-top:4px}.skeleton-loader[_ngcontent-%COMP%]   .taxi-row[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:0}.skeleton-loader-lower[_ngcontent-%COMP%]{padding:18px}.skeleton-loader[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:80%;height:8px;margin-bottom:10px;background:#f1f1f1}.skeleton-loader[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#f1f1f1,#f9f9f9 40px,#f1f1f1 80px);-webkit-animation:progress 1s ease-in-out infinite;animation:progress 1s ease-in-out infinite;background-color:inherit}@-webkit-keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}@keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}']})},EDem:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureResultIndicatorsComponent=void 0;const r=n("8Y7J"),i=n("SVse"),o=n("0njA");function a(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275elementStart(1,"div"),r.\u0275\u0275elementStart(2,"span"),r.\u0275\u0275element(3,"tni-icon",2),r.\u0275\u0275elementStart(4,"span",3),r.\u0275\u0275text(5,"Booking required"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275property("ngClass",t.isAccessible?"accessible-booking-icon":"only-booking-icon")}}function s(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",4),r.\u0275\u0275elementStart(1,"span",5),r.\u0275\u0275text(2,"This is an accessible trip"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(3,"tni-icon",6),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngClass",t.isPlatformName?"platform-icon-accessible":"icon-accessible")}}class c{constructor(){}ngOnInit(){}}e.DepartureResultIndicatorsComponent=c,c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["tni-departure-result-indicators"]],inputs:{isAccessible:"isAccessible",isBookingRequired:"isBookingRequired",isPlatformName:"isPlatformName"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass",4,"ngIf"],["iconClasses","booking tp-icon sm","iconName","booking",3,"ngClass"],["aria-label","booking required",1,"booking-required"],[3,"ngClass"],[1,"sr-only"],["iconAriaHidden","true","iconClasses","accessible tp-icon xs","iconName","accessible"]],template:function(t,e){1&t&&(r.\u0275\u0275template(0,a,6,1,"div",0),r.\u0275\u0275template(1,s,4,1,"div",1)),2&t&&(r.\u0275\u0275property("ngIf",e.isBookingRequired),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.isAccessible))},directives:[i.NgIf,o.IconComponent,i.NgClass],styles:["[_nghost-%COMP%]{padding-right:40px}.icon-accessible[_ngcontent-%COMP%]{color:#555;position:absolute;right:-12px;bottom:-4px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.icon-accessible[_ngcontent-%COMP%]{margin-left:3px;margin-top:2px;bottom:-2px}}.platform-icon-accessible[_ngcontent-%COMP%]{color:#555;position:absolute;right:-12px;bottom:-2px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.platform-icon-accessible[_ngcontent-%COMP%]{margin-left:3px;margin-top:2px;bottom:0}}.icon-more-info[_ngcontent-%COMP%]{color:#555;position:absolute;right:0}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.icon-more-info[_ngcontent-%COMP%]{margin-left:3px;margin-top:2px}}.accessible-booking[_ngcontent-%COMP%]{float:left;width:152px;margin-top:10px}@media (min-width:992px) and (max-width:1199px){.accessible-booking[_ngcontent-%COMP%]{position:absolute;top:10px;right:18px}}@media (min-width:768px){.accessible-booking[_ngcontent-%COMP%]{margin-top:11px}}@media (max-width:320px){.accessible-booking[_ngcontent-%COMP%]{margin-left:10px}}.booking[_ngcontent-%COMP%]{float:right;margin-right:3px;margin-top:10px}@media (min-width:1200px){.booking[_ngcontent-%COMP%]{top:10px}}.booking-required[_ngcontent-%COMP%]{position:relative;color:#171717;font-family:transtext-tp,sans-serif;font-size:12px;font-weight:400;line-height:18px;letter-spacing:.12px;display:none}@media (min-width:1200px){.booking-required[_ngcontent-%COMP%]{display:inline-block;top:2px}}.accessible-booking-icon[_ngcontent-%COMP%]{margin-right:9px;color:#555}@media (min-width:1200px){.accessible-booking-icon[_ngcontent-%COMP%]{top:10px;margin-right:4px}}@media (min-width:992px) and (max-width:1199px){.accessible-booking-icon[_ngcontent-%COMP%]{position:absolute;top:-23px;right:4px}}.accessible-icon[_ngcontent-%COMP%]{float:right}.only-booking-icon[_ngcontent-%COMP%]{color:#555;position:relative}@media (min-width:1200px){.only-booking-icon[_ngcontent-%COMP%]{top:-1px;margin-right:4px}}@media (min-width:992px) and (max-width:1199px){.only-booking-icon[_ngcontent-%COMP%]{position:absolute;top:-1px;right:0}}@media (min-width:768px){.only-booking-icon[_ngcontent-%COMP%]{top:-1px;right:-3px}}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.only-booking-icon[_ngcontent-%COMP%]{top:-1px;right:-3px}}.short-platform[_ngcontent-%COMP%]{position:relative;float:left;color:#000;margin-top:-3px;margin-left:-18px}@media (max-width:320px){.short-platform[_ngcontent-%COMP%]{margin-left:-5px}}.short-platform-message[_ngcontent-%COMP%]{color:#fff;background-color:#31393e;font-size:14px;font-weight:400;line-height:30px;border-radius:3px;max-width:40px;padding:3px 5px}.departure-stop-indicators[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;vertical-align:middle}"]})},EOgW:function(t,e,n){!function(t){"use strict";t.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(t){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===t},meridiem:function(t,e,n){return t<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(n("wd/R"))},EQ5u:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),a=n("x+ZX");class s extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(a.a)()(this)}}const c=(()=>{const t=s.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class l extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EQnc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeSelectComponent=void 0;const r=n("8Y7J"),i=n("1z/I"),o=n("sYyf"),a=n("8Y7J"),s=n("lTCs"),c=n("s7LF"),l=n("SVse"),u=n("hVnv"),p=n("1z/I"),d=n("0njA"),h=n("ajRT");function f(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12),a.\u0275\u0275elementStart(1,"h4"),a.\u0275\u0275text(2,"Public transport options"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"a",13,14),a.\u0275\u0275listener("click",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().togglePublicTransportOptionsModal(!0)}))("focus",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().togglePublicTransportOptionsModal(!1)}))("keydown.enter",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().togglePublicTransportOptionsModal(!0)})),a.\u0275\u0275element(5,"tni-icon",15),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function m(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"tni-modal",17),a.\u0275\u0275listener("closeEvent",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext(2).togglePublicTransportOptionsModal(!1)})),a.\u0275\u0275elementStart(1,"tni-modal-title"),a.\u0275\u0275elementStart(2,"h2"),a.\u0275\u0275text(3,"Public transport options"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",18),a.\u0275\u0275elementStart(5,"p"),a.\u0275\u0275text(6," Select which public transport options you'd like to see in your results. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"p"),a.\u0275\u0275elementStart(8,"strong"),a.\u0275\u0275text(9,"Metro"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(10," includes Sydney Metro services. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"p"),a.\u0275\u0275elementStart(12,"strong"),a.\u0275\u0275text(13,"Train"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(14," includes Sydney, Intercity and Regional trains. "),a.\u0275\u0275element(15,"br"),a.\u0275\u0275text(16," NOTE: If trackwork is happening on your line, you need to make sure Bus is selected to ensure you see the rail replacement buses. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"p"),a.\u0275\u0275elementStart(18,"strong"),a.\u0275\u0275text(19,"Bus"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(20," includes public, private and rail replacement buses right across NSW. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(21,"p"),a.\u0275\u0275elementStart(22,"strong"),a.\u0275\u0275text(23,"Ferry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(24," includes public and private ferries. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(25,"p"),a.\u0275\u0275elementStart(26,"strong"),a.\u0275\u0275text(27,"Light rail"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(28," includes light rail services in Sydney and Newcastle. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(29,"p"),a.\u0275\u0275elementStart(30,"strong"),a.\u0275\u0275text(31,"Coach"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(32," includes Regional and private coaches. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(33,"p"),a.\u0275\u0275text(34," To see what each of the icons mean in your results, refer to "),a.\u0275\u0275elementStart(35,"a",19),a.\u0275\u0275text(36," key to icons and line codes"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(37,". "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("@fadeOutAnimation",void 0)("closeAtBottomLayout",!0)("fullscreenMobile",!0)("openingElement",t.publicTransportOptionsInfoElement)}}function g(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,m,38,4,"tni-modal",16),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",t.isInfoModalOpen)}}const y=function(t){return{hide:t}};class _{constructor(t){this.modalService=t,this.excludedModes=new r.EventEmitter,this.isInfoModalOpen=!1,this.rowType="grid",this.showHeader=!0,this.noShowModes=!1,this.lastClicked=new r.EventEmitter,this.motMap={train:1,bus:5,ferry:9,lightRail:4,school:11,metro:2,coach:7}}ngOnInit(){this.excludedModes.emit(this.defaultExcludedModes),this.preferencesForm.valueChanges.subscribe(t=>{const e=[];Object.keys(t).forEach(n=>{t[n]||e.push(this.motMap[n])}),this.excludedModes.emit(e)})}hideMot(t){return!!this.noShowModes||!!this.motTypes&&!this.motTypes.includes(this.motMap[t])}togglePublicTransportOptionsModal(t){t?(this.modalService.addModalToBody(this.portal),this.isInfoModalOpen=!0):(this.modalService.removeModalFromBody(),this.isInfoModalOpen=!1)}sendLastClicked(t){this.lastClicked.emit(t)}}e.ModeSelectComponent=_,_.\u0275fac=function(t){return new(t||_)(a.\u0275\u0275directiveInject(s.ModalService))},_.\u0275cmp=a.\u0275\u0275defineComponent({type:_,selectors:[["tni-mode-select"]],viewQuery:function(t,e){var n;1&t&&a.\u0275\u0275viewQuery(i.CdkPortal,!0),2&t&&a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.portal=n.first)},inputs:{defaultExcludedModes:"defaultExcludedModes",rowType:"rowType",showHeader:"showHeader",preferencesForm:"preferencesForm",motTypes:"motTypes",noShowModes:"noShowModes"},outputs:{excludedModes:"excludedModes",lastClicked:"lastClicked"},decls:21,vars:32,consts:[[1,"trip-preference"],["class","refine-header",4,"ngIf"],[1,"sr-only"],[1,"mode-icon",3,"ngClass"],["name","metro","icon","metro","text","Metro",3,"formControl","clicked"],["name","train","icon","train","text","Train",3,"formControl","clicked"],["name","bus","icon","bus","text","Bus",3,"formControl","clicked"],["name","ferry","icon","ferry","text","Ferry",3,"formControl","clicked"],["name","light-rail","icon","lightrail","text","Light rail",3,"formControl","clicked"],["name","coach","icon","coach","text","Coach",3,"formControl","clicked"],["name","school-bus","icon","bus-school","text","School bus",3,"formControl","clicked"],[4,"cdkPortal"],[1,"refine-header"],["role","button","tabindex","0",1,"icon-wrap",3,"click","focus","keydown.enter"],["publicTransportOptionsInfoElement",""],["iconClasses","tp-icon sm","iconName","info","aria-label","public transport information","iconAriaHidden","true"],["ariaLabel","public transport options",3,"closeAtBottomLayout","fullscreenMobile","openingElement","closeEvent",4,"ngIf"],["ariaLabel","public transport options",3,"closeAtBottomLayout","fullscreenMobile","openingElement","closeEvent"],[1,"public-transport-text","modal-text"],["href","https://transportnsw.info/plan/help-with-planning/key-to-icons-line-colours?_ga=2.26918845.1899476622.1574303048-239561886.1574303048","target","_blank"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"ng-form"),a.\u0275\u0275elementStart(1,"div",0),a.\u0275\u0275template(2,f,6,0,"div",1),a.\u0275\u0275elementStart(3,"div"),a.\u0275\u0275elementStart(4,"span",2),a.\u0275\u0275text(5," Filter results by mode "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div",3),a.\u0275\u0275elementStart(7,"tni-checkbox",4),a.\u0275\u0275listener("clicked",(function(t){return e.sendLastClicked(t)})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",3),a.\u0275\u0275elementStart(9,"tni-checkbox",5),a.\u0275\u0275listener("clicked",(function(t){return e.sendLastClicked(t)})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",3),a.\u0275\u0275elementStart(11,"tni-checkbox",6),a.\u0275\u0275listener("clicked",(function(t){return e.sendLastClicked(t)})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"div",3),a.\u0275\u0275elementStart(13,"tni-checkbox",7),a.\u0275\u0275listener("clicked",(function(t){return e.sendLastClicked(t)})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"div",3),a.\u0275\u0275elementStart(15,"tni-checkbox",8),a.\u0275\u0275listener("clicked",(function(t){return e.sendLastClicked(t)})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(16,"div",3),a.\u0275\u0275elementStart(17,"tni-checkbox",9),a.\u0275\u0275listener("clicked",(function(t){return e.sendLastClicked(t)})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(18,"div",3),a.\u0275\u0275elementStart(19,"tni-checkbox",10),a.\u0275\u0275listener("clicked",(function(t){return e.sendLastClicked(t)})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(20,g,2,1,"ng-container",11)),2&t&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.showHeader),a.\u0275\u0275advance(1),a.\u0275\u0275classMapInterpolate1("mode-icons row-",e.rowType,""),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(18,y,e.hideMot("metro"))),a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",e.preferencesForm.controls.metro),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(20,y,e.hideMot("train"))),a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",e.preferencesForm.controls.train),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(22,y,e.hideMot("bus"))),a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",e.preferencesForm.controls.bus),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(24,y,e.hideMot("ferry"))),a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",e.preferencesForm.controls.ferry),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(26,y,e.hideMot("lightRail"))),a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",e.preferencesForm.controls.lightRail),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(28,y,e.hideMot("coach"))),a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",e.preferencesForm.controls.coach),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(30,y,e.hideMot("school"))),a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",e.preferencesForm.controls.school))},directives:[c.NgForm,l.NgIf,l.NgClass,u.CheckboxComponent,c.NgControlStatus,c.FormControlDirective,p.CdkPortal,d.IconComponent,h.ModalComponent,h.ModalTitleDirective],styles:[".trip-preference[_ngcontent-%COMP%]{padding:0 16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-preference[_ngcontent-%COMP%]{padding:0 10px}}@media (min-width:768px) and (max-width:992px){.trip-preference[_ngcontent-%COMP%]   .row-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-preference[_ngcontent-%COMP%]   .row-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.trip-preference[_ngcontent-%COMP%]   .row-flex[_ngcontent-%COMP%]{flex-flow:row}.public-transport-text[_ngcontent-%COMP%]{text-align:left}.departures-search-form-main[_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%], .departures-search-form-main   [_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]{padding:0}.departures-search-form-main[_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%], .departures-search-form-main   [_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:auto;grid-column-gap:8px;grid-template-columns:repeat(7,1fr)}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departures-search-form-main[_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%], .departures-search-form-main   [_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]{margin-left:0}}.departures-search-form-main[_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%], .departures-search-form-main   [_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.departures-search-form-main[_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]     a span.badge-label, .departures-search-form-main   [_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]     a span.badge-label{position:static;margin-left:25px}.departures-search-form-main[_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]     tni-checkbox input, .departures-search-form-main   [_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]     tni-checkbox input{width:0}.departures-search-form-main[_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]     tni-checkbox input:checked~.badge, .departures-search-form-main   [_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]     tni-checkbox input:checked~.badge{display:inline-block;width:0;position:static;right:auto;top:auto;text-align:initial;padding:initial;margin:0 10px}.departures-search-form-main[_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]     tni-checkbox .btn.btn-default, .departures-search-form-main   [_nghost-%COMP%]   .trip-preference[_ngcontent-%COMP%]   .mode-icons[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]     tni-checkbox .btn.btn-default{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:14px;margin-bottom:0}"],data:{animation:[o.fadeOutAnimation]}})},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},EiLY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalRetailersViewAction=e.LaterTripLoadingAction=e.EarlierTripLoadingAction=e.GetEarlierTripsAction=e.StoreEarlierTripsAction=e.TaxiSearchResponseAction=e.CycleRoutesResponseAction=e.CycleRoutesSearchAction=e.CycleRouteLoadingAction=e.TaxiTripSearchAction=e.TaxiTripLoadingAction=e.TransportFilterAction=e.CurrentLocationAction=e.SwitchAppViewAction=e.SelectJourneyAction=e.ChangeTripSpeedCycleAction=e.ChangeTripSpeedWalkAction=e.ChangeCardTypeAction=e.SearchToHereAction=e.SearchErrorAction=e.SearchFromHereAction=e.TripSearchRefineAction=e.TripSearchAction=e.SearchLoadingAction=e.ClearSearchAction=e.RefineTripAction=e.SearchTripAction=e.TripActionTypes=void 0;var r=e.TripActionTypes=function(t){return t.SEARCH_TRIP="[Trip] SEARCH_TRIP",t.REFINE_TRIP="[Trip] REFINE_TRIP",t.CLEAR_TRIP="[Trip] CLEAR_TRIP",t.TRIP_SEARCH_LOADING="[Trip] TRIP_SEARCH_LOADING",t.TRIP_SEARCH="[Trip] TRIP_SEARCH",t.TRIP_SEARCH_REFINE="[Trip] TRIP_SEARCH_REFINE",t.TRIP_SEARCH_ERROR="[Trip] TRIP_SEARCH_ERROR",t.TRIP_SEARCH_FROM_HERE="[Trip] TRIP_SEARCH_FROM_HERE",t.TRIP_SEARCH_TO_HERE="[Trip] TRIP_SEARCH_TO_HERE",t.CHANGE_CARD_TYPE="[Trip] CHANGE_CARD_TYPE",t.SELECT_JOURNEY="[Trip] SELECT_JOURNEY",t.SWITCH_TO_MAP_VIEW="[Trip] SWITCH_TO_MAP_VIEW",t.TRANSPORT_FILTER="[Trip] TRANSPORT_FILTER",t.CHANGE_TRIP_SPEED_WALK="[Trip] CHANGE_TRIP_SPEED_WALK",t.CHANGE_TRIP_SPEED_CYCLE="[Trip] CHANGE_TRIP_SPEED_CYCLE",t.CURRENT_LOCATION="[Trip] CURRENT_LOCATION",t.TAXI_TRIP_SEARCH="[Trip] TAXI_TRIP_SEARCH",t.TAXI_SEARCH_RESPONSE="[Trip] TAXI_SEARCH_RESPONSE",t.TAXI_TRIPS_LOADING="[Trip] TAXI_TRIPS_LOADING",t.GET_EARLIER_TRIPS="[Trip] GET_EARLIER_TRIPS",t.STORE_EARLIER_TRIPS="[Trip] STORE_EARLIER_TRIPS",t.EARLIER_TRIPS_LOADING="[Trip] EARLIER_TRIPS_LOADING",t.LATER_TRIPS_LOADING="[Trip] LATER_TRIPS_LOADING",t.OPAL_RETAILERS_VIEW="[Trip] OPAL_RETAILERS_VIEW",t.MULTI_CYCLE_ROUTES_SEARCH="[Trip] MULTI_CYCLE_ROUTES_SEARCH",t.MULTI_CYCLE_ROUTES_RESPONSE="[Trip] MULTI_CYCLE_ROUTES_RESPONSE",t.MULTI_CYCLE_ROUTES_LOADING="[Trip] MULTI_CYCLE_ROUTES_LOADING",t}(e.TripActionTypes||{});e.SearchTripAction=class{constructor(t){this.payload=t,this.type=r.SEARCH_TRIP}},e.RefineTripAction=class{constructor(t){this.payload=t,this.type=r.REFINE_TRIP}},e.ClearSearchAction=class{constructor(t){this.travelMode=t,this.type=r.CLEAR_TRIP}},e.SearchLoadingAction=class{constructor(){this.type=r.TRIP_SEARCH_LOADING}},e.TripSearchAction=class{constructor(t){this.payload=t,this.type=r.TRIP_SEARCH}},e.TripSearchRefineAction=class{constructor(t){this.payload=t,this.type=r.TRIP_SEARCH_REFINE}},e.SearchFromHereAction=class{constructor(t){this.payload=t,this.type=r.TRIP_SEARCH_FROM_HERE}},e.SearchErrorAction=class{constructor(t){this.payload=t,this.type=r.TRIP_SEARCH_ERROR}},e.SearchToHereAction=class{constructor(t){this.payload=t,this.type=r.TRIP_SEARCH_TO_HERE}},e.ChangeCardTypeAction=class{constructor(t){this.payload=t,this.type=r.CHANGE_CARD_TYPE}},e.ChangeTripSpeedWalkAction=class{constructor(t){this.payload=t,this.type=r.CHANGE_TRIP_SPEED_WALK}},e.ChangeTripSpeedCycleAction=class{constructor(t){this.payload=t,this.type=r.CHANGE_TRIP_SPEED_CYCLE}},e.SelectJourneyAction=class{constructor(t){this.payload=t,this.type=r.SELECT_JOURNEY}},e.SwitchAppViewAction=class{constructor(t){this.payload=t,this.type=r.SWITCH_TO_MAP_VIEW}},e.CurrentLocationAction=class{constructor(t){this.payload=t,this.type=r.CURRENT_LOCATION}},e.TransportFilterAction=class{constructor(t){this.payload=t,this.type=r.TRANSPORT_FILTER}},e.TaxiTripLoadingAction=class{constructor(){this.type=r.TAXI_TRIPS_LOADING}},e.TaxiTripSearchAction=class{constructor(t){this.payload=t,this.type=r.TAXI_TRIP_SEARCH}},e.CycleRouteLoadingAction=class{constructor(){this.type=r.MULTI_CYCLE_ROUTES_LOADING}},e.CycleRoutesSearchAction=class{constructor(t){this.payload=t,this.type=r.MULTI_CYCLE_ROUTES_SEARCH}},e.CycleRoutesResponseAction=class{constructor(t){this.payload=t,this.type=r.MULTI_CYCLE_ROUTES_RESPONSE}},e.TaxiSearchResponseAction=class{constructor(t){this.payload=t,this.type=r.TAXI_SEARCH_RESPONSE}},e.StoreEarlierTripsAction=class{constructor(t){this.payload=t,this.type=r.STORE_EARLIER_TRIPS}},e.GetEarlierTripsAction=class{constructor(t){this.payload=t,this.type=r.GET_EARLIER_TRIPS}},e.EarlierTripLoadingAction=class{constructor(){this.type=r.EARLIER_TRIPS_LOADING}},e.LaterTripLoadingAction=class{constructor(){this.type=r.LATER_TRIPS_LOADING}},e.OpalRetailersViewAction=class{constructor(t){this.payload=t,this.type=r.OPAL_RETAILERS_VIEW}}},ElVz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomService=void 0;const r=n("1z/I"),i=n("PCNd"),o=n("8Y7J");class a{constructor(t,e,n){this.componentFactoryResolver=t,this.applicationRef=e,this.injector=n,this.host=new r.DomPortalOutlet(document.querySelector("body"),this.componentFactoryResolver,this.applicationRef,this.injector)}addComponentToBody(t){document.body.style.overflow="hidden",this.host.attach(t)}removeComponentFromBody(){this.host&&(this.host.detach(),document.body.style.overflow="auto")}}e.DomService=a,a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(o.ComponentFactoryResolver),o.\u0275\u0275inject(o.ApplicationRef),o.\u0275\u0275inject(o.Injector))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:i.SharedModule})},EpZu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OccupancyIndicatorService=void 0;const r=n("kU1M"),i=n("iFc6"),o=n("/fmw"),a=n("b2IO"),s=n("8Y7J"),c=n("o+yI");class l{constructor(t){this.featureToggleService=t}getOccupancy(t){switch(t){case o.OccupancyLevel.FULL:return 3;case o.OccupancyLevel.MEDIUM:return 2;case o.OccupancyLevel.LOW:return 1;default:throw Error("unimplemented occupancy level")}}getOccupancyRealtimeIconName(t){switch(t){case o.OccupancyLevel.FULL:return a.RealTimeStatus.LATE;case o.OccupancyLevel.MEDIUM:return a.RealTimeStatus.EARLY;case o.OccupancyLevel.LOW:return a.RealTimeStatus.ON_TIME;default:throw Error("unimplemented occupancy level")}}getHelpTipText(t){return this.featureToggleService.getConfig().pipe(r.map(e=>{switch(t){case o.OccupancyLevel.FULL:return e[i.TniConstant.FEATURE_TOGGLES.UI_FULL_CAPACITY_INDICATOR_TEXT];case o.OccupancyLevel.MEDIUM:return e[i.TniConstant.FEATURE_TOGGLES.UI_MEDIUM_CAPACITY_INDICATOR_TEXT];case o.OccupancyLevel.LOW:return e[i.TniConstant.FEATURE_TOGGLES.UI_LOW_CAPACITY_INDICATOR_TEXT];default:throw Error("unimplemented occupancy level")}}))}isEnableCovidOccupancyText$(){return this.featureToggleService.getConfig().pipe(r.map(t=>t[i.TniConstant.FEATURE_TOGGLES.UI_ENABLE_COVID_OCCUPANCY_TEXT]))}getCovidOccupancyModalText(){return this.featureToggleService.getConfig().pipe(r.map(t=>({fullCapacity:t[i.TniConstant.FEATURE_TOGGLES.UI_FULL_CAPACITY_INDICATOR_TEXT],mediumCapacity:t[i.TniConstant.FEATURE_TOGGLES.UI_MEDIUM_CAPACITY_INDICATOR_TEXT],lowCapacity:t[i.TniConstant.FEATURE_TOGGLES.UI_LOW_CAPACITY_INDICATOR_TEXT],title:t[i.TniConstant.FEATURE_TOGGLES.UI_CAPACITY_MODAL_TITLE_TEXT],subheading:t[i.TniConstant.FEATURE_TOGGLES.UI_CAPACITY_MODAL_SUBHEADING_TEXT],estimatedCapacityText:t[i.TniConstant.FEATURE_TOGGLES.UI_CAPACITY_MODAL_ESTIMATED_CAPACITY_TEXT],greendotsText:t[i.TniConstant.FEATURE_TOGGLES.UI_CAPACITY_MODAL_GREEN_DOTS_TEXT]})))}}e.OccupancyIndicatorService=l,l.\u0275fac=function(t){return new(t||l)(s.\u0275\u0275inject(c.FeatureToggleService))},l.\u0275prov=s.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac})},Er9r:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cardTypeReducer=e.initialState=void 0;const r=n("EiLY");e.initialState=null,e.cardTypeReducer=function(t=e.initialState,n){switch(n.type){case r.TripActionTypes.CHANGE_CARD_TYPE:return n.payload.cardType;default:return t}}},"F+fM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripHistoryEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("yqgP"),a=n("8Y7J"),s=n("7bNT"),c=n("dl3s");e.TripHistoryEffects=(()=>{class t{constructor(t,e){this.actions=t,this.userPreferenceStoreService=e,this.favActionData$=this.actions.pipe(i.ofType(o.TripHistoryActionTypes.MARK_AS_FAV))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(s.Actions),a.\u0275\u0275inject(c.UserPreferenceStoreService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect({dispatch:!1})],t.prototype,"favActionData$",void 0),t})()},"F97/":function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",(function(){return r}))},FSmM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextDeparturesSkeletonLoaderComponent=void 0;const r=n("qCKp"),i=n("8Y7J"),o=n("SVse");function a(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"p",7),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",t.scrReaderText," ")}}function s(t,e){1&t&&(i.\u0275\u0275elementStart(0,"div",8),i.\u0275\u0275elementStart(1,"div",9),i.\u0275\u0275elementStart(2,"div",10),i.\u0275\u0275elementStart(3,"div",5),i.\u0275\u0275text(4,"\xa0"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"div",11),i.\u0275\u0275elementStart(6,"div",5),i.\u0275\u0275text(7,"\xa0"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"div",12),i.\u0275\u0275elementStart(9,"div",13),i.\u0275\u0275elementStart(10,"div",14),i.\u0275\u0275elementStart(11,"div",5),i.\u0275\u0275text(12,"\xa0"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(13,"div",15),i.\u0275\u0275elementStart(14,"div",5),i.\u0275\u0275text(15,"\xa0"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(16,"div",16),i.\u0275\u0275elementStart(17,"span",5),i.\u0275\u0275text(18,"\xa0"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd())}class c{constructor(t){this.ref=t,this.loaded=!1,this.scrReaderText="Searching",this.setInterval=r.interval(1e4)}ngOnInit(){this.changeScrReaderText()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}changeScrReaderText(){this.subscription=this.setInterval.subscribe(()=>{this.scrReaderText="",this.ref.detectChanges(),this.scrReaderText="Still searching"})}}e.NextDeparturesSkeletonLoaderComponent=c,c.\u0275fac=function(t){return new(t||c)(i.\u0275\u0275directiveInject(i.ChangeDetectorRef))},c.\u0275cmp=i.\u0275\u0275defineComponent({type:c,selectors:[["tni-next-departures-skeleton-loader"]],inputs:{loaded:"loaded"},decls:10,vars:3,consts:[["role","alert","aria-live","assertive","class","sr-only","aria-atomic","true",4,"ngIf"],[1,"skeleton-loader",3,"hidden"],["class","skeleton-next-departure",4,"ngFor","ngForOf"],[1,"skeleton-more-departures"],[1,"skeleton-more-departures__label"],[1,"animate"],[1,"skeleton-more-departures__icon"],["role","alert","aria-live","assertive","aria-atomic","true",1,"sr-only"],[1,"skeleton-next-departure"],[1,"skeleton-next-departure__result"],[1,"skeleton-next-departure__time"],[1,"skeleton-next-departure__mode"],[1,"skeleton-next-departure__indicators"],[1,"skeleton-next-departure__name-and-accessible"],[1,"skeleton-next-departure__destination_name"],[1,"skeleton-next-departure__icon-accessible"],[1,"skeleton-next-departure__with-short-platform"]],template:function(t,e){1&t&&(i.\u0275\u0275template(0,a,2,1,"p",0),i.\u0275\u0275elementStart(1,"div",1),i.\u0275\u0275template(2,s,19,0,"div",2),i.\u0275\u0275elementStart(3,"div",3),i.\u0275\u0275elementStart(4,"div",4),i.\u0275\u0275elementStart(5,"div",5),i.\u0275\u0275text(6,"\xa0"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",6),i.\u0275\u0275elementStart(8,"div",5),i.\u0275\u0275text(9,"\xa0"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&t&&(i.\u0275\u0275property("ngIf",!e.loaded),i.\u0275\u0275advance(1),i.\u0275\u0275property("hidden",e.loaded),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf"," ".repeat(2).split("")))},directives:[o.NgIf,o.NgForOf],styles:['.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__result[_ngcontent-%COMP%]{display:flex;margin-left:7px;margin-right:-8px;margin-bottom:5px}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__time[_ngcontent-%COMP%]{position:relative;margin-right:10px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__time[_ngcontent-%COMP%]{margin-right:8px}}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__time[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{height:16px;width:35px}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__mode[_ngcontent-%COMP%]{margin-right:8px;min-width:37px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__mode[_ngcontent-%COMP%]{margin-right:8px}}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__mode[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{height:24px;width:24px}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__indicators[_ngcontent-%COMP%]{width:100%}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__name-and-accessible[_ngcontent-%COMP%]{display:flex}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__destination_name[_ngcontent-%COMP%]{min-width:95%}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__destination_name[_ngcontent-%COMP%]{min-width:93%}}@media (max-width:320px){.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__destination_name[_ngcontent-%COMP%]{min-width:78%}}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__destination_name[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{height:16px}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__icon-accessible[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{height:16px;width:16px}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__with-short-platform[_ngcontent-%COMP%]{display:flex}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-next-departure__with-short-platform[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{height:16px;width:72px}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-more-departures[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-more-departures__label[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{height:16px;width:96px}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-more-departures__icon[_ngcontent-%COMP%]{margin-left:29px;margin-right:10px}.skeleton-loader[_ngcontent-%COMP%]   .skeleton-more-departures__icon[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{height:16px;width:16px}.skeleton-loader[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:80%;height:8px;margin-bottom:4px;background:#f1f1f1}.skeleton-loader[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#f1f1f1,#f9f9f9 40px,#f1f1f1 80px);-webkit-animation:progress 1s ease-in-out infinite;animation:progress 1s ease-in-out infinite;background-color:inherit}@-webkit-keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}@keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}']})},FYjP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlertComponent=void 0;const r=n("8Y7J"),i=n("0njA"),o=n("SVse");function a(t,e){1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1,"..."),r.\u0275\u0275elementEnd())}function s(t,e){if(1&t&&r.\u0275\u0275element(0,"div",10),2&t){const t=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("innerHTML",t.alert.content,r.\u0275\u0275sanitizeHtml)}}function c(t,e){if(1&t){const t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"a",11),r.\u0275\u0275listener("click",(function(){return r.\u0275\u0275restoreView(t),r.\u0275\u0275nextContext(2).toggleMoreLess()}))("keydown.enter",(function(e){r.\u0275\u0275restoreView(t);const n=r.\u0275\u0275nextContext(2);return e.preventDefault(),n.toggleMoreLess()})),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()}if(2&t){const t=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",t.showMore?"more":"less"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.moreOrlessLabel())}}function l(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",6),r.\u0275\u0275text(1),r.\u0275\u0275template(2,a,2,0,"span",7),r.\u0275\u0275template(3,s,1,1,"div",8),r.\u0275\u0275template(4,c,2,2,"a",9),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.alert.subtitle," "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.showMore&&t.alert.content),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!t.showMore),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.alert.content)}}function u(t,e){if(1&t&&r.\u0275\u0275element(0,"div",12),2&t){const t=r.\u0275\u0275nextContext();r.\u0275\u0275property("innerHTML",t.alert.content,r.\u0275\u0275sanitizeHtml)}}class p{constructor(){this.showMore=!0}toggleMoreLess(){this.showMore=!this.showMore}moreOrlessLabel(){return this.showMore?"more":"less"}}e.AlertComponent=p,p.\u0275fac=function(t){return new(t||p)},p.\u0275cmp=r.\u0275\u0275defineComponent({type:p,selectors:[["tni-alert"]],inputs:{alert:"alert"},decls:7,vars:6,consts:[[1,"alert-message"],[1,"alert-message__icon"],["role","alert",1,"sr-only"],["iconClasses","sm",3,"iconName","iconAriaHidden"],["class","alert-message__details",4,"ngIf"],["class","alert-message__details",3,"innerHTML",4,"ngIf"],[1,"alert-message__details"],[4,"ngIf"],["class","alert-message__details--content-with-title",3,"innerHTML",4,"ngIf"],["href","javascript:;","role","button","class","more-less",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"alert-message__details--content-with-title",3,"innerHTML"],["href","javascript:;","role","button",1,"more-less",3,"ngClass","click","keydown.enter"],[1,"alert-message__details",3,"innerHTML"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275elementStart(1,"div",1),r.\u0275\u0275elementStart(2,"span",2),r.\u0275\u0275text(3,"Alert"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(4,"tni-icon",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(5,l,5,4,"div",4),r.\u0275\u0275template(6,u,1,1,"div",5),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275classProp("high",!e.alert.isVeryLowPriority),r.\u0275\u0275advance(4),r.\u0275\u0275property("iconName",e.alert.isVeryLowPriority?"info.1":"alert-message")("iconAriaHidden",!1),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!!e.alert.subtitle),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!e.alert.subtitle))},directives:[i.IconComponent,o.NgIf,o.NgClass],styles:[".alert-message[_ngcontent-%COMP%]{font-size:14px;padding:8px 12px 0 0;margin-bottom:4px}.alert-message.high[_ngcontent-%COMP%]{padding:12px 8px;background-color:#eee;border:1px solid #ccc;font-weight:400}.alert-message[_ngcontent-%COMP%]   .more-less[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer;color:#1d69b4}.alert-message__icon[_ngcontent-%COMP%]{display:inline;line-height:20px}.alert-message__icon[_ngcontent-%COMP%]     svg{margin-right:8px}.alert-message__details[_ngcontent-%COMP%]{display:inline;line-height:20px}.alert-message__details--content[_ngcontent-%COMP%]{margin-left:32px}.alert-message__details--content-with-title[_ngcontent-%COMP%]{padding-top:10px;margin-left:30px}.alert-message__details[_ngcontent-%COMP%]   .less[_ngcontent-%COMP%]{margin-left:32px}.alert-message__details[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{padding-left:5px}"]})},G0Uy:function(t,e,n){!function(t){"use strict";t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},G0d7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollFurtherDown=void 0,e.ScrollFurtherDown=class{static by(t,e){const n=t.getBoundingClientRect().top,r=t.getBoundingClientRect().left,i=t.getBoundingClientRect().height;this.getScrollParent(t).scrollTo({top:n+i+e,left:r,behavior:"smooth"})}static getScrollParent(t){const e=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return t?"visible"!==e&&"hidden"!==e&&t.scrollHeight>=t.clientHeight?t:this.getScrollParent(t.parentNode)||document.body:null}}},GAyq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripHistoryItemComponent=void 0;const r=n("yqgP"),i=n("8Y7J"),o=n("KJxU"),a=n("Y7wX"),s=n("tqRt"),c=n("iInd"),l=n("VS5s"),u=n("SVse"),p=n("0njA");function d(t,e){1&t&&i.\u0275\u0275element(0,"tni-icon",12)}function h(t,e){1&t&&i.\u0275\u0275element(0,"tni-icon",13)}function f(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"li",17),i.\u0275\u0275element(1,"tni-icon",11),i.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("iconClasses","xs")("iconTitle",t)("iconName",t)("iconAriaHidden",!0)}}function m(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275template(1,f,2,4,"li",16),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.modeIcons(t.tripHistoryData.trip.fromLocation))}}function g(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"p",14),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"p",15),i.\u0275\u0275text(4),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(5,m,2,1,"div",7),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(t.getPreText(t.tripHistoryData.trip.fromLocation.fullName)),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(t.getPostText(t.tripHistoryData.trip.fromLocation.fullName)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",t.tripHistoryData.trip.fromLocation)}}function y(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"li",17),i.\u0275\u0275element(1,"tni-icon",11),i.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("iconClasses","xs")("iconTitle",t)("iconName",t)("iconAriaHidden",!1)}}function _(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275template(1,y,2,4,"li",16),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.modeIcons(t.tripHistoryData.trip.toLocation))}}function v(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"p",18),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"p",19),i.\u0275\u0275text(4),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(5,_,2,1,"div",7),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(t.getPreText(t.tripHistoryData.trip.toLocation.fullName)),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(t.getPostText(t.tripHistoryData.trip.toLocation.fullName)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",t.tripHistoryData.trip.toLocation)}}class b{constructor(t,e,n,r,i,o){this.modeSortPipe=t,this.iconService=e,this.stateStore=n,this.router=r,this.route=i,this.trackTripPlannerEventService=o}getPreText(t){return"$UNKNOWN_POINT$"===t?"Location from map":-1===t.indexOf(",")?t:t.substr(0,t.indexOf(","))}getPostText(t){return"$UNKNOWN_POINT$"===t?"Location from map":-1===t.indexOf(",")?"":t.substr(t.indexOf(",")+1,t.length)}modeIcons(t){let e;const n=t.motTypes;return n?(e=this.modeSortPipe.transform(n).map(this.iconService.getModeIcon),e.indexOf("bus")>=0&&e.indexOf("bus-school")>=0&&e.splice(e.indexOf("bus-school"),1),e):[]}toggleFav(t){this.tripHistoryData.isFav||this.trackTripPlannerEventService.trackSetFavourite("Previous trip"),t.preventDefault(),this.stateStore.dispatch(new r.AddFavTripHistoryAction({id:this.tripHistoryData.id,value:!this.tripHistoryData.isFav})),t.stopPropagation()}removeItem(t){this.stateStore.dispatch(new r.RemoveTripHistoryItemAction({id:this.tripHistoryData.id})),t.stopPropagation()}searchTrip(){this.tripHistoryData.isFav?this.trackTripPlannerEventService.trackFavouriteTripRequests():this.trackTripPlannerEventService.trackPreviousTripRequests(),"current_location"===this.tripHistoryData.trip.fromLocation.type?(this.fromLocation="current",this.toLocation=this.tripHistoryData.trip.toLocation.id):"current_location"===this.tripHistoryData.trip.toLocation.type?(this.toLocation="current",this.fromLocation=this.tripHistoryData.trip.fromLocation.id):(this.toLocation=this.tripHistoryData.trip.toLocation.id,this.fromLocation=this.tripHistoryData.trip.fromLocation.id),this.navigate()}navigate(){this.router.navigate(["/trip"],{queryParams:{from:this.fromLocation,leaving:!0,to:this.toLocation,searchAppended:!0},relativeTo:this.route})}}e.TripHistoryItemComponent=b,b.\u0275fac=function(t){return new(t||b)(i.\u0275\u0275directiveInject(o.ModeSortPipe),i.\u0275\u0275directiveInject(a.IconService),i.\u0275\u0275directiveInject(s.Store),i.\u0275\u0275directiveInject(c.Router),i.\u0275\u0275directiveInject(c.ActivatedRoute),i.\u0275\u0275directiveInject(l.TrackTripPlannerEventService))},b.\u0275cmp=i.\u0275\u0275defineComponent({type:b,selectors:[["tni-trip-history-item"]],inputs:{tripHistoryData:"tripHistoryData"},decls:16,vars:10,consts:[["tabindex","0","role","listitem",1,"history-item",3,"click","keyup.enter","keydown.space"],[1,"sr-only"],["tabindex","0","role","button","aria-label","favourite this trip","aria-hidden","false",1,"icon-wrap","favourite",3,"click","keyup.enter","keydown.space"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-unselected","iconAriaHidden","true","iconTitle","add to favourite",4,"ngIf"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-selected","iconAriaHidden","true",4,"ngIf"],[1,"history-item_from"],[1,"wrap"],[4,"ngIf"],[1,"history-item_to"],["iconClasses","tp-icon sm form-control-select-arrow","iconName","arrow-down-small","iconAriaHidden","true"],["tabindex","0","aria-hidden","false","role","button","aria-label","remove from previous trips",1,"icon-wrap",3,"click","keyup.enter"],[3,"iconClasses","iconTitle","iconName","iconAriaHidden"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-unselected","iconAriaHidden","true","iconTitle","add to favourite"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-selected","iconAriaHidden","true"],[1,"history-item_from-name"],[1,"history-item_from-location"],["class","history-item_icon",4,"ngFor","ngForOf"],[1,"history-item_icon"],[1,"history-item_to-name"],[1,"history-item_to-location"]],template:function(t,e){1&t&&(i.\u0275\u0275elementStart(0,"a",0),i.\u0275\u0275listener("click",(function(){return e.searchTrip()}))("keyup.enter",(function(t){return t.preventDefault(),t.stopPropagation(),e.searchTrip()}))("keydown.space",(function(t){return t.preventDefault(),t.stopPropagation()})),i.\u0275\u0275elementStart(1,"span",1),i.\u0275\u0275text(2,"Search previous trip"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"a",2),i.\u0275\u0275listener("click",(function(t){return e.toggleFav(t)}))("keyup.enter",(function(t){return e.toggleFav(t)}))("keydown.space",(function(t){return e.toggleFav(t)})),i.\u0275\u0275template(4,d,1,0,"tni-icon",3),i.\u0275\u0275template(5,h,1,0,"tni-icon",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(6,"div",5),i.\u0275\u0275elementStart(7,"div",6),i.\u0275\u0275template(8,g,6,3,"div",7),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(9,"div",8),i.\u0275\u0275elementStart(10,"div",6),i.\u0275\u0275elementStart(11,"a"),i.\u0275\u0275element(12,"tni-icon",9),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(13,v,6,3,"div",7),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(14,"a",10),i.\u0275\u0275listener("click",(function(t){return e.removeItem(t)}))("keyup.enter",(function(t){return e.removeItem(t)})),i.\u0275\u0275element(15,"tni-icon",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&t&&(i.\u0275\u0275attribute("aria-label","Search previous trip. From "+e.getPreText(e.tripHistoryData.trip.fromLocation.fullName)+e.getPostText(e.tripHistoryData.trip.fromLocation.fullName)+" To "+e.getPreText(e.tripHistoryData.trip.toLocation.fullName)+e.getPostText(e.tripHistoryData.trip.toLocation.fullName)),i.\u0275\u0275advance(3),i.\u0275\u0275attribute("aria-selected",e.tripHistoryData.isFav),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!e.tripHistoryData.isFav),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.tripHistoryData.isFav),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",e.tripHistoryData.trip.fromLocation),i.\u0275\u0275advance(5),i.\u0275\u0275property("ngIf",e.tripHistoryData.trip.toLocation),i.\u0275\u0275advance(2),i.\u0275\u0275property("iconClasses","xs close-link")("iconTitle","close")("iconName","close")("iconAriaHidden",!0))},directives:[u.NgIf,p.IconComponent,u.NgForOf],styles:[".history-item[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);padding:16px 12px 16px 0;margin-bottom:8px;display:flex;cursor:pointer}.history-item[_ngcontent-%COMP%], .history-item[_ngcontent-%COMP%]:hover{text-decoration:none}.history-item[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{display:flex}.history-item[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{height:12px}.history-item[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{box-shadow:none}.history-item[_ngcontent-%COMP%]     a svg.close-link{width:12px;min-width:12px;height:12px;margin-top:-10px;color:#757575}.history-item[_ngcontent-%COMP%]     .tp-icon.favourite-unselected{height:15px;width:15px;min-width:15px;fill:#979797;margin:-10px 16px 0}.history-item_from[_ngcontent-%COMP%]{width:calc(50% - 48px)}.history-item_to[_ngcontent-%COMP%]{width:calc(50% - 12px)}.history-item_icon[_ngcontent-%COMP%]{padding-left:0;padding-right:4px;display:inline-block;margin-top:8px}.history-item_from[_ngcontent-%COMP%], .history-item_to[_ngcontent-%COMP%]{font-size:14px;color:#555;display:flex}.history-item_from-name[_ngcontent-%COMP%], .history-item_to-name[_ngcontent-%COMP%]{font-weight:500;margin:0;padding-bottom:8px}.history-item_from-location[_ngcontent-%COMP%], .history-item_to-location[_ngcontent-%COMP%]{min-height:18px;margin:0}.history-item_from[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .history-item_to[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.history-item_from[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .history-item_to[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0;margin:0;line-height:18px}.history-item_from[_ngcontent-%COMP%]     .form-control-select-arrow, .history-item_to[_ngcontent-%COMP%]     .form-control-select-arrow{transform:rotate(-90deg);margin-top:-4px;color:#555;margin-right:8px}.history-item_from[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .history-item_to[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;box-shadow:none}a.history-item[_ngcontent-%COMP%]:hover{text-decoration:none;box-shadow:0 1px .3em rgba(0,0,0,.3)}.history-item_from-location[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .history-item_from-location[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .history-item_from-name[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .history-item_from-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .history-item_to-location[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .history-item_to-location[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .history-item_to-name[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .history-item_to-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]})},GHDV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureStopRequest=void 0;const r=n("IheW"),i=n("08lQ");e.DepartureStopRequest=class{constructor(t={},e){this.url="/api/trip/v1/find-by-departure-stop-request",this.getCacheKey=t=>this.url+this.getRequestOptions(t).params.toString(),this.resMapFn=t=>t.isSFLocation?t.locations.map(t=>t instanceof i.Location?t:i.Location.fromStopFinder(t)):this.recentLocations.filter(e=>t.locations.some(t=>t.id===e.id)),this.options=t,this.recentLocations=e}getRequestOptions(t){let e=(new r.HttpParams).set("minCharsForSearch","3").set("stopId",this.options.stopId).set("TfNSWSFStopsOnly","true");return e=""!==t?e.append("searchString",t).append("forceSearchWithEmptyString","false"):e.append("forceSearchWithEmptyString","true"),{params:e}}}},GS7A:function(t,e,n){"use strict";n.r(e),n.d(e,"AUTO_STYLE",(function(){return o})),n.d(e,"AnimationBuilder",(function(){return r})),n.d(e,"AnimationFactory",(function(){return i})),n.d(e,"NoopAnimationPlayer",(function(){return b})),n.d(e,"animate",(function(){return s})),n.d(e,"animateChild",(function(){return m})),n.d(e,"animation",(function(){return f})),n.d(e,"group",(function(){return c})),n.d(e,"keyframes",(function(){return d})),n.d(e,"query",(function(){return y})),n.d(e,"sequence",(function(){return l})),n.d(e,"stagger",(function(){return _})),n.d(e,"state",(function(){return p})),n.d(e,"style",(function(){return u})),n.d(e,"transition",(function(){return h})),n.d(e,"trigger",(function(){return a})),n.d(e,"useAnimation",(function(){return g})),n.d(e,"\u0275AnimationGroupPlayer",(function(){return M})),n.d(e,"\u0275PRE_STYLE",(function(){return x}));class r{}class i{}const o="*";function a(t,e){return{type:7,name:t,definitions:e,options:{}}}function s(t,e=null){return{type:4,styles:e,timings:t}}function c(t,e=null){return{type:3,steps:t,options:e}}function l(t,e=null){return{type:2,steps:t,options:e}}function u(t){return{type:6,styles:t,offset:null}}function p(t,e,n){return{type:0,name:t,styles:e,options:n}}function d(t){return{type:5,steps:t}}function h(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function f(t,e=null){return{type:8,animation:t,options:e}}function m(t=null){return{type:9,options:t}}function g(t,e=null){return{type:10,animation:t,options:e}}function y(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function _(t,e){return{type:12,timings:t,animation:e}}function v(t){Promise.resolve(null).then(t)}class b{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){v(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class M{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?v(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const x="!"},"GT7+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureModeNameComponent=void 0;const r=n("8Y7J");class i{constructor(){}ngOnInit(){}}e.DepartureModeNameComponent=i,i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["tni-departure-mode-name"]],inputs:{transportation:"transportation"},decls:2,vars:6,consts:[[1,"mode-transport"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"span",0),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275styleProp("background",e.transportation.colour.foreground||"#000000")("color",e.transportation.colour.text||"#ffffff"),r.\u0275\u0275attribute("aria-label",e.transportation.name),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.transportation.disassembledName))},styles:[".mode-transport[_ngcontent-%COMP%]{border-radius:3px;font-size:12px;font-weight:500;padding:0 5px;letter-spacing:.16px;line-height:20px;height:20px;display:inline-block;vertical-align:middle;color:#fff}"]})},GYBK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageComponent=void 0;const r=n("iFc6"),i=n("8Y7J"),o=n("SVse");class a{constructor(){this.imageId="image-"+ ++a.iconCounter}getImagePath(){return`${r.TniConstant.STATIC_ASSETS_BASE}/images/${this.imageName}`}}e.ImageComponent=a,a.iconCounter=0,a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=i.\u0275\u0275defineComponent({type:a,selectors:[["tni-image"]],inputs:{imageName:"imageName",imageTitle:"imageTitle",imageClasses:"imageClasses",imageAriaHidden:"imageAriaHidden",imageHidden:"imageHidden"},decls:1,vars:5,consts:[["role","img",3,"ngClass","title","src"]],template:function(t,e){1&t&&i.\u0275\u0275element(0,"img",0),2&t&&(i.\u0275\u0275property("ngClass",e.imageClasses)("title",e.imageTitle)("src",e.getImagePath(),i.\u0275\u0275sanitizeUrl),i.\u0275\u0275attribute("aria-labelledby",e.imageId)("aria-hidden",!!e.imageAriaHidden))},directives:[o.NgClass],encapsulation:2})},Gi4w:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new o(t,e,n))}class o{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))}}class a extends r.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}},GyhO:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("LRne"),i=n("0EUg");function o(...t){return Object(i.a)()(Object(r.a)(...t))}},H8ED:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===n?e?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":t+" "+(r=+t,i={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:e?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}t.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:e,mm:e,h:e,hh:e,d:"\u0434\u0437\u0435\u043d\u044c",dd:e,M:"\u043c\u0435\u0441\u044f\u0446",MM:e,y:"\u0433\u043e\u0434",yy:e},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u044b":t<12?"\u0440\u0430\u043d\u0456\u0446\u044b":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-\u044b":t+"-\u0456";case"D":return t+"-\u0433\u0430";default:return t}},week:{dow:1,doy:7}})}(n("wd/R"))},HAZR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeNameComponent=void 0;const r=n("8Y7J");class i{}e.ModeNameComponent=i,i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["tni-mode-name"]],inputs:{transportation:"transportation"},decls:2,vars:6,consts:[[1,"mode-transport"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"span",0),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275styleProp("background",e.transportation.colour.foreground||"#000000")("color",e.transportation.colour.text||"#ffffff"),r.\u0275\u0275attribute("aria-label"," route number "+e.transportation.routeNumber),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.transportation.routeNumber))},styles:[".mode-transport[_ngcontent-%COMP%]{border-radius:3px;font-size:12px;font-weight:500;padding:0 5px;letter-spacing:.16px;line-height:18px;height:18px;display:inline-block;vertical-align:middle;color:#fff}"]})},"HB/O":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapBoundsService=void 0;const r=n("4ZJM"),i=n("8Y7J");class o{contains(t,e){const n=e[0],r=e[1],i=t[1][0],o=t[0][0];let a;return a=t[1][0]<t[0][0]?n<=i||n>=o:n<=i&&n>=o,a&&r>=t[0][1]&&r<=t[1][1]}calculateBoundsFromLayers(t){if(t&&t.length>0){const e=t[0].source.data.features[0].geometry.coordinates[0],n=new r.LngLatBounds(e,e);return t.forEach(t=>{t.source.data.features.forEach(t=>{t.geometry.coordinates.forEach(t=>{n.extend(t)})})}),n}}}e.MapBoundsService=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=i.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("8Qeq"),i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),c=n("mCNh"),l=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=p(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(c.b)(t)(this)}toPromise(t){return new(t=p(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function p(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HP3h:function(t,e,n){!function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},i=function(t){return function(e,i,o,a){var s=n(e),c=r[t][n(e)];return 2===s&&(c=c[i?0:1]),c.replace(/%d/i,e)}},o=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];t.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n("wd/R"))},HaJo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripResultWalkComponent=void 0;const r=n("p7t/"),i=n("6phY"),o=n("RNDk"),a=n("EiLY"),s=n("8Y7J"),c=n("tqRt"),l=n("VS5s"),u=n("7rOj"),p=n("WMlU"),d=n("0njA"),h=n("cEli");class f{constructor(t,e,n,r){this.stateStore=t,this.trackTripPlannerEventService=e,this.distancePipe=n,this.durationPipe=r,this.expanded=!1}ngOnInit(){this.walkLeg=this.journey.legs[0],this.expanded=!0,this.stateStore.dispatch(new a.SelectJourneyAction({trip:this.journey})),this.duration=this.durationPipe.transform(this.updateDurationBasedOnSpeed(2)),this.distance=this.distancePipe.transform(this.walkLeg.distance),this.stateStore.select(i.getWalkSpeed).subscribe(t=>{this.duration=this.durationPipe.transform(this.updateDurationBasedOnSpeed(t))})}onToggleCard(t){this.expanded=t,this.expanded&&this.stateStore.dispatch(new a.SelectJourneyAction({trip:this.journey}))}updateDurationBasedOnSpeed(t){return r.SpeedCalculationService.updateDurationBasedOnSpeed(this.walkLeg.distance,t)}switchToMapView(t){this.trackTripPlannerEventService.trackViewResultsOnMapForMobile(),t.stopPropagation(),this.stateStore.dispatch(new o.MapTripAction({trip:this.journey})),this.stateStore.dispatch(new o.MapTripLegAction({mapLeg:{leg:this.journey.legs[0],index:0}})),this.stateStore.dispatch(new a.SwitchAppViewAction({mobileMapView:!0,index:void 0}))}}e.TripResultWalkComponent=f,f.\u0275fac=function(t){return new(t||f)(s.\u0275\u0275directiveInject(c.Store),s.\u0275\u0275directiveInject(l.TrackTripPlannerEventService),s.\u0275\u0275directiveInject(u.DistancePipe),s.\u0275\u0275directiveInject(u.DurationPipe))},f.\u0275cmp=s.\u0275\u0275defineComponent({type:f,selectors:[["tni-trip-result-walk"]],inputs:{journey:"journey",index:"index"},decls:27,vars:13,consts:[[1,"card-wrapper","walk-result"],[1,"trip-card",3,"expanded","index","type","toggle"],["card-header",""],[1,"row","summary-header"],[1,"col-md-12","col-xs-12"],["iconName","walk","iconClasses","xs tp_walk",3,"iconAriaHidden"],[1,"summary-header__title"],["card-body",""],[1,"row"],[1,"col-md-12","col-xs-12","card-content"],[3,"leg","showWalkDriveInstructions","showFromStopNameLabel","showTo","legIndex","hideTimes"],["card-footer",""],[1,"summary-footer","row"],[1,"col-xs-9","col-md-12"],[1,"duration"],[1,"col-xs-3"],["role","button","tabindex","0",1,"map-link",3,"click"],["iconClasses","tp-icon sm","iconName","map",3,"iconAriaHidden"],["title","Open map view","aria-label","Open map view"]],template:function(t,e){1&t&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275elementStart(1,"tni-collapsible-card",1),s.\u0275\u0275listener("toggle",(function(t){return e.onToggleCard(t)})),s.\u0275\u0275elementStart(2,"div",2),s.\u0275\u0275elementStart(3,"div",3),s.\u0275\u0275elementStart(4,"div",4),s.\u0275\u0275element(5,"tni-icon",5),s.\u0275\u0275elementStart(6,"span",6),s.\u0275\u0275text(7,"Walk"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(8,"div",7),s.\u0275\u0275elementStart(9,"div",8),s.\u0275\u0275elementStart(10,"div",9),s.\u0275\u0275element(11,"tni-it-leg",10),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(12,"div",11),s.\u0275\u0275elementStart(13,"div",12),s.\u0275\u0275elementStart(14,"div",13),s.\u0275\u0275elementStart(15,"span"),s.\u0275\u0275text(16,"Approx "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(17,"span",14),s.\u0275\u0275text(18),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(19,"span"),s.\u0275\u0275text(20),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(21,"div",15),s.\u0275\u0275elementStart(22,"div"),s.\u0275\u0275elementStart(23,"span",16),s.\u0275\u0275listener("click",(function(t){return e.switchToMapView(t)})),s.\u0275\u0275element(24,"tni-icon",17),s.\u0275\u0275elementStart(25,"span",18),s.\u0275\u0275text(26,"Map"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&t&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("expanded",e.expanded)("index",e.index)("type","walk"),s.\u0275\u0275advance(4),s.\u0275\u0275property("iconAriaHidden",!0),s.\u0275\u0275advance(6),s.\u0275\u0275property("leg",e.walkLeg)("showWalkDriveInstructions",!1)("showFromStopNameLabel",!0)("showTo",!0)("legIndex",e.index)("hideTimes",!0),s.\u0275\u0275advance(7),s.\u0275\u0275textInterpolate1("",e.duration," "),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(e.distance),s.\u0275\u0275advance(4),s.\u0275\u0275property("iconAriaHidden",!0))},directives:[p.TniCollapsibleCardComponent,d.IconComponent,h.ItLegComponent],styles:[".walk-result[_ngcontent-%COMP%]{color:#373636;font-size:14px}.walk-result[_ngcontent-%COMP%]   .trip-card[_ngcontent-%COMP%]{margin-bottom:15px}.walk-result[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]{margin-bottom:8px}.walk-result[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{padding:16px;font-weight:500;letter-spacing:.13px;color:#373636}.walk-result[_ngcontent-%COMP%]   .summary-header__title[_ngcontent-%COMP%]{color:#171717;font-weight:500;line-height:16px;font-size:15px;padding-left:5px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.walk-result[_ngcontent-%COMP%]   .summary-header__title[_ngcontent-%COMP%]{font-size:13px}}.walk-result[_ngcontent-%COMP%]   .summary-footer[_ngcontent-%COMP%]{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;padding:10px 16px 13px}.walk-result[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 16px}.walk-result[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:none;cursor:pointer;text-decoration:underline;font-size:12px;color:#1d69b4;right:-5px;position:absolute}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.walk-result[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:block}}.walk-result[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]     svg{color:#555}@media print{.walk-result[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:none}}.walk-result[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{font-weight:400}  .it-leg-to__label{font-weight:500;font-size:15px;color:#171717}  .tp_walk{margin-bottom:5px}"]})},HcUK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapMarkupUtil=void 0;const r=n("iFc6"),i=n("/fmw"),o=n("8Y7J");class a{buildTpIcon(t,e){return`<svg class="${t}">\x3c!-- --\x3e<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="${e}"></use>\x3c!-- --\x3e</svg>`}buildIcon(t,e){return e?`<div class="${t}" >${e}</div>`:`<div class="${t}" ></div>`}buildModeIcon(t,e,n,i){return i?`\n      <style>\n      .pulsing-border-marker-mode-transport{\n        position: relative;\n        border: 4px solid ${t}90;\n        border-radius: 3px;\n        animation: mapboxgl-vehicle-position-pulse 2s infinite;\n      }\n      .realtime-vehicle-marker-direction {\n        position: absolute;\n        ${this.getDirectionPositionBottom(i)};\n        transform: rotate(${i}deg)\n      }\n      </style>\n      <div class="pulsing-border-marker-mode-transport">\n        <span style="background: ${t}; color: ${e}" class="marker-mode-transport">${n}</span>\n      </div>\n    \n      ${this.buildTpIcon("tp-icon marker lg realtime-vehicle-marker-direction",r.TniConstant.ICON_PATH+"#tp_direction_up_arrow")}\n      `:`\n      <style>\n      .pulsing-border-marker-mode-transport{\n        position: relative;\n        border: 4px solid ${t}90;\n        border-radius: 3px;\n        animation: mapboxgl-vehicle-position-pulse 2s infinite;\n      }\n      </style>\n      <div class="pulsing-border-marker-mode-transport">\n        <span style="background: ${t}; color: ${e}" class="marker-mode-transport">${n}</span>\n      </div>\n      `}getDirectionPositionBottom(t){return t<=45?`top: ${t/45*5-35}px;\n              left: calc(${5+t/45*70}%);`:t<=90?`top: ${(t-45)/45*15-17}px;\n              left: calc(90%);`:t<=135?`top: ${(t-45)/45*13}px;\n              left: calc(75%);`:t<=180?`top: 30px;\n              left: calc(${5+(180-t)/45*55}%);`:t<=225?`top: 25px;\n              left: calc(${5-(t-180)/45*105}%);`:t<=270?`top: ${(20*(270-t)-2)/45}px;\n              left: calc(-80%);`:t<=315?`top: ${15-45*(t-270)/45}px;\n              left: calc(-75%);`:`top: -35px;\n              left: calc(${(t-315)/45*50-52}%);`}buildPulsingRealtimeIndicator(t){const e=t===i.OccupancyLevel.LOW?"#31a50e":t===i.OccupancyLevel.MEDIUM?"#dc7a13":t===i.OccupancyLevel.FULL?"#af1919":"";return`<div class="pulse-icon">\n         <div class="elements">\n           <div class="pulse pulse-1" style="border-top-color: ${e}; "></div>\n           <div class="pulse pulse-2" style="border-top-color: ${e}; "></div>\n        </div></div>`}buildCapacityIndicator(t,e){const n=`<span class="xs occupancy">${this.buildTpIcon("tp-icon xs occupancy",r.TniConstant.ICON_PATH+"#tp_occupancy")}</span>\n  <span class="xs occupancy ${t<2?"un-fill":""}">${this.buildTpIcon("tp-icon xs occupancy",r.TniConstant.ICON_PATH+"#tp_occupancy")}</span>\n  <span class="xs occupancy ${t<3?"un-fill":""}">${this.buildTpIcon("tp-icon xs occupancy",r.TniConstant.ICON_PATH+"#tp_occupancy")}</span>`;return-1!==t?`<div class="occupancy-indicator"> <div class="occupancy-indicator__icon ${e}" >${n}</div></div>`:""}getCurrentLocationPopupLinks(t,e){return[{name:"From here",linkCallback:t,icon:"from"},{name:"To here",linkCallback:e,icon:"to"}]}getOpalRetailerPopupLinks(t,e,n){return[...t?[{name:t,linkCallback:n,icon:"tel"}]:[],...e?[{name:"Plan a trip",linkCallback:e,icon:"show_directions"}]:[]]}removeCompassControl(){const t=document.getElementsByClassName("mapboxgl-ctrl-compass");t.length>0&&t[0].remove()}addMapboxCopyRightControls(){const t=document.getElementsByClassName("mapboxgl-ctrl-attrib-inner").length>0?document.getElementsByClassName("mapboxgl-ctrl-attrib-inner"):document.getElementsByClassName("mapboxgl-ctrl-attrib"),e=document.createElement("a");e.setAttribute("href","/about-us/map-copyright"),e.setAttribute("target","_blank"),e.setAttribute("class","map-copyright"),e.innerHTML="&copy; Map copyright | ",t&&t.length>0&&0===document.getElementsByClassName("map-copyright").length&&t[0].insertBefore(e,t[0].firstChild)}}e.MapMarkupUtil=a,a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})},Hrlu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocationService=void 0;const r=n("qCKp"),i=n("kU1M"),o=n("DoVa"),a=n("yh6M"),s=n("8Y7J"),c=n("MbAS");class l{constructor(t){this.locationFinderService=t,this.POSITION_OPTIONS_DEFAULT={enableHighAccuracy:!0,timeout:2e4}}getCurrentPosition(t=this.POSITION_OPTIONS_DEFAULT){return new r.Observable(e=>{navigator.geolocation.getCurrentPosition(t=>{e.next(t),e.complete()},t=>{e.error(t)},t)})}getCurrentLocation(){return this.getCurrentPosition().pipe(i.catchError(t=>{switch(t.code){case t.PERMISSION_DENIED:return r.throwError({message:l.ERROR_MSG_ENABLE_LOCATION_SERVICES});default:return r.throwError({message:l.ERROR_MSG_CURR_LOCATION_FORM})}}),i.switchMap(t=>{if(o.GeoHelper.isInNSWOrACT([t.coords.latitude,t.coords.longitude]))return this.locationFinderService.search(`coord:${t.coords.longitude}:${t.coords.latitude}:WGS84[dd.ddddd]`,new a.StopFinderRequest).pipe(i.last(),i.catchError(()=>r.throwError({message:l.ERROR_MSG_CURR_LOCATION_FORM})));throw{message:l.ERROR_MSG_CURR_LOCATION_FORM}}))}}e.LocationService=l,l.ERROR_MSG_ENABLE_LOCATION_SERVICES="Accessing your current location was denied. Please enable location services.",l.ERROR_MSG_CURR_LOCATION_FORM="We are unable to accurately determine your position. Please enter your location.",l.\u0275fac=function(t){return new(t||l)(s.\u0275\u0275inject(c.LocationFinderService))},l.\u0275prov=s.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac})},"Ht+U":function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return g})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return s})),n.d(e,"m",(function(){return i})),n.d(e,"n",(function(){return p})),n.d(e,"o",(function(){return _})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return v}));const r=8,i=9,o=13,a=27,s=32,c=35,l=36,u=37,p=38,d=39,h=40,f=46,m=48,g=57,y=65,_=90;function v(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}},Ht1M:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocationDescriptionPipe=void 0;const r=n("8Y7J");class i{transform(t,e){if(!t)return null;const n=e.toLowerCase();return t.filter(t=>t.description().toLowerCase().startsWith(n)||t.description().toLowerCase().split(" ").some(t=>t.toLowerCase().startsWith(n)))}}e.LocationDescriptionPipe=i,i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=r.\u0275\u0275definePipe({name:"locationDescriptionPipe",type:i,pure:!0})},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IBtZ:function(t,e,n){!function(t){"use strict";t.defineLocale("ka",{months:{standalone:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),format:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_")},monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(t)?t.replace(/\u10d8$/,"\u10e8\u10d8"):t+"\u10e8\u10d8"},past:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(t)?t.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(t)?t.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):void 0},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(t){return 0===t?t:1===t?t+"-\u10da\u10d8":t<20||t<=100&&t%20==0||t%100==0?"\u10db\u10d4-"+t:t+"-\u10d4"},week:{dow:1,doy:7}})}(n("wd/R"))},IRuf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesComponent=void 0;const r=n("qCKp"),i=n("f0Wu"),o=n("Y7PD"),a=n("kU1M"),s=n("KQMD"),c=n("xeYu"),l=n("RNDk"),u=n("EiLY"),p=n("qoZc"),d=n("8Y7J"),h=n("tqRt"),f=n("87t5"),m=n("iInd"),g=n("VS5s"),y=n("cUpR"),_=n("ahfq"),v=n("SVse"),b=n("nIQE"),M=n("+yMT"),x=n("hK0D"),w=n("nu6g"),C=n("d39G"),S=n("0ile"),E=["search"];function T(t,e){if(1&t){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275elementStart(1,"tni-departures-skeleton-loader",9),d.\u0275\u0275listener("clear",(function(){return d.\u0275\u0275restoreView(t),d.\u0275\u0275nextContext(2).clearDepartures()})),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}}const O=function(t){return{hidden:t}};function A(t,e){if(1&t){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275elementStart(1,"tni-departure-results",13),d.\u0275\u0275listener("activeDeparture",(function(e){return d.\u0275\u0275restoreView(t),d.\u0275\u0275nextContext(3).setActiveDeparture(e)}))("clearDeparture",(function(){return d.\u0275\u0275restoreView(t),d.\u0275\u0275nextContext(3).clearDepartures()})),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&t){const t=d.\u0275\u0275nextContext(2).ngIf,e=d.\u0275\u0275reference(3);d.\u0275\u0275advance(1),d.\u0275\u0275property("departureResults",t.departures)("ngClass",d.\u0275\u0275pureFunction1(3,O,"preferences-tab"===e.activeTab))("destStopFilter",t.departureReq.destStopFilter)}}function P(t,e){if(1&t){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",14),d.\u0275\u0275elementStart(1,"button",15),d.\u0275\u0275listener("click",(function(){return d.\u0275\u0275restoreView(t),d.\u0275\u0275nextContext(3).clearDepartures()})),d.\u0275\u0275text(2," Clear "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}}function L(t,e){1&t&&(d.\u0275\u0275elementStart(0,"div",16),d.\u0275\u0275elementStart(1,"p",17),d.\u0275\u0275text(2," No results found. Adjust your leaving date or any filters applied. "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"div",18),d.\u0275\u0275text(4,"No results found"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"div",19),d.\u0275\u0275text(6,"Adjust your leaving date or any filters applied."),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd())}function k(t,e){if(1&t&&(d.\u0275\u0275elementStart(0,"div",10),d.\u0275\u0275template(1,A,2,5,"div",1),d.\u0275\u0275template(2,P,3,0,"div",11),d.\u0275\u0275template(3,L,7,0,"div",12),d.\u0275\u0275elementEnd()),2&t){const t=d.\u0275\u0275nextContext().ngIf,e=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",null==t.departures?null:t.departures.length),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.formValid&&0===(null==t.departures?null:t.departures.length)||t.depDetails.hasError),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!t.depDetails.hasError&&e.formValid&&0===(null==t.departures?null:t.departures.length))}}function I(t,e){if(1&t){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"tni-departure-error",20),d.\u0275\u0275listener("tryAgain",(function(){return d.\u0275\u0275restoreView(t),d.\u0275\u0275nextContext(2).tryAgainAfterError()}))("clear",(function(){return d.\u0275\u0275restoreView(t),d.\u0275\u0275nextContext(2).clearDepartures()})),d.\u0275\u0275elementEnd()}if(2&t){const t=d.\u0275\u0275nextContext().ngIf;d.\u0275\u0275property("errorMessage",t.depDetails.errorMessage)}}function D(t,e){if(1&t&&(d.\u0275\u0275elementStart(0,"div",21),d.\u0275\u0275element(1,"tni-departures-history-list",22),d.\u0275\u0275elementEnd()),2&t){d.\u0275\u0275nextContext();const t=d.\u0275\u0275reference(3);d.\u0275\u0275advance(1),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(1,O,"preferences-tab"===t.activeTab))}}function N(t,e){if(1&t){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275elementStart(1,"div",2),d.\u0275\u0275elementStart(2,"tni-departures-form",3,4),d.\u0275\u0275listener("sendDeparturesData",(function(e){return d.\u0275\u0275restoreView(t),d.\u0275\u0275nextContext().sendDeparturesData(e)})),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(4,T,2,0,"div",1),d.\u0275\u0275template(5,k,4,3,"div",5),d.\u0275\u0275elementStart(6,"div"),d.\u0275\u0275template(7,I,1,1,"tni-departure-error",6),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(8,D,2,3,"div",7),d.\u0275\u0275element(9,"tni-departure-favourite-toast",8),d.\u0275\u0275elementContainerEnd()}if(2&t){const t=e.ngIf,n=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("hasResults",null==t.departures?null:t.departures.length)("hideMapLink",!0)("showSearchFooter",n.formValid),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.loading),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!t.loading),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.depDetails.hasError),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!t.depDetails.hasError&&!n.formValid&&!t.loading)}}const R=function(t,e,n,r,i){return{departures:t,loading:e,showNewSearchBtn:n,departureReq:r,depDetails:i}};class z{constructor(t,e,n,r,i,o){this.store=t,this.mapConfigService=e,this.route=n,this.trackTripPlannerEventService=r,this.titleService=i,this.router=o,this.formValid=!1,this.hasToLocation=!1,this.hasFromLocation=!1,this.showNewSearchBtnMapper=([t,e,n])=>t&&Array.isArray(t.data)&&t.data.length>0&&e&&Array.isArray(n)&&0===n.length}getTime(t){return i(t).format("MMMM Do YYYY, h:mm:ss a")}sendDeparturesData(t){this.departures=t}ngOnInit(){this.titleService.setTitle("Departures | transportnsw.info"),this.trackTripPlannerEventService.trackPageLoadOnDeparturesTab(),this._clearMapLayers(),this.departures$=this.store.select(c.selectDepartures),this.isLoading$=this.store.select(c.departuresIsLoading),this.departureReq$=this.store.select(c.selectDepartureReq),this.depDetails$=this.store.select(c.selectDeparturesFeature),r.combineLatest([this.departureReq$,this.departures$]).subscribe(([t,e])=>{this.departureReq=t,this.departureResponse=e}),this.showNewSearchBtn$=r.combineLatest([this.store.select(o.DepartureHistorySelector),this.store.select(c.showBtnSelector),this.departures$]).pipe(a.map(this.showNewSearchBtnMapper)),this.subscription=this.store.select(c.selectDeparturesFeature).subscribe(t=>{this.formValid=t.departuresForm&&t.departuresForm.isFromLocationValid(),this.departureForm=t.departuresForm}),this.route.queryParams.subscribe(t=>{this.hasToLocation=!!t.arrive,this.hasFromLocation=!!t.depart})}ngAfterViewInit(){this.mapConfigService.showMapOptions(!0,p.MapSource.Departures)}clearDepartures(){this.formValid=!1,this._clearFormFields(),this._resetUrl(),this.store.dispatch(new s.ClearDeparturesAction({showNewSearchBtn:!1,isUserClearedDep:!0})),this.store.dispatch(new s.DeparturesStopRefreshAction)}setActiveDeparture(t){this.departureReq&&this.departureResponse&&t>-1&&(this.store.dispatch(new s.SelectDepartureAction({departure:this.departureResponse[t],index:t})),this.store.dispatch(new s.DeparturesDetailAction({departureReq:this.departureReq,departure:this.departureResponse[t],isRefresh:!1})))}tryAgainAfterError(){const t=new s.SearchDeparturesAction({departuresRequest:this.departureReq,departuresForm:this.departureForm,isRefresh:!1,selectedIndex:0,refreshDepartures:[]});this.store.dispatch(t)}_clearMapLayers(){this.store.dispatch(new l.MapDeparturesAction(null)),this.store.dispatch(new u.CurrentLocationAction({coords:null})),this.store.dispatch(new l.MapTripAction({trip:null})),this.store.dispatch(new l.MapTripLegAction({mapLeg:null})),this.store.dispatch(new s.DeparturesStopRefreshAction)}_clearFormFields(){this.departuresFormComponent.departures.toText="",this.departuresFormComponent.departures.toLocation=null,this.departuresFormComponent.departures.fromText="",this.departuresFormComponent.departures.fromLocation=null}_resetUrl(){this.router.navigate(["/departures"])}ngOnDestroy(){this._clearMapLayers(),this.subscription.unsubscribe()}}e.DeparturesComponent=z,z.\u0275fac=function(t){return new(t||z)(d.\u0275\u0275directiveInject(h.Store),d.\u0275\u0275directiveInject(f.MapConfigService),d.\u0275\u0275directiveInject(m.ActivatedRoute),d.\u0275\u0275directiveInject(g.TrackTripPlannerEventService),d.\u0275\u0275directiveInject(y.Title),d.\u0275\u0275directiveInject(m.Router))},z.\u0275cmp=d.\u0275\u0275defineComponent({type:z,selectors:[["tni-departures"]],viewQuery:function(t,e){var n;1&t&&d.\u0275\u0275viewQuery(E,!0),2&t&&d.\u0275\u0275queryRefresh(n=d.\u0275\u0275loadQuery())&&(e.departuresFormComponent=n.first)},decls:7,vars:17,consts:[["id","tni-trip-nav-tabs",1,"tni-trip-nav-tabs"],[4,"ngIf"],[1,"search"],[3,"hasResults","hideMapLink","showSearchFooter","sendDeparturesData"],["search",""],["class","results",4,"ngIf"],["class","departure-error",3,"errorMessage","tryAgain","clear",4,"ngIf"],["class","history",4,"ngIf"],[1,"col-md-4","col-sm-5","col-xs-12"],[3,"clear"],[1,"results"],["class","buttons",4,"ngIf"],["class","no-results",4,"ngIf"],[3,"departureResults","ngClass","destStopFilter","activeDeparture","clearDeparture"],[1,"buttons"],["aria-label","Clear and start over",1,"result-actions-clear",3,"click"],[1,"no-results"],["role","alert","aria-live","polite","aria-atomic","true",1,"sr-only"],["aria-disabled","true",1,"no-results-heading"],["aria-disabled","true",1,"no-results-message"],[1,"departure-error",3,"errorMessage","tryAgain","clear"],[1,"history"],[3,"ngClass"]],template:function(t,e){1&t&&(d.\u0275\u0275element(0,"tni-trip-nav-tabs",0),d.\u0275\u0275template(1,N,10,7,"ng-container",1),d.\u0275\u0275pipe(2,"async"),d.\u0275\u0275pipe(3,"async"),d.\u0275\u0275pipe(4,"async"),d.\u0275\u0275pipe(5,"async"),d.\u0275\u0275pipe(6,"async")),2&t&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",d.\u0275\u0275pureFunction5(11,R,d.\u0275\u0275pipeBind1(2,1,e.departures$),d.\u0275\u0275pipeBind1(3,3,e.isLoading$),d.\u0275\u0275pipeBind1(4,5,e.showNewSearchBtn$),d.\u0275\u0275pipeBind1(5,7,e.departureReq$),d.\u0275\u0275pipeBind1(6,9,e.depDetails$))))},directives:[_.TripNavTabsComponent,v.NgIf,b.DeparturesFormComponent,M.DepartureFavouriteToastComponent,x.DeparturesSkeletonLoaderComponent,w.DepartureResultsComponent,v.NgClass,C.DepartureErrorComponent,S.DeparturesHistoryListComponent],pipes:[v.AsyncPipe],styles:["tni-departure-results[_ngcontent-%COMP%]{display:block;padding:8px 8px 0}.no-results[_ngcontent-%COMP%]{margin-top:50px;text-align:center;color:#555;font-size:14px;letter-spacing:.4px}.no-results-heading[_ngcontent-%COMP%]{font-weight:500;line-height:18px;padding-bottom:15px}.no-results-message[_ngcontent-%COMP%]{line-height:16px;width:200px;margin-right:auto;margin-left:auto;margin-bottom:185px}.departure-error[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;min-height:40vh;position:relative}.buttons[_ngcontent-%COMP%]{padding:0 8px 16px;overflow:hidden;margin-top:16px}.buttons[_ngcontent-%COMP%]   .result-actions-clear[_ngcontent-%COMP%]{font-size:13px;color:#555;line-height:20px;height:32px;width:58px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff;float:right;margin-right:1px}tni-departure-favourite-toast[_ngcontent-%COMP%]{z-index:100}"]})},ITNc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesHistoryItemComponent=void 0;const r=n("KQMD"),i=n("5MJQ"),o=n("8Y7J"),a=n("KJxU"),s=n("Y7wX"),c=n("tqRt"),l=n("iInd"),u=n("VS5s"),p=n("SVse"),d=n("0njA"),h=["fromName"];function f(t,e){1&t&&o.\u0275\u0275element(0,"tni-icon",13)}function m(t,e){1&t&&o.\u0275\u0275element(0,"tni-icon",14)}function g(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"li",18),o.\u0275\u0275element(1,"tni-icon",11),o.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("iconClasses","xs")("iconTitle",t)("iconName",t)("iconAriaHidden",!0)}}function y(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,g,2,4,"li",17),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",t.modeIcons(t.data.departure.fromLocation))}}function _(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"p",15),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"p",16),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,y,2,1,"div",7),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(t.getPreText(t.data.departure.fromLocation.fullName)),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(t.getPostText(t.data.departure.fromLocation.fullName)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.data.departure.fromLocation)}}function v(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"a"),o.\u0275\u0275element(2,"tni-icon",19),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function b(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"li",18),o.\u0275\u0275element(1,"tni-icon",11),o.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("iconClasses","xs")("iconTitle",t)("iconName",t)("iconAriaHidden",!1)}}function M(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,b,2,4,"li",17),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",t.modeIcons(t.data.departure.toLocation))}}function x(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"p",20),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"p",21),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,M,2,1,"div",7),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(t.getPreText(t.data.departure.toLocation.fullName)),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(t.getPostText(t.data.departure.toLocation.fullName)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.data.departure.toLocation)}}function w(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",22),o.\u0275\u0275element(1,"tni-icon",23),o.\u0275\u0275elementEnd())}class C{constructor(t,e,n,r,o){this.modeSortPipe=t,this.iconService=e,this.stateStore=n,this.router=r,this.trackTripPlannerEventService=o,this.departuresPreferenceGroup=i.DeparturesPreferenceGroup}set depHistoryData(t){this.data=t,this.isAccessible=t.isAccessible&&"true"===t.isAccessible?". Accessible services only":""}ngAfterContentChecked(){var t,e;this.isFromInTwoLines=(null===(e=null===(t=this.fromName)||void 0===t?void 0:t.nativeElement)||void 0===e?void 0:e.offsetHeight)>50?"step-two-lines":"step-line"}getPreText(t){return"$UNKNOWN_POINT$"===t?"Location from map":-1===t.indexOf(",")?t:t.substr(0,t.indexOf(","))}getPostText(t){return"$UNKNOWN_POINT$"===t?"Location from map":-1===t.indexOf(",")?"":t.substr(t.indexOf(",")+1,t.length)}modeIcons(t){let e;const n=t.motTypes;return n?(e=this.modeSortPipe.transform(n).map(this.iconService.getModeIcon),e.indexOf("bus")>=0&&e.indexOf("bus-school")>=0&&e.splice(e.indexOf("bus-school"),1),e):[]}toggleFav(t){this.data.isFav?this.trackTripPlannerEventService.trackRemoveDepartureFavourite():this.trackTripPlannerEventService.trackSetDepartureFavourite(),t.preventDefault(),this.stateStore.dispatch(new r.ChangeFavStateDepartureSearchAction({id:this.data.id})),t.stopPropagation()}removeItem(t){this.stateStore.dispatch(new r.RemoveDeparturesHistoryAction({id:this.data.id})),t.stopPropagation()}searchTrip(){var t,e,n,r,i,o;this.data.isFav?this.trackTripPlannerEventService.trackFavouriteTripRequests():this.trackTripPlannerEventService.trackPreviousTripRequests(),"current_location"===this.data.departure.fromLocation.type?(this.fromLocation="current",this.toLocation=this._setLocation(null===(t=this.data.departure)||void 0===t?void 0:t.toLocation)):"current_location"===(null===(n=null===(e=this.data.departure)||void 0===e?void 0:e.toLocation)||void 0===n?void 0:n.type)?(this.toLocation="current",this.fromLocation=this._setLocation(null===(r=this.data.departure)||void 0===r?void 0:r.fromLocation)):(this.toLocation=this._setLocation(null===(i=this.data.departure)||void 0===i?void 0:i.toLocation),this.fromLocation=this._setLocation(null===(o=this.data.departure)||void 0===o?void 0:o.fromLocation)),this.navigate()}navigate(){this.stateStore.dispatch(new r.ClearDeparturesAction({showNewSearchBtn:!1,isUserClearedDep:!1})),this.router.navigate(["/departures"],{queryParams:Object.assign(Object.assign(Object.assign({},this.fromLocation&&{depart:this.fromLocation}),this.toLocation&&{arrive:this.toLocation}),{accessible:this.data.isAccessible})})}_setLocation(t){return(null==t?void 0:t.tsnId)||(null==t?void 0:t.id)}}e.DeparturesHistoryItemComponent=C,C.\u0275fac=function(t){return new(t||C)(o.\u0275\u0275directiveInject(a.ModeSortPipe),o.\u0275\u0275directiveInject(s.IconService),o.\u0275\u0275directiveInject(c.Store),o.\u0275\u0275directiveInject(l.Router),o.\u0275\u0275directiveInject(u.TrackTripPlannerEventService))},C.\u0275cmp=o.\u0275\u0275defineComponent({type:C,selectors:[["tni-departures-history-item"]],viewQuery:function(t,e){var n;1&t&&o.\u0275\u0275staticViewQuery(h,!0),2&t&&o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.fromName=n.first)},inputs:{depHistoryData:"depHistoryData"},decls:18,vars:12,consts:[["tabindex","0","role","listitem",1,"history-item",3,"click","keyup.enter","keydown.space"],[1,"sr-only"],["tabindex","0","role","button","aria-label","favourite this trip","aria-hidden","false",1,"icon-wrap","favourite",3,"click","keyup.enter","keydown.space"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-unselected","iconAriaHidden","true","iconTitle","add to favourite",4,"ngIf"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-selected","iconAriaHidden","true",4,"ngIf"],[1,"history-item_from"],[1,"wrap"],[4,"ngIf"],[1,"history-item_to"],[1,"history-item_close_accessibility"],["tabindex","0","aria-hidden","false","role","button","aria-label","remove from previous departures",1,"icon-wrap",3,"click","keyup.enter"],[3,"iconClasses","iconTitle","iconName","iconAriaHidden"],["class","icon-accessible","aria-label","Search accessible services only",4,"ngIf"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-unselected","iconAriaHidden","true","iconTitle","add to favourite"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-selected","iconAriaHidden","true"],[1,"history-item_from-name"],[1,"history-item_from-location"],["class","history-item_icon",4,"ngFor","ngForOf"],[1,"history-item_icon"],["iconClasses","tp-icon sm form-control-select-arrow","iconName","arrow-down-small","iconAriaHidden","true"],[1,"history-item_to-name"],[1,"history-item_to-location"],["aria-label","Search accessible services only",1,"icon-accessible"],["iconAriaHidden","true","iconClasses","accessible tp-icon xs","iconName","accessible"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"a",0),o.\u0275\u0275listener("click",(function(){return e.searchTrip()}))("keyup.enter",(function(t){return t.preventDefault(),t.stopPropagation(),e.searchTrip()}))("keydown.space",(function(t){return t.preventDefault(),t.stopPropagation()})),o.\u0275\u0275elementStart(1,"span",1),o.\u0275\u0275text(2,"Search previous departure"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"a",2),o.\u0275\u0275listener("click",(function(t){return e.toggleFav(t)}))("keyup.enter",(function(t){return e.toggleFav(t)}))("keydown.space",(function(t){return e.toggleFav(t)})),o.\u0275\u0275template(4,f,1,0,"tni-icon",3),o.\u0275\u0275template(5,m,1,0,"tni-icon",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"div",5),o.\u0275\u0275elementStart(7,"div",6),o.\u0275\u0275template(8,_,6,3,"div",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(9,v,3,0,"div",7),o.\u0275\u0275elementStart(10,"div",8),o.\u0275\u0275elementStart(11,"div",6),o.\u0275\u0275template(12,x,6,3,"div",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"div",9),o.\u0275\u0275elementStart(14,"div"),o.\u0275\u0275elementStart(15,"a",10),o.\u0275\u0275listener("click",(function(t){return e.removeItem(t)}))("keyup.enter",(function(t){return e.removeItem(t)})),o.\u0275\u0275element(16,"tni-icon",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(17,w,2,0,"div",12),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275attribute("aria-label","Search previous departure. From "+(null==e.data.departure.fromLocation?null:e.data.departure.fromLocation.fullName)+". To. "+(null==e.data.departure.toLocation?null:e.data.departure.toLocation.fullName)+" "+e.isAccessible),o.\u0275\u0275advance(3),o.\u0275\u0275attribute("aria-selected",e.data.isFav),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!e.data.isFav),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.data.isFav),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",e.data.departure.fromLocation),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.data.departure.toLocation),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",e.data.departure.toLocation),o.\u0275\u0275advance(4),o.\u0275\u0275property("iconClasses","xs close-link")("iconTitle","close")("iconName","close")("iconAriaHidden",!0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","true"===e.data.isAccessible&&e.data.departure.toLocation))},directives:[p.NgIf,d.IconComponent,p.NgForOf],styles:[".history-item[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);padding:16px 12px 16px 0;margin-bottom:8px;display:flex;cursor:pointer}.history-item[_ngcontent-%COMP%], .history-item[_ngcontent-%COMP%]:hover{text-decoration:none}.history-item[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{display:flex}.history-item[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{height:12px}.history-item[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{box-shadow:none}.history-item[_ngcontent-%COMP%]     a svg.close-link{width:12px;min-width:12px;height:12px;margin-top:-10px;color:#757575}.history-item[_ngcontent-%COMP%]     .tp-icon.favourite-unselected{height:15px;width:15px;min-width:15px;fill:#979797;margin:-10px 16px 0}.history-item_from[_ngcontent-%COMP%]{width:calc(50% - 48px)}.history-item_to[_ngcontent-%COMP%]{width:calc(50% - 12px)}.history-item_icon[_ngcontent-%COMP%]{padding-left:0;padding-right:4px;display:inline-block;margin-top:8px}.history-item[_ngcontent-%COMP%]     .form-control-select-arrow{transform:rotate(-90deg);margin-top:-4px;color:#555;margin-right:8px}.history-item_from[_ngcontent-%COMP%], .history-item_to[_ngcontent-%COMP%]{font-size:14px;color:#555;display:flex}.history-item_from-name[_ngcontent-%COMP%], .history-item_to-name[_ngcontent-%COMP%]{font-weight:500;margin:0;padding-bottom:8px}.history-item_from-location[_ngcontent-%COMP%], .history-item_to-location[_ngcontent-%COMP%]{min-height:18px;margin:0}.history-item_from[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .history-item_to[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.history-item_from[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .history-item_to[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0;margin:0;line-height:18px}.history-item_from[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .history-item_to[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;box-shadow:none}.history-item_close_accessibility[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}a.history-item[_ngcontent-%COMP%]:hover{text-decoration:none;box-shadow:0 1px .3em rgba(0,0,0,.3)}.history-item_from-location[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .history-item_from-location[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .history-item_from-name[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .history-item_from-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .history-item_to-location[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .history-item_to-location[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .history-item_to-name[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .history-item_to-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.icon-accessible[_ngcontent-%COMP%]{float:right;color:#757575}"]})},IheW:function(t,e,n){"use strict";n.r(e),n.d(e,"HTTP_INTERCEPTORS",(function(){return O})),n.d(e,"HttpBackend",(function(){return p})),n.d(e,"HttpClient",(function(){return E})),n.d(e,"HttpClientJsonpModule",(function(){return X})),n.d(e,"HttpClientModule",(function(){return U})),n.d(e,"HttpClientXsrfModule",(function(){return W})),n.d(e,"HttpErrorResponse",(function(){return C})),n.d(e,"HttpEventType",(function(){return b})),n.d(e,"HttpHandler",(function(){return u})),n.d(e,"HttpHeaderResponse",(function(){return x})),n.d(e,"HttpHeaders",(function(){return d})),n.d(e,"HttpParams",(function(){return m})),n.d(e,"HttpRequest",(function(){return v})),n.d(e,"HttpResponse",(function(){return w})),n.d(e,"HttpResponseBase",(function(){return M})),n.d(e,"HttpUrlEncodingCodec",(function(){return h})),n.d(e,"HttpXhrBackend",(function(){return z})),n.d(e,"HttpXsrfTokenExtractor",(function(){return B})),n.d(e,"JsonpClientBackend",(function(){return k})),n.d(e,"JsonpInterceptor",(function(){return I})),n.d(e,"XhrFactory",(function(){return N})),n.d(e,"\u0275HttpInterceptingHandler",(function(){return Y})),n.d(e,"\u0275angular_packages_common_http_http_a",(function(){return A})),n.d(e,"\u0275angular_packages_common_http_http_b",(function(){return L})),n.d(e,"\u0275angular_packages_common_http_http_c",(function(){return H})),n.d(e,"\u0275angular_packages_common_http_http_d",(function(){return R})),n.d(e,"\u0275angular_packages_common_http_http_e",(function(){return F})),n.d(e,"\u0275angular_packages_common_http_http_f",(function(){return j})),n.d(e,"\u0275angular_packages_common_http_http_g",(function(){return q})),n.d(e,"\u0275angular_packages_common_http_http_h",(function(){return V}));var r=n("8Y7J"),i=n("LRne"),o=n("HDdC"),a=n("bOdf"),s=n("pLZG"),c=n("lJxs"),l=n("SVse");class u{}class p{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class h{encodeKey(t){return f(t)}encodeValue(t){return f(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function f(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class m{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new h,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],a=n.get(i)||[];a.push(o),n.set(i,a)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new m({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function g(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function y(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _(t){return"undefined"!=typeof FormData&&t instanceof FormData}class v{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new m,this.urlWithParams=e}serializeBody(){return null===this.body?null:g(this.body)||y(this.body)||_(this.body)||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_(this.body)?null:y(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let s=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(s=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),s)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new v(e,n,i,{params:c,headers:s,reportProgress:a,responseType:r,withCredentials:o})}}var b=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class M{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class x extends M{constructor(t={}){super(t),this.type=b.ResponseHeader}clone(t={}){return new x({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class w extends M{constructor(t={}){super(t),this.type=b.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new w({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class C extends M{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function S(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let E=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof v)r=t;else{let i=void 0;i=n.headers instanceof d?n.headers:new d(n.headers);let o=void 0;n.params&&(o=n.params instanceof m?n.params:new m({fromObject:n.params})),r=new v(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=Object(i.a)(r).pipe(Object(a.a)(t=>this.handler.handle(t)));if(t instanceof v||"events"===n.observe)return o;const l=o.pipe(Object(s.a)(t=>t instanceof w));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return l.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return l.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return l.pipe(Object(c.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return l.pipe(Object(c.a)(t=>t.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new m).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,S(n,e))}post(t,e,n={}){return this.request("POST",t,S(n,e))}put(t,e,n={}){return this.request("PUT",t,S(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](u))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class T{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const O=new r.InjectionToken("HTTP_INTERCEPTORS");let A=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),P=0;class L{}let k=(()=>{class t{constructor(t,e){this.callbackMap=t,this.document=e}nextCallback(){return"ng_jsonp_callback_"+P++}handle(t){if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");return new o.a(e=>{const n=this.nextCallback(),r=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),i=this.document.createElement("script");i.src=r;let o=null,a=!1,s=!1;this.callbackMap[n]=t=>{delete this.callbackMap[n],s||(o=t,a=!0)};const c=()=>{i.parentNode&&i.parentNode.removeChild(i),delete this.callbackMap[n]},l=t=>{s||(c(),a?(e.next(new w({body:o,status:200,statusText:"OK",url:r})),e.complete()):e.error(new C({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},u=t=>{s||(c(),e.error(new C({error:t,status:0,statusText:"JSONP Error",url:r})))};return i.addEventListener("load",l),i.addEventListener("error",u),this.document.body.appendChild(i),e.next({type:b.Sent}),()=>{s=!0,i.removeEventListener("load",l),i.removeEventListener("error",u),c()}})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](L),r["\u0275\u0275inject"](l.DOCUMENT))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),I=(()=>{class t{constructor(t){this.jsonp=t}intercept(t,e){return"JSONP"===t.method?this.jsonp.handle(t):e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](k))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const D=/^\)\]\}',?\n/;class N{}let R=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),z=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new o.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new d(n.getAllResponseHeaders()),a=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new x({headers:o,status:e,statusText:r,url:a}),i},a=()=>{let{headers:r,status:i,statusText:a,url:s}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(D,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new w({body:c,headers:r,status:i,statusText:a,url:s||void 0})),e.complete()):e.error(new C({error:c,headers:r,status:i,statusText:a,url:s||void 0}))},s=t=>{const{url:r}=o(),i=new C({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const l=r=>{c||(e.next(o()),c=!0);let i={type:b.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:b.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",a),n.addEventListener("error",s),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:b.Sent}),()=>{n.removeEventListener("error",s),n.removeEventListener("load",a),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](N))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const F=new r.InjectionToken("XSRF_COOKIE_NAME"),j=new r.InjectionToken("XSRF_HEADER_NAME");class B{}let q=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l["\u0275parseCookieValue"])(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](l.DOCUMENT),r["\u0275\u0275inject"](r.PLATFORM_ID),r["\u0275\u0275inject"](F))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),V=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](B),r["\u0275\u0275inject"](j))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(O,[]);this.chain=t.reduceRight((t,e)=>new T(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](p),r["\u0275\u0275inject"](r.Injector))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function H(){return"object"==typeof window?window:{}}let W=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:V,useClass:A}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:F,useValue:e.cookieName}:[],e.headerName?{provide:j,useValue:e.headerName}:[]]}}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[V,{provide:O,useExisting:V,multi:!0},{provide:B,useClass:q},{provide:F,useValue:"XSRF-TOKEN"},{provide:j,useValue:"X-XSRF-TOKEN"}]}),t})(),U=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[E,{provide:u,useClass:Y},z,{provide:p,useExisting:z},R,{provide:N,useExisting:R}],imports:[[W.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),X=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[k,{provide:L,useFactory:H},{provide:O,useClass:I,multi:!0}]}),t})()},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Y/cZ");class i extends r.a{constructor(t,e=r.a.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IkPc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transportFilterReducer=e.initialState=e.transportFilterKey=void 0;const r=n("ha9l"),i=n("EiLY");e.transportFilterKey="transportFilter",e.initialState={filter:r.JourneyType.PublicTransport},e.transportFilterReducer=function(t=e.initialState,n){switch(n.type){case i.TripActionTypes.TRANSPORT_FILTER:return Object.assign({},Object.assign(Object.assign({},t),{filter:n.payload.filter}));default:return t}}},ImOh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RecentLocationsService=void 0;const r=n("stop"),i=n("tqRt"),o=n("kU1M"),a=n("yqgP"),s=n("wZy0"),c=n("8Y7J"),l=n("tqRt");class u{constructor(t){this.stateStore=t}dispatchToTripHistory(t){t.fromLocation.fullName&&t.toLocation.fullName&&this.stateStore.dispatch(new a.TripHistoryAction({tripHistory:{trip:{fromLocation:t.fromLocation,toLocation:t.toLocation},id:this.getTripId(t.fromLocation)+this.getTripId(t.toLocation),isFav:!1}}))}getLocations(){let t=[];this.stateStore.pipe(i.select(s.selectSearchHistory),o.take(1)).subscribe(e=>{t=e});const e=[];return t.map(t=>{var n;e.some(e=>{var n,r;return e.id===(null===(r=null===(n=t.searches)||void 0===n?void 0:n.fromLocation)||void 0===r?void 0:r.id)})||e.push(t.searches.fromLocation),(null===(n=t.searches)||void 0===n?void 0:n.toLocation)&&!e.some(e=>{var n,r;return e.id===(null===(r=null===(n=t.searches)||void 0===n?void 0:n.toLocation)||void 0===r?void 0:r.id)})&&e.push(t.searches.toLocation)}),e.map(t=>r.Location.fromJson(t))}getTripId(t){return"current_location"===t.type?t.type:t.fullName.replace(/\s+/g,"")}}e.RecentLocationsService=u,u.\u0275fac=function(t){return new(t||u)(c.\u0275\u0275inject(l.Store))},u.\u0275prov=c.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"})},"Ivi+":function(t,e,n){!function(t){"use strict";t.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\uc77c";case"M":return t+"\uc6d4";case"w":case"W":return t+"\uc8fc";default:return t}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(t){return"\uc624\ud6c4"===t},meridiem:function(t,e,n){return t<12?"\uc624\uc804":"\uc624\ud6c4"}})}(n("wd/R"))},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function a(t){return e=>0===t?Object(o.b)():e.lift(new s(t))}class s{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},"J/9z":function(t,e,n){"use strict";n.r(e),n.d(e,"AbsPipe",(function(){return Ft})),n.d(e,"BytesPipe",(function(){return At})),n.d(e,"CapitalizePipe",(function(){return te})),n.d(e,"CeilPipe",(function(){return Pt})),n.d(e,"ChunkPipe",(function(){return rt})),n.d(e,"CountPipe",(function(){return $})),n.d(e,"DecodeURIComponentPipe",(function(){return ae})),n.d(e,"DecodeURIPipe",(function(){return oe})),n.d(e,"DeepPipe",(function(){return nt})),n.d(e,"DefaultsPipe",(function(){return Yt})),n.d(e,"DegreesPipe",(function(){return It})),n.d(e,"DropPipe",(function(){return et})),n.d(e,"EmptyPipe",(function(){return I})),n.d(e,"EncodeURIComponentPipe",(function(){return ie})),n.d(e,"EncodeURIPipe",(function(){return re})),n.d(e,"EveryPipe",(function(){return Z})),n.d(e,"FirstOrDefaultPipe",(function(){return H})),n.d(e,"FlattenPipe",(function(){return it})),n.d(e,"FloorPipe",(function(){return Lt})),n.d(e,"GroupByPipe",(function(){return T})),n.d(e,"HeadPipe",(function(){return D})),n.d(e,"InitialPipe",(function(){return N})),n.d(e,"IntersectionPipe",(function(){return ot})),n.d(e,"IsArrayPipe",(function(){return Ct})),n.d(e,"IsDefinedPipe",(function(){return Et})),n.d(e,"IsEqualPipe",(function(){return ft})),n.d(e,"IsFunctionPipe",(function(){return Mt})),n.d(e,"IsGreaterOrEqualPipe",(function(){return pt})),n.d(e,"IsGreaterPipe",(function(){return ut})),n.d(e,"IsIdenticalPipe",(function(){return gt})),n.d(e,"IsLessOrEqualPipe",(function(){return ht})),n.d(e,"IsLessPipe",(function(){return dt})),n.d(e,"IsNilPipe",(function(){return bt})),n.d(e,"IsNotEqualPipe",(function(){return mt})),n.d(e,"IsNotIdenticalPipe",(function(){return yt})),n.d(e,"IsNullPipe",(function(){return _t})),n.d(e,"IsNumberPipe",(function(){return xt})),n.d(e,"IsObjectPipe",(function(){return St})),n.d(e,"IsStringPipe",(function(){return wt})),n.d(e,"IsUndefinedPipe",(function(){return vt})),n.d(e,"JoinPipe",(function(){return z})),n.d(e,"KeysPipe",(function(){return qt})),n.d(e,"LastPipe",(function(){return R})),n.d(e,"LatinizePipe",(function(){return pe})),n.d(e,"LeftPadPipe",(function(){return Wt})),n.d(e,"MapPipe",(function(){return q})),n.d(e,"MatchPipe",(function(){return Ut})),n.d(e,"MaxPipe",(function(){return O})),n.d(e,"MeanPipe",(function(){return A})),n.d(e,"MinPipe",(function(){return P})),n.d(e,"NewlinesPipe",(function(){return Qt})),n.d(e,"NgAggregatePipesModule",(function(){return k})),n.d(e,"NgArrayPipesModule",(function(){return lt})),n.d(e,"NgBooleanPipesModule",(function(){return Tt})),n.d(e,"NgMathPipesModule",(function(){return Bt})),n.d(e,"NgObjectPipesModule",(function(){return Ht})),n.d(e,"NgPipesModule",(function(){return ge})),n.d(e,"NgStringPipesModule",(function(){return me})),n.d(e,"OrderByPipe",(function(){return J})),n.d(e,"OrdinalPipe",(function(){return jt})),n.d(e,"PadPipe",(function(){return Xt})),n.d(e,"PluckPipe",(function(){return U})),n.d(e,"PowPipe",(function(){return zt})),n.d(e,"RadiansPipe",(function(){return Dt})),n.d(e,"RandomPipe",(function(){return Nt})),n.d(e,"RangePipe",(function(){return W})),n.d(e,"RepeatPipe",(function(){return ce})),n.d(e,"ReplacePipe",(function(){return Gt})),n.d(e,"ReversePipe",(function(){return X})),n.d(e,"ReverseStrPipe",(function(){return fe})),n.d(e,"RightPadPipe",(function(){return Jt})),n.d(e,"RoundPipe",(function(){return kt})),n.d(e,"ShufflePipe",(function(){return Q})),n.d(e,"SlugifyPipe",(function(){return le})),n.d(e,"SomePipe",(function(){return K})),n.d(e,"SplitPipe",(function(){return $t})),n.d(e,"SqrtPipe",(function(){return Rt})),n.d(e,"StripTagsPipe",(function(){return ue})),n.d(e,"SumPipe",(function(){return L})),n.d(e,"TailPipe",(function(){return F})),n.d(e,"TakePipe",(function(){return tt})),n.d(e,"TakeUntilPipe",(function(){return ct})),n.d(e,"TakeWhilePipe",(function(){return st})),n.d(e,"TemplatePipe",(function(){return ne})),n.d(e,"TestPipe",(function(){return Kt})),n.d(e,"ToArrayPipe",(function(){return Vt})),n.d(e,"TrimPipe",(function(){return Zt})),n.d(e,"TruncatePipe",(function(){return se})),n.d(e,"UnionPipe",(function(){return at})),n.d(e,"UniqPipe",(function(){return j})),n.d(e,"UpperFirstPipe",(function(){return ee})),n.d(e,"WherePipe",(function(){return V})),n.d(e,"WithPipe",(function(){return he})),n.d(e,"WithoutPipe",(function(){return B})),n.d(e,"WrapPipe",(function(){return de}));var r=n("8Y7J");function i(t){return void 0===t}function o(t){return null===t}function a(t){return"number"==typeof t}function s(t){return a(t)&&isFinite(t)}function c(t){return null==t}function l(t){return"string"==typeof t}function u(t){return null!==t&&"object"==typeof t}function p(t){return Array.isArray(t)}function d(t){return"function"==typeof t}function h(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function f(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function m(t){const e=Math[t];return function(t,n=0){if("string"==typeof t)throw new TypeError("Rounding method needs a number");if(("number"!=typeof n||isNaN(n))&&(n=0),n){let r=(t+"e").split("e");return r=(e(r[0]+"e"+(+r[1]+n))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function g(t,e=0,n=" "){t=String(t),n=_(n);let r=-1;const i=e-t.length;for(;++r<i&&t.length+n.length<=e;)t=n+t;return t}function y(t,e=0,n=" "){t=String(t),n=_(n);let r=-1;const i=e-t.length;for(;++r<i&&t.length+n.length<=e;)t+=n;return t}function _(t){return""+t}function v(t,e){if(c(t)||!u(t))return;const n=e.split(".");let r=t[n.shift()];for(const i of n){if(c(r)||!u(r))return;r=r[i]}return r}function b(t,e=0){return t.reduce((t,e)=>t+e,e)}function M(t,e){let n=-1;const r=t.length;for(;++n<r;)if(x(e,t[n]))return n;return-1}function x(t,e){if(t===e)return!0;if("object"!=typeof t||"object"!=typeof e)return t===e;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;var i=Object.prototype.hasOwnProperty;for(let o=0;o<n.length;o++){const r=n[o];if(!i.call(e,n[o])||!x(t[r],e[r]))return!1}return!0}function w(t){return t.__isDeepObject__}function C(t){return w(t)?t.data:t}class S{constructor(t){this.data=t,this.__isDeepObject__=!0}}function E(t,e){let n=-1;const r=[];for(;++n<t.length&&!e(t[n],n,t);)r[n]=t[n];return r}let T=(()=>{let t=class{transform(t,e){if(!p(t))return t;const n={};for(const r of t){const t=v(r,e);i(n[t])&&(n[t]=[]),n[t].push(r)}return Object.keys(n).map(t=>({key:t,value:n[t]}))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"groupBy",type:t,pure:!0}),t})(),O=(()=>{let t=class{transform(t){if(!p(t))return t;if(0===t.length)return;let e=t[0];return t.forEach(t=>{e<t&&(e=t)}),e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"max",type:t,pure:!0}),t})(),A=(()=>{let t=class{transform(t){if(!p(t))return t;const e=t.length;return 0!==e?b(t)/e:void 0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"mean",type:t,pure:!0}),t})(),P=(()=>{let t=class{transform(t){if(!p(t))return t;if(0===t.length)return;let e=t[0];return t.forEach(t=>{e>t&&(e=t)}),e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"min",type:t,pure:!0}),t})(),L=(()=>{let t=class{transform(t){return p(t)?b(t):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"sum",type:t,pure:!0}),t})(),k=(()=>{let t=class{};return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})(),I=(()=>{let t=class{transform(t){return function(t){return p(t)?0===t.length:t}(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"empty",type:t,pure:!0}),t})(),D=(()=>{let t=class{transform(t){return p(t)?t[0]:t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"head",type:t,pure:!0}),t})(),N=(()=>{let t=class{transform(t){return p(t)?t.slice(0,t.length-1):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"initial",type:t,pure:!0}),t})(),R=(()=>{let t=class{transform(t){return p(t)?t[t.length-1]:t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"last",type:t,pure:!0}),t})(),z=(()=>{let t=class{transform(t,e=""){return p(t)?t.join(e):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"join",type:t,pure:!0}),t})(),F=(()=>{let t=class{transform(t){return p(t)?t.slice(1,t.length):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"tail",type:t,pure:!0}),t})(),j=(()=>{let t=class{transform(t){if(!p(t)&&!w(t))return t;if(w(t)){const e=C(t);return p(e)?e.filter((t,n)=>M(e,t)===n):e}return t.filter((e,n)=>t.indexOf(e)===n)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"uniq",type:t,pure:!0}),t})(),B=(()=>{let t=class{transform(t,...e){if(!p(t)&&!w(t))return t;if(w(t)){const n=C(t);return p(n)?n.filter(t=>-1===M(e,t)):n}return t.filter(t=>-1===e.indexOf(t))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"without",type:t,pure:!0}),t})(),q=(()=>{let t=class{transform(t,e){return p(t)&&e?t.map(e):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"map",type:t,pure:!0}),t})(),V=(()=>{let t=class{transform(t,e){if(!p(t))return t;if(d(e))return t.filter(e);if(p(e)){const[n,r]=e;return t.filter(t=>v(t,n)===r)}return e?t.filter(t=>t===e):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"where",type:t,pure:!0}),t})();var Y;let H=(()=>{let t=Y=class{static find(t,e,n){let r,i=!1,o=-1;for(;!i&&++o<t.length;)i=e(t[o],o,t);return i&&(r=t[o]),void 0===r&&void 0!==n&&(r=n),r}transform(t,e,n){if(!p(t))return t;if(d(e))return Y.find(t,e,n);if(p(e)){const[r,i]=e;return Y.find(t,t=>v(t,r)===i,n)}return e?Y.find(t,t=>t===e,n):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"firstOrDefault",type:t,pure:!0}),t})(),W=(()=>{let t=class{transform(t,e=0,n=1,r=1){const i=[];for(let o=0;o<e;++o)i.push(n),n+=r;return i}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"range",type:t,pure:!0}),t})(),U=(()=>{let t=class{transform(t,e){return p(t)&&e?t.map(t=>v(t,e)):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"pluck",type:t,pure:!0}),t})(),X=(()=>{let t=class{transform(t){return p(t)?[...t].reverse():t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"reverse",type:t,pure:!0}),t})();var G;let J=(()=>{let t=G=class{static _orderBy(t,e){if(t instanceof Date&&e instanceof Date)return t<e?-1:t>e?1:0;const n=parseFloat(t),r=parseFloat(e);if("string"==typeof t&&"string"==typeof e&&(isNaN(n)||isNaN(r))){const n=t.toLowerCase(),r=e.toLowerCase();return n<r?-1:n>r?1:0}return n<r?-1:n>r?1:0}transform(t,e="+"){if(!p(t))return t;const n=p(e);if(!n||n&&1===e.length){const r=n?e[0]:e,i=r.substr(0,1),o="-"===i;if(r&&"-"!==r&&"+"!==r){const e="+"===i||o?r.substr(1):r;return[...t].sort((t,n)=>{const r=G._orderBy(t[e],n[e]);return o?-r:r})}return[...t].sort((t,e)=>{const n=G._orderBy(t,e);return o?-n:n})}return[...t].sort((t,n)=>{for(let r=0;r<e.length;++r){const i=e[r].substr(0,1),o="-"===i,a="+"===i||o?e[r].substr(1):e[r],s=G._orderBy(t[a],n[a]),c=o?-s:s;if(0!==c)return c}return 0})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"orderBy",type:t,pure:!0}),t})(),$=(()=>{let t=class{transform(t){return function(t){return p(t)||u(t)||l(t)?u(t)?Object.keys(t).map(e=>t[e]).length:t.length:t}(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"count",type:t,pure:!0}),t})(),K=(()=>{let t=class{transform(t,e){if(!p(t)||!e)return t;let n=!1,r=-1;for(;++r<t.length&&!n;)n=e(t[r],r,t);return n}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"some",type:t,pure:!0}),t})(),Z=(()=>{let t=class{transform(t,e){return function(t,e){if(!p(t)||!e)return t;let n=!0,r=-1;for(;++r<t.length&&n;)n=e(t[r],r,t);return n}(t,e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"every",type:t,pure:!0}),t})(),Q=(()=>{let t=class{transform(t){return function(t){if(!p(t))return t;const e=[...t];for(let n=e.length;n;--n){const t=Math.floor(Math.random()*n),r=e[n-1];e[n-1]=e[t],e[t]=r}return e}(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"shuffle",type:t,pure:!0}),t})(),tt=(()=>{let t=class{transform(t,e){return p(t)?t.slice(0,e||1):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"take",type:t,pure:!0}),t})(),et=(()=>{let t=class{transform(t,e){return p(t)?t.slice(e||1,t.lenth):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"drop",type:t,pure:!0}),t})(),nt=(()=>{let t=class{transform(t){return w(t)?t:new S(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"deep",type:t,pure:!0}),t})(),rt=(()=>{let t=class{transform(t,e=1){return p(t)?[].concat.apply([],t.map((n,r)=>r%e?[]:[t.slice(r,r+e)])):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"chunk",type:t,pure:!0}),t})(),it=(()=>{let t=class{transform(t){const e=w(t);if(!p(t)&&!e)return t;if(e){const e=C(t);return p(e)?function t(e,n=0){return n>=e.length?e:p(e[n])?t(e.slice(0,n).concat(e[n],e.slice(n+1)),n):t(e,n+1)}(e,0):e}return[].concat.apply([],t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"flatten",type:t,pure:!0}),t})(),ot=(()=>{let t=class{transform(t,e){if(!p(t)&&!w(t)||!p(e))return[];if(w(t)){const n=C(t);return p(n)?n.reduce((t,n)=>t.concat(-1!==M(e,n)&&-1===M(t,n)?n:[]),[]):[]}return t.reduce((t,n)=>t.concat(-1!==e.indexOf(n)&&-1===t.indexOf(n)?n:[]),[])}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"intersection",type:t,pure:!0}),t})(),at=(()=>{let t=class{transform(t,e){if(!p(t)&&!w(t)||!p(e))return[];if(w(t)){const n=C(t);return p(n)?[].concat(n).concat(e).filter((t,e,n)=>M(n,t)===e):[]}return[].concat(t).concat(e).filter((t,e,n)=>n.indexOf(t)===e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"union",type:t,pure:!0}),t})(),st=(()=>{let t=class{transform(t,e){return!p(t)||c(e)?t:function(t,e){return E(t,(t,n,r)=>!e(t,n,r))}(t,e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"takeWhile",type:t,pure:!0}),t})(),ct=(()=>{let t=class{transform(t,e){return!p(t)||c(e)?t:E(t,e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"takeUntil",type:t,pure:!0}),t})(),lt=(()=>{let t=class{};return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})(),ut=(()=>{let t=class{transform(t,e){return t>e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"greater",type:t,pure:!0}),t})(),pt=(()=>{let t=class{transform(t,e){return t>=e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"greaterOrEqual",type:t,pure:!0}),t})(),dt=(()=>{let t=class{transform(t,e){return t<e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"less",type:t,pure:!0}),t})(),ht=(()=>{let t=class{transform(t,e){return t<=e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"lessOrEqual",type:t,pure:!0}),t})(),ft=(()=>{let t=class{transform(t,e){return t==e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"equal",type:t,pure:!0}),t})(),mt=(()=>{let t=class{transform(t,e){return t!=e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"notEqual",type:t,pure:!0}),t})(),gt=(()=>{let t=class{transform(t,e){return t===e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"identical",type:t,pure:!0}),t})(),yt=(()=>{let t=class{transform(t,e){return t!==e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"notIdentical",type:t,pure:!0}),t})(),_t=(()=>{let t=class{transform(t){return o(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"isNull",type:t,pure:!0}),t})(),vt=(()=>{let t=class{transform(t){return i(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"isUndefined",type:t,pure:!0}),t})(),bt=(()=>{let t=class{transform(t){return c(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"isNil",type:t,pure:!0}),t})(),Mt=(()=>{let t=class{transform(t){return d(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"isFunction",type:t,pure:!0}),t})(),xt=(()=>{let t=class{transform(t){return a(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"isNumber",type:t,pure:!0}),t})(),wt=(()=>{let t=class{transform(t){return l(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"isString",type:t,pure:!0}),t})(),Ct=(()=>{let t=class{transform(t){return p(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"isArray",type:t,pure:!0}),t})(),St=(()=>{let t=class{transform(t){return u(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"isObject",type:t,pure:!0}),t})(),Et=(()=>{let t=class{transform(t){return!i(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"isDefined",type:t,pure:!0}),t})(),Tt=(()=>{let t=class{};return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})();var Ot;let At=(()=>{let t=Ot=class{transform(t,e=0,n="B",r){if(!(s(t)&&s(e)&&(i=e,i%1==0)&&function(t){return t>=0}(e)))return t;var i;let o=t,a=n;for(;"B"!==a;)o*=1024,a=Ot.formats[a].prev;if(r){const t=h(Ot.calculateResult(Ot.formats[r],o),e);return Ot.formatResult(t,r)}for(const s in Ot.formats)if(Ot.formats.hasOwnProperty(s)){const t=Ot.formats[s];if(o<t.max){const n=h(Ot.calculateResult(t,o),e);return Ot.formatResult(n,s)}}}static formatResult(t,e){return`${t} ${e}`}static calculateResult(t,e){const n=t.prev?Ot.formats[t.prev]:void 0;return n?e/n.max:e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"bytes",type:t,pure:!0}),t.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}},t})(),Pt=(()=>{let t=class{transform(t,e=0){return l(e)&&(e=parseInt(e)),m("ceil")(t,e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"ceil",type:t,pure:!0}),t})(),Lt=(()=>{let t=class{transform(t,e=0){return l(e)&&(e=parseInt(e)),m("floor")(t,e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"floor",type:t,pure:!0}),t})(),kt=(()=>{let t=class{transform(t,e=0){return l(e)&&(e=parseInt(e)),m("round")(t,e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"round",type:t,pure:!0}),t})(),It=(()=>{let t=class{transform(t){return s(t)?180*t/Math.PI:"NaN"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"degrees",type:t,pure:!0}),t})(),Dt=(()=>{let t=class{transform(t){return s(t)?t*Math.PI/180:"NaN"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"radians",type:t,pure:!0}),t})(),Nt=(()=>{let t=class{transform(t,e=0,n=1){return s(e)&&s(n)?(e>n&&(n=e,e=0),Math.random()*(n-e)+e):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"random",type:t,pure:!0}),t})(),Rt=(()=>{let t=class{transform(t){return s(t)?Math.sqrt(t):"NaN"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"sqrt",type:t,pure:!0}),t})(),zt=(()=>{let t=class{transform(t,e=2){return s(t)?Math.pow(t,e):"NaN"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"pow",type:t,pure:!0}),t})(),Ft=(()=>{let t=class{transform(t){return s(t)?Math.abs(t):"NaN"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"abs",type:t,pure:!0}),t})(),jt=(()=>{let t=class{transform(t){if(!s(t))return"NaN";if(this.endsWithTenth(t))return t+"th";switch(t.toString().charAt(t.toString().length-1)){case"1":return t+"st";case"2":return t+"nd";case"3":return t+"rd";default:return t+"th"}}endsWithTenth(t){return"1"===t.toString().charAt(t.toString().length-2)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"ordinal",type:t,pure:!0}),t})(),Bt=(()=>{let t=class{};return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})(),qt=(()=>{let t=class{transform(t){return u(t)?Object.keys(t):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"keys",type:t,pure:!0}),t})(),Vt=(()=>{let t=class{transform(t){return u(t)?Object.keys(t).map(e=>t[e]):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"toArray",type:t,pure:!0}),t})(),Yt=(()=>{let t=class{transform(t,e){return u(e)?c(t)?e:p(t)?t.map(t=>u(t)?Object.assign({},e,t):c(t)?e:t):u(t)?Object.assign({},e,t):t:t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"defaults",type:t,pure:!0}),t})(),Ht=(()=>{let t=class{};return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})(),Wt=(()=>{let t=class{transform(t,e=0,n=" "){return l(t)?g(t,e,n):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"leftpad",type:t,pure:!0}),t})(),Ut=(()=>{let t=class{transform(t,e,n){if(!l(t))return t;const r=e instanceof RegExp?e:new RegExp(e,n);return t.match(r)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"match",type:t,pure:!0}),t})(),Xt=(()=>{let t=class{transform(t,e=0,n=" "){return l(t)?function(t,e=0,n=" "){t=String(t),n=_(n);let r=-1;const i=e-t.length;let o=!0;for(;++r<i;){const r=t.length+n.length<=e?t.length+n.length:t.length+1;t=o?g(t,r,n):y(t,r,n),o=!o}return t}(t,e,n):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"pad",type:t,pure:!0}),t})(),Gt=(()=>{let t=class{transform(t,e,n){return!l(t)||i(e)||i(n)?t:t.replace(e,n)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"replace",type:t,pure:!0}),t})(),Jt=(()=>{let t=class{transform(t,e=0,n=" "){return l(t)?y(t,e,n):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"rightpad",type:t,pure:!0}),t})(),$t=(()=>{let t=class{transform(t,e=" ",n){return l(t)?t.split(e,n):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"split",type:t,pure:!0}),t})(),Kt=(()=>{let t=class{transform(t,e,n){return l(t)&&e?(e instanceof RegExp?e:new RegExp(e,n)).test(t):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"test",type:t,pure:!0}),t})(),Zt=(()=>{let t=class{transform(t){return l(t)?t.trim():t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"trim",type:t,pure:!0}),t})(),Qt=(()=>{let t=class{transform(t){return l(t)?t.replace(/(?:\r\n|\r|\n)/g,"<br />"):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"newlines",type:t,pure:!0}),t})(),te=(()=>{let t=class{transform(t,e=!1){return l(t)?e?t.toLowerCase().split(" ").map(t=>f(t)).join(" "):f(t.toLowerCase()):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"capitalize",type:t,pure:!0}),t})(),ee=(()=>{let t=class{transform(t){return l(t)?f(t):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"upperfirst",type:t,pure:!0}),t})(),ne=(()=>{let t=class{transform(t,...e){if(!l(t)||0===e.length)return t;let n=t;for(let r=0;r<e.length;++r)n=n.replace("$"+(r+1),e[r]);return n}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"template",type:t,pure:!0}),t})(),re=(()=>{let t=class{transform(t){return l(t)?encodeURI(t):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"encodeURI",type:t,pure:!0}),t})(),ie=(()=>{let t=class{transform(t){return l(t)?encodeURIComponent(t):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"encodeURIComponent",type:t,pure:!0}),t})(),oe=(()=>{let t=class{transform(t){return l(t)?decodeURI(t):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"decodeURI",type:t,pure:!0}),t})(),ae=(()=>{let t=class{transform(t){return l(t)?decodeURIComponent(t):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"decodeURIComponent",type:t,pure:!0}),t})(),se=(()=>{let t=class{transform(t,e,n,r){if(!l(t))return t;if(e=i(e)?t.length:e,t.length<=e)return t;n=n||"";let o=e;return(r=r||!1)&&(o=-1===t.indexOf(" ",e)?t.length:t.indexOf(" ",e)),t.substring(0,o)+n}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"truncate",type:t,pure:!0}),t})(),ce=(()=>{let t=class{transform(t,e=1,n=""){if(!l(t))return t;e<=0&&(e=1);const r=[t];for(let i=1;i<e;++i)r.push(t);return r.join(n)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"repeat",type:t,pure:!0}),t})(),le=(()=>{let t=class{transform(t){return l(t)?t.toLowerCase().trim().replace(/[^a-z0-9\s-]/g," ").replace(/[\s-]+/g,"-"):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"slugify",type:t,pure:!0}),t})(),ue=(()=>{let t=class{transform(t){return!l(t)||i(t)?t:t.replace(/<\S[^><]*>/g,"")}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"stripTags",type:t,pure:!0}),t})(),pe=(()=>{let t=class{transform(t){if(!l(t)||i(t))return t;let e=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\u24b8\uff23\ua73e\u1e08\u0106C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uff43\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],n={};for(let r=0;r<e.length;r+=1){let t=e[r].chars;for(let i=0;i<t.length;i+=1)n[t[i]]=e[r].base}return t.replace(/[^\u0000-\u007e]/g,t=>n[t]||t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"latinize",type:t,pure:!0}),t})(),de=(()=>{let t=class{transform(t,e,n){return l(t)&&!i(e)?[e,t,n||e].join(""):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"wrap",type:t,pure:!0}),t})(),he=(()=>{let t=class{transform(t,e=null,n=null,r=!1){if(!l(t)||o(e)&&o(n)||""==e||""==n)return t;if(t=r?t:t.toLowerCase(),!o(e)&&!o(n)){let i=!t.indexOf(r?e:e.toLowerCase()),o=-1!==t.indexOf(r?n:n.toLowerCase(),t.length-n.length);return 1==i&&1==o}if(!o(e))return!t.indexOf(r?e:e.toLowerCase());if(!o(n)){let e=t.length-n.length;return-1!==t.indexOf(r?n:n.toLowerCase(),e)}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"with",type:t,pure:!0}),t})(),fe=(()=>{let t=class{transform(t){return l(t)?Array.from(t).reverse().join(""):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"reverseStr",type:t,pure:!0}),t})(),me=(()=>{let t=class{};return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})(),ge=(()=>{let t=class{};return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[lt,Bt,Tt,me,Ht,k]}),t})()},J6Ds:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocationSortPipe=void 0;const r=n("qKfS"),i=n("8Y7J");class o{constructor(){this.locationTypeOrder=[r.LocationType.Stop,r.LocationType.POI,r.LocationType.Locality,r.LocationType.District,r.LocationType.Street,r.LocationType.Address]}inverseQualityComparator(t,e){return e.matchQuality-t.matchQuality}locationTypeComparator(t,e){return this.locationTypeOrder.indexOf(t.type)-this.locationTypeOrder.indexOf(e.type)}descriptionComparator(t,e){return t.description().localeCompare(e.description())}transform(t){return t.sort((t,e)=>this.inverseQualityComparator(t,e)||this.locationTypeComparator(t,e)||this.descriptionComparator(t,e))}}e.LocationSortPipe=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=i.\u0275\u0275definePipe({name:"locationSortPipe",type:o,pure:!0})},"JCF/":function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];t.defineLocale("ku",{months:r,monthsShort:r,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(t){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(t)},meridiem:function(t,e,n){return t<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(t){return n[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n("wd/R"))},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj");function a(t){return function(e){const n=new s(t),r=e.lift(n);return n.caught=r}}class s{constructor(t){this.selector=t}call(t,e){return e.subscribe(new c(t,this.selector,this.caught))}}class c extends r.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new i.a(this,void 0,void 0);this.add(r);const a=Object(o.a)(this,n,void 0,void 0,r);a!==r&&this.add(a)}}}},JVSJ:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("GyhO"),i=n("z+Ro");function o(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},JbkT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppComponent=void 0;const r=n("1z/I"),i=n("iFc6"),o=n("6phY"),a=n("EiLY"),s=n("8Y7J"),c=n("MhY6"),l=n("lTCs"),u=n("tqRt"),p=n("g9ER"),d=n("zVaJ"),h=n("iInd"),f=n("2SIV"),m=n("SVse"),g=n("YzEW"),y=n("1z/I"),_=n("0njA"),v=n("Kytb"),b=n("ajRT"),M=n("NiZn");function x(t,e){if(1&t){const t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",10),s.\u0275\u0275listener("click",(function(e){return s.\u0275\u0275restoreView(t),s.\u0275\u0275nextContext().hideMapView(e)})),s.\u0275\u0275element(1,"tni-icon",11),s.\u0275\u0275elementEnd()}2&t&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("iconAriaHidden",!0))}function w(t,e){if(1&t){const t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"tni-map-explore",12),s.\u0275\u0275listener("mapError",(function(e){return s.\u0275\u0275restoreView(t),s.\u0275\u0275nextContext().onMapError(e)})),s.\u0275\u0275elementEnd()}}function C(t,e){if(1&t){const t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"tni-modal",16),s.\u0275\u0275listener("closeEvent",(function(){s.\u0275\u0275restoreView(t);const e=s.\u0275\u0275nextContext(3);return e.isErrorModalOpen=!1,e.modalService.removeModalFromBody()})),s.\u0275\u0275elementStart(1,"tni-modal-title"),s.\u0275\u0275elementStart(2,"h2"),s.\u0275\u0275text(3,"Something went wrong"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"div",17),s.\u0275\u0275text(5),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&t){const t=s.\u0275\u0275nextContext(3);s.\u0275\u0275property("@fadeOutAnimation",void 0)("ariaLabel",t.errorMessage)("closeAtBottomLayout",!0)("fullscreenMobile",!0),s.\u0275\u0275advance(5),s.\u0275\u0275textInterpolate1(" ",t.errorMessage," ")}}function S(t,e){if(1&t&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,C,6,5,"tni-modal",15),s.\u0275\u0275elementContainerEnd()),2&t){const t=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.isErrorModalOpen)}}function E(t,e){1&t&&(s.\u0275\u0275elementStart(0,"tni-modal",19),s.\u0275\u0275elementStart(1,"tni-modal-title"),s.\u0275\u0275elementStart(2,"h2"),s.\u0275\u0275text(3,"Disclaimer"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"div",17),s.\u0275\u0275elementStart(5,"p"),s.\u0275\u0275text(6," Services are provided by third party operators, which are not owned by Transport for NSW. You will be dealing directly with the service provider once you book a service. "),s.\u0275\u0275elementStart(7,"a",20),s.\u0275\u0275text(8,"Find out more"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&t&&s.\u0275\u0275property("@fadeOutAnimation",void 0)("alignAtTop",!0)("fullscreenMobile",!0)("closeAtBottomLayout",!0)}function T(t,e){if(1&t&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,E,9,4,"tni-modal",18),s.\u0275\u0275elementContainerEnd()),2&t){const t=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.showModal)}}function O(t,e){if(1&t&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementContainerStart(1,13),s.\u0275\u0275template(2,S,2,1,"ng-container",14),s.\u0275\u0275template(3,T,2,1,"ng-container",14),s.\u0275\u0275elementContainerEnd(),s.\u0275\u0275elementContainerEnd()),2&t){const t=s.\u0275\u0275nextContext();s.\u0275\u0275advance(1),s.\u0275\u0275property("ngSwitch",t.modalType),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngSwitchCase","error"),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngSwitchCase","disclaimer")}}const A=function(t){return{renderer:"svg",path:t}};function P(t,e){1&t&&s.\u0275\u0275element(0,"ng-lottie",21),2&t&&s.\u0275\u0275property("options",s.\u0275\u0275pureFunction1(1,A,e.$implicit))}const L=function(t){return{"col-sm-6":t}},k=function(t){return{hidediv:t}};class I{constructor(t,e,n,r,o,a){this.windowRef=t,this.modalService=e,this.stateStore=n,this.mapComponent=r,this.bottomSheetService=o,this.route=a,this.title="trip-planner new",this.bounds={ne:[151.2063,-33.734],sw:[151.0512,-33.8403]},this.mapStyle=i.TniConstant.MAPBOX_CONSTANTS.coloredStyleUrl,this.isMapView=!1,this.isErrorModalOpen=!1,this.errorMessage="",this.lottieAnimationsToPreload=[i.TniConstant.STATIC_ASSETS_BASE+"/icons/early.json",i.TniConstant.STATIC_ASSETS_BASE+"/icons/late.json",i.TniConstant.STATIC_ASSETS_BASE+"/icons/on-time.json"]}onMapError(t){this.modalType="error",this.errorMessage=t,this.isErrorModalOpen=!0,this.modalService.addModalToBody(this.portal)}ngOnInit(){this.getAppViewState()}ngAfterViewInit(){this.windowRef.removeClass("still-loading")}hideMapView(t){var e;t.stopPropagation(),"true"===(null!==(e=this.route.snapshot.queryParamMap.get("mapView"))&&void 0!==e?e:"false")?this.windowRef.redirectToUrl(i.TniConstant.HOME_URL):(this.mapComponent.disableTrackUserMode(),this.stateStore.dispatch(new a.SwitchAppViewAction({mobileMapView:!1,index:this.index})),this.bottomSheetService.closeBottomSheet())}getAppViewState(){this.stateStore.select(o.getAppViewState).subscribe(t=>{this.isMapView=t.mobileMapView,this.isOpalRetailer=t.isOpalRetailer,t.index>=0&&(this.index=t.index,this.windowRef.focusByClass(".collapsible-card-details-header.publicTransport",this.index,500))})}}e.AppComponent=I,I.\u0275fac=function(t){return new(t||I)(s.\u0275\u0275directiveInject(c.WindowRef),s.\u0275\u0275directiveInject(l.ModalService),s.\u0275\u0275directiveInject(u.Store),s.\u0275\u0275directiveInject(p.MapComponent),s.\u0275\u0275directiveInject(d.BottomSheetService),s.\u0275\u0275directiveInject(h.ActivatedRoute))},I.\u0275cmp=s.\u0275\u0275defineComponent({type:I,selectors:[["tni-maps-wrapper"]],viewQuery:function(t,e){var n;1&t&&s.\u0275\u0275viewQuery(r.CdkPortal,!0),2&t&&s.\u0275\u0275queryRefresh(n=s.\u0275\u0275loadQuery())&&(e.portal=n.first)},decls:12,vars:15,consts:[["mouseFocus","",1,"row","trip-planner"],["id","trip-planner-left-panel",1,"col-lg-4","col-xs-12","search-results",3,"ngClass"],["container",""],[1,"col-lg-8","col-sm-6","map-container",3,"ngClass"],[3,"bounds","mapStyle","mapError"],["role","button","title","Close trip map view","aria-label","Close trip map view","class","back",3,"click",4,"ngIf"],[3,"mapError",4,"ngIf"],[4,"cdkPortal"],[1,"hidden"],[3,"options",4,"ngFor","ngForOf"],["role","button","title","Close trip map view","aria-label","Close trip map view",1,"back",3,"click"],["tabindex","0","iconClasses","tp-icon sm-md","iconName","arrow_back",3,"iconAriaHidden"],[3,"mapError"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ariaLabel","closeAtBottomLayout","fullscreenMobile","closeEvent",4,"ngIf"],[3,"ariaLabel","closeAtBottomLayout","fullscreenMobile","closeEvent"],[1,"modal-text"],["class","fare-modal-dialog","ariaLabel","Disclaimer",3,"alignAtTop","fullscreenMobile","closeAtBottomLayout",4,"ngIf"],["ariaLabel","Disclaimer",1,"fare-modal-dialog",3,"alignAtTop","fullscreenMobile","closeAtBottomLayout"],["target","_blank","href","http://www.transportnsw.info/booking-service-providers"],[3,"options"]],template:function(t,e){1&t&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275elementStart(1,"div",1,2),s.\u0275\u0275element(3,"router-outlet"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"div",3),s.\u0275\u0275elementStart(5,"tni-map",4),s.\u0275\u0275listener("mapError",(function(t){return e.onMapError(t)})),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(6,x,2,1,"div",5),s.\u0275\u0275template(7,w,1,0,"tni-map-explore",6),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(8,"tni-trip-error-modal"),s.\u0275\u0275template(9,O,4,3,"ng-container",7),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(10,"div",8),s.\u0275\u0275template(11,P,1,3,"ng-lottie",9),s.\u0275\u0275elementEnd()),2&t&&(s.\u0275\u0275advance(1),s.\u0275\u0275classProp("hidden",e.isMapView),s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(11,L,!e.windowRef.isMobileView())),s.\u0275\u0275advance(3),s.\u0275\u0275classProp("mobile",e.windowRef.isMobileView()),s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(13,k,e.windowRef.isMobileView()&&!e.isMapView)),s.\u0275\u0275advance(1),s.\u0275\u0275property("bounds",e.bounds)("mapStyle",e.mapStyle),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",e.windowRef.isMobileView()&&e.isMapView),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",e.windowRef.isMobileView()&&e.isMapView),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngForOf",e.lottieAnimationsToPreload))},directives:[f.MouseFocusDirective,m.NgClass,h.RouterOutlet,p.MapComponent,m.NgIf,g.TripErrorModalComponent,y.CdkPortal,m.NgForOf,_.IconComponent,v.MapExploreComponent,m.NgSwitch,m.NgSwitchCase,b.ModalComponent,b.ModalTitleDirective,M.LottieComponent],styles:[".mapboxgl-popup-anchor-top-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%], .mapboxgl-popup-anchor-top-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%],   .mapboxgl-popup-anchor-top .mapboxgl-popup-tip{border-bottom-color:#fff!important}  .mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip,   .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{margin-right:8px}.mapboxgl-popup-anchor-bottom-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%], .mapboxgl-popup-anchor-bottom-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%],   .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{border-top-color:#fff!important}  .mapboxgl-popup-anchor-bottom{padding-bottom:23px;margin-left:2px}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-content{margin-bottom:-15px}}  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-top-color:#fff!important;position:absolute;bottom:15px;border-color:transparent transparent #fff #fff;transform:rotate(-45deg);box-shadow:-3px 3px 3px 0 rgba(0,0,0,.4);border-bottom:8px solid #fff;right:141px}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{position:relative;bottom:-4px;border-bottom:8px solid #fff}}  .mapboxgl-popup-anchor-left .mapboxgl-popup-tip{border-right-color:#fff!important}  .mapboxgl-popup-anchor-right .mapboxgl-popup-tip{border-left-color:#fff!important}  .mapboxgl-popup{width:298px;max-width:unset!important}  .mapboxgl-popup .mapboxgl-popup-content{box-shadow:0 5px 5px -3px rgba(0,0,0,.2);width:290px}  .mapboxgl-popup .mapboxgl-popup-content .popup-container{height:unset}  .mapboxgl-popup .mapboxgl-popup-content .h4{color:#171717;height:unset;padding-left:6px;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;display:inline-block;line-height:18px;margin-bottom:0;padding-right:24px}  .mapboxgl-popup .mapboxgl-popup-content .message{height:unset;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;line-height:18px;padding-left:6px;font-weight:200;padding-top:6px;padding-bottom:6px}  .mapboxgl-popup .mapboxgl-popup-content a{text-decoration:none}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container{height:40px;margin:3px -6px 0;display:flex;justify-content:space-around}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .tp-icon.xs{height:18px;width:18px;margin-top:-5px}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a{min-width:115px;box-sizing:border-box;height:40px;border:1px solid #cac9c9;border-radius:4px;background-color:#fff;padding:11px}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a div{text-align:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a .link-label{margin-left:6px;height:18px;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;line-height:18px;text-align:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container{display:flex;justify-content:flex-start;align-items:flex-end;padding:4px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container   .tp-icon{margin-right:2px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container a{font-size:14px;color:#1d69b4;padding-right:10px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container a .button-content{display:flex;justify-content:center;align-items:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-departures-from-here-container h3{display:block}  .mapboxgl-popup .mapboxgl-popup-content .popup-departures-from-here-container a{display:block;height:40px;margin:4px 6px;border:1px solid #cac9c9;border-radius:4px;padding:11px;text-decoration:none;text-align:center;background-color:#fff;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;line-height:18px}  .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-close-button{font-size:24px;margin-right:14px;margin-top:14px;font-weight:200}  .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-content-bottom{margin-top:2px;height:unset;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;line-height:18px;font-weight:200}.trip-planner[_ngcontent-%COMP%]{width:100%;position:relative;margin-left:0;margin-right:0}@media (min-width:768px){.trip-planner[_ngcontent-%COMP%]{overflow-x:hidden}}.trip-planner[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{height:85vh}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{height:100%;position:fixed;top:0;width:auto}}.trip-planner[_ngcontent-%COMP%]   .map-container.mobile[_ngcontent-%COMP%]{z-index:999}.trip-planner[_ngcontent-%COMP%]   .map-container.hidediv[_ngcontent-%COMP%]{visibility:hidden}.trip-planner[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{top:8px;left:16px;height:40px;text-align:center;cursor:pointer;line-height:40px;color:#000;background:#fff;box-shadow:0 5px 5px rgba(0,0,0,.2);font-weight:500;position:absolute;width:40px;border-radius:50%;z-index:10}.trip-planner[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;overflow-y:auto;height:85vh;background:#f2f2f2;box-shadow:8px 0 8px -2px rgba(0,0,0,.2);z-index:1;padding:0}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]{height:100%;overflow:visible}}.trip-planner[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{padding:0 8px;background:#f2f2f2}@media print{.trip-planner[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]{width:100%;overflow:visible!important;overflow-y:visible!important;display:block}}.trip-planner[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]{padding-top:1rem}.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;bottom:20px;visibility:hidden;display:flex;opacity:0;transition:transform .2s;flex-direction:row;align-items:center;margin-left:auto;margin-right:auto;padding:0;height:0;width:138px;border-radius:16.5px;background-color:#fff;box-shadow:0 2px 23px 0 rgba(0,0,0,.16);font-size:14px}.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:translateY(-16px);height:33px;margin-top:30px;padding:6px 12px}.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]     .tp-icon, .trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{height:10px!important}.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:block}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]{margin-top:16px;margin-left:-68px}}@media print{.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]{display:none}}.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;transition:transform .2s;margin-left:auto;left:auto}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]{bottom:0;position:fixed;left:50%;margin-left:-79px}}.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]     .tp-icon, .trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{height:10px!important;width:10px!important;min-width:10px!important}.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{padding-left:10px}.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:none;height:16px;width:98px;color:#1d69b4;font-size:12px;line-height:15px;margin-left:5px}.trip-planner[_ngcontent-%COMP%]   .result-action[_ngcontent-%COMP%]{padding:0 8px 10px;overflow:hidden;margin-top:16px;margin-bottom:6px}.trip-planner[_ngcontent-%COMP%]   .append-btn[_ngcontent-%COMP%]{float:left}.trip-planner[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]{height:32px;float:right;display:flex}.trip-planner[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]     .tp-icon{height:16px;width:16px}.trip-planner[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#555;font-size:14px;line-height:18px;text-align:center}.result-actions-button[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:5px;font-size:13px;font-weight:400;color:#555;line-height:13px;height:32px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff;float:right;padding:0 14px}.result-actions-button[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{padding-right:8px}.trip-error[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;min-height:40vh}"]})},"Jt/G":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reducers=void 0;const r=n("3W3v"),i=n("3odx"),o=n("Er9r"),a=n("dBJ5"),s=n("XSGw"),c=n("+l4O"),l=n("TdS2"),u=n("tKZv");e.reducers={TripDetails:r.tripReducer,CardType:o.cardTypeReducer,TripHistory:i.tripHistoryReducer,router:a.routerReducer,AppView:s.appViewReducer,DeparturesFeature:c.DeparturesReducer,OpalRetailersFeature:l.OpalRetailersReducer,DepartureHistory:u.departureHistoryReducer}},JvPz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WindowRef=void 0;const r=n("8Y7J");class i{constructor(){this.drupalSettings=this._window().drupalSettings}_window(){return window}_document(){return document}_location(){return location}redirectToUrl(t){const e=encodeURI(t);e===this._location().href?this._location().reload():this._location().href=e}ALLUtils(){return this._window().ALLUtils}Utils(){return this._window().Utils}isSafari(){return/^((?!chrome|android).)*safari/i.test(this.navigator().userAgent)}isLandscapeOrientation(){let t=!1;if(this.isSafari())t=90===Math.abs(this._window().orientation);else{const e=this._window().screen,n=(e.orientation||{}).type||e.mozOrientation||e.msOrientation;t="landscape-secondary"===n||"landscape-primary"===n}return t}navigator(){return navigator}queryParams(){return this._window().location.search}isMobileView(){return this._window().innerWidth<768||this._window().innerWidth<992&&this.isLandscapeOrientation()}url(){return this._window().location.href}dataLayer(){return this._window().dataLayer}pushHistory(t){this._window().history.replaceState("","",t)}focus(t,e){this._document().getElementById(t)?this._document().getElementById(t).focus():setTimeout(()=>{this.focus(t)},e)}focusByClass(t,e,n){const r=document.querySelectorAll(t)[e];r&&setTimeout(()=>{r.focus()},n)}removeClass(t){const e=this._document().getElementsByClassName(t);e.length&&e[0].classList.contains(t)&&e[0].classList.remove(t)}scrollToServiceProviderTab(){const t=document.getElementById("tniToTripLocation");setTimeout(()=>{this.isMobileView()?t.scrollIntoView({top:100,left:0,behavior:"smooth"}):document.getElementById("trip-planner-left-panel").scrollTop=210},1500)}}e.WindowRef=i,i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})},JvlW:function(t,e,n){!function(t){"use strict";var e={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function n(t,e,n,r){return e?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(t){return t%10==0||t>10&&t<20}function i(t){return e[t].split("_")}function o(t,e,o,a){var s=t+" ";return 1===t?s+n(0,e,o[0],a):e?s+(r(t)?i(o)[1]:i(o)[0]):a?s+i(o)[1]:s+(r(t)?i(o)[1]:i(o)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(t,e,n,r){return e?"kelios sekund\u0117s":r?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(n("wd/R"))},"K/tc":function(t,e,n){!function(t){"use strict";t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},KJxU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeSortPipe=void 0;const r=n("yPCr"),i=n("8Y7J");class o{transform(t){const e=[r.Mode.Metro,r.Mode.Train,r.Mode.Bus,r.Mode.SchoolBus,r.Mode.Ferry,r.Mode.LightRail,r.Mode.Coach];return t.sort((t,n)=>e.indexOf(t)-e.indexOf(n))}}e.ModeSortPipe=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=i.\u0275\u0275definePipe({name:"modeSortPipe",type:o,pure:!0})},KQMD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesDetailErrorAction=e.DeparturesErrorAction=e.SetDepartureModesByLinesAction=e.SelectDepartureAction=e.ChangeFavStateDepartureSearchAction=e.RemoveDeparturesHistoryAction=e.DeparturesHistoryAction=e.InitiateDepartureHistoryAction=e.ClearDeparturesAction=e.DeparturesStopRefreshAction=e.DeparturesRefreshAction=e.DeparturesResponseAction=e.DeparturesNoOpAction=e.DeparturesDetailAction=e.SearchDeparturesAction=e.SearchDeparturesLoadingAction=e.ShowNewDepartureSearchAction=e.DeparturesActionTypes=void 0;var r=e.DeparturesActionTypes=function(t){return t.ShowNewDepartureSearch="[Departures] ShowNewDepartureSearchAction",t.SearchDeparturesLoading="[Departures] SearchDeparturesLoadingAction",t.SearchDepartures="[Departures] SearchDeparturesAction",t.DeparturesResponse="[Departures] DeparturesResponseAction",t.ClearDepartures="[Departures] ClearDeparturesAction",t.InitiateDepartureHistory="[Departures] InitiateDepartureHistoryAction",t.DeparturesHistory="[Departures] DeparturesHistoryAction",t.RemoveDeparturesHistory="[Departures] RemoveDeparturesHistoryAction",t.ChangeFavState="[Departures] ChangeFavStateAction",t.DeparturesDetail="[Departures] DeparturesDetail",t.SelectDeparture="[Departures] SelectDeparture",t.DepartureModesByLines="[Departures] DepartureModesByLines",t.DeparturesError="[Departures] DeparturesError",t.DeparturesRefresh="[Departures] DeparturesRefresh",t.DeparturesNoOp="[Departures] DeparturesNoOp",t.DeparturesStopRefresh="[Departures] DeparturesStopRefresh",t.DeparturesDetailError="[Departures] DeparturesDetailError",t}(e.DeparturesActionTypes||{});e.ShowNewDepartureSearchAction=class{constructor(t){this.payload=t,this.type=r.ShowNewDepartureSearch}},e.SearchDeparturesLoadingAction=class{constructor(t){this.payload=t,this.type=r.SearchDeparturesLoading}},e.SearchDeparturesAction=class{constructor(t){this.payload=t,this.type=r.SearchDepartures}},e.DeparturesDetailAction=class{constructor(t){this.payload=t,this.type=r.DeparturesDetail}},e.DeparturesNoOpAction=class{constructor(){this.type=r.DeparturesNoOp}},e.DeparturesResponseAction=class{constructor(t){this.payload=t,this.type=r.DeparturesResponse}},e.DeparturesRefreshAction=class{constructor(t){this.payload=t,this.type=r.DeparturesRefresh}},e.DeparturesStopRefreshAction=class{constructor(){this.type=r.DeparturesStopRefresh}},e.ClearDeparturesAction=class{constructor(t){this.payload=t,this.type=r.ClearDepartures}},e.InitiateDepartureHistoryAction=class{constructor(t){this.payload=t,this.type=r.InitiateDepartureHistory}},e.DeparturesHistoryAction=class{constructor(t){this.payload=t,this.type=r.DeparturesHistory}},e.RemoveDeparturesHistoryAction=class{constructor(t){this.payload=t,this.type=r.RemoveDeparturesHistory}},e.ChangeFavStateDepartureSearchAction=class{constructor(t){this.payload=t,this.type=r.ChangeFavState}},e.SelectDepartureAction=class{constructor(t){this.payload=t,this.type=r.SelectDeparture}},e.SetDepartureModesByLinesAction=class{constructor(t){this.payload=t,this.type=r.DepartureModesByLines}},e.DeparturesErrorAction=class{constructor(t){this.payload=t,this.type=r.DeparturesError}},e.DeparturesDetailErrorAction=class{constructor(t){this.payload=t,this.type=r.DeparturesDetailError}}},KSF8:function(t,e,n){!function(t){"use strict";t.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n r\u1ed3i l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n("wd/R"))},KTz0:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},KgG1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SummaryFareComponent=void 0;const r=n("1z/I"),i=n("sYyf"),o=n("8Y7J"),a=n("lTCs"),s=n("SVse"),c=n("1z/I"),l=n("0njA"),u=n("ajRT"),p=["fareType"];function d(t,e){if(1&t){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",3),o.\u0275\u0275elementStart(1,"span",4,5),o.\u0275\u0275listener("keydown.enter",(function(e){o.\u0275\u0275restoreView(t);const n=o.\u0275\u0275nextContext();return e.preventDefault(),n.openOpalPayDialog(e)}))("click",(function(e){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext().openOpalPayDialog(e)})),o.\u0275\u0275elementStart(3,"span",6),o.\u0275\u0275text(4,"Opal pay is available for this trip"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(5,"tni-icon",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&t&&(o.\u0275\u0275advance(5),o.\u0275\u0275property("iconClasses","md left middle opal-pay")("iconAriaHidden",!0)("iconAriaHidden",!0))}function h(t,e){1&t&&(o.\u0275\u0275elementStart(0,"span",8),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"This is a free trip"),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(3,"Free"),o.\u0275\u0275elementEnd())}function f(t,e){if(1&t){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"tni-modal",10),o.\u0275\u0275listener("closeEvent",(function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext(2).closeOpalPayDialog()})),o.\u0275\u0275elementStart(1,"tni-modal-title"),o.\u0275\u0275element(2,"tni-icon",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"div",11),o.\u0275\u0275elementStart(4,"p"),o.\u0275\u0275text(5," OpalPay allows you to pay with an Opal card, on selected private transport services. OpalPay fares are set by private operators and are not the same as Opal card or single trip ticket fares on the public transport network. "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"p"),o.\u0275\u0275text(7," OpalPay fares do not count towards the daily and weekly travel caps or incur any Opal benefits, such as travel discounts and the Opal trip advantage. "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"a",12),o.\u0275\u0275text(9," Find out more "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"tni-modal-custom-button"),o.\u0275\u0275elementStart(11,"button",13),o.\u0275\u0275listener("click",(function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext(2).closeOpalPayDialog()})),o.\u0275\u0275text(12,"OK"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&t&&(o.\u0275\u0275property("alignAtTop",!0)("fullscreenMobile",!0),o.\u0275\u0275advance(2),o.\u0275\u0275property("iconClasses","xl left middle opal-pay")("iconAriaHidden",!0))}function m(t,e){if(1&t&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,f,13,4,"tni-modal",9),o.\u0275\u0275elementContainerEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showOpalPayModal)}}class g{constructor(t){this.modalService=t}openOpalPayDialog(t){t.stopPropagation(),t.preventDefault(),this.modalService.addModalToBody(this.portal),this.showOpalPayModal=!0}closeOpalPayDialog(){this.modalService.removeModalFromBody(),this.showOpalPayModal=!1,setTimeout(()=>{this.fareTypeEl.nativeElement.focus()},200)}}e.SummaryFareComponent=g,g.\u0275fac=function(t){return new(t||g)(o.\u0275\u0275directiveInject(a.ModalService))},g.\u0275cmp=o.\u0275\u0275defineComponent({type:g,selectors:[["tni-summary-fare"]],viewQuery:function(t,e){var n;1&t&&(o.\u0275\u0275viewQuery(r.CdkPortal,!0),o.\u0275\u0275viewQuery(p,!0)),2&t&&(o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.portal=n.first),o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.fareTypeEl=n.first))},inputs:{isOpalPay:"isOpalPay",isFree:"isFree"},decls:3,vars:2,consts:[["class","pull-right journey-fare",4,"ngIf"],["class","pull-right free-journey",4,"ngIf"],[4,"cdkPortal"],[1,"pull-right","journey-fare"],["tabindex","0",1,"fareType","fare-type-opal-pay",3,"keydown.enter","click"],["fareType",""],[1,"sr-only"],["iconName","opal-pay","imageTitle","OpalPay",3,"iconClasses","iconAriaHidden"],[1,"pull-right","free-journey"],["class","opal-pay-modal-dialog","ariaLabel","Opalpay",3,"alignAtTop","fullscreenMobile","closeEvent",4,"ngIf"],["ariaLabel","Opalpay",1,"opal-pay-modal-dialog",3,"alignAtTop","fullscreenMobile","closeEvent"],[1,"opal-pay-text","modal-text"],["href","/opalpay","target","_blank"],[1,"btn","btn-primary","btn-close-modal",3,"click"]],template:function(t,e){1&t&&(o.\u0275\u0275template(0,d,6,3,"div",0),o.\u0275\u0275template(1,h,4,0,"span",1),o.\u0275\u0275template(2,m,2,1,"ng-container",2)),2&t&&(o.\u0275\u0275property("ngIf",e.isOpalPay),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.isFree))},directives:[s.NgIf,c.CdkPortal,l.IconComponent,u.ModalComponent,u.ModalTitleDirective,u.ModalCustomButtonDirective],styles:[".opal-pay-modal-dialog[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}.opal-pay-modal-dialog[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{bottom:1px}.free-journey[_ngcontent-%COMP%]{font-size:14px;color:#555}.no-fare[_ngcontent-%COMP%]{margin-right:-65px}.fare-type-opal-pay[_ngcontent-%COMP%]{text-decoration:underline;color:#1d69b4}.fare-type-opal-pay[_ngcontent-%COMP%]:focus, .fare-type-opal-pay[_ngcontent-%COMP%]:hover{color:#124372}.leg-fare-type[_ngcontent-%COMP%]{cursor:auto}.journey-fare[_ngcontent-%COMP%]{cursor:pointer}.journey-fare[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-decoration:underline;font-size:16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.journey-fare[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}}svg.tp-icon.lg.left.middle.opal-pay[_ngcontent-%COMP%]{width:94px;height:56px;margin-right:2px}.btn-close-modal[_ngcontent-%COMP%]{width:130px;height:32px;font-size:14px;line-height:14px}.fare-modal[_ngcontent-%COMP%]{height:385px;overflow:auto;margin:10px 0;padding-bottom:8rem}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.fare-modal[_ngcontent-%COMP%]{height:90vh}}"],data:{animation:[i.fadeOutAnimation]}})},Kj3r:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("D0XW");function o(t,e=i.a){return n=>n.lift(new a(t,e))}class a{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new s(t,this.dueTime,this.scheduler))}}class s extends r.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},Km1n:function(t,e,n){"use strict";n.r(e),n.d(e,"MAT_BOTTOM_SHEET_DATA",(function(){return gt})),n.d(e,"MAT_BOTTOM_SHEET_DEFAULT_OPTIONS",(function(){return xt})),n.d(e,"MatBottomSheet",(function(){return wt})),n.d(e,"MatBottomSheetConfig",(function(){return yt})),n.d(e,"MatBottomSheetContainer",(function(){return vt})),n.d(e,"MatBottomSheetModule",(function(){return bt})),n.d(e,"MatBottomSheetRef",(function(){return Mt})),n.d(e,"matBottomSheetAnimations",(function(){return _t}));var r=n("8LU1"),i=n("8Y7J"),o=n("XNiG"),a=n("LRne"),s=n("HDdC"),c=n("xgIS"),l=(n("eNwd"),n("7Hc7"),n("quSY")),u=(n("7+OI"),n("/uUt"),n("3UWI")),p=n("pLZG"),d=n("1G5W"),h=n("JX91"),f=(n("Zy1z"),n("eIep"),n("UXun"),n("SCoL")),m=n("SVse"),g=n("9gLZ");n("CtHx");let y=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new o.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new s.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Object(u.a)(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(a.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(p.a)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return Object(c.a)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](f.Platform),i["\u0275\u0275inject"](m.DOCUMENT,8))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(f.Platform),Object(i["\u0275\u0275inject"])(m.DOCUMENT,8))},token:t,providedIn:"root"}),t})(),_=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new o.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Object(u.a)(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](f.Platform),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](m.DOCUMENT,8))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(f.Platform),Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(m.DOCUMENT,8))},token:t,providedIn:"root"}),t})(),v=(()=>{class t{}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})(),b=(()=>{class t{}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[g.a,f.PlatformModule,v],g.a,v]}),t})();var M=n("1z/I"),x=n("VRyK"),w=n("IzEk"),C=n("Ht+U");class S{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(r.c)(-this._previousScrollPosition.left),t.style.top=Object(r.c)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function E(){return Error("Scroll strategy has already been attached.")}class T{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw E();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class O{enable(){}disable(){}attach(){}}function A(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function P(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class L{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw E();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();A(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let k=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new O,this.close=t=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new S(this._viewportRuler,this._document),this.reposition=t=>new L(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](y),i["\u0275\u0275inject"](_),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](m.DOCUMENT))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(y),Object(i["\u0275\u0275inject"])(_),Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(m.DOCUMENT))},token:t,providedIn:"root"}),t})();class I{constructor(t){if(this.scrollStrategy=new O,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,this.excludeFromOutsideClick=[],t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class D{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class N{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function R(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function z(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let F=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](m.DOCUMENT))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(m.DOCUMENT))},token:t,providedIn:"root"}),t})(),j=(()=>{class t extends F{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](m.DOCUMENT))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(m.DOCUMENT))},token:t,providedIn:"root"}),t})(),B=(()=>{class t extends F{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)){if([...i.getConfig().excludeFromOutsideClick,i.overlayElement].some(t=>t.contains(e)))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](m.DOCUMENT),i["\u0275\u0275inject"](f.Platform))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(m.DOCUMENT),Object(i["\u0275\u0275inject"])(f.Platform))},token:t,providedIn:"root"}),t})();const q=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let V=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||q){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),q?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](m.DOCUMENT),i["\u0275\u0275inject"](f.Platform))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(m.DOCUMENT),Object(i["\u0275\u0275inject"])(f.Platform))},token:t,providedIn:"root"}),t})();class Y{constructor(t,e,n,r,i,a,s,c,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=a,this._document=s,this._location=c,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new o.a,this._attachments=new o.a,this._detachments=new o.a,this._locationChanges=l.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new o.a,this._outsidePointerEvents=new o.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(w.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}outsidePointerEvents(){return this._outsidePointerEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Object(r.c)(this._config.width),t.height=Object(r.c)(this._config.height),t.minWidth=Object(r.c)(this._config.minWidth),t.minHeight=Object(r.c)(this._config.minHeight),t.maxWidth=Object(r.c)(this._config.maxWidth),t.maxHeight=Object(r.c)(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Object(r.a)(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Object(d.a)(Object(x.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const H=/([A-Za-z%]+)$/;class W{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new o.a,this._resizeSubscription=l.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let a=this._getOriginPoint(t,o),s=this._getOverlayPoint(a,e,o),c=this._getOverlayFit(s,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,s,n)?r.push({position:o,origin:a,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:s,originPoint:a,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&U(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);let c=0-o,l=o+e.height-n.height,u=this._subtractOverflows(e.width,0-i,i+e.width-n.width),p=this._subtractOverflows(e.height,c,l),d=u*p;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:p===e.height,fitsInViewportHorizontally:u==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=X(this._overlayRef.getConfig().minHeight),a=X(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),o=Math.max(t.y+e.height-r.bottom,0),a=Math.max(r.top-n.top-t.y,0),s=Math.max(r.left-n.left-t.x,0);let c=0,l=0;return c=e.width<=r.width?s||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,l=e.height<=r.height?a||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new N(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,a,s,c,l;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=n.height-t.y+2*this._viewportMargin,i=n.height-a+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,s=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,s=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;s=2*e,c=t.x-e,s>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:o,left:c,bottom:a,right:l,width:s,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Object(r.c)(n.height),i.top=Object(r.c)(n.top),i.bottom=Object(r.c)(n.bottom),i.width=Object(r.c)(n.width),i.left=Object(r.c)(n.left),i.right=Object(r.c)(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Object(r.c)(t)),o&&(i.maxWidth=Object(r.c)(o))}this._lastBoundingBoxSize=n,U(this._boundingBox.style,i)}_resetBoundingBoxStyles(){U(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){U(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const r=this._viewportRuler.getViewportScrollPosition();U(n,this._getExactOverlayY(e,t,r)),U(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(s+=`translateX(${c}px) `),l&&(s+=`translateY(${l}px)`),n.transform=s.trim(),a.maxHeight&&(i?n.maxHeight=Object(r.c)(a.maxHeight):o&&(n.maxHeight="")),a.maxWidth&&(i?n.maxWidth=Object(r.c)(a.maxWidth):o&&(n.maxWidth="")),U(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=a,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Object(r.c)(o.y),i}_getExactOverlayX(t,e,n){let i,o={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?o.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":o.left=Object(r.c)(a.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:P(t,n),isOriginOutsideView:A(t,n),isOverlayClipped:P(e,n),isOverlayOutsideView:A(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{z("originX",t.originX),R("originY",t.originY),z("overlayX",t.overlayX),R("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Object(r.a)(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.ElementRef)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function U(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function X(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(H);return n&&"px"!==n?null:parseFloat(e)}return t||null}class G{constructor(t,e,n,r,i,o,a){this._preferredPositions=[],this._positionStrategy=new W(n,r,i,o,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new D(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class J{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:a}=n,s=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==i&&"100vh"!==i||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let $=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new J}connectedTo(t,e,n){return new G(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new W(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](_),i["\u0275\u0275inject"](m.DOCUMENT),i["\u0275\u0275inject"](f.Platform),i["\u0275\u0275inject"](V))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(_),Object(i["\u0275\u0275inject"])(m.DOCUMENT),Object(i["\u0275\u0275inject"])(f.Platform),Object(i["\u0275\u0275inject"])(V))},token:t,providedIn:"root"}),t})(),K=0,Z=(()=>{class t{constructor(t,e,n,r,i,o,a,s,c,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=a,this._document=s,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new I(t);return i.direction=i.direction||this._directionality.value,new Y(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+K++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.ApplicationRef)),new M.DomPortalOutlet(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](k),i["\u0275\u0275inject"](V),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"]($),i["\u0275\u0275inject"](j),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](m.DOCUMENT),i["\u0275\u0275inject"](g.b),i["\u0275\u0275inject"](m.Location,8),i["\u0275\u0275inject"](B,8))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const Q={provide:new i.InjectionToken("cdk-connected-overlay-scroll-strategy"),deps:[Z],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let tt=(()=>{class t{}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[Z,Q],imports:[[g.a,M.PortalModule,b],b]}),t})();var et=n("UhP/"),nt=n("itXk"),rt=n("GyhO"),it=n("zP0r"),ot=n("Kj3r"),at=n("lJxs");const st=new Set;let ct,lt=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ut}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!st.has(t))try{ct||(ct=document.createElement("style"),ct.setAttribute("type","text/css"),document.head.appendChild(ct)),ct.sheet&&(ct.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),st.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](f.Platform))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(f.Platform))},token:t,providedIn:"root"}),t})();function ut(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let pt=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new o.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return dt(Object(r.a)(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){const e=dt(Object(r.a)(t)).map(t=>this._registerQuery(t).observable);let n=Object(nt.b)(e);return n=Object(rt.a)(n.pipe(Object(w.a)(1)),n.pipe(Object(it.a)(1),Object(ot.a)(0))),n.pipe(Object(at.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new s.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Object(h.a)(e),Object(at.a)(e=>({query:t,matches:e.matches})),Object(d.a)(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](lt),i["\u0275\u0275inject"](i.NgZone))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(lt),Object(i["\u0275\u0275inject"])(i.NgZone))},token:t,providedIn:"root"}),t})();function dt(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var ht=n("GS7A"),ft=n("YEUz");function mt(t,e){}const gt=new i.InjectionToken("MatBottomSheetData");class yt{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const _t={bottomSheetState:Object(ht.trigger)("state",[Object(ht.state)("void, hidden",Object(ht.style)({transform:"translateY(100%)"})),Object(ht.state)("visible",Object(ht.style)({transform:"translateY(0%)"})),Object(ht.transition)("visible => void, visible => hidden",Object(ht.animate)(`${et.AnimationDurations.COMPLEX} ${et.AnimationCurves.ACCELERATION_CURVE}`)),Object(ht.transition)("void => visible",Object(ht.animate)(`${et.AnimationDurations.EXITING} ${et.AnimationCurves.DECELERATION_CURVE}`))])};let vt=(()=>{class t extends M.BasePortalOutlet{constructor(t,e,n,r,o,a){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=a,this._animationState="void",this._animationStateChanged=new i.EventEmitter,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=o,this._breakpointSubscription=r.observe(["(min-width: 960px) and (max-width: 1279.99px)","(min-width: 1280px) and (max-width: 1919.99px)","(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",r.isMatched("(min-width: 960px) and (max-width: 1279.99px)")),this._toggleClass("mat-bottom-sheet-container-large",r.isMatched("(min-width: 1280px) and (max-width: 1919.99px)")),this._toggleClass("mat-bottom-sheet-container-xlarge",r.isMatched("(min-width: 1920px)"))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](ft.b),i["\u0275\u0275directiveInject"](pt),i["\u0275\u0275directiveInject"](m.DOCUMENT,8),i["\u0275\u0275directiveInject"](yt))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){var n;1&t&&i["\u0275\u0275staticViewQuery"](M.CdkPortalOutlet,!0),2&t&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&i["\u0275\u0275syntheticHostListener"]("@state.start",(function(t){return e._onAnimationStart(t)}))("@state.done",(function(t){return e._onAnimationDone(t)})),2&t&&(i["\u0275\u0275attribute"]("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),i["\u0275\u0275syntheticHostProperty"]("@state",e._animationState))},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i["\u0275\u0275template"](0,mt,0,0,"ng-template",0)},directives:[M.CdkPortalOutlet],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[_t.bottomSheetState]},changeDetection:0}),t})(),bt=(()=>{class t{}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[tt,et.MatCommonModule,M.PortalModule],et.MatCommonModule]}),t})();class Mt{constructor(t,e,n){this._overlayRef=e,this._afterDismissed=new o.a,this._afterOpened=new o.a,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Object(p.a)(t=>"done"===t.phaseName&&"visible"===t.toState),Object(w.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(p.a)(t=>"done"===t.phaseName&&"hidden"===t.toState),Object(w.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(Object(w.a)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Object(x.a)(e.backdropClick(),e.keydownEvents().pipe(Object(p.a)(t=>t.keyCode===C.g))).subscribe(t=>{this.disableClose||"keydown"===t.type&&Object(C.q)(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Object(p.a)(t=>"start"===t.phaseName),Object(w.a)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this._afterOpened.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const xt=new i.InjectionToken("mat-bottom-sheet-default-options");let wt=(()=>{class t{constructor(t,e,n,r,i){this._overlay=t,this._injector=e,this._parentBottomSheet=n,this._location=r,this._defaultOptions=i,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const n=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new yt,e),r=this._createOverlay(n),o=this._attachContainer(r,n),a=new Mt(o,r,this._location);if(t instanceof i.TemplateRef)o.attachTemplatePortal(new M.TemplatePortal(t,null,{$implicit:n.data,bottomSheetRef:a}));else{const e=new M.ComponentPortal(t,void 0,this._createInjector(n,a)),r=o.attachComponentPortal(e);a.instance=r.instance}return a.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==a&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>a.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):a.containerInstance.enter(),this._openedBottomSheetRef=a,a}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const n=new M.PortalInjector(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[yt,e]])),r=new M.ComponentPortal(vt,e.viewContainerRef,n);return t.attach(r).instance}_createOverlay(t){const e=new I({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=new WeakMap([[Mt,e],[gt,t.data]]);return!t.direction||n&&n.get(g.b,null)||r.set(g.b,{value:t.direction,change:Object(a.a)()}),new M.PortalInjector(n||this._injector,r)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](Z),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](t,12),i["\u0275\u0275inject"](m.Location,8),i["\u0275\u0275inject"](xt,8))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(Z),Object(i["\u0275\u0275inject"])(i.INJECTOR),Object(i["\u0275\u0275inject"])(t,12),Object(i["\u0275\u0275inject"])(m.Location,8),Object(i["\u0275\u0275inject"])(xt,8))},token:t,providedIn:bt}),t})()},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))}}class a extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},Kytb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapExploreComponent=e.LOCATION_BLOCKED_MESSAGE=void 0;const r=n("8Y7J"),i=n("kU1M"),o=n("RNDk"),a=n("iFc6"),s=n("qKfS"),c=n("8Y7J"),l=n("tqRt"),u=n("Hrlu"),p=n("XhXp"),d=n("SVse"),h=n("bHkN"),f=n("0njA");function m(t,e){if(1&t){const t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"a",5),c.\u0275\u0275listener("click",(function(){return c.\u0275\u0275restoreView(t),c.\u0275\u0275nextContext().toggleExploreMode()})),c.\u0275\u0275element(1,"tni-icon",6),c.\u0275\u0275elementEnd()}2&t&&(c.\u0275\u0275advance(1),c.\u0275\u0275property("iconAriaHidden",!0))}const g=function(t){return{"map-explore--expanded":t}};e.LOCATION_BLOCKED_MESSAGE="Accessing your current location was denied. Please enable location services.";class y{constructor(t,e,n){this.stateStore=t,this.locationService=e,this.mapPointsService=n,this.mapError=new r.EventEmitter,this.isExpanded=!1}ngOnInit(){this.removeCurrentMarkers()}toggleExploreMode(){this.isExpanded=!this.isExpanded}locationChange(t){t&&(t.type===s.LocationType.CurrentLocation?this.locationService.getCurrentLocation().pipe(i.take(1)).subscribe(t=>this.stateStore.dispatch(new o.MapExploreLocationAction(t)),t=>{var n;return this.mapError.emit(null!==(n=t.message)&&void 0!==n?n:e.LOCATION_BLOCKED_MESSAGE)}):this.stateStore.dispatch(new o.MapExploreLocationAction(t)))}clearSearch(){this.removeCurrentMarkers(),this.stateStore.dispatch(new o.MapExploreLocationAction(null))}removeCurrentMarkers(){this.mapPointsService.removeMarkers(a.TniConstant.MAPBOX_CONSTANTS.mapbox_explore_location_id)}}e.MapExploreComponent=y,y.\u0275fac=function(t){return new(t||y)(c.\u0275\u0275directiveInject(l.Store),c.\u0275\u0275directiveInject(u.LocationService),c.\u0275\u0275directiveInject(p.MapPointsService))},y.\u0275cmp=c.\u0275\u0275defineComponent({type:y,selectors:[["tni-map-explore"]],outputs:{mapError:"mapError"},decls:5,vars:7,consts:[[1,"map-explore",3,"ngClass"],["class","map-explore__search icon__search",3,"click",4,"ngIf"],[1,"map-explore__input"],["id","explore","label","From","placeholder","Enter a location",1,"from-location",3,"highlightText","hideDropdownHeader","isFocus","locationChange","clearClick"],["locationSearchTo",""],[1,"map-explore__search","icon__search",3,"click"],["iconClasses","tp-icon","iconTitle","explore","iconName","search",3,"iconAriaHidden"]],template:function(t,e){1&t&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275template(1,m,2,1,"a",1),c.\u0275\u0275elementStart(2,"div",2),c.\u0275\u0275elementStart(3,"tni-location-search",3,4),c.\u0275\u0275listener("locationChange",(function(t){return e.locationChange(t)}))("clearClick",(function(){return e.clearSearch()})),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t&&(c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(5,g,e.isExpanded)),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",!e.isExpanded),c.\u0275\u0275advance(2),c.\u0275\u0275property("highlightText",!1)("hideDropdownHeader",!0)("isFocus",e.isExpanded))},directives:[d.NgClass,d.NgIf,h.LocationSearchComponent,f.IconComponent],styles:[".map-explore[_ngcontent-%COMP%]{position:absolute;top:8px;right:calc(56px + 8px);padding:0;height:40px;width:40px;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);background-color:#fff;border-radius:4px;border:1px solid #fff;transition:width .3s ease-in-out}.map-explore[_ngcontent-%COMP%]   .map-explore__search[_ngcontent-%COMP%]{position:absolute;right:8px}.map-explore[_ngcontent-%COMP%]   .map-explore__search.icon__search[_ngcontent-%COMP%]     tni-icon{display:block;width:22px;height:22px;line-height:22px}.map-explore[_ngcontent-%COMP%]   .map-explore__search.icon__search[_ngcontent-%COMP%]     tni-icon .tp-icon{position:relative;top:-1px;width:22px;height:22px;vertical-align:middle}.map-explore[_ngcontent-%COMP%]   .map-explore__input[_ngcontent-%COMP%]{display:none;width:100%}.map-explore[_ngcontent-%COMP%]     tni-autosuggest .autosuggest-container .form-input{position:relative;padding:0}.map-explore[_ngcontent-%COMP%]     tni-autosuggest .autosuggest-container .form-input label{display:none}.map-explore[_ngcontent-%COMP%]     tni-autosuggest .autosuggest-container .form-input input{background-color:transparent;border-bottom:0;padding:4px 32px 8px 16px!important;height:auto;width:100%;font-size:16px}.map-explore[_ngcontent-%COMP%]     tni-autosuggest .autosuggest-container .form-input input:focus{border:0}.map-explore[_ngcontent-%COMP%]     tni-autosuggest .autosuggest-container .form-input button{position:absolute;top:9px;right:8px}.map-explore[_ngcontent-%COMP%]     tni-autosuggest .autosuggest-container .form-input button   tni-icon{display:block;width:11px;height:11px;line-height:11px}.map-explore[_ngcontent-%COMP%]     tni-autosuggest .autosuggest-container .form-input button   tni-icon .tp-icon{position:relative;top:-1px;width:11px;height:11px;vertical-align:middle}.map-explore[_ngcontent-%COMP%]     tni-autosuggest .autosuggest-container tni-autosuggest-dropdown .autosuggest-dropdown-container{border-radius:2px;left:0;right:-48px;top:37px}.map-explore.map-explore--expanded[_ngcontent-%COMP%]{width:calc(100% - 128px);padding:0}.map-explore.map-explore--expanded[_ngcontent-%COMP%]   .map-explore__search[_ngcontent-%COMP%]{right:12px}.map-explore.map-explore--expanded[_ngcontent-%COMP%]   .map-explore__input[_ngcontent-%COMP%]{display:block}"]})},LIED:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeSelectorComponent=e.DEFAULT_MODE=e.DEFAULT_DATE_TIME=e.DEFAULT_DAY_RANGE=e.DateTimeSelectorOptions=e.DateTimeSelectorModes=void 0;const r=n("8Y7J"),i=n("s7LF"),o=n("f0Wu"),a=n("qCKp"),s=n("kU1M"),c=n("8Y7J"),l=n("s7LF"),u=n("SVse"),p=n("0njA");function d(t,e){if(1&t&&c.\u0275\u0275element(0,"tni-icon",24),2&t){const t=c.\u0275\u0275nextContext().$implicit;c.\u0275\u0275property("iconTitle",t.title)}}const h=function(t){return{active:t}};function f(t,e){if(1&t){const t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"label",18),c.\u0275\u0275listener("keyup.enter",(function(){return c.\u0275\u0275restoreView(t),c.\u0275\u0275reference(3).click()}))("keydown.space",(function(e){c.\u0275\u0275restoreView(t);const n=c.\u0275\u0275reference(3);return e.preventDefault(),n.click()})),c.\u0275\u0275pipe(1,"lowercase"),c.\u0275\u0275element(2,"input",19,20),c.\u0275\u0275elementStart(4,"span",21),c.\u0275\u0275template(5,d,1,1,"tni-icon",22),c.\u0275\u0275elementStart(6,"span"),c.\u0275\u0275text(7),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"span",23),c.\u0275\u0275text(9),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()}if(2&t){const t=e.$implicit,n=c.\u0275\u0275nextContext();c.\u0275\u0275classMapInterpolate1("btn btn-default ",c.\u0275\u0275pipeBind1(1,9,t.value),""),c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(11,h,n.optionFormControl.value===t.value)),c.\u0275\u0275attribute("aria-checked",n.optionFormControl.value===t.value),c.\u0275\u0275advance(2),c.\u0275\u0275property("value",t.value),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngIf",n.optionFormControl.value===t.value),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(t.value),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate1("- ",t.title,"")}}function m(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"option",25),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"date"),c.\u0275\u0275elementEnd()),2&t){const t=c.\u0275\u0275nextContext();c.\u0275\u0275property("ngValue",t.days[0]),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1("Today ",c.\u0275\u0275pipeBind2(2,2,t.days[0],"(EEE)"),"")}}function g(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"option",25),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"date"),c.\u0275\u0275elementEnd()),2&t){const t=c.\u0275\u0275nextContext();c.\u0275\u0275property("ngValue",t.days[1]),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1("Tomorrow ",c.\u0275\u0275pipeBind2(2,2,t.days[1],"(EEE)"),"")}}function y(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"option",25),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"date"),c.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;c.\u0275\u0275property("ngValue",t),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind2(2,2,t,"dd MMM (EEE)"))}}function _(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"option",25),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"number"),c.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;c.\u0275\u0275property("ngValue",t),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ",c.\u0275\u0275pipeBind2(2,2,t,"2.0")," ")}}function v(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"option",25),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"number"),c.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;c.\u0275\u0275property("ngValue",t),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind2(2,2,t,"2.0"))}}var b=e.DateTimeSelectorModes=function(t){return t.Arrival="Arrival",t.Departure="Departure",t}(e.DateTimeSelectorModes||{}),M=e.DateTimeSelectorOptions=function(t){return t.Now="Now",t.Arriving="Arriving",t.Leaving="Leaving",t}(e.DateTimeSelectorOptions||{});e.DEFAULT_DAY_RANGE=14,e.DEFAULT_DATE_TIME=0,e.DEFAULT_MODE=b.Arrival;class x{constructor(t){this.fb=t,this.tniDateTimeSelectorText=new r.EventEmitter,this.tniDateTimeSelectorTextSubject=new a.BehaviorSubject("Leaving now"),this.tniDateTimeSelectorText$=this.tniDateTimeSelectorTextSubject.asObservable(),this.onTouched=()=>{},this.onChanged=()=>{}}set isDepartures(t){this.options=t?[{title:"Leaving now",value:M.Now},{title:"leave after a specified date and time",value:M.Leaving}]:[{title:"Leaving now",value:M.Now},{title:"leave after a specified date and time",value:M.Leaving},{title:"arrive by a specified date and time",value:M.Arriving}]}get optionFormControl(){return this.dateTimeSelectorFormGroup.get("option")}get dayFormControl(){return this.dateTimeSelectorFormGroup.get("day")}get hourFormControl(){return this.dateTimeSelectorFormGroup.get("hour")}get minuteFormControl(){return this.dateTimeSelectorFormGroup.get("minute")}isSameDay(t,e){return t.isSame(e)}ngOnInit(){this._setupDefault(),this._setupEmptyFormGroup(),this._setupSelectableValues(),this._updateFormGroupBasedOnInputs(this.tniDateTimeSelectorDateTime,this.tniDateTimeSelectorMode),this._setupFormGroupListeners()}ngOnChanges(t){if(t.tniDateTimeSelectorDayRange&&(this.days=this._getSelectableDayValues(t.tniDateTimeSelectorDayRange.currentValue)),this.dateTimeSelectorFormGroup&&(t.tniDateTimeSelectorDateTime&&this._updateFormGroupBasedOnInputs(t.tniDateTimeSelectorDateTime.currentValue,this.tniDateTimeSelectorMode),t.tniDateTimeSelectorMode)){const e=this._getInputBasedOption(this.tniDateTimeSelectorDateTime,t.tniDateTimeSelectorMode.currentValue);this.optionFormControl.setValue(e)}}writeValue(t){const e=!!t&&!!t.option&&["Now","Arriving","Leaving"].includes(t.option),n=!!t&&!!t.day&&o.isMoment(t.day),r=!!t&&Number.isInteger(t.hour),i=!!t&&Number.isInteger(t.minute);e&&n&&r&&i?t.option===M.Now?(this.optionFormControl.setValue(t.option),this.dayFormControl.setValue(t.day,{emitEvent:!1}),this.hourFormControl.setValue(t.hour,{emitEvent:!1}),this.minuteFormControl.setValue(t.minute,{emitEvent:!1})):this.dateTimeSelectorFormGroup.setValue(t):this.onChanged(this.dateTimeSelectorFormGroup.getRawValue())}registerOnChange(t){this.onChanged=t,this.dateTimeSelectorFormGroup.valueChanges.subscribe(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.dateTimeSelectorFormGroup.disable():this.dateTimeSelectorFormGroup.enable()}_setupDefault(){this.tniDateTimeSelectorDayRange=this.tniDateTimeSelectorDayRange||e.DEFAULT_DAY_RANGE,this.tniDateTimeSelectorDateTime=this.tniDateTimeSelectorDateTime||e.DEFAULT_DATE_TIME,this.tniDateTimeSelectorMode=this.tniDateTimeSelectorMode||e.DEFAULT_MODE}_setupEmptyFormGroup(){this.dateTimeSelectorFormGroup=this.fb.group({option:[],day:[],hour:[],minute:[]})}_setupSelectableValues(){this.days=this._getSelectableDayValues(this.tniDateTimeSelectorDayRange),this.hours=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],this.minutes=[0,5,10,15,20,25,30,35,40,45,50,55]}_updateFormGroupBasedOnInputs(t,e){const n=this._getInputBasedOption(t,e),r=this._getInputBasedDate(t),i=this._getDayInDayRange(t)||o().startOf("day"),a=r.hours(),s=5*Math.floor(r.minutes()/5)%60;this.optionFormControl.setValue(n),this.dayFormControl.setValue(i,{emitEvent:!1}),this.hourFormControl.setValue(a,{emitEvent:!1}),this.minuteFormControl.setValue(s,{emitEvent:!1})}_setupFormGroupListeners(){a.merge(this.dayFormControl.valueChanges,this.hourFormControl.valueChanges,this.minuteFormControl.valueChanges).subscribe(t=>{this.optionFormControl.value===M.Now&&this.optionFormControl.setValue(M.Leaving,{emitEvent:!1})}),this.optionFormControl.valueChanges.pipe(s.filter(t=>t===M.Now)).subscribe(t=>{this.dayFormControl.setValue(o().startOf("day"),{emitEvent:!1}),this.hourFormControl.setValue(o().hours(),{emitEvent:!1}),this.minuteFormControl.setValue(5*Math.floor(o().minutes()/5)%60,{emitEvent:!1})}),this.dateTimeSelectorFormGroup.valueChanges.pipe(s.startWith(this.dateTimeSelectorFormGroup.getRawValue())).subscribe(t=>{if(t.option===M.Now)this.tniDateTimeSelectorTextSubject.next("Leaving now"),this.tniDateTimeSelectorText.emit("Leaving now");else{const e=this._getTimeText(t.hour,t.minute),n=this._getDayText(t.day);t.option===M.Leaving?(this.tniDateTimeSelectorTextSubject.next(`Leaving ${e}, ${n}`),this.tniDateTimeSelectorText.emit(`Leaving ${e}, ${n}`)):(this.tniDateTimeSelectorTextSubject.next(`Arr ${e}, ${n}`),this.tniDateTimeSelectorText.emit(`Arr ${e}, ${n}`))}})}_getTimeText(t,e){return`${t}:${String(e).padStart(2,"0")}`}_getDayText(t){return t.isSame(o().startOf("day"))?"today "+t.format("(ddd)"):t.isSame(o().startOf("day").add(1,"day"))?"tomorrow "+t.format("(ddd)"):""+t.format("DD MMM (ddd)")}_getSelectableDayValues(t){return[...Array(t||0).keys()].map(t=>o().startOf("day").add(t,"day"))}_getInputBasedOption(t,e){return t?e===b.Arrival?M.Arriving:M.Leaving:M.Now}_getInputBasedDate(t){return t&&this._isDateTimeInDayRange(t)?o(t):o()}_isDateTimeInDayRange(t){return!!this._getDayInDayRange(t)}_getDayInDayRange(t){return this.days.find(e=>e.isSame(o(t).startOf("day")))}}e.DateTimeSelectorComponent=x,x.\u0275fac=function(t){return new(t||x)(c.\u0275\u0275directiveInject(l.FormBuilder))},x.\u0275cmp=c.\u0275\u0275defineComponent({type:x,selectors:[["tni-date-time-selector"]],inputs:{tniDateTimeSelectorDayRange:"tniDateTimeSelectorDayRange",tniDateTimeSelectorDateTime:"tniDateTimeSelectorDateTime",tniDateTimeSelectorMode:"tniDateTimeSelectorMode",isDepartures:"isDepartures"},outputs:{tniDateTimeSelectorText:"tniDateTimeSelectorText"},features:[c.\u0275\u0275ProvidersFeature([{provide:i.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(()=>x),multi:!0}]),c.\u0275\u0275NgOnChangesFeature],decls:29,vars:11,consts:[[1,"tni-date-time-selector",3,"formGroup"],[1,"tni-date-time-selector__options"],["role","radiogroup",1,"btn-group","btn-group-justified"],["tabindex","0","role","radio",3,"class","ngClass","keyup.enter","keydown.space",4,"ngFor","ngForOf"],[1,"tni-date-time-selector__date-time"],[1,"form-group","date"],["for","search-select-date",1,"control-label","sr-only"],[1,"form-control-select"],["id","search-select-date","name","search-select-date","formControlName","day",1,"form-control",3,"compareWith"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],["iconClasses","tp-icon xs form-control-select-arrow","iconName","arrow-down-small","iconAriaHidden","true"],[1,"form-group","hour"],["for","search-select-hour",1,"control-label","sr-only"],["id","search-select-hour","name","search-select-hour","formControlName","hour",1,"form-control"],[1,"form-group","minute"],["for","search-select-minute",1,"control-label","sr-only"],["id","search-select-minute","name","search-select-minute","formControlName","minute",1,"form-control"],["tabindex","0","role","radio",3,"ngClass","keyup.enter","keydown.space"],["type","radio","tabindex","-1","formControlName","option",3,"value"],["radioOption",""],["aria-hidden","true"],["iconClasses","tp-search-time-options-icon tp-icon xs","iconName","tick",3,"iconTitle",4,"ngIf"],[1,"sr-only"],["iconClasses","tp-search-time-options-icon tp-icon xs","iconName","tick",3,"iconTitle"],[3,"ngValue"]],template:function(t,e){1&t&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275elementStart(1,"div",1),c.\u0275\u0275elementStart(2,"div",2),c.\u0275\u0275template(3,f,10,13,"label",3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"div",4),c.\u0275\u0275elementStart(5,"div",5),c.\u0275\u0275elementStart(6,"label",6),c.\u0275\u0275text(7,"Date"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"div",7),c.\u0275\u0275elementStart(9,"select",8),c.\u0275\u0275template(10,m,3,5,"option",9),c.\u0275\u0275template(11,g,3,5,"option",9),c.\u0275\u0275template(12,y,3,5,"option",10),c.\u0275\u0275pipe(13,"slice"),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(14,"tni-icon",11),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(15,"div",12),c.\u0275\u0275elementStart(16,"label",13),c.\u0275\u0275text(17,"Hour in 24 hour format"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(18,"div",7),c.\u0275\u0275elementStart(19,"select",14),c.\u0275\u0275template(20,_,3,5,"option",10),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(21,"tni-icon",11),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(22,"div",15),c.\u0275\u0275elementStart(23,"label",16),c.\u0275\u0275text(24,"Minute"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(25,"div",7),c.\u0275\u0275elementStart(26,"select",17),c.\u0275\u0275template(27,v,3,5,"option",10),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(28,"tni-icon",11),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t&&(c.\u0275\u0275property("formGroup",e.dateTimeSelectorFormGroup),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngForOf",e.options),c.\u0275\u0275advance(6),c.\u0275\u0275property("compareWith",e.isSameDay),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",e.days.length>0),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",e.days.length>1),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngForOf",c.\u0275\u0275pipeBind2(13,8,e.days,2)),c.\u0275\u0275advance(8),c.\u0275\u0275property("ngForOf",e.hours),c.\u0275\u0275advance(7),c.\u0275\u0275property("ngForOf",e.minutes))},directives:[l.NgControlStatusGroup,l.FormGroupDirective,u.NgForOf,l.SelectControlValueAccessor,l.NgControlStatus,l.FormControlName,u.NgIf,p.IconComponent,u.NgClass,l.RadioControlValueAccessor,l.DefaultValueAccessor,l.NgSelectOption,l.\u0275angular_packages_forms_forms_x],pipes:[u.SlicePipe,u.LowerCasePipe,u.DatePipe,u.DecimalPipe],styles:["[_nghost-%COMP%]   .tni-date-time-selector[_ngcontent-%COMP%]{overflow:hidden;z-index:1;top:100%;left:0;right:0}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:8px}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn.focus[_ngcontent-%COMP%]{background-color:rgba(29,105,180,.07)!important;border:1px solid #1d69b4;color:#1d69b4}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child:not(:last-child):not(.dropdown-toggle){border-top-right-radius:4px;border-bottom-right-radius:4px}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:4px}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child:not(:first-child){border-top-left-radius:4px;border-bottom-left-radius:4px}[_nghost-%COMP%]     .tp-icon.md{min-width:20px;width:20px;height:20px;margin-top:-10px}[_nghost-%COMP%]     tni-icon .form-control-select-arrow{top:25px!important}[_nghost-%COMP%]   .btn-group-justified[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}[_nghost-%COMP%]   .btn-group-justified[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{width:inherit;display:inherit;height:40px;text-align:center;border-radius:4px;border:1px solid #cac9c9}[_nghost-%COMP%]   .btn-group-justified[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:400}[_nghost-%COMP%]   .btn-group-justified[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .tni-date-time-selector__date-time[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:24px}[_nghost-%COMP%]   .tni-date-time-selector__date-time[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .tni-date-time-selector__date-time[_ngcontent-%COMP%]   .form-group.hour[_ngcontent-%COMP%]{width:24%;margin-right:8px}[_nghost-%COMP%]   .tni-date-time-selector__date-time[_ngcontent-%COMP%]   .form-group.minute[_ngcontent-%COMP%]{width:23%}[_nghost-%COMP%]   .tni-date-time-selector__date-time[_ngcontent-%COMP%]   .form-group.date[_ngcontent-%COMP%]{width:49%;margin-right:8px}[_nghost-%COMP%]   .tni-date-time-selector__date-time[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 16px;border:1px solid #ccc;box-shadow:none;border-radius:4px;font-size:14px;background:transparent;height:40px;margin:0}[_nghost-%COMP%]   .tni-date-time-selector__date-time[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding-top:7px}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:26px}[_nghost-%COMP%]   .tni-date-time-selector__options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]     svg.tp-icon{margin-top:3px}}"]})},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},Loxo:function(t,e,n){!function(t){"use strict";t.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(n("wd/R"))},LvDl:function(t,e,n){(function(t){var r;(function(){var i="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",c="[object Array]",l="[object Boolean]",u="[object Date]",p="[object Error]",d="[object Function]",h="[object GeneratorFunction]",f="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",_="[object Set]",v="[object String]",b="[object Symbol]",M="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",P="[object Uint16Array]",L="[object Uint32Array]",k=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,D=/(__e\(.*?\)|\b__t\)) \+\n'';/g,N=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,z=RegExp(N.source),F=RegExp(R.source),j=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,U=RegExp(W.source),X=/^\s+|\s+$/g,G=/^\s+/,J=/\s+$/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ht="["+dt+"]",ft="["+pt+"]",mt="\\d+",gt="[a-z\\xdf-\\xf6\\xf8-\\xff]",yt="[^\\ud800-\\udfff"+dt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_t="\\ud83c[\\udffb-\\udfff]",vt="[^\\ud800-\\udfff]",bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Mt="[\\ud800-\\udbff][\\udc00-\\udfff]",xt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",wt="(?:"+gt+"|"+yt+")",Ct="(?:"+xt+"|"+yt+")",St="(?:"+ft+"|"+_t+")?",Et="[\\ufe0e\\ufe0f]?"+St+"(?:\\u200d(?:"+[vt,bt,Mt].join("|")+")[\\ufe0e\\ufe0f]?"+St+")*",Tt="(?:"+["[\\u2700-\\u27bf]",bt,Mt].join("|")+")"+Et,Ot="(?:"+[vt+ft+"?",ft,bt,Mt,"[\\ud800-\\udfff]"].join("|")+")",At=RegExp("['\u2019]","g"),Pt=RegExp(ft,"g"),Lt=RegExp(_t+"(?="+_t+")|"+Ot+Et,"g"),kt=RegExp([xt+"?"+gt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[ht,xt,"$"].join("|")+")",Ct+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[ht,xt+wt,"$"].join("|")+")",xt+"?"+wt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,Tt].join("|"),"g"),It=RegExp("[\\u200d\\ud800-\\udfff"+pt+"\\ufe0e\\ufe0f]"),Dt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rt=-1,zt={};zt[C]=zt[S]=zt[E]=zt[T]=zt[O]=zt[A]=zt["[object Uint8ClampedArray]"]=zt[P]=zt[L]=!0,zt[s]=zt[c]=zt[x]=zt[l]=zt[w]=zt[u]=zt[p]=zt[d]=zt[f]=zt[m]=zt[g]=zt[y]=zt[_]=zt[v]=zt[M]=!1;var Ft={};Ft[s]=Ft[c]=Ft[x]=Ft[w]=Ft[l]=Ft[u]=Ft[C]=Ft[S]=Ft[E]=Ft[T]=Ft[O]=Ft[f]=Ft[m]=Ft[g]=Ft[y]=Ft[_]=Ft[v]=Ft[b]=Ft[A]=Ft["[object Uint8ClampedArray]"]=Ft[P]=Ft[L]=!0,Ft[p]=Ft[d]=Ft[M]=!1;var jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,qt=parseInt,Vt="object"==typeof global&&global&&global.Object===Object&&global,Yt="object"==typeof self&&self&&self.Object===Object&&self,Ht=Vt||Yt||Function("return this")(),Wt=e&&!e.nodeType&&e,Ut=Wt&&"object"==typeof t&&t&&!t.nodeType&&t,Xt=Ut&&Ut.exports===Wt,Gt=Xt&&Vt.process,Jt=function(){try{return Ut&&Ut.require&&Ut.require("util").types||Gt&&Gt.binding&&Gt.binding("util")}catch(t){}}(),$t=Jt&&Jt.isArrayBuffer,Kt=Jt&&Jt.isDate,Zt=Jt&&Jt.isMap,Qt=Jt&&Jt.isRegExp,te=Jt&&Jt.isSet,ee=Jt&&Jt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function se(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function ce(t,e){return!(null==t||!t.length)&&_e(t,e,0)>-1}function le(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function ue(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function pe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function de(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function he(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function fe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var me=xe("length");function ge(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function ye(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function _e(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ye(t,be,n)}function ve(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function be(t){return t!=t}function Me(t,e){var n=null==t?0:t.length;return n?Se(t,e)/n:NaN}function xe(t){return function(e){return null==e?void 0:e[t]}}function we(t){return function(e){return null==t?void 0:t[e]}}function Ce(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Se(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Te(t){return function(e){return t(e)}}function Oe(t,e){return ue(e,(function(e){return t[e]}))}function Ae(t,e){return t.has(e)}function Pe(t,e){for(var n=-1,r=t.length;++n<r&&_e(e,t[n],0)>-1;);return n}function Le(t,e){for(var n=t.length;n--&&_e(e,t[n],0)>-1;);return n}function ke(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ie=we({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),De=we({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ne(t){return"\\"+jt[t]}function Re(t){return It.test(t)}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Fe(t,e){return function(n){return t(e(n))}}function je(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var s=t[n];s!==e&&s!==o||(t[n]=o,a[i++]=n)}return a}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ve(t){return Re(t)?function(t){for(var e=Lt.lastIndex=0;Lt.test(t);)++e;return e}(t):me(t)}function Ye(t){return Re(t)?function(t){return t.match(Lt)||[]}(t):function(t){return t.split("")}(t)}var He=we({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),We=function t(e){var n,r=(e=null==e?Ht:We.defaults(Ht.Object(),e,We.pick(Ht,Nt))).Array,pt=e.Date,dt=e.Error,ht=e.Function,ft=e.Math,mt=e.Object,gt=e.RegExp,yt=e.String,_t=e.TypeError,vt=r.prototype,bt=mt.prototype,Mt=e["__core-js_shared__"],xt=ht.prototype.toString,wt=bt.hasOwnProperty,Ct=0,St=(n=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Et=bt.toString,Tt=xt.call(mt),Ot=Ht._,Lt=gt("^"+xt.call(wt).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=Xt?e.Buffer:void 0,jt=e.Symbol,Vt=e.Uint8Array,Yt=It?It.allocUnsafe:void 0,Wt=Fe(mt.getPrototypeOf,mt),Ut=mt.create,Gt=bt.propertyIsEnumerable,Jt=vt.splice,me=jt?jt.isConcatSpreadable:void 0,we=jt?jt.iterator:void 0,Ue=jt?jt.toStringTag:void 0,Xe=function(){try{var t=Ki(mt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ge=e.clearTimeout!==Ht.clearTimeout&&e.clearTimeout,Je=pt&&pt.now!==Ht.Date.now&&pt.now,$e=e.setTimeout!==Ht.setTimeout&&e.setTimeout,Ke=ft.ceil,Ze=ft.floor,Qe=mt.getOwnPropertySymbols,tn=It?It.isBuffer:void 0,en=e.isFinite,nn=vt.join,rn=Fe(mt.keys,mt),on=ft.max,an=ft.min,sn=pt.now,cn=e.parseInt,ln=ft.random,un=vt.reverse,pn=Ki(e,"DataView"),dn=Ki(e,"Map"),hn=Ki(e,"Promise"),fn=Ki(e,"Set"),mn=Ki(e,"WeakMap"),gn=Ki(mt,"create"),yn=mn&&new mn,_n={},vn=To(pn),bn=To(dn),Mn=To(hn),xn=To(fn),wn=To(mn),Cn=jt?jt.prototype:void 0,Sn=Cn?Cn.valueOf:void 0,En=Cn?Cn.toString:void 0;function Tn(t){if(Ha(t)&&!Ia(t)&&!(t instanceof Ln)){if(t instanceof Pn)return t;if(wt.call(t,"__wrapped__"))return Oo(t)}return new Pn(t)}var On=function(){function t(){}return function(e){if(!Ya(e))return{};if(Ut)return Ut(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function An(){}function Pn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Ln(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Dn;++e<n;)this.add(t[e])}function Rn(t){var e=this.__data__=new In(t);this.size=e.size}function zn(t,e){var n=Ia(t),r=!n&&ka(t),i=!n&&!r&&za(t),o=!n&&!r&&!i&&Za(t),a=n||r||i||o,s=a?Ee(t.length,yt):[],c=s.length;for(var l in t)!e&&!wt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||io(l,c))||s.push(l);return s}function Fn(t){var e=t.length;return e?t[Dr(0,e-1)]:void 0}function jn(t,e){return xo(mi(t),Gn(e,0,t.length))}function Bn(t){return xo(mi(t))}function qn(t,e,n){(void 0!==n&&!Aa(t[e],n)||void 0===n&&!(e in t))&&Un(t,e,n)}function Vn(t,e,n){var r=t[e];wt.call(t,e)&&Aa(r,n)&&(void 0!==n||e in t)||Un(t,e,n)}function Yn(t,e){for(var n=t.length;n--;)if(Aa(t[n][0],e))return n;return-1}function Hn(t,e,n,r){return Qn(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Wn(t,e){return t&&gi(e,bs(e),t)}function Un(t,e,n){"__proto__"==e&&Xe?Xe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Xn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:ms(t,e[n]);return o}function Gn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Jn(t,e,n,r,i,o){var a,c=1&e,p=2&e,M=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ya(t))return t;var k=Ia(t);if(k){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&wt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return mi(t,a)}else{var I=to(t),D=I==d||I==h;if(za(t))return li(t,c);if(I==g||I==s||D&&!i){if(a=p||D?{}:no(t),!c)return p?function(t,e){return gi(t,Qi(t),e)}(t,function(t,e){return t&&gi(e,Ms(e),t)}(a,t)):function(t,e){return gi(t,Zi(t),e)}(t,Wn(a,t))}else{if(!Ft[I])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case x:return ui(t);case l:case u:return new r(+t);case w:return function(t,e){var n=e?ui(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case S:case E:case T:case O:case A:case"[object Uint8ClampedArray]":case P:case L:return pi(t,n);case f:return new r;case m:case v:return new r(t);case y:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new r;case b:return Sn?mt(Sn.call(t)):{}}}(t,I,c)}}o||(o=new Rn);var N=o.get(t);if(N)return N;o.set(t,a),Ja(t)?t.forEach((function(r){a.add(Jn(r,e,n,r,t,o))})):Wa(t)&&t.forEach((function(r,i){a.set(i,Jn(r,e,n,i,t,o))}));var R=k?void 0:(M?p?Hi:Yi:p?Ms:bs)(t);return ie(R||t,(function(r,i){R&&(r=t[i=r]),Vn(a,i,Jn(r,e,n,i,t,o))})),a}function $n(t,e,n){var r=n.length;if(null==t)return!r;for(t=mt(t);r--;){var i=n[r],o=t[i];if(void 0===o&&!(i in t)||!(0,e[i])(o))return!1}return!0}function Kn(t,e,n){if("function"!=typeof t)throw new _t(i);return _o((function(){t.apply(void 0,n)}),e)}function Zn(t,e,n,r){var i=-1,o=ce,a=!0,s=t.length,c=[],l=e.length;if(!s)return c;n&&(e=ue(e,Te(n))),r?(o=le,a=!1):e.length>=200&&(o=Ae,a=!1,e=new Nn(e));t:for(;++i<s;){var u=t[i],p=null==n?u:n(u);if(u=r||0!==u?u:0,a&&p==p){for(var d=l;d--;)if(e[d]===p)continue t;c.push(u)}else o(e,p,r)||c.push(u)}return c}Tn.templateSettings={escape:j,evaluate:B,interpolate:q,variable:"",imports:{_:Tn}},(Tn.prototype=An.prototype).constructor=Tn,(Pn.prototype=On(An.prototype)).constructor=Pn,(Ln.prototype=On(An.prototype)).constructor=Ln,kn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},kn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},kn.prototype.get=function(t){var e=this.__data__;if(gn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return wt.call(e,t)?e[t]:void 0},kn.prototype.has=function(t){var e=this.__data__;return gn?void 0!==e[t]:wt.call(e,t)},kn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gn&&void 0===e?"__lodash_hash_undefined__":e,this},In.prototype.clear=function(){this.__data__=[],this.size=0},In.prototype.delete=function(t){var e=this.__data__,n=Yn(e,t);return!(n<0||(n==e.length-1?e.pop():Jt.call(e,n,1),--this.size,0))},In.prototype.get=function(t){var e=this.__data__,n=Yn(e,t);return n<0?void 0:e[n][1]},In.prototype.has=function(t){return Yn(this.__data__,t)>-1},In.prototype.set=function(t,e){var n=this.__data__,r=Yn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new kn,map:new(dn||In),string:new kn}},Dn.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},Dn.prototype.get=function(t){return Ji(this,t).get(t)},Dn.prototype.has=function(t){return Ji(this,t).has(t)},Dn.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Nn.prototype.add=Nn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Nn.prototype.has=function(t){return this.__data__.has(t)},Rn.prototype.clear=function(){this.__data__=new In,this.size=0},Rn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Rn.prototype.get=function(t){return this.__data__.get(t)},Rn.prototype.has=function(t){return this.__data__.has(t)},Rn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof In){var r=n.__data__;if(!dn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(t,e),this.size=n.size,this};var Qn=vi(sr),tr=vi(cr,!0);function er(t,e){var n=!0;return Qn(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function nr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!Ka(a):n(a,s)))var s=a,c=o}return c}function rr(t,e){var n=[];return Qn(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function ir(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=ro),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ir(s,e-1,n,r,i):pe(i,s):r||(i[i.length]=s)}return i}var or=bi(),ar=bi(!0);function sr(t,e){return t&&or(t,e,bs)}function cr(t,e){return t&&ar(t,e,bs)}function lr(t,e){return se(e,(function(e){return Ba(t[e])}))}function ur(t,e){for(var n=0,r=(e=oi(e,t)).length;null!=t&&n<r;)t=t[Eo(e[n++])];return n&&n==r?t:void 0}function pr(t,e,n){var r=e(t);return Ia(t)?r:pe(r,n(t))}function dr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ue&&Ue in mt(t)?function(t){var e=wt.call(t,Ue),n=t[Ue];try{t[Ue]=void 0;var r=!0}catch(o){}var i=Et.call(t);return r&&(e?t[Ue]=n:delete t[Ue]),i}(t):function(t){return Et.call(t)}(t)}function hr(t,e){return t>e}function fr(t,e){return null!=t&&wt.call(t,e)}function mr(t,e){return null!=t&&e in mt(t)}function gr(t,e,n){for(var i=n?le:ce,o=t[0].length,a=t.length,s=a,c=r(a),l=1/0,u=[];s--;){var p=t[s];s&&e&&(p=ue(p,Te(e))),l=an(p.length,l),c[s]=!n&&(e||o>=120&&p.length>=120)?new Nn(s&&p):void 0}p=t[0];var d=-1,h=c[0];t:for(;++d<o&&u.length<l;){var f=p[d],m=e?e(f):f;if(f=n||0!==f?f:0,!(h?Ae(h,m):i(u,m,n))){for(s=a;--s;){var g=c[s];if(!(g?Ae(g,m):i(t[s],m,n)))continue t}h&&h.push(m),u.push(f)}}return u}function yr(t,e,n){var r=null==(t=fo(t,e=oi(e,t)))?t:t[Eo(jo(e))];return null==r?void 0:ne(r,t,n)}function _r(t){return Ha(t)&&dr(t)==s}function vr(t,e,n,r,i){return t===e||(null==t||null==e||!Ha(t)&&!Ha(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Ia(t),d=Ia(e),h=a?c:to(t),M=d?c:to(e),C=(h=h==s?g:h)==g,S=(M=M==s?g:M)==g,E=h==M;if(E&&za(t)){if(!za(e))return!1;a=!0,C=!1}if(E&&!C)return o||(o=new Rn),a||Za(t)?qi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case l:case u:case m:return Aa(+t,+e);case p:return t.name==e.name&&t.message==e.message;case y:case v:return t==e+"";case f:var s=ze;case _:if(s||(s=Be),t.size!=e.size&&!(1&r))return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var d=qi(s(t),s(e),r,i,o,a);return a.delete(t),d;case b:if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,h,n,r,i,o);if(!(1&n)){var T=C&&wt.call(t,"__wrapped__"),O=S&&wt.call(e,"__wrapped__");if(T||O){var A=T?t.value():t,P=O?e.value():e;return o||(o=new Rn),i(A,P,n,r,o)}}return!!E&&(o||(o=new Rn),function(t,e,n,r,i,o){var a=1&n,s=Yi(t),c=s.length;if(c!=Yi(e).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in e:wt.call(e,u)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var h=a;++l<c;){var f=t[u=s[l]],m=e[u];if(r)var g=a?r(m,f,u,e,t,o):r(f,m,u,t,e,o);if(!(void 0===g?f===m||i(f,m,n,r,o):g)){d=!1;break}h||(h="constructor"==u)}if(d&&!h){var y=t.constructor,_=e.constructor;y==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,vr,i))}function br(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=mt(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var c=(s=n[i])[0],l=t[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in t))return!1}else{var p=new Rn;if(r)var d=r(l,u,c,t,e,p);if(!(void 0===d?vr(u,l,3,r,p):d))return!1}}return!0}function Mr(t){return!(!Ya(t)||(e=t,St&&St in e))&&(Ba(t)?Lt:ot).test(To(t));var e}function xr(t){return"function"==typeof t?t:null==t?Us:"object"==typeof t?Ia(t)?Tr(t[0],t[1]):Er(t):ec(t)}function wr(t){if(!lo(t))return rn(t);var e=[];for(var n in mt(t))wt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Cr(t,e){return t<e}function Sr(t,e){var n=-1,i=Na(t)?r(t.length):[];return Qn(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Er(t){var e=$i(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||br(n,t,e)}}function Tr(t,e){return ao(t)&&uo(e)?po(Eo(t),e):function(n){var r=ms(n,t);return void 0===r&&r===e?gs(n,t):vr(e,r,3)}}function Or(t,e,n,r,i){t!==e&&or(e,(function(o,a){if(i||(i=new Rn),Ya(o))!function(t,e,n,r,i,o,a){var s=go(t,n),c=go(e,n),l=a.get(c);if(l)qn(t,n,l);else{var u=o?o(s,c,n+"",t,e,a):void 0,p=void 0===u;if(p){var d=Ia(c),h=!d&&za(c),f=!d&&!h&&Za(c);u=c,d||h||f?Ia(s)?u=s:Ra(s)?u=mi(s):h?(p=!1,u=li(c,!0)):f?(p=!1,u=pi(c,!0)):u=[]:Xa(c)||ka(c)?(u=s,ka(s)?u=as(s):Ya(s)&&!Ba(s)||(u=no(c))):p=!1}p&&(a.set(c,u),i(u,c,r,o,a),a.delete(c)),qn(t,n,u)}}(t,e,a,n,Or,r,i);else{var s=r?r(go(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),qn(t,a,s)}}),Ms)}function Ar(t,e){var n=t.length;if(n)return io(e+=e<0?n:0,n)?t[e]:void 0}function Pr(t,e,n){var r=-1;return e=ue(e.length?e:[Us],Te(Gi())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var c=di(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Sr(t,(function(t,n,i){return{criteria:ue(e,(function(e){return e(t)})),index:++r,value:t}})))}function Lr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=ur(t,a);n(s,a)&&jr(o,oi(a,t),s)}return o}function kr(t,e,n,r){var i=r?ve:_e,o=-1,a=e.length,s=t;for(t===e&&(e=mi(e)),n&&(s=ue(t,Te(n)));++o<a;)for(var c=0,l=e[o],u=n?n(l):l;(c=i(s,u,c,r))>-1;)s!==t&&Jt.call(s,c,1),Jt.call(t,c,1);return t}function Ir(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;io(i)?Jt.call(t,i,1):Kr(t,i)}}return t}function Dr(t,e){return t+Ze(ln()*(e-t+1))}function Nr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ze(e/2))&&(t+=t)}while(e);return n}function Rr(t,e){return vo(ho(t,e,Us),t+"")}function zr(t){return Fn(As(t))}function Fr(t,e){var n=As(t);return xo(n,Gn(e,0,n.length))}function jr(t,e,n,r){if(!Ya(t))return t;for(var i=-1,o=(e=oi(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var c=Eo(e[i]),l=n;if(i!=a){var u=s[c];void 0===(l=r?r(u,c,s):void 0)&&(l=Ya(u)?u:io(e[i+1])?[]:{})}Vn(s,c,l),s=s[c]}return t}var Br=yn?function(t,e){return yn.set(t,e),t}:Us,qr=Xe?function(t,e){return Xe(t,"toString",{configurable:!0,enumerable:!1,value:Ys(e),writable:!0})}:Us;function Vr(t){return xo(As(t))}function Yr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Hr(t,e){var n;return Qn(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Wr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ka(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Ur(t,e,Us,n)}function Ur(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,s=null===e,c=Ka(e),l=void 0===e;i<o;){var u=Ze((i+o)/2),p=n(t[u]),d=void 0!==p,h=null===p,f=p==p,m=Ka(p);if(a)var g=r||f;else g=l?f&&(r||d):s?f&&d&&(r||!h):c?f&&d&&!h&&(r||!m):!h&&!m&&(r?p<=e:p<e);g?i=u+1:o=u}return an(o,4294967294)}function Xr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Aa(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function Gr(t){return"number"==typeof t?t:Ka(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Ia(t))return ue(t,Jr)+"";if(Ka(t))return En?En.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function $r(t,e,n){var r=-1,i=ce,o=t.length,a=!0,s=[],c=s;if(n)a=!1,i=le;else if(o>=200){var l=e?null:Ni(t);if(l)return Be(l);a=!1,i=Ae,c=new Nn}else c=e?[]:s;t:for(;++r<o;){var u=t[r],p=e?e(u):u;if(u=n||0!==u?u:0,a&&p==p){for(var d=c.length;d--;)if(c[d]===p)continue t;e&&c.push(p),s.push(u)}else i(c,p,n)||(c!==s&&c.push(p),s.push(u))}return s}function Kr(t,e){return null==(t=fo(t,e=oi(e,t)))||delete t[Eo(jo(e))]}function Zr(t,e,n,r){return jr(t,e,n(ur(t,e)),r)}function Qr(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Yr(t,r?0:o,r?o+1:i):Yr(t,r?o+1:0,r?i:o)}function ti(t,e){var n=t;return n instanceof Ln&&(n=n.value()),de(e,(function(t,e){return e.func.apply(e.thisArg,pe([t],e.args))}),n)}function ei(t,e,n){var i=t.length;if(i<2)return i?$r(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],c=-1;++c<i;)c!=o&&(a[o]=Zn(a[o]||s,t[c],e,n));return $r(ir(a,1),e,n)}function ni(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;)n(a,t[r],r<o?e[r]:void 0);return a}function ri(t){return Ra(t)?t:[]}function ii(t){return"function"==typeof t?t:Us}function oi(t,e){return Ia(t)?t:ao(t,e)?[t]:So(ss(t))}var ai=Rr;function si(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Yr(t,e,n)}var ci=Ge||function(t){return Ht.clearTimeout(t)};function li(t,e){if(e)return t.slice();var n=t.length,r=Yt?Yt(n):new t.constructor(n);return t.copy(r),r}function ui(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function pi(t,e){var n=e?ui(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ka(t),a=void 0!==e,s=null===e,c=e==e,l=Ka(e);if(!s&&!l&&!o&&t>e||o&&a&&c&&!s&&!l||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}function hi(t,e,n,i){for(var o=-1,a=t.length,s=n.length,c=-1,l=e.length,u=on(a-s,0),p=r(l+u),d=!i;++c<l;)p[c]=e[c];for(;++o<s;)(d||o<a)&&(p[n[o]]=t[o]);for(;u--;)p[c++]=t[o++];return p}function fi(t,e,n,i){for(var o=-1,a=t.length,s=-1,c=n.length,l=-1,u=e.length,p=on(a-c,0),d=r(p+u),h=!i;++o<p;)d[o]=t[o];for(var f=o;++l<u;)d[f+l]=e[l];for(;++s<c;)(h||o<a)&&(d[f+n[s]]=t[o++]);return d}function mi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function gi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],c=r?r(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),i?Un(n,s,c):Vn(n,s,c)}return n}function yi(t,e){return function(n,r){var i=Ia(n)?re:Hn,o=e?e():{};return i(n,t,Gi(r,2),o)}}function _i(t){return Rr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&oo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=mt(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function vi(t,e){return function(n,r){if(null==n)return n;if(!Na(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=mt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function bi(t){return function(e,n,r){for(var i=-1,o=mt(e),a=r(e),s=a.length;s--;){var c=a[t?s:++i];if(!1===n(o[c],c,o))break}return e}}function Mi(t){return function(e){var n=Re(e=ss(e))?Ye(e):void 0,r=n?n[0]:e.charAt(0),i=n?si(n,1).join(""):e.slice(1);return r[t]()+i}}function xi(t){return function(e){return de(Bs(ks(e).replace(At,"")),t,"")}}function wi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=On(t.prototype),r=t.apply(n,e);return Ya(r)?r:n}}function Ci(t){return function(e,n,r){var i=mt(e);if(!Na(e)){var o=Gi(n,3);e=bs(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Si(t){return Vi((function(e){var n=e.length,r=n,o=Pn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new _t(i);if(o&&!s&&"wrapper"==Ui(a))var s=new Pn([],!0)}for(r=s?r:n;++r<n;){var c=Ui(a=e[r]),l="wrapper"==c?Wi(a):void 0;s=l&&so(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Ui(l[0])].apply(s,l[3]):1==a.length&&so(a)?s[c]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Ia(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ei(t,e,n,i,o,a,s,c,l,u){var p=128&e,d=1&e,h=2&e,f=24&e,m=512&e,g=h?void 0:wi(t);return function y(){for(var _=arguments.length,v=r(_),b=_;b--;)v[b]=arguments[b];if(f)var M=Xi(y),x=ke(v,M);if(i&&(v=hi(v,i,o,f)),a&&(v=fi(v,a,s,f)),_-=x,f&&_<u){var w=je(v,M);return Ii(t,e,Ei,y.placeholder,n,v,w,c,l,u-_)}var C=d?n:this,S=h?C[t]:t;return _=v.length,c?v=mo(v,c):m&&_>1&&v.reverse(),p&&l<_&&(v.length=l),this&&this!==Ht&&this instanceof y&&(S=g||wi(S)),S.apply(C,v)}}function Ti(t,e){return function(n,r){return function(t,e,n,r){return sr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Oi(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Gr(n),r=Gr(r)),i=t(n,r)}return i}}function Ai(t){return Vi((function(e){return e=ue(e,Te(Gi())),Rr((function(n){var r=this;return t(e,(function(t){return ne(t,r,n)}))}))}))}function Pi(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Nr(e,t):e;var r=Nr(e,Ke(t/Ve(e)));return Re(e)?si(Ye(r),0,t).join(""):r.slice(0,t)}function Li(t){return function(e,n,i){return i&&"number"!=typeof i&&oo(e,n,i)&&(n=i=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,i){for(var o=-1,a=on(Ke((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=void 0===i?e<n?1:-1:ns(i),t)}}function ki(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Ii(t,e,n,r,i,o,a,s,c,l){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var p=[t,e,i,u?o:void 0,u?a:void 0,u?void 0:o,u?void 0:a,s,c,l],d=n.apply(void 0,p);return so(t)&&yo(d,p),d.placeholder=r,bo(d,t,e)}function Di(t){var e=ft[t];return function(t,n){if(t=os(t),(n=null==n?0:an(rs(n),292))&&en(t)){var r=(ss(t)+"e").split("e");return+((r=(ss(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Ni=fn&&1/Be(new fn([,-0]))[1]==1/0?function(t){return new fn(t)}:Ks;function Ri(t){return function(e){var n=to(e);return n==f?ze(e):n==_?qe(e):function(t,e){return ue(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function zi(t,e,n,a,s,c,l,u){var p=2&e;if(!p&&"function"!=typeof t)throw new _t(i);var d=a?a.length:0;if(d||(e&=-97,a=s=void 0),l=void 0===l?l:on(rs(l),0),u=void 0===u?u:rs(u),d-=s?s.length:0,64&e){var h=a,f=s;a=s=void 0}var m=p?void 0:Wi(t),g=[t,e,n,a,s,h,f,c,l,u];if(m&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var a=e[3];if(a){var s=t[3];t[3]=s?hi(s,a,e[4]):a,t[4]=s?je(t[3],o):e[4]}(a=e[5])&&(t[5]=(s=t[5])?fi(s,a,e[6]):a,t[6]=s?je(t[5],o):e[6]),(a=e[7])&&(t[7]=a),128&r&&(t[8]=null==t[8]?e[8]:an(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(g,m),t=g[0],e=g[1],n=g[2],a=g[3],s=g[4],!(u=g[9]=void 0===g[9]?p?0:t.length:on(g[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)y=8==e||16==e?function(t,e,n){var i=wi(t);return function o(){for(var a=arguments.length,s=r(a),c=a,l=Xi(o);c--;)s[c]=arguments[c];var u=a<3&&s[0]!==l&&s[a-1]!==l?[]:je(s,l);if((a-=u.length)<n)return Ii(t,e,Ei,o.placeholder,void 0,s,u,void 0,void 0,n-a);var p=this&&this!==Ht&&this instanceof o?i:t;return ne(p,this,s)}}(t,e,u):32!=e&&33!=e||s.length?Ei.apply(void 0,g):function(t,e,n,i){var o=1&e,a=wi(t);return function e(){for(var s=-1,c=arguments.length,l=-1,u=i.length,p=r(u+c),d=this&&this!==Ht&&this instanceof e?a:t;++l<u;)p[l]=i[l];for(;c--;)p[l++]=arguments[++s];return ne(d,o?n:this,p)}}(t,e,n,a);else var y=function(t,e,n){var r=1&e,i=wi(t);return function e(){var o=this&&this!==Ht&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return bo((m?Br:yo)(y,g),t,e)}function Fi(t,e,n,r){return void 0===t||Aa(t,bt[n])&&!wt.call(r,n)?e:t}function ji(t,e,n,r,i,o){return Ya(t)&&Ya(e)&&(o.set(e,t),Or(t,e,void 0,ji,o),o.delete(e)),t}function Bi(t){return Xa(t)?void 0:t}function qi(t,e,n,r,i,o){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var u=-1,p=!0,d=2&n?new Nn:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var h=t[u],f=e[u];if(r)var m=a?r(f,h,u,e,t,o):r(h,f,u,t,e,o);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!fe(e,(function(t,e){if(!Ae(d,e)&&(h===t||i(h,t,n,r,o)))return d.push(e)}))){p=!1;break}}else if(h!==f&&!i(h,f,n,r,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Vi(t){return vo(ho(t,void 0,Do),t+"")}function Yi(t){return pr(t,bs,Zi)}function Hi(t){return pr(t,Ms,Qi)}var Wi=yn?function(t){return yn.get(t)}:Ks;function Ui(t){for(var e=t.name+"",n=_n[e],r=wt.call(_n,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Xi(t){return(wt.call(Tn,"placeholder")?Tn:t).placeholder}function Gi(){var t=Tn.iteratee||Xs;return t=t===Xs?xr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function $i(t){for(var e=bs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,uo(i)]}return e}function Ki(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Mr(n)?n:void 0}var Zi=Qe?function(t){return null==t?[]:(t=mt(t),se(Qe(t),(function(e){return Gt.call(t,e)})))}:ic,Qi=Qe?function(t){for(var e=[];t;)pe(e,Zi(t)),t=Wt(t);return e}:ic,to=dr;function eo(t,e,n){for(var r=-1,i=(e=oi(e,t)).length,o=!1;++r<i;){var a=Eo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Va(i)&&io(a,i)&&(Ia(t)||ka(t))}function no(t){return"function"!=typeof t.constructor||lo(t)?{}:On(Wt(t))}function ro(t){return Ia(t)||ka(t)||!!(me&&t&&t[me])}function io(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function oo(t,e,n){if(!Ya(n))return!1;var r=typeof e;return!!("number"==r?Na(n)&&io(e,n.length):"string"==r&&e in n)&&Aa(n[e],t)}function ao(t,e){if(Ia(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ka(t))||Y.test(t)||!V.test(t)||null!=e&&t in mt(e)}function so(t){var e=Ui(t),n=Tn[e];if("function"!=typeof n||!(e in Ln.prototype))return!1;if(t===n)return!0;var r=Wi(n);return!!r&&t===r[0]}(pn&&to(new pn(new ArrayBuffer(1)))!=w||dn&&to(new dn)!=f||hn&&"[object Promise]"!=to(hn.resolve())||fn&&to(new fn)!=_||mn&&to(new mn)!=M)&&(to=function(t){var e=dr(t),n=e==g?t.constructor:void 0,r=n?To(n):"";if(r)switch(r){case vn:return w;case bn:return f;case Mn:return"[object Promise]";case xn:return _;case wn:return M}return e});var co=Mt?Ba:oc;function lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function uo(t){return t==t&&!Ya(t)}function po(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in mt(n))}}function ho(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=on(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(s),ne(t,this,c)}}function fo(t,e){return e.length<2?t:ur(t,Yr(e,0,-1))}function mo(t,e){for(var n=t.length,r=an(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=io(o,n)?i[o]:void 0}return t}function go(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yo=Mo(Br),_o=$e||function(t,e){return Ht.setTimeout(t,e)},vo=Mo(qr);function bo(t,e,n){var r=e+"";return vo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace($,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ie(a,(function(n){var r="_."+n[0];e&n[1]&&!ce(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(K);return e?e[1].split(Z):[]}(r),n)))}function Mo(t){var e=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function xo(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Dr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var wo,Co,So=(wo=wa((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(H,(function(t,n,r,i){e.push(r?i.replace(tt,"$1"):n||t)})),e}),(function(t){return 500===Co.size&&Co.clear(),t})),Co=wo.cache,wo);function Eo(t){if("string"==typeof t||Ka(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function To(t){if(null!=t){try{return xt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Oo(t){if(t instanceof Ln)return t.clone();var e=new Pn(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ao=Rr((function(t,e){return Ra(t)?Zn(t,ir(e,1,Ra,!0)):[]})),Po=Rr((function(t,e){var n=jo(e);return Ra(n)&&(n=void 0),Ra(t)?Zn(t,ir(e,1,Ra,!0),Gi(n,2)):[]})),Lo=Rr((function(t,e){var n=jo(e);return Ra(n)&&(n=void 0),Ra(t)?Zn(t,ir(e,1,Ra,!0),void 0,n):[]}));function ko(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),ye(t,Gi(e,3),i)}function Io(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?on(r+i,0):an(i,r-1)),ye(t,Gi(e,3),i,!0)}function Do(t){return null!=t&&t.length?ir(t,1):[]}function No(t){return t&&t.length?t[0]:void 0}var Ro=Rr((function(t){var e=ue(t,ri);return e.length&&e[0]===t[0]?gr(e):[]})),zo=Rr((function(t){var e=jo(t),n=ue(t,ri);return e===jo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?gr(n,Gi(e,2)):[]})),Fo=Rr((function(t){var e=jo(t),n=ue(t,ri);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?gr(n,void 0,e):[]}));function jo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Bo=Rr(qo);function qo(t,e){return t&&t.length&&e&&e.length?kr(t,e):t}var Vo=Vi((function(t,e){var n=null==t?0:t.length,r=Xn(t,e);return Ir(t,ue(e,(function(t){return io(t,n)?+t:t})).sort(di)),r}));function Yo(t){return null==t?t:un.call(t)}var Ho=Rr((function(t){return $r(ir(t,1,Ra,!0))})),Wo=Rr((function(t){var e=jo(t);return Ra(e)&&(e=void 0),$r(ir(t,1,Ra,!0),Gi(e,2))})),Uo=Rr((function(t){var e=jo(t);return e="function"==typeof e?e:void 0,$r(ir(t,1,Ra,!0),void 0,e)}));function Xo(t){if(!t||!t.length)return[];var e=0;return t=se(t,(function(t){if(Ra(t))return e=on(t.length,e),!0})),Ee(e,(function(e){return ue(t,xe(e))}))}function Go(t,e){if(!t||!t.length)return[];var n=Xo(t);return null==e?n:ue(n,(function(t){return ne(e,void 0,t)}))}var Jo=Rr((function(t,e){return Ra(t)?Zn(t,e):[]})),$o=Rr((function(t){return ei(se(t,Ra))})),Ko=Rr((function(t){var e=jo(t);return Ra(e)&&(e=void 0),ei(se(t,Ra),Gi(e,2))})),Zo=Rr((function(t){var e=jo(t);return e="function"==typeof e?e:void 0,ei(se(t,Ra),void 0,e)})),Qo=Rr(Xo),ta=Rr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Go(t,n)}));function ea(t){var e=Tn(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Vi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Xn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Ln&&io(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new Pn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)})),ia=yi((function(t,e,n){wt.call(t,n)?++t[n]:Un(t,n,1)})),oa=Ci(ko),aa=Ci(Io);function sa(t,e){return(Ia(t)?ie:Qn)(t,Gi(e,3))}function ca(t,e){return(Ia(t)?oe:tr)(t,Gi(e,3))}var la=yi((function(t,e,n){wt.call(t,n)?t[n].push(e):Un(t,n,[e])})),ua=Rr((function(t,e,n){var i=-1,o="function"==typeof e,a=Na(t)?r(t.length):[];return Qn(t,(function(t){a[++i]=o?ne(e,t,n):yr(t,e,n)})),a})),pa=yi((function(t,e,n){Un(t,n,e)}));function da(t,e){return(Ia(t)?ue:Sr)(t,Gi(e,3))}var ha=yi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),fa=Rr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&oo(t,e[0],e[1])?e=[]:n>2&&oo(e[0],e[1],e[2])&&(e=[e[0]]),Pr(t,ir(e,1),[])})),ma=Je||function(){return Ht.Date.now()};function ga(t,e,n){return e=n?void 0:e,zi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ya(t,e){var n;if("function"!=typeof e)throw new _t(i);return t=rs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var _a=Rr((function(t,e,n){var r=1;if(n.length){var i=je(n,Xi(_a));r|=32}return zi(t,r,e,n,i)})),va=Rr((function(t,e,n){var r=3;if(n.length){var i=je(n,Xi(va));r|=32}return zi(e,r,t,n,i)}));function ba(t,e,n){var r,o,a,s,c,l,u=0,p=!1,d=!1,h=!0;if("function"!=typeof t)throw new _t(i);function f(e){var n=r,i=o;return r=o=void 0,u=e,s=t.apply(i,n)}function m(t){return u=t,c=_o(y,e),p?f(t):s}function g(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-u>=a}function y(){var t=ma();if(g(t))return _(t);c=_o(y,function(t){var n=e-(t-l);return d?an(n,a-(t-u)):n}(t))}function _(t){return c=void 0,h&&r?f(t):(r=o=void 0,s)}function v(){var t=ma(),n=g(t);if(r=arguments,o=this,l=t,n){if(void 0===c)return m(l);if(d)return ci(c),c=_o(y,e),f(l)}return void 0===c&&(c=_o(y,e)),s}return e=os(e)||0,Ya(n)&&(p=!!n.leading,a=(d="maxWait"in n)?on(os(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==c&&ci(c),u=0,r=l=o=c=void 0},v.flush=function(){return void 0===c?s:_(ma())},v}var Ma=Rr((function(t,e){return Kn(t,1,e)})),xa=Rr((function(t,e,n){return Kn(t,os(e)||0,n)}));function wa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new _t(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(wa.Cache||Dn),n}function Ca(t){if("function"!=typeof t)throw new _t(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}wa.Cache=Dn;var Sa=ai((function(t,e){var n=(e=1==e.length&&Ia(e[0])?ue(e[0],Te(Gi())):ue(ir(e,1),Te(Gi()))).length;return Rr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ne(t,this,r)}))})),Ea=Rr((function(t,e){return zi(t,32,void 0,e,je(e,Xi(Ea)))})),Ta=Rr((function(t,e){return zi(t,64,void 0,e,je(e,Xi(Ta)))})),Oa=Vi((function(t,e){return zi(t,256,void 0,void 0,void 0,e)}));function Aa(t,e){return t===e||t!=t&&e!=e}var Pa=ki(hr),La=ki((function(t,e){return t>=e})),ka=_r(function(){return arguments}())?_r:function(t){return Ha(t)&&wt.call(t,"callee")&&!Gt.call(t,"callee")},Ia=r.isArray,Da=$t?Te($t):function(t){return Ha(t)&&dr(t)==x};function Na(t){return null!=t&&Va(t.length)&&!Ba(t)}function Ra(t){return Ha(t)&&Na(t)}var za=tn||oc,Fa=Kt?Te(Kt):function(t){return Ha(t)&&dr(t)==u};function ja(t){if(!Ha(t))return!1;var e=dr(t);return e==p||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Xa(t)}function Ba(t){if(!Ya(t))return!1;var e=dr(t);return e==d||e==h||"[object AsyncFunction]"==e||"[object Proxy]"==e}function qa(t){return"number"==typeof t&&t==rs(t)}function Va(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ya(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ha(t){return null!=t&&"object"==typeof t}var Wa=Zt?Te(Zt):function(t){return Ha(t)&&to(t)==f};function Ua(t){return"number"==typeof t||Ha(t)&&dr(t)==m}function Xa(t){if(!Ha(t)||dr(t)!=g)return!1;var e=Wt(t);if(null===e)return!0;var n=wt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&xt.call(n)==Tt}var Ga=Qt?Te(Qt):function(t){return Ha(t)&&dr(t)==y},Ja=te?Te(te):function(t){return Ha(t)&&to(t)==_};function $a(t){return"string"==typeof t||!Ia(t)&&Ha(t)&&dr(t)==v}function Ka(t){return"symbol"==typeof t||Ha(t)&&dr(t)==b}var Za=ee?Te(ee):function(t){return Ha(t)&&Va(t.length)&&!!zt[dr(t)]},Qa=ki(Cr),ts=ki((function(t,e){return t<=e}));function es(t){if(!t)return[];if(Na(t))return $a(t)?Ye(t):mi(t);if(we&&t[we])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[we]());var e=to(t);return(e==f?ze:e==_?Be:As)(t)}function ns(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function rs(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function is(t){return t?Gn(rs(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Ka(t))return NaN;if(Ya(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ya(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(X,"");var n=it.test(t);return n||at.test(t)?qt(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function as(t){return gi(t,Ms(t))}function ss(t){return null==t?"":Jr(t)}var cs=_i((function(t,e){if(lo(e)||Na(e))gi(e,bs(e),t);else for(var n in e)wt.call(e,n)&&Vn(t,n,e[n])})),ls=_i((function(t,e){gi(e,Ms(e),t)})),us=_i((function(t,e,n,r){gi(e,Ms(e),t,r)})),ps=_i((function(t,e,n,r){gi(e,bs(e),t,r)})),ds=Vi(Xn),hs=Rr((function(t,e){t=mt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&oo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Ms(o),s=-1,c=a.length;++s<c;){var l=a[s],u=t[l];(void 0===u||Aa(u,bt[l])&&!wt.call(t,l))&&(t[l]=o[l])}return t})),fs=Rr((function(t){return t.push(void 0,ji),ne(ws,void 0,t)}));function ms(t,e,n){var r=null==t?void 0:ur(t,e);return void 0===r?n:r}function gs(t,e){return null!=t&&eo(t,e,mr)}var ys=Ti((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Et.call(e)),t[e]=n}),Ys(Us)),_s=Ti((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Et.call(e)),wt.call(t,e)?t[e].push(n):t[e]=[n]}),Gi),vs=Rr(yr);function bs(t){return Na(t)?zn(t):wr(t)}function Ms(t){return Na(t)?zn(t,!0):function(t){if(!Ya(t))return function(t){var e=[];if(null!=t)for(var n in mt(t))e.push(n);return e}(t);var e=lo(t),n=[];for(var r in t)("constructor"!=r||!e&&wt.call(t,r))&&n.push(r);return n}(t)}var xs=_i((function(t,e,n){Or(t,e,n)})),ws=_i((function(t,e,n,r){Or(t,e,n,r)})),Cs=Vi((function(t,e){var n={};if(null==t)return n;var r=!1;e=ue(e,(function(e){return e=oi(e,t),r||(r=e.length>1),e})),gi(t,Hi(t),n),r&&(n=Jn(n,7,Bi));for(var i=e.length;i--;)Kr(n,e[i]);return n})),Ss=Vi((function(t,e){return null==t?{}:function(t,e){return Lr(t,e,(function(e,n){return gs(t,n)}))}(t,e)}));function Es(t,e){if(null==t)return{};var n=ue(Hi(t),(function(t){return[t]}));return e=Gi(e),Lr(t,n,(function(t,n){return e(t,n[0])}))}var Ts=Ri(bs),Os=Ri(Ms);function As(t){return null==t?[]:Oe(t,bs(t))}var Ps=xi((function(t,e,n){return e=e.toLowerCase(),t+(n?Ls(e):e)}));function Ls(t){return js(ss(t).toLowerCase())}function ks(t){return(t=ss(t))&&t.replace(ct,Ie).replace(Pt,"")}var Is=xi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ds=xi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ns=Mi("toLowerCase"),Rs=xi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),zs=xi((function(t,e,n){return t+(n?" ":"")+js(e)})),Fs=xi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),js=Mi("toUpperCase");function Bs(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return Dt.test(t)}(t)?function(t){return t.match(kt)||[]}(t):function(t){return t.match(Q)||[]}(t):t.match(e)||[]}var qs=Rr((function(t,e){try{return ne(t,void 0,e)}catch(n){return ja(n)?n:new dt(n)}})),Vs=Vi((function(t,e){return ie(e,(function(e){e=Eo(e),Un(t,e,_a(t[e],t))})),t}));function Ys(t){return function(){return t}}var Hs=Si(),Ws=Si(!0);function Us(t){return t}function Xs(t){return xr("function"==typeof t?t:Jn(t,1))}var Gs=Rr((function(t,e){return function(n){return yr(n,t,e)}})),Js=Rr((function(t,e){return function(n){return yr(t,n,e)}}));function $s(t,e,n){var r=bs(e),i=lr(e,r);null!=n||Ya(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=lr(e,bs(e)));var o=!(Ya(n)&&"chain"in n&&!n.chain),a=Ba(t);return ie(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,pe([this.value()],arguments))})})),t}function Ks(){}var Zs=Ai(ue),Qs=Ai(ae),tc=Ai(fe);function ec(t){return ao(t)?xe(Eo(t)):function(t){return function(e){return ur(e,t)}}(t)}var nc=Li(),rc=Li(!0);function ic(){return[]}function oc(){return!1}var ac,sc=Oi((function(t,e){return t+e}),0),cc=Di("ceil"),lc=Oi((function(t,e){return t/e}),1),uc=Di("floor"),pc=Oi((function(t,e){return t*e}),1),dc=Di("round"),hc=Oi((function(t,e){return t-e}),0);return Tn.after=function(t,e){if("function"!=typeof e)throw new _t(i);return t=rs(t),function(){if(--t<1)return e.apply(this,arguments)}},Tn.ary=ga,Tn.assign=cs,Tn.assignIn=ls,Tn.assignInWith=us,Tn.assignWith=ps,Tn.at=ds,Tn.before=ya,Tn.bind=_a,Tn.bindAll=Vs,Tn.bindKey=va,Tn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ia(t)?t:[t]},Tn.chain=ea,Tn.chunk=function(t,e,n){e=(n?oo(t,e,n):void 0===e)?1:on(rs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=r(Ke(i/e));o<i;)s[a++]=Yr(t,o,o+=e);return s},Tn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Tn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return pe(Ia(n)?mi(n):[n],ir(e,1))},Tn.cond=function(t){var e=null==t?0:t.length,n=Gi();return t=e?ue(t,(function(t){if("function"!=typeof t[1])throw new _t(i);return[n(t[0]),t[1]]})):[],Rr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ne(i[0],this,n))return ne(i[1],this,n)}}))},Tn.conforms=function(t){return function(t){var e=bs(t);return function(n){return $n(n,t,e)}}(Jn(t,1))},Tn.constant=Ys,Tn.countBy=ia,Tn.create=function(t,e){var n=On(t);return null==e?n:Wn(n,e)},Tn.curry=function t(e,n,r){var i=zi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Tn.curryRight=function t(e,n,r){var i=zi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Tn.debounce=ba,Tn.defaults=hs,Tn.defaultsDeep=fs,Tn.defer=Ma,Tn.delay=xa,Tn.difference=Ao,Tn.differenceBy=Po,Tn.differenceWith=Lo,Tn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,(e=n||void 0===e?1:rs(e))<0?0:e,r):[]},Tn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,0,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e):[]},Tn.dropRightWhile=function(t,e){return t&&t.length?Qr(t,Gi(e,3),!0,!0):[]},Tn.dropWhile=function(t,e){return t&&t.length?Qr(t,Gi(e,3),!0):[]},Tn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&oo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Tn.filter=function(t,e){return(Ia(t)?se:rr)(t,Gi(e,3))},Tn.flatMap=function(t,e){return ir(da(t,e),1)},Tn.flatMapDeep=function(t,e){return ir(da(t,e),1/0)},Tn.flatMapDepth=function(t,e,n){return n=void 0===n?1:rs(n),ir(da(t,e),n)},Tn.flatten=Do,Tn.flattenDeep=function(t){return null!=t&&t.length?ir(t,1/0):[]},Tn.flattenDepth=function(t,e){return null!=t&&t.length?ir(t,e=void 0===e?1:rs(e)):[]},Tn.flip=function(t){return zi(t,512)},Tn.flow=Hs,Tn.flowRight=Ws,Tn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Tn.functions=function(t){return null==t?[]:lr(t,bs(t))},Tn.functionsIn=function(t){return null==t?[]:lr(t,Ms(t))},Tn.groupBy=la,Tn.initial=function(t){return null!=t&&t.length?Yr(t,0,-1):[]},Tn.intersection=Ro,Tn.intersectionBy=zo,Tn.intersectionWith=Fo,Tn.invert=ys,Tn.invertBy=_s,Tn.invokeMap=ua,Tn.iteratee=Xs,Tn.keyBy=pa,Tn.keys=bs,Tn.keysIn=Ms,Tn.map=da,Tn.mapKeys=function(t,e){var n={};return e=Gi(e,3),sr(t,(function(t,r,i){Un(n,e(t,r,i),t)})),n},Tn.mapValues=function(t,e){var n={};return e=Gi(e,3),sr(t,(function(t,r,i){Un(n,r,e(t,r,i))})),n},Tn.matches=function(t){return Er(Jn(t,1))},Tn.matchesProperty=function(t,e){return Tr(t,Jn(e,1))},Tn.memoize=wa,Tn.merge=xs,Tn.mergeWith=ws,Tn.method=Gs,Tn.methodOf=Js,Tn.mixin=$s,Tn.negate=Ca,Tn.nthArg=function(t){return t=rs(t),Rr((function(e){return Ar(e,t)}))},Tn.omit=Cs,Tn.omitBy=function(t,e){return Es(t,Ca(Gi(e)))},Tn.once=function(t){return ya(2,t)},Tn.orderBy=function(t,e,n,r){return null==t?[]:(Ia(e)||(e=null==e?[]:[e]),Ia(n=r?void 0:n)||(n=null==n?[]:[n]),Pr(t,e,n))},Tn.over=Zs,Tn.overArgs=Sa,Tn.overEvery=Qs,Tn.overSome=tc,Tn.partial=Ea,Tn.partialRight=Ta,Tn.partition=ha,Tn.pick=Ss,Tn.pickBy=Es,Tn.property=ec,Tn.propertyOf=function(t){return function(e){return null==t?void 0:ur(t,e)}},Tn.pull=Bo,Tn.pullAll=qo,Tn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?kr(t,e,Gi(n,2)):t},Tn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?kr(t,e,void 0,n):t},Tn.pullAt=Vo,Tn.range=nc,Tn.rangeRight=rc,Tn.rearg=Oa,Tn.reject=function(t,e){return(Ia(t)?se:rr)(t,Ca(Gi(e,3)))},Tn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Gi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Ir(t,i),n},Tn.rest=function(t,e){if("function"!=typeof t)throw new _t(i);return Rr(t,e=void 0===e?e:rs(e))},Tn.reverse=Yo,Tn.sampleSize=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:rs(e),(Ia(t)?jn:Fr)(t,e)},Tn.set=function(t,e,n){return null==t?t:jr(t,e,n)},Tn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:jr(t,e,n,r)},Tn.shuffle=function(t){return(Ia(t)?Bn:Vr)(t)},Tn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&oo(t,e,n)?(e=0,n=r):(e=null==e?0:rs(e),n=void 0===n?r:rs(n)),Yr(t,e,n)):[]},Tn.sortBy=fa,Tn.sortedUniq=function(t){return t&&t.length?Xr(t):[]},Tn.sortedUniqBy=function(t,e){return t&&t.length?Xr(t,Gi(e,2)):[]},Tn.split=function(t,e,n){return n&&"number"!=typeof n&&oo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!Ga(e))&&!(e=Jr(e))&&Re(t)?si(Ye(t),0,n):t.split(e,n):[]},Tn.spread=function(t,e){if("function"!=typeof t)throw new _t(i);return e=null==e?0:on(rs(e),0),Rr((function(n){var r=n[e],i=si(n,0,e);return r&&pe(i,r),ne(t,this,i)}))},Tn.tail=function(t){var e=null==t?0:t.length;return e?Yr(t,1,e):[]},Tn.take=function(t,e,n){return t&&t.length?Yr(t,0,(e=n||void 0===e?1:rs(e))<0?0:e):[]},Tn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e,r):[]},Tn.takeRightWhile=function(t,e){return t&&t.length?Qr(t,Gi(e,3),!1,!0):[]},Tn.takeWhile=function(t,e){return t&&t.length?Qr(t,Gi(e,3)):[]},Tn.tap=function(t,e){return e(t),t},Tn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new _t(i);return Ya(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ba(t,e,{leading:r,maxWait:e,trailing:o})},Tn.thru=na,Tn.toArray=es,Tn.toPairs=Ts,Tn.toPairsIn=Os,Tn.toPath=function(t){return Ia(t)?ue(t,Eo):Ka(t)?[t]:mi(So(ss(t)))},Tn.toPlainObject=as,Tn.transform=function(t,e,n){var r=Ia(t),i=r||za(t)||Za(t);if(e=Gi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ya(t)&&Ba(o)?On(Wt(t)):{}}return(i?ie:sr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Tn.unary=function(t){return ga(t,1)},Tn.union=Ho,Tn.unionBy=Wo,Tn.unionWith=Uo,Tn.uniq=function(t){return t&&t.length?$r(t):[]},Tn.uniqBy=function(t,e){return t&&t.length?$r(t,Gi(e,2)):[]},Tn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?$r(t,void 0,e):[]},Tn.unset=function(t,e){return null==t||Kr(t,e)},Tn.unzip=Xo,Tn.unzipWith=Go,Tn.update=function(t,e,n){return null==t?t:Zr(t,e,ii(n))},Tn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Zr(t,e,ii(n),r)},Tn.values=As,Tn.valuesIn=function(t){return null==t?[]:Oe(t,Ms(t))},Tn.without=Jo,Tn.words=Bs,Tn.wrap=function(t,e){return Ea(ii(e),t)},Tn.xor=$o,Tn.xorBy=Ko,Tn.xorWith=Zo,Tn.zip=Qo,Tn.zipObject=function(t,e){return ni(t||[],e||[],Vn)},Tn.zipObjectDeep=function(t,e){return ni(t||[],e||[],jr)},Tn.zipWith=ta,Tn.entries=Ts,Tn.entriesIn=Os,Tn.extend=ls,Tn.extendWith=us,$s(Tn,Tn),Tn.add=sc,Tn.attempt=qs,Tn.camelCase=Ps,Tn.capitalize=Ls,Tn.ceil=cc,Tn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Gn(os(t),e,n)},Tn.clone=function(t){return Jn(t,4)},Tn.cloneDeep=function(t){return Jn(t,5)},Tn.cloneDeepWith=function(t,e){return Jn(t,5,e="function"==typeof e?e:void 0)},Tn.cloneWith=function(t,e){return Jn(t,4,e="function"==typeof e?e:void 0)},Tn.conformsTo=function(t,e){return null==e||$n(t,e,bs(e))},Tn.deburr=ks,Tn.defaultTo=function(t,e){return null==t||t!=t?e:t},Tn.divide=lc,Tn.endsWith=function(t,e,n){t=ss(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:Gn(rs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Tn.eq=Aa,Tn.escape=function(t){return(t=ss(t))&&F.test(t)?t.replace(R,De):t},Tn.escapeRegExp=function(t){return(t=ss(t))&&U.test(t)?t.replace(W,"\\$&"):t},Tn.every=function(t,e,n){var r=Ia(t)?ae:er;return n&&oo(t,e,n)&&(e=void 0),r(t,Gi(e,3))},Tn.find=oa,Tn.findIndex=ko,Tn.findKey=function(t,e){return ge(t,Gi(e,3),sr)},Tn.findLast=aa,Tn.findLastIndex=Io,Tn.findLastKey=function(t,e){return ge(t,Gi(e,3),cr)},Tn.floor=uc,Tn.forEach=sa,Tn.forEachRight=ca,Tn.forIn=function(t,e){return null==t?t:or(t,Gi(e,3),Ms)},Tn.forInRight=function(t,e){return null==t?t:ar(t,Gi(e,3),Ms)},Tn.forOwn=function(t,e){return t&&sr(t,Gi(e,3))},Tn.forOwnRight=function(t,e){return t&&cr(t,Gi(e,3))},Tn.get=ms,Tn.gt=Pa,Tn.gte=La,Tn.has=function(t,e){return null!=t&&eo(t,e,fr)},Tn.hasIn=gs,Tn.head=No,Tn.identity=Us,Tn.includes=function(t,e,n,r){t=Na(t)?t:As(t),n=n&&!r?rs(n):0;var i=t.length;return n<0&&(n=on(i+n,0)),$a(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&_e(t,e,n)>-1},Tn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),_e(t,e,i)},Tn.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=an(e,n)&&t<on(e,n)}(t=os(t),e,n)},Tn.invoke=vs,Tn.isArguments=ka,Tn.isArray=Ia,Tn.isArrayBuffer=Da,Tn.isArrayLike=Na,Tn.isArrayLikeObject=Ra,Tn.isBoolean=function(t){return!0===t||!1===t||Ha(t)&&dr(t)==l},Tn.isBuffer=za,Tn.isDate=Fa,Tn.isElement=function(t){return Ha(t)&&1===t.nodeType&&!Xa(t)},Tn.isEmpty=function(t){if(null==t)return!0;if(Na(t)&&(Ia(t)||"string"==typeof t||"function"==typeof t.splice||za(t)||Za(t)||ka(t)))return!t.length;var e=to(t);if(e==f||e==_)return!t.size;if(lo(t))return!wr(t).length;for(var n in t)if(wt.call(t,n))return!1;return!0},Tn.isEqual=function(t,e){return vr(t,e)},Tn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?vr(t,e,void 0,n):!!r},Tn.isError=ja,Tn.isFinite=function(t){return"number"==typeof t&&en(t)},Tn.isFunction=Ba,Tn.isInteger=qa,Tn.isLength=Va,Tn.isMap=Wa,Tn.isMatch=function(t,e){return t===e||br(t,e,$i(e))},Tn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,br(t,e,$i(e),n)},Tn.isNaN=function(t){return Ua(t)&&t!=+t},Tn.isNative=function(t){if(co(t))throw new dt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(t)},Tn.isNil=function(t){return null==t},Tn.isNull=function(t){return null===t},Tn.isNumber=Ua,Tn.isObject=Ya,Tn.isObjectLike=Ha,Tn.isPlainObject=Xa,Tn.isRegExp=Ga,Tn.isSafeInteger=function(t){return qa(t)&&t>=-9007199254740991&&t<=9007199254740991},Tn.isSet=Ja,Tn.isString=$a,Tn.isSymbol=Ka,Tn.isTypedArray=Za,Tn.isUndefined=function(t){return void 0===t},Tn.isWeakMap=function(t){return Ha(t)&&to(t)==M},Tn.isWeakSet=function(t){return Ha(t)&&"[object WeakSet]"==dr(t)},Tn.join=function(t,e){return null==t?"":nn.call(t,e)},Tn.kebabCase=Is,Tn.last=jo,Tn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?on(r+i,0):an(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):ye(t,be,i,!0)},Tn.lowerCase=Ds,Tn.lowerFirst=Ns,Tn.lt=Qa,Tn.lte=ts,Tn.max=function(t){return t&&t.length?nr(t,Us,hr):void 0},Tn.maxBy=function(t,e){return t&&t.length?nr(t,Gi(e,2),hr):void 0},Tn.mean=function(t){return Me(t,Us)},Tn.meanBy=function(t,e){return Me(t,Gi(e,2))},Tn.min=function(t){return t&&t.length?nr(t,Us,Cr):void 0},Tn.minBy=function(t,e){return t&&t.length?nr(t,Gi(e,2),Cr):void 0},Tn.stubArray=ic,Tn.stubFalse=oc,Tn.stubObject=function(){return{}},Tn.stubString=function(){return""},Tn.stubTrue=function(){return!0},Tn.multiply=pc,Tn.nth=function(t,e){return t&&t.length?Ar(t,rs(e)):void 0},Tn.noConflict=function(){return Ht._===this&&(Ht._=Ot),this},Tn.noop=Ks,Tn.now=ma,Tn.pad=function(t,e,n){t=ss(t);var r=(e=rs(e))?Ve(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Pi(Ze(i),n)+t+Pi(Ke(i),n)},Tn.padEnd=function(t,e,n){t=ss(t);var r=(e=rs(e))?Ve(t):0;return e&&r<e?t+Pi(e-r,n):t},Tn.padStart=function(t,e,n){t=ss(t);var r=(e=rs(e))?Ve(t):0;return e&&r<e?Pi(e-r,n)+t:t},Tn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),cn(ss(t).replace(G,""),e||0)},Tn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&oo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ln();return an(t+i*(e-t+Bt("1e-"+((i+"").length-1))),e)}return Dr(t,e)},Tn.reduce=function(t,e,n){var r=Ia(t)?de:Ce,i=arguments.length<3;return r(t,Gi(e,4),n,i,Qn)},Tn.reduceRight=function(t,e,n){var r=Ia(t)?he:Ce,i=arguments.length<3;return r(t,Gi(e,4),n,i,tr)},Tn.repeat=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:rs(e),Nr(ss(t),e)},Tn.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Tn.result=function(t,e,n){var r=-1,i=(e=oi(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Eo(e[r])];void 0===o&&(r=i,o=n),t=Ba(o)?o.call(t):o}return t},Tn.round=dc,Tn.runInContext=t,Tn.sample=function(t){return(Ia(t)?Fn:zr)(t)},Tn.size=function(t){if(null==t)return 0;if(Na(t))return $a(t)?Ve(t):t.length;var e=to(t);return e==f||e==_?t.size:wr(t).length},Tn.snakeCase=Rs,Tn.some=function(t,e,n){var r=Ia(t)?fe:Hr;return n&&oo(t,e,n)&&(e=void 0),r(t,Gi(e,3))},Tn.sortedIndex=function(t,e){return Wr(t,e)},Tn.sortedIndexBy=function(t,e,n){return Ur(t,e,Gi(n,2))},Tn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Wr(t,e);if(r<n&&Aa(t[r],e))return r}return-1},Tn.sortedLastIndex=function(t,e){return Wr(t,e,!0)},Tn.sortedLastIndexBy=function(t,e,n){return Ur(t,e,Gi(n,2),!0)},Tn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Wr(t,e,!0)-1;if(Aa(t[n],e))return n}return-1},Tn.startCase=zs,Tn.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Gn(rs(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},Tn.subtract=hc,Tn.sum=function(t){return t&&t.length?Se(t,Us):0},Tn.sumBy=function(t,e){return t&&t.length?Se(t,Gi(e,2)):0},Tn.template=function(t,e,n){var r=Tn.templateSettings;n&&oo(t,e,n)&&(e=void 0),t=ss(t),e=us({},e,r,Fi);var i,o,a=us({},e.imports,r.imports,Fi),s=bs(a),c=Oe(a,s),l=0,u=e.interpolate||lt,p="__p += '",d=gt((e.escape||lt).source+"|"+u.source+"|"+(u===q?et:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),h="//# sourceURL="+(wt.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Rt+"]")+"\n";t.replace(d,(function(e,n,r,a,s,c){return r||(r=a),p+=t.slice(l,c).replace(ut,Ne),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),p+="';\n";var f=wt.call(e,"variable")&&e.variable;f||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(k,""):p).replace(I,"$1").replace(D,"$1;"),p="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=qs((function(){return ht(s,h+"return "+p).apply(void 0,c)}));if(m.source=p,ja(m))throw m;return m},Tn.times=function(t,e){if((t=rs(t))<1||t>9007199254740991)return[];var n=4294967295,r=an(t,4294967295);t-=4294967295;for(var i=Ee(r,e=Gi(e));++n<t;)e(n);return i},Tn.toFinite=ns,Tn.toInteger=rs,Tn.toLength=is,Tn.toLower=function(t){return ss(t).toLowerCase()},Tn.toNumber=os,Tn.toSafeInteger=function(t){return t?Gn(rs(t),-9007199254740991,9007199254740991):0===t?t:0},Tn.toString=ss,Tn.toUpper=function(t){return ss(t).toUpperCase()},Tn.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Jr(e)))return t;var r=Ye(t),i=Ye(e);return si(r,Pe(r,i),Le(r,i)+1).join("")},Tn.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(J,"");if(!t||!(e=Jr(e)))return t;var r=Ye(t);return si(r,0,Le(r,Ye(e))+1).join("")},Tn.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(G,"");if(!t||!(e=Jr(e)))return t;var r=Ye(t);return si(r,Pe(r,Ye(e))).join("")},Tn.truncate=function(t,e){var n=30,r="...";if(Ya(e)){var i="separator"in e?e.separator:i;n="length"in e?rs(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=ss(t)).length;if(Re(t)){var a=Ye(t);o=a.length}if(n>=o)return t;var s=n-Ve(r);if(s<1)return r;var c=a?si(a,0,s).join(""):t.slice(0,s);if(void 0===i)return c+r;if(a&&(s+=c.length-s),Ga(i)){if(t.slice(s).search(i)){var l,u=c;for(i.global||(i=gt(i.source,ss(nt.exec(i))+"g")),i.lastIndex=0;l=i.exec(u);)var p=l.index;c=c.slice(0,void 0===p?s:p)}}else if(t.indexOf(Jr(i),s)!=s){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},Tn.unescape=function(t){return(t=ss(t))&&z.test(t)?t.replace(N,He):t},Tn.uniqueId=function(t){var e=++Ct;return ss(t)+e},Tn.upperCase=Fs,Tn.upperFirst=js,Tn.each=sa,Tn.eachRight=ca,Tn.first=No,$s(Tn,(ac={},sr(Tn,(function(t,e){wt.call(Tn.prototype,e)||(ac[e]=t)})),ac),{chain:!1}),Tn.VERSION="4.17.15",ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Tn[t].placeholder=Tn})),ie(["drop","take"],(function(t,e){Ln.prototype[t]=function(n){n=void 0===n?1:on(rs(n),0);var r=this.__filtered__&&!e?new Ln(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Ln.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ie(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Ln.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Gi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ie(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Ln.prototype[t]=function(){return this[n](1).value()[0]}})),ie(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Ln.prototype[t]=function(){return this.__filtered__?new Ln(this):this[n](1)}})),Ln.prototype.compact=function(){return this.filter(Us)},Ln.prototype.find=function(t){return this.filter(t).head()},Ln.prototype.findLast=function(t){return this.reverse().find(t)},Ln.prototype.invokeMap=Rr((function(t,e){return"function"==typeof t?new Ln(this):this.map((function(n){return yr(n,t,e)}))})),Ln.prototype.reject=function(t){return this.filter(Ca(Gi(t)))},Ln.prototype.slice=function(t,e){t=rs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Ln(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=rs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Ln.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ln.prototype.toArray=function(){return this.take(4294967295)},sr(Ln.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Tn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Tn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Ln,c=a[0],l=s||Ia(e),u=function(t){var e=i.apply(Tn,pe([t],a));return r&&p?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var p=this.__chain__,d=!!this.__actions__.length,h=o&&!p,f=s&&!d;if(!o&&l){e=f?e:new Ln(this);var m=t.apply(e,a);return m.__actions__.push({func:na,args:[u],thisArg:void 0}),new Pn(m,p)}return h&&f?t.apply(this,a):(m=this.thru(u),h?r?m.value()[0]:m.value():m)})})),ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=vt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Tn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ia(i)?i:[],t)}return this[n]((function(n){return e.apply(Ia(n)?n:[],t)}))}})),sr(Ln.prototype,(function(t,e){var n=Tn[e];if(n){var r=n.name+"";wt.call(_n,r)||(_n[r]=[]),_n[r].push({name:e,func:n})}})),_n[Ei(void 0,2).name]=[{name:"wrapper",func:void 0}],Ln.prototype.clone=function(){var t=new Ln(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},Ln.prototype.reverse=function(){if(this.__filtered__){var t=new Ln(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ln.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ia(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=an(e,t+a);break;case"takeRight":t=on(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,l=r?s:a-1,u=this.__iteratees__,p=u.length,d=0,h=an(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return ti(t,this.__actions__);var f=[];t:for(;c--&&d<h;){for(var m=-1,g=t[l+=e];++m<p;){var y=u[m],_=y.type,v=(0,y.iteratee)(g);if(2==_)g=v;else if(!v){if(1==_)continue t;break t}}f[d++]=g}return f},Tn.prototype.at=ra,Tn.prototype.chain=function(){return ea(this)},Tn.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},Tn.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Tn.prototype.plant=function(t){for(var e,n=this;n instanceof An;){var r=Oo(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Tn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ln){var e=t;return this.__actions__.length&&(e=new Ln(this)),(e=e.reverse()).__actions__.push({func:na,args:[Yo],thisArg:void 0}),new Pn(e,this.__chain__)}return this.thru(Yo)},Tn.prototype.toJSON=Tn.prototype.valueOf=Tn.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},Tn.prototype.first=Tn.prototype.head,we&&(Tn.prototype[we]=function(){return this}),Tn}();Ht._=We,void 0===(r=(function(){return We}).call(e,n,e,t))||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},M6FO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.twoDaysInTheFuture=e.splitRelativeTime=e.isAfter=e.isBefore=e.getUpdatedTime=void 0;const r=n("wd/R");e.getUpdatedTime=t=>{let e,n,i,o;const a=r(t);return this.isBefore(a)?(e="Left",a.isSame(r(),"day")?(n=r(a).toNow(!0),i="ago"):(n=a.format("ddd"),i=a.format("D MMM")),o=-1):this.isAfter(a)?(e="Leaving",a.isSameOrAfter(this.twoDaysInTheFuture())?(n=a.format("ddd"),i=a.format("D MMM")):(n=r(a).toNow(!0),i=""),o=1):(e="Leave",n=a.isSameOrAfter(this.twoDaysInTheFuture())?a.format("ddd"):r(a).toNow(!0),i="",o=0),n=this.splitRelativeTime(n),{relativeTime:n,dateDiff:o,suffix:i,prefix:e}},e.isBefore=t=>t.isSameOrBefore(r().subtract(60,"s")),e.isAfter=t=>t.isSameOrAfter(r().add(60,"s")),e.splitRelativeTime=t=>{const e=t.split(" ");return 1===e.length?{value:e[0]}:{value:e[0],unit:e[1]}},e.twoDaysInTheFuture=()=>r().startOf("day").add(2,"d")},MbAS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocationFinderService=void 0;const r=n("kU1M"),i=n("qCKp"),o=n("8Y7J"),a=n("IheW");class s{constructor(t){this.http=t,this.previousLocationFinderFetches=new Map,this.findLocationErrorSubject=new i.BehaviorSubject(!1),this.findLocationError$=this.findLocationErrorSubject.asObservable()}search(t,e){return this.searchHttpOrCache(t,e).pipe(r.map(e.resMapFn),r.shareReplay(1),r.switchMap(t=>i.from(t)),r.catchError(()=>(this.findLocationErrorSubject.next(!0),i.NEVER)))}searchHttpOrCache(t,e){const n=e.getCacheKey(t),o=this.previousLocationFinderFetches.get(n);return o?i.of(o):this.http.get(e.url,e.getRequestOptions(t)).pipe(r.tap(t=>{this.previousLocationFinderFetches.set(n,t)}))}}e.LocationFinderService=s,s.\u0275fac=function(t){return new(t||s)(o.\u0275\u0275inject(a.HttpClient))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},MeQ8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripResultComponent=void 0;const r=n("f0Wu"),i=n("RNDk"),o=n("EiLY"),a=n("8Y7J"),s=n("tqRt"),c=n("psEX"),l=n("VS5s"),u=n("SVse"),p=n("WMlU"),d=n("YlkN"),h=n("fXvE"),f=n("w3TH"),m=n("UGFN"),g=n("0njA"),y=n("KgG1"),_=n("jJ1G"),v=n("iV3M"),b=n("cEli");function M(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",29),a.\u0275\u0275elementStart(1,"span",30),a.\u0275\u0275element(2,"tni-icon",31),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"span"),a.\u0275\u0275text(4,"Booking required"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function x(t,e){if(1&t&&a.\u0275\u0275element(0,"tni-journey-fare",32),2&t){const t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("cardType",t.cardType)("fares",t.journey.fares)}}function w(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275element(1,"tni-pt-leg",35),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext(),e=t.$implicit,n=t.index,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("legData",e)("cardType",r.cardType)("legIndex",n)("showFromNextDayIndicator",r.isPreviousLegArrivalDifferentDayToCurrentLegsDeparture(r.journey.legs,n))}}function C(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275element(1,"tni-it-leg",36),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext(),e=t.$implicit,n=t.first,r=t.last,i=t.index;a.\u0275\u0275advance(1),a.\u0275\u0275property("leg",e)("showWalkDriveInstructions",n)("showFromStopNameLabel",n)("showTo",r)("legIndex",i)}}function S(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"li",33),a.\u0275\u0275template(1,w,2,4,"ng-container",34),a.\u0275\u0275template(2,C,2,5,"ng-container",34),a.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",t.isPublicTransport),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!t.isPublicTransport)}}function E(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"tni-collapsible-card",2),a.\u0275\u0275listener("toggle",(function(e){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().onToggleCard(e)})),a.\u0275\u0275elementStart(1,"div",3),a.\u0275\u0275elementStart(2,"div",4),a.\u0275\u0275elementStart(3,"div",5),a.\u0275\u0275elementStart(4,"div",6),a.\u0275\u0275element(5,"tni-trip-time",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div",8),a.\u0275\u0275elementStart(7,"div",9),a.\u0275\u0275elementStart(8,"div",10),a.\u0275\u0275element(9,"tni-mode-list",11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",5),a.\u0275\u0275elementStart(11,"div",10),a.\u0275\u0275element(12,"tni-journey-duration",12),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"div",13),a.\u0275\u0275elementStart(14,"div",5),a.\u0275\u0275elementStart(15,"div",14),a.\u0275\u0275element(16,"tni-result-item-indicators",15),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"div",16),a.\u0275\u0275elementStart(18,"div"),a.\u0275\u0275elementStart(19,"span",17),a.\u0275\u0275listener("click",(function(e){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().switchToMapView(e)})),a.\u0275\u0275element(20,"tni-icon",18),a.\u0275\u0275elementStart(21,"span",19),a.\u0275\u0275text(22,"Map"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(23,M,5,0,"div",20),a.\u0275\u0275elementStart(24,"div",21),a.\u0275\u0275template(25,x,1,2,"tni-journey-fare",22),a.\u0275\u0275element(26,"tni-summary-fare",23),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(27,"div",24),a.\u0275\u0275elementStart(28,"div",25),a.\u0275\u0275elementStart(29,"div",5),a.\u0275\u0275element(30,"div",26),a.\u0275\u0275elementStart(31,"ul",27),a.\u0275\u0275template(32,S,3,2,"li",28),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275property("expanded",t.expanded)("index",t.index)("type","publicTransport"),a.\u0275\u0275advance(5),a.\u0275\u0275property("tripTime",t.journey.legs[0].departingTime),a.\u0275\u0275advance(4),a.\u0275\u0275property("legs",t.tripLegs),a.\u0275\u0275advance(3),a.\u0275\u0275property("isRealTime",t.journey.isRealTime)("legs",t.journey.legs),a.\u0275\u0275advance(4),a.\u0275\u0275property("isAccessible",t.isAccessible)("hasAlerts",t.hasAlerts),a.\u0275\u0275advance(4),a.\u0275\u0275property("iconAriaHidden",!0),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",t.journey.isBookingRequired),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",t.journey.isOpalEnabled&&!!t.journey.fares&&t.journey.fares.length),a.\u0275\u0275advance(1),a.\u0275\u0275property("isOpalPay",t.journey.isOpalPayEnabled)("isFree",t.journey.isFree),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngForOf",t.journey.legs)}}class T{constructor(t,e,n){this.stateStore=t,this.selectedJourneyStoreService=e,this.trackTripPlannerEventService=n,this.expanded=!1,this.tripLegs=[]}ngOnInit(){this.journey&&(this.tripLegs=this.journey.legs,this.selectedJourneyStoreService.getExpandedJourney$().subscribe(t=>{this.expanded=this.journey===t}))}hasAPublicTransportLeg(){return this.journey.legs.some(t=>t.isPublicTransport)}onToggleCard(t){this.expanded=t,this.expanded&&(this.trackTripPlannerEventService.trackShortPlatformExpanded(this.journey),this.stateStore.dispatch(new i.MapTripAction({trip:this.journey})),this.stateStore.dispatch(new i.MapTripLegAction({mapLeg:null})),this.stateStore.dispatch(new o.SelectJourneyAction({trip:this.journey})))}get isAccessible(){return this.journey.isAccessible}get hasAlerts(){return this.journey.hasAlertMessages}isPreviousLegArrivalDifferentDayToCurrentLegsDeparture(t,e){if(0===e)return!1;{const n=t[e-1],i=t[e];return!!i.isPublicTransport&&!r(n.arrivalTime).isSame(i.departingTime,"day")}}switchToMapView(t){this.trackTripPlannerEventService.trackViewResultsOnMapForMobile(),t.stopPropagation(),this.stateStore.dispatch(new i.MapTripAction({trip:this.journey})),this.stateStore.dispatch(new i.MapTripLegAction({mapLeg:{leg:this.journey.legs[0],index:0}})),this.stateStore.dispatch(new o.SwitchAppViewAction({mobileMapView:!0,index:this.index}))}hasWalk(){}}e.TripResultComponent=T,T.\u0275fac=function(t){return new(t||T)(a.\u0275\u0275directiveInject(s.Store),a.\u0275\u0275directiveInject(c.SelectedJourneyStoreService),a.\u0275\u0275directiveInject(l.TrackTripPlannerEventService))},T.\u0275cmp=a.\u0275\u0275defineComponent({type:T,selectors:[["tni-trip-result"]],inputs:{journey:"journey",cardType:"cardType",index:"index"},decls:2,vars:1,consts:[[1,"card-wrapper"],["class","trip-card",3,"expanded","index","type","toggle",4,"ngIf"],[1,"trip-card",3,"expanded","index","type","toggle"],["card-header",""],[1,"summary-header"],[1,"row"],[1,"col-md-3","col-xs-3","col-trip-time"],[3,"tripTime"],[1,"col-md-9","col-xs-9"],[1,"row","modes"],[1,"col-md-12","col-xs-12"],[3,"legs"],[3,"isRealTime","legs"],[1,"summary-footer"],[1,"col-xs-4"],[3,"isAccessible","hasAlerts"],[1,"col-xs-8","journey-links"],["role","button","tabindex","0",1,"map-link",3,"click"],["iconClasses","tp-icon sm","iconName","map",3,"iconAriaHidden"],["title","Open map view","aria-label","Open map view"],["class","journey-booking-required",4,"ngIf"],[1,"journey-fare"],[3,"cardType","fares",4,"ngIf"],[3,"isOpalPay","isFree"],["card-body",""],[1,"tp-result-item-steps"],[1,"col-md-3","col-xs-3"],[1,"list-unstyled"],["class","trip-step",4,"ngFor","ngForOf"],[1,"journey-booking-required"],[1,"booking-icon"],["iconClasses","booking tp-icon sm","iconName","booking"],[3,"cardType","fares"],[1,"trip-step"],[4,"ngIf"],[3,"legData","cardType","legIndex","showFromNextDayIndicator"],[3,"leg","showWalkDriveInstructions","showFromStopNameLabel","showTo","legIndex"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,E,33,15,"tni-collapsible-card",1),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","publicTransport"===e.journey.type))},directives:[u.NgIf,p.TniCollapsibleCardComponent,d.TripTimeComponent,h.ModeListComponent,f.JourneyDurationComponent,m.ResultItemIndicatorsComponent,g.IconComponent,y.SummaryFareComponent,u.NgForOf,_.JourneyFareComponent,v.PtLegComponent,b.ItLegComponent],styles:[".trip-card[_ngcontent-%COMP%]{margin-bottom:15px}.align-with-header[_ngcontent-%COMP%]{margin-left:-145px}.tp-result-item-steps[_ngcontent-%COMP%]{padding:0 16px}.card-wrapper[_ngcontent-%COMP%]{margin-bottom:8px}.summary-footer[_ngcontent-%COMP%], .summary-header[_ngcontent-%COMP%]{padding:16px}.modes[_ngcontent-%COMP%]{padding-bottom:10px}.summary-footer[_ngcontent-%COMP%]{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;padding-top:15px}.summary-footer[_ngcontent-%COMP%]   .journey-fare[_ngcontent-%COMP%]{position:relative}.summary-footer[_ngcontent-%COMP%]   .journey-links[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.summary-footer[_ngcontent-%COMP%]   .journey-booking-required[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;color:#373636;font-size:12px}.summary-footer[_ngcontent-%COMP%]   .journey-booking-required[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-right:5px}  .tp-icon.alert-message{position:absolute;right:5px;top:27px;height:100px;width:100px}.map-link[_ngcontent-%COMP%]{display:none;cursor:pointer;text-decoration:underline;margin-right:16px;font-size:12px;color:#1d69b4}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.map-link[_ngcontent-%COMP%]{display:block}}.map-link[_ngcontent-%COMP%]     svg{color:#555}@media print{.col-trip-time[_ngcontent-%COMP%], .map-link[_ngcontent-%COMP%]{display:none}}  .booking-icon{padding-right:5px;margin-top:-1px}"]})},MhY6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("mrSG").__exportStar(n("JvPz"),e)},Mzj4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripResultActionComponent=void 0;const r=n("8Y7J"),i=n("Y7PD"),o=n("3Pgj"),a=n("ha9l"),s=n("EiLY"),c=n("yqgP"),l=n("AoJw"),u=n("8Y7J"),p=n("tqRt"),d=n("VS5s"),h=n("SVse"),f=n("oqE7"),m=n("QK+q"),g=n("0njA");function y(t,e){if(1&t&&(u.\u0275\u0275elementStart(0,"div",9),u.\u0275\u0275text(1),u.\u0275\u0275elementEnd()),2&t){const t=e.$implicit,n=u.\u0275\u0275nextContext();u.\u0275\u0275property("ngClass","public-transport"===t.category&&n.hideEarlierLater?"hide-system-message":null),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate1(" ",t.text,"\n")}}function _(t,e){if(1&t&&(u.\u0275\u0275elementStart(0,"div",10),u.\u0275\u0275text(1),u.\u0275\u0275elementEnd()),2&t){const t=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate1(" ",t.noResultsMessage,"\n")}}function v(t,e){if(1&t){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"tni-trip-speed",11),u.\u0275\u0275listener("cycleSpeedChanged",(function(){return u.\u0275\u0275restoreView(t),u.\u0275\u0275nextContext().speedChanged()})),u.\u0275\u0275elementEnd()}if(2&t){const t=u.\u0275\u0275nextContext();u.\u0275\u0275property("transportFilter",t.transportFilter)}}function b(t,e){if(1&t&&u.\u0275\u0275element(0,"tni-append-trips",12),2&t){const t=u.\u0275\u0275nextContext();u.\u0275\u0275property("label",t.tripResults.tripRequest.leaving?"Earlier":"Later")("tripData",t.tripResults)("isLeaving",!t.tripResults.tripRequest.leaving)("isEarlier",t.tripResults.tripRequest.leaving)}}function M(t,e){1&t&&u.\u0275\u0275element(0,"tni-icon",13)}function x(t,e){1&t&&u.\u0275\u0275element(0,"tni-icon",14)}class w{constructor(t,e){this.stateStore=t,this.trackTripPlannerEventService=e,this.clearTripData=new r.EventEmitter,this.tripSpeedChanged=new r.EventEmitter,this.isFav=!1,this.tripID=""}ngOnInit(){this.tripID=`${this.getTripId(this.trip.fromLocation)}${this.getTripId(this.trip.toLocation)}`,this.subscribedData=this.stateStore.select(i.TripHistorySelector).subscribe(t=>{this.checkForFavTrip(t)}),this.systemMessages$=this.stateStore.select(o.selectSystemMessages),this.stateStore.select(l.getTransportFilter).subscribe(t=>{this.noResultsMessage=t.filter?this._getNoResultsMessage(t.filter,this.tripResults):null})}getTripId(t){return"current_location"===t.type?t.type:t.fullName.replace(/\s+/g,"")}checkForFavTrip(t){t.data.map(t=>{t.id===this.tripID&&(this.isFav=t.isFav)})}toggleFav(){this.isFav||this.trackTripPlannerEventService.trackSetFavourite("Trip results"),this.isFav=!this.isFav,this.stateStore.dispatch(new c.AddFavTripHistoryAction({id:this.tripID,value:this.isFav}))}clearTrip(){this.stateStore.dispatch(new s.ClearSearchAction(this.transportFilter)),this.clearTripData.emit()}ngOnDestroy(){this.subscribedData.unsubscribe()}speedChanged(){this.tripSpeedChanged.emit()}_getNoResultsMessage(t,e){var n,r,i;let o;switch(t){case a.JourneyType.Cycle:o=0===(null===(n=e.cycle)||void 0===n?void 0:n.length)?"Sorry, no bike results found":null;break;case a.JourneyType.Drive:o=0===(null===(r=e.taxiDrive)||void 0===r?void 0:r.length)?"Sorry, no drive results found":null;break;case a.JourneyType.Walk:o=0===(null===(i=e.walk)||void 0===i?void 0:i.length)?"Sorry, no walk results found":null}return o}}e.TripResultActionComponent=w,w.\u0275fac=function(t){return new(t||w)(u.\u0275\u0275directiveInject(p.Store),u.\u0275\u0275directiveInject(d.TrackTripPlannerEventService))},w.\u0275cmp=u.\u0275\u0275defineComponent({type:w,selectors:[["tni-trip-result-action"]],inputs:{trip:"trip",tripResults:"tripResults",hideEarlierLater:"hideEarlierLater",cycleOrWalk:"cycleOrWalk",transportFilter:"transportFilter"},outputs:{clearTripData:"clearTripData",tripSpeedChanged:"tripSpeedChanged"},decls:12,vars:8,consts:[["class","text-center system-message",3,"ngClass",4,"ngFor","ngForOf"],["class","text-center system-message",4,"ngIf"],[1,"result-actions"],["class","trip-speed",3,"transportFilter","cycleSpeedChanged",4,"ngIf"],["class","append-btn",3,"label","tripData","isLeaving","isEarlier",4,"ngIf"],["aria-label","add to favourite",1,"result-actions-favourite",3,"keydown.space","click","keydown.enter"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-unselected","iconAriaHidden","true",4,"ngIf"],["iconClasses","tp-icon sm favourite-selected","iconName","favourite-selected","iconAriaHidden","true",4,"ngIf"],["aria-label","clear trip results",1,"result-actions-clear",3,"click"],[1,"text-center","system-message",3,"ngClass"],[1,"text-center","system-message"],[1,"trip-speed",3,"transportFilter","cycleSpeedChanged"],[1,"append-btn",3,"label","tripData","isLeaving","isEarlier"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-unselected","iconAriaHidden","true"],["iconClasses","tp-icon sm favourite-selected","iconName","favourite-selected","iconAriaHidden","true"]],template:function(t,e){1&t&&(u.\u0275\u0275template(0,y,2,2,"div",0),u.\u0275\u0275pipe(1,"async"),u.\u0275\u0275template(2,_,2,1,"div",1),u.\u0275\u0275elementStart(3,"div",2),u.\u0275\u0275template(4,v,1,1,"tni-trip-speed",3),u.\u0275\u0275template(5,b,1,4,"tni-append-trips",4),u.\u0275\u0275elementStart(6,"button",5),u.\u0275\u0275listener("keydown.space",(function(t){return t.preventDefault(),e.toggleFav()}))("click",(function(){return e.toggleFav()}))("keydown.enter",(function(t){return t.preventDefault(),e.toggleFav()})),u.\u0275\u0275template(7,M,1,0,"tni-icon",6),u.\u0275\u0275template(8,x,1,0,"tni-icon",7),u.\u0275\u0275text(9," Favourite "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(10,"button",8),u.\u0275\u0275listener("click",(function(){return e.clearTrip()})),u.\u0275\u0275text(11,"Clear"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&t&&(u.\u0275\u0275property("ngForOf",u.\u0275\u0275pipeBind1(1,6,e.systemMessages$)),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",e.noResultsMessage),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",e.cycleOrWalk),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!e.hideEarlierLater&&e.tripResults.journeys.length>0),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",!e.isFav),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",e.isFav))},directives:[h.NgForOf,h.NgIf,h.NgClass,f.TripSpeedComponent,m.AppendTripsComponent,g.IconComponent],pipes:[h.AsyncPipe],styles:[".result-actions[_ngcontent-%COMP%]{padding:0 8px 10px;overflow:hidden;margin-top:16px;margin-bottom:6px}.result-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:13px;color:#555;font-weight:400;line-height:20px;height:32px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff}.result-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .tp-icon{height:15px;width:15px;min-width:15px;fill:#979797;margin:-5px 3px 0 -5px}.result-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .favourite-selected{color:#1d69b4}.result-actions-favourite[_ngcontent-%COMP%]{width:105px;float:right}.result-actions-clear[_ngcontent-%COMP%]{margin-right:8px;float:right}.result-actions[_ngcontent-%COMP%]   .append-btn[_ngcontent-%COMP%], .result-actions[_ngcontent-%COMP%]   .trip-speed[_ngcontent-%COMP%]{float:left}.hide-system-message[_ngcontent-%COMP%]{display:none}.system-message[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:6px;padding:0 8px;font-size:16px;color:#000}"]})},N0VV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniRouteIconModule=void 0;const r=n("SVse"),i=n("8Y7J");class o{}e.TniRouteIconModule=o,o.\u0275mod=i.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=i.\u0275\u0275defineInjector({factory:function(t){return new(t||o)},imports:[[r.CommonModule]]})},"NHP+":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("quSY");class o extends r.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),i.a.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},NJ9Y:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("sVev"),i=n("pLZG"),o=n("BFxc"),a=n("XDbj"),s=n("xbPD"),c=n("SpAZ");function l(t,e){const n=arguments.length>=2;return l=>l.pipe(t?Object(i.a)((e,n)=>t(e,n,l)):c.a,Object(o.a)(1),n?Object(s.a)(e):Object(a.a)(()=>new r.a))}},NR7J:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniDateTimeSelectorModule=void 0;const r=n("SVse"),i=n("s7LF"),o=n("umyp"),a=n("8Y7J");class s{}e.TniDateTimeSelectorModule=s,s.\u0275mod=a.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=a.\u0275\u0275defineInjector({factory:function(t){return new(t||s)},imports:[[r.CommonModule,i.ReactiveFormsModule,o.TniIconModule]]})},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function a(t){return new r.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)})}},NfbF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrackEventService=void 0;const r=n("ZyQ5"),i=n("8Y7J"),o=n("JvPz");class a{constructor(t){this.winRef=t}Utils(){return this.winRef.ALLUtils()||this.winRef.Utils()}trackEvent(t,e,n){if(this.Utils()&&this.Utils().safelyExecute&&e)this.Utils().safelyExecute.call(this,e.action,(function(){null!=n?this.Utils().sendGAEvent(t,e.action,e.label,n):e.label?this.Utils().sendGAEvent(t,e.action,e.label):this.Utils().sendGAEvent(t,e.action)}));else if(("Opal transaction"===t||"NSW TrainLink"===t)&&e){const r=this.winRef.dataLayer()||[],i={event:"fireGAEvent","GA Event Category":t,"GA Event Action":e.action,"GA Event Label":e.label,"GA Event Value":n};void 0!==r&&r.push(i)}}trackSocial(t,e){this.Utils()&&t&&this.Utils().safelyExecute.call(this,t.network+" "+t.action,(function(){null!=e?this.Utils().sendGASocial(t.network,t.action,e):this.Utils().sendGASocial(t.network,t.action)}))}}e.TrackEventService=a,a.\u0275fac=function(t){return new(t||a)(i.\u0275\u0275inject(o.WindowRef))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:r.TrackingModule})},NiZn:function(t,e,n){"use strict";n.r(e),n.d(e,"BaseDirective",(function(){return _})),n.d(e,"LottieComponent",(function(){return x})),n.d(e,"LottieDirective",(function(){return M})),n.d(e,"LottieModule",(function(){return w})),n.d(e,"LottieTransferState",(function(){return C})),n.d(e,"transformAnimationFilenameToKey",(function(){return g})),n.d(e,"\u0275b",(function(){return f})),n.d(e,"\u0275c",(function(){return m})),n.d(e,"\u0275d",(function(){return y})),n.d(e,"\u0275e",(function(){return v})),n.d(e,"\u0275f",(function(){return b}));var r=n("8Y7J"),i=n("SVse"),o=n("Cfvw"),a=n("LRne"),s=n("XNiG"),c=n("lJxs"),l=n("05l1"),u=n("x+ZX"),p=n("1G5W"),d=n("cUpR");const h=["container"],f=new r.InjectionToken("LottieOptions"),m=new r.InjectionToken("AnimationCache");function g(t){return"animation-"+t.split(".json")[0]}let y=(()=>{class t{constructor(t,e,n,r){this.ngZone=t,this.platformId=e,this.options=n,this.animationCache=r,this.player$=function(t){const e=t();return e instanceof Promise?Object(o.a)(e).pipe(Object(c.a)(t=>t.default||t),Object(l.a)(1),Object(u.a)()):Object(a.a)(e)}(this.options.player)}resolveLoaderAndLoadAnimation(t,e,n,r,o,a){Object(i.isPlatformServer)(this.platformId)||this.player$.pipe(Object(p.a)(a)).subscribe(i=>{const a=function(t,e,n){const r=Object.assign({container:e,renderer:"svg",loop:!0,autoplay:!0},t);return null!==n?n.transformOptions(r):r}(t,e,this.animationCache);this.loadAnimation(i,a,n,r,o)})}loadAnimation(t,e,n,r,i){"function"==typeof e.beforeAnimationIsCreated&&e.beforeAnimationIsCreated(t);const o=this.ngZone.runOutsideAngular(()=>t.loadAnimation(e));!function(t,e,n){null!==t&&n.addEventListener("config_ready",()=>{t.set(e,n)})}(this.animationCache,e,o),r.emit(o),n.addEventListeners(i,o)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](r.PLATFORM_ID),r["\u0275\u0275inject"](f),r["\u0275\u0275inject"](m))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this.platformId=t,this.animationLoader=e,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=new r.EventEmitter,this.complete=new r.EventEmitter,this.loopComplete=new r.EventEmitter,this.enterFrame=new r.EventEmitter,this.segmentStart=new r.EventEmitter,this.configReady=new r.EventEmitter,this.dataReady=new r.EventEmitter,this.domLoaded=new r.EventEmitter,this.destroy=new r.EventEmitter,this.error=new r.EventEmitter,this.destroy$=new s.a}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnimation(t,e,n,r){!Object(i.isPlatformServer)(this.platformId)&&t.options&&(n.destroyAnimation(),this.animationLoader.resolveLoaderAndLoadAnimation(t.options.currentValue,e,n,this.animationCreated,r,this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.PLATFORM_ID),r["\u0275\u0275directiveInject"](y))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),t})();class v{constructor(){this.cache=new Map}static create(t){return t.useCache?new v:null}transformOptions(t){const e=t.path;return e&&this.cache.has(e)&&(delete t.path,t.animationData=this.cache.get(e)),t}set(t,e){t.animationData||this.cache.set(t.path,e.animationData)}}let b=(()=>{class t{constructor(t,e){this.ngZone=t,this.platformId=e,this.eventsMap={complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"config_ready",dataReady:"data_ready",domLoaded:"DOMLoaded",destroy:"destroy",error:"error"},this.animationItem=null}ngOnDestroy(){this.destroyAnimation()}addEventListeners(t,e){this.animationItem=e,this.ngZone.runOutsideAngular(()=>this.addEventListenersToObservedEventEmitters(t))}destroyAnimation(){Object(i.isPlatformServer)(this.platformId)||null===this.animationItem||(this.animationItem.destroy(),this.animationItem=null)}addEventListenersToObservedEventEmitters(t){const e=function(t,e){return Object.keys(t).map(e=>[e,t[e]]).filter(([t,n])=>n instanceof r.EventEmitter&&n.observers.length>0&&e.hasOwnProperty(t)).map(([t,n])=>({eventEmitter:n,name:e[t]}))}(t,this.eventsMap);for(const{name:n,eventEmitter:r}of e)this.animationItem.addEventListener(n,t=>{r.emit(t)})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](r.PLATFORM_ID))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),M=(()=>{class t extends _{constructor(t,e,n,r){super(t,r),this.host=e,this.eventsFacade=n}ngOnChanges(t){super.loadAnimation(t,this.host.nativeElement,this.eventsFacade,this)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.PLATFORM_ID),r["\u0275\u0275directiveInject"](r.ElementRef,2),r["\u0275\u0275directiveInject"](b,2),r["\u0275\u0275directiveInject"](y))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","lottie",""]],features:[r["\u0275\u0275ProvidersFeature"]([b]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),t})(),x=(()=>{class t extends _{constructor(t,e,n){super(t,n),this.eventsFacade=e,this.width=null,this.height=null,this.container=null}ngOnChanges(t){super.loadAnimation(t,this.container.nativeElement,this.eventsFacade,this)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.PLATFORM_ID),r["\u0275\u0275directiveInject"](b,2),r["\u0275\u0275directiveInject"](y))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["ng-lottie"]],viewQuery:function(t,e){var n;1&t&&r["\u0275\u0275staticViewQuery"](h,!0),2&t&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(e.container=n.first)},inputs:{width:"width",height:"height"},features:[r["\u0275\u0275ProvidersFeature"]([b]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(t,e){1&t&&r["\u0275\u0275element"](0,"div",0,1),2&t&&(r["\u0275\u0275styleProp"]("width",e.width||"100%")("height",e.height||"100%"),r["\u0275\u0275property"]("ngStyle",e.styles)("ngClass",e.containerClass))},directives:[i.NgStyle,i.NgClass],encapsulation:2,changeDetection:0}),t})(),w=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[y,{provide:f,useValue:e},{provide:m,useFactory:v.create,deps:[f]}]}}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.CommonModule]]}),t})(),C=(()=>{class t{constructor(t){this.transferState=t}get(t){const e=g(t),n=Object(d.makeStateKey)(e);return this.transferState.get(n,null)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](d.TransferState))},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(d.TransferState))},token:t,providedIn:"root"}),t})()},Nv8m:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("DH7j"),i=n("yCtX"),o=n("l7GE"),a=n("ZUHj");function s(...t){if(1===t.length){if(!Object(r.a)(t[0]))return t[0];t=t[0]}return Object(i.a)(t,void 0).lift(new c)}class c{call(t,e){return e.subscribe(new l(t))}}class l extends o.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],r=Object(a.a)(this,e,e,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}},NwGF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureDetailEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("KQMD"),a=n("kU1M"),s=n("RNDk"),c=n("qCKp"),l=n("8Y7J"),u=n("7bNT"),p=n("vMil");e.DepartureDetailEffects=(()=>{class t{constructor(t,e){this.action$=t,this.departureDetailRequestService=e,this.departureDetail$=this.action$.pipe(i.ofType(o.DeparturesActionTypes.DeparturesDetail),a.switchMap(t=>{const e=t.payload.departure.id,n=Object.assign(Object.assign({},t.payload.departureReq.destStopFilter&&{destStopFilter:t.payload.departureReq.destStopFilter}),{coordinateEnabled:!0});return this.departureDetailRequestService.getDepartureDetails(e,n).pipe(a.mergeMap(t=>[new s.MapDeparturesAction(t),new s.MapVehiclePositionAction(t.vehicle)]),a.catchError(()=>c.of(new o.DeparturesDetailErrorAction({hasDetailError:!0}))),a.takeUntil(this.action$.pipe(i.ofType(o.DeparturesActionTypes.ClearDepartures))))}))}}return t.\u0275fac=function(e){return new(e||t)(l.\u0275\u0275inject(u.Actions),l.\u0275\u0275inject(p.DeparturesDetailRequestService))},t.\u0275prov=l.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"departureDetail$",void 0),t})()},OIYi:function(t,e,n){!function(t){"use strict";t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n("wd/R"))},OQgR:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return p}));var r=n("7o/Q"),i=n("quSY"),o=n("HDdC"),a=n("XNiG");function s(t,e,n,r){return i=>i.lift(new c(t,e,n,r))}class c{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class l extends r.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new a.a,n.set(e,i);const t=new p(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new p(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new u(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class u extends r.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class p extends o.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new i.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new d(n)),e.add(r.subscribe(t)),e}}class d extends i.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}},Oaa7:function(t,e,n){!function(t){"use strict";t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},Ob0Z:function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function r(t,e,n,r){var i="";if(e)switch(n){case"s":i="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":i="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":i="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":i="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":i="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":i="%d \u0924\u093e\u0938";break;case"d":i="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":i="%d \u0926\u093f\u0935\u0938";break;case"M":i="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":i="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":i="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":i="%d \u0935\u0930\u094d\u0937\u0947"}else switch(n){case"s":i="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":i="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":i="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":i="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":i="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":i="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":i="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":i="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":i="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":i="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":i="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":i="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return i.replace(/%d/i,t)}t.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924\u094d\u0930\u0940"===e?t<4?t:t+12:"\u0938\u0915\u093e\u0933\u0940"===e?t:"\u0926\u0941\u092a\u093e\u0930\u0940"===e?t>=10?t:t+12:"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0930\u093e\u0924\u094d\u0930\u0940":t<10?"\u0938\u0915\u093e\u0933\u0940":t<17?"\u0926\u0941\u092a\u093e\u0930\u0940":t<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(n("wd/R"))},Oh75:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClearSelectLocationAction=e.SelectLocationAction=e.UpdateOpalRetailersAction=e.OpalRetailersActionTypes=void 0;var r=e.OpalRetailersActionTypes=function(t){return t.UpdateOpalRetailers="[OpalRetailers] UpdateOpalRetailersAction",t.SelectLocation="[OpalRetailers] SelectLocationAction",t.ClearSelectLocation="[OpalRetailers] ClearSelectLocation",t}(e.OpalRetailersActionTypes||{});e.UpdateOpalRetailersAction=class{constructor(t){this.payload=t,this.type=r.UpdateOpalRetailers}},e.SelectLocationAction=class{constructor(t){this.payload=t,this.type=r.SelectLocation}},e.ClearSelectLocationAction=class{constructor(){this.type=r.ClearSelectLocation}}},OjkT:function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};t.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924\u093f"===e?t<4?t:t+12:"\u092c\u093f\u0939\u093e\u0928"===e?t:"\u0926\u093f\u0909\u0901\u0938\u094b"===e?t>=10?t:t+12:"\u0938\u093e\u0901\u091d"===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"\u0930\u093e\u0924\u093f":t<12?"\u092c\u093f\u0939\u093e\u0928":t<16?"\u0926\u093f\u0909\u0901\u0938\u094b":t<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(n("wd/R"))},OuoU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorageHelper=void 0;const r=n("XSGw");e.LocalStorageHelper=class{static getItem(t){const e=localStorage.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch(n){return e}}static setItem(t,e){localStorage.setItem(t,"string"==typeof e?e:JSON.stringify(e))}static removeItem(t){localStorage.removeItem(t)}static clearAll(){localStorage.clear()}static getString(t){return localStorage.getItem(t)}static loadInitialState(){const t=localStorage.getItem("cycle-speed"),e=localStorage.getItem("walk-speed");return{AppView:{tripSpeedCycle:parseInt(t||""+r.initialState.tripSpeedCycle,10),tripSpeedWalk:parseInt(e||""+r.initialState.tripSpeedWalk,10)}}}}},Oxv6:function(t,e,n){!function(t){"use strict";var e={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};t.defineLocale("tg",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u041f\u0430\u0433\u043e\u04b3 \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0448\u0430\u0431"===e?t<4?t:t+12:"\u0441\u0443\u0431\u04b3"===e?t:"\u0440\u04ef\u0437"===e?t>=11?t:t+12:"\u0431\u0435\u0433\u043e\u04b3"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0448\u0430\u0431":t<11?"\u0441\u0443\u0431\u04b3":t<16?"\u0440\u04ef\u0437":t<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},P98k:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CycleRoutesSearchEffect=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("kU1M"),a=n("RNDk"),s=n("EiLY"),c=n("ha9l"),l=n("yuJq"),u=n("cRl/"),p=n("8Y7J"),d=n("7bNT"),h=n("A9CO"),f=n("JvPz"),m=n("tqRt");e.CycleRoutesSearchEffect=(()=>{class t{constructor(t,e,n,r){this.actions=t,this.tripService=e,this.windowRef=n,this.stateStore=r,this.searchCycleRoutes$=this.actions.pipe(i.ofType(s.TripActionTypes.MULTI_CYCLE_ROUTES_SEARCH),o.tap(()=>{this.stateStore.dispatch(new s.CycleRouteLoadingAction)}),o.map(t=>({tripRequest:t.payload.tripRequest,travelMode:t.payload.travelMode})),o.switchMap(({tripRequest:t})=>this.tripService.Search(t,!0).pipe(o.filter(t=>!!t),o.tap(e=>{var n,r,i;u.LocalStorageHelper.getItem("cycle-journeys-"+(null===(n=null==t?void 0:t.preferences)||void 0===n?void 0:n.cycleSpeed))||u.LocalStorageHelper.setItem("cycle-journeys-"+(null===(r=null==t?void 0:t.preferences)||void 0===r?void 0:r.cycleSpeed),{journeys:null===(i=e.journeys)||void 0===i?void 0:i.filter(t=>t.type===c.JourneyType.Cycle)})}),o.map(t=>(t.journeys.some(t=>t.type===c.JourneyType.Cycle&&t.cycleProfile===l.CycleProfile.Moderate)||(t.journeys=t.journeys.filter(t=>t.type!==c.JourneyType.Cycle)),t)),o.mergeMap(e=>[new s.CycleRoutesResponseAction({tripResponse:e,tripRequest:t}),new a.MapTripAction({trip:null==e?void 0:e.journeys[0]}),new a.MapTripLegAction({mapLeg:this.windowRef.isMobileView()&&(null==e?void 0:e.journeys[0])?{leg:null==e?void 0:e.journeys[0].legs[0],index:0}:null})]),o.takeUntil(this.actions.pipe(i.ofType(s.TripActionTypes.CLEAR_TRIP))))))}}return t.\u0275fac=function(e){return new(e||t)(p.\u0275\u0275inject(d.Actions),p.\u0275\u0275inject(h.TripService),p.\u0275\u0275inject(f.WindowRef),p.\u0275\u0275inject(m.Store))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"searchCycleRoutes$",void 0),t})()},PA2r:function(t,e,n){!function(t){"use strict";var e="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),n="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),r=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],i=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function o(t){return t>1&&t<5&&1!=~~(t/10)}function a(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return e||r?i+(o(t)?"sekundy":"sekund"):i+"sekundami";case"m":return e?"minuta":r?"minutu":"minutou";case"mm":return e||r?i+(o(t)?"minuty":"minut"):i+"minutami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?i+(o(t)?"hodiny":"hodin"):i+"hodinami";case"d":return e||r?"den":"dnem";case"dd":return e||r?i+(o(t)?"dny":"dn\xed"):i+"dny";case"M":return e||r?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return e||r?i+(o(t)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):i+"m\u011bs\xedci";case"y":return e||r?"rok":"rokem";case"yy":return e||r?i+(o(t)?"roky":"let"):i+"lety"}}t.defineLocale("cs",{months:e,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},PCNd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedModule=void 0;const r=n("umyp"),i=n("oR9y"),o=n("N0VV"),a=n("Xor9"),s=n("9Xeq"),c=n("SVse"),l=n("s7LF"),u=n("Y7wX"),p=n("1z/I"),d=n("iInd"),h=n("f44v"),f=n("ZyQ5"),m=n("Km1n"),g=n("ZrN/"),y=n("EpZu"),_=n("8Y7J");class v{static forRoot(){return{ngModule:v,providers:[u.IconService,g.OpalRetailersService,y.OccupancyIndicatorService]}}}e.SharedModule=v,v.\u0275mod=_.\u0275\u0275defineNgModule({type:v}),v.\u0275inj=_.\u0275\u0275defineInjector({factory:function(t){return new(t||v)},imports:[[c.CommonModule,l.FormsModule,l.ReactiveFormsModule,r.TniIconModule,i.TniModeSummaryModule,o.TniRouteIconModule,a.TniTabModule,s.PipesModule,p.PortalModule,h.MatChipsModule,m.MatBottomSheetModule,d.RouterModule,f.TrackingModule],r.TniIconModule,i.TniModeSummaryModule,o.TniRouteIconModule,a.TniTabModule,s.PipesModule,l.FormsModule,l.ReactiveFormsModule,p.PortalModule,h.MatChipsModule,m.MatBottomSheetModule,d.RouterModule]})},PGlC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initMoment=void 0;const r=n("f0Wu");e.initMoment=function(){return()=>{r.tz.setDefault("Australia/Sydney"),r.updateLocale("en",{relativeTime:{future:"%s",past:"%s ago",s:"Now",m:"%d min",mm:"%d min",h:"%d hour",hh:"%d hours",d:"%d day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},calendar:{lastDay:"[Yesterday (]ddd[)]",sameDay:"[Today (]ddd[)]",nextDay:"[Tomorrow (]ddd[)]",lastWeek:"D MMM[ (]ddd[)]",nextWeek:"D MMM[ (]ddd[)]",sameElse:"D MMM[ (]ddd[)]"}}),[{threshold:"s",limit:60},{threshold:"m",limit:60},{threshold:"h",limit:24},{threshold:"M",limit:45}].forEach(t=>r.relativeTimeThreshold(t.threshold,t.limit)),r.relativeTimeRounding(Math.floor)}}},PeUW:function(t,e,n){!function(t){"use strict";var e={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},n={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};t.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(t){return t+"\u0bb5\u0ba4\u0bc1"},preparse:function(t){return t.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(t,e,n){return t<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":t<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":t<10?" \u0b95\u0bbe\u0bb2\u0bc8":t<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":t<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":t<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(t,e){return 12===t&&(t=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===e?t<2?t:t+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===e||"\u0b95\u0bbe\u0bb2\u0bc8"===e||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(n("wd/R"))},PkF6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalkSpeed=void 0,e.WalkSpeed=function(t){return t[t.normal=0]="normal",t[t.fast=1]="fast",t[t.slow=2]="slow",t}(e.WalkSpeed||{})},Pn23:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClearDeparturesEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("kU1M"),a=n("RNDk"),s=n("EiLY"),c=n("KQMD"),l=n("8Y7J"),u=n("7bNT");e.ClearDeparturesEffects=(()=>{class t{constructor(t){this.actions=t,this.clearDepartures$=this.actions.pipe(i.ofType(c.DeparturesActionTypes.ClearDepartures),o.mergeMap(()=>[new a.MapDeparturesAction(null),new s.CurrentLocationAction({coords:null})]))}}return t.\u0275fac=function(e){return new(e||t)(l.\u0275\u0275inject(u.Actions))},t.\u0275prov=l.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"clearDepartures$",void 0),t})()},PpIw:function(t,e,n){!function(t){"use strict";var e={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},n={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};t.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(t){return t.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===e?t<4?t:t+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===e?t:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===e?t>=10?t:t+12:"\u0cb8\u0c82\u0c9c\u0cc6"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":t<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":t<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":t<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(t){return t+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(n("wd/R"))},PqYM:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("D0XW"),o=n("Y7HM"),a=n("z+Ro");function s(t=0,e,n){let s=-1;return Object(o.a)(e)?s=Number(e)<1?1:Number(e):Object(a.a)(e)&&(n=e),Object(a.a)(n)||(n=i.a),new r.a(e=>{const r=Object(o.a)(t)?t:+t-n.now();return n.schedule(c,r,{index:0,period:s,subscriber:e})})}function c(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},"Q/jW":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalRetailersRoutingModule=void 0;const r=n("iInd"),i=n("cUPq"),o=n("8Y7J"),a=(n("iInd"),[{path:"",component:i.OpalRetailersComponent}]);class s{}e.OpalRetailersRoutingModule=s,s.\u0275mod=o.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=o.\u0275\u0275defineInjector({factory:function(t){return new(t||s)},imports:[[r.RouterModule.forChild(a)],r.RouterModule]})},QF4z:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniCollapsibleCardModule=void 0;const r=n("SVse"),i=n("+pSP"),o=n("8Y7J");class a{}e.TniCollapsibleCardModule=a,a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({factory:function(t){return new(t||a)},imports:[[r.CommonModule,i.TniIconModule]]})},"QK+q":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppendTripsComponent=void 0;const r=n("wd/R"),i=n("EiLY"),o=n("ha9l"),a=n("8Y7J"),s=n("tqRt"),c=n("VS5s"),l=n("SVse");function u(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",1),a.\u0275\u0275elementStart(1,"button",2),a.\u0275\u0275listener("click",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().appendTrip()})),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275attribute("aria-label","Search for trips leaving "+t.label),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(t.label)}}class p{constructor(t,e){this.stateStore=t,this.trackTripPlannerEventService=e}appendTrip(){this.isEarlier?(this.trackTripPlannerEventService.trackEarlierLaterResults("Earlier"),this.isLeaving?this.getEarlierArrivingTrips():this.getEarlierTrips()):(this.trackTripPlannerEventService.trackEarlierLaterResults("Later"),this.isLeaving?this.getLaterArrivingTrips():this.getLaterTrips())}getEarlierTrips(){this.trackTripPlannerEventService.trackViewTripPlanResults();const t=this.tripData.journeys.filter(t=>t.type===o.JourneyType.PublicTransport&&t.legs.some(t=>!t.isFootpath));if(!t.length)return;const e=t[0].legs,n=Object.assign(Object.assign({},this.tripData.tripRequest),{leaving:!1,dateTime:r(e[e.length-1].arrivalTime).subtract(60,"seconds")});this.stateStore.dispatch(new i.GetEarlierTripsAction({tripRequest:n,tripAppend:!1}))}getEarlierArrivingTrips(){this.trackTripPlannerEventService.trackViewTripPlanResults();const t=this.tripData.journeys.reduce((t,e)=>[...t,...e.legs],[]),e=t.reduce((t,e)=>r(t.arrivalTime).isBefore(e.arrivalTime)?t:e,t[0]),n=Object.assign(Object.assign({},this.tripData.tripRequest),{leaving:!1,dateTime:r(e.arrivalTime).subtract(60,"seconds")});this.stateStore.dispatch(new i.GetEarlierTripsAction({tripRequest:n,tripAppend:!0}))}getLaterTrips(){this.trackTripPlannerEventService.trackViewTripPlanResults();const t=this.tripData.journeys.filter(t=>{var e,n;return!(1===(null===(e=t.legs)||void 0===e?void 0:e.length)&&!(null===(n=t.legs[0])||void 0===n?void 0:n.isPublicTransport))}),e=t[t.length-1].legs,n=Object.assign(Object.assign({},this.tripData.tripRequest),{leaving:!0,dateTime:r(e[0].departingTime).add(60,"seconds")});this.stateStore.dispatch(new i.GetEarlierTripsAction({tripRequest:n,tripAppend:!0}))}getLaterArrivingTrips(){this.trackTripPlannerEventService.trackViewTripPlanResults();const t=this.tripData.journeys[1!==this.tripData.journeys[0].legs.length||this.tripData.journeys[0].legs[0].isPublicTransport?0:1].legs,e=Object.assign(Object.assign({},this.tripData.tripRequest),{leaving:!0,dateTime:r(t[0].departingTime).add(60,"seconds")});this.stateStore.dispatch(new i.GetEarlierTripsAction({tripRequest:e,tripAppend:!1}))}checkForITOnlyJourney(){var t,e,n;return 1===(null===(t=this.tripData)||void 0===t?void 0:t.journeys.length)&&1===(null===(e=this.tripData)||void 0===e?void 0:e.journeys[0].legs.length)&&!(null===(n=this.tripData)||void 0===n?void 0:n.journeys[0].legs[0].isPublicTransport)}}e.AppendTripsComponent=p,p.\u0275fac=function(t){return new(t||p)(a.\u0275\u0275directiveInject(s.Store),a.\u0275\u0275directiveInject(c.TrackTripPlannerEventService))},p.\u0275cmp=a.\u0275\u0275defineComponent({type:p,selectors:[["tni-append-trips"]],inputs:{label:"label",tripData:"tripData",isLeaving:"isLeaving",isEarlier:"isEarlier"},decls:1,vars:1,consts:[["class","append-trip-wrap",4,"ngIf"],[1,"append-trip-wrap"],[1,"append-trip",3,"click"]],template:function(t,e){1&t&&a.\u0275\u0275template(0,u,3,2,"div",0),2&t&&a.\u0275\u0275property("ngIf",!e.checkForITOnlyJourney())},directives:[l.NgIf],styles:["button.append-trip[_ngcontent-%COMP%]{font-size:13px;color:#555;line-height:20px;height:32px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff;display:inline-block;font-weight:400}.append-trip-wrap[_ngcontent-%COMP%]{text-align:center}"]})},QSoc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesUrlService=void 0;const r=n("f0Wu"),i=n("8Y7J"),o=n("iInd");class a{constructor(t){this.router=t}buildParams(t,e,n,i,o,a,s){const c={queryParams:Object.assign(Object.assign(Object.assign({depart:t,type:e,accessible:n,dateTime:null},Array.isArray(o)&&o.length>0&&{lines:o.join(",")}),{excludedModes:(null==a?void 0:a.length)>0?a.join(","):void 0}),s&&{arrive:s})};return c.queryParams.excludedModes&&7!==a.length||delete c.queryParams.excludedModes,i&&"Now"!==i.option?c.queryParams.dateTime=this.getFormattedDate(r(i.day).set({hour:i.hour,minute:i.minute,millisecond:0}).toISOString()):delete c.queryParams.dateTime,c.queryParams}readFromUrl(t){const e={depart:t.get("depart"),type:t.get("type"),onlyAccessible:t.get("accessible"),debug:t.get("debug"),dateTime:t.get("dateTime")?this.getDate(r(t.get("dateTime"),"YYYYMMDDHHmm")):null,lines:t.get("lines"),excludedModes:t.get("excludedModes"),arrive:t.get("arrive")};return e.excludedModes||delete e.excludedModes,e}getDate(t){return t.diff(r(),"days")<0?(t.date(r().date()),t.month(r().month()),t.year(r().year()),this.router.navigate(["/departures"],{queryParams:Object.assign({},""!==this.getFormattedDate(t)&&{dateTime:this.getFormattedDate(t)}),queryParamsHandling:"merge"}),t):t}getFormattedDate(t){return t?r(t).format("YYYYMMDDHHmm"):""}}e.DeparturesUrlService=a,a.\u0275fac=function(t){return new(t||a)(i.\u0275\u0275inject(o.Router))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac})},QaoB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.metaReducers=void 0;const r=n("lECk");e.metaReducers=[r.initStateFromLocalStorage]},Qihy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextHighlightDirective=void 0;const r=n("8Y7J");class i{constructor(t){this.el=t,this.separatedText=[],this.separatedSearchedText=[],this.final="",this.splitFlag="",this.matchFlag="",this.spanStart='<span class="ngx-text-highlight">',this.spanEnd="</span>"}set content(t){this.textContent=t}get content(){return this.textContent}set searchTerm(t){this.searchTermText=t,this.highlight()}get searchTerm(){return this.searchTermText}highlight(){if(this.final="",this.splitFlag="i",this.matchFlag="gi",this.searchPattern=new RegExp(this.searchTermText,this.splitFlag),this.matchpattern=new RegExp(this.searchTermText,this.matchFlag),void 0!==this.searchTermText&&null!=this.searchTermText&&this.searchTermText.length>0&&"."!==this.searchTermText[0]){if(this.separatedText=this.textContent.split(this.searchPattern),this.separatedSearchedText=this.textContent.match(this.matchpattern),null!=this.separatedSearchedText&&this.separatedSearchedText.length>0)for(let t=0;t<this.separatedText.length;t++)this.final+=t<=this.separatedSearchedText.length-1?0===t?this.separatedText[t]+this.spanStart+this.separatedSearchedText[t]+this.spanEnd:this.separatedText[t]+this.separatedSearchedText[t]:this.separatedText[t];this.final.length>0?this.el.nativeElement.innerHTML=this.final:this.el.nativeElement.innerText=this.textContent}else this.el.nativeElement.innerText=this.textContent}}e.TextHighlightDirective=i,i.\u0275fac=function(t){return new(t||i)(r.\u0275\u0275directiveInject(r.ElementRef))},i.\u0275dir=r.\u0275\u0275defineDirective({type:i,selectors:[["","tniTextHighlight",""]],inputs:{content:"content",searchTerm:"searchTerm"}})},Qj4J:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(n("wd/R"))},"R/a4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniAutosuggestComponent=void 0;const r=n("kU1M"),i=n("8Y7J"),o=n("qCKp"),a=n("8Y7J"),s=n("SVse"),c=n("VAo7"),l=["inputElement"],u=["autosuggestDropdown"];function p(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",10),a.\u0275\u0275elementStart(1,"div",11),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.errorMessage)}}function d(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",12),a.\u0275\u0275listener("click",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().onClearClick()})),a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(1,"svg",13),a.\u0275\u0275element(2,"path",14),a.\u0275\u0275element(3,"path",15),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275attribute("aria-label","Clear "+t.label)}}const h=function(t){return{hadFocus:t}};class f{constructor(){this.items=[],this.selectItemChange=new i.EventEmitter,this.inputTextChange=new i.EventEmitter,this.formSubmit=new i.EventEmitter,this.mapLinkClick=new i.EventEmitter,this.inputBlur=new i.EventEmitter,this.clearClick=new i.EventEmitter,this.isCancelled=!1,this.hadFocus=!1,this.isClickOnAutosuggestComp=!1,this.highlightedItemElId="",this.subscriptions$=new o.Subscription}set searchResults(t){this.isCancelled&&(this.ariaDropDownLabel="",this.closeDropDownAndClearAriaLabel()),t&&t.length>0||this.hasInputText()?this.dropdown.open():this.closeDropDownAndClearAriaLabel(),this.isTSN=this._isTSN(this.inputEl.nativeElement.value,t),this.isGroupTSN=this._isGroupTSN(this.inputEl.nativeElement.value,t),!this.isTSN||"tniFromDepartureLocation"!==this.id&&"tniToDepartureLocation"!==this.id||(this.inputId=this.id,this.stopId=this.inputEl.nativeElement.value),this.items=t}closeDropDownAndClearAriaLabel(){this.dropdown.close(),this.ariaDropDownLabel=""}ngOnChanges(t){this.inputEl&&(t.selectItem&&t.selectItem.currentValue&&(this.inputEl.nativeElement.value=this.isGroupTSN||!this.isTSN||"tniFromDepartureLocation"!==this.inputId&&"tniToDepartureLocation"!==this.inputId?t.selectItem.currentValue[this.displayProperty]:`Stop ID ${this.stopId}, ${t.selectItem.currentValue.shortName}`),t.textValue&&""===t.textValue.currentValue&&(this.inputEl.nativeElement.value=t.textValue.currentValue))}ngAfterViewInit(){this.inputEl&&(this.selectItem&&(this.inputEl.nativeElement.value=this.selectItem[this.displayProperty]),this.textValue&&(this.inputEl.nativeElement.value=this.textValue),this.bindSearchFnToInputEvents(),this.triggerEventOnInputChange())}bindSearchFnToInputEvents(){const t=this.fromEvent(this.inputEl.nativeElement,"input").pipe(r.map(t=>t.target.value),r.debounceTime(250),r.distinctUntilChanged()),e=this.fromEvent(this.inputEl.nativeElement,"focus").pipe(r.map(t=>t.target.value)),n=o.merge(t,e);this.subscriptions$.add(n.pipe(r.tap(()=>this.isCancelled=!1)).subscribe(t=>{this.searchFn(t)}))}fromEvent(t,e){return new o.Observable(n=>{const r=t=>n.next(t);return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}})}hasInputText(){if(this.inputEl)return this.inputEl.nativeElement.value.trim().length>0}triggerEventOnInputChange(){this.fromEvent(this.inputEl.nativeElement,"input").pipe(r.distinctUntilChanged()).subscribe(()=>{this.isNumeric=this.isNumberOnly(this.inputEl.nativeElement.value),this.inputTextChange.emit(this.inputEl.nativeElement.value)})}isNumberOnly(t){return!Number.isNaN(Number(t))}onClearClick(){this.inputEl.nativeElement.value="";const t=document.createEvent("Event");t.initEvent("input",!0,!0),this.inputEl.nativeElement.dispatchEvent(t),this.inputEl.nativeElement.focus(),this.clearClick.emit()}focus(){this.inputEl.nativeElement.focus()}inputText(){return this.inputEl.nativeElement.value}onSelectItem(t){t&&(this.inputEl.nativeElement.value=t[this.displayProperty],this.selectItemChange.emit(t),this.closeDropDownAndClearAriaLabel())}onInputClick(){this.isClickOnAutosuggestComp=!0}onDocumentClick(t){2!==t.button&&(this.isClickOnAutosuggestComp||(this.isCancelled=!0,this.closeDropDownAndClearAriaLabel()),this.isClickOnAutosuggestComp=!1)}onKeydown(t){if(this.dropdown.isOpen())switch(t.key){case"Tab":this.isCancelled=!0,this.closeDropDownAndClearAriaLabel();break;case"ArrowDown":this.highlightedItemElId=this.dropdown.highlightNextItem(),this.dropdown.highlightedItemIndex>-1&&(this.ariaDropDownLabel=this.items[this.dropdown.highlightedItemIndex][this.displayProperty]),t.preventDefault();break;case"ArrowUp":this.highlightedItemElId=this.dropdown.highlightPrevItem(),this.dropdown.highlightedItemIndex>-1&&(this.ariaDropDownLabel=this.items[this.dropdown.highlightedItemIndex][this.displayProperty]),t.preventDefault();break;case"Enter":this.dropdown.highlightedItemIndex>-1?this.dropdown.selectHighlightedItem():this.autoSelectFirstItem(),this.highlightedItemElId="",t.preventDefault();break;default:this.highlightedItemElId="","keydown"===t.type&&"Up"===t.key?(this.highlightedItemElId=this.dropdown.highlightPrevItem(),t.preventDefault()):"keydown"===t.type&&"Down"===t.key&&(this.highlightedItemElId=this.dropdown.highlightNextItem(),t.preventDefault())}else this.highlightedItemElId=""}isValid(){return!this.errorMessage}onInputBlur(){this.hadFocus=!1,setTimeout(()=>{this.dropdown.isFocusOnDropdown||(this.isCancelled=!0,!this.selectItem&&this.inputText().length&&this.items&&this.items.length?this.autoSelectFirstItem():this.closeDropDownAndClearAriaLabel(),this.inputBlur.emit(this.inputEl.nativeElement.id))},200)}autoSelectFirstItem(){const t=this.items[0];t&&"current_location"===t.type?this.items.length>1&&this.onSelectItem(this.items[1]):this.onSelectItem(t)}onLabelClick(t){t.stopPropagation(),this.inputEl.nativeElement.focus()}_isTSN(t,e){return this.isNumberOnly(t)&&t.length>=5&&1===(null==e?void 0:e.length)}_isGroupTSN(t,e){return this._isTSN(t,e)&&t===e[0].id}ngOnDestroy(){this.subscriptions$.unsubscribe()}}e.TniAutosuggestComponent=f,f.\u0275fac=function(t){return new(t||f)},f.\u0275cmp=a.\u0275\u0275defineComponent({type:f,selectors:[["tni-autosuggest"]],viewQuery:function(t,e){var n;1&t&&(a.\u0275\u0275staticViewQuery(l,!0),a.\u0275\u0275staticViewQuery(u,!0)),2&t&&(a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.inputEl=n.first),a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.dropdown=n.first))},hostBindings:function(t,e){1&t&&a.\u0275\u0275listener("click",(function(t){return e.onDocumentClick(t)}),!1,a.\u0275\u0275resolveDocument)},inputs:{id:"id",required:"required",placeholder:"placeholder",label:"label",ariaLabel:"ariaLabel",searchFn:"searchFn",displayProperty:"displayProperty",selectItem:"selectItem",resultTemplate:"resultTemplate",errorMessage:"errorMessage",textValue:"textValue",hideDropdownHeader:"hideDropdownHeader",alertBoxMessage:"alertBoxMessage",ignoreKeyEvents:"ignoreKeyEvents",showFooterBox:"showFooterBox",footerBoxMessage:"footerBoxMessage",hideMapLink:"hideMapLink",searchResults:"searchResults"},outputs:{selectItemChange:"selectItemChange",inputTextChange:"inputTextChange",formSubmit:"formSubmit",mapLinkClick:"mapLinkClick",inputBlur:"inputBlur",clearClick:"clearClick"},features:[a.\u0275\u0275NgOnChangesFeature],decls:12,vars:29,consts:[[1,"autosuggest-container"],[1,"form-input"],["type","text","role","textbox","autocomplete","off","autocapitalize","off","spellcheck","false","aria-haspopup","false",1,"autosuggest-input","form-control","form-input__input",3,"id","placeholder","keydown","click","blur","focus"],["inputElement",""],[1,"form-input__label",3,"ngClass","click"],["role","alert","aria-live","polite","class","popover error-popover right",4,"ngIf"],["type","button","class","autosuggest-clear-button",3,"click",4,"ngIf"],[3,"items","displayProperty","inputId","resultTemplate","selectedItem","hideDropdownHeader","alertBoxMessage","showFooterBox","footerBoxMessage","isNumeric","hideMapLink","isTSN","stopId","selectItem","mapLinkClicked"],["autosuggestDropdown",""],["aria-live","assertive",1,"sr-only"],["role","alert","aria-live","polite",1,"popover","error-popover","right"],[1,"popover-content"],["type","button",1,"autosuggest-clear-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","#373636","d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],["d","M0 0h24v24H0z","fill","none"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"input",2,3),a.\u0275\u0275listener("keydown",(function(t){return e.onKeydown(t)}))("click",(function(){return e.onInputClick()}))("blur",(function(){return e.onInputBlur()}))("focus",(function(t){return e.hadFocus=!0,t.target.select(),e.onInputClick()})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"label",4),a.\u0275\u0275listener("click",(function(t){return e.onLabelClick(t)})),a.\u0275\u0275text(5),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(6,p,3,1,"div",5),a.\u0275\u0275template(7,d,4,1,"button",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"tni-autosuggest-dropdown",7,8),a.\u0275\u0275listener("selectItem",(function(t){return e.onSelectItem(t)}))("mapLinkClicked",(function(t){return e.mapLinkClick.emit(t)})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"span",9),a.\u0275\u0275text(11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275classProp("invalid",!e.isValid()),a.\u0275\u0275advance(2),a.\u0275\u0275property("id",e.id)("placeholder",e.placeholder?e.placeholder:""),a.\u0275\u0275attribute("required",e.required)("aria-label",e.ariaLabel)("aria-required",e.required)("aria-activedescendant",e.highlightedItemElId),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(27,h,e.hadFocus||""!==e.inputEl.nativeElement.value)),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.isValid()),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.hasInputText()),a.\u0275\u0275advance(1),a.\u0275\u0275property("items",e.items)("displayProperty",e.displayProperty)("inputId",e.id)("resultTemplate",e.resultTemplate)("selectedItem",e.selectItem)("hideDropdownHeader",e.hideDropdownHeader)("alertBoxMessage",e.alertBoxMessage)("showFooterBox",e.showFooterBox)("footerBoxMessage",e.footerBoxMessage)("isNumeric",e.isNumeric)("hideMapLink",e.hideMapLink)("isTSN",e.isTSN)("inputId",e.inputId)("stopId",e.stopId),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(e.ariaDropDownLabel))},directives:[s.NgClass,s.NgIf,c.TniAutosuggestDropdownComponent],styles:[".autosuggest-container.invalid[_ngcontent-%COMP%]   .form-input__input[_ngcontent-%COMP%]{border-bottom:2px solid #e4022d}.autosuggest-container.invalid[_ngcontent-%COMP%]   .form-input__input[_ngcontent-%COMP%]:focus{border-color:#e4022d!important}.autosuggest-container[_ngcontent-%COMP%]   .error-popover[_ngcontent-%COMP%]{display:block;border-radius:4px;line-height:16px;box-shadow:none;border:none;background:transparent;top:65px;z-index:2}.autosuggest-container[_ngcontent-%COMP%]   .error-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{color:#e4022d;padding:6px;font-size:12px}.autosuggest-container[_ngcontent-%COMP%]   .autosuggest-input[_ngcontent-%COMP%]{padding:30px 24px 16px 16px!important}.autosuggest-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;position:relative;vertical-align:middle;margin-bottom:0;padding:12px 0;display:block}.autosuggest-container[_ngcontent-%COMP%]   .form-input__label[_ngcontent-%COMP%]{font-weight:300;position:absolute;bottom:100%;right:auto;color:#999e9f;top:28px;font-size:14px;transition:.3s}input[_ngcontent-%COMP%]:focus + .autosuggest-container[_ngcontent-%COMP%]   .form-input__label[_ngcontent-%COMP%]{top:30px;left:10px;font-size:12px}select[_ngcontent-%COMP%]:focus + .autosuggest-container[_ngcontent-%COMP%]   .form-input__label[_ngcontent-%COMP%]{top:0;left:0;font-size:14px;transition:.3s}.hasValue[_ngcontent-%COMP%] + .autosuggest-container[_ngcontent-%COMP%]   .form-input__label[_ngcontent-%COMP%]{top:30px;left:10px;font-size:12px}.autosuggest-container[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]   .autosuggest-container[_ngcontent-%COMP%]   .form-input__label[_ngcontent-%COMP%], .autosuggest-container[_ngcontent-%COMP%]   .form-input__label__mandatory[_ngcontent-%COMP%], .error[_ngcontent-%COMP%] + .autosuggest-container[_ngcontent-%COMP%]   .form-input__label[_ngcontent-%COMP%]{color:#c41f3d}.autosuggest-container[_ngcontent-%COMP%]   .form-input.hasValue__label[_ngcontent-%COMP%]{font-size:14px;padding:20px 10px 0;transition:0s}.autosuggest-container[_ngcontent-%COMP%]   .form-input__input[_ngcontent-%COMP%]{display:block;margin-top:0;background:none;padding:2px 2px 5px;height:35px;border-radius:0;border:solid #555;border-width:0 0 1px;float:left;color:#555;font-weight:400;font-size:16px;box-shadow:none}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.autosuggest-container[_ngcontent-%COMP%]   .form-input__input[_ngcontent-%COMP%]{font-size:16px}}.autosuggest-container[_ngcontent-%COMP%]   .form-input__input[_ngcontent-%COMP%]:focus{box-shadow:none}.autosuggest-container[_ngcontent-%COMP%]   .form-input__input.hasValue[_ngcontent-%COMP%]{padding:20px 10px 0}.autosuggest-container[_ngcontent-%COMP%]   .form-input__input[type=number][_ngcontent-%COMP%]:out-of-range{color:red}.autosuggest-container[_ngcontent-%COMP%]   .form-input__input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .autosuggest-container[_ngcontent-%COMP%]   .form-input__input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.autosuggest-container[_ngcontent-%COMP%]   .form-input__error-message[_ngcontent-%COMP%]{display:none}.error[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] + .autosuggest-container[_ngcontent-%COMP%]   .form-input__error-message[_ngcontent-%COMP%]{display:block;position:absolute;top:78px;left:2px;font-size:12px;color:#c41f3d}.autosuggest-container[_ngcontent-%COMP%]   .form-input__help[_ngcontent-%COMP%]{display:block;position:absolute;top:78px;left:2px;font-size:12px;color:#c41f3d;display:none;color:#999}.form-input__label[_ngcontent-%COMP%] + .autosuggest-container[_ngcontent-%COMP%]   .form-input__help[_ngcontent-%COMP%]{display:block}.autosuggest-container[_ngcontent-%COMP%]   .form-input__input[_ngcontent-%COMP%]{width:100%;float:none;padding-bottom:0}.autosuggest-container[_ngcontent-%COMP%]   .form-input__label[_ngcontent-%COMP%]{top:41px;left:5px}.autosuggest-container[_ngcontent-%COMP%]   .form-input__help[_ngcontent-%COMP%], .error[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] + .autosuggest-container[_ngcontent-%COMP%]   .form-input__error-message[_ngcontent-%COMP%]{position:static}.autosuggest-container[_ngcontent-%COMP%]   .form-input__input[_ngcontent-%COMP%]{border:1px solid transparent;border-bottom:2px solid #1c1c1b;background-color:#f9f9f9;border-radius:4px;padding:20px 10px 0;height:56px;box-sizing:border-box}.autosuggest-container[_ngcontent-%COMP%]   .form-input__input[_ngcontent-%COMP%]:focus{border-width:1px}.autosuggest-container[_ngcontent-%COMP%]   .form-input.nohelp[_ngcontent-%COMP%]{padding-bottom:5px;margin-bottom:0}.autosuggest-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   .form-input__help[_ngcontent-%COMP%]{margin:.6em 0 1.25em}.autosuggest-container[_ngcontent-%COMP%]   .form-input__label[_ngcontent-%COMP%]{color:#171717;font-size:16px;top:14px;left:22px;transform-origin:top left;transform:translateY(16px) scale(1);transition:all .1s ease-in-out}.autosuggest-container[_ngcontent-%COMP%]   .form-input__label.hadFocus[_ngcontent-%COMP%]{transform:translateY(4px) scale(.75);font-size:16px}.autosuggest-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#1c1c1b}.autosuggest-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0;padding:20px 10px 0;color:#1c1c1b;border-color:#1d69b4;border-bottom-width:2px;outline:4px solid rgba(0,0,0,.4)}.autosuggest-container[_ngcontent-%COMP%]   .autosuggest-clear-button[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:40px;right:5px;background:transparent;border:none;padding:0}.autosuggest-container[_ngcontent-%COMP%]   .autosuggest-clear-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:17px!important;height:17px!important;color:#333}@media print{.autosuggest-container[_ngcontent-%COMP%]   .autosuggest-clear-button[_ngcontent-%COMP%]{display:none}}"]})},RAwQ:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?i[n][0]:i[n][1]}function n(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return n(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return n(t)}return n(t/=1e3)}t.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return n(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return n(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d M\xe9int",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},RNDk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapResetAction=e.MapReloadOpalLocationAction=e.MapExploreLocationAction=e.MapVehiclePositionAction=e.MapDeparturesAction=e.MapAddFiltersAction=e.DisplayMapOptionsAction=e.MapCurrentLocationAction=e.MapTripLegAction=e.MapTripAction=e.MapOptionsAction=e.UseDefaultMapOptionsAction=e.MapCenterAction=e.ShowLayerOnMapAction=e.MapActionTypes=void 0;var r=e.MapActionTypes=function(t){return t.SHOW_LAYER_ON_MAP="[Map] SHOW_LAYER_ON_MAP",t.DISPLAY_MAP_OPTIONS="[Map] DISPLAY_MAP_OPTIONS",t.MAP_OPTIONS="[Map] MAP_OPTIONS",t.USE_DEFAUTL_MAP_OPTIONS="[Map] USE_DEFAUTL_MAP_OPTIONS",t.MAP_TRIP="[Map] MAP_TRIP",t.MAP_TRIP_LEG="[Map] MAP_TRIP_LEG",t.MAP_CURRENT_LOCATION="[Map] MAP_CURRENT_LOCATION",t.MAP_CENTER="[Map] MAP_CENTER",t.MAP_SHOW_LOCATION="[MAP] MAP_SHOW_LOCATION",t.MAP_ADD_FILTER="[Map] MAP_ADD_FILTER",t.MAP_DEPARTURES="[Map] MAP_DEPARTURES",t.MAP_VEHICLE_POSITION="[Map] MAP_VEHICLE_POSITION",t.MAP_EXPLORE_LOCATION="[Map] MAP_EXPLORE_LOCATION",t.MAP_RELOAD_OPAL_LOCATION="[Map] MAP_RELOAD_OPAL_LOCATION",t.MAP_RESET="[Map] MAP_RESET",t}(e.MapActionTypes||{});e.ShowLayerOnMapAction=class{constructor(t){this.payload=t,this.type=r.SHOW_LAYER_ON_MAP}},e.MapCenterAction=class{constructor(t){this.payload=t,this.type=r.MAP_CENTER}},e.UseDefaultMapOptionsAction=class{constructor(t){this.payload=t,this.type=r.USE_DEFAUTL_MAP_OPTIONS}},e.MapOptionsAction=class{constructor(t){this.payload=t,this.type=r.MAP_OPTIONS}},e.MapTripAction=class{constructor(t){this.payload=t,this.type=r.MAP_TRIP}},e.MapTripLegAction=class{constructor(t){this.payload=t,this.type=r.MAP_TRIP_LEG}},e.MapCurrentLocationAction=class{constructor(t){this.payload=t,this.type=r.MAP_CURRENT_LOCATION}},e.DisplayMapOptionsAction=class{constructor(t){this.payload=t,this.type=r.DISPLAY_MAP_OPTIONS}},e.MapAddFiltersAction=class{constructor(t){this.payload=t,this.type=r.MAP_ADD_FILTER}},e.MapDeparturesAction=class{constructor(t){this.payload=t,this.type=r.MAP_DEPARTURES}},e.MapVehiclePositionAction=class{constructor(t){this.payload=t,this.type=r.MAP_VEHICLE_POSITION}},e.MapExploreLocationAction=class{constructor(t){this.payload=t,this.type=r.MAP_EXPLORE_LOCATION}},e.MapReloadOpalLocationAction=class{constructor(){this.type=r.MAP_RELOAD_OPAL_LOCATION}},e.MapResetAction=class{constructor(){this.type=r.MAP_RESET}}},RatG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colour=void 0,e.Colour=class{}},RdKv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceOptionsComponent=void 0;const r=n("1z/I"),i=n("G0d7"),o=n("sYyf"),a=n("8Y7J"),s=n("lTCs"),c=n("SVse"),l=n("s7LF"),u=n("eWx7"),p=n("1z/I"),d=n("0njA"),h=n("ajRT");function f(t,e){1&t&&(a.\u0275\u0275elementStart(0,"h4"),a.\u0275\u0275text(1,"Service options"),a.\u0275\u0275elementEnd())}function m(t,e){1&t&&(a.\u0275\u0275elementStart(0,"h4",12),a.\u0275\u0275text(1,"Mobility"),a.\u0275\u0275elementEnd())}function g(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",13,14),a.\u0275\u0275listener("focus",(function(e){a.\u0275\u0275restoreView(t);const n=a.\u0275\u0275nextContext();return n.toggleServiceOptionsModal(!1),n.scrollFurther(e)}))("click",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().toggleServiceOptionsModal(!0)}))("keydown.enter",(function(e){a.\u0275\u0275restoreView(t);const n=a.\u0275\u0275nextContext();return e.stopPropagation(),n.toggleServiceOptionsModal(!0)})),a.\u0275\u0275element(2,"tni-icon",15),a.\u0275\u0275elementEnd()}}function y(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",16),a.\u0275\u0275elementStart(1,"div",17),a.\u0275\u0275element(2,"tni-form-checkbox",18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("checkboxGroup",t.group)}}function _(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"tni-modal",20),a.\u0275\u0275listener("closeEvent",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext(2).toggleServiceOptionsModal(!1)})),a.\u0275\u0275elementStart(1,"tni-modal-title"),a.\u0275\u0275elementStart(2,"h2"),a.\u0275\u0275text(3,"Service options"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",21),a.\u0275\u0275elementStart(5,"p"),a.\u0275\u0275text(6,"By default, all available services will be returned and the checkbox for \u201cInclude OpalPay, On Demand and bookable services\u201d will be selected. Selecting this option will show results for:"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"ul"),a.\u0275\u0275elementStart(8,"li"),a.\u0275\u0275text(9,"Private services (e.g. Manly Fast Ferry, rural and regional buses)"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"li"),a.\u0275\u0275text(11,"Services that need to be booked (On Demand services, Regional trains and coaches, private bus and ferry services)"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"p"),a.\u0275\u0275text(13,"Select 'Accessible services only' to get trips that only contain wheelchair accessible services and stops."),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("@fadeOutAnimation",void 0)("openingElement",t.serviceOptionsInfoElement)("closeAtBottomLayout",!0)("fullscreenMobile",!0)}}function v(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,_,14,4,"tni-modal",19),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",t.isInfoModalOpen)}}class b{constructor(t){this.modalService=t,this.isInfoModalOpen=!1}toggleServiceOptionsModal(t){t?(this.modalService.addModalToBody(this.portal),this.isInfoModalOpen=!0):(this.modalService.removeModalFromBody(),this.isInfoModalOpen=!1)}scrollFurther(t){i.ScrollFurtherDown.by(t.srcElement,150)}}e.ServiceOptionsComponent=b,b.\u0275fac=function(t){return new(t||b)(a.\u0275\u0275directiveInject(s.ModalService))},b.\u0275cmp=a.\u0275\u0275defineComponent({type:b,selectors:[["tni-service-options"]],viewQuery:function(t,e){var n;1&t&&a.\u0275\u0275viewQuery(r.CdkPortal,!0),2&t&&a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.portal=n.first)},inputs:{group:"group",isDepartures:"isDepartures"},decls:12,vars:6,consts:[[1,"trip-preference"],[1,"refine-header"],[4,"ngIf"],["class","mobility-header",4,"ngIf"],["role","button","tabindex","0","class","icon-wrap",3,"focus","click","keydown.enter",4,"ngIf"],[1,"optgroup"],[3,"formGroup"],["class","row tp-search-opal-only",4,"ngIf"],[1,"row","tp-search-accessibility"],[1,"col-xs-12"],["icon","accessible","name","accessibleServices","text","Accessible services only","formControlName","onlyAccessible",3,"checkboxGroup"],[4,"cdkPortal"],[1,"mobility-header"],["role","button","tabindex","0",1,"icon-wrap",3,"focus","click","keydown.enter"],["serviceOptionsInfoElement",""],["iconClasses","tp-icon sm","iconName","info","aria-label","service options information","iconAriaHidden","true"],[1,"row","tp-search-opal-only"],[1,"col-xs-12","radio-button-spacing"],["name","includeOpalPay","text","Include OpalPay, On Demand and bookable services","formControlName","includeOpalPayOnDemandAndBookableServices",3,"checkboxGroup"],["ariaLabel","Service Options",3,"openingElement","closeAtBottomLayout","fullscreenMobile","closeEvent",4,"ngIf"],["ariaLabel","Service Options",3,"openingElement","closeAtBottomLayout","fullscreenMobile","closeEvent"],[1,"service-options-text","modal-text"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275template(2,f,2,0,"h4",2),a.\u0275\u0275template(3,m,2,0,"h4",3),a.\u0275\u0275template(4,g,3,0,"a",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",5),a.\u0275\u0275elementStart(6,"div",6),a.\u0275\u0275template(7,y,3,1,"div",7),a.\u0275\u0275elementStart(8,"div",8),a.\u0275\u0275elementStart(9,"div",9),a.\u0275\u0275element(10,"tni-form-checkbox",10),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,v,2,1,"ng-container",11)),2&t&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!e.isDepartures),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.isDepartures),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.isDepartures),a.\u0275\u0275advance(2),a.\u0275\u0275property("formGroup",e.group),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.isDepartures),a.\u0275\u0275advance(3),a.\u0275\u0275property("checkboxGroup",e.group))},directives:[c.NgIf,l.NgControlStatusGroup,l.FormGroupDirective,u.CheckboxFormComponent,l.NgControlStatus,l.FormControlName,p.CdkPortal,d.IconComponent,h.ModalComponent,h.ModalTitleDirective],styles:[".trip-preference[_ngcontent-%COMP%]{padding:0 16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-preference[_ngcontent-%COMP%]{padding:0 10px}}.radio-button-spacing[_ngcontent-%COMP%]{margin-bottom:1rem}.service-options-text[_ngcontent-%COMP%]{text-align:left}.mobility-header[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;color:#171717}"],data:{animation:[o.fadeOutAnimation]}})},RnhZ:function(t,e,n){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id="RnhZ"},RvDl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EARTH_RADIUS=void 0,e.isEqual=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!(!t||!e)&&Math.abs(g(t)-g(e))<=n&&Math.abs(m(t)-m(e))<=n},e.isLatLon=c,e.isLatLng=l,e.isLatitudeLongitude=u,e.isLonLatTuple=p,e.getLocationType=d,e.createLocation=h,e.toLatLon=function(t){if(p(t))return{lat:t[1],lon:t[0]};if(c(t))return{lat:t.lat,lon:t.lon};if(l(t))return{lat:t.lat,lon:t.lng};if(u(t))return{lat:t.latitude,lon:t.longitude};throw new Error("Unknown location format "+JSON.stringify(t))},e.toLatLng=function(t){if(p(t))return{lat:t[1],lng:t[0]};if(c(t))return{lat:t.lat,lng:t.lon};if(l(t))return{lat:t.lat,lng:t.lng};if(u(t))return{lat:t.latitude,lng:t.longitude};throw new Error("Unknown location format "+JSON.stringify(t))},e.toLatitudeLongitude=function(t){if(p(t))return{latitude:t[1],longitude:t[0]};if(c(t))return{latitude:t.lat,longitude:t.lon};if(l(t))return{latitude:t.lat,longitude:t.lng};if(u(t))return{latitude:t.latitude,longitude:t.longitude};throw new Error("Unknown location format "+JSON.stringify(t))},e.toLonLatTuple=f,e.getLongitude=m,e.getLatitude=g,e.moveTo=y,e.headingDistanceTo=_,e.headingTo=function(t,e){return _(t,e).heading},e.distanceTo=v,e.insideBoundingBox=function(t,e){var n=g(t),r=m(t),i=m(e.topLeft),o=g(e.topLeft),a=m(e.bottomRight),s=g(e.bottomRight),c=Math.min(o,s),l=Math.max(o,s),u=Math.min(i,a),p=Math.max(i,a);return r>=u&&r<=p&&n>=c&&n<=l},e.insidePolygon=function(t,e){if(!e||!Array.isArray(e))throw new TypeError("Invalid polygon. Array with locations expected");if(0===e.length)throw new TypeError("Invalid polygon. Non-empty Array expected");return(0,i.default)(f(t),e.map(f))},e.insideCircle=function(t,e,n){return v(e,t)<=n},e.normalizeHeading=function(t){var e=t%360;return e<0&&(e+=360),e>=360&&(e-=360),e},e.normalizeLatitude=b,e.normalizeLongitude=M,e.normalizeLocation=function(t){if(p(t))return[M(t[0]),b(t[1])];if(c(t))return{lat:b(t.lat),lon:M(t.lon)};if(l(t))return{lat:b(t.lat),lng:M(t.lng)};if(u(t))return{latitude:b(t.latitude),longitude:M(t.longitude)};throw new Error("Unknown location format "+JSON.stringify(t))},e.average=function(t){if(!Array.isArray(t)||0===t.length)return null;var e=t[0];return h(x(t.map(g)),x(t.map(m)),d(e))},e.getBoundingBox=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(t)||0===t.length)return{topLeft:null,bottomRight:null};var n=d(t[0]),r=Math.max.apply(Math,a(t.map(g))),i=Math.min.apply(Math,a(t.map(m))),o=Math.min.apply(Math,a(t.map(g))),s=Math.max.apply(Math,a(t.map(m))),c=h(r,i,n),l=h(o,s,n);if(null===e||0===e)return{topLeft:c,bottomRight:l};var u=Math.SQRT2*e;return{topLeft:y(c,{heading:315,distance:u}),bottomRight:y(l,{heading:135,distance:u})}};var r,i=(r=n("cQc6"))&&r.__esModule?r:{default:r},o=n("9TDR");function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var s=e.EARTH_RADIUS=6378137;function c(t){return!!t&&"number"==typeof t.lat&&"number"==typeof t.lon}function l(t){return!!t&&"number"==typeof t.lat&&"number"==typeof t.lng}function u(t){return!!t&&"number"==typeof t.latitude&&"number"==typeof t.longitude}function p(t){return Array.isArray(t)&&"number"==typeof t[0]&&"number"==typeof t[1]}function d(t){if(p(t))return"LonLatTuple";if(c(t))return"LatLon";if(l(t))return"LatLng";if(u(t))return"LatitudeLongitude";throw new Error("Unknown location format "+JSON.stringify(t))}function h(t,e,n){if("LonLatTuple"===n)return[e,t];if("LatLon"===n)return{lat:t,lon:e};if("LatLng"===n)return{lat:t,lng:e};if("LatitudeLongitude"===n)return{latitude:t,longitude:e};throw new Error("Unknown location format "+JSON.stringify(location))}function f(t){if(p(t))return[t[0],t[1]];if(c(t))return[t.lon,t.lat];if(l(t))return[t.lng,t.lat];if(u(t))return[t.longitude,t.latitude];throw new Error("Unknown location format "+JSON.stringify(t))}function m(t){if(p(t))return t[0];if(c(t))return t.lon;if(l(t))return t.lng;if(u(t))return t.longitude;throw new Error("Unknown location format "+JSON.stringify(t))}function g(t){if(p(t))return t[1];if(c(t))return t.lat;if(l(t))return t.lat;if(u(t))return t.latitude;throw new Error("Unknown location format "+JSON.stringify(t))}function y(t,e){var n=g(t),r=m(t),i=e.heading,a=e.distance,c=a*Math.cos((0,o.degToRad)(i))/s,l=a*Math.sin((0,o.degToRad)(i))/(s*Math.cos((0,o.degToRad)(n)));return h(n+(0,o.radToDeg)(c),r+(0,o.radToDeg)(l),d(t))}function _(t,e){var n=g(t),r=m(t),i=g(e),a=m(e),c=(0,o.degToRad)(n),l=(0,o.degToRad)(i),u=(0,o.degToRad)(i-n),p=(0,o.degToRad)(a-r),d=Math.sin(u/2)*Math.sin(u/2)+Math.cos(c)*Math.cos(l)*Math.sin(p/2)*Math.sin(p/2),h=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),f=s*h,y=Math.sin(p)*Math.cos(l),_=Math.cos(c)*Math.sin(l)-Math.sin(c)*Math.cos(l)*Math.cos(p);return{distance:f,heading:(0,o.radToDeg)(Math.atan2(y,_))}}function v(t,e){return _(t,e).distance}function b(t){return Math.asin(Math.sin(t/180*Math.PI))*(180/Math.PI)}function M(t){var e=t%360;return e>180&&(e-=360),e<=-180&&(e+=360),e}function x(t){return function(t){return t.reduce((function(t,e){return t+e}),0)}(t)/t.length}},S6ln:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}t.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},SCoL:function(t,e,n){"use strict";n.r(e),n.d(e,"Platform",(function(){return s})),n.d(e,"PlatformModule",(function(){return c})),n.d(e,"_getShadowRoot",(function(){return v})),n.d(e,"_supportsShadowDom",(function(){return _})),n.d(e,"getRtlScrollAxisType",(function(){return y})),n.d(e,"getSupportedInputTypes",(function(){return u})),n.d(e,"normalizePassiveListenerOptions",(function(){return m})),n.d(e,"supportsPassiveEventListeners",(function(){return f})),n.d(e,"supportsScrollBehavior",(function(){return g}));var r=n("8Y7J"),i=n("SVse");let o;try{o="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(b){o=!1}let a,s=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(i.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!o)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.PLATFORM_ID))},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(r.PLATFORM_ID))},token:t,providedIn:"root"}),t})(),c=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})();const l=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function u(){if(a)return a;if("object"!=typeof document||!document)return a=new Set(l),a;let t=document.createElement("input");return a=new Set(l.filter(e=>(t.setAttribute("type",e),t.type===e))),a}let p,d,h;function f(){if(null==p&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>p=!0}))}finally{p=p||!1}return p}function m(t){return f()?t:!!t.capture}function g(){return!("object"!=typeof document||!("scrollBehavior"in document.documentElement.style))}function y(){if("object"!=typeof document||!document)return 0;if(null==d){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),d=0,0===t.scrollLeft&&(t.scrollLeft=1,d=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return d}function _(){if(null==h){const t="undefined"!=typeof document?document.head:null;h=!(!t||!t.createShadowRoot&&!t.attachShadow)}return h}function v(t){if(_()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}},SFxW:function(t,e,n){!function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"birne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(t){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec\u0259":t<12?"s\u0259h\u0259r":t<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(t){if(0===t)return t+"-\u0131nc\u0131";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},SI6E:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripHistoryListComponent=void 0;const r=n("kU1M"),i=n("Y7PD"),o=n("qCKp"),a=n("AoJw"),s=n("3Pgj"),c=n("8Y7J"),l=n("tqRt"),u=n("SVse"),p=n("GAyq"),d=n("E/gV");function h(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"li"),c.\u0275\u0275element(1,"tni-trip-history-item",5),c.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;c.\u0275\u0275advance(1),c.\u0275\u0275property("tripHistoryData",t)}}function f(t,e){if(1&t&&(c.\u0275\u0275elementStart(0,"div",3),c.\u0275\u0275elementStart(1,"p"),c.\u0275\u0275text(2,"Previous trips"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"ul"),c.\u0275\u0275template(4,h,2,1,"li",4),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t){const t=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(4),c.\u0275\u0275property("ngForOf",t.tripHistory)}}function m(t,e){1&t&&(c.\u0275\u0275elementStart(0,"div",6),c.\u0275\u0275elementStart(1,"p"),c.\u0275\u0275text(2,"No previous trips"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"span"),c.\u0275\u0275text(4,"Run a trip plan search above to view previous trips here"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd())}function g(t,e){1&t&&(c.\u0275\u0275elementStart(0,"div",3),c.\u0275\u0275elementStart(1,"p"),c.\u0275\u0275text(2,"Previous trips"),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(3,"tni-skeleton-loader",7),c.\u0275\u0275elementEnd()),2&t&&(c.\u0275\u0275advance(3),c.\u0275\u0275property("isAppend",!0)("isTripResults",!1))}function y(t,e){if(1&t&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275template(1,f,5,1,"div",1),c.\u0275\u0275template(2,m,5,0,"div",2),c.\u0275\u0275template(3,g,4,2,"div",1),c.\u0275\u0275elementContainerEnd()),2&t){const t=c.\u0275\u0275nextContext();c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",t.tripHistory.length>0&&0===t.tripDetails.journeys.length),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",0===t.tripHistory.length&&0===t.tripDetails.journeys.length&&t.tripHistoryFetched),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",!t.tripHistoryFetched)}}class _{constructor(t){this.stateStore=t,this.systemMessages$=this.stateStore.select(s.selectSystemMessages),this.transportFilter$=this.stateStore.select(a.getTransportFilter).pipe(r.map(t=>t.filter))}ngOnInit(){this.subscriptionData=o.combineLatest([this.stateStore.select(i.TripHistorySelector),this.stateStore.select(i.TripDetailsSelector),this.systemMessages$]).subscribe(([t,e,n])=>{this.tripHistory=t.data,this.tripHistoryFetched=t.isComplete,this.tripDetails=e,this.isShowHistoryList=void 0===n||0===n.length})}ngOnDestroy(){this.subscriptionData.unsubscribe()}}e.TripHistoryListComponent=_,_.\u0275fac=function(t){return new(t||_)(c.\u0275\u0275directiveInject(l.Store))},_.\u0275cmp=c.\u0275\u0275defineComponent({type:_,selectors:[["tni-trip-history-list"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","history-list",4,"ngIf"],["class","history-list empty-list",4,"ngIf"],[1,"history-list"],[4,"ngFor","ngForOf"],[3,"tripHistoryData"],[1,"history-list","empty-list"],[3,"isAppend","isTripResults"]],template:function(t,e){1&t&&c.\u0275\u0275template(0,y,4,3,"ng-container",0),2&t&&c.\u0275\u0275property("ngIf",e.isShowHistoryList)},directives:[u.NgIf,u.NgForOf,p.TripHistoryItemComponent,d.TripSkeletonLoaderComponent],styles:[".history-list[_ngcontent-%COMP%]{padding:0 8px 16px}.history-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.history-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 18px;text-align:center;color:#555;font-size:14px;font-weight:500}.history-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}.history-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.empty-list[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:400}.empty-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}"]})},"SNB+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OccupancyIndicatorComponent=void 0;const r=n("qCKp"),i=n("kU1M"),o=n("8Y7J"),a=n("EpZu"),s=n("SVse"),c=n("0njA");function l(t,e){if(1&t&&o.\u0275\u0275element(0,"tni-icon",10),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("iconName",t.realTimeOccupancyIconName)("iconAriaHidden",!0)}}function u(t,e){1&t&&(o.\u0275\u0275elementStart(0,"span",11),o.\u0275\u0275text(1,"Real time data shows that "),o.\u0275\u0275elementEnd())}function p(t,e){1&t&&(o.\u0275\u0275elementStart(0,"span",11),o.\u0275\u0275text(1,"Predictive data shows that "),o.\u0275\u0275elementEnd())}function d(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",1),o.\u0275\u0275template(1,l,1,2,"tni-icon",2),o.\u0275\u0275elementStart(2,"div",3),o.\u0275\u0275element(3,"tni-icon",4),o.\u0275\u0275element(4,"tni-icon",4),o.\u0275\u0275element(5,"tni-icon",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,u,2,0,"span",5),o.\u0275\u0275template(7,p,2,0,"span",5),o.\u0275\u0275elementStart(8,"span",6),o.\u0275\u0275text(9),o.\u0275\u0275elementStart(10,"button",7,8),o.\u0275\u0275element(12,"tni-icon",9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!t.transportation.isHistoricalOccupancy),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass","occupancy-indicator__icon--"+t.occupancyLevel+(null!=t.transportation&&t.transportation.isHistoricalOccupancy?"-historical":"")),o.\u0275\u0275advance(1),o.\u0275\u0275property("iconName","occupancy")("iconAriaHidden",!0)("iconTitle",t.occupancyHelpTip),o.\u0275\u0275advance(1),o.\u0275\u0275classProp("un-fill",t.occupancy<2),o.\u0275\u0275property("iconName","occupancy")("iconAriaHidden",!0)("iconTitle",t.occupancyHelpTip),o.\u0275\u0275advance(1),o.\u0275\u0275classProp("un-fill",t.occupancy<3),o.\u0275\u0275property("iconName","occupancy")("iconAriaHidden",!0)("iconTitle",t.occupancyHelpTip),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!t.transportation.isHistoricalOccupancy),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.transportation.isHistoricalOccupancy),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1("",t.occupancyHelpTip," ")}}class h{constructor(t){this.occupancyIndicatorService=t,this.occupancy=0,this.destroyed$=new r.Subject}ngOnChanges(t){t.transportation.currentValue.occupancy&&(this.realTimeOccupancyIconName=this.occupancyIndicatorService.getOccupancyRealtimeIconName(t.transportation.currentValue.occupancy),this.occupancyLevel=this.transportation.occupancy,this.occupancyLevel&&(this.occupancy=this.occupancyIndicatorService.getOccupancy(this.occupancyLevel),this.occupancyIndicatorService.getHelpTipText(this.occupancyLevel).pipe(i.takeUntil(this.destroyed$)).subscribe(t=>this.occupancyHelpTip=t)))}ngOnDestroy(){this.destroyed$.next()}}e.OccupancyIndicatorComponent=h,h.\u0275fac=function(t){return new(t||h)(o.\u0275\u0275directiveInject(a.OccupancyIndicatorService))},h.\u0275cmp=o.\u0275\u0275defineComponent({type:h,selectors:[["tni-occupancy-indicator"]],inputs:{transportation:"transportation"},features:[o.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["class","occupancy-indicator",4,"ngIf"],[1,"occupancy-indicator"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden",4,"ngIf"],[1,"occupancy-indicator__icon",3,"ngClass"],["iconClasses","xs occupancy",3,"iconName","iconAriaHidden","iconTitle"],["class","sr-only",4,"ngIf"],[1,"occupancy-text"],["tabindex","-1","aria-label","More information"],["occupancyIndicatorMoreInfoLink",""],["iconClasses","tp-icon sm","iconName","more-info","iconTitle","More information","iconAriaHidden","true"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden"],[1,"sr-only"]],template:function(t,e){1&t&&o.\u0275\u0275template(0,d,13,18,"div",0),2&t&&o.\u0275\u0275property("ngIf",null==e.transportation?null:e.transportation.occupancy)},directives:[s.NgIf,s.NgClass,c.IconComponent],styles:[".occupancy-indicator[_ngcontent-%COMP%]{display:flex;position:relative}.occupancy-indicator[_ngcontent-%COMP%]     .real-time{left:-9px}.occupancy-indicator__icon[_ngcontent-%COMP%]{display:inline-block;width:32px;position:relative;top:-1px;white-space:nowrap;margin:0 2px 0 -2px}.occupancy-indicator__icon--low[_ngcontent-%COMP%]{color:#31a50e}.occupancy-indicator__icon--medium[_ngcontent-%COMP%]{color:#dc7a13}.occupancy-indicator__icon--full[_ngcontent-%COMP%]{color:#af1919}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.occupancy-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.2em}}.occupancy-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none}.occupancy-indicator[_ngcontent-%COMP%]   .occupancy-text[_ngcontent-%COMP%]{text-align:left}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.occupancy-indicator[_ngcontent-%COMP%]   .occupancy-text[_ngcontent-%COMP%]{padding-right:19px}}@media (max-width:320px){.occupancy-indicator[_ngcontent-%COMP%]   .occupancy-text[_ngcontent-%COMP%]{padding-right:8px}}.occupancy-indicator[_ngcontent-%COMP%]     svg.occupancy{margin-left:-7px}.occupancy-indicator[_ngcontent-%COMP%]   .un-fill[_ngcontent-%COMP%]     svg{opacity:.3}"]})},SVse:function(t,e,n){"use strict";n.r(e),n.d(e,"APP_BASE_HREF",(function(){return b})),n.d(e,"AsyncPipe",(function(){return te})),n.d(e,"CommonModule",(function(){return ve})),n.d(e,"CurrencyPipe",(function(){return fe})),n.d(e,"DOCUMENT",(function(){return c})),n.d(e,"DatePipe",(function(){return oe})),n.d(e,"DecimalPipe",(function(){return de})),n.d(e,"FormStyle",(function(){return A})),n.d(e,"FormatWidth",(function(){return L})),n.d(e,"HashLocationStrategy",(function(){return x})),n.d(e,"I18nPluralPipe",(function(){return se})),n.d(e,"I18nSelectPipe",(function(){return ce})),n.d(e,"JsonPipe",(function(){return le})),n.d(e,"KeyValuePipe",(function(){return ue})),n.d(e,"LOCATION_INITIALIZED",(function(){return p})),n.d(e,"Location",(function(){return w})),n.d(e,"LocationStrategy",(function(){return _})),n.d(e,"LowerCasePipe",(function(){return ee})),n.d(e,"NgClass",(function(){return kt})),n.d(e,"NgComponentOutlet",(function(){return It})),n.d(e,"NgForOf",(function(){return Nt})),n.d(e,"NgForOfContext",(function(){return Dt})),n.d(e,"NgIf",(function(){return zt})),n.d(e,"NgIfContext",(function(){return Ft})),n.d(e,"NgLocaleLocalization",(function(){return At})),n.d(e,"NgLocalization",(function(){return Tt})),n.d(e,"NgPlural",(function(){return Ht})),n.d(e,"NgPluralCase",(function(){return Wt})),n.d(e,"NgStyle",(function(){return Ut})),n.d(e,"NgSwitch",(function(){return qt})),n.d(e,"NgSwitchCase",(function(){return Vt})),n.d(e,"NgSwitchDefault",(function(){return Yt})),n.d(e,"NgTemplateOutlet",(function(){return Xt})),n.d(e,"NumberFormatStyle",(function(){return T})),n.d(e,"NumberSymbol",(function(){return k})),n.d(e,"PathLocationStrategy",(function(){return M})),n.d(e,"PercentPipe",(function(){return he})),n.d(e,"PlatformLocation",(function(){return l})),n.d(e,"Plural",(function(){return O})),n.d(e,"SlicePipe",(function(){return ye})),n.d(e,"TitleCasePipe",(function(){return re})),n.d(e,"TranslationWidth",(function(){return P})),n.d(e,"UpperCasePipe",(function(){return ie})),n.d(e,"VERSION",(function(){return Oe})),n.d(e,"ViewportScroller",(function(){return Ae})),n.d(e,"WeekDay",(function(){return I})),n.d(e,"formatCurrency",(function(){return xt})),n.d(e,"formatDate",(function(){return ut})),n.d(e,"formatNumber",(function(){return Ct})),n.d(e,"formatPercent",(function(){return wt})),n.d(e,"getCurrencySymbol",(function(){return nt})),n.d(e,"getLocaleCurrencyCode",(function(){return G})),n.d(e,"getLocaleCurrencyName",(function(){return X})),n.d(e,"getLocaleCurrencySymbol",(function(){return U})),n.d(e,"getLocaleDateFormat",(function(){return q})),n.d(e,"getLocaleDateTimeFormat",(function(){return Y})),n.d(e,"getLocaleDayNames",(function(){return R})),n.d(e,"getLocaleDayPeriods",(function(){return N})),n.d(e,"getLocaleDirection",(function(){return Q})),n.d(e,"getLocaleEraNames",(function(){return F})),n.d(e,"getLocaleExtraDayPeriodRules",(function(){return K})),n.d(e,"getLocaleExtraDayPeriods",(function(){return Z})),n.d(e,"getLocaleFirstDayOfWeek",(function(){return j})),n.d(e,"getLocaleId",(function(){return D})),n.d(e,"getLocaleMonthNames",(function(){return z})),n.d(e,"getLocaleNumberFormat",(function(){return W})),n.d(e,"getLocaleNumberSymbol",(function(){return H})),n.d(e,"getLocalePluralCase",(function(){return J})),n.d(e,"getLocaleTimeFormat",(function(){return V})),n.d(e,"getLocaleWeekEndRange",(function(){return B})),n.d(e,"getNumberOfCurrencyDigits",(function(){return rt})),n.d(e,"isPlatformBrowser",(function(){return Ce})),n.d(e,"isPlatformServer",(function(){return Se})),n.d(e,"isPlatformWorkerApp",(function(){return Ee})),n.d(e,"isPlatformWorkerUi",(function(){return Te})),n.d(e,"registerLocaleData",(function(){return Pt})),n.d(e,"\u0275BrowserPlatformLocation",(function(){return d})),n.d(e,"\u0275DomAdapter",(function(){return s})),n.d(e,"\u0275NullViewportScroller",(function(){return Le})),n.d(e,"\u0275PLATFORM_BROWSER_ID",(function(){return be})),n.d(e,"\u0275PLATFORM_SERVER_ID",(function(){return Me})),n.d(e,"\u0275PLATFORM_WORKER_APP_ID",(function(){return xe})),n.d(e,"\u0275PLATFORM_WORKER_UI_ID",(function(){return we})),n.d(e,"\u0275angular_packages_common_common_a",(function(){return u})),n.d(e,"\u0275angular_packages_common_common_b",(function(){return f})),n.d(e,"\u0275angular_packages_common_common_c",(function(){return C})),n.d(e,"\u0275angular_packages_common_common_d",(function(){return v})),n.d(e,"\u0275angular_packages_common_common_e",(function(){return Gt})),n.d(e,"\u0275angular_packages_common_common_f",(function(){return _e})),n.d(e,"\u0275getDOM",(function(){return o})),n.d(e,"\u0275parseCookieValue",(function(){return Lt})),n.d(e,"\u0275setRootDomAdapter",(function(){return a}));var r=n("8Y7J");let i=null;function o(){return i}function a(t){i||(i=t)}class s{}const c=new r.InjectionToken("DocumentToken");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r["\u0275\u0275inject"])(d)}const p=new r.InjectionToken("Location Initialized");let d=(()=>{class t extends l{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](c))},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new d(Object(r["\u0275\u0275inject"])(c))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r["\u0275\u0275inject"])(c).location;return new M(Object(r["\u0275\u0275inject"])(l),e&&e.origin||"")}const b=new r.InjectionToken("appBaseHref");let M=(()=>{class t extends _{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](l),r["\u0275\u0275inject"](b,8))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t extends _{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=m(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](l),r["\u0275\u0275inject"](b,8))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](_),r["\u0275\u0275inject"](l))},t.normalizeQueryParams=y,t.joinWithSlash=m,t.stripTrailingSlash=g,t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r["\u0275\u0275inject"])(_),Object(r["\u0275\u0275inject"])(l))}function S(t){return t.replace(/\/index.html$/,"")}const E={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var T=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),A=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),P=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),L=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),k=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({}),I=function(t){return t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t}({});function D(t){return Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].LocaleId]}function N(t,e,n){const i=Object(r["\u0275findLocaleData"])(t),o=tt([i[r["\u0275LocaleDataIndex"].DayPeriodsFormat],i[r["\u0275LocaleDataIndex"].DayPeriodsStandalone]],e);return tt(o,n)}function R(t,e,n){const i=Object(r["\u0275findLocaleData"])(t),o=tt([i[r["\u0275LocaleDataIndex"].DaysFormat],i[r["\u0275LocaleDataIndex"].DaysStandalone]],e);return tt(o,n)}function z(t,e,n){const i=Object(r["\u0275findLocaleData"])(t),o=tt([i[r["\u0275LocaleDataIndex"].MonthsFormat],i[r["\u0275LocaleDataIndex"].MonthsStandalone]],e);return tt(o,n)}function F(t,e){return tt(Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].Eras],e)}function j(t){return Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].FirstDayOfWeek]}function B(t){return Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].WeekendRange]}function q(t,e){return tt(Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].DateFormat],e)}function V(t,e){return tt(Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].TimeFormat],e)}function Y(t,e){return tt(Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].DateTimeFormat],e)}function H(t,e){const n=Object(r["\u0275findLocaleData"])(t),i=n[r["\u0275LocaleDataIndex"].NumberSymbols][e];if(void 0===i){if(e===k.CurrencyDecimal)return n[r["\u0275LocaleDataIndex"].NumberSymbols][k.Decimal];if(e===k.CurrencyGroup)return n[r["\u0275LocaleDataIndex"].NumberSymbols][k.Group]}return i}function W(t,e){return Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].NumberFormats][e]}function U(t){return Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].CurrencySymbol]||null}function X(t){return Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].CurrencyName]||null}function G(t){return Object(r["\u0275getLocaleCurrencyCode"])(t)}const J=r["\u0275getLocalePluralCase"];function $(t){if(!t[r["\u0275LocaleDataIndex"].ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r["\u0275LocaleDataIndex"].LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function K(t){const e=Object(r["\u0275findLocaleData"])(t);return $(e),(e[r["\u0275LocaleDataIndex"].ExtraData][2]||[]).map(t=>"string"==typeof t?et(t):[et(t[0]),et(t[1])])}function Z(t,e,n){const i=Object(r["\u0275findLocaleData"])(t);$(i);const o=tt([i[r["\u0275LocaleDataIndex"].ExtraData][0],i[r["\u0275LocaleDataIndex"].ExtraData][1]],e)||[];return tt(o,n)||[]}function Q(t){return Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].Directionality]}function tt(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function et(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}function nt(t,e,n="en"){const i=function(t){return Object(r["\u0275findLocaleData"])(t)[r["\u0275LocaleDataIndex"].Currencies]}(n)[t]||E[t]||[],o=i[1];return"narrow"===e&&"string"==typeof o?o:i[0]||t}function rt(t){let e;const n=E[t];return n&&(e=n[2]),"number"==typeof e?e:2}const it=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ot={},at=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var st=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),ct=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),lt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function ut(t,e,n,r){let i=function(t){if(vt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(it))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,c,l),e}(n)}const e=new Date(t);if(!vt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=D(e);if(ot[r]=ot[r]||{},ot[r][n])return ot[r][n];let i="";switch(n){case"shortDate":i=q(e,L.Short);break;case"mediumDate":i=q(e,L.Medium);break;case"longDate":i=q(e,L.Long);break;case"fullDate":i=q(e,L.Full);break;case"shortTime":i=V(e,L.Short);break;case"mediumTime":i=V(e,L.Medium);break;case"longTime":i=V(e,L.Long);break;case"fullTime":i=V(e,L.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=pt(Y(e,L.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),a=t(e,"mediumDate");i=pt(Y(e,L.Medium),[o,a]);break;case"long":const s=t(e,"longTime"),c=t(e,"longDate");i=pt(Y(e,L.Long),[s,c]);break;case"full":const l=t(e,"fullTime"),u=t(e,"fullDate");i=pt(Y(e,L.Full),[l,u])}return i&&(ot[r][n]=i),i}(n,e)||e;let o,a=[];for(;e;){if(o=at.exec(e),!o){a.push(e);break}{a=a.concat(o.slice(1));const t=a.pop();if(!t)break;e=t}}let s=i.getTimezoneOffset();r&&(s=_t(r,s),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(_t(e,r)-r))}(i,r));let c="";return a.forEach(t=>{const e=function(t){if(yt[t])return yt[t];let e;switch(t){case"G":case"GG":case"GGG":e=ft(lt.Eras,P.Abbreviated);break;case"GGGG":e=ft(lt.Eras,P.Wide);break;case"GGGGG":e=ft(lt.Eras,P.Narrow);break;case"y":e=ht(ct.FullYear,1,0,!1,!0);break;case"yy":e=ht(ct.FullYear,2,0,!0,!0);break;case"yyy":e=ht(ct.FullYear,3,0,!1,!0);break;case"yyyy":e=ht(ct.FullYear,4,0,!1,!0);break;case"M":case"L":e=ht(ct.Month,1,1);break;case"MM":case"LL":e=ht(ct.Month,2,1);break;case"MMM":e=ft(lt.Months,P.Abbreviated);break;case"MMMM":e=ft(lt.Months,P.Wide);break;case"MMMMM":e=ft(lt.Months,P.Narrow);break;case"LLL":e=ft(lt.Months,P.Abbreviated,A.Standalone);break;case"LLLL":e=ft(lt.Months,P.Wide,A.Standalone);break;case"LLLLL":e=ft(lt.Months,P.Narrow,A.Standalone);break;case"w":e=gt(1);break;case"ww":e=gt(2);break;case"W":e=gt(1,!0);break;case"d":e=ht(ct.Date,1);break;case"dd":e=ht(ct.Date,2);break;case"E":case"EE":case"EEE":e=ft(lt.Days,P.Abbreviated);break;case"EEEE":e=ft(lt.Days,P.Wide);break;case"EEEEE":e=ft(lt.Days,P.Narrow);break;case"EEEEEE":e=ft(lt.Days,P.Short);break;case"a":case"aa":case"aaa":e=ft(lt.DayPeriods,P.Abbreviated);break;case"aaaa":e=ft(lt.DayPeriods,P.Wide);break;case"aaaaa":e=ft(lt.DayPeriods,P.Narrow);break;case"b":case"bb":case"bbb":e=ft(lt.DayPeriods,P.Abbreviated,A.Standalone,!0);break;case"bbbb":e=ft(lt.DayPeriods,P.Wide,A.Standalone,!0);break;case"bbbbb":e=ft(lt.DayPeriods,P.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":e=ft(lt.DayPeriods,P.Abbreviated,A.Format,!0);break;case"BBBB":e=ft(lt.DayPeriods,P.Wide,A.Format,!0);break;case"BBBBB":e=ft(lt.DayPeriods,P.Narrow,A.Format,!0);break;case"h":e=ht(ct.Hours,1,-12);break;case"hh":e=ht(ct.Hours,2,-12);break;case"H":e=ht(ct.Hours,1);break;case"HH":e=ht(ct.Hours,2);break;case"m":e=ht(ct.Minutes,1);break;case"mm":e=ht(ct.Minutes,2);break;case"s":e=ht(ct.Seconds,1);break;case"ss":e=ht(ct.Seconds,2);break;case"S":e=ht(ct.FractionalSeconds,1);break;case"SS":e=ht(ct.FractionalSeconds,2);break;case"SSS":e=ht(ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=mt(st.Short);break;case"ZZZZZ":e=mt(st.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=mt(st.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=mt(st.Long);break;default:return null}return yt[t]=e,e}(t);c+=e?e(i,n,s):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function pt(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function dt(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let a=String(t);for(;a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function ht(t,e,n=0,r=!1,i=!1){return function(o,a){let s=function(t,e){switch(t){case ct.FullYear:return e.getFullYear();case ct.Month:return e.getMonth();case ct.Date:return e.getDate();case ct.Hours:return e.getHours();case ct.Minutes:return e.getMinutes();case ct.Seconds:return e.getSeconds();case ct.FractionalSeconds:return e.getMilliseconds();case ct.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||s>-n)&&(s+=n),t===ct.Hours)0===s&&-12===n&&(s=12);else if(t===ct.FractionalSeconds)return c=e,dt(s,3).substr(0,c);var c;const l=H(a,k.MinusSign);return dt(s,e,l,r,i)}}function ft(t,e,n=A.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case lt.Months:return z(e,i,r)[t.getMonth()];case lt.Days:return R(e,i,r)[t.getDay()];case lt.DayPeriods:const a=t.getHours(),s=t.getMinutes();if(o){const t=K(e),n=Z(e,i,r),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&s>=e.minutes,i=a<n.hours||a===n.hours&&s<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===s)return!0;return!1});if(-1!==o)return n[o]}return N(e,i,r)[a<12?0:1];case lt.Eras:return F(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function mt(t){return function(e,n,r){const i=-1*r,o=H(n,k.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case st.Short:return(i>=0?"+":"")+dt(a,2,o)+dt(Math.abs(i%60),2,o);case st.ShortGMT:return"GMT"+(i>=0?"+":"")+dt(a,1,o);case st.Long:return"GMT"+(i>=0?"+":"")+dt(a,2,o)+":"+dt(Math.abs(i%60),2,o);case st.Extended:return 0===r?"Z":(i>=0?"+":"")+dt(a,2,o)+":"+dt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function gt(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return dt(i,t,H(r,k.MinusSign))}}const yt={};function _t(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function vt(t){return t instanceof Date&&!isNaN(t.valueOf())}const bt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Mt(t,e,n,r,i,o,a=!1){let s="",c=!1;if(isFinite(t)){let l=function(t){let e,n,r,i,o,a=Math.abs(t)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))e=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(a.charAt(r))}return n>22&&(e=e.splice(0,21),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}(t);a&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,p=e.minFrac,d=e.maxFrac;if(o){const t=o.match(bt);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(u=Et(e)),null!=n&&(p=Et(n)),null!=r?d=Et(r):null!=n&&p>d&&(d=p)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let t=a;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(let t=1;t<a;t++)r[t]=0}if(s>=5)if(a-1<0){for(let e=0;e>a;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const l=e+t.integerLen,u=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=l?r.pop():c=!1),e>=10?1:0}),0);u&&(r.unshift(u),t.integerLen++)}(l,p,d);let h=l.digits,f=l.integerLen;const m=l.exponent;let g=[];for(c=h.every(t=>!t);f<u;f++)h.unshift(0);for(;f<0;f++)h.unshift(0);f>0?g=h.splice(f,h.length):(g=h,h=[0]);const y=[];for(h.length>=e.lgSize&&y.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)y.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&y.unshift(h.join("")),s=y.join(H(n,r)),g.length&&(s+=H(n,i)+g.join("")),m&&(s+=H(n,k.Exponential)+"+"+m)}else s=H(n,k.Infinity);return s=t<0&&!c?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf,s}function xt(t,e,n,r,i){const o=St(W(e,T.Currency),H(e,k.MinusSign));return o.minFrac=rt(r),o.maxFrac=o.minFrac,Mt(t,o,e,k.CurrencyGroup,k.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function wt(t,e,n){return Mt(t,St(W(e,T.Percent),H(e,k.MinusSign)),e,k.Group,k.Decimal,n,!0).replace(new RegExp("%","g"),H(e,k.PercentSign))}function Ct(t,e,n){return Mt(t,St(W(e,T.Decimal),H(e,k.MinusSign)),e,k.Group,k.Decimal,n)}function St(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],c=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(let u=0;u<c.length;u++){const t=c.charAt(u);"0"===t?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const l=s.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Et(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class Tt{}function Ot(t,e,n,r){let i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${t}"`)}let At=(()=>{class t extends Tt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(J(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.LOCALE_ID))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function Pt(t,e,n){return Object(r["\u0275registerLocaleData"])(t,e,n)}function Lt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let kt=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["\u0275stringify"])(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.IterableDiffers),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),It=(()=>{class t{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const t=e.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(t.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),t})();class Dt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Dt(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Rt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Rt(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.IterableDiffers))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Rt{constructor(t,e){this.record=t,this.view=e}}let zt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ft{constructor(){this.$implicit=null,this.ngIf=null}}function jt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r["\u0275stringify"])(e)}'.`)}class Bt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let qt=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Vt=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Bt(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](qt,1))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Yt=(()=>{class t{constructor(t,e,n){n._addDefault(new Bt(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](qt,1))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Ht=(()=>{class t{constructor(t){this._localization=t,this._caseViews={}}set ngPlural(t){this._switchValue=t,this._updateView()}addCase(t,e){this._caseViews[t]=e}_updateView(){this._clearViews();const t=Object.keys(this._caseViews),e=Ot(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(t){t&&(this._activeView=t,this._activeView.create())}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](Tt))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),t})(),Wt=(()=>{class t{constructor(t,e,n,r){this.value=t;const i=!isNaN(Number(t));r.addCase(i?"="+t:t,new Bt(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275injectAttribute"]("ngPluralCase"),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](Ht,1))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngPluralCase",""]]}),t})(),Ut=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.Renderer2))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Xt=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),t})();const Gt=[kt,It,Nt,zt,Xt,Ut,qt,Vt,Yt,Ht,Wt];function Jt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r["\u0275stringify"])(t)}'`)}class $t{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Kt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Zt=new Kt,Qt=new $t;let te=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r["\u0275isPromise"])(e))return Zt;if(Object(r["\u0275isObservable"])(e))return Qt;throw Jt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275injectPipeChangeDetectorRef"]())},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"async",type:t,pure:!1}),t})(),ee=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Jt(t,e);return e.toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"lowercase",type:t,pure:!0}),t})();const ne=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let re=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Jt(t,e);return e.replace(ne,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"titlecase",type:t,pure:!0}),t})(),ie=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Jt(t,e);return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"uppercase",type:t,pure:!0}),t})(),oe=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return ut(e,n,i||this.locale,r)}catch(o){throw Jt(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"date",type:t,pure:!0}),t})();const ae=/#/g;let se=(()=>{class t{constructor(t){this._localization=t}transform(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw Jt(t,n);return n[Ot(e,Object.keys(n),this._localization,r)].replace(ae,e.toString())}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](Tt))},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nPlural",type:t,pure:!0}),t})(),ce=(()=>{class t{transform(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw Jt(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nSelect",type:t,pure:!0}),t})(),le=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"json",type:t,pure:!1}),t})(),ue=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=pe){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.KeyValueDiffers))},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"keyvalue",type:t,pure:!1}),t})();function pe(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let de=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(me(e))return null;r=r||this._locale;try{return Ct(ge(e),r,n)}catch(i){throw Jt(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"number",type:t,pure:!0}),t})(),he=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(me(e))return null;r=r||this._locale;try{return wt(ge(e),r,n)}catch(i){throw Jt(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"percent",type:t,pure:!0}),t})(),fe=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,r="symbol",i,o){if(me(e))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?nt(a,"symbol"===r?"wide":"narrow",o):r);try{return xt(ge(e),o,a,n,i)}catch(s){throw Jt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.LOCALE_ID),r["\u0275\u0275directiveInject"](r.DEFAULT_CURRENCY_CODE))},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"currency",type:t,pure:!0}),t})();function me(t){return null==t||""===t||t!=t}function ge(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}let ye=(()=>{class t{transform(e,n,r){if(null==e)return e;if(!this.supports(e))throw Jt(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"slice",type:t,pure:!1}),t})();const _e=[te,ie,ee,le,ye,de,he,re,fe,oe,se,ce,ue];let ve=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[{provide:Tt,useClass:At}]}),t})();const be="browser",Me="server",xe="browserWorkerApp",we="browserWorkerUi";function Ce(t){return t===be}function Se(t){return t===Me}function Ee(t){return t===xe}function Te(t){return t===we}const Oe=new r.Version("10.0.7");let Ae=(()=>{class t{}return t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({token:t,providedIn:"root",factory:()=>new Pe(Object(r["\u0275\u0275inject"])(c),window,Object(r["\u0275\u0275inject"])(r.ErrorHandler))}),t})();class Pe{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Le{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}},SatO:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e2d\u5348"===e?t>=11?t:t+12:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u9031";default:return t}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n("wd/R"))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=t=>{if(t&&"function"==typeof t[a.a])return u=t,t=>{const e=u[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SoYs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DurationComponent=void 0;const r=n("f0Wu"),i=n("8Y7J"),o=n("7rOj");class a{constructor(t){this.durationPipe=t}ngOnInit(){this.durationToDisplay=this.durationPipe.transform(this.duration,"<1 min"),this.durationDescription=r.duration(this.duration,"seconds").humanize(!0)}}e.DurationComponent=a,a.\u0275fac=function(t){return new(t||a)(i.\u0275\u0275directiveInject(o.DurationPipe))},a.\u0275cmp=i.\u0275\u0275defineComponent({type:a,selectors:[["tni-duration"]],inputs:{duration:"duration"},decls:2,vars:2,consts:[[1,"duration"]],template:function(t,e){1&t&&(i.\u0275\u0275elementStart(0,"span",0),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t&&(i.\u0275\u0275attribute("aria-label","duration of "+e.durationDescription),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(e.durationToDisplay))},styles:[".duration[_ngcontent-%COMP%]{font-size:12px}"]})},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),a=n("xbPD"),s=n("XDbj"),c=n("SpAZ");function l(t,e){const n=arguments.length>=2;return l=>l.pipe(t?Object(i.a)((e,n)=>t(e,n,l)):c.a,Object(o.a)(1),n?Object(a.a)(e):Object(s.a)(()=>new r.a))}},TKwh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripPlannerComponent=void 0;const r=n("iFc6"),i=n("tqRt"),o=n("Y7PD"),a=n("qCKp"),s=n("mrM3"),c=n("kU1M"),l=n("AoJw"),u=n("sYyf"),p=n("1z/I"),d=n("qoZc"),h=n("6phY"),f=n("EiLY"),m=n("8Y7J"),g=n("MhY6"),y=n("tqRt"),_=n("YqJu"),v=n("VS5s"),b=n("lTCs"),M=n("87t5"),x=n("cUpR"),w=n("iInd"),C=n("SVse"),S=n("ahfq"),E=n("8iVM"),T=n("2SIV"),O=n("BIft"),A=n("8iuE"),P=n("1z/I"),L=n("gJTM"),k=n("SI6E"),I=n("E/gV"),D=n("lcR5"),N=n("0njA"),R=n("QK+q"),z=n("ajRT"),F=["container"];function j(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"tni-navigate-back",3),m.\u0275\u0275listener("clickBack",(function(){m.\u0275\u0275restoreView(t);const n=e.ngIf;return m.\u0275\u0275nextContext().navigateBack(n.route)})),m.\u0275\u0275elementEnd()}2&t&&m.\u0275\u0275property("target",e.ngIf.linkLabel)}function B(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"tni-trip-error",14),m.\u0275\u0275listener("tripChange",(function(e){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext(2).trip=e})),m.\u0275\u0275elementEnd()}if(2&t){const t=m.\u0275\u0275nextContext().ngIf,e=m.\u0275\u0275nextContext();m.\u0275\u0275property("errorMessage",t.tripDetails.errorMessage)("tripRequest",t.tripDetails.tripRequest)("trip",e.trip)}}function q(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275elementStart(1,"tni-skeleton-loader",20),m.\u0275\u0275listener("clearTripData",(function(){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext(3),m.\u0275\u0275reference(6).clearTrip()})),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&t&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("isAppend",!1)("isTripResults",!0))}function V(t,e){1&t&&(m.\u0275\u0275elementStart(0,"div",21),m.\u0275\u0275element(1,"tni-skeleton-loader",22),m.\u0275\u0275elementEnd()),2&t&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("isAppend",!0)("isTripResults",!1)("isTaxiResults",!0))}function Y(t,e){1&t&&(m.\u0275\u0275elementStart(0,"div",21),m.\u0275\u0275element(1,"tni-skeleton-loader",23),m.\u0275\u0275elementEnd()),2&t&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("isAppend",!0)("isTripResults",!1)("isCycleResults",!0))}function H(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",27),m.\u0275\u0275listener("click",(function(){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext(5).refreshResults()})),m.\u0275\u0275element(1,"tni-icon",28),m.\u0275\u0275elementStart(2,"span",29),m.\u0275\u0275text(3," Refresh results "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&t){const t=m.\u0275\u0275nextContext(4).ngIf;m.\u0275\u0275classProp("active",t.showRefreshBtn&&"publicTransport"===t.journeyType.filter),m.\u0275\u0275advance(1),m.\u0275\u0275property("iconAriaHidden",!0)}}const W=function(t){return{hidden:t}};function U(t,e){if(1&t&&(m.\u0275\u0275elementStart(0,"div",24),m.\u0275\u0275element(1,"tni-trip-results",25),m.\u0275\u0275template(2,H,4,3,"button",26),m.\u0275\u0275elementEnd()),2&t){const t=m.\u0275\u0275nextContext(3).ngIf,e=m.\u0275\u0275reference(6),n=m.\u0275\u0275nextContext();m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(4,W,"preferences-tab"===e.activeTab)),m.\u0275\u0275advance(1),m.\u0275\u0275property("tripResults",t.tripDetails)("transportFilter",t.journeyType.filter),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!n.windowRef.isMobileView())}}function X(t,e){1&t&&(m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275element(1,"tni-skeleton-loader",30),m.\u0275\u0275elementEnd()),2&t&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("isAppend",!0)("isTripResults",!0))}function G(t,e){if(1&t&&m.\u0275\u0275element(0,"tni-append-trips",35),2&t){const t=m.\u0275\u0275nextContext(4).ngIf;m.\u0275\u0275property("label",t.tripDetails.tripRequest.leaving?"Later":"Earlier")("tripData",t.tripDetails)("isLeaving",!t.tripDetails.tripRequest.leaving)("isEarlier",!t.tripDetails.tripRequest.leaving)}}function J(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",27),m.\u0275\u0275listener("click",(function(){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext(5).refreshResults()})),m.\u0275\u0275element(1,"tni-icon",28),m.\u0275\u0275elementStart(2,"span",29),m.\u0275\u0275text(3," Refresh results "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&t){const t=m.\u0275\u0275nextContext(4).ngIf;m.\u0275\u0275classProp("active",t.showRefreshBtn&&"publicTransport"===t.journeyType.filter),m.\u0275\u0275advance(1),m.\u0275\u0275property("iconAriaHidden",!0)}}function $(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",36),m.\u0275\u0275listener("click",(function(){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext(5).handlePrint()})),m.\u0275\u0275element(1,"tni-icon",37),m.\u0275\u0275elementStart(2,"span",29),m.\u0275\u0275text(3," Print "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&t&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("iconAriaHidden",!0))}function K(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",38,39),m.\u0275\u0275listener("click",(function(e){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext(5).openDisclaimerDialog(e)}))("keydown.enter",(function(e){m.\u0275\u0275restoreView(t);const n=m.\u0275\u0275nextContext(5);return e.preventDefault(),n.openDisclaimerDialog(e)}))("focus",(function(e){return m.\u0275\u0275restoreView(t),e.preventDefault()})),m.\u0275\u0275element(2,"tni-icon",40),m.\u0275\u0275elementStart(3,"span"),m.\u0275\u0275text(4,"Disclaimer"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}}function Z(t,e){if(1&t&&(m.\u0275\u0275elementStart(0,"div",31),m.\u0275\u0275template(1,G,1,4,"tni-append-trips",32),m.\u0275\u0275template(2,J,4,3,"button",26),m.\u0275\u0275template(3,$,4,1,"button",33),m.\u0275\u0275template(4,K,5,0,"button",34),m.\u0275\u0275elementEnd()),2&t){const t=m.\u0275\u0275nextContext(3).ngIf,e=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","publicTransport"===t.journeyType.filter&&t.tripDetails.journeys.length>0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",e.windowRef.isMobileView()),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!e.windowRef.isMobileView()&&(t.tripDetails.journeys.length>0||"publicTransport"!==t.journeyType.filter)),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","drive"===t.journeyType.filter)}}function Q(t,e){if(1&t&&(m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275template(1,q,2,2,"div",2),m.\u0275\u0275template(2,V,2,3,"div",16),m.\u0275\u0275template(3,Y,2,3,"div",16),m.\u0275\u0275template(4,U,3,6,"div",17),m.\u0275\u0275template(5,X,2,2,"div",2),m.\u0275\u0275template(6,Z,5,4,"div",18),m.\u0275\u0275elementStart(7,"div",19),m.\u0275\u0275element(8,"tni-trip-history-list"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&t){const t=m.\u0275\u0275nextContext(2).ngIf,e=m.\u0275\u0275reference(6);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.tripDetails.isLoadingEarlier),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.tripDetails.isTaxiLoading&&"drive"===t.journeyType.filter),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.tripDetails.isCycleLoading&&"cycle"===t.journeyType.filter),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!(t.tripDetails.isCycleLoading&&"cycle"===t.journeyType.filter||t.tripDetails.isTaxiLoading&&"drive"===t.journeyType.filter)),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.tripDetails.isLoadingLater),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",((null==t.tripDetails.journeys?null:t.tripDetails.journeys.length)>0||(null==t.tripDetails.taxiDrive?null:t.tripDetails.taxiDrive.length)>0||(null==t.tripDetails.cycle?null:t.tripDetails.cycle.length)>0||(null==t.tripDetails.walk?null:t.tripDetails.walk.length)>0)&&!t.tripDetails.isLoadingLater),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(7,W,"preferences-tab"===e.activeTab))}}function tt(t,e){if(1&t&&(m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275template(1,Q,9,9,"div",15),m.\u0275\u0275elementEnd()),2&t){const t=m.\u0275\u0275nextContext().ngIf,e=m.\u0275\u0275reference(12);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!t.tripDetails.isLoading)("ngIfElse",e)}}function et(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"tni-modal",44),m.\u0275\u0275listener("closeEvent",(function(){m.\u0275\u0275restoreView(t);const e=m.\u0275\u0275nextContext(4);return e.isErrorModalOpen=!1,e.modalService.removeModalFromBody()})),m.\u0275\u0275elementStart(1,"tni-modal-title"),m.\u0275\u0275elementStart(2,"h2"),m.\u0275\u0275text(3,"Something went wrong"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"div",45),m.\u0275\u0275text(5),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&t){const t=m.\u0275\u0275nextContext(4);m.\u0275\u0275property("@fadeOutAnimation",void 0)("ariaLabel",t.errorMessage)("closeAtBottomLayout",!0)("fullscreenMobile",!0),m.\u0275\u0275advance(5),m.\u0275\u0275textInterpolate1(" ",t.errorMessage," ")}}function nt(t,e){if(1&t&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,et,6,5,"tni-modal",43),m.\u0275\u0275elementContainerEnd()),2&t){const t=m.\u0275\u0275nextContext(3);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.isErrorModalOpen)}}function rt(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"tni-modal",47),m.\u0275\u0275listener("closeEvent",(function(){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext(4).closeDisclaimerDialog()})),m.\u0275\u0275elementStart(1,"tni-modal-title"),m.\u0275\u0275elementStart(2,"h2"),m.\u0275\u0275text(3,"Disclaimer"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"div",45),m.\u0275\u0275elementStart(5,"p"),m.\u0275\u0275text(6," Services are provided by third party operators, which are not owned by Transport for NSW. You will be dealing directly with the service provider once you book a service. "),m.\u0275\u0275elementStart(7,"a",48),m.\u0275\u0275text(8,"Find out more"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&t&&m.\u0275\u0275property("@fadeOutAnimation",void 0)("alignAtTop",!0)("fullscreenMobile",!0)("closeAtBottomLayout",!0)}function it(t,e){if(1&t&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,rt,9,4,"tni-modal",46),m.\u0275\u0275elementContainerEnd()),2&t){const t=m.\u0275\u0275nextContext(3);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.showModal)}}function ot(t,e){if(1&t&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275elementContainerStart(1,41),m.\u0275\u0275template(2,nt,2,1,"ng-container",42),m.\u0275\u0275template(3,it,2,1,"ng-container",42),m.\u0275\u0275elementContainerEnd(),m.\u0275\u0275elementContainerEnd()),2&t){const t=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngSwitch",t.modalType),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngSwitchCase","error"),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngSwitchCase","disclaimer")}}function at(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"tni-skeleton-loader",20),m.\u0275\u0275listener("clearTripData",(function(){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext(),m.\u0275\u0275reference(6).clearTrip()})),m.\u0275\u0275elementEnd()}2&t&&m.\u0275\u0275property("isAppend",!1)("isTripResults",!0)}const st=function(t){return{"trip-planner-left-panel":t}};function ct(t,e){if(1&t){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275elementStart(1,"div",4),m.\u0275\u0275elementStart(2,"div",5,6),m.\u0275\u0275elementStart(4,"div",7),m.\u0275\u0275elementStart(5,"tni-trip-search-form",8,9),m.\u0275\u0275listener("sendTripData",(function(e){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext().trip=e})),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(7,B,1,3,"tni-trip-error",10),m.\u0275\u0275template(8,tt,2,2,"div",2),m.\u0275\u0275element(9,"tni-footer-message",11),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(10,ot,4,3,"ng-container",12),m.\u0275\u0275template(11,at,1,2,"ng-template",null,13,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementContainerEnd()}if(2&t){const t=e.ngIf,n=m.\u0275\u0275reference(6),r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(2),m.\u0275\u0275classProp("hidden",r.isMapView),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(8,st,"preferences-tab"!==n.activeTab)),m.\u0275\u0275advance(3),m.\u0275\u0275property("tripResults",t.tripDetails)("trip",r.trip)("transportFilter",t.journeyType.filter),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",t.tripDetails.hasError),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!t.tripDetails.hasError)}}const lt=function(t,e,n){return{tripDetails:t,journeyType:e,showRefreshBtn:n}};class ut{constructor(t,e,n,r,i,o,c,l,u){this.windowRef=t,this.stateStore=e,this.cdref=n,this.refreshResultsService=r,this.trackTripPlannerEventService=i,this.modalService=o,this.mapConfigService=c,this.titleService=l,this.router=u,this.trip=new s.Trip,this.ngDestroyed$=new a.Subject}ngAfterContentChecked(){this.cdref.detectChanges()}ngOnInit(){this.titleService.setTitle("Trip Planner | transportnsw.info"),this.trackTripPlannerEventService.trackTripPlannerPageLoad(),this.tripDetails$=this.stateStore.pipe(i.select(o.TripDetailsSelector)),this.journeyType$=this.stateStore.pipe(i.select(l.getTransportFilter)),this.navigationLink$=this.stateStore.pipe(i.select(h.getNavigateLink)),this.showRefreshButton(),this.tripDetails$.pipe(c.takeUntil(this.ngDestroyed$)).subscribe(t=>{t.taxiDrive&&t.taxiDrive.length>1&&(t.taxiDrive=this.moveFirstToLastPosition(t.taxiDrive)),(t.journeys&&t.journeys.length>0||t.isLoadingEarlier||t.isLoadingLater)&&this.showRefreshButton()})}ngAfterViewInit(){this.mapConfigService.showMapOptions(!0,d.MapSource.TripPlanner)}ngOnDestroy(){this.ngDestroyed$.next()}moveFirstToLastPosition(t){return t[0].fares&&t.push(t.shift()),t}showRefreshButton(){this.showRefreshBtn$=this.tripDetails$.pipe(c.debounce(t=>a.timer(t.journeys.length>0||t.isLoadingEarlier?r.TniConstant.DISPLAY_REFRESH_INTERVAL:0)),c.map(t=>t.journeys.length>0))}handlePrint(){window.navigator.userAgent.indexOf("Safari")>-1?document.execCommand("print",!1,null):window.print()}refreshResults(){this.trackTripPlannerEventService.trackRefreshResults(),this.refreshResultsService.refreshResults(!0)}navigateBack(t){t&&(this.stateStore.select(h.getAppViewState).pipe(c.take(1),c.filter(t=>!!t)).subscribe(t=>{t.forceMobileMapView&&this.stateStore.dispatch(new f.SwitchAppViewAction({mobileMapView:!0}))}),t===r.TniConstant.ROUTE_PATHS.OPAL_RETAILERS&&this.trackTripPlannerEventService.trackNavBackToOpalRetailer(),this.router.navigate([t]))}openDisclaimerDialog(t){t.stopPropagation(),t.preventDefault(),this.modalType="disclaimer",this.modalService.addModalToBody(this.portal),this.showModal=!0}closeDisclaimerDialog(){this.modalService.removeModalFromBody(),this.showModal=!1,setTimeout(()=>{this.operatorDisclaimerEl.nativeElement.focus()},200)}onWindowScroll(){if(this.windowRef.isMobileView()){const t=this.viewContainer,e=t&&t.nativeElement.querySelector(".btn-sticky.active");e&&(e.getBoundingClientRect().bottom>t.nativeElement.querySelector(".results").getBoundingClientRect().bottom&&t.nativeElement.getBoundingClientRect().bottom<window.innerHeight?e.classList.add("active-sticky"):e.classList.remove("active-sticky"))}}}e.TripPlannerComponent=ut,ut.\u0275fac=function(t){return new(t||ut)(m.\u0275\u0275directiveInject(g.WindowRef),m.\u0275\u0275directiveInject(y.Store),m.\u0275\u0275directiveInject(m.ChangeDetectorRef),m.\u0275\u0275directiveInject(_.RefreshResultsService),m.\u0275\u0275directiveInject(v.TrackTripPlannerEventService),m.\u0275\u0275directiveInject(b.ModalService),m.\u0275\u0275directiveInject(M.MapConfigService),m.\u0275\u0275directiveInject(x.Title),m.\u0275\u0275directiveInject(w.Router))},ut.\u0275cmp=m.\u0275\u0275defineComponent({type:ut,selectors:[["tni-trip-planner"]],viewQuery:function(t,e){var n;1&t&&(m.\u0275\u0275viewQuery(p.CdkPortal,!0),m.\u0275\u0275staticViewQuery(F,!0)),2&t&&(m.\u0275\u0275queryRefresh(n=m.\u0275\u0275loadQuery())&&(e.portal=n.first),m.\u0275\u0275queryRefresh(n=m.\u0275\u0275loadQuery())&&(e.viewContainer=n.first))},hostBindings:function(t,e){1&t&&m.\u0275\u0275listener("scroll",(function(){return e.onWindowScroll()}),!1,m.\u0275\u0275resolveWindow)},decls:7,vars:14,consts:[[3,"target","clickBack",4,"ngIf"],["id","tni-trip-nav-tabs",1,"tni-trip-nav-tabs"],[4,"ngIf"],[3,"target","clickBack"],["mouseFocus","",1,"row","trip-planner"],["id","trip-planner-left-panel",1,"search-results",3,"ngClass"],["container",""],[1,"search"],[3,"tripResults","trip","transportFilter","sendTripData"],["search",""],["class","trip-error",3,"errorMessage","tripRequest","trip","tripChange",4,"ngIf"],[1,"col-md-4","col-sm-5","col-xs-12"],[4,"cdkPortal"],["loading",""],[1,"trip-error",3,"errorMessage","tripRequest","trip","tripChange"],[4,"ngIf","ngIfElse"],["class","results",4,"ngIf"],["class","results",3,"ngClass",4,"ngIf"],["class","result-action",4,"ngIf"],[1,"history",3,"ngClass"],[3,"isAppend","isTripResults","clearTripData"],[1,"results"],[3,"isAppend","isTripResults","isTaxiResults"],[3,"isAppend","isTripResults","isCycleResults"],[1,"results",3,"ngClass"],[3,"tripResults","transportFilter"],["class","btn btn-sticky",3,"active","click",4,"ngIf"],[1,"btn","btn-sticky",3,"click"],["tabindex","0","iconClasses","tp-icon ","iconName","refresh-small",3,"iconAriaHidden"],[1,"text"],[3,"isAppend","isTripResults"],[1,"result-action"],["class","append-btn",3,"label","tripData","isLeaving","isEarlier",4,"ngIf"],["class","result-actions-button",3,"click",4,"ngIf"],["class","result-actions-button",3,"click","keydown.enter","focus",4,"ngIf"],[1,"append-btn",3,"label","tripData","isLeaving","isEarlier"],[1,"result-actions-button",3,"click"],["iconClasses","tp-icon xs ","iconName","print",3,"iconAriaHidden"],[1,"result-actions-button",3,"click","keydown.enter","focus"],["operatorDisclaimer",""],["iconClasses","tp-icon xs","iconName","disclaimer_alert","aria-label","service options information icon","iconAriaHidden","true"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ariaLabel","closeAtBottomLayout","fullscreenMobile","closeEvent",4,"ngIf"],[3,"ariaLabel","closeAtBottomLayout","fullscreenMobile","closeEvent"],[1,"modal-text"],["class","fare-modal-dialog","ariaLabel","Disclaimer",3,"alignAtTop","fullscreenMobile","closeAtBottomLayout","closeEvent",4,"ngIf"],["ariaLabel","Disclaimer",1,"fare-modal-dialog",3,"alignAtTop","fullscreenMobile","closeAtBottomLayout","closeEvent"],["target","_blank","href","http://www.transportnsw.info/booking-service-providers"]],template:function(t,e){1&t&&(m.\u0275\u0275template(0,j,1,1,"tni-navigate-back",0),m.\u0275\u0275pipe(1,"async"),m.\u0275\u0275element(2,"tni-trip-nav-tabs",1),m.\u0275\u0275template(3,ct,13,10,"ng-container",2),m.\u0275\u0275pipe(4,"async"),m.\u0275\u0275pipe(5,"async"),m.\u0275\u0275pipe(6,"async")),2&t&&(m.\u0275\u0275property("ngIf",m.\u0275\u0275pipeBind1(1,2,e.navigationLink$)),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngIf",m.\u0275\u0275pureFunction3(10,lt,m.\u0275\u0275pipeBind1(4,4,e.tripDetails$),m.\u0275\u0275pipeBind1(5,6,e.journeyType$),m.\u0275\u0275pipeBind1(6,8,e.showRefreshBtn$))))},directives:[C.NgIf,S.TripNavTabsComponent,E.NavigateBackComponent,T.MouseFocusDirective,C.NgClass,O.TripSearchFormComponent,A.FooterMessageComponent,P.CdkPortal,L.TripErrorComponent,k.TripHistoryListComponent,I.TripSkeletonLoaderComponent,D.TripResultsComponent,N.IconComponent,R.AppendTripsComponent,C.NgSwitch,C.NgSwitchCase,z.ModalComponent,z.ModalTitleDirective],pipes:[C.AsyncPipe],styles:[".mapboxgl-popup-anchor-top-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%], .mapboxgl-popup-anchor-top-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%],   .mapboxgl-popup-anchor-top .mapboxgl-popup-tip{border-bottom-color:#fff!important}  .mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip,   .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{margin-right:8px}.mapboxgl-popup-anchor-bottom-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%], .mapboxgl-popup-anchor-bottom-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%],   .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{border-top-color:#fff!important}  .mapboxgl-popup-anchor-bottom{padding-bottom:23px;margin-left:2px}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-content{margin-bottom:-15px}}  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-top-color:#fff!important;position:absolute;bottom:15px;border-color:transparent transparent #fff #fff;transform:rotate(-45deg);box-shadow:-3px 3px 3px 0 rgba(0,0,0,.4);border-bottom:8px solid #fff;right:141px}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{position:relative;bottom:-4px;border-bottom:8px solid #fff}}  .mapboxgl-popup-anchor-left .mapboxgl-popup-tip{border-right-color:#fff!important}  .mapboxgl-popup-anchor-right .mapboxgl-popup-tip{border-left-color:#fff!important}  .mapboxgl-popup{width:298px;max-width:unset!important}  .mapboxgl-popup .mapboxgl-popup-content{box-shadow:0 5px 5px -3px rgba(0,0,0,.2);width:290px}  .mapboxgl-popup .mapboxgl-popup-content .popup-container{height:unset}  .mapboxgl-popup .mapboxgl-popup-content .h4{color:#171717;height:unset;padding-left:6px;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;display:inline-block;line-height:18px;margin-bottom:0;padding-right:24px}  .mapboxgl-popup .mapboxgl-popup-content .message{height:unset;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;line-height:18px;padding-left:6px;font-weight:200;padding-top:6px;padding-bottom:6px}  .mapboxgl-popup .mapboxgl-popup-content a{text-decoration:none}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container{height:40px;margin:3px -6px 0;display:flex;justify-content:space-around}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .tp-icon.xs{height:18px;width:18px;margin-top:-5px}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a{min-width:115px;box-sizing:border-box;height:40px;border:1px solid #cac9c9;border-radius:4px;background-color:#fff;padding:11px}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a div{text-align:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a .link-label{margin-left:6px;height:18px;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;line-height:18px;text-align:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container{display:flex;justify-content:flex-start;align-items:flex-end;padding:4px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container   .tp-icon{margin-right:2px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container a{font-size:14px;color:#1d69b4;padding-right:10px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container a .button-content{display:flex;justify-content:center;align-items:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-departures-from-here-container h3{display:block}  .mapboxgl-popup .mapboxgl-popup-content .popup-departures-from-here-container a{display:block;height:40px;margin:4px 6px;border:1px solid #cac9c9;border-radius:4px;padding:11px;text-decoration:none;text-align:center;background-color:#fff;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;line-height:18px}  .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-close-button{font-size:24px;margin-right:14px;margin-top:14px;font-weight:200}  .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-content-bottom{margin-top:2px;height:unset;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;line-height:18px;font-weight:200}.trip-planner[_ngcontent-%COMP%]{width:100%;position:relative;margin-left:0;margin-right:0}.trip-planner[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{height:85vh}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{height:100%;position:fixed;top:0;width:auto}}.trip-planner[_ngcontent-%COMP%]   .map-container.mobile[_ngcontent-%COMP%]{z-index:999}.trip-planner[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{height:40px;text-align:center;cursor:pointer;line-height:40px;color:#fff;background:#1d69b4;font-weight:500;position:absolute;bottom:0;width:100vw;z-index:10}.trip-planner[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]{padding-top:1rem}.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;bottom:20px;visibility:hidden;display:flex;opacity:0;transition:transform .2s;flex-direction:row;align-items:center;margin-left:auto;margin-right:auto;padding:0;height:0;width:138px;border-radius:16.5px;background-color:#fff;box-shadow:0 2px 23px 0 rgba(0,0,0,.16);font-size:14px}.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:translateY(-16px);height:33px;margin-top:30px;padding:6px 12px;z-index:10}.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]     .tp-icon, .trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{height:10px!important}.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:block}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]{margin-top:16px;margin-left:-68px}}@media print{.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active[_ngcontent-%COMP%]{display:none}}.trip-planner[_ngcontent-%COMP%]   .btn-sticky.active-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;transition:transform .2s;margin-left:auto;left:auto}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]{bottom:0;position:fixed;left:50%;margin-left:-79px}}.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]     .tp-icon, .trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{height:10px!important;width:10px!important;min-width:10px!important}.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{padding-left:10px}.trip-planner[_ngcontent-%COMP%]   .btn-sticky[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:none;height:16px;width:98px;color:#1d69b4;font-size:12px;line-height:15px;margin-left:5px}.trip-planner[_ngcontent-%COMP%]   .result-action[_ngcontent-%COMP%]{padding:0 8px 10px;overflow:hidden;margin-top:16px;margin-bottom:6px}.trip-planner[_ngcontent-%COMP%]   .append-btn[_ngcontent-%COMP%]{float:left}.trip-planner[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]{height:32px;float:right;display:flex}.trip-planner[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]     .tp-icon{height:16px;width:16px}.trip-planner[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#555;font-size:14px;line-height:18px;text-align:center}.result-actions-button[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:5px;font-size:13px;font-weight:400;color:#555;line-height:13px;height:32px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff;float:right;padding:0 14px}.result-actions-button[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{padding-right:8px}.trip-error[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;min-height:40vh}"],data:{animation:[u.fadeOutAnimation]}})},TdS2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalRetailersReducer=void 0;const r=n("Oh75"),i={opalRetailers:[],location:void 0,isLoading:!1};e.OpalRetailersReducer=function(t=i,e){switch(e.type){case r.OpalRetailersActionTypes.UpdateOpalRetailers:return Object.assign({},Object.assign(Object.assign(Object.assign({},t),e.payload),{isLoading:!1}));case r.OpalRetailersActionTypes.SelectLocation:return Object.assign({},Object.assign(Object.assign(Object.assign({},t),{opalRetailers:[],isLoading:!0}),e.payload));case r.OpalRetailersActionTypes.ClearSelectLocation:return Object.assign({},Object.assign(Object.assign({},t),{location:void 0}));default:return t}}},TswQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniFormModule=void 0;const r=n("SVse"),i=n("lDcu"),o=n("PCNd"),a=n("8Y7J");class s{}e.TniFormModule=s,s.\u0275mod=a.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=a.\u0275\u0275defineInjector({factory:function(t){return new(t||s)},imports:[[r.CommonModule,i.TniAutosuggestModule,o.SharedModule],i.TniAutosuggestModule]})},UDhR:function(t,e,n){!function(t){"use strict";t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n("wd/R"))},UDyh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateDepartureQueryParams=void 0;const r=n("IheW");e.CreateDepartureQueryParams=t=>{let e=new r.HttpParams;for(const n in t)t.hasOwnProperty(n)&&(e=e.append(n,t[n]));return"?"+e.toString()}},UGFN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResultItemIndicatorsComponent=void 0;const r=n("8Y7J"),i=n("SVse"),o=n("0njA");function a(t,e){1&t&&(r.\u0275\u0275elementStart(0,"li",3),r.\u0275\u0275elementStart(1,"span",4),r.\u0275\u0275text(2,"This is an accessible trip"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(3,"tni-icon",5),r.\u0275\u0275elementEnd())}function s(t,e){1&t&&(r.\u0275\u0275elementStart(0,"li"),r.\u0275\u0275elementStart(1,"span",4),r.\u0275\u0275text(2,"Alert message"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(3,"tni-icon",6),r.\u0275\u0275elementEnd())}class c{}e.ResultItemIndicatorsComponent=c,c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["tni-result-item-indicators"]],inputs:{isAccessible:"isAccessible",hasAlerts:"hasAlerts"},decls:3,vars:2,consts:[[1,"tp-result-item-indicators","list-unstyled"],["class","icon-accessible",4,"ngIf"],[4,"ngIf"],[1,"icon-accessible"],[1,"sr-only"],["iconAriaHidden","true","iconClasses","accessible tp-icon xs","iconName","accessible"],["iconAriaHidden","true","iconClasses","tp-icon xs alert-message-icon","iconName","alert-message"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"ul",0),r.\u0275\u0275template(1,a,4,0,"li",1),r.\u0275\u0275template(2,s,4,0,"li",2),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.isAccessible),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.hasAlerts))},directives:[i.NgIf,o.IconComponent],styles:[".tp-result-item-indicators[_ngcontent-%COMP%]{margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{display:inline} .alert-message-icon{margin-left:10px}.icon-accessible[_ngcontent-%COMP%]{color:#555;margin-left:2px}"]})},USCx:function(t,e,n){!function(t){"use strict";t.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","M\xe9itheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deaireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean\xe1","Feab","M\xe1rt","Aibr","Beal","M\xe9it","I\xfail","L\xfana","Me\xe1n","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Satharn"],weekdaysShort:["Dom","Lua","M\xe1i","C\xe9a","D\xe9a","hAo","Sat"],weekdaysMin:["Do","Lu","M\xe1","Ce","D\xe9","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xed",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n("wd/R"))},UXun:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("jtHE");function i(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let o,a,s=0,c=!1,l=!1;return function(u){s++,o&&!c||(c=!1,o=new r.a(t,e,i),a=u.subscribe({next(t){o.next(t)},error(t){c=!0,o.error(t)},complete(){l=!0,a=void 0,o.complete()}}));const p=o.subscribe(this);this.add(()=>{s--,p.unsubscribe(),a&&!l&&n&&0===s&&(a.unsubscribe(),a=void 0,o=void 0)})}}(i))}},"UhP/":function(t,e,n){"use strict";n.r(e),n.d(e,"APR",(function(){return At})),n.d(e,"AUG",(function(){return It})),n.d(e,"AnimationCurves",(function(){return b})),n.d(e,"AnimationDurations",(function(){return M})),n.d(e,"DEC",(function(){return zt})),n.d(e,"DateAdapter",(function(){return N})),n.d(e,"ErrorStateMatcher",(function(){return J})),n.d(e,"FEB",(function(){return Tt})),n.d(e,"JAN",(function(){return Et})),n.d(e,"JUL",(function(){return kt})),n.d(e,"JUN",(function(){return Lt})),n.d(e,"MAR",(function(){return Ot})),n.d(e,"MATERIAL_SANITY_CHECKS",(function(){return C})),n.d(e,"MAT_DATE_FORMATS",(function(){return R})),n.d(e,"MAT_DATE_LOCALE",(function(){return k})),n.d(e,"MAT_DATE_LOCALE_FACTORY",(function(){return I})),n.d(e,"MAT_DATE_LOCALE_PROVIDER",(function(){return D})),n.d(e,"MAT_LABEL_GLOBAL_OPTIONS",(function(){return St})),n.d(e,"MAT_NATIVE_DATE_FORMATS",(function(){return H})),n.d(e,"MAT_OPTGROUP",(function(){return mt})),n.d(e,"MAT_OPTION_PARENT_COMPONENT",(function(){return bt})),n.d(e,"MAT_RIPPLE_GLOBAL_OPTIONS",(function(){return st})),n.d(e,"MAY",(function(){return Pt})),n.d(e,"MatCommonModule",(function(){return S})),n.d(e,"MatLine",(function(){return $})),n.d(e,"MatLineModule",(function(){return tt})),n.d(e,"MatLineSetter",(function(){return Q})),n.d(e,"MatNativeDateModule",(function(){return X})),n.d(e,"MatOptgroup",(function(){return gt})),n.d(e,"MatOption",(function(){return Mt})),n.d(e,"MatOptionModule",(function(){return Ct})),n.d(e,"MatOptionSelectionChange",(function(){return vt})),n.d(e,"MatPseudoCheckbox",(function(){return ut})),n.d(e,"MatPseudoCheckboxModule",(function(){return pt})),n.d(e,"MatRipple",(function(){return ct})),n.d(e,"MatRippleModule",(function(){return lt})),n.d(e,"NOV",(function(){return Rt})),n.d(e,"NativeDateAdapter",(function(){return Y})),n.d(e,"NativeDateModule",(function(){return W})),n.d(e,"OCT",(function(){return Nt})),n.d(e,"RippleRef",(function(){return et})),n.d(e,"RippleRenderer",(function(){return at})),n.d(e,"SEP",(function(){return Dt})),n.d(e,"ShowOnDirtyErrorStateMatcher",(function(){return G})),n.d(e,"VERSION",(function(){return v})),n.d(e,"_countGroupLabelsBeforeOption",(function(){return xt})),n.d(e,"_getOptionScrollPosition",(function(){return wt})),n.d(e,"defaultRippleAnimationConfig",(function(){return nt})),n.d(e,"mixinColor",(function(){return T})),n.d(e,"mixinDisableRipple",(function(){return O})),n.d(e,"mixinDisabled",(function(){return E})),n.d(e,"mixinErrorState",(function(){return P})),n.d(e,"mixinInitialized",(function(){return L})),n.d(e,"mixinTabIndex",(function(){return A})),n.d(e,"setLines",(function(){return K})),n.d(e,"\u02750",(function(){return U})),n.d(e,"\u0275angular_material_src_material_core_core_a",(function(){return w}));var r=n("8Y7J"),i=n("YEUz"),o=n("9gLZ");const a=new r.Version("10.1.1");var s=n("SVse"),c=n("8LU1"),l=n("XNiG"),u=n("HDdC"),p=n("SCoL"),d=n("JX91"),h=n("omvX"),f=n("Ht+U");const m=["*",[["mat-option"],["ng-container"]]],g=["*","mat-option, ng-container"];function y(t,e){if(1&t&&r["\u0275\u0275element"](0,"mat-pseudo-checkbox",3),2&t){const t=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const _=["*"],v=new r.Version("10.1.1");let b=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),M=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const x=new r.Version("10.1.1");function w(){return!0}const C=new r.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:w});let S=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.isDevMode)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&x.full!==a.full&&console.warn("The Angular Material version ("+x.full+") does not match the Angular CDK version ("+a.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(r["\u0275\u0275inject"](i.c),r["\u0275\u0275inject"](C,8),r["\u0275\u0275inject"](s.DOCUMENT,8))},imports:[[o.a],o.a]}),t})();function E(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(c.b)(t)}}}function T(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function O(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Object(c.b)(t)}}}function A(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Object(c.e)(t):e}}}function P(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new l.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function L(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new u.a(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){if(this._isInitialized)throw Error("This directive has already been marked as initialized and should not be called twice.");this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const k=new r.InjectionToken("MAT_DATE_LOCALE",{providedIn:"root",factory:I});function I(){return Object(r.inject)(r.LOCALE_ID)}const D={provide:k,useExisting:r.LOCALE_ID};class N{constructor(){this._localeChanges=new l.a}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const R=new r.InjectionToken("mat-date-formats");let z;try{z="undefined"!=typeof Intl}catch(Ft){z=!1}const F={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},j=V(31,t=>String(t+1)),B={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},q=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function V(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}let Y=(()=>{class t extends N{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(z){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return V(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return F[t]}getDateNames(){if(z){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return V(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return j}getDayOfWeekNames(t){if(z){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return V(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return B[t]}getYearName(t){if(z){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let r=this._createDateWithOverflow(t,e,n);if(r.getMonth()!=e)throw Error(`Invalid date "${n}" for month with index "${e}".`);return r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(z){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(q.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date(t,e,n);return t>=0&&t<100&&r.setFullYear(this.getYear(r)-1900),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](k,8),r["\u0275\u0275inject"](p.Platform))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const H={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let W=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[{provide:N,useClass:Y}],imports:[[p.PlatformModule]]}),t})();const U=H;let X=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[{provide:R,useValue:U}],imports:[[W]]}),t})(),G=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),J=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t},token:t,providedIn:"root"}),t})(),$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function K(t,e,n="mat"){t.changes.pipe(Object(d.a)(t)).subscribe(({length:t})=>{Z(e,n+"-2-line",!1),Z(e,n+"-3-line",!1),Z(e,n+"-multi-line",!1),2===t||3===t?Z(e,`${n}-${t}-line`,!0):t>3&&Z(e,n+"-multi-line",!0)})}function Z(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}class Q{constructor(t,e){K(t,e)}}let tt=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[S],S]}),t})();class et{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const nt={enterDuration:450,exitDuration:400},rt=Object(p.normalizePassiveListenerOptions)({passive:!0}),it=["mousedown","touchstart"],ot=["mouseup","mouseleave","touchend","touchcancel"];class at{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Object(c.d)(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},nt),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),a=t-r.left,s=e-r.top,c=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=a-o+"px",l.style.top=s-o+"px",l.style.height=2*o+"px",l.style.width=2*o+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new et(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},nt),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Object(c.d)(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(it))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ot),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Object(i.d)(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,rt)})})}_removeTriggerEvents(){this._triggerElement&&(it.forEach(t=>{this._triggerElement.removeEventListener(t,this,rt)}),this._pointerUpEventsRegistered&&ot.forEach(t=>{this._triggerElement.removeEventListener(t,this,rt)}))}}const st=new r.InjectionToken("mat-ripple-global-options");let ct=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new at(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](p.Platform),r["\u0275\u0275directiveInject"](st,8),r["\u0275\u0275directiveInject"](h.ANIMATION_MODULE_TYPE,8))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r["\u0275\u0275classProp"]("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),lt=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[S,p.PlatformModule],S]}),t})(),ut=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](h.ANIMATION_MODULE_TYPE,8))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r["\u0275\u0275classProp"]("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),pt=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})();class dt{}const ht=E(dt);let ft=0;const mt=new r.InjectionToken("MatOptgroup");let gt=(()=>{class t extends ht{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+ft++}}return t.\u0275fac=function(e){return yt(e||t)},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(r["\u0275\u0275attribute"]("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),r["\u0275\u0275classProp"]("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[r["\u0275\u0275ProvidersFeature"]([{provide:mt,useExisting:t}]),r["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:g,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(r["\u0275\u0275projectionDef"](m),r["\u0275\u0275elementStart"](0,"label",0),r["\u0275\u0275text"](1),r["\u0275\u0275projection"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275projection"](3,1)),2&t&&(r["\u0275\u0275property"]("id",e._labelId),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const yt=r["\u0275\u0275getInheritedFactory"](gt);let _t=0;class vt{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const bt=new r.InjectionToken("MAT_OPTION_PARENT_COMPONENT");let Mt=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+_t++,this.onSelectionChange=new r.EventEmitter,this._stateChanges=new l.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Object(c.b)(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==f.f&&t.keyCode!==f.l||Object(f.q)(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new vt(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](bt,8),r["\u0275\u0275directiveInject"](mt,8))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(r["\u0275\u0275hostProperty"]("id",e.id),r["\u0275\u0275attribute"]("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r["\u0275\u0275classProp"]("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:_,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275template"](0,y,1,2,"mat-pseudo-checkbox",0),r["\u0275\u0275elementStart"](1,"span",1),r["\u0275\u0275projection"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](3,"div",2)),2&t&&(r["\u0275\u0275property"]("ngIf",e.multiple),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[s.NgIf,ct,ut],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function xt(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),o=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[o]&&o++;return o}return 0}function wt(t,e,n,r){const i=t*e;return i<n?i:i+e>n+r?Math.max(0,i-r+e):n}let Ct=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[lt,s.CommonModule,pt]]}),t})();const St=new r.InjectionToken("mat-label-global-options"),Et=0,Tt=1,Ot=2,At=3,Pt=4,Lt=5,kt=6,It=7,Dt=8,Nt=9,Rt=10,zt=11},Ul4P:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripResultsModule=void 0;const r=n("QF4z"),i=n("qoPz"),o=n("SVse"),a=n("PCNd"),s=n("dFlJ"),c=n("qwcM"),l=n("8Y7J");class u{}e.TripResultsModule=u,u.\u0275mod=l.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=l.\u0275\u0275defineInjector({factory:function(t){return new(t||u)},providers:[i.CardTypeService,s.DeparturesRequestService,c.DeparturesSearchService],imports:[[r.TniCollapsibleCardModule,o.CommonModule,a.SharedModule]]})},UpQW:function(t,e,n){!function(t){"use strict";var e=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],n=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n("wd/R"))},Ur1D:function(t,e,n){!function(t){"use strict";t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n("wd/R"))},V2x9:function(t,e,n){!function(t){"use strict";t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},VAo7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniAutosuggestDropdownComponent=void 0;const r=n("8Y7J"),i=n("8Y7J"),o=n("SVse"),a=n("0njA");function s(t,e){if(1&t){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"span",11),i.\u0275\u0275listener("click",(function(e){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext(3).mapLinkClick(e)})),i.\u0275\u0275text(1,"Map"),i.\u0275\u0275elementEnd()}}function c(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275text(1," Choose a location "),i.\u0275\u0275template(2,s,2,0,"span",10),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",!t.hideMapLink)}}function l(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div",12),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",t.alertBoxMessage||"Sorry, we couldn't find any results for that search."," ")}}function u(t,e){if(1&t){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",16),i.\u0275\u0275listener("click",(function(){i.\u0275\u0275restoreView(t);const e=i.\u0275\u0275nextContext(3);return e.onItemClick(e.items[0])}))("focus",(function(){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext(3).onItemFocus()}))("blur",(function(){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext(3).onItemBlur()})),i.\u0275\u0275elementStart(1,"div"),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"div"),i.\u0275\u0275text(4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&t){const t=i.\u0275\u0275nextContext(3);i.\u0275\u0275classProp("active",t.idx===t.highlightedItemIndex||t.selectedItem&&t.selectedItem[t.displayProperty]===t.item[t.displayProperty]),i.\u0275\u0275attribute("id","autosuggest-item-"+t.idx),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1("Stop ID ",t.stopId,""),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(null==t.items[0]?null:t.items[0].shortName)}}function p(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext().$implicit,e=i.\u0275\u0275nextContext(4);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(t[e.displayProperty])}}function d(t,e){}const h=function(t){return{item:t}};function f(t,e){if(1&t){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",16),i.\u0275\u0275listener("click",(function(){i.\u0275\u0275restoreView(t);const n=e.$implicit;return i.\u0275\u0275nextContext(4).onItemClick(n)}))("focus",(function(){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext(4).onItemFocus()}))("blur",(function(){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext(4).onItemBlur()})),i.\u0275\u0275template(1,p,2,1,"span",18),i.\u0275\u0275template(2,d,0,0,"ng-template",19,20,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd()}if(2&t){const t=e.$implicit,n=e.index,r=i.\u0275\u0275reference(3),o=i.\u0275\u0275nextContext(4);i.\u0275\u0275classProp("active",n===o.highlightedItemIndex||o.selectedItem&&o.selectedItem[o.displayProperty]===t[o.displayProperty]),i.\u0275\u0275attribute("id","autosuggest-item-"+n),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",null===o.resultTemplate)("ngIfElse",r),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",o.resultTemplate)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(7,h,t))}}function m(t,e){if(1&t&&i.\u0275\u0275template(0,f,4,9,"div",17),2&t){const t=i.\u0275\u0275nextContext(3);i.\u0275\u0275property("ngForOf",t.items)}}function g(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div",13),i.\u0275\u0275template(1,u,5,5,"div",14),i.\u0275\u0275template(2,m,1,1,"ng-template",null,15,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275reference(3),e=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.isTSN&&("tniFromDepartureLocation"===e.inputId||"tniToDepartureLocation"===e.inputId))("ngIfElse",t)}}function y(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div",21),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",t.footerBoxMessage||"Too many results to display. Please try a more specific search."," ")}}function _(t,e){if(1&t){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",1),i.\u0275\u0275elementStart(1,"div",2),i.\u0275\u0275listener("click",(function(e){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext().mapLinkClick(e)})),i.\u0275\u0275text(2," Choose on map "),i.\u0275\u0275elementStart(3,"span",3),i.\u0275\u0275element(4,"tni-icon",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(5,c,3,1,"div",5),i.\u0275\u0275template(6,l,2,1,"div",6),i.\u0275\u0275template(7,g,4,2,"div",7),i.\u0275\u0275template(8,y,2,1,"div",8),i.\u0275\u0275elementEnd()}if(2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(4),i.\u0275\u0275property("iconAriaHidden",!0),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!t.hideDropdownHeader&&t.items.length>0),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",t.items&&0===t.items.length&&!t.isNumeric),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",t.items&&t.items.length>0),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",t.showFooterBox)}}class v{constructor(){this.dropdownVisible=!1,this.selectItem=new r.EventEmitter,this.mapLinkClicked=new r.EventEmitter,this.highlightedItemIndex=-1,this.isFocusOnDropdown=!1}open(){this.highlightedItemIndex=-1,this.dropdownVisible=!0}close(){this.dropdownVisible=!1}onItemClick(t){this.selectItem.emit(t)}isOpen(){return this.dropdownVisible}highlightNextItem(){return this.highlightedItemIndex<this.items.length-1&&this.highlightedItemIndex++,"autosuggest-item-"+this.highlightedItemIndex}highlightPrevItem(){return this.highlightedItemIndex>0&&this.highlightedItemIndex--,"autosuggest-item-"+this.highlightedItemIndex}selectHighlightedItem(){this.highlightedItemIndex>=0&&document.getElementById("autosuggest-item-"+this.highlightedItemIndex).click()}onItemFocus(){this.isFocusOnDropdown=!0}onItemBlur(){this.isFocusOnDropdown=!1}mapLinkClick(t){t.stopPropagation(),this.mapLinkClicked.emit(this.inputId)}}e.TniAutosuggestDropdownComponent=v,v.\u0275fac=function(t){return new(t||v)},v.\u0275cmp=i.\u0275\u0275defineComponent({type:v,selectors:[["tni-autosuggest-dropdown"]],inputs:{isNumeric:"isNumeric",items:"items",displayProperty:"displayProperty",hideDropdownHeader:"hideDropdownHeader",alertBoxMessage:"alertBoxMessage",selectedItem:"selectedItem",showFooterBox:"showFooterBox",hideMapLink:"hideMapLink",footerBoxMessage:"footerBoxMessage",resultTemplate:"resultTemplate",isTSN:"isTSN",inputId:"inputId",stopId:"stopId"},outputs:{selectItem:"selectItem",mapLinkClicked:"mapLinkClicked"},decls:1,vars:1,consts:[["class","autosuggest-dropdown-container",4,"ngIf"],[1,"autosuggest-dropdown-container"],[1,"autosuggest-dropdown-header-mobile",3,"click"],["tabindex","0",1,"pull-right","map-link"],["iconClasses","tp-icon sm","iconName","map",3,"iconAriaHidden"],["class","autosuggest-dropdown-header",4,"ngIf"],["class","autosuggest-alert-box","role","region","aria-live","assertive",4,"ngIf"],["role","listbox","class","autosuggest-buttons",4,"ngIf"],["class","autosuggest-footer-box","role","region","aria-live","assertive",4,"ngIf"],[1,"autosuggest-dropdown-header"],["tabindex","0","class","pull-right map-link",3,"click",4,"ngIf"],["tabindex","0",1,"pull-right","map-link",3,"click"],["role","region","aria-live","assertive",1,"autosuggest-alert-box"],["role","listbox",1,"autosuggest-buttons"],["type","button","role","option","class","item","tabindex","-1",3,"active","click","focus","blur",4,"ngIf","ngIfElse"],["otherLocations",""],["type","button","role","option","tabindex","-1",1,"item",3,"click","focus","blur"],["type","button","role","option","class","item","tabindex","-1",3,"active","click","focus","blur",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["templateBlock",""],["role","region","aria-live","assertive",1,"autosuggest-footer-box"]],template:function(t,e){1&t&&i.\u0275\u0275template(0,_,9,5,"div",0),2&t&&i.\u0275\u0275property("ngIf",e.dropdownVisible&&e.items)},directives:[o.NgIf,a.IconComponent,o.NgForOf,o.NgTemplateOutlet],styles:[".autosuggest-dropdown-container[_ngcontent-%COMP%]{min-width:99%;z-index:5;position:absolute;box-shadow:0 2px .5em rgba(0,0,0,.4);background:#fff;border:0;border-radius:0;overflow-y:auto;color:#555;font-size:14px;line-height:20px;left:5px}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{list-style:none;display:block;width:99%;cursor:pointer;font-weight:400;color:#555;padding:6px 15px 5px;margin:2px 25px 2px 2px;border:none;border-bottom:1px solid #eaeaea;background:#fff;text-align:left;min-height:35px}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%], .autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:active, .autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:focus, .autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;outline:thin solid #1d69b4}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{border-bottom:none}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .autosuggest-dropdown-header-mobile[_ngcontent-%COMP%]{display:none}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.autosuggest-dropdown-container[_ngcontent-%COMP%]   .autosuggest-dropdown-header-mobile[_ngcontent-%COMP%]{display:block;text-decoration:underline;font-size:14px;min-height:48px;border:1px solid #eaeaea;color:#1d69b4;padding:17px 18px;font-size:90%;font-weight:400}}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .autosuggest-dropdown-header[_ngcontent-%COMP%]{font-size:90%;color:#777;font-weight:400;padding:10px 15px 0}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.autosuggest-dropdown-container[_ngcontent-%COMP%]   .autosuggest-dropdown-header[_ngcontent-%COMP%]{display:none}}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .autosuggest-alert-box[_ngcontent-%COMP%]{padding:5px 15px 10px}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .autosuggest-footer-box[_ngcontent-%COMP%]{border:1px solid #eaeaea;padding:10px 15px}.autosuggest-dropdown-container[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:none;cursor:pointer;color:#1d69b4;text-decoration:underline}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.autosuggest-dropdown-container[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:block}}@media print{.autosuggest-dropdown-container[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:none}}"]})},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(...t){let e=Number.POSITIVE_INFINITY,n=null,s=t[t.length-1];return Object(i.a)(s)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof s&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(a.a)(t,n))}},VS5s:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrackTripPlannerEventService=void 0;const r=n("zpQm"),i=n("ywyY"),o=n("ZyQ5"),a=n("wd/R"),s=n("8Y7J"),c=n("NfbF"),l=n("+ZNT");class u{constructor(t,e){this.trackEventService=t,this.shortPlatformService=e,this.modeList=[{id:"1",value:"Train"},{id:"2",value:"Intercity Train"},{id:"4",value:"Light rail"},{id:"5",value:"Bus"},{id:"7",value:"Coach"},{id:"9",value:"Ferry"},{id:"11",value:"School Bus"}]}trackViewTripPlanResults(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.ViewTripPlanResults})}trackRealTimeJourney(t){const e=t.filter(t=>"publicTransport"===t.type);e.length?e.some(t=>t.isRealTime)?this.trackTripHasRealTimeResults():this.trackTripHasScheduledResults():this.trackTripHasNoResults()}trackTripHasRealTimeResults(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.ViewTripPlanResults,label:"Real time results"})}trackTripHasScheduledResults(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.ViewTripPlanResults,label:"Scheduled results"})}trackTripHasNoResults(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.ViewTripPlanResults,label:"No results"})}trackEarlierLaterResults(t){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.EarlierLaterResults,label:t})}trackSwitchDirections(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.SwitchDirections})}trackOptionsModal(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.OptionsModal})}trackPreviousTripRequests(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.PreviousTripRequests})}trackFavouriteTripRequests(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.FavouriteTripRequests})}trackViewResultsOnMapForMobile(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.ViewResultsOnMapForMobile})}trackSetFavourite(t){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.SetFavourite,label:t})}trackSetDepartureFavourite(){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.SetFavourite,label:"Set favourite - Previous departures"})}trackRemoveDepartureFavourite(){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.RemoveFavourite,label:"Remove favourite - Previous departures"})}trackDeparturesTab(){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.DeparturesTab,label:"Departures tab - Selected"})}trackTripPlannerPageLoad(){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.TripPlannerTab,label:"Trip planner Tab - Default"})}trackTripPlannerTab(){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.TripPlannerTab,label:"Trip planner Tab - Selected"})}trackPublicTransportFilterTab(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.PublicTransportTab,label:i.EventAction.PublicTransportTab+" - Selected"})}trackTaxiDriveFilterTab(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.TaxiDriveTab,label:i.EventAction.TaxiDriveTab+" - Selected"})}trackCycleFilterTab(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.CycleTab,label:i.EventAction.CycleTab+" - Selected"})}trackCycleRoutes(t,e){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.CycleTab,label:`${i.EventAction.CycleTab} - ${t} - ${e} route`})}trackWalkFilterTab(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.WalkTab,label:i.EventAction.WalkTab+" - Selected"})}trackViewDeparturesFromTripPlanResults(){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.ViewDeparturesFromTripPlanResults})}trackRefreshResults(){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.RefreshResults})}trackOperatorBooking(t){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.OperatorBookButton,label:t})}trackConnectingWithPT(t){const e=t=>100===t?"Walk":105===t?"Drive":"Cycle",n=e(t.preferences.gettingToMode),o=e(t.preferences.gettingFromMode);this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.ConnectWithPT,label:`To - ${n} up to ${t.preferences.gettingToValue}min; From - ${o} up to ${t.preferences.gettingFromValue}min`})}trackApplyLeaving(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.ApplyLeaving})}trackApplyRefine(){this.trackEventService.trackEvent(r.EventCategory.TripPlanner,{action:i.EventAction.ApplyRefine})}trackMapOptions(t,e,n){this.trackEventService.trackEvent(t,{action:"Map options"+(n?" "+n:""),label:e})}trackShortPlatform(t){let e=0;t.forEach(t=>{e+=this._getShortPlatformCount(t)}),e>0&&this.trackEventService.trackEvent(r.EventCategory.NIFShortPlatform,{action:i.EventAction.SummaryCardLozengeCount,label:e.toString()})}trackShortPlatformExpanded(t){let e=0;e=this._getShortPlatformCount(t),e>0&&this.trackEventService.trackEvent(r.EventCategory.NIFShortPlatform,{action:i.EventAction.ExpandedSummaryCardLozengeCount,label:e.toString()})}trackShortPlatformModalClick(){this.trackEventService.trackEvent(r.EventCategory.NIFShortPlatform,{action:i.EventAction.ModalClick})}_getShortPlatformCount(t){let e=0;return t.legs.forEach(t=>{var n;this.shortPlatformService.getTravelInAdvice(null===(n=t.origin)||void 0===n?void 0:n.properties,!1)&&e++}),e}trackCapacityIndicatorModalClick(){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.CapacityIndicator,label:"Modal Click"})}trackModesFilter(t){const e=this.modeList.filter(e=>!t.includes(+e.id)).map(t=>t.value);(null==e?void 0:e.length)>0&&this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.FilterMode,label:e.toString()})}trackPageLoadOnDeparturesTab(){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.DeparturesTab,label:"Departures Tab - Default"})}trackApplyDateAndTimSelection(t){const e=this._getLeavingAfterLabel(t);this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.DeparturesGoButton,label:e})}trackApplyFilters(t){this.trackEventService.trackEvent(r.EventCategory.Departures,{action:i.EventAction.ApplyFilters,label:t})}trackPlanFromMap(t,e,n){this.trackEventService.trackEvent(e,{action:t,label:n})}trackNavBackToOpalRetailer(){this.trackEventService.trackEvent(r.EventCategory.OpalRetailers,{action:i.EventAction.BackToOpalRetailers})}trackCallRetailerClickFromOpalRetailerMap(){this.trackEventService.trackEvent(r.EventCategory.OpalRetailers,{action:i.EventAction.CallRetailer,label:"From map"})}trackPlanTripToRetailerClickFromOpalRetailerMap(){this.trackEventService.trackEvent(r.EventCategory.OpalRetailers,{action:i.EventAction.PlanATrip,label:"From map"})}_getLeavingAfterLabel(t){let e;if("Now"===t.option)e=t.option;else if("Leaving"===t.option){const n=t.day,r=("0"+t.hour).slice(-2),i=("0"+t.minute).slice(-2),o=`${n.format("YYYY-MM-DD")} ${r}:${i}`,s=a(o).diff(a(),"minutes");if(s<0){const t=-1*s;t>=0&&t<=5&&(e="Leaving after 0-5m before"),t>5&&t<=30&&(e="Leaving after 5-30m before"),t>=31&&t<=60&&(e="Leaving after 30-60m before"),t>60&&(e="Leaving after > 1h before")}else{const t=a(o).diff(a(),"days");if(t>0)t>=1&&t<7&&(e="Leaving after 1d-7d"),t>=7&&t<=14&&(e="Leaving after 7d-14d"),t>14&&(e="Leaving after > 14d");else{const t=a(o).diff(a(),"minutes");if(t<=60)t>0&&t<=30&&(e="Leaving after 0-30m"),t>30&&t<=60&&(e="Leaving after 30-60m");else{const t=a(o).diff(a(),"hours");t<=24&&(t>=1&&t<=12&&(e="Leaving after 1-12h"),t>12&&t<=24&&(e="Leaving after 12-24h"))}}}}return e}}e.TrackTripPlannerEventService=u,u.\u0275fac=function(t){return new(t||u)(s.\u0275\u0275inject(c.TrackEventService),s.\u0275\u0275inject(l.ShortPlatformService))},u.\u0275prov=s.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:o.TrackingModule})},Vclq:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(n("wd/R"))},VhxH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("9TDR");Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i=n("RvDl");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var o=n("6eTy");Object.defineProperty(e,"cpa",{enumerable:!0,get:function(){return o.cpa}})},Vqw1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripConnectionsComponent=void 0;const r=n("5ApF"),i=n("1z/I"),o=n("G0d7"),a=n("sYyf"),s=n("8Y7J"),c=n("lTCs"),l=n("s7LF"),u=n("0njA"),p=n("nXHs"),d=n("SVse"),h=n("1z/I"),f=n("ajRT");function m(t,e){if(1&t&&(s.\u0275\u0275elementStart(0,"option",28),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;s.\u0275\u0275property("ngValue",t),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1("",t," mins")}}function g(t,e){if(1&t&&(s.\u0275\u0275elementStart(0,"option",28),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;s.\u0275\u0275property("ngValue",t),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1("",t," min ")}}function y(t,e){if(1&t&&(s.\u0275\u0275elementStart(0,"option",28),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;s.\u0275\u0275property("ngValue",t),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1("",t," min ")}}function _(t,e){if(1&t){const t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"tni-modal",30),s.\u0275\u0275listener("closeEvent",(function(){return s.\u0275\u0275restoreView(t),s.\u0275\u0275nextContext(2).toggleConnectingWithPeopleModal(!1)})),s.\u0275\u0275elementStart(1,"tni-modal-title"),s.\u0275\u0275elementStart(2,"h2"),s.\u0275\u0275text(3,"Connecting with public transport"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"div",31),s.\u0275\u0275elementStart(5,"p"),s.\u0275\u0275text(6," If you plan a trip using \u2018my current location\u2019 or an address, suburb or point of interest, the Trip Planner will provide walking options to and/or from the nearest station, stop or wharf to connect you with public transport. "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(7,"p"),s.\u0275\u0275text(8,"You can choose to walk, bike or taxi/drive to get to and from a stop."),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"p"),s.\u0275\u0275text(10," You can also select how long you're prepared to walk, bike or taxi/drive at either end of your public transport trip. "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&t){s.\u0275\u0275nextContext(2);const t=s.\u0275\u0275reference(6);s.\u0275\u0275property("@fadeOutAnimation",void 0)("openingElement",t)("ariaLabel","Connecting with public transport")("closeAtBottomLayout",!0)("fullscreenMobile",!0)}}function v(t,e){if(1&t&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,_,11,5,"tni-modal",29),s.\u0275\u0275elementContainerEnd()),2&t){const t=s.\u0275\u0275nextContext();s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.isInfoModalOpen)}}class b{constructor(t){this.modalService=t,this.isInfoModalOpen=!1,this.walk=r.ItMode.Walk,this.cycle=r.ItMode.Cycle,this.taxi=r.ItMode.Taxi}ngOnInit(){this._setupSelectableValues()}_setupSelectableValues(){this.durations=[5,10,15,20,25,30,35,40,45,50,55,60]}toggleConnectingWithPeopleModal(t){t?(this.modalService.addModalToBody(this.portal),this.isInfoModalOpen=!0):(this.modalService.removeModalFromBody(),this.isInfoModalOpen=!1)}scrollFurther(t){o.ScrollFurtherDown.by(t.srcElement,150)}}e.TripConnectionsComponent=b,b.\u0275fac=function(t){return new(t||b)(s.\u0275\u0275directiveInject(c.ModalService))},b.\u0275cmp=s.\u0275\u0275defineComponent({type:b,selectors:[["tni-trip-connections"]],viewQuery:function(t,e){var n;1&t&&s.\u0275\u0275viewQuery(i.CdkPortal,!0),2&t&&s.\u0275\u0275queryRefresh(n=s.\u0275\u0275loadQuery())&&(e.portal=n.first)},inputs:{group:"group"},decls:49,vars:10,consts:[[1,"trip-preference",3,"formGroup"],[1,"optgroup"],[1,"refine-header"],["role","button","tabindex","0",1,"icon-wrap",3,"click","keyup.tab","keydown.enter"],["tripConnectionsInfoElement",""],["iconClasses","tp-icon sm","iconName","info","aria-label","connecting with public transport information","iconAriaHidden","true"],[1,"row-grid"],[1,"getting-to-option"],["formControlName","gettingTo","radioGroupName","gettingTo","icon","icon-walk","text","Walk",3,"value"],["formControlName","gettingTo","radioGroupName","gettingTo","icon","icon-cycle","text","Bike",3,"value"],["formControlName","gettingTo","radioGroupName","gettingTo","icon","icon-taxi-drive","text","Taxi/Drive",3,"value"],[1,""],[1,"getting-from-option"],["formControlName","gettingFrom","radioGroupName","gettingFrom","icon","icon-walk","text","Walk",3,"value"],["formControlName","gettingFrom","radioGroupName","gettingFrom","icon","icon-cycle","text","Bike",3,"value"],["formControlName","gettingFrom","radioGroupName","gettingFrom","icon","icon-taxi-drive","text","Taxi/Drive",3,"value"],[1,"walk-duration-option"],["for","walkDuration",1,"control-label","sr-only"],[1,"form-control-select"],["id","walkDuration","name","walkDuration","formControlName","walkDuration",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["iconClasses","tp-icon xs form-control-select-arrow","iconName","arrow-down-small","iconAriaHidden","true"],["for","cycleDuration",1,"control-label","sr-only"],["id","cycleDuration","name","select-cycle-duration","formControlName","cycleDuration",1,"form-control"],["for","driveDuration",1,"control-label","sr-only"],[1,"form-control-select","drive-duration-option"],["id","driveDuration","name","select-drive-duration","formControlName","driveDuration",1,"form-control"],[4,"cdkPortal"],[3,"ngValue"],[3,"openingElement","ariaLabel","closeAtBottomLayout","fullscreenMobile","closeEvent",4,"ngIf"],[3,"openingElement","ariaLabel","closeAtBottomLayout","fullscreenMobile","closeEvent"],[1,"trip-connections-text","modal-text"]],template:function(t,e){1&t&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275elementStart(1,"div",1),s.\u0275\u0275elementStart(2,"div",2),s.\u0275\u0275elementStart(3,"h4"),s.\u0275\u0275text(4,"Connecting with public transport"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"a",3,4),s.\u0275\u0275listener("click",(function(){return e.toggleConnectingWithPeopleModal(!0)}))("keyup.tab",(function(t){return e.toggleConnectingWithPeopleModal(!1),e.scrollFurther(t)}))("keydown.enter",(function(){return e.toggleConnectingWithPeopleModal(!0)})),s.\u0275\u0275element(7,"tni-icon",5),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(8,"div",6),s.\u0275\u0275elementStart(9,"div",7),s.\u0275\u0275elementStart(10,"h5"),s.\u0275\u0275text(11,"Getting to:"),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(12,"tni-radio-button",8),s.\u0275\u0275element(13,"tni-radio-button",9),s.\u0275\u0275element(14,"tni-radio-button",10),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(15,"div",11),s.\u0275\u0275elementStart(16,"h5"),s.\u0275\u0275text(17,"Getting from:"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(18,"div",12),s.\u0275\u0275element(19,"tni-radio-button",13),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(20,"div",12),s.\u0275\u0275element(21,"tni-radio-button",14),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(22,"div",12),s.\u0275\u0275element(23,"tni-radio-button",15),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(24,"div",11),s.\u0275\u0275elementStart(25,"h5"),s.\u0275\u0275text(26,"Up to:"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(27,"div",16),s.\u0275\u0275elementStart(28,"label",17),s.\u0275\u0275text(29,"Walk duration"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(30,"div",18),s.\u0275\u0275elementStart(31,"select",19),s.\u0275\u0275template(32,m,2,2,"option",20),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(33,"tni-icon",21),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(34,"div",11),s.\u0275\u0275elementStart(35,"label",22),s.\u0275\u0275text(36,"Cycle duration"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(37,"div",18),s.\u0275\u0275elementStart(38,"select",23),s.\u0275\u0275template(39,g,2,2,"option",20),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(40,"tni-icon",21),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(41,"div",11),s.\u0275\u0275elementStart(42,"label",24),s.\u0275\u0275text(43,"Taxi/drive duration"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(44,"div",25),s.\u0275\u0275elementStart(45,"select",26),s.\u0275\u0275template(46,y,2,2,"option",20),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(47,"tni-icon",21),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(48,v,2,1,"ng-container",27)),2&t&&(s.\u0275\u0275property("formGroup",e.group),s.\u0275\u0275advance(12),s.\u0275\u0275propertyInterpolate("value",e.walk),s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("value",e.cycle),s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("value",e.taxi),s.\u0275\u0275advance(5),s.\u0275\u0275propertyInterpolate("value",e.walk),s.\u0275\u0275advance(2),s.\u0275\u0275propertyInterpolate("value",e.cycle),s.\u0275\u0275advance(2),s.\u0275\u0275propertyInterpolate("value",e.taxi),s.\u0275\u0275advance(9),s.\u0275\u0275property("ngForOf",e.durations),s.\u0275\u0275advance(7),s.\u0275\u0275property("ngForOf",e.durations),s.\u0275\u0275advance(7),s.\u0275\u0275property("ngForOf",e.durations))},directives:[l.NgControlStatusGroup,l.FormGroupDirective,u.IconComponent,p.RadioButtonComponent,l.NgControlStatus,l.FormControlName,l.SelectControlValueAccessor,d.NgForOf,h.CdkPortal,l.NgSelectOption,l.\u0275angular_packages_forms_forms_x,d.NgIf,f.ModalComponent,f.ModalTitleDirective],styles:["div.btn.btn-default{width:90%}.trip-preference[_ngcontent-%COMP%]{padding:0 16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-preference[_ngcontent-%COMP%]{padding:0 10px}}.trip-preference[_ngcontent-%COMP%]     .tp-icon.form-control-select-arrow{position:absolute;right:5px;top:27px}.form-control[_ngcontent-%COMP%]{height:40px}.trip-connections-text[_ngcontent-%COMP%]{text-align:left}"],data:{animation:[a.fadeOutAnimation]}})},"W+iZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.locationReducer=e.initialState=e.locationFeatureKey=void 0;const r=n("EiLY");e.locationFeatureKey="location",e.initialState={from:null,to:null},e.locationReducer=function(t=e.initialState,n){switch(n.type){case r.TripActionTypes.TRIP_SEARCH_FROM_HERE:return Object.assign({},Object.assign(Object.assign({},t),{from:n.payload.from}));case r.TripActionTypes.TRIP_SEARCH_TO_HERE:return Object.assign({},Object.assign(Object.assign({},t),{to:n.payload.to}));default:return t}}},W4NM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Departures=void 0,e.Departures=class{constructor(){this.excludedModes=[],this.fromText="",this.toText=""}isToLocationValid(){return!!this.toLocation}isFromLocationValid(){return!!this.fromLocation}fromLocationUrlParam(){return this.fromLocation?this.fromLocation.id:this.fromText}toLocationUrlParam(){return this.toLocation?this.toLocation.id:this.toText}swap(){const t=this.fromLocation;this.fromLocation=this.toLocation,this.toLocation=t;const e=this.fromText;this.fromText=this.toText,this.toText=e}clearError(){this.toError="",this.fromError=""}clearFromLocationError(){this.fromError=""}clearToLocationError(){this.toError=""}}},WDjA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripPreferencesComponent=void 0;const r=n("bPm+"),i=n("1z/I"),o=n("sYyf"),a=n("8Y7J"),s=n("lTCs"),c=n("s7LF"),l=n("0njA"),u=n("nXHs"),p=n("1z/I"),d=n("SVse"),h=n("ajRT");function f(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"tni-modal",12),a.\u0275\u0275listener("closeEvent",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext(2).toggleTriipPlannerPreferencesModal(!1)})),a.\u0275\u0275elementStart(1,"tni-modal-title"),a.\u0275\u0275elementStart(2,"h2"),a.\u0275\u0275text(3,"Trip preferences"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",13),a.\u0275\u0275elementStart(5,"p"),a.\u0275\u0275elementStart(6,"strong"),a.\u0275\u0275text(7,"Earliest arrival"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(8," will find trips that will get you to your destination closest to your selected 'Leaving' or 'Arrival' time. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"p"),a.\u0275\u0275elementStart(10,"strong"),a.\u0275\u0275text(11,"Fewest changes "),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(12," will present trips with the fewest number of transfers. Having fewer changes may result in longer travel times. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"p"),a.\u0275\u0275elementStart(14,"strong"),a.\u0275\u0275text(15,"Least walking"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(16," will find trips that involve the least amount of walking. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){a.\u0275\u0275nextContext(2);const t=a.\u0275\u0275reference(6);a.\u0275\u0275property("@fadeOutAnimation",void 0)("openingElement",t)("closeAtBottomLayout",!0)("alignAtTop",!0)("fullscreenMobile",!0)}}function m(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,f,17,5,"tni-modal",11),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",t.isInfoModalOpen)}}class g{constructor(t){this.modalService=t,this.isInfoModalOpen=!1,this.fastest=r.TripPreference.fastest,this.fewestChanges=r.TripPreference.fewestChanges,this.leastWalking=r.TripPreference.leastWalking}toggleTriipPlannerPreferencesModal(t){t?(this.modalService.addModalToBody(this.portal),this.isInfoModalOpen=!0):(this.modalService.removeModalFromBody(),this.isInfoModalOpen=!1)}}e.TripPreferencesComponent=g,g.\u0275fac=function(t){return new(t||g)(a.\u0275\u0275directiveInject(s.ModalService))},g.\u0275cmp=a.\u0275\u0275defineComponent({type:g,selectors:[["tni-trip-preferences"]],viewQuery:function(t,e){var n;1&t&&a.\u0275\u0275viewQuery(i.CdkPortal,!0),2&t&&a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.portal=n.first)},inputs:{group:"group"},decls:13,vars:4,consts:[[1,"trip-preference",3,"formGroup"],["role","radiogroup",1,"optgroup"],[1,"refine-header"],["role","button","tabindex","0","aria-label","trip preference information",1,"icon-wrap",3,"focus","click","keydown.enter"],["tripPreferenceInfoElement",""],["iconClasses","tp-icon sm","iconName","info","aria-label","more information","iconAriaHidden","true"],[1,"row-grid","trip-preference-option"],["radioGroupName","tripPreference","text","Earliest arrival","formControlName","tripPreference",3,"value"],["radioGroupName","tripPreference","text","Fewest changes","formControlName","tripPreference",3,"value"],["radioGroupName","tripPreference","text","Least walking","formControlName","tripPreference",3,"value"],[4,"cdkPortal"],["ariaLabel","Trip preference info",3,"openingElement","closeAtBottomLayout","alignAtTop","fullscreenMobile","closeEvent",4,"ngIf"],["ariaLabel","Trip preference info",3,"openingElement","closeAtBottomLayout","alignAtTop","fullscreenMobile","closeEvent"],[1,"trip-preference-text","modal-text"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275elementStart(3,"h4"),a.\u0275\u0275text(4,"Trip preference"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"a",3,4),a.\u0275\u0275listener("focus",(function(){return e.toggleTriipPlannerPreferencesModal(!1)}))("click",(function(){return e.toggleTriipPlannerPreferencesModal(!0)}))("keydown.enter",(function(){return e.toggleTriipPlannerPreferencesModal(!0)})),a.\u0275\u0275element(7,"tni-icon",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",6),a.\u0275\u0275element(9,"tni-radio-button",7),a.\u0275\u0275element(10,"tni-radio-button",8),a.\u0275\u0275element(11,"tni-radio-button",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(12,m,2,1,"ng-container",10)),2&t&&(a.\u0275\u0275property("formGroup",e.group),a.\u0275\u0275advance(9),a.\u0275\u0275propertyInterpolate("value",e.fastest),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate("value",e.fewestChanges),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate("value",e.leastWalking))},directives:[c.NgControlStatusGroup,c.FormGroupDirective,l.IconComponent,u.RadioButtonComponent,c.NgControlStatus,c.FormControlName,p.CdkPortal,d.NgIf,h.ModalComponent,h.ModalTitleDirective],styles:[".trip-preference[_ngcontent-%COMP%]{padding:25px 16px 0}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-preference[_ngcontent-%COMP%]{padding:25px 10px 0}}.trip-preference-text[_ngcontent-%COMP%]{text-align:left}"],data:{animation:[o.fadeOutAnimation]}})},WHQF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CycleSpeed=void 0,e.CycleSpeed=function(t){return t[t.slow=1]="slow",t[t.average=2]="average",t[t.fast=3]="fast",t}(e.CycleSpeed||{})},WMd4:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),a=function(t){return t.NEXT="N",t.ERROR="E",t.COMPLETE="C",t}({});let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},WMlU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniCollapsibleCardComponent=void 0;const r=n("8Y7J"),i=n("sYyf"),o=n("iFc6"),a=n("8Y7J"),s=n("SVse");function c(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",6),a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(1,"svg",7),a.\u0275\u0275elementStart(2,"title",3),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"use",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("@rotateClockwiseAnimation",t.expanded?"rotate":"default"),a.\u0275\u0275attribute("aria-labelledby","card details "+(t.expanded?"expanded":"collapsed")),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate("id","card details "+(t.expanded?"expanded":"collapsed")),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ","card details "+(t.expanded?"expanded":"collapsed")," "),a.\u0275\u0275advance(1),a.\u0275\u0275attribute("href",t.iconPath+"arrow-down-small",null,"xlink")}}function l(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",9),a.\u0275\u0275listener("keydown.enter",(function(e){return a.\u0275\u0275restoreView(t),e.stopPropagation()}))("keyup.enter",(function(e){return a.\u0275\u0275restoreView(t),e.stopPropagation()})),a.\u0275\u0275projection(1,2),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275property("@slideOpenDownAnimation",void 0),a.\u0275\u0275attribute("aria-hidden",!t.expanded)}}const u=[[["","card-header",""]],[["","card-footer",""]],[["","card-body",""]]],p=function(t){return{expanded:t}},d=function(t){return{"collapsible-card-details-header":!0,expanded:t}};class h{constructor(){this.toggle=new r.EventEmitter}ngOnInit(){this.iconPath=o.TniConstant.ICON_PATH+"#tp_"}toggleExpanded(){this.expanded=!this.expanded,this.toggle.emit(this.expanded)}}e.TniCollapsibleCardComponent=h,h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=a.\u0275\u0275defineComponent({type:h,selectors:[["tni-collapsible-card"]],inputs:{ariaLabel:"ariaLabel",expanded:"expanded",index:"index",hideToggle:"hideToggle",type:"type"},outputs:{toggle:"toggle"},ngContentSelectors:["[card-header]","[card-footer]","[card-body]"],decls:8,vars:15,consts:[[1,"collapsible-card-details","form",3,"ngClass"],["tabindex","0","role","button",3,"ngClass","keyup.enter","keydown.enter","click"],["class","toggle",4,"ngIf"],[3,"id"],["class","collapsible-card-details-body",3,"keydown.enter","keyup.enter",4,"ngIf"],[1,"collapsible-card-details-footer"],[1,"toggle"],["role","img","attr.aria-hidden","true",1,"tp-icon","sm","form-control-select-arrow"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"collapsible-card-details-body",3,"keydown.enter","keyup.enter"]],template:function(t,e){1&t&&(a.\u0275\u0275projectionDef(u),a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"a",1),a.\u0275\u0275listener("keyup.enter",(function(t){return t.stopPropagation(),e.toggleExpanded()}))("keydown.enter",(function(t){return t.stopPropagation()}))("click",(function(){return e.toggleExpanded()})),a.\u0275\u0275projection(2),a.\u0275\u0275template(3,c,5,5,"div",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",3),a.\u0275\u0275template(5,l,2,2,"div",4),a.\u0275\u0275elementStart(6,"div",5),a.\u0275\u0275projection(7,1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(11,p,e.expanded)),a.\u0275\u0275advance(1),a.\u0275\u0275classMap(e.type),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(13,d,e.expanded)),a.\u0275\u0275attribute("aria-controls","accordion-"+e.index)("aria-label",e.ariaLabel)("aria-expanded",e.expanded),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!e.hideToggle),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate("id","accordion-"+e.index),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.expanded))},directives:[s.NgClass,s.NgIf],styles:[".collapsible-card-details[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.collapsible-card-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 5px;border-bottom:1px solid #eaeaea}.collapsible-card-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:block}.collapsible-card-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:4px solid rgba(0,0,0,.4);outline-offset:-2px}.collapsible-card-details-header[_ngcontent-%COMP%]{position:relative;cursor:pointer}.collapsible-card-details-header[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{border:6px solid transparent;border-top-color:#555;border-bottom:0;float:right;margin:14px 5px 14px 14px}.collapsible-card-details-header.expanded[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{transform:rotate(-180deg)}.collapsible-card-details[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{right:16px}"],data:{animation:[i.slideOpenDownAnimation,i.rotateClockwiseAnimation]}})},"WVt+":function(t,e,n){!function(t){"use strict";function e(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&S(r),i&&E(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,a=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(a&&S(a),t){case"Point":i=r(e).geometry;break;case"LineString":i=s(e).geometry;break;case"Polygon":i=o(e).geometry;break;case"MultiPoint":i=p(e).geometry;break;case"MultiLineString":i=u(e).geometry;break;case"MultiPolygon":i=d(e).geometry;break;default:throw new Error(t+" is invalid")}return a&&(i.bbox=a),i}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(t[0])||!w(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map((function(t){return r(t,e)})),n)}function o(t,n,r){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++){if(0===i&&0===a&&!w(o[0][0])||!w(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function a(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map((function(t){return o(t,e)})),n)}function s(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!w(t[0][1])||!w(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function c(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map((function(t){return s(t,e)})),n)}function l(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&S(n),r&&E(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function u(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function d(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function f(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function m(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=xo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function g(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=xo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function y(t,e){return v(g(t,e))}function _(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function v(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function b(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function M(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return m(g(t,e),n||"kilometers")}function x(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=Co[e||"meters"];if(!r)throw new Error("invalid original units");var i=Co[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i}function w(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function S(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!w(t))throw new Error("bbox must only contain numbers")}))}function E(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function T(t,e,n){if(null!==t)for(var r,i,o,a,s,c,l,u,p=0,d=0,h=t.type,f="FeatureCollection"===h,m="Feature"===h,g=f?t.features.length:1,y=0;y<g;y++){s=(u=!!(l=f?t.features[y].geometry:m?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var _=0;_<s;_++){var v=0,b=0;if(null!==(a=u?l.geometries[_]:l)){c=a.coordinates;var M=a.type;switch(p=!n||"Polygon"!==M&&"MultiPolygon"!==M?0:1,M){case null:break;case"Point":e(c,d,y,v,b),d++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++)e(c[r],d,y,v,b),d++,"MultiPoint"===M&&v++;"LineString"===M&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-p;i++)e(c[r][i],d,y,v,b),d++;"MultiLineString"===M&&v++,"Polygon"===M&&b++}"Polygon"===M&&v++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for("MultiPolygon"===M&&(b=0),i=0;i<c[r].length;i++){for(o=0;o<c[r][i].length-p;o++)e(c[r][i][o],d,y,v,b),d++;b++}v++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)T(a.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function O(t,e,n,r){var i=n;return T(t,(function(t,r,o,a,s){i=0===r&&void 0===n?t:e(i,t,r,o,a,s)}),r),i}function A(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function P(t,e,n){var r=n;return A(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function L(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function k(t,e,n){var r=n;return L(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function I(t){var e=[];return T(t,(function(t){e.push(t)})),e}function D(t,e){var n,r,i,o,a,s,c,l,u,p,d=0,h="FeatureCollection"===t.type,f="Feature"===t.type,m=h?t.features.length:1;for(n=0;n<m;n++){for(l=h?t.features[n].properties:f?t.properties:{},u=h?t.features[n].bbox:f?t.bbox:void 0,p=h?t.features[n].id:f?t.id:void 0,a=(c=!!(s=h?t.features[n].geometry:f?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=c?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,d,l,u,p);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],d,l,u,p);break;default:throw new Error("Unknown Geometry Type")}else e(null,d,l,u,p);d++}}function N(t,e,n){var r=n;return D(t,(function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)})),r}function R(t,n){D(t,(function(t,r,i,o,a){var s,c=null===t?null:t.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,i,{bbox:o,id:a}),r,0)}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}t.coordinates.forEach((function(t,o){n(e({type:s,coordinates:t},i),r,o)}))}))}function z(t,e,n){var r=n;return R(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r}function F(t,e){R(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&O(t,(function(o,a,c,l,u,p){var d=s([o,a],t.properties);return e(d,n,r,p,i),i++,a}))}}))}function j(t,e,n){var r=n,i=!1;return F(t,(function(t,o,a,s,c){r=!1===i&&void 0===n?t:e(r,t,o,a,s,c),i=!0})),r}function B(t,e){if(!t)throw new Error("geojson is required");R(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.coordinates;switch(t.geometry.type){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var o=0;o<i.length;o++)e(s(i[o],t.properties),n,r,o)}}}))}function q(t,e,n){var r=n;return B(t,(function(t,i,o,a){r=0===i&&void 0===n?t:e(r,t,i,o,a)})),r}function V(t){var e=[1/0,1/0,-1/0,-1/0];return T(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function Y(t){if(!t)throw new Error("obj is required");var e=H(t);if(e.length>1&&w(e[0])&&w(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function H(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return W(e),e;throw new Error("No valid coordinates")}function W(t){if(t.length>1&&w(t[0])&&w(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return W(t[0]);throw new Error("coordinates must only contain numbers")}function U(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function X(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function G(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}function J(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function $(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function K(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function Z(t,e,n){n=n||{};for(var r=Object.keys(Oo),i=0;i<r.length;i++){var o=r[i],a=n[o];Ao[o]=a=null!=a?a:Oo[o]}Ao.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;return t.cells.forEach((function(r,i){r.forEach((function(r,o){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!tt(r)){var a=function(t,e,n){var r,i,o,a=t.length,s=[],c=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],u=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],p=t[e][n],d=p.cval,h=nt(p,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][d]);s.push([n+h[0],e+h[1]]),h=nt(p,o=u[d]),s.push([n+h[0],e+h[1]]),et(p);for(var f=n+c[d],m=e+l[d],g=d;f>=0&&m>=0&&m<a&&(f!=n||m!=e)&&void 0!==(p=t[m][f]);){if(0===(d=p.cval)||15===d)return{path:s,info:"mergeable"};o=u[d],r=c[d],i=l[d],5!==d&&10!==d||(5===d?p.flipped?-1===l[g]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===c[g]&&(o="bottom",r=0,i=-1):10===d&&(p.flipped?-1===c[g]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===l[g]&&(o="left",r=-1,i=0))),h=nt(p,o),s.push([f+h[0],m+h[1]]),et(p),f+=r,m+=i,g=d}return{path:s,info:"closed"}}(t.cells,i,o),s=!1;if("mergeable"===a.info)for(var c=a.path[a.path.length-1][0],l=a.path[a.path.length-1][1],u=n-1;u>=0;u--)if(Math.abs(e[u][0][0]-c)<=1e-7&&Math.abs(e[u][0][1]-l)<=1e-7){for(var p=a.path.length-2;p>=0;--p)e[u].unshift(a.path[p]);s=!0;break}s||(e[n++]=a.path)}}))})),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var a=0;a<r;++a){var s=0,c=t[o+1][a],l=t[o+1][a+1],u=t[o][a+1],p=t[o][a];if(!(isNaN(c)||isNaN(l)||isNaN(u)||isNaN(p))){s|=c>=e?8:0,s|=l>=e?4:0,s|=u>=e?2:0;var d,h,f,m,g=!1;if(5==(s|=p>=e?1:0)||10===s){var y=(c+l+u+p)/4;5===s&&y<e?(s=10,g=!0):10===s&&y<e&&(s=5,g=!0)}0!==s&&15!==s&&(d=h=f=m=.5,1===s?(f=1-Q(e,c,p),h=1-Q(e,u,p)):2===s?(h=Q(e,p,u),m=1-Q(e,l,u)):3===s?(f=1-Q(e,c,p),m=1-Q(e,l,u)):4===s?(d=Q(e,c,l),m=Q(e,u,l)):5===s?(d=Q(e,c,l),m=Q(e,u,l),h=1-Q(e,u,p),f=1-Q(e,c,p)):6===s?(h=Q(e,p,u),d=Q(e,c,l)):7===s?(f=1-Q(e,c,p),d=Q(e,c,l)):8===s?(f=Q(e,p,c),d=1-Q(e,l,c)):9===s?(h=1-Q(e,u,p),d=1-Q(e,l,c)):10===s?(d=1-Q(e,l,c),m=1-Q(e,l,u),h=Q(e,p,u),f=Q(e,p,c)):11===s?(d=1-Q(e,l,c),m=1-Q(e,l,u)):12===s?(f=Q(e,p,c),m=Q(e,u,l)):13===s?(h=1-Q(e,u,p),m=Q(e,u,l)):14===s?(f=Q(e,p,c),h=Q(e,p,u)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),i.cells[o][a]={cval:s,flipped:g,top:d,right:m,bottom:h,left:f})}}}return i}(t,e));return"function"==typeof Ao.successCallback&&Ao.successCallback(s),s}function Q(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function rt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function it(t,e){if(!(this instanceof it))return new it(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ot(t,e){at(t,0,t.children.length,e,t)}function at(t,e,n,r,i){i||(i=ft(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],st(i,t.leaf?r(o):o);return i}function st(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ct(t,e){return t.minX-e.minX}function lt(t,e){return t.minY-e.minY}function ut(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function pt(t){return t.maxX-t.minX+(t.maxY-t.minY)}function dt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function ht(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function ft(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mt(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,Po(t,o,e,n,i),a.push(e,o,o,n))}function gt(t,e){return t(e={exports:{}},e.exports),e.exports}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function _t(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var a=t[o];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var s=[e,n,r,i],c=s.slice();for(o=0;o<t.length;o++)Yo(t[o],s)||c.push(t[o]);var l=jo(c),u=[];for(o=0;o<l.length;o++)u.push(c[l[o]]);return u}(t),o=Lo(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],s=0;s<i.length;s++){var c=i[s];o.remove(c),r=wt(c,r),a.push(r)}var l=Lo(16);for(s=0;s<a.length;s++)l.insert(xt(a[s]));for(var u=e*e,p=n*n;a.length;){var d=a.shift(),h=d.p,f=d.next.p,m=Ct(h,f);if(!(m<p)){var g=m/u;(c=function(t,e,n,r,i,o,a){for(var s=new qo(null,vt),c=t.data;c;){for(var l=0;l<c.children.length;l++){var u=c.children[l],p=c.leaf?St(u,n,r):function(t,e,n){if(bt(t,n)||bt(e,n))return 0;var r=Et(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Et(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=Et(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=Et(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,i,o,a)}(n,r,u);p>o||s.push({node:u,dist:p})}for(;s.length&&!s.peek().node.children;){var d=s.pop(),h=d.node,f=St(h,e,n),m=St(h,r,i);if(d.dist<f&&d.dist<m&&Mt(n,h,a)&&Mt(r,h,a))return h}(c=s.pop())&&(c=c.node)}return null}(o,d.prev.p,h,f,d.next.next.p,g,l))&&Math.min(Ct(c,h),Ct(c,f))<=g&&(a.push(d),a.push(wt(c,d)),o.remove(c),l.remove(d),l.insert(xt(d)),l.insert(xt(d.next)))}}d=r;var y=[];do{y.push(d.p),d=d.next}while(d!==r);return y.push(d.p),y}function vt(t,e){return t.dist-e.dist}function bt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function Mt(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),s=n.search({minX:r,minY:i,maxX:o,maxY:a}),c=0;c<s.length;c++)if(function(t,e,n,r){return t!==r&&e!==n&&Ho(t,e,n)>0!=Ho(t,e,r)>0&&Ho(n,r,t)>0!=Ho(n,r,e)>0}(s[c].p,s[c].next.p,t,e))return!1;return!0}function xt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function wt(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Ct(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function St(t,e,n){var r=e[0],i=e[1],o=n[0]-r,a=n[1]-i;if(0!==o||0!==a){var s=((t[0]-r)*o+(t[1]-i)*a)/(o*o+a*a);s>1?(r=n[0],i=n[1]):s>0&&(r+=o*s,i+=a*s)}return(o=t[0]-r)*o+(a=t[1]-i)*a}function Et(t,e,n,r,i,o,a,s){var c,l,u,p,d=n-t,h=r-e,f=a-i,m=s-o,g=t-i,y=e-o,_=d*d+h*h,v=d*f+h*m,b=f*f+m*m,M=d*g+h*y,x=f*g+m*y,w=_*b-v*v,C=w,S=w;0===w?(l=0,C=1,p=x,S=b):(p=_*x-v*M,(l=v*x-b*M)<0?(l=0,p=x,S=b):l>C&&(l=C,p=x+v,S=b)),p<0?(p=0,-M<0?l=0:-M>_?l=C:(l=-M,C=_)):p>S&&(p=S,-M+v<0?l=0:-M+v>_?l=C:(l=-M+v,C=_));var E=(1-(u=0===p?0:p/S))*i+u*a-((1-(c=0===l?0:l/C))*t+c*n),T=(1-u)*o+u*s-((1-c)*e+c*r);return E*E+T*T}function Tt(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(T(t,(function(t){r.push([t[0],t[1]])})),!r.length)return null;var i=Wo(r,n);return i.length>3?o([i]):null}function Ot(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=Y(t),o=H(e),a=e.geometry?e.geometry.type:e.type,s=e.bbox;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,s))return!1;"Polygon"===a&&(o=[o]);for(var c=0,l=!1;c<o.length&&!l;c++)if(At(i,o[c][0],r)){for(var u=!1,p=1;p<o[c].length&&!u;)At(i,o[c][p],!r)&&(u=!0),p++;u||(l=!0)}return l}function At(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var a=e[i][0],s=e[i][1],c=e[o][0],l=e[o][1];if(t[1]*(a-c)+s*(c-t[0])+l*(t[0]-a)==0&&(a-t[0])*(c-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!n;s>t[1]!=l>t[1]&&t[0]<(c-a)*(t[1]-s)/(l-s)+a&&(r=!r)}return r}function Pt(t,e){var n=[];return D(e,(function(e){L(t,(function(t){Ot(t,e)&&n.push(t)}))})),l(n)}function Lt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return l(function(t){if(t.length<3)return[];t.sort(It);for(var e,n,r,i=t.length-1,o=t[i].x,a=t[0].x,s=t[i].y,c=s;i--;)t[i].y<s&&(s=t[i].y),t[i].y>c&&(c=t[i].y);var l,u=a-o,p=c-s,d=u>p?u:p,h=.5*(a+o),f=.5*(c+s),m=[new kt({x:h-20*d,y:f-d,__sentinel:!0},{x:h,y:f+20*d,__sentinel:!0},{x:h+20*d,y:f-d,__sentinel:!0})],g=[],y=[];for(i=t.length;i--;){for(y.length=0,l=m.length;l--;)(u=t[i].x-m[l].x)>0&&u*u>m[l].r?(g.push(m[l]),m.splice(l,1)):u*u+(p=t[i].y-m[l].y)*p>m[l].r||(y.push(m[l].a,m[l].b,m[l].b,m[l].c,m[l].c,m[l].a),m.splice(l,1));for(Dt(y),l=y.length;l;)n=y[--l],e=y[--l],r=t[i],Math.abs(2*((n.x-e.x)*(r.y-n.y)-(n.y-e.y)*(r.x-n.x)))>1e-12&&m.push(new kt(e,n,r))}for(Array.prototype.push.apply(g,m),i=g.length;i--;)(g[i].a.__sentinel||g[i].b.__sentinel||g[i].c.__sentinel)&&g.splice(i,1);return g}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],a={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):a={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],a)})))}function kt(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,a=e.y-t.y,s=n.x-t.x,c=n.y-t.y,l=o*(t.x+e.x)+a*(t.y+e.y),u=s*(t.x+n.x)+c*(t.y+n.y),p=2*(o*(n.y-e.y)-a*(n.x-e.x));this.x=(c*l-a*u)/p,this.y=(o*u-s*l)/p,this.r=(r=this.x-t.x)*r+(i=this.y-t.y)*i}function It(t,e){return e.x-t.x}function Dt(t){var e,n,r,i,o,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],r=a;r;)if(o=t[--r],i=t[--r],e===i&&n===o||e===o&&n===i){t.splice(a,2),t.splice(r,2),a-=2;continue t}}function Nt(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=Y(t),o=Y(e),a=b(o[1]-i[1]),s=b(o[0]-i[0]),c=b(i[1]),l=b(o[1]),u=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(c)*Math.cos(l);return m(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),r)}function Rt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return zt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return zt(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ft(t);default:throw new Error("unknown GeoJSON type")}}function zt(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach((function(r){var i=e[r];n[r]="object"==typeof i?null===i?null:i.length?i.map((function(t){return t})):t(i):i})),n):n}(t.properties),e.geometry=Ft(t.geometry),e}function Ft(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Ft(t)})),e):(e.coordinates=function t(e){return"object"!=typeof e[0]?e.slice():e.map((function(e){return t(e)}))}(t.coordinates),e)}function jt(t,e){function n(t,e){e.length&&e.pop();for(var n=c[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(s(n[r],r));t<0&&Go(e,i)}function r(t){return s(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}var s=Xo(t.transform),c=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=a(e.arcs);break;case"MultiPolygon":n=e.arcs.map(a);break;default:return null}return{type:o,coordinates:n}}(e)}function Bt(t,e){function n(t){t.forEach((function(e){e.forEach((function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)}))})),o.push(t)}function r(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)o+=(e=i)[0]*(i=t[n])[1]-e[1]*i[0];return Math.abs(o)}(jt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var i={},o=[],a=[];return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}})),o.forEach((function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].forEach((function(t){t._||(t._=1,n.push(t))}))}))}))}})),o.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:a.map((function(e){var n,o=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].length<2&&o.push(t)}))}))})),(n=(o=Jo(t,o)).length)>1)for(var a,s,c=1,l=r(o[0]);c<n;++c)(a=r(o[c]))>l&&(s=o[0],o[0]=o[c],o[c]=s,l=a);return o}))}}function qt(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Vt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Yt)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Yt:Ht)(t)}function Yt(t){var e,n=Ht(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Ht(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Ht)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Wt(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Ut(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function Xt(t){return t[0].toString()+","+t[1].toString()}function Gt(t,n){var r="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var i=K(t),o=[];switch(i){case"LineString":o=Jt(t);break;case"MultiLineString":case"Polygon":H(t).forEach((function(t){o.push(Jt(t))}));break;case"MultiPolygon":H(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(Jt(t))})),o.push(e)}));break;case"Point":return t;case"MultiPoint":var a={};H(t).forEach((function(t){var e=t.join("-");a.hasOwnProperty(e)||(o.push(t),a[e]=!0)}));break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox)}function Jt(t){var e=H(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i=[],o=e.length-1;i.push(e[0]);for(var a=1;a<o;a++)(function(t,e,n){var r=n[0],i=n[1],o=t[0],a=t[1],s=e[0],c=e[1],l=s-o,u=c-a;return(r-o)*u-(i-a)*l==0&&(Math.abs(l)>=Math.abs(u)?l>0?o<=r&&r<=s:s<=r&&r<=o:u>0?a<=i&&i<=c:c<=i&&i<=a)})(e[a-1],r=e[a+1],n=e[a])||i.push(n);return i.push(r),i}function $t(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Kt(t,e,n){var r=e.x,i=e.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((t.x-r)*o+(t.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=t.x-r)*o+(a=t.y-i)*a}function Zt(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,r=[t[0]];return function t(e,n,r,i,o){for(var a,s=i,c=n+1;c<r;c++){var l=Kt(e[c],e[n],e[r]);l>s&&(a=c,s=l)}s>i&&(a-n>1&&t(e,n,a,i,o),o.push(e[a]),r-a>1&&t(e,a,r,i,o))}(t,0,n,e,r),r.push(t[n]),r}(t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,a=t.length;o<a;o++)$t(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),r)}function Qt(t,e,n){return Zt(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function te(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var i=Zt(r,e,n).map((function(t){return[t.x,t.y]}));!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(i);)i=Zt(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function ee(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!w(n))throw new Error("resolution must be an number");if(!w(r))throw new Error("sharpness must be an number");for(var i=[],o=new na({points:J(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),duration:n,sharpness:r}),a=0;a<o.duration;a+=10){var c=o.pos(a);Math.floor(a/100)%2==0&&i.push([c.x,c.y])}return s(i,t.properties)}function ne(t){S(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[e,n];return o([[a,[r,n],[r,i],[e,i],a]])}function re(t){return ne(V(t))}function ie(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(Nt(t.slice(0,2),[r,n])>=Nt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var a=(e+r)/2;return[a-(i-n)/2,n,a+(i-n)/2,i]}function oe(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties,s=Y(t),c=b(s[0]),l=b(s[1]),u=b(n),p=g(e,o),d=Math.asin(Math.sin(l)*Math.cos(p)+Math.cos(l)*Math.sin(p)*Math.cos(u));return r([v(c+Math.atan2(Math.sin(u)*Math.sin(p)*Math.cos(l),Math.cos(p)-Math.sin(l)*Math.sin(d))),v(d)],a)}function ae(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||t.properties||{};for(var a=[],s=0;s<r;s++)a.push(oe(t,e,-360*s/r,n).geometry.coordinates);return a.push(a[0]),o([a],i)}function se(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){return(se(e,t)+180)%360}(t,e);var r=Y(t),i=Y(e),o=b(r[0]),a=b(i[0]),s=b(r[1]),c=b(i[1]),l=Math.sin(a-o)*Math.cos(c),u=Math.cos(s)*Math.sin(c)-Math.sin(s)*Math.cos(c)*Math.cos(a-o);return v(Math.atan2(l,u))}function ce(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=V(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function le(t,e){var n=0,i=0,o=0;return T(t,(function(t){n+=t[0],i+=t[1],o++}),!0),r([n/o,i/o],e)}function ue(t){var e=[];return"FeatureCollection"===t.type?L(t,(function(t){T(t,(function(n){e.push(r(n,t.properties))}))})):T(t,(function(n){e.push(r(n,t.properties))})),l(e)}function pe(t,e,n){n=n||2;var r,i,o,a,s,c,l,u=e&&e.length,p=u?e[0]*n:t.length,d=de(t,0,p,n,!0),h=[];if(!d)return h;if(u&&(d=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=de(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(a));for(s.sort(fe),i=0;i<s.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var c,l=n,u=n.x,p=n.y,d=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=u&&i!==r.x&&ge(o<p?i:a,o,u,p,o<p?a:i,o,r.x,r.y)&&((c=Math.abs(o-r.y)/(i-r.x))<d||c===d&&r.x>n.x)&&be(r,t)&&(n=r,d=c),r=r.next;return n}(t,e)){var n=Me(e,t);he(n,n.next)}}(s[i],n),n=he(n,n.next);return n}(t,e,d,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var f=n;f<p;f+=n)(s=t[f])<r&&(r=s),(c=t[f+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return function t(e,n,r,i,o,a,s){if(e){!s&&a&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=me(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,c,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(c=l;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,i,o,a);for(var c,l,u=e;e.prev!==e.next;)if(c=e.prev,l=e.next,a?function(t,e,n,r){var i=t.prev,o=t,a=t.next;if(ye(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,l=me(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),u=me(s,c,e,n,r),p=t.nextZ;p&&p.z<=u;){if(p!==t.prev&&p!==t.next&&ge(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ye(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=l;){if(p!==t.prev&&p!==t.next&&ge(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ye(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(e,i,o,a):function(t){var e=t.prev,n=t,r=t.next;if(ye(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(ge(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&ye(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(e))n.push(c.i/r),n.push(e.i/r),n.push(l.i/r),we(e),e=l.next,u=l.next;else if((e=l)===u){s?1===s?t(e=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!_e(i,o)&&ve(i,r,r.next,o)&&be(i,o)&&be(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),we(r),we(r.next),r=t=o),r=r.next}while(r!==t);return r}(e,n,r),n,r,i,o,a,2):2===s&&function(e,n,r,i,o,a){var s=e;do{for(var c=s.next.next;c!==s.prev;){if(s.i!==c.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ve(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&be(t,e)&&be(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(s,c)){var l=Me(s,c);return s=he(s,s.next),l=he(l,l.next),t(s,n,r,i,o,a),void t(l,n,r,i,o,a)}c=c.next}s=s.next}while(s!==e)}(e,n,r,i,o,a):t(he(e),n,r,i,o,a,1);break}}}(d,h,n,r,i,l),h}function de(t,e,n,r,i){var o,a;if(i===Se(t,e,n,r)>0)for(o=e;o<n;o+=r)a=xe(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=xe(o,t[o],t[o+1],a);return a&&_e(a,a.next)&&(we(a),a=a.next),a}function he(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!_e(r,r.next)&&0!==ye(r.prev,r,r.next))r=r.next;else{if(we(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function fe(t,e){return t.x-e.x}function me(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ge(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function ye(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _e(t,e){return t.x===e.x&&t.y===e.y}function ve(t,e,n,r){return!!(_e(t,e)&&_e(n,r)||_e(t,r)&&_e(n,e))||ye(t,e,n)>0!=ye(t,e,r)>0&&ye(n,r,t)>0!=ye(n,r,e)>0}function be(t,e){return ye(t.prev,t,t.next)<0?ye(t,e,t.next)>=0&&ye(t,t.prev,e)>=0:ye(t,e,t.prev)<0||ye(t,t.next,e)<0}function Me(t,e){var n=new Ce(t.i,t.x,t.y),r=new Ce(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function xe(t,e,n,r){var i=new Ce(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function we(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ce(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Se(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function Ee(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n}(t),n=ra(e.vertices,e.holes,2),r=[],i=[];n.forEach((function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var a=0;a<i.length;a+=3){var s=i.slice(a,a+3);s.push(i[a]),r.push(o([s]))}return r}function Te(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return L(e,(function(e,i){var o=Nt(t,e);o<r&&((n=Rt(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)})),n}function Oe(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,c=Math.log(a),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+u)),Math.min(i,Math.floor(n+(a-s)*l/a+u)),o)}var p=e[n],d=r,h=i;for(Ae(e,r,n),o(e[i],p)>0&&Ae(e,r,i);d<h;){for(Ae(e,d,h),d++,h--;o(e[d],p)<0;)d++;for(;o(e[h],p)>0;)h--}0===o(e[r],p)?Ae(e,r,h):Ae(e,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function Ae(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Pe(t,e){if(!(this instanceof Pe))return new Pe(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Le(t,e){ke(t,0,t.children.length,e,t)}function ke(t,e,n,r,i){i||(i=Be(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],Ie(i,t.leaf?r(o):o);return i}function Ie(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function De(t,e){return t.minX-e.minX}function Ne(t,e){return t.minY-e.minY}function Re(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ze(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Fe(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function je(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Be(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function qe(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(Oe(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),a.push(e,o,o,n))}function Ve(t){var e=Pe(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=Ye(e)).bbox=e}else t.bbox=t.bbox?t.bbox:He(t);return Pe.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){var n=Ye(t);n.bbox=t,e.push(n)})):L(t,(function(t){t.bbox=t.bbox?t.bbox:He(t),e.push(t)})),Pe.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=Ye(e)).bbox=e}return Pe.prototype.remove.call(this,t)},e.clear=function(){return Pe.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Pe.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Pe.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Pe.prototype.all.call(this)}},e.toJSON=function(){return Pe.prototype.toJSON.call(this)},e.fromJSON=function(t){return Pe.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:He(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function Ye(t){var e=[t[0],t[1]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],[t[2],t[3]],[t[0],t[3]],e]]}}}function He(t){var e=[1/0,1/0,-1/0,-1/0];return T(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function We(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,(function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=H(r);break;case"LineString":n=[H(r)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,r){var i=s([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}(t,e)})),l(e)}function Ue(t,n){var r={},i=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=Xe(t,n);return o&&i.push(o),l(i)}var a=Ve();return a.load(We(n)),L(We(t),(function(t){L(a.search(t),(function(e){var n=Xe(t,e);if(n){var o=H(n).join(",");r[o]||(r[o]=!0,i.push(n))}}))})),l(i)}function Xe(t,e){var n=H(t),i=H(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],a=n[0][1],s=n[1][0],c=n[1][1],l=i[0][0],u=i[0][1],p=i[1][0],d=i[1][1],h=(d-u)*(s-o)-(p-l)*(c-a);if(0===h)return null;var f=((p-l)*(a-u)-(d-u)*(o-l))/h,m=((s-o)*(a-u)-(c-a)*(o-l))/h;return f>=0&&f<=1&&m>=0&&m<=1?r([o+f*(s-o),a+f*(c-a)]):null}function Ge(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var o=r([1/0,1/0],{dist:1/0}),a=0;return R(t,(function(t){for(var i=H(t),c=0;c<i.length-1;c++){var l=r(i[c]);l.properties.dist=Nt(e,l,n);var u=r(i[c+1]);u.properties.dist=Nt(e,u,n);var p=Nt(l,u,n),d=Math.max(l.properties.dist,u.properties.dist),h=se(l,u),f=oe(e,d,h+90,n),m=oe(e,d,h-90,n),g=Ue(s([f.geometry.coordinates,m.geometry.coordinates]),s([l.geometry.coordinates,u.geometry.coordinates])),y=null;g.features.length>0&&((y=g.features[0]).properties.dist=Nt(e,y,n),y.properties.location=a+Nt(l,y,n)),l.properties.dist<o.properties.dist&&((o=l).properties.index=c,o.properties.location=a),u.properties.dist<o.properties.dist&&((o=u).properties.index=c+1,o.properties.location=a+p),y&&y.properties.dist<o.properties.dist&&((o=y).properties.index=c),a+=p}})),o}function Je(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(r=i?$e(Y(e),Y(t)):$e(Y(t),Y(e)))>180?-(360-r):r}function $e(t,e){var n=b(t[1]),r=b(e[1]),i=b(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(v(Math.atan2(i,o))+360)%360}function Ke(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var i=Y(t),o=Y(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,M(function(t,e,n){var r=n=void 0===n?Mo:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,a=o-i,s=Math.abs(e[0]-t[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var c=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(c)>1e-11?a/c:Math.cos(i);return Math.sqrt(a*a+l*l*s*s)*r}(i,o),"meters",r)}function Ze(t,e){return tn(t,"mercator",e)}function Qe(t,e){return tn(t,"wgs84",e)}function tn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&w(t[0])?t="mercator"===e?en(t):nn(t):(!0!==r&&(t=Rt(t)),T(t,(function(t){var n="mercator"===e?en(t):nn(t);t[0]=n[0],t[1]=n[1]}))),t}function en(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function nn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function rn(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):X(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=s(n):"LineString"===n.type?n=e(n):X(n,"LineString","line");var o=1/0,a=t.geometry.coordinates;return F(n,(function(t){var e=function(t,e,n,i){var o=i.mercator,a=!0!==o?Nt(e,t,i):on(e,t,i),s=_(!0!==o?se(e,t):Je(e,t)),c=_(!0!==o?se(e,n):Je(e,n)),l=Math.abs(s-c);if(l>90)return a;var u=(c+180)%360,p=_(!0!==o?se(n,t):Je(n,t)),d=Math.abs(p-u);return d>180&&(d=Math.abs(d-360)),d>90?!0!==o?Nt(t,n,i):on(t,n,i):!0!==o?a*Math.sin(b(l)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var a=r(n),s=Qe(function(t,e,n){var r=t[0],i=t[1],o=e[0]-r,a=e[1]-i,s=((n[0]-r)*o+(n[1]-i)*a)/(o*o+a*a);return[r+s*o,i+s*a]}(Ze([t[0]+o,t[1]]),Ze([e[0]+o,e[1]]),Ze([n[0]+o,n[1]])));return 0!==o&&(s[0]-=o),Ke(a,s,i)}(e,n,t,i)}(a,t.geometry.coordinates[0],t.geometry.coordinates[1],i);o>e&&(o=e)})),o}function on(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=Ze([t[0]+i,t[1]]),a=Ze([e[0]+i,e[1]]),s=function(t){return t*t},c=s(o[0]-a[0])+s(o[1]-a[1]);return M(Math.sqrt(c),"meters",r)}function an(t){for(var n=function(t){return"FeatureCollection"!==t.type?l("Feature"!==t.type?[e(t)]:[t]):t}(t),i=ce(n),o=!1,a=0;!o&&a<n.features.length;){var s,c=n.features[a].geometry,u=!1;if("Point"===c.type)i.geometry.coordinates[0]===c.coordinates[0]&&i.geometry.coordinates[1]===c.coordinates[1]&&(o=!0);else if("MultiPoint"===c.type){var p=!1;for(s=0;!p&&s<c.coordinates.length;)i.geometry.coordinates[0]===c.coordinates[s][0]&&i.geometry.coordinates[1]===c.coordinates[s][1]&&(o=!0,p=!0),s++}else if("LineString"===c.type)for(s=0;!u&&s<c.coordinates.length-1;)sn(i.geometry.coordinates[0],i.geometry.coordinates[1],c.coordinates[s][0],c.coordinates[s][1],c.coordinates[s+1][0],c.coordinates[s+1][1])&&(u=!0,o=!0),s++;else if("MultiLineString"===c.type)for(var d=0;d<c.coordinates.length;){u=!1,s=0;for(var h=c.coordinates[d];!u&&s<h.length-1;)sn(i.geometry.coordinates[0],i.geometry.coordinates[1],h[s][0],h[s][1],h[s+1][0],h[s+1][1])&&(u=!0,o=!0),s++;d++}else"Polygon"!==c.type&&"MultiPolygon"!==c.type||Ot(i,c)&&(o=!0);a++}if(o)return i;var f=l([]);for(a=0;a<n.features.length;a++)f.features=f.features.concat(ue(n.features[a]).features);return r(Te(i,f).geometry.coordinates)}function sn(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function cn(t){return N(t,(function(t,e){return t+function t(e){var n,r=0;switch(e.type){case"Polygon":return ln(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=ln(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}}(e)}),0)}function ln(t){var e=0;if(t&&t.length>0){e+=Math.abs(un(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(un(t[n]))}return e}function un(t){var e,n,r,i,o,a,s=0,c=t.length;if(c>2){for(a=0;a<c;a++)a===c-2?(r=c-2,i=c-1,o=0):a===c-1?(r=c-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(pn(t[o][0])-pn(e[0]))*Math.sin(pn(n[1]));s=s*aa*aa/2}return s}function pn(t){return t*Math.PI/180}function dn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return j(t,(function(t,n){var r=n.geometry.coordinates;return t+Nt(r[0],r[1],e)}),0)}function hn(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var a,c,l,u=0,p=0;p<i.length&&!(e>=u&&p===i.length-1);p++){if(u>e&&0===o.length){if(!(a=e-u))return o.push(i[p]),s(o);c=se(i[p],i[p-1])-180,l=oe(i[p],a,c,r),o.push(l.geometry.coordinates)}if(u>=n)return(a=n-u)?(c=se(i[p],i[p-1])-180,l=oe(i[p],a,c,r),o.push(l.geometry.coordinates),s(o)):(o.push(i[p]),s(o));if(u>=e&&o.push(i[p]),p===i.length-1)return s(o);u+=Nt(i[p],i[p+1],r)}return s(i[i.length-1])}function fn(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var i=Y(t),o=H(e),a=0;a<o.length-1;a++){var s=!1;if(r&&(0===a&&(s="start"),a===o.length-2&&(s="end"),0===a&&a+1===o.length-1&&(s="both")),function(t,e,n,r){var i=n[0],o=n[1],a=t[0],s=t[1],c=e[0],l=e[1],u=c-a,p=l-s;return(n[0]-a)*p-(n[1]-s)*u==0&&(r?"start"===r?Math.abs(u)>=Math.abs(p)?u>0?a<i&&i<=c:c<=i&&i<a:p>0?s<o&&o<=l:l<=o&&o<s:"end"===r?Math.abs(u)>=Math.abs(p)?u>0?a<=i&&i<c:c<i&&i<=a:p>0?s<=o&&o<l:l<o&&o<=s:"both"===r?Math.abs(u)>=Math.abs(p)?u>0?a<i&&i<c:c<i&&i<a:p>0?s<o&&o<l:l<o&&o<s:void 0:Math.abs(u)>=Math.abs(p)?u>0?a<=i&&i<=c:c<=i&&i<=a:p>0?s<=o&&o<=l:l<=o&&o<=s)}(o[a],o[a+1],i,s))return!0}return!1}function mn(t,e){var n=K(t),r=K(e),i=J(t),o=J(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(yn(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case"LineString":return fn(i,o,{ignoreEndVertices:!0});case"Polygon":return Ot(i,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)yn(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!fn(t.coordinates[r],e))return!1;n||(n=fn(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=Ot(t.coordinates[1],e);if(!i){n=!1;break}i=Ot(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!fn(t.coordinates[n],e))return!1;return!0}(i,o);case"Polygon":return function(t,e){if(!gn(V(e),V(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!Ot(t.coordinates[r],e))return!1;n||(n=Ot(t.coordinates[r],e,{ignoreBoundary:!0})),n||(n=Ot(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0}))}return n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=V(t);if(!gn(V(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Ot(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function gn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function yn(t,e){return t[0]===e[0]&&t[1]===e[1]}function _n(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.mask,o=n.properties,a=[];if(null==e)throw new Error("cellSide is required");if(!w(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],c=t[1],u=t[2],p=t[3],d=e/Nt([s,c],[u,c],n)*(u-s),h=e/Nt([s,c],[s,p],n)*(p-c),f=u-s,m=p-c,g=Math.floor(f/d),y=(m-Math.floor(m/h)*h)/2,_=s+(f-g*d)/2;_<=u;){for(var v=c+y;v<=p;){var b=r([_,v],o);i?mn(b,i)&&a.push(b):a.push(b),v+=h}_+=d}return l(a)}function vn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return T(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)})),t}function bn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!bn(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function Mn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function xn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!xn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function wn(t,e){var n=[],r=Ve();return R(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var i=r.search(e);if(i.features.length){var o=Sn(e,i);n=n.filter((function(t){return t.id!==o.id})),r.remove(o),L(Cn(o,e),(function(t){n.push(t),r.insert(t)}))}}else(n=Cn(t,e).features).forEach((function(t){t.bbox||(t.bbox=ie(V(t)))})),r.load(l(n))})),l(n)}function Cn(t,e){var n=[],r=H(t)[0],i=H(t)[t.geometry.coordinates.length-1];if(En(r,Y(e))||En(i,Y(e)))return l([t]);var o=Ve(),a=We(t);o.load(a);var c=o.search(e);if(!c.features.length)return l([t]);var u=Sn(e,c),p=k(a,(function(t,r,i){var o=H(r)[1],a=Y(e);return i===u.id?(t.push(a),n.push(s(t)),En(a,o)?[a]:[a,o]):(t.push(o),t)}),[r]);return p.length>1&&n.push(s(p)),l(n)}function Sn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return L(e,(function(e){var i=Ge(e,t).properties.dist;i<r&&(n=e,r=i)})),n}function En(t,e){return t[0]===e[0]&&t[1]===e[1]}function Tn(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.steps,a=i.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");o=o||64;var c=On(n),l=On(r),u=t.properties;if(c===l)return s(ae(t,e,i).geometry.coordinates[0],u);for(var p=c,d=c<l?l:l+360,h=p,f=[],m=0;h<d;)f.push(oe(t,e,h,a).geometry.coordinates),h=p+360*++m/o;return h>d&&f.push(oe(t,e,d,a).geometry.coordinates),s(f,u)}function On(t){var e=t%360;return e<0&&(e+=360),e}function An(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=K(t),i=H(t);if(n=n||t.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Pn(i,n);case"MultiPolygon":var o=[];return i.forEach((function(t){o.push(Pn(t,n))})),l(o);default:throw new Error("geom "+r+" not supported")}}function Pn(t,e){return t.length>1?u(t,e):s(t[0],e)}function Ln(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,K(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach((function(t){o.push(H(kn(t,{},r,i)))})),d(o,n)}return kn(t,n,r,i)}function kn(t,e,n,r){e=e||t.properties||{};var i=H(t),a=K(t);if(!i.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(i=In(i)),o([i],e);case"MultiLineString":var c=[],l=0;return i.forEach((function(t){if(n&&(t=In(t)),r){var e=function(t){var e=t[1],n=t[3];return Math.abs(t[0]-t[2])*Math.abs(e-n)}(V(s(t)));e>l?(c.unshift(t),l=e):c.push(t)}else c.push(t)})),o(c,e);default:throw new Error("geometry type "+a+" is not supported")}}function In(t){var e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]||t.push(e),t}function Dn(t,e,n){var r,i,o,a,s,c=t.length,l=Rn(t[0],e),u=[];for(n||(n=[]),r=1;r<c;r++){for(i=t[r-1],a=s=Rn(o=t[r],e);;){if(!(l|a)){u.push(i),a!==s?(u.push(o),r<c-1&&(n.push(u),u=[])):r===c-1&&u.push(o);break}if(l&a)break;l?l=Rn(i=Nn(i,o,l,e),e):a=Rn(o=Nn(i,o,a,e),e)}l=s}return u.length&&n.push(u),n}function Nn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Rn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function zn(t,e){for(var n=[],r=0;r<t.length;r++){var i=ma.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Fn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function jn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?t===e:function(t,e,n){var r,i;if(Bn(t)||Bn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Fn(t))return!!Fn(e)&&jn(t=ga.call(t),e=ga.call(e),n);if(qn(t)){if(!qn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),a=Object.keys(e)}catch(t){return!1}if(o.length!==a.length)return!1;for(o.sort(),a.sort(),r=o.length-1;r>=0;r--)if(o[r]!==a[r])return!1;for(r=o.length-1;r>=0;r--)if(!jn(t[i=o[r]],e[i],n))return!1;return typeof t==typeof e}(t,e,n))}function Bn(t){return null==t}function qn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function Vn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],a=Ve();return a.load(We(t)),F(e,(function(t){var e=!1;L(a.search(t),(function(n){if(!1===e){var o=H(t).sort(),a=H(n).sort();jn(o,a)||(0===i?fn(o[0],n)&&fn(o[1],n):Ge(n,o[0]).properties.dist<=i&&Ge(n,o[1]).properties.dist<=i)?(e=!0,r=r?Yn(r,t):t):(0===i?fn(a[0],t)&&fn(a[1],t):Ge(t,a[0]).properties.dist<=i&&Ge(t,a[1]).properties.dist<=i)&&(r=r?Yn(r,n):n)}})),!1===e&&r&&(o.push(r),r=void 0)})),r&&o.push(r),l(o)}function Yn(t,e){var n=H(e),r=H(t),i=r[0],o=r[r.length-1],a=t.geometry.coordinates;return jn(n[0],i)?a.unshift(n[1]):jn(n[0],o)?a.push(n[1]):jn(n[1],i)?a.unshift(n[0]):jn(n[1],o)&&a.push(n[0]),t}function Hn(t){var e=t%360;return e<0&&(e+=360),e}function Wn(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var s=M(e,o,"meters"),c=Y(t),l=function(t,e,n,r){var i=e/(r=void 0===r?Mo:Number(r)),o=t[0]*Math.PI/180,a=b(t[1]),s=b(n),c=i*Math.cos(s),l=a+c;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var u=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),p=Math.abs(u)>1e-11?c/u:Math.cos(a);return[(180*(o+i*Math.sin(s)/p)/Math.PI+540)%360-180,180*l/Math.PI]}(c,s,n);return l[0]+=l[0]-c[0]>180?-360:c[0]-l[0]>180?360:0,r(l,a)}function Un(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],c=t[a+1];a===t.length-1&&(c=t[0]),r=Xn(s,c,e),n<=0&&r>0?function(t,e,n){return Xn(t,e,n)<0}(e,s,i)||(i=s):n>0&&r<=0&&(function(t,e,n){return Xn(t,e,n)>0}(e,s,o)||(o=s)),n=r}return[i,o]}function Xn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Gn(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,i=H(t),o=0,a=1;a<i.length;)n=r||i[0],o+=((r=i[a])[0]-n[0])*(r[1]+n[1]),a++;return o>0}function Jn(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return D(t,(function(t){Jn(t,e)})),t;case"LineString":return $n(H(t),e),t;case"Polygon":return Kn(H(t),e),t;case"MultiLineString":return H(t).forEach((function(t){$n(t,e)})),t;case"MultiPolygon":return H(t).forEach((function(t){Kn(t,e)})),t;case"Point":case"MultiPoint":return t}}function $n(t,e){Gn(t)===e&&t.reverse()}function Kn(t,e){Gn(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Gn(t[n])===e&&t[n].reverse()}function Zn(t,e,n,r){r=r||{};for(var i=Object.keys(ya),o=0;o<i.length;o++){var a=i[o],s=r[a];_a[a]=s=null!=s?s:ya[a]}_a.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var c,l=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},a=e+Math.abs(n),s=0;s<r;++s){o.cells[s]=[];for(var c=0;c<i;++c){var l=0,u=t[s+1][c],p=t[s+1][c+1],d=t[s][c+1],h=t[s][c];if(!(isNaN(u)||isNaN(p)||isNaN(d)||isNaN(h))){l|=u<e?0:u>a?128:64,l|=p<e?0:p>a?32:16,l|=d<e?0:d>a?8:4;var f=+(l|=h<e?0:h>a?2:1),m=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var g=(u+p+d+h)/4;m=g>a?2:g<e?0:1,34===l?1===m?l=35:0===m&&(l=136):136===l?1===m?(l=35,m=4):0===m&&(l=34):17===l?1===m?(l=155,m=4):0===m&&(l=153):68===l?1===m?(l=103,m=4):0===m&&(l=102):153===l?1===m&&(l=155):102===l?1===m&&(l=103):152===l?m<2&&(l=156,m=1):137===l?m<2&&(l=139,m=1):98===l?m<2&&(l=99,m=1):38===l?m<2&&(l=39,m=1):18===l?m>0?(l=156,m=4):l=152:33===l?m>0?(l=139,m=4):l=137:72===l?m>0?(l=99,m=4):l=98:132===l&&(m>0?(l=39,m=4):l=38)}if(0!=l&&170!=l){var y,_,v,b,M,x,w,C;y=_=v=b=M=x=w=C=.5;var S=[];1===l?(v=1-Qn(e,d,h),C=1-Qn(e,u,h),S.push(is[l])):169===l?(v=Qn(a,h,d),C=Qn(a,h,u),S.push(is[l])):4===l?(x=1-Qn(e,p,d),b=Qn(e,h,d),S.push(ns[l])):166===l?(x=Qn(a,d,p),b=1-Qn(a,d,h),S.push(ns[l])):16===l?(M=Qn(e,d,p),_=Qn(e,u,p),S.push(es[l])):154===l?(M=1-Qn(a,p,d),_=1-Qn(a,p,u),S.push(es[l])):64===l?(w=Qn(e,h,u),y=1-Qn(e,p,u),S.push(as[l])):106===l?(w=1-Qn(a,u,h),y=Qn(a,u,p),S.push(as[l])):168===l?(b=Qn(a,h,d),v=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),S.push(rs[l]),S.push(is[l])):2===l?(b=1-Qn(e,d,h),v=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),S.push(rs[l]),S.push(is[l])):162===l?(M=Qn(a,d,p),x=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),S.push(rs[l]),S.push(is[l])):8===l?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),S.push(es[l]),S.push(ns[l])):138===l?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),y=1-Qn(a,p,u),_=1-Qn(e,p,u),S.push(es[l]),S.push(ns[l])):32===l?(M=Qn(a,d,p),x=Qn(e,d,p),y=Qn(e,u,p),_=Qn(a,u,p),S.push(es[l]),S.push(ns[l])):42===l?(C=1-Qn(a,u,h),w=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p),S.push(os[l]),S.push(as[l])):128===l&&(C=Qn(e,h,u),w=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u),S.push(os[l]),S.push(as[l])),5===l?(x=1-Qn(e,p,d),C=1-Qn(e,u,h),S.push(ns[l])):165===l?(x=Qn(a,d,p),C=Qn(a,h,u),S.push(ns[l])):20===l?(b=Qn(e,h,d),_=Qn(e,u,p),S.push(rs[l])):150===l?(b=1-Qn(a,d,h),_=1-Qn(a,p,u),S.push(rs[l])):80===l?(M=Qn(e,d,p),w=Qn(e,h,u),S.push(es[l])):90===l?(M=1-Qn(a,p,d),w=1-Qn(a,u,h),S.push(es[l])):65===l?(v=1-Qn(e,d,h),y=1-Qn(e,p,u),S.push(is[l])):105===l?(v=Qn(a,h,d),y=Qn(a,u,p),S.push(is[l])):160===l?(M=Qn(a,d,p),x=Qn(e,d,p),C=Qn(e,h,u),w=Qn(a,h,u),S.push(es[l]),S.push(ns[l])):10===l?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),C=1-Qn(a,u,h),w=1-Qn(e,u,h),S.push(es[l]),S.push(ns[l])):130===l?(b=1-Qn(e,d,h),v=1-Qn(a,d,h),y=1-Qn(a,p,u),_=1-Qn(e,p,u),S.push(rs[l]),S.push(is[l])):40===l?(b=Qn(a,h,d),v=Qn(e,h,d),y=Qn(e,u,p),_=Qn(a,u,p),S.push(rs[l]),S.push(is[l])):101===l?(x=Qn(a,d,p),y=Qn(a,u,p),S.push(ns[l])):69===l?(x=1-Qn(e,p,d),y=1-Qn(e,p,u),S.push(ns[l])):149===l?(C=Qn(a,h,u),_=1-Qn(a,p,u),S.push(os[l])):21===l?(C=1-Qn(e,u,h),_=Qn(e,u,p),S.push(os[l])):86===l?(b=1-Qn(a,d,h),w=1-Qn(a,u,h),S.push(rs[l])):84===l?(b=Qn(e,h,d),w=Qn(e,h,u),S.push(rs[l])):89===l?(M=1-Qn(a,p,d),v=Qn(a,h,d),S.push(is[l])):81===l?(M=Qn(e,d,p),v=1-Qn(e,d,h),S.push(is[l])):96===l?(M=Qn(a,d,p),x=Qn(e,d,p),w=Qn(e,h,u),y=Qn(a,u,p),S.push(es[l]),S.push(ns[l])):74===l?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),w=1-Qn(a,u,h),y=1-Qn(e,p,u),S.push(es[l]),S.push(ns[l])):24===l?(M=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),_=Qn(e,u,p),S.push(es[l]),S.push(is[l])):146===l?(M=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),_=1-Qn(a,p,u),S.push(es[l]),S.push(is[l])):6===l?(x=1-Qn(e,p,d),b=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),S.push(ns[l]),S.push(rs[l])):164===l?(x=Qn(a,d,p),b=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),S.push(ns[l]),S.push(rs[l])):129===l?(v=1-Qn(e,d,h),C=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u),S.push(is[l]),S.push(os[l])):41===l?(v=Qn(a,h,d),C=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p),S.push(is[l]),S.push(os[l])):66===l?(b=1-Qn(e,d,h),v=1-Qn(a,d,h),w=1-Qn(a,u,h),y=1-Qn(e,p,u),S.push(rs[l]),S.push(is[l])):104===l?(b=Qn(a,h,d),v=Qn(e,h,d),w=Qn(e,h,u),y=Qn(a,u,p),S.push(is[l]),S.push(ss[l])):144===l?(M=Qn(e,d,p),C=Qn(e,h,u),w=Qn(a,h,u),_=1-Qn(a,p,u),S.push(es[l]),S.push(as[l])):26===l?(M=1-Qn(a,p,d),C=1-Qn(a,u,h),w=1-Qn(e,u,h),_=Qn(e,u,p),S.push(es[l]),S.push(as[l])):36===l?(x=Qn(a,d,p),b=Qn(e,h,d),y=Qn(e,u,p),_=Qn(a,u,p),S.push(ns[l]),S.push(rs[l])):134===l?(x=1-Qn(e,p,d),b=1-Qn(a,d,h),y=1-Qn(a,p,u),_=1-Qn(e,p,u),S.push(ns[l]),S.push(rs[l])):9===l?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),v=Qn(a,h,d),C=1-Qn(e,u,h),S.push(es[l]),S.push(ns[l])):161===l?(M=Qn(a,d,p),x=Qn(e,d,p),v=1-Qn(e,d,h),C=Qn(a,h,u),S.push(es[l]),S.push(ns[l])):37===l?(x=Qn(a,d,p),C=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p),S.push(ns[l]),S.push(os[l])):133===l?(x=1-Qn(e,p,d),C=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u),S.push(ns[l]),S.push(os[l])):148===l?(b=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),_=1-Qn(a,p,u),S.push(rs[l]),S.push(as[l])):22===l?(b=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),_=Qn(e,u,p),S.push(rs[l]),S.push(as[l])):82===l?(M=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),w=1-Qn(a,u,h),S.push(es[l]),S.push(is[l])):88===l?(M=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),w=Qn(e,h,u),S.push(es[l]),S.push(is[l])):73===l?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),v=Qn(a,h,d),y=1-Qn(e,p,u),S.push(es[l]),S.push(ns[l])):97===l?(M=Qn(a,d,p),x=Qn(e,d,p),v=1-Qn(e,d,h),y=Qn(a,u,p),S.push(es[l]),S.push(ns[l])):145===l?(M=Qn(e,d,p),v=1-Qn(e,d,h),C=Qn(a,h,u),_=1-Qn(a,p,u),S.push(es[l]),S.push(os[l])):25===l?(M=1-Qn(a,p,d),v=Qn(a,h,d),C=1-Qn(e,u,h),_=Qn(e,u,p),S.push(es[l]),S.push(os[l])):70===l?(x=1-Qn(e,p,d),b=1-Qn(a,d,h),w=1-Qn(a,u,h),y=1-Qn(e,p,u),S.push(ns[l]),S.push(rs[l])):100===l?(x=Qn(a,d,p),b=Qn(e,h,d),w=Qn(e,h,u),y=Qn(a,u,p),S.push(ns[l]),S.push(rs[l])):34===l?(0===m?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u)):(M=Qn(a,d,p),x=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p)),S.push(es[l]),S.push(ns[l]),S.push(os[l]),S.push(as[l])):35===l?(4===m?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u)):(M=Qn(a,d,p),x=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p)),S.push(es[l]),S.push(ns[l]),S.push(is[l]),S.push(as[l])):136===l?(0===m?(M=Qn(a,d,p),x=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p)):(M=1-Qn(e,p,d),x=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u)),S.push(es[l]),S.push(ns[l]),S.push(os[l]),S.push(as[l])):153===l?(0===m?(M=Qn(e,d,p),v=1-Qn(e,d,h),C=1-Qn(e,u,h),_=Qn(e,u,p)):(M=1-Qn(a,p,d),v=Qn(a,h,d),C=Qn(a,h,u),_=1-Qn(a,p,u)),S.push(es[l]),S.push(is[l])):102===l?(0===m?(x=1-Qn(e,p,d),b=Qn(e,h,d),w=Qn(e,h,u),y=1-Qn(e,p,u)):(x=Qn(a,d,p),b=1-Qn(a,d,h),w=1-Qn(a,u,h),y=Qn(a,u,p)),S.push(ns[l]),S.push(as[l])):155===l?(4===m?(M=Qn(e,d,p),v=1-Qn(e,d,h),C=1-Qn(e,u,h),_=Qn(e,u,p)):(M=1-Qn(a,p,d),v=Qn(a,h,d),C=Qn(a,h,u),_=1-Qn(a,p,u)),S.push(es[l]),S.push(os[l])):103===l?(4===m?(x=1-Qn(e,p,d),b=Qn(e,h,d),w=Qn(e,h,u),y=1-Qn(e,p,u)):(x=Qn(a,d,p),b=1-Qn(a,d,h),w=1-Qn(a,u,h),y=Qn(a,u,p)),S.push(ns[l]),S.push(rs[l])):152===l?(0===m?(M=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),_=Qn(e,u,p)):(M=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),_=1-Qn(a,p,u)),S.push(es[l]),S.push(rs[l]),S.push(is[l])):156===l?(4===m?(M=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),_=Qn(e,u,p)):(M=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),_=1-Qn(a,p,u)),S.push(es[l]),S.push(is[l]),S.push(as[l])):137===l?(0===m?(M=Qn(a,d,p),x=Qn(e,d,p),v=1-Qn(e,d,h),C=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p)):(M=1-Qn(e,p,d),x=1-Qn(a,p,d),v=Qn(a,h,d),C=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u)),S.push(es[l]),S.push(ns[l]),S.push(is[l])):139===l?(4===m?(M=Qn(a,d,p),x=Qn(e,d,p),v=1-Qn(e,d,h),C=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p)):(M=1-Qn(e,p,d),x=1-Qn(a,p,d),v=Qn(a,h,d),C=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u)),S.push(es[l]),S.push(ns[l]),S.push(os[l])):98===l?(0===m?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),w=Qn(e,h,u),y=1-Qn(e,p,u)):(M=Qn(a,d,p),x=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),w=1-Qn(a,u,h),y=Qn(a,u,p)),S.push(es[l]),S.push(ns[l]),S.push(as[l])):99===l?(4===m?(M=1-Qn(e,p,d),x=1-Qn(a,p,d),b=Qn(a,h,d),v=Qn(e,h,d),w=Qn(e,h,u),y=1-Qn(e,p,u)):(M=Qn(a,d,p),x=Qn(e,d,p),b=1-Qn(e,d,h),v=1-Qn(a,d,h),w=1-Qn(a,u,h),y=Qn(a,u,p)),S.push(es[l]),S.push(ns[l]),S.push(is[l])):38===l?(0===m?(x=1-Qn(e,p,d),b=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u)):(x=Qn(a,d,p),b=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p)),S.push(ns[l]),S.push(os[l]),S.push(as[l])):39===l?(4===m?(x=1-Qn(e,p,d),b=Qn(e,h,d),C=Qn(e,h,u),w=Qn(a,h,u),y=1-Qn(a,p,u),_=1-Qn(e,p,u)):(x=Qn(a,d,p),b=1-Qn(a,d,h),C=1-Qn(a,u,h),w=1-Qn(e,u,h),y=Qn(e,u,p),_=Qn(a,u,p)),S.push(ns[l]),S.push(rs[l]),S.push(as[l])):85===l&&(M=1,x=0,b=1,v=0,C=0,w=1,y=0,_=1),(y<0||y>1||_<0||_>1||M<0||M>1||b<0||b>1||C<0||C>1||w<0||w>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+f+" "+u+","+p+","+d+","+h+" "+m+" "+y+" "+_+" "+M+" "+x+" "+b+" "+v+" "+C+" "+w),o.cells[s][c]={cval:l,cval_real:f,flipped:m,topleft:y,topright:_,righttop:M,rightbottom:x,bottomright:b,bottomleft:v,leftbottom:C,lefttop:w,edges:S}}}}}return o}(t,e,n);return _a.polygons?(_a.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),c=function(t){var e=[],n=0;return t.cells.forEach((function(t,r){t.forEach((function(t,i){if(void 0!==t){var o=ls[t.cval](t);"object"==typeof o&&tr(o)?"object"==typeof o[0]&&tr(o[0])?"object"==typeof o[0][0]&&tr(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=t})):(o.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(l)):(_a.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),c=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var a=0;a<r;a++)if(void 0!==t.cells[o][a]&&t.cells[o][a].edges.length>0){var s=function(t){if(t.edges.length>0){var e=t.cval_real;switch(t.edges[t.edges.length-1]){case 0:return e&ba?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return e&Ma?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return e&Ma?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return e&xa?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return e&ba?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return e&Ma?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return e&Ma?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return e&xa?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return e&Ma?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return e&xa?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return e&xa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return e&va?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return e&Ma?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return e&xa?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return e&xa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return e&va?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return e&Ma?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return e&va?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return e&xa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return e&va?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return e&va?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return e&ba?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return e&va?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return e&ba?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][a]),c=null,l=a,u=o;null!==s&&i.push([s.p[0]+l,s.p[1]+u]);do{if(null===(c=function(t,e,n,r){var i,o,a,s,c,l=t.cval;switch(e){case-1:switch(r){case 0:i=ns[l],a=ka[l],s=Ia[l],c=Da[l];break;default:i=es[l],a=Aa[l],s=Pa[l],c=La[l]}break;case 1:switch(r){case 0:i=os[l],a=Ha[l],s=Wa[l],c=Ua[l];break;default:i=as[l],a=qa[l],s=Va[l],c=Ya[l]}break;default:switch(n){case-1:switch(r){case 0:i=ss[l],a=wa[l],s=Ca[l],c=Sa[l];break;default:i=cs[l],a=Ea[l],s=Ta[l],c=Oa[l]}break;case 1:switch(r){case 0:i=is[l],a=Na[l],s=Ra[l],c=za[l];break;default:i=rs[l],a=Fa[l],s=ja[l],c=Ba[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:l&ba?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:l&Ma?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:l&Ma?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:l&xa?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:l&ba?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:l&Ma?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:l&Ma?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:l&xa?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:l&Ma?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:l&xa?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:l&xa?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:l&va?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:l&Ma?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:l&xa?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:l&xa?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:l&va?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:l&Ma?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:l&va?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:l&xa?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:l&va?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:l&va?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:l&ba?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:l&va?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:l&ba?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==c||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+a+" "+s+" "+c)),{p:[e,n],x:a,y:s,o:c}}(t.cells[u][l],s.x,s.y,s.o)))break;if(i.push([c.p[0]+l,c.p[1]+u]),l+=c.x,s=c,(u+=c.y)<0||u>=n||l<0||l>=r||void 0===t.cells[u][l]){var p=function(t,e,n,r,i,o){for(var a=t.cells[n][e],s=a.cval_real,c=e+r,l=n+i,u=[],p=!1;!p;){if(void 0===t.cells[l]||void 0===t.cells[l][c])if(s=(a=t.cells[l-=i][c-=r]).cval_real,-1===i)if(0===o)if(s&xa)u.push([c,l]),r=-1,i=0,o=0;else{if(!(s&Ma)){u.push([c+a.bottomright,l]),r=0,i=1,o=1,p=!0;break}u.push([c+1,l]),r=1,i=0,o=0}else{if(!(s&xa)){if(s&Ma){u.push([c+a.bottomright,l]),r=0,i=1,o=1,p=!0;break}u.push([c+a.bottomleft,l]),r=0,i=1,o=0,p=!0;break}u.push([c,l]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(s&ba)){if(s&va){u.push([c+a.topleft,l+1]),r=0,i=-1,o=0,p=!0;break}u.push([c+a.topright,l+1]),r=0,i=-1,o=1,p=!0;break}u.push([c+1,l+1]),r=1,i=0,o=1}else u.push([c+1,l+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(s&va)){if(s&xa){u.push([c,l+a.leftbottom]),r=1,i=0,o=0,p=!0;break}u.push([c,l+a.lefttop]),r=1,i=0,o=1,p=!0;break}u.push([c,l+1]),r=0,i=1,o=0}else{if(!(s&va)){console.log("MarchingSquaresJS-isoBands: wtf");break}u.push([c,l+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(s&Ma)){u.push([c+1,l+a.rightbottom]),r=-1,i=0,o=0,p=!0;break}u.push([c+1,l]),r=0,i=-1,o=1}else{if(!(s&Ma)){if(s&ba){u.push([c+1,l+a.righttop]),r=-1,i=0,o=1;break}u.push([c+1,l+a.rightbottom]),r=-1,i=0,o=0,p=!0;break}u.push([c+1,l]),r=0,i=-1,o=1}}else if(s=(a=t.cells[l][c]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][c])r=0,i=-1,o=1;else{if(!(s&xa)){u.push([c+a.bottomright,l]),r=0,i=1,o=1,p=!0;break}u.push([c,l])}else{if(!(s&va)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+c+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][c])r=0,i=1,o=0;else{if(!(s&ba)){u.push([c+a.topleft,l+1]),r=0,i=-1,o=0,p=!0;break}u.push([c+1,l+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][c+1])r=1,i=0,o=1;else{if(!(s&Ma)){u.push([c+1,l+a.righttop]),r=-1,i=0,o=1,p=!0;break}u.push([c+1,l]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][c-1])r=-1,i=0,o=0;else{if(!(s&va)){u.push([c,l+a.leftbottom]),r=1,i=0,o=0,p=!0;break}u.push([c,l+1]),r=0,i=1,o=0}}if(l+=i,(c+=r)===e&&l===n)break}return{path:u,i:c,j:l,x:r,y:i,o}}(t,l-=c.x,u-=c.y,c.x,c.y,c.o);if(null===p)break;p.path.forEach((function(t){i.push(t)})),l=p.i,u=p.j,s=p}}while(void 0!==t.cells[u][l]&&t.cells[u][l].edges.length>0);e.push(i),i=[],t.cells[o][a].edges.length>0&&a--}return e}(l)),"function"==typeof _a.successCallback&&_a.successCallback(c),c}function Qn(t,e,n){return(t-e)/(n-e)}function tr(t){return t.constructor.toString().indexOf("Array")>-1}function er(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=le(t)),!1!==i&&void 0!==i||(t=Rt(t)),T(t,(function(t){var n=Je(r,t)+e,i=Ke(r,t),o=H(Wn(r,i,n));t[0]=o[0],t[1]=o[1]}))),t}function nr(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=Rt(t)),"FeatureCollection"!==t.type||o?rr(t,e,r):(L(t,(function(n,i){t.features[i]=rr(n,e,r)})),t)}function rr(t,e,n){var i="Point"===K(t);return n=function(t,e){if(null!=e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return Y(e);var n=t.bbox?t.bbox:V(t),i=n[0],o=n[1],a=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([a,o]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,s]);case"ne":case"northeast":case"eastnorth":case"topright":return r([a,s]);case"center":return ce(t);case void 0:case null:case"centroid":return le(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||T(t,(function(t){var r=Ke(n,t),i=Je(n,t),o=H(Wn(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t}function ir(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function or(t,e){return t[0]*e[1]-e[0]*t[1]}function ar(t,e,n){var r=[],i=y(e,n),o=H(t),a=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]));return[[t[0]+n*(e[1]-t[1])/r,t[1]+n*(t[0]-e[0])/r],[e[0]+n*(e[1]-t[1])/r,e[1]+n*(t[0]-e[0])/r]]}(t,o[e+1],i);if(r.push(n),e>0){var s=r[e-1],c=function(t,e){return!function(t,e){return 0===or(ir(t),ir(e))}(t,e)&&function(t,e){var n=t[0],r=ir(t),i=e[0],o=ir(e),a=or(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(or(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(i,n),o)/a,r))}(t,e)}(n,s);!1!==c&&(s[1]=c,n[0]=c),a.push(s[0]),e===o.length-2&&(a.push(n[0]),a.push(n[1]))}2===o.length&&(a.push(n[0]),a.push(n[1]))}})),s(a,t.properties)}function sr(t,e,n){return Math.sign((e[0]-t[0])*(n[1]-e[1])-(n[0]-e[0])*(e[1]-t[1]))}function cr(t,e){return e.geometry.coordinates[0].every((function(e){return Ot(r(e),t)}))}function lr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=e[0]-t[0],i=e[1]-t[1];return(n[0]-t[0])*i-(n[1]-t[1])*r==0&&(Math.abs(r)>=Math.abs(i)?r>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:i>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function ur(t,e){return Ue(e,An(t)).features.length>0}function pr(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function dr(t,e){return t[0]===e[0]&&t[1]===e[1]}function hr(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;0!==a&&a!==e.coordinates.length-2||(s=!1),gr(e.coordinates[a],e.coordinates[a+1],t.coordinates[o],s)?n=!0:r=!0}o++}return n&&r}function fr(t,e){return Ue(t,An(e)).features.length>0}function mr(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,a=0;a<o&&n&&i;)Ot(r(t.coordinates[0][a]),e)?n=!0:i=!0,a++;return i&&i}function gr(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];return 0==(n[0]-t[0])*o-(n[1]-t[1])*i&&(r?Math.abs(i)>=Math.abs(o)?i>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:o>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(i)>=Math.abs(o)?i>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:o>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function yr(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function _r(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function vr(t,e){return ys(t,e,{strict:!0})}function br(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=K(t);if(n!==K(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new vs({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var i=I(t),o=I(e);i.forEach((function(t){o.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&r++}))}));break;case"LineString":case"MultiLineString":F(t,(function(t){F(e,(function(e){Vn(t,e).features.length&&r++}))}));break;case"Polygon":case"MultiPolygon":F(t,(function(t){F(e,(function(e){Ue(t,e).features.length&&r++}))}))}return r>0}function Mr(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function xr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function wr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Cr(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Sr(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Sr(t,e,n){this.x=t,this.y=e,this.weight=n}function Er(t){this.content=[],this.scoreFunction=t}function Tr(t){return t[0]}function Or(t){return t[1]}function Ar(){this._=null}function Pr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Lr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function kr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ir(t){for(;t.L;)t=t.L;return t}function Dr(t,e,n,r){var i=[null,null],o=Ns.push(i)-1;return i.left=t,i.right=e,n&&Rr(i,t,e,n),r&&Rr(i,e,t,r),Is[t.index].halfedges.push(o),Is[e.index].halfedges.push(o),i}function Nr(t,e,n){var r=[e,n];return r.left=t,r}function Rr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function zr(t,e,n,r,i){var o,a=t[0],s=t[1],c=a[0],l=a[1],u=0,p=1,d=s[0]-c,h=s[1]-l;if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>u&&(u=o)}if(o=r-c,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<p&&(p=o)}if(o=n-l,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<p&&(p=o)}else if(h>0){if(o>p)return;o>u&&(u=o)}if(o=i-l,h||!(o<0)){if(o/=h,h<0){if(o>p)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<p&&(p=o)}return!(u>0||p<1)||(u>0&&(t[0]=[c+u*d,l+u*h]),p<1&&(t[1]=[c+p*d,l+p*h]),!0)}}}}}function Fr(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,c=t[0],l=t.left,u=t.right,p=l[0],d=l[1],h=u[0],f=u[1],m=(p+h)/2;if(f===d){if(m<e||m>=r)return;if(p>h){if(c){if(c[1]>=i)return}else c=[m,n];o=[m,i]}else{if(c){if(c[1]<n)return}else c=[m,i];o=[m,n]}}else if(s=(d+f)/2-(a=(p-h)/(f-d))*m,a<-1||a>1)if(p>h){if(c){if(c[1]>=i)return}else c=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(c){if(c[1]<n)return}else c=[(i-s)/a,i];o=[(n-s)/a,n]}else if(d<f){if(c){if(c[0]>=r)return}else c=[e,a*e+s];o=[r,a*r+s]}else{if(c){if(c[0]<e)return}else c=[r,a*r+s];o=[e,a*e+s]}return t[0]=c,t[1]=o,!0}function jr(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Br(t,e){return e[+(e.left!==t.site)]}function qr(t,e){return e[+(e.left===t.site)]}function Vr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],c=r[0]-a,l=r[1]-s,u=o[0]-a,p=o[1]-s,d=2*(c*p-l*u);if(!(d>=-js)){var h=c*c+l*l,f=u*u+p*p,m=(p*h-l*f)/d,g=(c*f-u*h)/d,y=Rs.pop()||new function(){Pr(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=i,y.x=m+a,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=y;for(var _=null,v=Ds._;v;)if(y.y<v.y||y.y===v.y&&y.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}Ds.insert(_,y),_||(Ls=y)}}}}function Yr(t){var e=t.circle;e&&(e.P||(Ls=e.N),Ds.remove(e),Rs.push(e),Pr(e),t.circle=null)}function Hr(t){var e=zs.pop()||new function(){Pr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Wr(t){Yr(t),ks.remove(t),zs.push(t),Pr(t)}function Ur(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Wr(t);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<Fs&&Math.abs(r-c.circle.cy)<Fs;)o=c.P,s.unshift(c),Wr(c),c=o;s.unshift(c),Yr(c);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Fs&&Math.abs(r-l.circle.cy)<Fs;)a=l.N,s.push(l),Wr(l),l=a;s.push(l),Yr(l);var u,p=s.length;for(u=1;u<p;++u)Rr((l=s[u]).edge,(c=s[u-1]).site,l.site,i);(l=s[p-1]).edge=Dr((c=s[0]).site,l.site,null,i),Vr(c),Vr(l)}function Xr(t){for(var e,n,r,i,o=t[0],a=t[1],s=ks._;s;)if((r=Gr(s,a)-o)>Fs)s=s.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return Gr(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>Fs)){r>-Fs?(e=s.P,n=s):i>-Fs?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Is[t.index]={site:t,halfedges:[]}}(t);var c=Hr(t);if(ks.insert(e,c),e||n){if(e===n)return Yr(e),n=Hr(e.site),ks.insert(c,n),c.edge=n.edge=Dr(e.site,c.site),Vr(e),void Vr(n);if(n){Yr(e),Yr(n);var l=e.site,u=l[0],p=l[1],d=t[0]-u,h=t[1]-p,f=n.site,m=f[0]-u,g=f[1]-p,y=2*(d*g-h*m),_=d*d+h*h,v=m*m+g*g,b=[(g*_-h*v)/y+u,(d*v-m*_)/y+p];Rr(n.edge,l,f,b),c.edge=Dr(l,t,null,b),n.edge=Dr(t,f,null,b),Vr(e),Vr(n)}else c.edge=Dr(e.site,c.site)}}function Gr(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],c=n[1],l=c-e;if(!l)return s;var u=s-r,p=1/o-1/l,d=u/l;return p?(-d+Math.sqrt(d*d-2*p*(u*u/(-2*l)-c+l/2+i-o/2)))/p+r:(r+s)/2}function Jr(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function $r(t,e){return e[1]-t[1]||e[0]-t[0]}function Kr(t,e){var n,r,i,o=t.sort($r).pop();for(Ns=[],Is=new Array(t.length),ks=new Ar,Ds=new Ar;;)if(i=Ls,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Xr(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Ur(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Is.length;i<o;++i)if((t=Is[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=jr(t,Ns[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],c=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Ns.length;o--;)Fr(i=Ns[o],t,e,n,r)&&zr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Fs||Math.abs(i[0][1]-i[1][1])>Fs)||delete Ns[o]}(a,s,c,l),function(t,e,n,r){var i,o,a,s,c,l,u,p,d,h,f,m,g=Is.length,y=!0;for(i=0;i<g;++i)if(o=Is[i]){for(a=o.site,s=(c=o.halfedges).length;s--;)Ns[c[s]]||c.splice(s,1);for(s=0,l=c.length;s<l;)f=(h=qr(o,Ns[c[s]]))[0],m=h[1],p=(u=Br(o,Ns[c[++s%l]]))[0],d=u[1],(Math.abs(f-p)>Fs||Math.abs(m-d)>Fs)&&(c.splice(s,0,Ns.push(Nr(a,h,Math.abs(f-t)<Fs&&r-m>Fs?[t,Math.abs(p-t)<Fs?d:r]:Math.abs(m-r)<Fs&&n-f>Fs?[Math.abs(d-r)<Fs?p:n,r]:Math.abs(f-n)<Fs&&m-e>Fs?[n,Math.abs(p-n)<Fs?d:e]:Math.abs(m-e)<Fs&&f-t>Fs?[Math.abs(d-e)<Fs?p:t,e]:null))-1),++l);l&&(y=!1)}if(y){var _,v,b,M=1/0;for(i=0,y=null;i<g;++i)(o=Is[i])&&(b=(_=(a=o.site)[0]-t)*_+(v=a[1]-e)*v)<M&&(M=b,y=o);if(y){var x=[t,e],w=[t,r],C=[n,r],S=[n,e];y.halfedges.push(Ns.push(Nr(a=y.site,x,w))-1,Ns.push(Nr(a,w,C))-1,Ns.push(Nr(a,C,S))-1,Ns.push(Nr(a,S,x))-1)}}for(i=0;i<g;++i)(o=Is[i])&&(o.halfedges.length||delete Is[i])}(a,s,c,l)}this.edges=Ns,this.cells=Is,ks=Ds=Ns=Is=null}function Zr(t){return(t=t.slice()).push(t[0]),o([t])}function Qr(t,e,n,r){var i=(r=r||{}).steps||64,a=r.units||"kilometers",s=r.angle||0,c=r.pivot||t,l=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(r))throw new Error("options must be an object");if(!w(i))throw new Error("steps must be a number");if(!w(s))throw new Error("angle must be a number");var u=Y(t);if("degrees"===a)var p=b(s);else e=Wn(t,e,90,{units:a}),n=Wn(t,n,0,{units:a}),e=Y(e)[0]-u[0],n=Y(n)[1]-u[1];for(var d=[],h=0;h<i;h+=1){var f=-360*h/i,m=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(ti(f),2)),g=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(ti(f),2));if(f<-90&&f>=-270&&(m=-m),f<-180&&f>=-360&&(g=-g),"degrees"===a){var y=m*Math.cos(p)+g*Math.sin(p),_=g*Math.cos(p)-m*Math.sin(p);m=y,g=_}d.push([m+u[0],g+u[1]])}return d.push(d[0]),"degrees"===a?o([d],l):er(o([d],l),s,{pivot:c})}function ti(t){var e=t*Math.PI/180;return Math.tan(e)}function ei(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.weight;if(!t)throw new Error("geojson is required");var o=0,a=0,s=0;return D(t,(function(t,e,n){var r=n[i];if(!w(r=null==r?1:r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&T(t,(function(t){o+=t[0]*r,a+=t[1]*r,s+=r}))})),r([o/s,a/s],n)}function ni(t,e,n,i){var o=n.properties.tolerance||.001,a=0,s=0,c=0,l=0;if(L(n,(function(e){var n=e.properties.weight,r=null==n?1:n;if(!w(r=Number(r)))throw new Error("weight value must be a number");if(r>0){l+=1;var i=r*Nt(e,t);0===i&&(i=1);var o=r/i;a+=e.geometry.coordinates[0]*o,s+=e.geometry.coordinates[1]*o,c+=o}})),l<1)throw new Error("no features to measure");var u=a/c,p=s/c;return 1===l||0===i||Math.abs(u-e[0])<o&&Math.abs(p-e[1])<o?r([u,p],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([u,p]),ni([u,p],t,n,i-1))}function ri(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function ii(t){if(C(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*ci(),180*ci()]}function oi(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox;null!=t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(ii(n)));return l(i)}function ai(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;null!=t||(t=1),w(r)||(r=10),w(i)||(i=10);for(var a=[],s=0;s<t;s++){var c=[],u=Array.apply(null,new Array(r+1)).map(Math.random);u.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),u.forEach((function(t){t=2*t*Math.PI/u[u.length-1];var e=Math.random();c.push([e*i*Math.sin(t),e*i*Math.cos(t)])})),c[c.length-1]=c[0],c=c.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(ii(n))),a.push(o([c]))}return l(a)}function si(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;null!=t||(t=1),(!w(r)||r<2)&&(r=10),w(i)||(i=1e-4),w(o)||(o=Math.PI/8);for(var a=[],c=0;c<t;c++){for(var u=[ii(n)],p=0;p<r-1;p++){var d=(0===p?2*Math.random()*Math.PI:Math.tan((u[p][1]-u[p-1][1])/(u[p][0]-u[p-1][0])))+(Math.random()-.5)*o*2,h=Math.random()*i;u.push([u[p][0]+h*Math.cos(d),u[p][1]+h*Math.sin(d)])}a.push(s(u))}return l(a)}function ci(){return Math.random()-.5}function li(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return L(t,(function(t){hi(t.properties,e)&&n.push(t)})),l(n)}function ui(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var r=di(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var a=i[o],s=r[a],c=[],u=0;u<s.length;u++)c.push(t.features[s[u]]);n(l(c),a,o)}}function pi(t,e,n,r){var i=r;return ui(t,e,(function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)})),i}function di(t,e){var n={};return L(t,(function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}})),n}function hi(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!hi(t,e[r]))return!1;return!0}return fi(t,e)}function fi(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function mi(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function gi(){}function yi(t){this.message=t||""}function _i(t){this.message=t||""}function vi(){}function bi(t){return null===t?al:t.color}function Mi(t){return null===t?null:t.parent}function xi(t,e){null!==t&&(t.color=e)}function wi(t){return null===t?null:t.left}function Ci(t){return null===t?null:t.right}function Si(){this.root_=null,this.size_=0}function Ei(){}function Ti(){this.array_=[],arguments[0]instanceof Wc&&this.addAll(arguments[0])}function Oi(){}function Ai(t){this.message=t||""}function Pi(){this.array_=[]}function Li(t){switch(t.type){case"Polygon":return cn(t)>1?t:null;case"MultiPolygon":var e=[];if(R(t,(function(t){cn(t)>1&&e.push(t.geometry.coordinates)})),e.length)return{type:"MultiPolygon",coordinates:e}}}function ki(){this.reset()}function Ii(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}function Di(t){return t>1?ph:t<-1?-ph:Math.asin(t)}function Ni(){}function Ri(t,e){t&&Eh.hasOwnProperty(t.type)&&Eh[t.type](t,e)}function zi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function Fi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)zi(t[n],e,1);e.polygonEnd()}function ji(t){return[_h(t[1],t[0]),Di(t[2])]}function Bi(t){var e=t[0],n=t[1],r=vh(n);return[r*vh(e),r*xh(e),xh(n)]}function qi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Vi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Yi(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Hi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Wi(t){var e=wh(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ui(t,e){return[t>uh?t-hh:t<-uh?t+hh:t,e]}function Xi(t,e,n){return(t%=hh)?e||n?Oh(Ji(t),$i(e,n)):Ji(t):e||n?$i(e,n):Ui}function Gi(t){return function(e,n){return[(e+=t)>uh?e-hh:e<-uh?e+hh:e,n]}}function Ji(t){var e=Gi(t);return e.invert=Gi(-t),e}function $i(t,e){function n(t,e){var n=vh(e),s=vh(t)*n,c=xh(t)*n,l=xh(e),u=l*r+s*i;return[_h(c*o-u*a,s*r-l*i),Di(u*o+c*a)]}var r=vh(t),i=xh(t),o=vh(e),a=xh(e);return n.invert=function(t,e){var n=vh(e),s=vh(t)*n,c=xh(t)*n,l=xh(e),u=l*o-c*a;return[_h(c*o+l*a,s*r+u*i),Di(u*r-s*i)]},n}function Ki(t,e){(e=Bi(e))[0]-=t,Wi(e);var n=function(t){return t>1?0:t<-1?uh:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+hh-lh)%hh}function Zi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Qi(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function to(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var u=0,p=0;if(null==i||(u=a(i,s))!==(p=a(o,s))||c(i,o)<0^s>0)do{l.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==p);else l.point(o[0],o[1])}function a(r,i){return gh(r[0]-t)<lh?i>0?0:3:gh(r[0]-n)<lh?i>0?2:1:gh(r[1]-e)<lh?i>0?1:0:i>0?3:2}function s(t,e){return c(t.x,e.x)}function c(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function c(t,e){i(t,e)&&M.point(t,e)}function l(o,a){var s=i(o,a);if(p&&d.push([o,a]),v)h=o,f=a,m=s,v=!1,s&&(M.lineStart(),M.point(o,a));else if(s&&_)M.point(o,a);else{var c=[g=Math.max(Rh,Math.min(Nh,g)),y=Math.max(Rh,Math.min(Nh,y))],l=[o=Math.max(Rh,Math.min(Nh,o)),a=Math.max(Rh,Math.min(Nh,a))];Ph(c,l,t,e,n,r)?(_||(M.lineStart(),M.point(c[0],c[1])),M.point(l[0],l[1]),s||M.lineEnd(),b=!1):s&&(M.lineStart(),M.point(o,a),b=!1)}g=o,y=a,_=s}var u,p,d,h,f,m,g,y,_,v,b,M=a,x=Ah(),w={point:c,lineStart:function(){w.point=l,p&&p.push(d=[]),v=!0,_=!1,g=y=NaN},lineEnd:function(){u&&(l(h,f),m&&_&&x.rejoin(),u.push(x.result())),w.point=c,_&&M.lineEnd()},polygonStart:function(){M=x,u=[],p=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=p.length;n<i;++n)for(var o,a,s=p[n],c=1,l=s.length,u=s[0],d=u[0],h=u[1];c<l;++c)o=d,a=h,d=(u=s[c])[0],h=u[1],a<=r?h>r&&(d-o)*(r-a)>(h-a)*(t-o)&&++e:h<=r&&(d-o)*(r-a)<(h-a)*(t-o)&&--e;return e}(),n=b&&e,i=(u=Dh(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&kh(u,s,e,o,a),a.polygonEnd()),M=a,u=p=d=null}};return w}}function eo(t){return t.length>1}function no(t,e){return((t=t.x)[0]<0?t[1]-ph-lh:ph-t[1])-((e=e.x)[0]<0?e[1]-ph-lh:ph-e[1])}function ro(t){return function(e){var n=new io;for(var r in t)n[r]=t[r];return n.stream=e,n}}function io(){}function oo(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Th(n,t.stream(Yh));var a=Yh.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),c=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([c,l])}function ao(t,e){return[t,Mh(Ch((ph+e)/2))]}function so(t,e){return[Mh(Ch((ph+e)/2)),-t]}function co(t,n,r,i){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var s=[];return D(t,(function(t){var e=co(t,n,r,i);e&&s.push(e)})),l(s)}var c,u=V(t),p=u[1]>50&&u[3]>50;c=p?{type:a.type,coordinates:lo(a.coordinates,po(a))}:Ze(a);var d,h=(new Jl).read(c),f=m(g(n,r),"meters"),y=Bp.bufferOp(h,f);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((y=(new $l).write(y)).coordinates))return(d=p?{type:y.type,coordinates:uo(y.coordinates,po(a))}:Qe(y)).geometry?d:e(d,o)}function lo(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return lo(t,e)}))}function uo(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return uo(t,e)}))}function po(t){var e=ce(t).geometry.coordinates.reverse(),n=e.map((function(t){return-t}));return $h().center(e).rotate(n).scale(Mo)}function ho(){for(var t=new Jl,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=ah.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new $l).write(e),properties:arguments[0].properties}}function fo(t,n){var r=J(t),i=J(n);if(Gt(vn(i,{precision:4})).coordinates[0].length<4)return null;if(Gt(vn(r,{precision:4})).coordinates[0].length<4)return null;var o=new Jl,a=o.read(vn(r)),s=o.read(vn(i)),c=Kd.intersection(a,s);return c.isEmpty()?null:e((new $l).write(c))}function mo(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach((function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===i||o<i)&&(i=o,r=n)})),r}(t,e)}function go(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,a=n.mask;if(null==e)throw new Error("cellSide is required");if(!w(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(a&&-1===["Polygon","MultiPolygon"].indexOf(K(a)))throw new Error("options.mask must be a (Multi)Polygon");var s=t[0],c=t[1],u=t[2],p=t[3],d=(c+p)/2,h=(s+u)/2,f=2*e/Nt([s,d],[u,d],n)*(u-s),m=2*e/Nt([h,c],[h,p],n)*(p-c),g=f/2,y=2*g,_=Math.sqrt(3)/2*m,v=u-s,b=p-c,M=.75*y,x=_,S=Math.floor((v-y)/(y-g/2)),E=(S*M-g/2-v)/2-g/2+M/2,T=Math.floor((b-_)/_),O=(b-T*_)/2,A=T*_-b>_/2;A&&(O-=_/4);for(var P=[],L=[],k=0;k<6;k++){var I=2*Math.PI/6*k;P.push(Math.cos(I)),L.push(Math.sin(I))}for(var D=[],N=0;N<=S;N++)for(var R=0;R<=T;R++){var z=N%2==1;if(!(0===R&&z||0===R&&A)){var F=N*M+s-E,j=R*x+c+O;if(z&&(j-=_/2),!0===i)(function(t,e,n,r,i,a){for(var s=[],c=0;c<6;c++){var l=[];l.push(t),l.push([t[0]+e*i[c],t[1]+n*a[c]]),l.push([t[0]+e*i[(c+1)%6],t[1]+n*a[(c+1)%6]]),l.push(t),s.push(o([l],r))}return s})([F,j],f/2,m/2,r,P,L).forEach((function(t){a?fo(a,t)&&D.push(t):D.push(t)}));else{var B=function(t,e,n,r,i,a){for(var s=[],c=0;c<6;c++)s.push([t[0]+e*i[c],t[1]+n*a[c]]);return s.push(s[0].slice()),o([s],r)}([F,j],f/2,m/2,r,P,L);a?fo(a,B)&&D.push(B):D.push(B)}}}return l(D)}function yo(t){if(t.features.length<=1)return t;var e=function(t){var e=Lo(),n=[];return R(t,(function(t,e){var r=V(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})})),e.load(n),e}(t),n=[],r={};return R(t,(function(t,i){if(r[i])return!0;for(e.remove({index:i},_o),r[i]=!0;;){var o=V(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var s=a.map((function(t){return r[t.index]=!0,e.remove({index:t.index},_o),t.geojson}));s.push(t),t=ho.apply(this,s)}if(0===a.length)break}n.push(t)})),l(n)}function _o(t,e){return t.index===e.index}function vo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null==e)throw new Error("cellSide is required");if(!w(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],c=t[1],u=t[2],p=t[3],d=e/Nt([s,c],[u,c],n)*(u-s),h=e/Nt([s,c],[s,p],n)*(p-c),f=u-s,m=p-c,g=Math.floor(f/d),y=Math.floor(m/h),_=(m-y*h)/2,v=s+(f-g*d)/2,b=0;b<g;b++){for(var M=c+_,x=0;x<y;x++){var S=o([[[v,M],[v,M+h],[v+d,M+h],[v+d,M],[v,M]]],r);i?fo(i,S)&&a.push(S):a.push(S),M+=h}v+=d}return l(a)}function bo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null==e)throw new Error("cellSide is required");if(!w(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e/Nt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),c=e/Nt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),u=0,p=t[0];p<=t[2];){for(var d=0,h=t[1];h<=t[3];){var f=null,m=null;u%2==0&&d%2==0?(f=o([[[p,h],[p,h+c],[p+s,h],[p,h]]],r),m=o([[[p,h+c],[p+s,h+c],[p+s,h],[p,h+c]]],r)):u%2==0&&d%2==1?(f=o([[[p,h],[p+s,h+c],[p+s,h],[p,h]]],r),m=o([[[p,h],[p,h+c],[p+s,h+c],[p,h]]],r)):d%2==0&&u%2==1?(f=o([[[p,h],[p,h+c],[p+s,h+c],[p,h]]],r),m=o([[[p,h],[p+s,h+c],[p+s,h],[p,h]]],r)):d%2==1&&u%2==1&&(f=o([[[p,h],[p,h+c],[p+s,h],[p,h]]],r),m=o([[[p,h+c],[p+s,h+c],[p+s,h],[p,h+c]]],r)),i?(fo(i,f)&&a.push(f),fo(i,m)&&a.push(m)):(a.push(f),a.push(m)),h+=c,d++}u++,p+=s}return l(a)}var Mo=6371008.8,xo={meters:Mo,metres:Mo,millimeters:1e3*Mo,millimetres:1e3*Mo,centimeters:100*Mo,centimetres:100*Mo,kilometers:Mo/1e3,kilometres:Mo/1e3,miles:Mo/1609.344,nauticalmiles:Mo/1852,inches:39.37*Mo,yards:Mo/1.0936,feet:3.28084*Mo,radians:1,degrees:Mo/111325},wo={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/Mo,degrees:1/111325},Co={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},So=Object.freeze({earthRadius:Mo,factors:xo,unitsFactors:wo,areaFactors:Co,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:a,lineString:s,lineStrings:c,featureCollection:l,multiLineString:u,multiPoint:p,multiPolygon:d,geometryCollection:h,round:f,radiansToLength:m,lengthToRadians:g,lengthToDegrees:y,bearingToAzimuth:_,radiansToDegrees:v,degreesToRadians:b,convertLength:M,convertArea:x,isNumber:w,isObject:C,validateBBox:S,validateId:E,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Eo=Object.freeze({coordEach:T,coordReduce:O,propEach:A,propReduce:P,featureEach:L,featureReduce:k,coordAll:I,geomEach:D,geomReduce:N,flattenEach:R,flattenReduce:z,segmentEach:F,segmentReduce:j,lineEach:B,lineReduce:q}),To=Object.freeze({getCoord:Y,getCoords:H,containsNumber:W,geojsonType:U,featureOf:X,collectionOf:G,getGeom:J,getGeomType:$,getType:K}),Oo={successCallback:null,verbose:!1},Ao={},Po=function t(e,n,r,i,o){for(r=r||0,i=i||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,c=Math.log(a),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+u)),Math.min(i,Math.floor(n+(a-s)*l/a+u)),o)}var p=e[n],d=r,h=i;for(rt(e,r,n),o(e[i],p)>0&&rt(e,r,i);d<h;){for(rt(e,d,h),d++,h--;o(e[d],p)<0;)d++;for(;o(e[h],p)>0;)h--}0===o(e[r],p)?rt(e,r,h):rt(e,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}},Lo=it;it.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!ht(t,e))return n;for(var i,o,a,s,c=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],ht(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):dt(t,s)?this._all(a,n):c.push(a));e=c.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!ht(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],ht(t,a=e.leaf?n(o):o)){if(e.leaf||dt(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=ft([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),c=[],l=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],n=l.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),c.push(a),this._condense(c),this;o||a.leaf||!dt(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(c.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:ct,compareMinY:lt,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return ot(i=ft(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=ft([])).leaf=!1,i.height=r;var s,c,l,u,p=Math.ceil(o/a),d=p*Math.ceil(Math.sqrt(a));for(mt(t,e,n,d,this.compareMinX),s=e;s<=n;s+=d)for(mt(t,s,l=Math.min(s+d-1,n),p,this.compareMinY),c=s;c<=l;c+=p)u=Math.min(c+p-1,l),i.children.push(this._build(t,c,u,r-1));return ot(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,c,l,u,p;r.push(e),!e.leaf&&r.length-1!==n;){for(u=p=1/0,i=0,o=e.children.length;i<o;i++)c=ut(a=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-c)<p?(p=l,u=c<u?c:u,s=a):l===p&&c<u&&(u=c,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=n?t:(0,this.toBBox)(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),st(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=ft(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,ot(n,this.toBBox),ot(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=ft([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,c,l,u;for(c=l=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=at(t,0,r,this.toBBox),o=at(t,r,n,this.toBBox)),s=ut(i)+ut(o),a<c?(c=a,u=r,l=s<l?s:l):a===c&&s<l&&(l=s,u=r);return u},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:ct,i=t.leaf?this.compareMinY:lt;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=at(t,0,e,a),c=at(t,n-e,n,a),l=pt(s)+pt(c);for(i=e;i<n-e;i++)o=t.children[i],st(s,t.leaf?a(o):o),l+=pt(s);for(i=n-e-1;i>=e;i--)o=t.children[i],st(c,t.leaf?a(o):o),l+=pt(c);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)st(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ot(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var ko=function(t,e,n){var r=t*e,i=Io*t,o=i-(i-t),a=t-o,s=Io*e,c=s-(s-e),l=e-c,u=a*l-(r-o*c-a*c-o*l);return n?(n[0]=u,n[1]=r,n):[u,r]},Io=+(Math.pow(2,27)+1),Do=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,a=new Array(n+r),s=0,c=0,l=0,u=Math.abs,p=t[c],d=u(p),h=e[l],f=u(h);d<f?(o=p,(c+=1)<n&&(d=u(p=t[c]))):(o=h,(l+=1)<r&&(f=u(h=e[l]))),c<n&&d<f||l>=r?(i=p,(c+=1)<n&&(d=u(p=t[c]))):(i=h,(l+=1)<r&&(f=u(h=e[l])));for(var m,g,y=i+o,_=y-i,v=o-_,b=v,M=y;c<n&&l<r;)d<f?(i=p,(c+=1)<n&&(d=u(p=t[c]))):(i=h,(l+=1)<r&&(f=u(h=e[l]))),(v=(o=b)-(_=(y=i+o)-i))&&(a[s++]=v),b=M-((m=M+y)-(g=m-M))+(y-g),M=m;for(;c<n;)(v=(o=b)-(_=(y=(i=p)+o)-i))&&(a[s++]=v),b=M-((m=M+y)-(g=m-M))+(y-g),M=m,(c+=1)<n&&(p=t[c]);for(;l<r;)(v=(o=b)-(_=(y=(i=h)+o)-i))&&(a[s++]=v),b=M-((m=M+y)-(g=m-M))+(y-g),M=m,(l+=1)<r&&(h=e[l]);return b&&(a[s++]=b),M&&(a[s++]=M),s||(a[s++]=0),a.length=s,a},No=function(t,e,n){var r=t+e,i=r-t,o=e-i,a=t-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]},Ro=function(t,e){var n=t.length;if(1===n){var r=ko(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;ko(t[0],e,o),o[0]&&(i[s++]=o[0]);for(var c=1;c<n;++c){ko(t[c],e,a),No(o[1],a[0],o),o[0]&&(i[s++]=o[0]);var l=a[1],u=o[1],p=l+u,d=u-(p-l);o[1]=p,d&&(i[s++]=d)}return o[1]&&(i[s++]=o[1]),0===s&&(i[s++]=0),i.length=s,i},zo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,a=new Array(n+r),s=0,c=0,l=0,u=Math.abs,p=t[c],d=u(p),h=-e[l],f=u(h);d<f?(o=p,(c+=1)<n&&(d=u(p=t[c]))):(o=h,(l+=1)<r&&(f=u(h=-e[l]))),c<n&&d<f||l>=r?(i=p,(c+=1)<n&&(d=u(p=t[c]))):(i=h,(l+=1)<r&&(f=u(h=-e[l])));for(var m,g,y=i+o,_=y-i,v=o-_,b=v,M=y;c<n&&l<r;)d<f?(i=p,(c+=1)<n&&(d=u(p=t[c]))):(i=h,(l+=1)<r&&(f=u(h=-e[l]))),(v=(o=b)-(_=(y=i+o)-i))&&(a[s++]=v),b=M-((m=M+y)-(g=m-M))+(y-g),M=m;for(;c<n;)(v=(o=b)-(_=(y=(i=p)+o)-i))&&(a[s++]=v),b=M-((m=M+y)-(g=m-M))+(y-g),M=m,(c+=1)<n&&(p=t[c]);for(;l<r;)(v=(o=b)-(_=(y=(i=h)+o)-i))&&(a[s++]=v),b=M-((m=M+y)-(g=m-M))+(y-g),M=m,(l+=1)<r&&(h=-e[l]);return b&&(a[s++]=b),M&&(a[s++]=M),s||(a[s++]=0),a.length=s,a},Fo=gt((function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],a=0;a<t.length;++a)o.push(["scale(",r(i(e(t,a))),",",n(a),t[0][a],")"].join(""));return o}function o(t){for(var n=[],o=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),s=[],c=0;c<t;++c)0==(1&c)?n.push.apply(n,i(e(a,c))):o.push.apply(o,i(e(a,c))),s.push("m"+c);var l=r(n),u=r(o),p="orientation"+t+"Exact",d=["function ",p,"(",s.join(),"){var p=",l,",n=",u,",d=sub(p,n);return d[d.length-1];};return ",p].join("");return new Function("sum","prod","scale","sub",d)(Do,ko,Ro,zo)}var a=o(3),s=o(4),c=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=i-o;if(i>0){if(o<=0)return s;r=i+o}else{if(!(i<0))return s;if(o>=0)return s;r=-(i+o)}var c=33306690738754716e-32*r;return s>=c||s<=-c?s:a(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],c=t[1]-r[1],l=e[1]-r[1],u=n[1]-r[1],p=t[2]-r[2],d=e[2]-r[2],h=n[2]-r[2],f=o*u,m=a*l,g=a*c,y=i*u,_=i*l,v=o*c,b=p*(f-m)+d*(g-y)+h*(_-v),M=7771561172376103e-31*((Math.abs(f)+Math.abs(m))*Math.abs(p)+(Math.abs(g)+Math.abs(y))*Math.abs(d)+(Math.abs(_)+Math.abs(v))*Math.abs(h));return b>M||-b>M?b:s(t,e,n,r)}];!function(){for(;c.length<=5;)c.push(o(c.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[function(t){var e=c[t.length];return e||(e=c[t.length]=o(t.length)),e.apply(void 0,t)}].concat(c)),r=0;r<=5;++r)t.exports[r]=c[r]}()})),jo=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort((function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]}));var o=[i[0],i[1]],a=[i[0],i[1]];for(r=2;r<e;++r){for(var s=i[r],c=t[s],l=o.length;l>1&&Bo(t[o[l-2]],t[o[l-1]],c)<=0;)l-=1,o.pop();for(o.push(s),l=a.length;l>1&&Bo(t[a[l-2]],t[a[l-1]],c)>=0;)l-=1,a.pop();a.push(s)}n=new Array(a.length+o.length-2);for(var u=0,p=(r=0,o.length);r<p;++r)n[u++]=o[r];for(var d=a.length-2;d>0;--d)n[u++]=a[d];return n},Bo=Fo[3],qo=yt,Vo=yt;yt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}},qo.default=Vo;var Yo=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],c=e[o][1],l=e[a][1];c>r!=l>r&&n<(e[a][0]-s)*(r-c)/(l-c)+s&&(i=!i)}return i},Ho=Fo[3],Wo=_t;Wo.default=_t;var Uo=function(t){return t},Xo=function(t){if(null==t)return Uo;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var c=2,l=t.length,u=new Array(l);for(u[0]=(e+=t[0])*r+o,u[1]=(n+=t[1])*i+a;c<l;)u[c]=t[c],++c;return u}},Go=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},Jo=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){r[t<0?~t:t]=1})),a.push(i)}}var r={},i={},o={},a=[],s=-1;return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)})),e.forEach((function(e){var n,r,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=a[0],c=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=c,r=i[c]){delete i[r.start];var l=r===n?n:n.concat(r);i[l.start=n.start]=o[l.end=r.end]=l}else i[n.start]=o[n.end]=n;else if(n=i[c])if(delete i[n.start],n.unshift(e),n.start=s,r=o[s]){delete o[r.end];var u=r===n?n:r.concat(n);i[u.start=r.start]=o[u.end=n.end]=u}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=s]=o[n.end=c]=n})),n(o,i),n(i,o),e.forEach((function(t){r[t<0?~t:t]||a.push([t])})),a},$o=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),c=t-1,l=0;l<t;++l)a[l]=i;return{set:function(r,o){for(var l=e(r)&c,u=a[l],p=0;u!=i;){if(n(u,r))return s[l]=o;if(++p>=t)throw new Error("full hashmap");u=a[l=l+1&c]}return a[l]=r,s[l]=o,o},maybeSet:function(r,o){for(var l=e(r)&c,u=a[l],p=0;u!=i;){if(n(u,r))return s[l];if(++p>=t)throw new Error("full hashmap");u=a[l=l+1&c]}return a[l]=r,s[l]=o,o},get:function(r,o){for(var l=e(r)&c,u=a[l],p=0;u!=i;){if(n(u,r))return s[l];if(++p>=t)break;u=a[l=l+1&c]}return o},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}}},Ko=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Zo=new ArrayBuffer(16),Qo=new Float64Array(Zo),ta=new Uint32Array(Zo),ea=function(t){Qo[0]=t[0],Qo[1]=t[1];var e=ta[0]^ta[1];return 2147483647&(e<<5^e>>7^ta[2]^ta[3])},na=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};na.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},na.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},na.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var ra=pe,ia=pe;pe.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(Se(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(Se(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var c=0;for(a=0;a<r.length;a+=3){var l=r[a]*n,u=r[a+1]*n,p=r[a+2]*n;c+=Math.abs((t[l]-t[p])*(t[u+1]-t[l+1])-(t[l]-t[u])*(t[p+1]-t[l+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},pe.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},ra.default=ia,Pe.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!je(t,e))return n;for(var i,o,a,s,c=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],je(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):Fe(t,s)?this._all(a,n):c.push(a));e=c.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!je(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],je(t,a=e.leaf?n(o):o)){if(e.leaf||Fe(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Be([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),c=[],l=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],n=l.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),c.push(a),this._condense(c),this;o||a.leaf||!Fe(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(c.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:De,compareMinY:Ne,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return Le(i=Be(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=Be([])).leaf=!1,i.height=r;var s,c,l,u,p=Math.ceil(o/a),d=p*Math.ceil(Math.sqrt(a));for(qe(t,e,n,d,this.compareMinX),s=e;s<=n;s+=d)for(qe(t,s,l=Math.min(s+d-1,n),p,this.compareMinY),c=s;c<=l;c+=p)u=Math.min(c+p-1,l),i.children.push(this._build(t,c,u,r-1));return Le(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,c,l,u,p;r.push(e),!e.leaf&&r.length-1!==n;){for(u=p=1/0,i=0,o=e.children.length;i<o;i++)c=Re(a=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-c)<p?(p=l,u=c<u?c:u,s=a):l===p&&c<u&&(u=c,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=n?t:(0,this.toBBox)(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),Ie(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=Be(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Le(n,this.toBBox),Le(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=Be([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Le(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,c,l,u;for(c=l=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=ke(t,0,r,this.toBBox),o=ke(t,r,n,this.toBBox)),s=Re(i)+Re(o),a<c?(c=a,u=r,l=s<l?s:l):a===c&&s<l&&(l=s,u=r);return u},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:De,i=t.leaf?this.compareMinY:Ne;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=ke(t,0,e,a),c=ke(t,n-e,n,a),l=ze(s)+ze(c);for(i=e;i<n-e;i++)o=t.children[i],Ie(s,t.leaf?a(o):o),l+=ze(s);for(i=n-e-1;i>=e;i--)o=t.children[i],Ie(c,t.leaf?a(o):o),l+=ze(c);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Ie(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Le(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var oa=Object.freeze({toMercator:Ze,toWgs84:Qe}),aa=6378137,sa=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},ca=function(t,e,n,r,i,o,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};Number.prototype.modulo=function(t){return(this%t+t)%t};var la=Math.PI/180,ua=180/Math.PI,pa=function(t,e){this.lon=t,this.lat=e,this.x=la*t,this.y=la*e};pa.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},pa.prototype.antipode=function(){return new pa(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var da=function(){this.coords=[],this.length=0};da.prototype.move_to=function(t){this.length++,this.coords.push(t)};var ha=function(t){this.properties=t||{},this.geometries=[]};ha.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},ha.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var fa=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new pa(t.x,t.y),this.end=new pa(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};fa.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=ua*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[ua*Math.atan2(i,r),a]},fa.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=this.interpolate(r*i);n.push(o)}for(var a=!1,s=0,c=e&&e.offset?e.offset:10,l=180-c,u=-180+c,p=360-c,d=1;d<n.length;++d){var h=n[d-1][0],f=n[d][0],m=Math.abs(f-h);m>p&&(f>l&&h<u||h>l&&f<u)?a=!0:m>s&&(s=m)}var g=[];if(a&&s<c){var y=[];g.push(y);for(var _=0;_<n.length;++_){var v=parseFloat(n[_][0]);if(_>0&&Math.abs(v-n[_-1][0])>p){var b=parseFloat(n[_-1][0]),M=parseFloat(n[_-1][1]),x=parseFloat(n[_][0]),w=parseFloat(n[_][1]);if(b>-180&&b<u&&180===x&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<u){y.push([-180,n[_][1]]),_++,y.push([n[_][0],n[_][1]]);continue}if(b>l&&b<180&&-180===x&&_+1<n.length&&n[_-1][0]>l&&n[_-1][0]<180){y.push([180,n[_][1]]),_++,y.push([n[_][0],n[_][1]]);continue}if(b<u&&x>l){var C=b;b=x,x=C;var S=M;M=w,w=S}if(b>l&&x<u&&(x+=360),b<=180&&x>=180&&b<x){var E=(180-b)/(x-b),T=E*w+(1-E)*M;y.push([n[_-1][0]>l?180:-180,T]),(y=[]).push([n[_-1][0]>l?-180:180,T]),g.push(y)}else g.push(y=[]);y.push([v,n[_][1]])}else y.push([n[_][0],n[_][1]])}}else{var O=[];g.push(O);for(var A=0;A<n.length;++A)O.push([n[A][0],n[A][1]])}for(var P=new ha(this.properties),L=0;L<g.length;++L){var k=new da;P.geometries.push(k);for(var I=g[L],D=0;D<I.length;++D)k.move_to(I[D])}return P};var ma=Dn;Dn.polyline=Dn,Dn.polygon=function(t,e){var n,r,i,o,a,s,c;for(r=1;r<=8;r*=2){for(n=[],o=!(Rn(i=t[t.length-1],e)&r),a=0;a<t.length;a++)(c=!(Rn(s=t[a],e)&r))!==o&&n.push(Nn(i,s,r,e)),c&&n.push(s),i=s,o=c;if(!(t=n).length)break}return n};var ga=Array.prototype.slice,ya={successCallback:null,verbose:!1,polygons:!1},_a={},va=64,ba=16,Ma=4,xa=1,wa=[],Ca=[],Sa=[],Ea=[],Ta=[],Oa=[],Aa=[],Pa=[],La=[],ka=[],Ia=[],Da=[],Na=[],Ra=[],za=[],Fa=[],ja=[],Ba=[],qa=[],Va=[],Ya=[],Ha=[],Wa=[],Ua=[];Aa[85]=ka[85]=-1,Pa[85]=Ia[85]=0,La[85]=Da[85]=1,qa[85]=Ha[85]=1,Va[85]=Wa[85]=0,Ya[85]=Ua[85]=1,wa[85]=Ea[85]=0,Ca[85]=Ta[85]=-1,Sa[85]=za[85]=0,Fa[85]=Na[85]=0,ja[85]=Ra[85]=1,Oa[85]=Ba[85]=1,Ha[1]=Ha[169]=0,Wa[1]=Wa[169]=-1,Ua[1]=Ua[169]=0,Na[1]=Na[169]=-1,Ra[1]=Ra[169]=0,za[1]=za[169]=0,ka[4]=ka[166]=0,Ia[4]=Ia[166]=-1,Da[4]=Da[166]=1,Fa[4]=Fa[166]=1,ja[4]=ja[166]=0,Ba[4]=Ba[166]=0,Aa[16]=Aa[154]=0,Pa[16]=Pa[154]=1,La[16]=La[154]=1,Ea[16]=Ea[154]=1,Ta[16]=Ta[154]=0,Oa[16]=Oa[154]=1,qa[64]=qa[106]=0,Va[64]=Va[106]=1,Ya[64]=Ya[106]=0,wa[64]=wa[106]=-1,Ca[64]=Ca[106]=0,Sa[64]=Sa[106]=1,qa[2]=qa[168]=0,Va[2]=Va[168]=-1,Ya[2]=Ya[168]=1,Ha[2]=Ha[168]=0,Wa[2]=Wa[168]=-1,Ua[2]=Ua[168]=0,Na[2]=Na[168]=-1,Ra[2]=Ra[168]=0,za[2]=za[168]=0,Fa[2]=Fa[168]=-1,ja[2]=ja[168]=0,Ba[2]=Ba[168]=1,Aa[8]=Aa[162]=0,Pa[8]=Pa[162]=-1,La[8]=La[162]=0,ka[8]=ka[162]=0,Ia[8]=Ia[162]=-1,Da[8]=Da[162]=1,Na[8]=Na[162]=1,Ra[8]=Ra[162]=0,za[8]=za[162]=1,Fa[8]=Fa[162]=1,ja[8]=ja[162]=0,Ba[8]=Ba[162]=0,Aa[32]=Aa[138]=0,Pa[32]=Pa[138]=1,La[32]=La[138]=1,ka[32]=ka[138]=0,Ia[32]=Ia[138]=1,Da[32]=Da[138]=0,wa[32]=wa[138]=1,Ca[32]=Ca[138]=0,Sa[32]=Sa[138]=0,Ea[32]=Ea[138]=1,Ta[32]=Ta[138]=0,Oa[32]=Oa[138]=1,Ha[128]=Ha[42]=0,Wa[128]=Wa[42]=1,Ua[128]=Ua[42]=1,qa[128]=qa[42]=0,Va[128]=Va[42]=1,Ya[128]=Ya[42]=0,wa[128]=wa[42]=-1,Ca[128]=Ca[42]=0,Sa[128]=Sa[42]=1,Ea[128]=Ea[42]=-1,Ta[128]=Ta[42]=0,Oa[128]=Oa[42]=0,ka[5]=ka[165]=-1,Ia[5]=Ia[165]=0,Da[5]=Da[165]=0,Ha[5]=Ha[165]=1,Wa[5]=Wa[165]=0,Ua[5]=Ua[165]=0,Fa[20]=Fa[150]=0,ja[20]=ja[150]=1,Ba[20]=Ba[150]=1,Ea[20]=Ea[150]=0,Ta[20]=Ta[150]=-1,Oa[20]=Oa[150]=1,Aa[80]=Aa[90]=-1,Pa[80]=Pa[90]=0,La[80]=La[90]=1,qa[80]=qa[90]=1,Va[80]=Va[90]=0,Ya[80]=Ya[90]=1,Na[65]=Na[105]=0,Ra[65]=Ra[105]=1,za[65]=za[105]=0,wa[65]=wa[105]=0,Ca[65]=Ca[105]=-1,Sa[65]=Sa[105]=0,Aa[160]=Aa[10]=-1,Pa[160]=Pa[10]=0,La[160]=La[10]=1,ka[160]=ka[10]=-1,Ia[160]=Ia[10]=0,Da[160]=Da[10]=0,Ha[160]=Ha[10]=1,Wa[160]=Wa[10]=0,Ua[160]=Ua[10]=0,qa[160]=qa[10]=1,Va[160]=Va[10]=0,Ya[160]=Ya[10]=1,Fa[130]=Fa[40]=0,ja[130]=ja[40]=1,Ba[130]=Ba[40]=1,Na[130]=Na[40]=0,Ra[130]=Ra[40]=1,za[130]=za[40]=0,wa[130]=wa[40]=0,Ca[130]=Ca[40]=-1,Sa[130]=Sa[40]=0,Ea[130]=Ea[40]=0,Ta[130]=Ta[40]=-1,Oa[130]=Oa[40]=1,ka[37]=ka[133]=0,Ia[37]=Ia[133]=1,Da[37]=Da[133]=1,Ha[37]=Ha[133]=0,Wa[37]=Wa[133]=1,Ua[37]=Ua[133]=0,wa[37]=wa[133]=-1,Ca[37]=Ca[133]=0,Sa[37]=Sa[133]=0,Ea[37]=Ea[133]=1,Ta[37]=Ta[133]=0,Oa[37]=Oa[133]=0,Fa[148]=Fa[22]=-1,ja[148]=ja[22]=0,Ba[148]=Ba[22]=0,Ha[148]=Ha[22]=0,Wa[148]=Wa[22]=-1,Ua[148]=Ua[22]=1,qa[148]=qa[22]=0,Va[148]=Va[22]=1,Ya[148]=Ya[22]=1,Ea[148]=Ea[22]=-1,Ta[148]=Ta[22]=0,Oa[148]=Oa[22]=1,Aa[82]=Aa[88]=0,Pa[82]=Pa[88]=-1,La[82]=La[88]=1,Fa[82]=Fa[88]=1,ja[82]=ja[88]=0,Ba[82]=Ba[88]=1,Na[82]=Na[88]=-1,Ra[82]=Ra[88]=0,za[82]=za[88]=1,qa[82]=qa[88]=0,Va[82]=Va[88]=-1,Ya[82]=Ya[88]=0,Aa[73]=Aa[97]=0,Pa[73]=Pa[97]=1,La[73]=La[97]=0,ka[73]=ka[97]=0,Ia[73]=Ia[97]=-1,Da[73]=Da[97]=0,Na[73]=Na[97]=1,Ra[73]=Ra[97]=0,za[73]=za[97]=0,wa[73]=wa[97]=1,Ca[73]=Ca[97]=0,Sa[73]=Sa[97]=1,Aa[145]=Aa[25]=0,Pa[145]=Pa[25]=-1,La[145]=La[25]=0,Na[145]=Na[25]=1,Ra[145]=Ra[25]=0,za[145]=za[25]=1,Ha[145]=Ha[25]=0,Wa[145]=Wa[25]=1,Ua[145]=Ua[25]=1,Ea[145]=Ea[25]=-1,Ta[145]=Ta[25]=0,Oa[145]=Oa[25]=0,ka[70]=ka[100]=0,Ia[70]=Ia[100]=1,Da[70]=Da[100]=0,Fa[70]=Fa[100]=-1,ja[70]=ja[100]=0,Ba[70]=Ba[100]=1,qa[70]=qa[100]=0,Va[70]=Va[100]=-1,Ya[70]=Ya[100]=1,wa[70]=wa[100]=1,Ca[70]=Ca[100]=0,Sa[70]=Sa[100]=0,ka[101]=ka[69]=0,Ia[101]=Ia[69]=1,Da[101]=Da[69]=0,wa[101]=wa[69]=1,Ca[101]=Ca[69]=0,Sa[101]=Sa[69]=0,Ha[149]=Ha[21]=0,Wa[149]=Wa[21]=1,Ua[149]=Ua[21]=1,Ea[149]=Ea[21]=-1,Ta[149]=Ta[21]=0,Oa[149]=Oa[21]=0,Fa[86]=Fa[84]=-1,ja[86]=ja[84]=0,Ba[86]=Ba[84]=1,qa[86]=qa[84]=0,Va[86]=Va[84]=-1,Ya[86]=Ya[84]=1,Aa[89]=Aa[81]=0,Pa[89]=Pa[81]=-1,La[89]=La[81]=0,Na[89]=Na[81]=1,Ra[89]=Ra[81]=0,za[89]=za[81]=1,Aa[96]=Aa[74]=0,Pa[96]=Pa[74]=1,La[96]=La[74]=0,ka[96]=ka[74]=-1,Ia[96]=Ia[74]=0,Da[96]=Da[74]=1,qa[96]=qa[74]=1,Va[96]=Va[74]=0,Ya[96]=Ya[74]=0,wa[96]=wa[74]=1,Ca[96]=Ca[74]=0,Sa[96]=Sa[74]=1,Aa[24]=Aa[146]=0,Pa[24]=Pa[146]=-1,La[24]=La[146]=1,Fa[24]=Fa[146]=1,ja[24]=ja[146]=0,Ba[24]=Ba[146]=1,Na[24]=Na[146]=0,Ra[24]=Ra[146]=1,za[24]=za[146]=1,Ea[24]=Ea[146]=0,Ta[24]=Ta[146]=-1,Oa[24]=Oa[146]=0,ka[6]=ka[164]=-1,Ia[6]=Ia[164]=0,Da[6]=Da[164]=1,Fa[6]=Fa[164]=-1,ja[6]=ja[164]=0,Ba[6]=Ba[164]=0,Ha[6]=Ha[164]=0,Wa[6]=Wa[164]=-1,Ua[6]=Ua[164]=1,qa[6]=qa[164]=1,Va[6]=Va[164]=0,Ya[6]=Ya[164]=0,Na[129]=Na[41]=0,Ra[129]=Ra[41]=1,za[129]=za[41]=1,Ha[129]=Ha[41]=0,Wa[129]=Wa[41]=1,Ua[129]=Ua[41]=0,wa[129]=wa[41]=-1,Ca[129]=Ca[41]=0,Sa[129]=Sa[41]=0,Ea[129]=Ea[41]=0,Ta[129]=Ta[41]=-1,Oa[129]=Oa[41]=0,Fa[66]=Fa[104]=0,ja[66]=ja[104]=1,Ba[66]=Ba[104]=0,Na[66]=Na[104]=-1,Ra[66]=Ra[104]=0,za[66]=za[104]=1,qa[66]=qa[104]=0,Va[66]=Va[104]=-1,Ya[66]=Ya[104]=0,wa[66]=wa[104]=0,Ca[66]=Ca[104]=-1,Sa[66]=Sa[104]=1,Aa[144]=Aa[26]=-1,Pa[144]=Pa[26]=0,La[144]=La[26]=0,Ha[144]=Ha[26]=1,Wa[144]=Wa[26]=0,Ua[144]=Ua[26]=1,qa[144]=qa[26]=0,Va[144]=Va[26]=1,Ya[144]=Ya[26]=1,Ea[144]=Ea[26]=-1,Ta[144]=Ta[26]=0,Oa[144]=Oa[26]=1,ka[36]=ka[134]=0,Ia[36]=Ia[134]=1,Da[36]=Da[134]=1,Fa[36]=Fa[134]=0,ja[36]=ja[134]=1,Ba[36]=Ba[134]=0,wa[36]=wa[134]=0,Ca[36]=Ca[134]=-1,Sa[36]=Sa[134]=1,Ea[36]=Ea[134]=1,Ta[36]=Ta[134]=0,Oa[36]=Oa[134]=0,Aa[9]=Aa[161]=-1,Pa[9]=Pa[161]=0,La[9]=La[161]=0,ka[9]=ka[161]=0,Ia[9]=Ia[161]=-1,Da[9]=Da[161]=0,Na[9]=Na[161]=1,Ra[9]=Ra[161]=0,za[9]=za[161]=0,Ha[9]=Ha[161]=1,Wa[9]=Wa[161]=0,Ua[9]=Ua[161]=1,Aa[136]=0,Pa[136]=1,La[136]=1,ka[136]=0,Ia[136]=1,Da[136]=0,Fa[136]=-1,ja[136]=0,Ba[136]=1,Na[136]=-1,Ra[136]=0,za[136]=0,Ha[136]=0,Wa[136]=-1,Ua[136]=0,qa[136]=0,Va[136]=-1,Ya[136]=1,wa[136]=1,Ca[136]=0,Sa[136]=0,Ea[136]=1,Ta[136]=0,Oa[136]=1,Aa[34]=0,Pa[34]=-1,La[34]=0,ka[34]=0,Ia[34]=-1,Da[34]=1,Fa[34]=1,ja[34]=0,Ba[34]=0,Na[34]=1,Ra[34]=0,za[34]=1,Ha[34]=0,Wa[34]=1,Ua[34]=1,qa[34]=0,Va[34]=1,Ya[34]=0,wa[34]=-1,Ca[34]=0,Sa[34]=1,Ea[34]=-1,Ta[34]=0,Oa[34]=0,Aa[35]=0,Pa[35]=1,La[35]=1,ka[35]=0,Ia[35]=-1,Da[35]=1,Fa[35]=1,ja[35]=0,Ba[35]=0,Na[35]=-1,Ra[35]=0,za[35]=0,Ha[35]=0,Wa[35]=-1,Ua[35]=0,qa[35]=0,Va[35]=1,Ya[35]=0,wa[35]=-1,Ca[35]=0,Sa[35]=1,Ea[35]=1,Ta[35]=0,Oa[35]=1,Aa[153]=0,Pa[153]=1,La[153]=1,Na[153]=-1,Ra[153]=0,za[153]=0,Ha[153]=0,Wa[153]=-1,Ua[153]=0,Ea[153]=1,Ta[153]=0,Oa[153]=1,ka[102]=0,Ia[102]=-1,Da[102]=1,Fa[102]=1,ja[102]=0,Ba[102]=0,qa[102]=0,Va[102]=1,Ya[102]=0,wa[102]=-1,Ca[102]=0,Sa[102]=1,Aa[155]=0,Pa[155]=-1,La[155]=0,Na[155]=1,Ra[155]=0,za[155]=1,Ha[155]=0,Wa[155]=1,Ua[155]=1,Ea[155]=-1,Ta[155]=0,Oa[155]=0,ka[103]=0,Ia[103]=1,Da[103]=0,Fa[103]=-1,ja[103]=0,Ba[103]=1,qa[103]=0,Va[103]=-1,Ya[103]=1,wa[103]=1,Ca[103]=0,Sa[103]=0,Aa[152]=0,Pa[152]=1,La[152]=1,Fa[152]=-1,ja[152]=0,Ba[152]=1,Na[152]=-1,Ra[152]=0,za[152]=0,Ha[152]=0,Wa[152]=-1,Ua[152]=0,qa[152]=0,Va[152]=-1,Ya[152]=1,Ea[152]=1,Ta[152]=0,Oa[152]=1,Aa[156]=0,Pa[156]=-1,La[156]=1,Fa[156]=1,ja[156]=0,Ba[156]=1,Na[156]=-1,Ra[156]=0,za[156]=0,Ha[156]=0,Wa[156]=-1,Ua[156]=0,qa[156]=0,Va[156]=1,Ya[156]=1,Ea[156]=-1,Ta[156]=0,Oa[156]=1,Aa[137]=0,Pa[137]=1,La[137]=1,ka[137]=0,Ia[137]=1,Da[137]=0,Na[137]=-1,Ra[137]=0,za[137]=0,Ha[137]=0,Wa[137]=-1,Ua[137]=0,wa[137]=1,Ca[137]=0,Sa[137]=0,Ea[137]=1,Ta[137]=0,Oa[137]=1,Aa[139]=0,Pa[139]=1,La[139]=1,ka[139]=0,Ia[139]=-1,Da[139]=0,Na[139]=1,Ra[139]=0,za[139]=0,Ha[139]=0,Wa[139]=1,Ua[139]=0,wa[139]=-1,Ca[139]=0,Sa[139]=0,Ea[139]=1,Ta[139]=0,Oa[139]=1,Aa[98]=0,Pa[98]=-1,La[98]=0,ka[98]=0,Ia[98]=-1,Da[98]=1,Fa[98]=1,ja[98]=0,Ba[98]=0,Na[98]=1,Ra[98]=0,za[98]=1,qa[98]=0,Va[98]=1,Ya[98]=0,wa[98]=-1,Ca[98]=0,Sa[98]=1,Aa[99]=0,Pa[99]=1,La[99]=0,ka[99]=0,Ia[99]=-1,Da[99]=1,Fa[99]=1,ja[99]=0,Ba[99]=0,Na[99]=-1,Ra[99]=0,za[99]=1,qa[99]=0,Va[99]=-1,Ya[99]=0,wa[99]=1,Ca[99]=0,Sa[99]=1,ka[38]=0,Ia[38]=-1,Da[38]=1,Fa[38]=1,ja[38]=0,Ba[38]=0,Ha[38]=0,Wa[38]=1,Ua[38]=1,qa[38]=0,Va[38]=1,Ya[38]=0,wa[38]=-1,Ca[38]=0,Sa[38]=1,Ea[38]=-1,Ta[38]=0,Oa[38]=0,ka[39]=0,Ia[39]=1,Da[39]=1,Fa[39]=-1,ja[39]=0,Ba[39]=0,Ha[39]=0,Wa[39]=-1,Ua[39]=1,qa[39]=0,Va[39]=1,Ya[39]=0,wa[39]=-1,Ca[39]=0,Sa[39]=1,Ea[39]=1,Ta[39]=0,Oa[39]=0;var Xa=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Ga=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Ja=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},$a=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Ka=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},Za=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},Qa=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},ts=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},es=[],ns=[],rs=[],is=[],os=[],as=[],ss=[],cs=[];is[1]=os[1]=18,is[169]=os[169]=18,rs[4]=ns[4]=12,rs[166]=ns[166]=12,es[16]=cs[16]=4,es[154]=cs[154]=4,as[64]=ss[64]=22,as[106]=ss[106]=22,rs[2]=as[2]=17,is[2]=os[2]=18,rs[168]=as[168]=17,is[168]=os[168]=18,es[8]=is[8]=9,ns[8]=rs[8]=12,es[162]=is[162]=9,ns[162]=rs[162]=12,es[32]=cs[32]=4,ns[32]=ss[32]=1,es[138]=cs[138]=4,ns[138]=ss[138]=1,os[128]=cs[128]=21,as[128]=ss[128]=22,os[42]=cs[42]=21,as[42]=ss[42]=22,ns[5]=os[5]=14,ns[165]=os[165]=14,rs[20]=cs[20]=6,rs[150]=cs[150]=6,es[80]=as[80]=11,es[90]=as[90]=11,is[65]=ss[65]=3,is[105]=ss[105]=3,es[160]=as[160]=11,ns[160]=os[160]=14,es[10]=as[10]=11,ns[10]=os[10]=14,rs[130]=cs[130]=6,is[130]=ss[130]=3,rs[40]=cs[40]=6,is[40]=ss[40]=3,ns[101]=ss[101]=1,ns[69]=ss[69]=1,os[149]=cs[149]=21,os[21]=cs[21]=21,rs[86]=as[86]=17,rs[84]=as[84]=17,es[89]=is[89]=9,es[81]=is[81]=9,es[96]=ss[96]=0,ns[96]=as[96]=15,es[74]=ss[74]=0,ns[74]=as[74]=15,es[24]=rs[24]=8,is[24]=cs[24]=7,es[146]=rs[146]=8,is[146]=cs[146]=7,ns[6]=as[6]=15,rs[6]=os[6]=16,ns[164]=as[164]=15,rs[164]=os[164]=16,is[129]=cs[129]=7,os[129]=ss[129]=20,is[41]=cs[41]=7,os[41]=ss[41]=20,rs[66]=ss[66]=2,is[66]=as[66]=19,rs[104]=ss[104]=2,is[104]=as[104]=19,es[144]=os[144]=10,as[144]=cs[144]=23,es[26]=os[26]=10,as[26]=cs[26]=23,ns[36]=cs[36]=5,rs[36]=ss[36]=2,ns[134]=cs[134]=5,rs[134]=ss[134]=2,es[9]=os[9]=10,ns[9]=is[9]=13,es[161]=os[161]=10,ns[161]=is[161]=13,ns[37]=cs[37]=5,os[37]=ss[37]=20,ns[133]=cs[133]=5,os[133]=ss[133]=20,rs[148]=os[148]=16,as[148]=cs[148]=23,rs[22]=os[22]=16,as[22]=cs[22]=23,es[82]=rs[82]=8,is[82]=as[82]=19,es[88]=rs[88]=8,is[88]=as[88]=19,es[73]=ss[73]=0,ns[73]=is[73]=13,es[97]=ss[97]=0,ns[97]=is[97]=13,es[145]=is[145]=9,os[145]=cs[145]=21,es[25]=is[25]=9,os[25]=cs[25]=21,ns[70]=ss[70]=1,rs[70]=as[70]=17,ns[100]=ss[100]=1,rs[100]=as[100]=17,es[34]=is[34]=9,ns[34]=rs[34]=12,os[34]=cs[34]=21,as[34]=ss[34]=22,es[136]=cs[136]=4,ns[136]=ss[136]=1,rs[136]=as[136]=17,is[136]=os[136]=18,es[35]=cs[35]=4,ns[35]=rs[35]=12,is[35]=os[35]=18,as[35]=ss[35]=22,es[153]=cs[153]=4,is[153]=os[153]=18,ns[102]=rs[102]=12,as[102]=ss[102]=22,es[155]=is[155]=9,os[155]=cs[155]=23,ns[103]=ss[103]=1,rs[103]=as[103]=17,es[152]=cs[152]=4,rs[152]=as[152]=17,is[152]=os[152]=18,es[156]=rs[156]=8,is[156]=os[156]=18,as[156]=cs[156]=23,es[137]=cs[137]=4,ns[137]=ss[137]=1,is[137]=os[137]=18,es[139]=cs[139]=4,ns[139]=is[139]=13,os[139]=ss[139]=20,es[98]=is[98]=9,ns[98]=rs[98]=12,as[98]=ss[98]=22,es[99]=ss[99]=0,ns[99]=rs[99]=12,is[99]=as[99]=19,ns[38]=rs[38]=12,os[38]=cs[38]=21,as[38]=ss[38]=22,ns[39]=cs[39]=5,rs[39]=os[39]=16,as[39]=ss[39]=22;var ls=[];ls[1]=ls[169]=Xa,ls[4]=ls[166]=Ga,ls[16]=ls[154]=Ja,ls[64]=ls[106]=$a,ls[168]=ls[2]=Ka,ls[162]=ls[8]=Za,ls[138]=ls[32]=Qa,ls[42]=ls[128]=ts,ls[5]=ls[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},ls[20]=ls[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},ls[80]=ls[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},ls[65]=ls[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ls[160]=ls[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},ls[130]=ls[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},ls[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ls[101]=ls[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},ls[149]=ls[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},ls[86]=ls[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},ls[89]=ls[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},ls[96]=ls[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},ls[24]=ls[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ls[6]=ls[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},ls[129]=ls[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},ls[66]=ls[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ls[144]=ls[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ls[36]=ls[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},ls[9]=ls[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ls[37]=ls[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ls[148]=ls[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ls[82]=ls[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},ls[73]=ls[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ls[145]=ls[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ls[70]=ls[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ls[34]=function(t){return[ts(t),Za(t)]},ls[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ls[136]=function(t){return[Qa(t),Ka(t)]},ls[153]=function(t){return[Ja(t),Xa(t)]},ls[102]=function(t){return[Ga(t),$a(t)]},ls[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ls[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ls[152]=function(t){return[Ja(t),Ka(t)]},ls[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ls[137]=function(t){return[Qa(t),Xa(t)]},ls[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ls[98]=function(t){return[Za(t),$a(t)]},ls[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ls[38]=function(t){return[Ga(t),ts(t)]},ls[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var us=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};us.buildId=function(t){return t.join(",")},us.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},us.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},us.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},us.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=sr(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},us.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},us.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},us.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var ps=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};ps.prototype.getSymetric=function(){return this.symetric||(this.symetric=new ps(this.to,this.from),this.symetric.symetric=this),this.symetric},ps.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},ps.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},ps.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},ps.prototype.toLineString=function(){return s([this.from.coordinates,this.to.coordinates])},ps.prototype.compareTo=function(t){return sr(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var ds=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},hs={length:{configurable:!0}};ds.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},ds.prototype.get=function(t){return this.edges[t]},hs.length.get=function(){return this.edges.length},ds.prototype.forEach=function(t){this.edges.forEach(t)},ds.prototype.map=function(t){return this.edges.map(t)},ds.prototype.some=function(t){return this.edges.some(t)},ds.prototype.isValid=function(){return!0},ds.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=sr(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},ds.prototype.toMultiPoint=function(){return p(this.edges.map((function(t){return t.from.coordinates})))},ds.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},ds.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=re(this.toPolygon())},ds.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach((function(e){var a=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map((function(t){return t[0]})),r=t.geometry.coordinates.map((function(t){return t[1]})),i=e.geometry.coordinates.map((function(t){return t[0]})),o=e.geometry.coordinates.map((function(t){return t[1]}));return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(a,o)&&cr(a,o)){var s=t.map((function(t){return t.from.coordinates})).find((function(t){return!e.some((function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)}))}));s&&e.inside(r(s))&&(i&&!cr(n,a)||(i=e))}})),i},ds.prototype.inside=function(t){return Ot(t,this.toPolygon())},Object.defineProperties(ds.prototype,hs);var fs=function(){this.edges=[],this.nodes={}};fs.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new fs;return R(t,(function(t){X(t,"LineString","Graph::fromGeoJson"),O(t,(function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n}))})),e},fs.prototype.getNode=function(t){var e=us.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new us(t)),n},fs.prototype.addEdge=function(t,e){var n=new ps(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},fs.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},fs.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},fs.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},fs.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},fs.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var a=i[o],s=a.symetric,c=void 0,l=void 0;a.label===e&&(c=a),s.label===e&&(l=s),c&&l&&(l&&(r=l),c&&(r&&(r.next=c,r=void 0),n||(n=c)))}r&&(r.next=n)},fs.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},fs.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},fs.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},fs.prototype._findEdgeRing=function(t){var e=t,n=new ds;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},fs.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},fs.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()};var ms=gt((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),gs=gt((function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r})),ys=gt((function(t){function e(t){return null==t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,i=t.exports=function(t,o,a){return a||(a={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?a.strict?t===o:t==o:function(t,o,a){var s,c;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(gs(t))return!!gs(o)&&(t=r.call(t),o=r.call(o),i(t,o,a));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==o[s])return!1;return!0}try{var l=ms(t),u=ms(o)}catch(t){return!1}if(l.length!=u.length)return!1;for(l.sort(),u.sort(),s=l.length-1;s>=0;s--)if(l[s]!=u[s])return!1;for(s=l.length-1;s>=0;s--)if(!i(t[c=l[s]],o[c],a))return!1;return typeof t==typeof o}(t,o,a))}})),_s=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:vr};_s.prototype.compare=function(t,e){if(t.type!==e.type||!_r(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=yr(t),i=yr(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},_s.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},_s.prototype.compareLine=function(t,e,n,r){if(!_r(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},_s.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},_s.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},_s.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},_s.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},_s.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},_s.prototype.removePseudo=function(t){return t};var vs=_s,bs=gt((function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(i,a),this._expandCluster(a,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ms=gt((function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(u),s=0,c=0;c<u;c++)a[c]=0;for(var l=0;l<n;l++){var u=this.dataset[l].length;if(o===this.assignments[l]){for(c=0;c<u;c++)a[c]+=this.dataset[l][c];s++}}if(s>0){for(c=0;c<u;c++)a[c]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,a=e.length,s=0;s<a;s++)(r=n(t,e[s]))<i&&(i=r,o=s);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)})),xs=gt((function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)})),ws=gt((function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=xs;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var c=new n(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,c),this._expandCluster(s,c))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e];t.push([r,this._reachability[r]])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Cs=gt((function(t){t.exports&&(t.exports={DBSCAN:bs,KMEANS:Ms,OPTICS:ws,PriorityQueue:xs})})),Ss=function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var a=(t[o]||0)-(e[o]||0);i+=a*a}return n?Math.sqrt(i):i},Es=Ss,Ts=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Os=Ss,As={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||As.heuristics.manhattan,o=r.closest||!1,a=new Er((function(t){return t.f})),s=e;for(e.h=i(e,n),a.push(e);a.size()>0;){var c=a.pop();if(c===n)return wr(c);c.closed=!0;for(var l=t.neighbors(c),u=0,p=l.length;u<p;++u){var d=l[u];if(!d.closed&&!d.isWall()){var h=c.g+d.getCost(c),f=d.visited;(!f||h<d.g)&&(d.visited=!0,d.parent=c,d.h=d.h||i(d,n),d.g=h,d.f=d.g+d.h,t.markDirty(d),o&&(d.h<s.h||d.h===s.h&&d.g<s.g)&&(s=d),f?a.rescoreElement(d):a.push(d))}}}return o?wr(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Cr.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)As.cleanNode(this.nodes[t])},Cr.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)As.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Cr.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Cr.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Cr.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,a=0,s=o.length;a<s;a++){for(t=[],n=0,r=(e=o[a]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Sr.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Sr.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Sr.prototype.isWall=function(){return 0===this.weight},Er.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,a=o-1,s=null;if(a<e&&(i=this.scoreFunction(this.content[a]))<r&&(s=a),o<e&&this.scoreFunction(this.content[o])<(null===s?r:i)&&(s=o),null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}};var Ps=function(t){return function(){return t}};Ar.prototype={constructor:Ar,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ir(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Lr(this,n),n=(t=n).U),n.C=!1,r.C=!0,kr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(kr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Lr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Ir(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Lr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,kr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Lr(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,kr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Lr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,kr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Ls,ks,Is,Ds,Ns,Rs=[],zs=[],Fs=1e-6,js=1e-12;Kr.prototype={constructor:Kr,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Br(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,c=-1,l=e[i[o-1]],u=l.left===s?l.right:l.left;++c<o;)a=u,u=(l=e[i[c]]).left===s?l.right:l.left,a&&u&&r<a.index&&r<u.index&&Jr(s,a,u)<0&&t.push([s.data,a.data,u.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var c=t-i.site[0],l=e-i.site[1],u=c*c+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var c=t-s[0],l=e-s[1],p=c*c+l*l;p<u&&(u=p,a=s.index)}}))}while(null!==a);return o._found=r,null==n||u<=n*n?i.site:null}};var Bs=Object.freeze({randomPosition:ii,randomPoint:oi,randomPolygon:ai,randomLineString:si}),qs=Object.freeze({getCluster:li,clusterEach:ui,clusterReduce:pi,createBins:di,applyFilter:hi,propertiesContainsFilter:fi,filterProperties:mi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Vs=function(){};Vs.prototype.interfaces_=function(){return[]},Vs.prototype.getClass=function(){return Vs},Vs.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Ys=function(){},Hs=function(){},Ws={MAX_VALUE:{configurable:!0}};Hs.isNaN=function(t){return Number.isNaN(t)},Hs.doubleToLongBits=function(t){return t},Hs.longBitsToDouble=function(t){return t},Hs.isInfinite=function(t){return!Number.isFinite(t)},Ws.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Hs,Ws);var Us=function(){},Xs=function(){},Gs=function(){},Js=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},$s={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Js.prototype.setOrdinate=function(t,e){switch(t){case Js.X:this.x=e;break;case Js.Y:this.y=e;break;case Js.Z:this.z=e;break;default:throw new Ys("Invalid ordinate index: "+t)}},Js.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Vs.equalsWithTolerance(this.x,e.x,n)&&!!Vs.equalsWithTolerance(this.y,e.y,n)}},Js.prototype.getOrdinate=function(t){switch(t){case Js.X:return this.x;case Js.Y:return this.y;case Js.Z:return this.z}throw new Ys("Invalid ordinate index: "+t)},Js.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Hs.isNaN(this.z))&&Hs.isNaN(t.z)},Js.prototype.equals=function(t){return t instanceof Js&&this.equals2D(t)},Js.prototype.equalInZ=function(t,e){return Vs.equalsWithTolerance(this.z,t.z,e)},Js.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},Js.prototype.clone=function(){},Js.prototype.copy=function(){return new Js(this)},Js.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Js.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},Js.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},Js.prototype.hashCode=function(){var t=17;return 37*(t=37*t+Js.hashCode(this.x))+Js.hashCode(this.y)},Js.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},Js.prototype.interfaces_=function(){return[Us,Xs,gi]},Js.prototype.getClass=function(){return Js},Js.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=Hs.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},$s.DimensionalComparator.get=function(){return Ks},$s.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},$s.NULL_ORDINATE.get=function(){return Hs.NaN},$s.X.get=function(){return 0},$s.Y.get=function(){return 1},$s.Z.get=function(){return 2},Object.defineProperties(Js,$s);var Ks=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Ys("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};Ks.prototype.compare=function(t,e){var n=t,r=e,i=Ks.compare(n.x,r.x);if(0!==i)return i;var o=Ks.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:Ks.compare(n.z,r.z)},Ks.prototype.interfaces_=function(){return[Gs]},Ks.prototype.getClass=function(){return Ks},Ks.compare=function(t,e){return t<e?-1:t>e?1:Hs.isNaN(t)?Hs.isNaN(e)?0:-1:Hs.isNaN(e)?1:0};var Zs=function(){};Zs.prototype.create=function(){},Zs.prototype.interfaces_=function(){return[]},Zs.prototype.getClass=function(){return Zs};var Qs=function(){},tc={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Qs.prototype.interfaces_=function(){return[]},Qs.prototype.getClass=function(){return Qs},Qs.toLocationSymbol=function(t){switch(t){case Qs.EXTERIOR:return"e";case Qs.BOUNDARY:return"b";case Qs.INTERIOR:return"i";case Qs.NONE:return"-"}throw new Ys("Unknown location value: "+t)},tc.INTERIOR.get=function(){return 0},tc.BOUNDARY.get=function(){return 1},tc.EXTERIOR.get=function(){return 2},tc.NONE.get=function(){return-1},Object.defineProperties(Qs,tc);var ec=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},nc=function(){},rc={LOG_10:{configurable:!0}};nc.prototype.interfaces_=function(){return[]},nc.prototype.getClass=function(){return nc},nc.log10=function(t){var e=Math.log(t);return Hs.isInfinite(e)||Hs.isNaN(e)?e:e/nc.LOG_10},nc.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},nc.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},nc.wrap=function(t,e){return t<0?e- -t%e:t%e},nc.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],c=i;return o>c&&(c=o),a>c&&(c=a),s>c&&(c=s),c}},nc.average=function(t,e){return(t+e)/2},rc.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(nc,rc);var ic=function(t){this.str=t};ic.prototype.append=function(t){this.str+=t},ic.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},ic.prototype.toString=function(t){return this.str};var oc=function(t){this.value=t};oc.prototype.intValue=function(){return this.value},oc.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},oc.isNaN=function(t){return Number.isNaN(t)};var ac=function(){};ac.isWhitespace=function(t){return t<=32&&t>=0||127===t},ac.toUpperCase=function(t){return t.toUpperCase()};var sc=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},cc={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};sc.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},sc.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=sc.magnitude(n._hi),i=sc.TEN.pow(r);(n=n.divide(i)).gt(sc.TEN)?(n=n.divide(sc.TEN),r+=1):n.lt(sc.ONE)&&(n=n.multiply(sc.TEN),r-=1);for(var o=r+1,a=new ic,s=sc.MAX_PRINT_DIGITS-1,c=0;c<=s;c++){t&&c===o&&a.append(".");var l=Math.trunc(n._hi);if(l<0)break;var u=!1,p=0;l>9?(u=!0,p="9"):p="0"+l,a.append(p),n=n.subtract(sc.valueOf(l)).multiply(sc.TEN),u&&n.selfAdd(sc.TEN);var d=!0,h=sc.magnitude(n._hi);if(h<0&&Math.abs(h)>=s-c&&(d=!1),!d)break}return e[0]=r,a.toString()},sc.prototype.sqr=function(){return this.multiply(this)},sc.prototype.doubleValue=function(){return this._hi+this._lo},sc.prototype.subtract=function(){if(arguments[0]instanceof sc){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},sc.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},sc.prototype.isZero=function(){return 0===this._hi&&0===this._lo},sc.prototype.selfSubtract=function(){if(arguments[0]instanceof sc){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},sc.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},sc.prototype.min=function(t){return this.le(t)?this:t},sc.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof sc){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,c=null,l=null,u=null,p=null;return this._hi=p=(c=this._hi/n)+(l=(this._hi-(u=c*n)-(p=(i=(l=sc.SPLIT*c)-(i=l-c))*(a=(p=sc.SPLIT*n)-(a=p-n))-u+i*(s=n-a)+(o=c-i)*a+o*s)+this._lo-c*r)/n),this._lo=c-p+l,this}},sc.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},sc.prototype.divide=function(){if(arguments[0]instanceof sc){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,a=null,s=null,c=null;return n=(o=this._hi/t._hi)-(e=(a=sc.SPLIT*o)-(e=a-o)),c=e*(r=(c=sc.SPLIT*t._hi)-(r=c-t._hi))-(s=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,new sc(c=o+(a=(this._hi-s-c+this._lo-o*t._lo)/t._hi),o-c+a)}if("number"==typeof arguments[0]){var l=arguments[0];return Hs.isNaN(l)?sc.createNaN():sc.copy(this).selfDivide(l,0)}},sc.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},sc.prototype.pow=function(t){if(0===t)return sc.valueOf(1);var e=new sc(this),n=sc.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},sc.prototype.ceil=function(){if(this.isNaN())return sc.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new sc(t,e)},sc.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},sc.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},sc.prototype.setValue=function(){if(arguments[0]instanceof sc){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},sc.prototype.max=function(t){return this.ge(t)?this:t},sc.prototype.sqrt=function(){if(this.isZero())return sc.valueOf(0);if(this.isNegative())return sc.NaN;var t=1/Math.sqrt(this._hi),e=sc.valueOf(this._hi*t),n=this.subtract(e.sqr())._hi*(.5*t);return e.add(n)},sc.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof sc){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,a=null;return this._hi=(n=(i=this._hi+e)+(a=e-(o=i-this._hi)+(this._hi-(i-o))+this._lo))+(r=a+(i-n)),this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var s=arguments[0],c=arguments[1],l=null,u=null,p=null,d=null,h=null,f=null,m=null;h=(d=this._hi+s)-(f=d-this._hi),p=(u=this._lo+c)-(m=u-this._lo);var g=(l=d+(f=(h=s-f+(this._hi-h))+u))+(f=(p=c-m+(this._lo-p))+(f+(d-l))),y=f+(l-g);return this._hi=g,this._lo=y,this}},sc.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof sc){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,c=null,l=null;i=(c=sc.SPLIT*this._hi)-this._hi,i=c-i;var u=(c=this._hi*n)+(l=i*(a=(l=sc.SPLIT*n)-(a=l-n))-c+i*(s=n-a)+(o=this._hi-i)*a+o*s+(this._hi*r+this._lo*n)),p=l+(i=c-u);return this._hi=u,this._lo=p,this}},sc.prototype.selfSqr=function(){return this.selfMultiply(this)},sc.prototype.floor=function(){if(this.isNaN())return sc.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new sc(t,e)},sc.prototype.negate=function(){return this.isNaN()?this:new sc(-this._hi,-this._lo)},sc.prototype.clone=function(){},sc.prototype.multiply=function(){if(arguments[0]instanceof sc){var t=arguments[0];return t.isNaN()?sc.createNaN():sc.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Hs.isNaN(e)?sc.createNaN():sc.copy(this).selfMultiply(e,0)}},sc.prototype.isNaN=function(){return Hs.isNaN(this._hi)},sc.prototype.intValue=function(){return Math.trunc(this._hi)},sc.prototype.toString=function(){var t=sc.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},sc.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;return"."===n.charAt(0)?i="0"+n:r<0?i="0."+sc.stringOfChar("0",-r)+n:-1===n.indexOf(".")&&(i=n+sc.stringOfChar("0",r-n.length)+".0"),this.isNegative()?"-"+i:i},sc.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,a=null,s=null;t=(n=1/this._hi)-(i=(a=sc.SPLIT*n)-(i=a-n)),o=(s=sc.SPLIT*this._hi)-this._hi;var c=n+(a=(1-(r=n*this._hi)-(s=i*(o=s-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new sc(c,n-c+a)},sc.prototype.toSciNotation=function(){if(this.isZero())return sc.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=sc.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},sc.prototype.abs=function(){return this.isNaN()?sc.NaN:this.isNegative()?this.negate():new sc(this)},sc.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},sc.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},sc.prototype.add=function(){if(arguments[0]instanceof sc){var t=arguments[0];return sc.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return sc.copy(this).selfAdd(e)}},sc.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof sc){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},sc.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},sc.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},sc.prototype.trunc=function(){return this.isNaN()?sc.NaN:this.isPositive()?this.floor():this.ceil()},sc.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},sc.prototype.interfaces_=function(){return[gi,Us,Xs]},sc.prototype.getClass=function(){return sc},sc.sqr=function(t){return sc.valueOf(t).selfMultiply(t)},sc.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return sc.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new sc(e)}},sc.sqrt=function(t){return sc.valueOf(t).sqrt()},sc.parse=function(t){for(var e=0,n=t.length;ac.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new sc,a=0,s=0,c=0;!(e>=n);){var l=t.charAt(e);if(e++,ac.isDigit(l)){var u=l-"0";o.selfMultiply(sc.TEN),o.selfAdd(u),a++}else{if("."!==l){if("e"===l||"E"===l){var p=t.substring(e);try{c=oc.parseInt(p)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+p+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}s=a}}var d=o,h=a-s-c;if(0===h)d=o;else if(h>0){var f=sc.TEN.pow(h);d=o.divide(f)}else if(h<0){var m=sc.TEN.pow(-h);d=o.multiply(m)}return r?d.negate():d},sc.createNaN=function(){return new sc(Hs.NaN,Hs.NaN)},sc.copy=function(t){return new sc(t)},sc.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},sc.stringOfChar=function(t,e){for(var n=new ic,r=0;r<e;r++)n.append(t);return n.toString()},cc.PI.get=function(){return new sc(3.141592653589793,12246467991473532e-32)},cc.TWO_PI.get=function(){return new sc(6.283185307179586,24492935982947064e-32)},cc.PI_2.get=function(){return new sc(1.5707963267948966,6123233995736766e-32)},cc.E.get=function(){return new sc(2.718281828459045,14456468917292502e-32)},cc.NaN.get=function(){return new sc(Hs.NaN,Hs.NaN)},cc.EPS.get=function(){return 123259516440783e-46},cc.SPLIT.get=function(){return 134217729},cc.MAX_PRINT_DIGITS.get=function(){return 32},cc.TEN.get=function(){return sc.valueOf(10)},cc.ONE.get=function(){return sc.valueOf(1)},cc.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},cc.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(sc,cc);var lc=function(){},uc={DP_SAFE_EPSILON:{configurable:!0}};lc.prototype.interfaces_=function(){return[]},lc.prototype.getClass=function(){return lc},lc.orientationIndex=function(t,e,n){var r=lc.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=sc.valueOf(e.x).selfAdd(-t.x),o=sc.valueOf(e.y).selfAdd(-t.y),a=sc.valueOf(n.x).selfAdd(-e.x),s=sc.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},lc.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},lc.intersection=function(t,e,n,r){var i=sc.valueOf(r.y).selfSubtract(n.y).selfMultiply(sc.valueOf(e.x).selfSubtract(t.x)),o=sc.valueOf(r.x).selfSubtract(n.x).selfMultiply(sc.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=sc.valueOf(r.x).selfSubtract(n.x).selfMultiply(sc.valueOf(t.y).selfSubtract(n.y)),c=sc.valueOf(r.y).selfSubtract(n.y).selfMultiply(sc.valueOf(t.x).selfSubtract(n.x)),l=s.subtract(c).selfDivide(a).doubleValue(),u=sc.valueOf(t.x).selfAdd(sc.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),p=sc.valueOf(e.x).selfSubtract(t.x).selfMultiply(sc.valueOf(t.y).selfSubtract(n.y)),d=sc.valueOf(e.y).selfSubtract(t.y).selfMultiply(sc.valueOf(t.x).selfSubtract(n.x)),h=p.subtract(d).selfDivide(a).doubleValue(),f=sc.valueOf(n.y).selfAdd(sc.valueOf(r.y).selfSubtract(n.y).selfMultiply(h)).doubleValue();return new Js(u,f)},lc.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(o<=0)return lc.signum(a);r=i+o}else{if(!(i<0))return lc.signum(a);if(o>=0)return lc.signum(a);r=-i-o}var s=lc.DP_SAFE_EPSILON*r;return a>=s||-a>=s?lc.signum(a):2},lc.signum=function(t){return t>0?1:t<0?-1:0},uc.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(lc,uc);var pc=function(){},dc={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};dc.X.get=function(){return 0},dc.Y.get=function(){return 1},dc.Z.get=function(){return 2},dc.M.get=function(){return 3},pc.prototype.setOrdinate=function(t,e,n){},pc.prototype.size=function(){},pc.prototype.getOrdinate=function(t,e){},pc.prototype.getCoordinate=function(){},pc.prototype.getCoordinateCopy=function(t){},pc.prototype.getDimension=function(){},pc.prototype.getX=function(t){},pc.prototype.clone=function(){},pc.prototype.expandEnvelope=function(t){},pc.prototype.copy=function(){},pc.prototype.getY=function(t){},pc.prototype.toCoordinateArray=function(){},pc.prototype.interfaces_=function(){return[Xs]},pc.prototype.getClass=function(){return pc},Object.defineProperties(pc,dc);var hc=function(){},fc=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hc),mc=function(){};mc.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;a<e+i;a++)n[r+o]=t[a],o++},mc.getProperty=function(t){return{"line.separator":"\n"}[t]};var gc=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof Js&&arguments[1]instanceof Js){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var c=arguments[0],l=arguments[1],u=arguments[2];this.x=c,this.y=l,this.w=u}else if(4===arguments.length){var p=arguments[0],d=arguments[1],h=arguments[2],f=arguments[3],m=p.y-d.y,g=d.x-p.x,y=p.x*d.y-d.x*p.y,_=h.y-f.y,v=f.x-h.x,b=h.x*f.y-f.x*h.y;this.x=g*b-v*y,this.y=_*y-m*b,this.w=m*v-_*g}};gc.prototype.getY=function(){var t=this.y/this.w;if(Hs.isNaN(t)||Hs.isInfinite(t))throw new fc;return t},gc.prototype.getX=function(){var t=this.x/this.w;if(Hs.isNaN(t)||Hs.isInfinite(t))throw new fc;return t},gc.prototype.getCoordinate=function(){var t=new Js;return t.x=this.getX(),t.y=this.getY(),t},gc.prototype.interfaces_=function(){return[]},gc.prototype.getClass=function(){return gc},gc.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-r.y,c=r.x-n.x,l=n.x*r.y-r.x*n.y,u=i*c-s*o,p=(o*l-c*a)/u,d=(s*a-i*l)/u;if(Hs.isNaN(p)||Hs.isInfinite(p)||Hs.isNaN(d)||Hs.isInfinite(d))throw new fc;return new Js(p,d)};var yc=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof Js){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],c=arguments[3];this.init(o,a,s,c)}},_c={serialVersionUID:{configurable:!0}};yc.prototype.getArea=function(){return this.getWidth()*this.getHeight()},yc.prototype.equals=function(t){if(!(t instanceof yc))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},yc.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new yc:new yc(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},yc.prototype.isNull=function(){return this._maxx<this._minx},yc.prototype.getMaxX=function(){return this._maxx},yc.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof Js){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof yc){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},yc.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof yc){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof Js){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},yc.prototype.getMinY=function(){return this._miny},yc.prototype.getMinX=function(){return this._minx},yc.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof Js){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof yc){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},yc.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},yc.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},yc.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},yc.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},yc.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},yc.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},yc.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},yc.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},yc.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},yc.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof yc){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof Js){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},yc.prototype.centre=function(){return this.isNull()?null:new Js((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},yc.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof Js){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof yc){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},yc.prototype.getMaxY=function(){return this._maxy},yc.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},yc.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+Js.hashCode(this._minx))+Js.hashCode(this._maxx))+Js.hashCode(this._miny))+Js.hashCode(this._maxy)},yc.prototype.interfaces_=function(){return[Us,gi]},yc.prototype.getClass=function(){return yc},yc.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),c=Math.max(o.x,a.x),l=Math.min(r.x,i.x),u=Math.max(r.x,i.x);return!(l>c||u<s||(s=Math.min(o.y,a.y),c=Math.max(o.y,a.y),l=Math.min(r.y,i.y),u=Math.max(r.y,i.y),l>c||u<s))}},_c.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(yc,_c);var vc={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},bc=function(t){this.geometryFactory=t||new Yl};bc.prototype.read=function(t){var e,n;t=t.replace(/[\n\r]/g," ");var r=vc.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=vc.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),xc[n]&&(e=xc[n].apply(this,[r[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},bc.prototype.write=function(t){return this.extractGeometry(t)},bc.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Mc[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Mc[e].apply(this,[t])+")"};var Mc={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Mc.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Mc.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Mc.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Mc.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Mc.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Mc.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Mc.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Mc.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},xc={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(vc.spaces);return this.geometryFactory.createPoint(new Js(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(vc.trimParens,"$1"),r.push(xc.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(vc.spaces),r.push(new Js(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(vc.spaces),r.push(new Js(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(vc.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(vc.trimParens,"$1"),r.push(xc.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(vc.parenComma),a=[],s=0,c=o.length;s<c;++s)e=o[s].replace(vc.trimParens,"$1"),n=xc.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(vc.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(vc.trimParens,"$1"),r.push(xc.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},wc=function(t){this.parser=new bc(t)};wc.prototype.write=function(t){return this.parser.write(t)},wc.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Cc=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Sc=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Cc),Ec=function(){};Ec.prototype.interfaces_=function(){return[]},Ec.prototype.getClass=function(){return Ec},Ec.shouldNeverReachHere=function(){if(0===arguments.length)Ec.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Sc("Should never reach here"+(null!==t?": "+t:""))}},Ec.isTrue=function(){var t;if(1===arguments.length)Ec.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new Sc:new Sc(t)},Ec.equals=function(){var t,e,n;if(2===arguments.length)Ec.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(n=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new Sc("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Tc=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Js,this._intPt[1]=new Js,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Oc={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Tc.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Tc.prototype.getTopologySummary=function(){var t=new ic;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Tc.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},Tc.prototype.getIntersectionNum=function(){return this._result},Tc.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Tc.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Tc.prototype.setPrecisionModel=function(t){this._precisionModel=t},Tc.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Tc.prototype.getIntersection=function(t){return this._intPt[t]},Tc.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Tc.prototype.hasIntersection=function(){return this._result!==Tc.NO_INTERSECTION},Tc.prototype.getEdgeDistance=function(t,e){return Tc.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Tc.prototype.isCollinear=function(){return this._result===Tc.COLLINEAR_INTERSECTION},Tc.prototype.toString=function(){return wc.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+wc.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Tc.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Tc.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Tc.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Tc.prototype.interfaces_=function(){return[]},Tc.prototype.getClass=function(){return Tc},Tc.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return Ec.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Tc.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return Ec.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Oc.DONT_INTERSECT.get=function(){return 0},Oc.DO_INTERSECT.get=function(){return 1},Oc.COLLINEAR.get=function(){return 2},Oc.NO_INTERSECTION.get=function(){return 0},Oc.POINT_INTERSECTION.get=function(){return 1},Oc.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Tc,Oc);var Ac=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new yc(this._inputLines[0][0],this._inputLines[0][1]),n=new yc(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,yc.intersects(n,r,e)&&0===kc.orientationIndex(n,r,e)&&0===kc.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=gc.intersection(t,n,r,i)}catch(a){if(!(a instanceof fc))throw a;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new Js(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=lc.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);mc.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&mc.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new Js(t),o=new Js(e),a=new Js(n),s=new Js(r),c=new Js;this.normalizeToEnvCentre(i,o,a,s,c);var l=this.safeHCoordinateIntersection(i,o,a,s);return l.x+=c.x,l.y+=c.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=yc.intersects(e,n,r),a=yc.intersects(e,n,i),s=yc.intersects(r,i,e),c=yc.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):s&&c?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||a||c?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&c?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||c?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&c?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,c=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,u=n.y<r.y?n.y:r.y,p=n.x>r.x?n.x:r.x,d=n.y>r.y?n.y:r.y,h=((a>u?a:u)+(c<d?c:d))/2;i.x=((o>l?o:l)+(s<p?s:p))/2,i.y=h,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!yc.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=kc.orientationIndex(e,n,r),a=kc.orientationIndex(e,n,i);if(o>0&&a>0||o<0&&a<0)return t.NO_INTERSECTION;var s=kc.orientationIndex(r,i,e),c=kc.orientationIndex(r,i,n);return s>0&&c>0||s<0&&c<0?t.NO_INTERSECTION:0===o&&0===a&&0===s&&0===c?this.computeCollinearIntersection(e,n,r,i):(0===o||0===a||0===s||0===c?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new Js(r):0===a?this._intPt[0]=new Js(i):0===s?this._intPt[0]=new Js(e):0===c&&(this._intPt[0]=new Js(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=kc.distancePointLine(t,n,r),a=kc.distancePointLine(e,n,r);return a<o&&(o=a,i=e),(a=kc.distancePointLine(n,t,e))<o&&(o=a,i=n),(a=kc.distancePointLine(r,t,e))<o&&(o=a,i=r),i},e}(Tc),Pc=function(){};Pc.prototype.interfaces_=function(){return[]},Pc.prototype.getClass=function(){return Pc},Pc.orientationIndex=function(t,e,n){return Pc.signOfDet2x2(e.x-t.x,e.y-t.y,n.x-e.x,n.y-e.y)},Pc.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(a=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=a*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(a=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=a*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var Lc=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};Lc.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.y-this._p.y,o=e.y-this._p.y,a=Pc.signOfDet2x2(t.x-this._p.x,i,e.x-this._p.x,o);if(0===a)return this._isPointOnSegment=!0,null;o<i&&(a=-a),a>0&&this._crossingCount++}},Lc.prototype.isPointInPolygon=function(){return this.getLocation()!==Qs.EXTERIOR},Lc.prototype.getLocation=function(){return this._isPointOnSegment?Qs.BOUNDARY:this._crossingCount%2==1?Qs.INTERIOR:Qs.EXTERIOR},Lc.prototype.isOnSegment=function(){return this._isPointOnSegment},Lc.prototype.interfaces_=function(){return[]},Lc.prototype.getClass=function(){return Lc},Lc.locatePointInRing=function(){if(arguments[0]instanceof Js&&ec(arguments[1],pc)){for(var t=arguments[0],e=arguments[1],n=new Lc(t),r=new Js,i=new Js,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof Js&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],c=new Lc(a),l=1;l<s.length;l++){var u=s[l],p=s[l-1];if(c.countSegment(u,p),c.isOnSegment())return c.getLocation()}return c.getLocation()}};var kc=function(){},Ic={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc},kc.orientationIndex=function(t,e,n){return lc.orientationIndex(t,e,n)},kc.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(ec(arguments[0],pc)){var a=arguments[0],s=a.size();if(s<3)return 0;var c=new Js,l=new Js,u=new Js;a.getCoordinate(0,l),a.getCoordinate(1,u);var p=l.x;u.x-=p;for(var d=0,h=1;h<s-1;h++)c.y=l.y,l.x=u.x,l.y=u.y,a.getCoordinate(h+1,u),u.x-=p,d+=l.x*(c.y-u.y);return d/2}},kc.distanceLineLine=function(t,e,n,r){if(t.equals(e))return kc.distancePointLine(t,n,r);if(n.equals(r))return kc.distancePointLine(r,t,e);var i=!1;if(yc.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,s=((t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y))/o;(s<0||s>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?nc.min(kc.distancePointLine(t,n,r),kc.distancePointLine(e,n,r),kc.distancePointLine(n,t,e),kc.distancePointLine(r,t,e)):0},kc.isPointInRing=function(t,e){return kc.locatePointInRing(t,e)!==Qs.EXTERIOR},kc.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new Js;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,c=r.y,l=s-i,u=c-o;n+=Math.sqrt(l*l+u*u),i=s,o=c}return n},kc.isCCW=function(t){var e=t.length-1;if(e<3)throw new Ys("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==r);var c=t[a],l=t[s];if(c.equals2D(n)||l.equals2D(n)||c.equals2D(l))return!1;var u=kc.computeOrientation(c,n,l);return 0===u?c.x>l.x:u>0},kc.locatePointInRing=function(t,e){return Lc.locatePointInRing(t,e)},kc.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y);return Math.abs(((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r)*Math.sqrt(r)},kc.computeOrientation=function(t,e,n){return kc.orientationIndex(t,e,n)},kc.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Ys("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=kc.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var c=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),l=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/c;if(l<=0)return o.distance(a);if(l>=1)return o.distance(s);var u=((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/c;return Math.abs(u)*Math.sqrt(c)}},kc.isOnLine=function(t,e){for(var n=new Ac,r=1;r<e.length;r++)if(n.computeIntersection(t,e[r-1],e[r]),n.hasIntersection())return!0;return!1},Ic.CLOCKWISE.get=function(){return-1},Ic.RIGHT.get=function(){return kc.CLOCKWISE},Ic.COUNTERCLOCKWISE.get=function(){return 1},Ic.LEFT.get=function(){return kc.COUNTERCLOCKWISE},Ic.COLLINEAR.get=function(){return 0},Ic.STRAIGHT.get=function(){return kc.COLLINEAR},Object.defineProperties(kc,Ic);var Dc=function(){};Dc.prototype.filter=function(t){},Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc};var Nc=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Rc={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Nc.prototype.isGeometryCollection=function(){return this.getSortIndex()===Nc.SORTINDEX_GEOMETRYCOLLECTION},Nc.prototype.getFactory=function(){return this._factory},Nc.prototype.getGeometryN=function(t){return this},Nc.prototype.getArea=function(){return 0},Nc.prototype.isRectangle=function(){return!1},Nc.prototype.equals=function(){if(arguments[0]instanceof Nc){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof Nc))return!1;var n=e;return this.equalsExact(n)}},Nc.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Nc.prototype.geometryChanged=function(){this.apply(Nc.geometryChangedFilter)},Nc.prototype.geometryChangedAction=function(){this._envelope=null},Nc.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Nc.prototype.getLength=function(){return 0},Nc.prototype.getNumGeometries=function(){return 1},Nc.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},Nc.prototype.getUserData=function(){return this._userData},Nc.prototype.getSRID=function(){return this._SRID},Nc.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Nc.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Nc.SORTINDEX_GEOMETRYCOLLECTION)throw new Ys("This method does not support GeometryCollection arguments")},Nc.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Nc.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Nc.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Nc.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new yc(this._envelope)},Nc.prototype.setSRID=function(t){this._SRID=t},Nc.prototype.setUserData=function(t){this._userData=t},Nc.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},Nc.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Nc.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Nc.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Nc.SORTINDEX_MULTIPOINT||this.getSortIndex()===Nc.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Nc.SORTINDEX_MULTIPOLYGON},Nc.prototype.interfaces_=function(){return[Xs,Us,gi]},Nc.prototype.getClass=function(){return Nc},Nc.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Nc.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Rc.serialVersionUID.get=function(){return 0x799ea46522854c00},Rc.SORTINDEX_POINT.get=function(){return 0},Rc.SORTINDEX_MULTIPOINT.get=function(){return 1},Rc.SORTINDEX_LINESTRING.get=function(){return 2},Rc.SORTINDEX_LINEARRING.get=function(){return 3},Rc.SORTINDEX_MULTILINESTRING.get=function(){return 4},Rc.SORTINDEX_POLYGON.get=function(){return 5},Rc.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Rc.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Rc.geometryChangedFilter.get=function(){return zc},Object.defineProperties(Nc,Rc);var zc=function(){};zc.interfaces_=function(){return[Dc]},zc.filter=function(t){t.geometryChangedAction()};var Fc=function(){};Fc.prototype.filter=function(t){},Fc.prototype.interfaces_=function(){return[]},Fc.prototype.getClass=function(){return Fc};var jc=function(){},Bc={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};jc.prototype.isInBoundary=function(t){},jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc},Bc.Mod2BoundaryNodeRule.get=function(){return qc},Bc.EndPointBoundaryNodeRule.get=function(){return Vc},Bc.MultiValentEndPointBoundaryNodeRule.get=function(){return Yc},Bc.MonoValentEndPointBoundaryNodeRule.get=function(){return Hc},Bc.MOD2_BOUNDARY_RULE.get=function(){return new qc},Bc.ENDPOINT_BOUNDARY_RULE.get=function(){return new Vc},Bc.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Yc},Bc.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Hc},Bc.OGC_SFS_BOUNDARY_RULE.get=function(){return jc.MOD2_BOUNDARY_RULE},Object.defineProperties(jc,Bc);var qc=function(){};qc.prototype.isInBoundary=function(t){return t%2==1},qc.prototype.interfaces_=function(){return[jc]},qc.prototype.getClass=function(){return qc};var Vc=function(){};Vc.prototype.isInBoundary=function(t){return t>0},Vc.prototype.interfaces_=function(){return[jc]},Vc.prototype.getClass=function(){return Vc};var Yc=function(){};Yc.prototype.isInBoundary=function(t){return t>1},Yc.prototype.interfaces_=function(){return[jc]},Yc.prototype.getClass=function(){return Yc};var Hc=function(){};Hc.prototype.isInBoundary=function(t){return 1===t},Hc.prototype.interfaces_=function(){return[jc]},Hc.prototype.getClass=function(){return Hc};var Wc=function(){};Wc.prototype.add=function(){},Wc.prototype.addAll=function(){},Wc.prototype.isEmpty=function(){},Wc.prototype.iterator=function(){},Wc.prototype.size=function(){},Wc.prototype.toArray=function(){},Wc.prototype.remove=function(){};var Uc=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),Xc=function(){};Xc.prototype.hasNext=function(){},Xc.prototype.next=function(){},Xc.prototype.remove=function(){};var Gc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Wc);(yi.prototype=new Error).name="NoSuchElementException";var Jc=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Wc&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Wc]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new $c(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new Uc;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(Gc),$c=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new yi;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Xc),Kc=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=!1,i=e.iterator();i.hasNext();)this.add(i.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof Js&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],c=arguments[1];if(arguments[2])for(var l=0;l<s.length;l++)this.add(s[l],c);else for(var u=s.length-1;u>=0;u--)this.add(s[u],c);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof Js){var p=arguments[0],d=arguments[1];if(!arguments[2]){var h=this.size();if(h>0){if(p>0&&this.get(p-1).equals2D(d))return null;if(p<h&&this.get(p).equals2D(d))return null}}t.prototype.add.call(this,p,d)}}else if(4===arguments.length){var f=arguments[0],m=arguments[1],g=arguments[2],y=arguments[3],_=1;g>y&&(_=-1);for(var v=g;v!==y;v+=_)this.add(f[v],m);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new Js(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Jc),Zc=function(){},Qc={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Qc.ForwardComparator.get=function(){return tl},Qc.BidirectionalComparator.get=function(){return el},Qc.coordArrayType.get=function(){return new Array(0).fill(null)},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc},Zc.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Zc.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Zc.indexOf(r,e)<0)return r}return null},Zc.scroll=function(t,e){var n=Zc.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);mc.arraycopy(t,n,r,0,t.length-n),mc.arraycopy(t,0,r,t.length-n,n),mc.arraycopy(r,0,t,0,t.length)},Zc.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},Zc.intersection=function(t,e){for(var n=new Kc,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Zc.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Zc.removeRepeatedPoints=function(t){return Zc.hasRepeatedPoints(t)?new Kc(t,!1).toCoordinateArray():t},Zc.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Zc.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Zc.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new Js(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],c=0;c<s;c++)o[a+c]=new Js(r[i+c])},Zc.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++)if(0!==t[n].compareTo(e[t.length-n-1]))return!1;return!0},Zc.envelope=function(t){for(var e=new yc,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Zc.toCoordinateArray=function(t){return t.toArray(Zc.coordArrayType)},Zc.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Zc.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Zc.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t[e].compareTo(t[t.length-1-e]);if(0!==n)return n}return 1},Zc.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Zc.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Zc.extract=function(t,e,n){e=nc.clamp(e,0,t.length);var r=(n=nc.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;a<=n;a++)i[o++]=t[a];return i},Object.defineProperties(Zc,Qc);var tl=function(){};tl.prototype.compare=function(t,e){return Zc.compare(t,e)},tl.prototype.interfaces_=function(){return[Gs]},tl.prototype.getClass=function(){return tl};var el=function(){};el.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Zc.compare(n,r);return Zc.isEqualReversed(n,r)?0:i},el.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Zc.increasingDirection(n),o=Zc.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,c=0;c<n.length;c++){var l=n[a].compareTo(r[s]);if(0!==l)return l;a+=i,s+=o}return 0},el.prototype.interfaces_=function(){return[Gs]},el.prototype.getClass=function(){return el};var nl=function(){};nl.prototype.get=function(){},nl.prototype.put=function(){},nl.prototype.size=function(){},nl.prototype.values=function(){},nl.prototype.entrySet=function(){};var rl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(nl);(_i.prototype=new Error).name="OperationNotSupported",(vi.prototype=new Wc).contains=function(){};var il=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Wc&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new ol(this)},e}(vi),ol=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new yi;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new _i},e}(Xc),al=0;(Si.prototype=new rl).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Si.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:al,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:al,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},Si.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Mi(t)===wi(Mi(Mi(t)))){var e=Ci(Mi(Mi(t)));1===bi(e)?(xi(Mi(t),al),xi(e,al),xi(Mi(Mi(t)),1),t=Mi(Mi(t))):(t===Ci(Mi(t))&&(t=Mi(t),this.rotateLeft(t)),xi(Mi(t),al),xi(Mi(Mi(t)),1),this.rotateRight(Mi(Mi(t))))}else{var n=wi(Mi(Mi(t)));1===bi(n)?(xi(Mi(t),al),xi(n,al),xi(Mi(Mi(t)),1),t=Mi(Mi(t))):(t===wi(Mi(t))&&(t=Mi(t),this.rotateRight(t)),xi(Mi(t),al),xi(Mi(Mi(t)),1),this.rotateLeft(Mi(Mi(t))))}this.root_.color=al},Si.prototype.values=function(){var t=new Jc,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Si.successor(e));)t.add(e.value);return t},Si.prototype.entrySet=function(){var t=new il,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Si.successor(e));)t.add(e);return t},Si.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Si.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Si.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Si.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Si.prototype.size=function(){return this.size_};var sl=function(){};sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl},Ei.prototype=new vi,(Ti.prototype=new Ei).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Ti.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Ti.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Ti.prototype.remove=function(t){throw new _i},Ti.prototype.size=function(){return this.array_.length},Ti.prototype.isEmpty=function(){return 0===this.array_.length},Ti.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Ti.prototype.iterator=function(){return new cl(this)};var cl=function(t){this.treeSet_=t,this.position_=0};cl.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new yi;return this.treeSet_.array_[this.position_++]},cl.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},cl.prototype.remove=function(){throw new _i};var ll=function(){};ll.sort=function(){var t,e,n,r=arguments[0];if(1===arguments.length)r.sort((function(t,e){return t.compareTo(e)}));else if(2===arguments.length)n=arguments[1],r.sort((function(t,e){return n.compare(t,e)}));else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],e.sort((function(t,e){return n.compare(t,e)})),i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])},ll.asList=function(t){for(var e=new Jc,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var ul=function(){},pl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};pl.P.get=function(){return 0},pl.L.get=function(){return 1},pl.A.get=function(){return 2},pl.FALSE.get=function(){return-1},pl.TRUE.get=function(){return-2},pl.DONTCARE.get=function(){return-3},pl.SYM_FALSE.get=function(){return"F"},pl.SYM_TRUE.get=function(){return"T"},pl.SYM_DONTCARE.get=function(){return"*"},pl.SYM_P.get=function(){return"0"},pl.SYM_L.get=function(){return"1"},pl.SYM_A.get=function(){return"2"},ul.prototype.interfaces_=function(){return[]},ul.prototype.getClass=function(){return ul},ul.toDimensionSymbol=function(t){switch(t){case ul.FALSE:return ul.SYM_FALSE;case ul.TRUE:return ul.SYM_TRUE;case ul.DONTCARE:return ul.SYM_DONTCARE;case ul.P:return ul.SYM_P;case ul.L:return ul.SYM_L;case ul.A:return ul.SYM_A}throw new Ys("Unknown dimension value: "+t)},ul.toDimensionValue=function(t){switch(ac.toUpperCase(t)){case ul.SYM_FALSE:return ul.FALSE;case ul.SYM_TRUE:return ul.TRUE;case ul.SYM_DONTCARE:return ul.DONTCARE;case ul.SYM_P:return ul.P;case ul.SYM_L:return ul.L;case ul.SYM_A:return ul.A}throw new Ys("Unknown dimension symbol: "+t)},Object.defineProperties(ul,pl);var dl=function(){};dl.prototype.filter=function(t){},dl.prototype.interfaces_=function(){return[]},dl.prototype.getClass=function(){return dl};var hl=function(){};hl.prototype.filter=function(t,e){},hl.prototype.isDone=function(){},hl.prototype.isGeometryChanged=function(){},hl.prototype.interfaces_=function(){return[]},hl.prototype.getClass=function(){return hl};var fl=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Ys("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new yc,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();ll.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=ul.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=ul.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Ti(ll.asList(this._geometries)),n=new Ti(ll.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,a=this.getNumGeometries(),s=o.getNumGeometries(),c=0;c<a&&c<s;){var l=this.getGeometryN(c),u=o.getGeometryN(c),p=l.compareToSameClass(u,i);if(0!==p)return p;c++}return c<a?1:c<s?-1:0}},e.prototype.apply=function(){if(ec(arguments[0],Fc))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(ec(arguments[0],hl)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(ec(arguments[0],dl)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(ec(arguments[0],Dc)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Ec.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Nc),ml=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Nc.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?ul.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new gl(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[sl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(fl),gl=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=jc.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};gl.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},gl.prototype.getBoundary=function(){return this._geom instanceof Ml?this.boundaryLineString(this._geom):this._geom instanceof ml?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},gl.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},gl.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},gl.prototype.computeBoundaryCoordinates=function(t){var e=new Jc;this._endpointMap=new Si;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return Zc.toCoordinateArray(e)},gl.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new yl,this._endpointMap.put(t,e)),e.count++},gl.prototype.interfaces_=function(){return[]},gl.prototype.getClass=function(){return gl},gl.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new gl(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new gl(e,n).getBoundary()}};var yl=function(){this.count=null};yl.prototype.interfaces_=function(){return[]},yl.prototype.getClass=function(){return yl};var _l=function(){},vl={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};_l.prototype.interfaces_=function(){return[]},_l.prototype.getClass=function(){return _l},_l.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},_l.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new function(){}(new function(){}(_l.getStackTrace(r))),s=0;s<i;s++)try{o+=a.readLine()+_l.NEWLINE}catch(t){if(!(t instanceof Oi))throw t;Ec.shouldNeverReachHere()}return o}},_l.split=function(t,e){for(var n=e.length,r=new Jc,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),c=0;c<s.length;c++)s[c]=r.get(c);return s},_l.toString=function(){if(1===arguments.length){var t=arguments[0];return _l.SIMPLE_ORDINATE_FORMAT.format(t)}},_l.spaces=function(t){return _l.chars(" ",t)},vl.NEWLINE.get=function(){return mc.getProperty("line.separator")},vl.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(_l,vl);var bl=function(){};bl.prototype.interfaces_=function(){return[]},bl.prototype.getClass=function(){return bl},bl.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},bl.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,pc.X)===t.getOrdinate(e-1,pc.X)&&t.getOrdinate(0,pc.Y)===t.getOrdinate(e-1,pc.Y)},bl.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=t.getOrdinate(i,o),s=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||Hs.isNaN(a)&&Hs.isNaN(s)))return!1}return!0},bl.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(bl.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)bl.copy(e,i-1,r,o,1);return r},bl.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)bl.swap(t,r,e-r)},bl.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},bl.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)bl.copyCoord(t,e+o,n,r+o)},bl.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new ic;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(_l.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},bl.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?bl.createClosedRing(t,e,4):e.getOrdinate(0,pc.X)===e.getOrdinate(n-1,pc.X)&&e.getOrdinate(0,pc.Y)===e.getOrdinate(n-1,pc.Y)?e:bl.createClosedRing(t,e,n+1)},bl.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();bl.copy(e,0,r,0,i);for(var o=i;o<n;o++)bl.copy(e,0,r,o,1);return r};var Ml=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new yc:this._points.expandEnvelope(new yc)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&bl.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?ul.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return kc.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return bl.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(ec(arguments[0],Fc))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(ec(arguments[0],hl)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(ec(arguments[0],dl)||ec(arguments[0],Dc))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new gl(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Ys("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[sl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Nc),xl=function(){};xl.prototype.interfaces_=function(){return[]},xl.prototype.getClass=function(){return xl};var wl=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new yc;var t=new yc;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return ul.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(ec(arguments[0],Fc)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(ec(arguments[0],hl)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(ec(arguments[0],dl)||ec(arguments[0],Dc))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Ec.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[xl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Nc),Cl=function(){};Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl};var Sl=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new Ys("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new Ys("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(kc.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(kc.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var c=t.getX(s),l=t.getY(s);if(c!==o==(l!==a))return!1;o=c,a=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);ll.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);mc.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Zc.minCoordinate(e.getCoordinates());Zc.scroll(r,i),mc.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],kc.isCCW(e.getCoordinates())===n&&Zc.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,a=this._shell,s=o._shell,c=a.compareToSameClass(s,i);if(0!==c)return c;for(var l=this.getNumInteriorRing(),u=o.getNumInteriorRing(),p=0;p<l&&p<u;){var d=this.getInteriorRingN(p),h=o.getInteriorRingN(p),f=d.compareToSameClass(h,i);if(0!==f)return f;p++}return p<l?1:p<u?-1:0}},e.prototype.apply=function(t){if(ec(t,Fc)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(ec(t,hl)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(ec(t,dl))t.filter(this);else if(ec(t,Dc)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Cl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Nc),El=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Nc.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return ul.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[xl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(fl),Tl=function(t){function e(e,n){e instanceof Js&&n instanceof Yl&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Nc.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return ul.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return bl.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Ys("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Ys("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Ml),Ol=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Nc.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(t)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Jc,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Cl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(fl),Al=function(t){this._factory=t||null,this._isUserDataCopied=!1},Pl={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Al.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Al.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Al.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof fl?this.editGeometryCollection(t,e):t instanceof Sl?this.editPolygon(t,e):t instanceof wl||t instanceof Ml?e.edit(t,this._factory):(Ec.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Al.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new Jc,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===El?this._factory.createMultiPoint(r.toArray([])):n.getClass()===ml?this._factory.createMultiLineString(r.toArray([])):n.getClass()===Ol?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},Al.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new Jc,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al},Al.GeometryEditorOperation=function(){},Pl.NoOpGeometryOperation.get=function(){return Ll},Pl.CoordinateOperation.get=function(){return kl},Pl.CoordinateSequenceOperation.get=function(){return Il},Object.defineProperties(Al,Pl);var Ll=function(){};Ll.prototype.edit=function(t,e){return t},Ll.prototype.interfaces_=function(){return[Al.GeometryEditorOperation]},Ll.prototype.getClass=function(){return Ll};var kl=function(){};kl.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Tl?e.createLinearRing(n):t instanceof Ml?e.createLineString(n):t instanceof wl?n.length>0?e.createPoint(n[0]):e.createPoint():t},kl.prototype.interfaces_=function(){return[Al.GeometryEditorOperation]},kl.prototype.getClass=function(){return kl};var Il=function(){};Il.prototype.edit=function(t,e){return t instanceof Tl?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Ml?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof wl?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Il.prototype.interfaces_=function(){return[Al.GeometryEditorOperation]},Il.prototype.getClass=function(){return Il};var Dl=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new Js}else if(ec(arguments[0],pc)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var c=0;c<a;c++)this._coordinates[c]=new Js}},Nl={serialVersionUID:{configurable:!0}};Dl.prototype.setOrdinate=function(t,e,n){switch(e){case pc.X:this._coordinates[t].x=n;break;case pc.Y:this._coordinates[t].y=n;break;case pc.Z:this._coordinates[t].z=n;break;default:throw new Ys("invalid ordinateIndex")}},Dl.prototype.size=function(){return this._coordinates.length},Dl.prototype.getOrdinate=function(t,e){switch(e){case pc.X:return this._coordinates[t].x;case pc.Y:return this._coordinates[t].y;case pc.Z:return this._coordinates[t].z}return Hs.NaN},Dl.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},Dl.prototype.getCoordinateCopy=function(t){return new Js(this._coordinates[t])},Dl.prototype.getDimension=function(){return this._dimension},Dl.prototype.getX=function(t){return this._coordinates[t].x},Dl.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Dl(t,this._dimension)},Dl.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Dl.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Dl(t,this._dimension)},Dl.prototype.toString=function(){if(this._coordinates.length>0){var t=new ic(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Dl.prototype.getY=function(t){return this._coordinates[t].y},Dl.prototype.toCoordinateArray=function(){return this._coordinates},Dl.prototype.interfaces_=function(){return[pc,gi]},Dl.prototype.getClass=function(){return Dl},Nl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Dl,Nl);var Rl=function(){},zl={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Rl.prototype.readResolve=function(){return Rl.instance()},Rl.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Dl(t)}if(ec(arguments[0],pc)){var e=arguments[0];return new Dl(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new Dl(n):new Dl(n,r)}},Rl.prototype.interfaces_=function(){return[Zs,gi]},Rl.prototype.getClass=function(){return Rl},Rl.instance=function(){return Rl.instanceObject},zl.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},zl.instanceObject.get=function(){return new Rl},Object.defineProperties(Rl,zl);var Fl=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Jc,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new il;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(nl),jl=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ql){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},Bl={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};jl.prototype.equals=function(t){return t instanceof jl&&this._modelType===t._modelType&&this._scale===t._scale},jl.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new oc(n).compareTo(new oc(r))},jl.prototype.getScale=function(){return this._scale},jl.prototype.isFloating=function(){return this._modelType===jl.FLOATING||this._modelType===jl.FLOATING_SINGLE},jl.prototype.getType=function(){return this._modelType},jl.prototype.toString=function(){var t="UNKNOWN";return this._modelType===jl.FLOATING?t="Floating":this._modelType===jl.FLOATING_SINGLE?t="Floating-Single":this._modelType===jl.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},jl.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return Hs.isNaN(t)||this._modelType===jl.FLOATING_SINGLE?t:this._modelType===jl.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof Js){var e=arguments[0];if(this._modelType===jl.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},jl.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===jl.FLOATING?t=16:this._modelType===jl.FLOATING_SINGLE?t=6:this._modelType===jl.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},jl.prototype.setScale=function(t){this._scale=Math.abs(t)},jl.prototype.interfaces_=function(){return[gi,Us]},jl.prototype.getClass=function(){return jl},jl.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Bl.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Bl.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(jl,Bl);var ql=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Vl={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ql.prototype.readResolve=function(){return ql.nameToTypeMap.get(this._name)},ql.prototype.toString=function(){return this._name},ql.prototype.interfaces_=function(){return[gi]},ql.prototype.getClass=function(){return ql},Vl.serialVersionUID.get=function(){return-552860263173159e4},Vl.nameToTypeMap.get=function(){return new Fl},Object.defineProperties(ql,Vl),jl.Type=ql,jl.FIXED=new ql("FIXED"),jl.FLOATING=new ql("FLOATING"),jl.FLOATING_SINGLE=new ql("FLOATING SINGLE");var Yl=function t(){this._precisionModel=new jl,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?ec(arguments[0],Zs)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof jl&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Hl={serialVersionUID:{configurable:!0}};Yl.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Js(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Js(t.getMinX(),t.getMinY()),new Js(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Js(t.getMinX(),t.getMinY()),new Js(t.getMinX(),t.getMaxY()),new Js(t.getMaxX(),t.getMaxY()),new Js(t.getMaxX(),t.getMinY()),new Js(t.getMinX(),t.getMinY())]),null)},Yl.prototype.createLineString=function(t){return t?t instanceof Array?new Ml(this.getCoordinateSequenceFactory().create(t),this):ec(t,pc)?new Ml(t,this):void 0:new Ml(this.getCoordinateSequenceFactory().create([]),this)},Yl.prototype.createMultiLineString=function(){if(0===arguments.length)return new ml(null,this);if(1===arguments.length){var t=arguments[0];return new ml(t,this)}},Yl.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Yl.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof Sl)return this.createMultiPolygon(Yl.toPolygonArray(t));if(s instanceof Ml)return this.createMultiLineString(Yl.toLineStringArray(t));if(s instanceof wl)return this.createMultiPoint(Yl.toPointArray(t));Ec.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},Yl.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Yl.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Js){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(ec(arguments[0],pc)){var e=arguments[0];return new wl(e,this)}}},Yl.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Yl.prototype.createPolygon=function(){if(0===arguments.length)return new Sl(null,null,this);if(1===arguments.length){if(ec(arguments[0],pc)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Tl){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new Sl(r,i,this)}},Yl.prototype.getSRID=function(){return this._SRID},Yl.prototype.createGeometryCollection=function(){if(0===arguments.length)return new fl(null,this);if(1===arguments.length){var t=arguments[0];return new fl(t,this)}},Yl.prototype.createGeometry=function(t){return new Al(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},Yl.prototype.getPrecisionModel=function(){return this._precisionModel},Yl.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(ec(arguments[0],pc)){var e=arguments[0];return new Tl(e,this)}}},Yl.prototype.createMultiPolygon=function(){if(0===arguments.length)return new Ol(null,this);if(1===arguments.length){var t=arguments[0];return new Ol(t,this)}},Yl.prototype.createMultiPoint=function(){if(0===arguments.length)return new El(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new El(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(ec(arguments[0],pc)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());bl.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},Yl.prototype.interfaces_=function(){return[gi]},Yl.prototype.getClass=function(){return Yl},Yl.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Yl.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Yl.getDefaultCoordinateSequenceFactory=function(){return Rl.instance()},Yl.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Yl.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Yl.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Yl.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Yl.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Yl.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Yl.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Hl.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Yl,Hl);var Wl=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Ul=function(t){this.geometryFactory=t||new Yl};Ul.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!Xl[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Wl.indexOf(n)?Xl[n].apply(this,[e.coordinates]):Xl[n].apply(this,"GeometryCollection"===n?[e.geometries]:[e])},Ul.prototype.write=function(t){var e=t.getGeometryType();if(!Gl[e])throw new Error("Geometry is not supported");return Gl[e].apply(this,[t])};var Xl={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){if(!Xl[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Xl.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new Js(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new Js(t[0],t[1]),new Js(t[2],t[1]),new Js(t[2],t[3]),new Js(t[0],t[3]),new Js(t[0],t[1])])},Point:function(t){var e=new Js(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Xl.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Xl.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Xl.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Xl.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=Xl.coordinates.apply(this,[t[i]]),a=this.geometryFactory.createLinearRing(o);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Xl.Polygon.apply(this,[t[n]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n)e.push(this.read(t[n]));return this.geometryFactory.createGeometryCollection(e)}},Gl={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Gl.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=Gl.Point.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r)e.push(Gl.coordinate.apply(this,[n[r]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=Gl.LineString.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=Gl.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=Gl.LineString.apply(this,[t._holes[r]]);e.push(i.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=Gl.Polygon.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(Gl[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},Jl=function(t){this.geometryFactory=t||new Yl,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ul(this.geometryFactory)};Jl.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===jl.FIXED&&this.reducePrecision(e),e},Jl.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var $l=function(){this.parser=new Ul(this.geometryFactory)};$l.prototype.write=function(t){return this.parser.write(t)};var Kl=function(){},Zl={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl},Kl.opposite=function(t){return t===Kl.LEFT?Kl.RIGHT:t===Kl.RIGHT?Kl.LEFT:t},Zl.ON.get=function(){return 0},Zl.LEFT.get=function(){return 1},Zl.RIGHT.get=function(){return 2},Object.defineProperties(Kl,Zl),(Ai.prototype=new Error).name="EmptyStackException",(Pi.prototype=new Gc).add=function(t){return this.array_.push(t),!0},Pi.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Pi.prototype.push=function(t){return this.array_.push(t),t},Pi.prototype.pop=function(t){if(0===this.array_.length)throw new Ai;return this.array_.pop()},Pi.prototype.peek=function(){if(0===this.array_.length)throw new Ai;return this.array_[this.array_.length-1]},Pi.prototype.empty=function(){return 0===this.array_.length},Pi.prototype.isEmpty=function(){return this.empty()},Pi.prototype.search=function(t){return this.array_.indexOf(t)},Pi.prototype.size=function(){return this.array_.length},Pi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Ql=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ql.prototype.getCoordinate=function(){return this._minCoord},Ql.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Ql.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Ec.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=kc.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===kc.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===kc.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Ql.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Kl.LEFT;return n[e].y<n[e+1].y&&(r=Kl.RIGHT),r},Ql.prototype.getEdge=function(){return this._orientedDe},Ql.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Ql.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ql.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Ec.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Kl.LEFT&&(this._orientedDe=this._minDe.getSym())},Ql.prototype.interfaces_=function(){return[]},Ql.prototype.getClass=function(){return Ql};var tu=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new Js(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Cc),eu=function(){this.array_=[]};eu.prototype.addLast=function(t){this.array_.push(t)},eu.prototype.removeFirst=function(){return this.array_.shift()},eu.prototype.isEmpty=function(){return 0===this.array_.length};var nu=function(){this._finder=null,this._dirEdgeList=new Jc,this._nodes=new Jc,this._rightMostCoord=null,this._env=null,this._finder=new Ql};nu.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},nu.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},nu.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new tu("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},nu.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Kl.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},nu.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},nu.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Kl.RIGHT)>=1&&e.getDepth(Kl.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},nu.prototype.computeDepths=function(t){var e=new il,n=new eu,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},nu.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},nu.prototype.getEnvelope=function(){if(null===this._env){for(var t=new yc,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},nu.prototype.addReachable=function(t){var e=new Pi;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},nu.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Kl.LEFT,t.getDepth(Kl.RIGHT)),e.setDepth(Kl.RIGHT,t.getDepth(Kl.LEFT))},nu.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},nu.prototype.getNodes=function(){return this._nodes},nu.prototype.getDirectedEdges=function(){return this._dirEdgeList},nu.prototype.interfaces_=function(){return[Us]},nu.prototype.getClass=function(){return nu};var ru=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Kl.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[Kl.ON]=o,this.location[Kl.LEFT]=a,this.location[Kl.RIGHT]=s}};ru.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},ru.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Qs.NONE)return!1;return!0},ru.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Qs.NONE&&(this.location[e]=t)},ru.prototype.isLine=function(){return 1===this.location.length},ru.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Kl.ON]=this.location[Kl.ON],e[Kl.LEFT]=Qs.NONE,e[Kl.RIGHT]=Qs.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Qs.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},ru.prototype.getLocations=function(){return this.location},ru.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Kl.LEFT];this.location[Kl.LEFT]=this.location[Kl.RIGHT],this.location[Kl.RIGHT]=t},ru.prototype.toString=function(){var t=new ic;return this.location.length>1&&t.append(Qs.toLocationSymbol(this.location[Kl.LEFT])),t.append(Qs.toLocationSymbol(this.location[Kl.ON])),this.location.length>1&&t.append(Qs.toLocationSymbol(this.location[Kl.RIGHT])),t.toString()},ru.prototype.setLocations=function(t,e,n){this.location[Kl.ON]=t,this.location[Kl.LEFT]=e,this.location[Kl.RIGHT]=n},ru.prototype.get=function(t){return t<this.location.length?this.location[t]:Qs.NONE},ru.prototype.isArea=function(){return this.location.length>1},ru.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Qs.NONE)return!0;return!1},ru.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Kl.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},ru.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Qs.NONE)},ru.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},ru.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},ru.prototype.interfaces_=function(){return[]},ru.prototype.getClass=function(){return ru};var iu=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new ru(e),this.elt[1]=new ru(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new ru(n.elt[0]),this.elt[1]=new ru(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new ru(Qs.NONE),this.elt[1]=new ru(Qs.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new ru(o,a,s),this.elt[1]=new ru(o,a,s)}else if(4===arguments.length){var c=arguments[0],l=arguments[1],u=arguments[2],p=arguments[3];this.elt[0]=new ru(Qs.NONE,Qs.NONE,Qs.NONE),this.elt[1]=new ru(Qs.NONE,Qs.NONE,Qs.NONE),this.elt[c].setLocations(l,u,p)}};iu.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},iu.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},iu.prototype.isNull=function(t){return this.elt[t].isNull()},iu.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},iu.prototype.isLine=function(t){return this.elt[t].isLine()},iu.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new ru(t.elt[e]):this.elt[e].merge(t.elt[e])},iu.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},iu.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Kl.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},iu.prototype.toString=function(){var t=new ic;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},iu.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},iu.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},iu.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Kl.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},iu.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},iu.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},iu.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new ru(this.elt[t].location[0]))},iu.prototype.interfaces_=function(){return[]},iu.prototype.getClass=function(){return iu},iu.toLineLabel=function(t){for(var e=new iu(Qs.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var ou=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Jc,this._pts=new Jc,this._label=new iu(Qs.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Jc,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};ou.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=kc.isCCW(this._ring.getCoordinates())},ou.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},ou.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new tu("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new tu("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();Ec.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},ou.prototype.getLinearRing=function(){return this._ring},ou.prototype.getCoordinate=function(t){return this._pts.get(t)},ou.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},ou.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},ou.prototype.isHole=function(){return this._isHole},ou.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},ou.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!kc.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},ou.prototype.addHole=function(t){this._holes.add(t)},ou.prototype.isShell=function(){return null===this._shell},ou.prototype.getLabel=function(){return this._label},ou.prototype.getEdges=function(){return this._edges},ou.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},ou.prototype.getShell=function(){return this._shell},ou.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,Kl.RIGHT);if(r===Qs.NONE)return null;if(this._label.getLocation(n)===Qs.NONE)return this._label.setLocation(n,r),null}},ou.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},ou.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},ou.prototype.interfaces_=function(){return[]},ou.prototype.getClass=function(){return ou};var au=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ou),su=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var t=new Jc,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new au(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ou),cu=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};cu.prototype.setVisited=function(t){this._isVisited=t},cu.prototype.setInResult=function(t){this._isInResult=t},cu.prototype.isCovered=function(){return this._isCovered},cu.prototype.isCoveredSet=function(){return this._isCoveredSet},cu.prototype.setLabel=function(t){this._label=t},cu.prototype.getLabel=function(){return this._label},cu.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},cu.prototype.updateIM=function(t){Ec.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},cu.prototype.isInResult=function(){return this._isInResult},cu.prototype.isVisited=function(){return this._isVisited},cu.prototype.interfaces_=function(){return[]},cu.prototype.getClass=function(){return cu};var lu=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new iu(0,Qs.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=Qs.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Qs.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new iu(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof iu)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===Qs.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Qs.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Qs.BOUNDARY:n=Qs.INTERIOR;break;case Qs.INTERIOR:default:n=Qs.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cu),uu=function(){this.nodeMap=new Si,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};uu.prototype.find=function(t){return this.nodeMap.get(t)},uu.prototype.addNode=function(){if(arguments[0]instanceof Js){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof lu){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},uu.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},uu.prototype.iterator=function(){return this.nodeMap.values().iterator()},uu.prototype.values=function(){return this.nodeMap.values()},uu.prototype.getBoundaryNodes=function(t){for(var e=new Jc,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Qs.BOUNDARY&&e.add(r)}return e},uu.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},uu.prototype.interfaces_=function(){return[]},uu.prototype.getClass=function(){return uu};var pu=function(){},du={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};pu.prototype.interfaces_=function(){return[]},pu.prototype.getClass=function(){return pu},pu.isNorthern=function(t){return t===pu.NE||t===pu.NW},pu.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},pu.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},pu.isInHalfPlane=function(t,e){return e===pu.SE?t===pu.SE||t===pu.SW:t===e||t===e+1},pu.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ys("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?pu.NE:pu.SE:e>=0?pu.NW:pu.SW}if(arguments[0]instanceof Js&&arguments[1]instanceof Js){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new Ys("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?pu.NE:pu.SE:r.y>=n.y?pu.NW:pu.SW}},du.NE.get=function(){return 0},du.NW.get=function(){return 1},du.SW.get=function(){return 2},du.SE.get=function(){return 3},Object.defineProperties(pu,du);var hu=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this._edge=i,this.init(o,a),this._label=s}};hu.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:kc.computeOrientation(t._p0,t._p1,this._p1)},hu.prototype.getDy=function(){return this._dy},hu.prototype.getCoordinate=function(){return this._p0},hu.prototype.setNode=function(t){this._node=t},hu.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},hu.prototype.compareTo=function(t){return this.compareDirection(t)},hu.prototype.getDirectedCoordinate=function(){return this._p1},hu.prototype.getDx=function(){return this._dx},hu.prototype.getLabel=function(){return this._label},hu.prototype.getEdge=function(){return this._edge},hu.prototype.getQuadrant=function(){return this._quadrant},hu.prototype.getNode=function(){return this._node},hu.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},hu.prototype.computeLabel=function(t){},hu.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=pu.quadrant(this._dx,this._dy),Ec.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},hu.prototype.interfaces_=function(){return[Us]},hu.prototype.getClass=function(){return hu};var fu=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new iu(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new tu("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Kl.LEFT)===Qs.INTERIOR&&this._label.getLocation(e,Kl.RIGHT)===Qs.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Kl.LEFT]+"/"+this._depth[Kl.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Qs.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Qs.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Kl.LEFT&&(r=-1);var i=Kl.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Qs.EXTERIOR&&e===Qs.INTERIOR?1:t===Qs.INTERIOR&&e===Qs.EXTERIOR?-1:0},e}(hu),mu=function(){};mu.prototype.createNode=function(t){return new lu(t,null)},mu.prototype.interfaces_=function(){return[]},mu.prototype.getClass=function(){return mu};var gu=function(){if(this._edges=new Jc,this._nodes=null,this._edgeEndList=new Jc,0===arguments.length)this._nodes=new uu(new mu);else if(1===arguments.length){var t=arguments[0];this._nodes=new uu(t)}};gu.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},gu.prototype.find=function(t){return this._nodes.find(t)},gu.prototype.addNode=function(){if(arguments[0]instanceof lu){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof Js){var e=arguments[0];return this._nodes.addNode(e)}},gu.prototype.getNodeIterator=function(){return this._nodes.iterator()},gu.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},gu.prototype.debugPrintln=function(t){mc.out.println(t)},gu.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Qs.BOUNDARY},gu.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},gu.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&kc.computeOrientation(t,e,r)===kc.COLLINEAR&&pu.quadrant(t,e)===pu.quadrant(n,r)},gu.prototype.getEdgeEnds=function(){return this._edgeEndList},gu.prototype.debugPrint=function(t){mc.out.print(t)},gu.prototype.getEdgeIterator=function(){return this._edges.iterator()},gu.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},gu.prototype.insertEdge=function(t){this._edges.add(t)},gu.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},gu.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new fu(n,!0),i=new fu(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},gu.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},gu.prototype.getNodes=function(){return this._nodes.values()},gu.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},gu.prototype.interfaces_=function(){return[]},gu.prototype.getClass=function(){return gu},gu.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var yu=function(){this._geometryFactory=null,this._shellList=new Jc;var t=arguments[0];this._geometryFactory=t};yu.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},yu.prototype.computePolygons=function(t){for(var e=new Jc,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},yu.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new tu("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},yu.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new Jc,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},yu.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},yu.prototype.buildMaximalEdgeRings=function(t){for(var e=new Jc,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new su(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},yu.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},yu.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},yu.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var c=s.next(),l=c.getLinearRing(),u=l.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var p=!1;u.contains(r)&&kc.isPointInRing(i,l.getCoordinates())&&(p=!0),p&&(null===o||a.contains(u))&&(o=c)}return o},yu.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return Ec.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},yu.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];gu.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new Jc,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu};var _u=function(){};_u.prototype.getBounds=function(){},_u.prototype.interfaces_=function(){return[]},_u.prototype.getClass=function(){return _u};var vu=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};vu.prototype.getItem=function(){return this._item},vu.prototype.getBounds=function(){return this._bounds},vu.prototype.interfaces_=function(){return[_u,gi]},vu.prototype.getClass=function(){return vu};var bu=function(){this._size=null,this._items=null,this._size=0,this._items=new Jc,this._items.add(null)};bu.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},bu.prototype.size=function(){return this._size},bu.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},bu.prototype.clear=function(){this._size=0,this._items.clear()},bu.prototype.isEmpty=function(){return 0===this._size},bu.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},bu.prototype.interfaces_=function(){return[]},bu.prototype.getClass=function(){return bu};var Mu=function(){};Mu.prototype.visitItem=function(t){},Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu};var xu=function(){};xu.prototype.insert=function(t,e){},xu.prototype.remove=function(t,e){},xu.prototype.query=function(){},xu.prototype.interfaces_=function(){return[]},xu.prototype.getClass=function(){return xu};var wu=function(){if(this._childBoundables=new Jc,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Cu={serialVersionUID:{configurable:!0}};wu.prototype.getLevel=function(){return this._level},wu.prototype.size=function(){return this._childBoundables.size()},wu.prototype.getChildBoundables=function(){return this._childBoundables},wu.prototype.addChildBoundable=function(t){Ec.isTrue(null===this._bounds),this._childBoundables.add(t)},wu.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},wu.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},wu.prototype.interfaces_=function(){return[_u,gi]},wu.prototype.getClass=function(){return wu},Cu.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(wu,Cu);var Su=function(){};Su.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Su.min=function(t){return Su.sort(t),t.get(0)},Su.sort=function(t,e){var n=t.toArray();e?ll.sort(n,e):ll.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Su.singletonList=function(t){var e=new Jc;return e.add(t),e};var Eu=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};Eu.prototype.expandToQueue=function(t,e){var n=Eu.isComposite(this._boundable1),r=Eu.isComposite(this._boundable2);if(n&&r)return Eu.area(this._boundable1)>Eu.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Ys("neither boundable is composite")},Eu.prototype.isLeaves=function(){return!(Eu.isComposite(this._boundable1)||Eu.isComposite(this._boundable2))},Eu.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Eu.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new Eu(o,e,this._itemDistance);a.getDistance()<r&&n.add(a)}},Eu.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Eu.prototype.getDistance=function(){return this._distance},Eu.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Eu.prototype.interfaces_=function(){return[Us]},Eu.prototype.getClass=function(){return Eu},Eu.area=function(t){return t.getBounds().getArea()},Eu.isComposite=function(t){return t instanceof wu};var Tu=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Jc,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];Ec.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},Ou={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Tu.prototype.getNodeCapacity=function(){return this._nodeCapacity},Tu.prototype.lastNode=function(t){return t.get(t.size()-1)},Tu.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof wu?t+=this.size(n):n instanceof vu&&(t+=1)}return t}},Tu.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof vu&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Tu.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Jc:t}if(1===arguments.length){for(var e=arguments[0],n=new Jc,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof wu){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof vu?n.add(i.getItem()):Ec.shouldNeverReachHere()}return n.size()<=0?null:n}},Tu.prototype.insert=function(t,e){Ec.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new vu(t,e))},Tu.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Jc;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(Ec.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof wu?this.boundablesAtLevel(n,a,i):(Ec.isTrue(a instanceof vu),-1===n&&i.add(a))}return null}},Tu.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Jc;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(ec(arguments[2],Mu)&&arguments[0]instanceof Object&&arguments[1]instanceof wu)for(var i=arguments[0],o=arguments[1],a=arguments[2],s=o.getChildBoundables(),c=0;c<s.size();c++){var l=s.get(c);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof wu?this.query(i,l,a):l instanceof vu?a.visitItem(l.getItem()):Ec.shouldNeverReachHere())}else if(ec(arguments[2],Gc)&&arguments[0]instanceof Object&&arguments[1]instanceof wu)for(var u=arguments[0],p=arguments[1],d=arguments[2],h=p.getChildBoundables(),f=0;f<h.size();f++){var m=h.get(f);this.getIntersectsOp().intersects(m.getBounds(),u)&&(m instanceof wu?this.query(u,m,d):m instanceof vu?d.add(m.getItem()):Ec.shouldNeverReachHere())}},Tu.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Tu.prototype.getRoot=function(){return this.build(),this._root},Tu.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var c=s.next();if(this.getIntersectsOp().intersects(c.getBounds(),n)&&c instanceof wu&&(o=this.remove(n,c,i))){a=c;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},Tu.prototype.createHigherLevels=function(t,e){Ec.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Tu.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof wu){var r=this.depth(n);r>t&&(t=r)}}return t+1}},Tu.prototype.createParentBoundables=function(t,e){Ec.isTrue(!t.isEmpty());var n=new Jc;n.add(this.createNode(e));var r=new Jc(t);Su.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},Tu.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Tu.prototype.interfaces_=function(){return[gi]},Tu.prototype.getClass=function(){return Tu},Tu.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Ou.IntersectsOp.get=function(){return Au},Ou.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Ou.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Tu,Ou);var Au=function(){},Pu=function(){};Pu.prototype.distance=function(t,e){},Pu.prototype.interfaces_=function(){return[]},Pu.prototype.getClass=function(){return Pu};var Lu=function(t){function e(n){t.call(this,n=n||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Ec.isTrue(t.length>0);for(var n=new Jc,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new ku(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new Jc;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(ec(arguments[2],Mu)&&arguments[0]instanceof Object&&arguments[1]instanceof wu){var i=arguments[0],o=arguments[1],a=arguments[2];t.prototype.query.call(this,i,o,a)}else if(ec(arguments[2],Gc)&&arguments[0]instanceof Object&&arguments[1]instanceof wu){var s=arguments[0],c=arguments[1],l=arguments[2];t.prototype.query.call(this,s,c,l)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Ec.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new Jc(t);Su.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(ec(arguments[0],Pu)){var t=arguments[0],n=new Eu(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof Eu){var r=arguments[0];return this.nearestNeighbour(r,Hs.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&ec(arguments[1],Pu)){var i=arguments[0],o=arguments[1],a=new Eu(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof Eu&&"number"==typeof arguments[1]){var s=arguments[0],c=arguments[1],l=null,u=new bu;for(u.add(s);!u.isEmpty()&&c>0;){var p=u.poll(),d=p.getDistance();if(d>=c)break;p.isLeaves()?(c=d,l=p):p.expandToQueue(u,c)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[0],f=arguments[1],m=arguments[2],g=new vu(h,f),y=new Eu(this.getRoot(),g,m);return this.nearestNeighbour(y)[0]}},e.prototype.interfaces_=function(){return[xu,gi]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return ku},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[Gs]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[Gs]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Tu),ku=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new yc(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(wu),Iu=function(){};Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu},Iu.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Iu.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Iu.relativeSign(e.x,n.x),i=Iu.relativeSign(e.y,n.y);switch(t){case 0:return Iu.compareValue(r,i);case 1:return Iu.compareValue(i,r);case 2:return Iu.compareValue(i,-r);case 3:return Iu.compareValue(-r,i);case 4:return Iu.compareValue(-r,-i);case 5:return Iu.compareValue(-i,-r);case 6:return Iu.compareValue(-i,r);case 7:return Iu.compareValue(r,-i)}return Ec.shouldNeverReachHere("invalid octant value"),0},Iu.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Du=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new Js(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};Du.prototype.getCoordinate=function(){return this.coord},Du.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Du.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Iu.compare(this._segmentOctant,this.coord,e.coord)},Du.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Du.prototype.isInterior=function(){return this._isInterior},Du.prototype.interfaces_=function(){return[Us]},Du.prototype.getClass=function(){return Du};var Nu=function(){this._nodeMap=new Si,this._edge=null;var t=arguments[0];this._edge=t};Nu.prototype.getSplitCoordinates=function(){var t=new Kc;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},Nu.prototype.addCollapsedNodes=function(){var t=new Jc;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Nu.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Nu.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new oc(e+1))}},Nu.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new Js(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new Js(e.coord))},Nu.prototype.iterator=function(){return this._nodeMap.values().iterator()},Nu.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Nu.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},Nu.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new oc(e[0])),r=i}},Nu.prototype.getEdge=function(){return this._edge},Nu.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Nu.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new Js(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new Js(e.coord)),new ju(o,this._edge.getData())},Nu.prototype.add=function(t,e){var n=new Du(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(Ec.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},Nu.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Cc("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Cc("bad split edge end point at "+i)},Nu.prototype.interfaces_=function(){return[]},Nu.prototype.getClass=function(){return Nu};var Ru=function(){};Ru.prototype.interfaces_=function(){return[]},Ru.prototype.getClass=function(){return Ru},Ru.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ys("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof Js&&arguments[1]instanceof Js){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new Ys("Cannot compute the octant for two identical points "+i);return Ru.octant(a,s)}};var zu=function(){};zu.prototype.getCoordinates=function(){},zu.prototype.size=function(){},zu.prototype.getCoordinate=function(t){},zu.prototype.isClosed=function(){},zu.prototype.setData=function(t){},zu.prototype.getData=function(){},zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu};var Fu=function(){};Fu.prototype.addIntersection=function(t,e){},Fu.prototype.interfaces_=function(){return[zu]},Fu.prototype.getClass=function(){return Fu};var ju=function(){this._nodeList=new Nu(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};ju.prototype.getCoordinates=function(){return this._pts},ju.prototype.size=function(){return this._pts.length},ju.prototype.getCoordinate=function(t){return this._pts[t]},ju.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},ju.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},ju.prototype.setData=function(t){this._data=t},ju.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Ru.octant(t,e)},ju.prototype.getData=function(){return this._data},ju.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new Js(n.getIntersection(i));this.addIntersection(o,r)}},ju.prototype.toString=function(){return wc.toLineString(new Dl(this._pts))},ju.prototype.getNodeList=function(){return this._nodeList},ju.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;return r<this._pts.length&&t.equals2D(this._pts[r])&&(n=r),this._nodeList.add(t,n)},ju.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},ju.prototype.interfaces_=function(){return[Fu]},ju.prototype.getClass=function(){return ju},ju.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Jc;return ju.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)};var Bu=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new Js,this.p1=new Js;else if(1===arguments.length){var t=arguments[0];this.p0=new Js(t.p0),this.p1=new Js(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new Js(e,n),this.p1=new Js(r,i)}},qu={serialVersionUID:{configurable:!0}};Bu.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Bu.prototype.orientationIndex=function(){if(arguments[0]instanceof Bu){var t=arguments[0],e=kc.orientationIndex(this.p0,this.p1,t.p0),n=kc.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof Js){var r=arguments[0];return kc.orientationIndex(this.p0,this.p1,r)}},Bu.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Bu.prototype.isVertical=function(){return this.p0.x===this.p1.x},Bu.prototype.equals=function(t){if(!(t instanceof Bu))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Bu.prototype.intersection=function(t){var e=new Ac;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Bu.prototype.project=function(){if(arguments[0]instanceof Js){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Js(t);var e=this.projectionFactor(t),n=new Js;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Bu){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new Bu(a,s)}},Bu.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Bu.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Bu.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Bu.prototype.distancePerpendicular=function(t){return kc.distancePointLinePerpendicular(t,this.p0,this.p1)},Bu.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Bu.prototype.midPoint=function(){return Bu.midPoint(this.p0,this.p1)},Bu.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?Hs.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},Bu.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=Hs.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(i=a.distance(t.p1))<r&&(r=i,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var c=t.closestPoint(this.p1);return(i=c.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=c),n},Bu.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Bu.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Bu.prototype.getLength=function(){return this.p0.distance(this.p1)},Bu.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Bu.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Bu.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Bu.prototype.lineIntersection=function(t){try{return gc.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof fc))throw t}return null},Bu.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Bu.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,c=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*i/a,c=e*o/a}return new Js(n-c,r+s)},Bu.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Bu.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Hs.isNaN(e))&&(e=1),e},Bu.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Bu.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Bu.prototype.distance=function(){if(arguments[0]instanceof Bu){var t=arguments[0];return kc.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof Js){var e=arguments[0];return kc.distancePointLine(e,this.p0,this.p1)}},Bu.prototype.pointAlong=function(t){var e=new Js;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Bu.prototype.hashCode=function(){var t=Hs.doubleToLongBits(this.p0.x);t^=31*Hs.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=Hs.doubleToLongBits(this.p1.x);return n^=31*Hs.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Bu.prototype.interfaces_=function(){return[Us,gi]},Bu.prototype.getClass=function(){return Bu},Bu.midPoint=function(t,e){return new Js((t.x+e.x)/2,(t.y+e.y)/2)},qu.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Bu,qu);var Vu=function(){this.tempEnv1=new yc,this.tempEnv2=new yc,this._overlapSeg1=new Bu,this._overlapSeg2=new Bu};Vu.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Vu.prototype.interfaces_=function(){return[]},Vu.prototype.getClass=function(){return Vu};var Yu=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};Yu.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Yu.prototype.computeSelect=function(t,e,n,r){if(r.tempEnv1.init(this._pts[e],this._pts[n]),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var i=Math.trunc((e+n)/2);e<i&&this.computeSelect(t,e,i,r),i<n&&this.computeSelect(t,i,n,r)},Yu.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Yu.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Yu.prototype.setId=function(t){this._id=t},Yu.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Yu.prototype.getEnvelope=function(){return null===this._env&&(this._env=new yc(this._pts[this._start],this._pts[this._end])),this._env},Yu.prototype.getEndIndex=function(){return this._end},Yu.prototype.getStartIndex=function(){return this._start},Yu.prototype.getContext=function(){return this._context},Yu.prototype.getId=function(){return this._id},Yu.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var a=this._pts[t],s=this._pts[e],c=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(c,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var u=Math.trunc((t+e)/2),p=Math.trunc((r+i)/2);t<u&&(r<p&&this.computeOverlapsInternal(t,u,n,r,p,o),p<i&&this.computeOverlapsInternal(t,u,n,p,i,o)),u<e&&(r<p&&this.computeOverlapsInternal(u,e,n,r,p,o),p<i&&this.computeOverlapsInternal(u,e,n,p,i,o))},Yu.prototype.interfaces_=function(){return[]},Yu.prototype.getClass=function(){return Yu};var Hu=function(){};Hu.prototype.interfaces_=function(){return[]},Hu.prototype.getClass=function(){return Hu},Hu.getChainStartIndices=function(t){var e=0,n=new Jc;n.add(new oc(e));do{var r=Hu.findChainEnd(t,e);n.add(new oc(r)),e=r}while(e<t.length-1);return Hu.toIntArray(n)},Hu.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=pu.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||pu.quadrant(t[i-1],t[i])===r);)i++;return i-1},Hu.getChains=function(){if(1===arguments.length){var t=arguments[0];return Hu.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new Jc,i=Hu.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new Yu(e,i[o],i[o+1],n);r.add(a)}return r}},Hu.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Wu=function(){};Wu.prototype.computeNodes=function(t){},Wu.prototype.getNodedSubstrings=function(){},Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu};var Uu=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};Uu.prototype.setSegmentIntersector=function(t){this._segInt=t},Uu.prototype.interfaces_=function(){return[Wu]},Uu.prototype.getClass=function(){return Uu};var Xu=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Jc,this._index=new Lu,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return ju.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=Hu.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new Gu(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Gu},Object.defineProperties(e,n),e}(Uu),Gu=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),a=r.getContext();this._si.processIntersections(o,n,a,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vu),Ju=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},$u={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Ju.prototype.getEndCapStyle=function(){return this._endCapStyle},Ju.prototype.isSingleSided=function(){return this._isSingleSided},Ju.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Ju.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Ju.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Ju.JOIN_ROUND&&(this._quadrantSegments=Ju.DEFAULT_QUADRANT_SEGMENTS)},Ju.prototype.getJoinStyle=function(){return this._joinStyle},Ju.prototype.setJoinStyle=function(t){this._joinStyle=t},Ju.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Ju.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Ju.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Ju.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Ju.prototype.getMitreLimit=function(){return this._mitreLimit},Ju.prototype.setMitreLimit=function(t){this._mitreLimit=t},Ju.prototype.setSingleSided=function(t){this._isSingleSided=t},Ju.prototype.interfaces_=function(){return[]},Ju.prototype.getClass=function(){return Ju},Ju.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},$u.CAP_ROUND.get=function(){return 1},$u.CAP_FLAT.get=function(){return 2},$u.CAP_SQUARE.get=function(){return 3},$u.JOIN_ROUND.get=function(){return 1},$u.JOIN_MITRE.get=function(){return 2},$u.JOIN_BEVEL.get=function(){return 3},$u.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},$u.DEFAULT_MITRE_LIMIT.get=function(){return 5},$u.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Ju,$u);var Ku=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=kc.COUNTERCLOCKWISE,this._inputLine=t||null},Zu={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ku.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},Ku.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Ku.DELETE,i=!0,r=!0),e=this.findNextNonDeletedIndex(t=i?n:e),n=this.findNextNonDeletedIndex(e)}return r},Ku.prototype.isShallowConcavity=function(t,e,n,r){return kc.computeOrientation(t,e,n)===this._angleOrientation&&kc.distancePointLine(e,t,n)<r},Ku.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Ku.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this._inputLine[a],i))return!1;return!0},Ku.prototype.isConcave=function(t,e,n){return kc.computeOrientation(t,e,n)===this._angleOrientation},Ku.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=kc.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Ku.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Ku.DELETE;)e++;return e},Ku.prototype.isShallow=function(t,e,n,r){return kc.distancePointLine(e,t,n)<r},Ku.prototype.collapseLine=function(){for(var t=new Kc,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Ku.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Ku.prototype.interfaces_=function(){return[]},Ku.prototype.getClass=function(){return Ku},Ku.simplify=function(t,e){return new Ku(t).simplify(e)},Zu.INIT.get=function(){return 0},Zu.DELETE.get=function(){return 1},Zu.KEEP.get=function(){return 1},Zu.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ku,Zu);var Qu=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Jc},tp={COORDINATE_ARRAY_TYPE:{configurable:!0}};Qu.prototype.getCoordinates=function(){return this._ptList.toArray(Qu.COORDINATE_ARRAY_TYPE)},Qu.prototype.setPrecisionModel=function(t){this._precisionModel=t},Qu.prototype.addPt=function(t){var e=new Js(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Qu.prototype.revere=function(){},Qu.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Qu.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Qu.prototype.toString=function(){return(new Yl).createLineString(this.getCoordinates()).toString()},Qu.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new Js(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Qu.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Qu.prototype.interfaces_=function(){return[]},Qu.prototype.getClass=function(){return Qu},tp.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Qu,tp);var ep=function(){},np={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};ep.prototype.interfaces_=function(){return[]},ep.prototype.getClass=function(){return ep},ep.toDegrees=function(t){return 180*t/Math.PI},ep.normalize=function(t){for(;t>Math.PI;)t-=ep.PI_TIMES_2;for(;t<=-Math.PI;)t+=ep.PI_TIMES_2;return t},ep.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},ep.isAcute=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)>0},ep.isObtuse=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)<0},ep.interiorAngle=function(t,e,n){var r=ep.angle(e,t),i=ep.angle(e,n);return Math.abs(i-r)},ep.normalizePositive=function(t){if(t<0){for(;t<0;)t+=ep.PI_TIMES_2;t>=ep.PI_TIMES_2&&(t=0)}else{for(;t>=ep.PI_TIMES_2;)t-=ep.PI_TIMES_2;t<0&&(t=0)}return t},ep.angleBetween=function(t,e,n){var r=ep.angle(e,t),i=ep.angle(e,n);return ep.diff(r,i)},ep.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},ep.toRadians=function(t){return t*Math.PI/180},ep.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?ep.COUNTERCLOCKWISE:n<0?ep.CLOCKWISE:ep.NONE},ep.angleBetweenOriented=function(t,e,n){var r=ep.angle(e,t),i=ep.angle(e,n)-r;return i<=-Math.PI?i+ep.PI_TIMES_2:i>Math.PI?i-ep.PI_TIMES_2:i},np.PI_TIMES_2.get=function(){return 2*Math.PI},np.PI_OVER_2.get=function(){return Math.PI/2},np.PI_OVER_4.get=function(){return Math.PI/4},np.COUNTERCLOCKWISE.get=function(){return kc.COUNTERCLOCKWISE},np.CLOCKWISE.get=function(){return kc.CLOCKWISE},np.NONE.get=function(){return kc.COLLINEAR},Object.defineProperties(ep,np);var rp=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Bu,this._seg1=new Bu,this._offset0=new Bu,this._offset1=new Bu,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Ac,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Ju.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},ip={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};rp.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=kc.computeOrientation(this._s0,this._s1,this._s2),r=n===kc.CLOCKWISE&&this._side===Kl.LEFT||n===kc.COUNTERCLOCKWISE&&this._side===Kl.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},rp.prototype.addLineEndCap=function(t,e){var n=new Bu(t,e),r=new Bu;this.computeOffsetSegment(n,Kl.LEFT,this._distance,r);var i=new Bu;this.computeOffsetSegment(n,Kl.RIGHT,this._distance,i);var o=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case Ju.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,o+Math.PI/2,o-Math.PI/2,kc.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Ju.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case Ju.CAP_SQUARE:var a=new Js;a.x=Math.abs(this._distance)*Math.cos(o),a.y=Math.abs(this._distance)*Math.sin(o);var s=new Js(r.p1.x+a.x,r.p1.y+a.y),c=new Js(i.p1.x+a.x,i.p1.y+a.y);this._segList.addPt(s),this._segList.addPt(c)}},rp.prototype.getCoordinates=function(){return this._segList.getCoordinates()},rp.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=gc.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof fc))throw t;o=new Js(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},rp.prototype.addFilletCorner=function(t,e,n,r,i){var o=Math.atan2(e.y-t.y,e.x-t.x),a=Math.atan2(n.y-t.y,n.x-t.x);r===kc.CLOCKWISE?o<=a&&(o+=2*Math.PI):o>=a&&(o-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,o,a,r,i),this._segList.addPt(n)},rp.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*rp.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Ju.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Ju.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},rp.prototype.createSquare=function(t){this._segList.addPt(new Js(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Js(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Js(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Js(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},rp.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},rp.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},rp.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},rp.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},rp.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=ep.angle(i,this._seg0.p0),a=ep.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=ep.normalize(o+a),c=ep.normalize(s+Math.PI),l=r*n,u=n-l*Math.abs(Math.sin(a)),p=i.x+l*Math.cos(c),d=i.y+l*Math.sin(c),h=new Js(p,d),f=new Bu(i,h),m=f.pointAlongOffset(1,u),g=f.pointAlongOffset(1,-u);this._side===Kl.LEFT?(this._segList.addPt(m),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(m))},rp.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Kl.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),c=i*n*o/s,l=i*n*a/s;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+c,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+c},rp.prototype.addFilletArc=function(t,e,n,r,i){var o=r===kc.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var c=a/s,l=0,u=new Js;l<a;){var p=e+o*l;u.x=t.x+i*Math.cos(p),u.y=t.y+i*Math.sin(p),this._segList.addPt(u),l+=c}},rp.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*rp.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new Js((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new Js((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},rp.prototype.createCircle=function(t){var e=new Js(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},rp.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},rp.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Qu,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*rp.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},rp.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Ju.JOIN_BEVEL||this._bufParams.getJoinStyle()===Ju.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,kc.CLOCKWISE,this._distance))},rp.prototype.closeRing=function(){this._segList.closeRing()},rp.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp},ip.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},ip.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},ip.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},ip.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(rp,ip);var op=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};op.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Zc.reverse(o),o},op.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Ku.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Kl.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=Ku.simplify(t,r),c=s.length-1;n.initSideSegments(s[0],s[1],Kl.LEFT),n.addFirstSegment();for(var l=2;l<=c;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()},op.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Kl.RIGHT&&(r=-r);var i=Ku.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++)n.addNextSegment(i[a],1!==a);n.closeRing()},op.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Ku.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Kl.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=Ku.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],Kl.LEFT);for(var c=s-2;c>=0;c--)e.addNextSegment(a[c],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},op.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Ju.CAP_ROUND:e.createCircle(t);break;case Ju.CAP_SQUARE:e.createSquare(t)}},op.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);return t.length<=1?this.computePointCurve(t[0],r):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,r):this.computeLineBufferCurve(t,r),r.getCoordinates()},op.prototype.getBufferParameters=function(){return this._bufParams},op.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},op.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return op.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},op.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Ku.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Kl.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Ku.simplify(t,r),c=s.length-1;n.initSideSegments(s[0],s[1],Kl.LEFT),n.addFirstSegment();for(var l=2;l<=c;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()},op.prototype.getSegGen=function(t){return new rp(this._precisionModel,this._bufParams,t)},op.prototype.interfaces_=function(){return[]},op.prototype.getClass=function(){return op},op.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new Js(t[n]);return e};var ap=function(){this._subgraphs=null,this._seg=new Bu,this._cga=new kc;var t=arguments[0];this._subgraphs=t},sp={DepthSegment:{configurable:!0}};ap.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Jc,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(ec(arguments[2],Gc)&&arguments[0]instanceof Js&&arguments[1]instanceof fu){for(var o=arguments[0],a=arguments[1],s=arguments[2],c=a.getEdge().getCoordinates(),l=0;l<c.length-1;l++)if(this._seg.p0=c[l],this._seg.p1=c[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||kc.computeOrientation(this._seg.p0,this._seg.p1,o)===kc.RIGHT)){var u=a.getDepth(Kl.LEFT);this._seg.p0.equals(c[l])||(u=a.getDepth(Kl.RIGHT));var p=new cp(this._seg,u);s.add(p)}}else if(ec(arguments[2],Gc)&&arguments[0]instanceof Js&&ec(arguments[1],Gc))for(var d=arguments[0],h=arguments[1],f=arguments[2],m=h.iterator();m.hasNext();){var g=m.next();g.isForward()&&this.findStabbedSegments(d,g,f)}},ap.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Su.min(e)._leftDepth},ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap},sp.DepthSegment.get=function(){return cp},Object.defineProperties(ap,sp);var cp=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new Bu(t),this._leftDepth=e};cp.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},cp.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},cp.prototype.toString=function(){return this._upwardSeg.toString()},cp.prototype.interfaces_=function(){return[Us]},cp.prototype.getClass=function(){return cp};var lp=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};lp.prototype.area=function(){return lp.area(this.p0,this.p1,this.p2)},lp.prototype.signedArea=function(){return lp.signedArea(this.p0,this.p1,this.p2)},lp.prototype.interpolateZ=function(t){if(null===t)throw new Ys("Supplied point is null.");return lp.interpolateZ(t,this.p0,this.p1,this.p2)},lp.prototype.longestSideLength=function(){return lp.longestSideLength(this.p0,this.p1,this.p2)},lp.prototype.isAcute=function(){return lp.isAcute(this.p0,this.p1,this.p2)},lp.prototype.circumcentre=function(){return lp.circumcentre(this.p0,this.p1,this.p2)},lp.prototype.area3D=function(){return lp.area3D(this.p0,this.p1,this.p2)},lp.prototype.centroid=function(){return lp.centroid(this.p0,this.p1,this.p2)},lp.prototype.inCentre=function(){return lp.inCentre(this.p0,this.p1,this.p2)},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp},lp.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},lp.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},lp.det=function(t,e,n,r){return t*r-e*n},lp.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,c=n.y-o,l=r.y-o,u=a*l-s*c,p=t.x-i,d=t.y-o;return e.z+(l*p-s*d)/u*(n.z-e.z)+(-c*p+a*d)/u*(r.z-e.z)},lp.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},lp.isAcute=function(t,e,n){return!!ep.isAcute(t,e,n)&&!!ep.isAcute(e,n,t)&&!!ep.isAcute(n,t,e)},lp.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,c=e.y-i,l=2*lp.det(o,a,s,c),u=lp.det(a,o*o+a*a,c,s*s+c*c),p=lp.det(o,o*o+a*a,s,s*s+c*c);return new Js(r-u/l,i+p/l)},lp.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new gc(t.x+n/2,t.y+r/2,1),o=new gc(t.x-r+n/2,t.y+n+r/2,1);return new gc(i,o)},lp.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n));return new Js(t.x+i*(n.x-t.x),t.y+i*(n.y-t.y))},lp.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,c=n.z-t.z,l=i*c-o*s,u=o*a-r*c,p=r*s-i*a;return Math.sqrt(l*l+u*u+p*p)/2},lp.centroid=function(t,e,n){return new Js((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},lp.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o;return new Js((r*t.x+i*e.x+o*n.x)/a,(r*t.y+i*e.y+o*n.y)/a)};var up=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Jc;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};up.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Qs.EXTERIOR,Qs.INTERIOR)},up.prototype.addPolygon=function(t){var e=this._distance,n=Kl.LEFT;this._distance<0&&(e=-this._distance,n=Kl.RIGHT);var r=t.getExteriorRing(),i=Zc.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,Qs.EXTERIOR,Qs.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=Zc.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,Kl.opposite(n),Qs.INTERIOR,Qs.EXTERIOR)}},up.prototype.isTriangleErodedCompletely=function(t,e){var n=new lp(t[0],t[1],t[2]),r=n.inCentre();return kc.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},up.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Zc.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Qs.EXTERIOR,Qs.INTERIOR)},up.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new ju(t,new iu(0,Qs.BOUNDARY,e,n));this._curveList.add(r)},up.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},up.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<Tl.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=Tl.MINIMUM_VALID_SIZE&&kc.isCCW(t)&&(o=i,a=r,n=Kl.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},up.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Sl?this.addPolygon(t):t instanceof Ml?this.addLineString(t):t instanceof wl?this.addPoint(t):(t instanceof El||t instanceof ml||t instanceof Ol||t instanceof fl)&&this.addCollection(t)},up.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},up.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var pp=function(){};pp.prototype.locate=function(t){},pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp};var dp=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};dp.prototype.next=function(){if(this._atStart)return this._atStart=!1,dp.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new yi;var t=this._parent.getGeometryN(this._index++);return t instanceof fl?(this._subcollectionIterator=new dp(t),this._subcollectionIterator.next()):t},dp.prototype.remove=function(){throw new Error(this.getClass().getName())},dp.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},dp.prototype.interfaces_=function(){return[Xc]},dp.prototype.getClass=function(){return dp},dp.isAtomic=function(t){return!(t instanceof fl)};var hp=function(){this._geom=null;var t=arguments[0];this._geom=t};hp.prototype.locate=function(t){return hp.locate(t,this._geom)},hp.prototype.interfaces_=function(){return[pp]},hp.prototype.getClass=function(){return hp},hp.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&kc.isPointInRing(t,e.getCoordinates())},hp.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!hp.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(hp.isPointInRing(t,i))return!1}return!0},hp.containsPoint=function(t,e){if(e instanceof Sl)return hp.containsPointInPolygon(t,e);if(e instanceof fl)for(var n=new dp(e);n.hasNext();){var r=n.next();if(r!==e&&hp.containsPoint(t,r))return!0}return!1},hp.locate=function(t,e){return e.isEmpty()?Qs.EXTERIOR:hp.containsPoint(t,e)?Qs.INTERIOR:Qs.EXTERIOR};var fp=function(){this._edgeMap=new Si,this._edgeList=null,this._ptInAreaLocation=[Qs.NONE,Qs.NONE]};fp.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},fp.prototype.propagateSideLabels=function(t){for(var e=Qs.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Kl.LEFT)!==Qs.NONE&&(e=r.getLocation(t,Kl.LEFT))}if(e===Qs.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(t,Kl.ON)===Qs.NONE&&s.setLocation(t,Kl.ON,i),s.isArea(t)){var c=s.getLocation(t,Kl.LEFT),l=s.getLocation(t,Kl.RIGHT);if(l!==Qs.NONE){if(l!==i)throw new tu("side location conflict",a.getCoordinate());c===Qs.NONE&&Ec.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=c}else Ec.isTrue(s.getLocation(t,Kl.LEFT)===Qs.NONE,"found single null side"),s.setLocation(t,Kl.RIGHT,i),s.setLocation(t,Kl.LEFT,i)}}},fp.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},fp.prototype.print=function(t){mc.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},fp.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},fp.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Kl.LEFT);Ec.isTrue(r!==Qs.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();Ec.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,Kl.LEFT),c=a.getLocation(t,Kl.RIGHT);if(s===c)return!1;if(c!==i)return!1;i=s}return!0},fp.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},fp.prototype.iterator=function(){return this.getEdges().iterator()},fp.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Jc(this._edgeMap.values())),this._edgeList},fp.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===Qs.NONE&&(this._ptInAreaLocation[t]=hp.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},fp.prototype.toString=function(){var t=new ic;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},fp.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},fp.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Qs.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),c=0;c<2;c++)if(s.isAnyNull(c)){var l=Qs.NONE;if(e[c])l=Qs.EXTERIOR;else{var u=a.getCoordinate();l=this.getLocation(c,u,t)}s.setAllLocationsIfNull(c,l)}},fp.prototype.getDegree=function(){return this._edgeMap.size()},fp.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},fp.prototype.interfaces_=function(){return[]},fp.prototype.getClass=function(){return fp};var mp=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new tu("no outgoing dirEdge found",this.getCoordinate());Ec.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){this.insertEdgeEnd(t,t)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return pu.isNorthern(i)&&pu.isNorthern(o)?n:pu.isNorthern(i)||pu.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(Ec.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){mc.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Jc;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Kl.LEFT),r=t.getDepth(Kl.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new tu("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],a=arguments[1],s=arguments[2],c=o;c<a;c++){var l=this._edgeList.get(c);l.setEdgeDepths(Kl.RIGHT,s),s=l.getDepth(Kl.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(Ec.isTrue(null!==e,"found null for first outgoing dirEdge"),Ec.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Qs.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Qs.INTERIOR;break}if(r.isInResult()){t=Qs.EXTERIOR;break}}}if(t===Qs.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===Qs.INTERIOR):(a.isInResult()&&(i=Qs.EXTERIOR),s.isInResult()&&(i=Qs.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new iu(Qs.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==Qs.INTERIOR&&o!==Qs.BOUNDARY||this._label.setLocation(i,Qs.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fp),gp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(t){return new lu(t,new mp)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mu),yp=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};yp.prototype.compareTo=function(t){return yp.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},yp.prototype.interfaces_=function(){return[Us]},yp.prototype.getClass=function(){return yp},yp.orientation=function(t){return 1===Zc.increasingDirection(t)},yp.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,c=e?0:t.length-1,l=r?0:n.length-1;;){var u=t[c].compareTo(n[l]);if(0!==u)return u;var p=(c+=i)===a,d=(l+=o)===s;if(p&&!d)return-1;if(!p&&d)return 1;if(p&&d)return 0}};var _p=function(){this._edges=new Jc,this._ocaMap=new Si};_p.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},_p.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},_p.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},_p.prototype.iterator=function(){return this._edges.iterator()},_p.prototype.getEdges=function(){return this._edges},_p.prototype.get=function(t){return this._edges.get(t)},_p.prototype.findEqualEdge=function(t){var e=new yp(t.getCoordinates());return this._ocaMap.get(e)},_p.prototype.add=function(t){this._edges.add(t);var e=new yp(t.getCoordinates());this._ocaMap.put(e,t)},_p.prototype.interfaces_=function(){return[]},_p.prototype.getClass=function(){return _p};var vp=function(){};vp.prototype.processIntersections=function(t,e,n,r){},vp.prototype.isDone=function(){},vp.prototype.interfaces_=function(){return[]},vp.prototype.getClass=function(){return vp};var bp=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};bp.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(bp.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},bp.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},bp.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},bp.prototype.getLineIntersector=function(){return this._li},bp.prototype.hasProperIntersection=function(){return this._hasProper},bp.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},bp.prototype.hasIntersection=function(){return this._hasIntersection},bp.prototype.isDone=function(){return!1},bp.prototype.hasInteriorIntersection=function(){return this._hasInterior},bp.prototype.interfaces_=function(){return[vp]},bp.prototype.getClass=function(){return bp},bp.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Mp=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new Js(t),this.segmentIndex=e,this.dist=n};Mp.prototype.getSegmentIndex=function(){return this.segmentIndex},Mp.prototype.getCoordinate=function(){return this.coord},Mp.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Mp.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},Mp.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Mp.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Mp.prototype.getDistance=function(){return this.dist},Mp.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Mp.prototype.interfaces_=function(){return[Us]},Mp.prototype.getClass=function(){return Mp};var xp=function(){this._nodeMap=new Si,this.edge=null;var t=arguments[0];this.edge=t};xp.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},xp.prototype.iterator=function(){return this._nodeMap.values().iterator()},xp.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},xp.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},xp.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);r||n--;var i=new Array(n).fill(null),o=0;i[o++]=new Js(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)i[o++]=this.edge.pts[a];return r&&(i[o]=e.coord),new Tp(i,new iu(this.edge._label))},xp.prototype.add=function(t,e,n){var r=new Mp(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},xp.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},xp.prototype.interfaces_=function(){return[]},xp.prototype.getClass=function(){return xp};var wp=function(){};wp.prototype.getChainStartIndices=function(t){var e=0,n=new Jc;n.add(new oc(e));do{var r=this.findChainEnd(t,e);n.add(new oc(r)),e=r}while(e<t.length-1);return wp.toIntArray(n)},wp.prototype.findChainEnd=function(t,e){for(var n=pu.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&pu.quadrant(t[r-1],t[r])===n;)r++;return r-1},wp.prototype.interfaces_=function(){return[]},wp.prototype.getClass=function(){return wp},wp.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Cp=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new yc,this.env2=new yc;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new wp;this.startIndex=e.getChainStartIndices(this.pts)};Cp.prototype.getCoordinates=function(){return this.pts},Cp.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Cp.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Cp.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],c=arguments[4],l=arguments[5],u=this.pts[i],p=this.pts[o],d=a.pts[s],h=a.pts[c];if(o-i==1&&c-s==1)return l.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(u,p),this.env2.init(d,h),!this.env1.intersects(this.env2))return null;var f=Math.trunc((i+o)/2),m=Math.trunc((s+c)/2);i<f&&(s<m&&this.computeIntersectsForChain(i,f,a,s,m,l),m<c&&this.computeIntersectsForChain(i,f,a,m,c,l)),f<o&&(s<m&&this.computeIntersectsForChain(f,o,a,s,m,l),m<c&&this.computeIntersectsForChain(f,o,a,m,c,l))}},Cp.prototype.getStartIndexes=function(){return this.startIndex},Cp.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Cp.prototype.interfaces_=function(){return[]},Cp.prototype.getClass=function(){return Cp};var Sp=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},Ep={NULL_VALUE:{configurable:!0}};Sp.prototype.getDepth=function(t,e){return this._depth[t][e]},Sp.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Sp.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Sp.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===Sp.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===Sp.NULL_VALUE}},Sp.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},Sp.prototype.getDelta=function(t){return this._depth[t][Kl.RIGHT]-this._depth[t][Kl.LEFT]},Sp.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Qs.EXTERIOR:Qs.INTERIOR},Sp.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Sp.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==Qs.EXTERIOR&&r!==Qs.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=Sp.depthAtLocation(r):this._depth[e][n]+=Sp.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===Qs.INTERIOR&&this._depth[i][o]++}},Sp.prototype.interfaces_=function(){return[]},Sp.prototype.getClass=function(){return Sp},Sp.depthAtLocation=function(t){return t===Qs.EXTERIOR?0:t===Qs.INTERIOR?1:Sp.NULL_VALUE},Ep.NULL_VALUE.get=function(){return-1},Object.defineProperties(Sp,Ep);var Tp=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new xp(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Sp,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,iu.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Cp(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new yc;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new Js(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;s<this.pts.length&&i.equals2D(this.pts[s])&&(o=s,a=0),this.eiList.add(i,o,a)},e.prototype.toString=function(){var t=new ic;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Kl.ON),e.getLocation(1,Kl.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Kl.LEFT),e.getLocation(1,Kl.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Kl.RIGHT),e.getLocation(1,Kl.RIGHT),2))},e}(cu),Op=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new _p,this._bufParams=t||null};Op.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Op.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new iu(t.getLabel())).flip(),n.merge(r);var i=Op.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Op.depthDelta(t.getLabel()))},Op.prototype.buildSubgraphs=function(t,e){for(var n=new Jc,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new ap(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},Op.prototype.createSubgraphs=function(t){for(var e=new Jc,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new nu;i.create(r),e.add(i)}}return Su.sort(e,Su.reverseOrder()),e},Op.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Op.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new Xu,n=new Ac;return n.setPrecisionModel(t),e.setSegmentIntersector(new bp(n)),e},Op.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new op(n,this._bufParams),i=new up(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new gu(new gp),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new yu(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},Op.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new Tp(i.getCoordinates(),new iu(a));this.insertUniqueEdge(s)}}},Op.prototype.setNoder=function(t){this._workingNoder=t},Op.prototype.interfaces_=function(){return[]},Op.prototype.getClass=function(){return Op},Op.depthDelta=function(t){var e=t.getLocation(0,Kl.LEFT),n=t.getLocation(0,Kl.RIGHT);return e===Qs.INTERIOR&&n===Qs.EXTERIOR?1:e===Qs.EXTERIOR&&n===Qs.INTERIOR?-1:0},Op.convertSegStrings=function(t){for(var e=new Yl,n=new Jc;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var Ap=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};Ap.prototype.rescale=function(){if(ec(arguments[0],Wc))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&mc.out.println(n)}},Ap.prototype.scale=function(){if(ec(arguments[0],Wc)){for(var t=arguments[0],e=new Jc,n=t.iterator();n.hasNext();){var r=n.next();e.add(new ju(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new Js(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].z);return Zc.removeRepeatedPoints(o)}},Ap.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Ap.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Ap.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Ap.prototype.interfaces_=function(){return[Wu]},Ap.prototype.getClass=function(){return Ap};var Pp=function(){this._li=new Ac,this._segStrings=null;var t=arguments[0];this._segStrings=t},Lp={fact:{configurable:!0}};Pp.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Cc("found endpt/interior pt intersection at index "+o+" :pt "+n)},Pp.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),c=0;c<a.length-1;c++)for(var l=0;l<s.length-1;l++)this.checkInteriorIntersections(i,c,o,l);else if(4===arguments.length){var u=arguments[0],p=arguments[1],d=arguments[2],h=arguments[3];if(u===d&&p===h)return null;var f=u.getCoordinates()[p],m=u.getCoordinates()[p+1],g=d.getCoordinates()[h],y=d.getCoordinates()[h+1];if(this._li.computeIntersection(f,m,g,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,f,m)||this.hasInteriorIntersection(this._li,g,y)))throw new Cc("found non-noded intersection at "+f+"-"+m+" and "+g+"-"+y)}},Pp.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Pp.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},Pp.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},Pp.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Cc("found non-noded collapse at "+Pp.fact.createLineString([t,e,n]))},Pp.prototype.interfaces_=function(){return[]},Pp.prototype.getClass=function(){return Pp},Lp.fact.get=function(){return new Yl},Object.defineProperties(Pp,Lp);var kp=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Ys("Scale factor must be non-zero");1!==e&&(this._pt=new Js(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Js,this._p1Scaled=new Js),this.initCorners(this._pt)},Ip={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};kp.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return Ec.isTrue(!(a&&s),"Found bad envelope test"),s},kp.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new Js(this._maxx,this._maxy),this._corner[1]=new Js(this._minx,this._maxy),this._corner[2]=new Js(this._minx,this._miny),this._corner[3]=new Js(this._maxx,this._miny)},kp.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},kp.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},kp.prototype.getCoordinate=function(){return this._originalPt},kp.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},kp.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=kp.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new yc(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},kp.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},kp.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},kp.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},kp.prototype.interfaces_=function(){return[]},kp.prototype.getClass=function(){return kp},Ip.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(kp,Ip);var Dp=function(){this.tempEnv1=new yc,this.selectedSegment=new Bu};Dp.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},Dp.prototype.interfaces_=function(){return[]},Dp.prototype.getClass=function(){return Dp};var Np=function(){this._index=null;var t=arguments[0];this._index=t},Rp={HotPixelSnapAction:{configurable:!0}};Np.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new zp(e,n,r);return this._index.query(i,{interfaces_:function(){return[Mu]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},Np.prototype.interfaces_=function(){return[]},Np.prototype.getClass=function(){return Np},Rp.HotPixelSnapAction.get=function(){return zp},Object.defineProperties(Np,Rp);var zp=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Dp),Fp=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Jc};Fp.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var c=0;c<this._li.getIntersectionNum();c++)this._interiorIntersections.add(this._li.getIntersection(c));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},Fp.prototype.isDone=function(){return!1},Fp.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Fp.prototype.interfaces_=function(){return[vp]},Fp.prototype.getClass=function(){return Fp};var jp=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Ac,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};jp.prototype.checkCorrectness=function(t){var e=ju.getNodedSubstrings(t),n=new Pp(e);try{n.checkValid()}catch(t){if(!(t instanceof hc))throw t;t.printStackTrace()}},jp.prototype.getNodedSubstrings=function(){return ju.getNodedSubstrings(this._nodedSegStrings)},jp.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},jp.prototype.findInteriorIntersections=function(t,e){var n=new Fp(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},jp.prototype.computeVertexSnaps=function(){if(ec(arguments[0],Wc))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof ju)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new kp(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},jp.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new Xu,this._pointSnapper=new Np(this._noder.getIndex()),this.snapRound(t,this._li)},jp.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new kp(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},jp.prototype.interfaces_=function(){return[Wu]},jp.prototype.getClass=function(){return jp};var Bp=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Ju,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},qp={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Bp.prototype.bufferFixedPrecision=function(t){var e=new Ap(new jp(new jl(1)),t.getScale()),n=new Op(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Bp.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Bp.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof tu))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=Bp.precisionScaleFactor(this._argGeom,this._distance,n),i=new jl(r);this.bufferFixedPrecision(i)}},Bp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===jl.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Bp.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Bp.prototype.bufferOriginalPrecision=function(){try{var t=new Op(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Cc))throw t;this._saveException=t}},Bp.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Bp.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Bp.prototype.interfaces_=function(){return[]},Bp.prototype.getClass=function(){return Bp},Bp.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Bp(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Nc&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Bp(n);return o.setQuadrantSegments(i),o.getResultGeometry(r)}if(arguments[2]instanceof Ju&&arguments[0]instanceof Nc&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],c=arguments[2];return new Bp(a,c).getResultGeometry(s)}}else if(4===arguments.length){var l=arguments[0],u=arguments[1],p=arguments[2],d=arguments[3],h=new Bp(l);return h.setQuadrantSegments(p),h.setEndCapStyle(d),h.getResultGeometry(u)}},Bp.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=nc.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},qp.CAP_ROUND.get=function(){return Ju.CAP_ROUND},qp.CAP_BUTT.get=function(){return Ju.CAP_FLAT},qp.CAP_FLAT.get=function(){return Ju.CAP_FLAT},qp.CAP_SQUARE.get=function(){return Ju.CAP_SQUARE},qp.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Bp,qp);var Vp=function(){this._pt=[new Js,new Js],this._distance=Hs.NaN,this._isNull=!0};Vp.prototype.getCoordinates=function(){return this._pt},Vp.prototype.getCoordinate=function(t){return this._pt[t]},Vp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Vp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Vp.prototype.getDistance=function(){return this._distance},Vp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Vp.prototype.interfaces_=function(){return[]},Vp.prototype.getClass=function(){return Vp};var Yp=function(){};Yp.prototype.interfaces_=function(){return[]},Yp.prototype.getClass=function(){return Yp},Yp.computeDistance=function(){if(arguments[2]instanceof Vp&&arguments[0]instanceof Ml&&arguments[1]instanceof Js)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),i=new Bu,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var a=i.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof Vp&&arguments[0]instanceof Sl&&arguments[1]instanceof Js){var s=arguments[0],c=arguments[1],l=arguments[2];Yp.computeDistance(s.getExteriorRing(),c,l);for(var u=0;u<s.getNumInteriorRing();u++)Yp.computeDistance(s.getInteriorRingN(u),c,l)}else if(arguments[2]instanceof Vp&&arguments[0]instanceof Nc&&arguments[1]instanceof Js){var p=arguments[0],d=arguments[1],h=arguments[2];if(p instanceof Ml)Yp.computeDistance(p,d,h);else if(p instanceof Sl)Yp.computeDistance(p,d,h);else if(p instanceof fl)for(var f=p,m=0;m<f.getNumGeometries();m++){var g=f.getGeometryN(m);Yp.computeDistance(g,d,h)}else h.setMinimum(p.getCoordinate(),d)}else if(arguments[2]instanceof Vp&&arguments[0]instanceof Bu&&arguments[1]instanceof Js){var y=arguments[0],_=arguments[1],v=arguments[2],b=y.closestPoint(_);v.setMinimum(b,_)}};var Hp=function(t){this._maxPtDist=new Vp,this._inputGeom=t||null},Wp={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Hp.prototype.computeMaxMidpointDistance=function(t){var e=new Xp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Hp.prototype.computeMaxVertexDistance=function(t){var e=new Up(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Hp.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Hp.prototype.getDistancePoints=function(){return this._maxPtDist},Hp.prototype.interfaces_=function(){return[]},Hp.prototype.getClass=function(){return Hp},Wp.MaxPointDistanceFilter.get=function(){return Up},Wp.MaxMidpointDistanceFilter.get=function(){return Xp},Object.defineProperties(Hp,Wp);var Up=function(t){this._maxPtDist=new Vp,this._minPtDist=new Vp,this._geom=t||null};Up.prototype.filter=function(t){this._minPtDist.initialize(),Yp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Up.prototype.getMaxPointDistance=function(){return this._maxPtDist},Up.prototype.interfaces_=function(){return[Fc]},Up.prototype.getClass=function(){return Up};var Xp=function(t){this._maxPtDist=new Vp,this._minPtDist=new Vp,this._geom=t||null};Xp.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new Js((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),Yp.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Xp.prototype.isDone=function(){return!1},Xp.prototype.isGeometryChanged=function(){return!1},Xp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Xp.prototype.interfaces_=function(){return[hl]},Xp.prototype.getClass=function(){return Xp};var Gp=function(t){this._comps=t||null};Gp.prototype.filter=function(t){t instanceof Sl&&this._comps.add(t)},Gp.prototype.interfaces_=function(){return[dl]},Gp.prototype.getClass=function(){return Gp},Gp.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Gp.getPolygons(t,new Jc)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Sl?n.add(e):e instanceof fl&&e.apply(new Gp(n)),n}};var Jp=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Jp.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Tl){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Ml&&this._lines.add(t)},Jp.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Jp.prototype.interfaces_=function(){return[Dc]},Jp.prototype.getClass=function(){return Jp},Jp.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Jp.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Jp.getLines(e,n))}},Jp.getLines=function(){if(1===arguments.length){var t=arguments[0];return Jp.getLines(t,!1)}if(2===arguments.length){if(ec(arguments[0],Wc)&&ec(arguments[1],Wc)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();Jp.getLines(i,n)}return n}if(arguments[0]instanceof Nc&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1],s=new Jc;return o.apply(new Jp(s,a)),s}if(arguments[0]instanceof Nc&&ec(arguments[1],Wc)){var c=arguments[0],l=arguments[1];return c instanceof Ml?l.add(c):c.apply(new Jp(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&ec(arguments[0],Wc)&&ec(arguments[1],Wc)){for(var u=arguments[0],p=arguments[1],d=arguments[2],h=u.iterator();h.hasNext();){var f=h.next();Jp.getLines(f,p,d)}return p}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Nc&&ec(arguments[1],Wc)){var m=arguments[0],g=arguments[1],y=arguments[2];return m.apply(new Jp(g,y)),g}}};var $p=function(){if(this._boundaryRule=jc.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Ys("Rule must be non-null");this._boundaryRule=t}};$p.prototype.locateInternal=function(){if(arguments[0]instanceof Js&&arguments[1]instanceof Sl){var t=arguments[0],e=arguments[1];if(e.isEmpty())return Qs.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===Qs.EXTERIOR)return Qs.EXTERIOR;if(r===Qs.BOUNDARY)return Qs.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===Qs.INTERIOR)return Qs.EXTERIOR;if(a===Qs.BOUNDARY)return Qs.BOUNDARY}return Qs.INTERIOR}if(arguments[0]instanceof Js&&arguments[1]instanceof Ml){var s=arguments[0],c=arguments[1];if(!c.getEnvelopeInternal().intersects(s))return Qs.EXTERIOR;var l=c.getCoordinates();return c.isClosed()||!s.equals(l[0])&&!s.equals(l[l.length-1])?kc.isOnLine(s,l)?Qs.INTERIOR:Qs.EXTERIOR:Qs.BOUNDARY}if(arguments[0]instanceof Js&&arguments[1]instanceof wl){var u=arguments[0];return arguments[1].getCoordinate().equals2D(u)?Qs.INTERIOR:Qs.EXTERIOR}},$p.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?kc.locatePointInRing(t,e.getCoordinates()):Qs.EXTERIOR},$p.prototype.intersects=function(t,e){return this.locate(t,e)!==Qs.EXTERIOR},$p.prototype.updateLocationInfo=function(t){t===Qs.INTERIOR&&(this._isIn=!0),t===Qs.BOUNDARY&&this._numBoundaries++},$p.prototype.computeLocation=function(t,e){if(e instanceof wl&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Ml)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Sl)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ml)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof Ol)for(var o=e,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof fl)for(var c=new dp(e);c.hasNext();){var l=c.next();l!==e&&this.computeLocation(t,l)}},$p.prototype.locate=function(t,e){return e.isEmpty()?Qs.EXTERIOR:e instanceof Ml||e instanceof Sl?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Qs.BOUNDARY:this._numBoundaries>0||this._isIn?Qs.INTERIOR:Qs.EXTERIOR)},$p.prototype.interfaces_=function(){return[]},$p.prototype.getClass=function(){return $p};var Kp=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},Zp={INSIDE_AREA:{configurable:!0}};Kp.prototype.isInsideArea=function(){return this._segIndex===Kp.INSIDE_AREA},Kp.prototype.getCoordinate=function(){return this._pt},Kp.prototype.getGeometryComponent=function(){return this._component},Kp.prototype.getSegmentIndex=function(){return this._segIndex},Kp.prototype.interfaces_=function(){return[]},Kp.prototype.getClass=function(){return Kp},Zp.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Kp,Zp);var Qp=function(t){this._pts=t||null};Qp.prototype.filter=function(t){t instanceof wl&&this._pts.add(t)},Qp.prototype.interfaces_=function(){return[dl]},Qp.prototype.getClass=function(){return Qp},Qp.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof wl?Su.singletonList(t):Qp.getPoints(t,new Jc)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof wl?n.add(e):e instanceof fl&&e.apply(new Qp(n)),n}};var td=function(){this._locations=null;var t=arguments[0];this._locations=t};td.prototype.filter=function(t){(t instanceof wl||t instanceof Ml||t instanceof Sl)&&this._locations.add(new Kp(t,0,t.getCoordinate()))},td.prototype.interfaces_=function(){return[dl]},td.prototype.getClass=function(){return td},td.getLocations=function(t){var e=new Jc;return t.apply(new td(e)),e};var ed=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new $p,this._minDistanceLocation=null,this._minDistance=Hs.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};ed.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=Gp.getPolygons(this._geom[e]);if(i.size()>0){var o=td.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&ec(arguments[0],Gc)&&ec(arguments[1],Gc)){for(var a=arguments[0],s=arguments[1],c=arguments[2],l=0;l<a.size();l++)for(var u=a.get(l),p=0;p<s.size();p++)if(this.computeContainmentDistance(u,s.get(p),c),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kp&&arguments[1]instanceof Sl){var d=arguments[0],h=arguments[1],f=arguments[2],m=d.getCoordinate();if(Qs.EXTERIOR!==this._ptLocator.locate(m,h))return this._minDistance=0,f[0]=d,f[1]=new Kp(h,m),null}},ed.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},ed.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Jp.getLines(this._geom[0]),n=Jp.getLines(this._geom[1]),r=Qp.getPoints(this._geom[0]),i=Qp.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},ed.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},ed.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},ed.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},ed.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ml&&arguments[1]instanceof wl){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var a=kc.distancePointLine(i,r[o],r[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new Bu(r[o],r[o+1]).closestPoint(i);n[0]=new Kp(t,o,s),n[1]=new Kp(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ml&&arguments[1]instanceof Ml){var c=arguments[0],l=arguments[1],u=arguments[2];if(c.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var p=c.getCoordinates(),d=l.getCoordinates(),h=0;h<p.length-1;h++)for(var f=0;f<d.length-1;f++){var m=kc.distanceLineLine(p[h],p[h+1],d[f],d[f+1]);if(m<this._minDistance){this._minDistance=m;var g=new Bu(p[h],p[h+1]),y=new Bu(d[f],d[f+1]),_=g.closestPoints(y);u[0]=new Kp(c,h,_[0]),u[1]=new Kp(l,f,_[1])}if(this._minDistance<=this._terminateDistance)return null}}},ed.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Kp(i,0,i.getCoordinate()),n[1]=new Kp(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},ed.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Ys("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},ed.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},ed.prototype.interfaces_=function(){return[]},ed.prototype.getClass=function(){return ed},ed.distance=function(t,e){return new ed(t,e).distance()},ed.isWithinDistance=function(t,e,n){return new ed(t,e,n).distance()<=n},ed.nearestPoints=function(t,e){return new ed(t,e).nearestPoints()};var nd=function(){this._pt=[new Js,new Js],this._distance=Hs.NaN,this._isNull=!0};nd.prototype.getCoordinates=function(){return this._pt},nd.prototype.getCoordinate=function(t){return this._pt[t]},nd.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},nd.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},nd.prototype.toString=function(){return wc.toLineString(this._pt[0],this._pt[1])},nd.prototype.getDistance=function(){return this._distance},nd.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},nd.prototype.interfaces_=function(){return[]},nd.prototype.getClass=function(){return nd};var rd=function(){};rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd},rd.computeDistance=function(){if(arguments[2]instanceof nd&&arguments[0]instanceof Ml&&arguments[1]instanceof Js)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new Bu,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof nd&&arguments[0]instanceof Sl&&arguments[1]instanceof Js){var s=arguments[0],c=arguments[1],l=arguments[2];rd.computeDistance(s.getExteriorRing(),c,l);for(var u=0;u<s.getNumInteriorRing();u++)rd.computeDistance(s.getInteriorRingN(u),c,l)}else if(arguments[2]instanceof nd&&arguments[0]instanceof Nc&&arguments[1]instanceof Js){var p=arguments[0],d=arguments[1],h=arguments[2];if(p instanceof Ml)rd.computeDistance(p,d,h);else if(p instanceof Sl)rd.computeDistance(p,d,h);else if(p instanceof fl)for(var f=p,m=0;m<f.getNumGeometries();m++){var g=f.getGeometryN(m);rd.computeDistance(g,d,h)}else h.setMinimum(p.getCoordinate(),d)}else if(arguments[2]instanceof nd&&arguments[0]instanceof Bu&&arguments[1]instanceof Js){var y=arguments[0],_=arguments[1],v=arguments[2],b=y.closestPoint(_);v.setMinimum(b,_)}};var id=function(){this._g0=null,this._g1=null,this._ptDist=new nd,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},od={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};id.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},id.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Ys("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},id.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},id.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},id.prototype.computeOrientedDistance=function(t,e,n){var r=new ad(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new sd(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},id.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},id.prototype.interfaces_=function(){return[]},id.prototype.getClass=function(){return id},id.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new id(t,e).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new id(n,r);return o.setDensifyFraction(i),o.distance()}},od.MaxPointDistanceFilter.get=function(){return ad},od.MaxDensifiedByFractionDistanceFilter.get=function(){return sd},Object.defineProperties(id,od);var ad=function(){this._maxPtDist=new nd,this._minPtDist=new nd,this._euclideanDist=new rd,this._geom=null;var t=arguments[0];this._geom=t};ad.prototype.filter=function(t){this._minPtDist.initialize(),rd.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ad.prototype.getMaxPointDistance=function(){return this._maxPtDist},ad.prototype.interfaces_=function(){return[Fc]},ad.prototype.getClass=function(){return ad};var sd=function(){this._maxPtDist=new nd,this._minPtDist=new nd,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};sd.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=new Js(n.x+a*i,n.y+a*o);this._minPtDist.initialize(),rd.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},sd.prototype.isDone=function(){return!1},sd.prototype.isGeometryChanged=function(){return!1},sd.prototype.getMaxPointDistance=function(){return this._maxPtDist},sd.prototype.interfaces_=function(){return[hl]},sd.prototype.getClass=function(){return sd};var cd=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},ld={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};cd.prototype.checkMaximumDistance=function(t,e,n){var r=new id(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+wc.toLineString(i[0],i[1])+")"}},cd.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=cd.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),cd.VERBOSE&&mc.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},cd.prototype.checkNegativeValid=function(){if(!(this._input instanceof Sl||this._input instanceof Ol||this._input instanceof fl))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},cd.prototype.getErrorIndicator=function(){return this._errorIndicator},cd.prototype.checkMinimumDistance=function(t,e,n){var r=new ed(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+wc.toLineString(i[0],i[1])+" )"}},cd.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},cd.prototype.getErrorLocation=function(){return this._errorLocation},cd.prototype.getPolygonLines=function(t){for(var e=new Jc,n=new Jp(e),r=Gp.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},cd.prototype.getErrorMessage=function(){return this._errMsg},cd.prototype.interfaces_=function(){return[]},cd.prototype.getClass=function(){return cd},ld.VERBOSE.get=function(){return!1},ld.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(cd,ld);var ud=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},pd={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};ud.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},ud.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*ud.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new yc(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new yc(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},ud.prototype.checkDistance=function(){var t=new cd(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},ud.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},ud.prototype.checkPolygonal=function(){this._result instanceof Sl||this._result instanceof Ol||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},ud.prototype.getErrorIndicator=function(){return this._errorIndicator},ud.prototype.getErrorLocation=function(){return this._errorLocation},ud.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},ud.prototype.report=function(t){if(!ud.VERBOSE)return null;mc.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},ud.prototype.getErrorMessage=function(){return this._errorMsg},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud},ud.isValidMsg=function(t,e,n){var r=new ud(t,e,n);return r.isValid()?null:r.getErrorMessage()},ud.isValid=function(t,e,n){return!!new ud(t,e,n).isValid()},pd.VERBOSE.get=function(){return!1},pd.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(ud,pd);var dd=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};dd.prototype.getCoordinates=function(){return this._pts},dd.prototype.size=function(){return this._pts.length},dd.prototype.getCoordinate=function(t){return this._pts[t]},dd.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},dd.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Ru.octant(this.getCoordinate(t),this.getCoordinate(t+1))},dd.prototype.setData=function(t){this._data=t},dd.prototype.getData=function(){return this._data},dd.prototype.toString=function(){return wc.toLineString(new Dl(this._pts))},dd.prototype.interfaces_=function(){return[zu]},dd.prototype.getClass=function(){return dd};var hd=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Jc,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};hd.prototype.getInteriorIntersection=function(){return this._interiorIntersection},hd.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},hd.prototype.getIntersectionSegments=function(){return this._intSegments},hd.prototype.count=function(){return this._intersectionCount},hd.prototype.getIntersections=function(){return this._intersections},hd.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},hd.prototype.setKeepIntersections=function(t){this._keepIntersections=t},hd.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},hd.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},hd.prototype.hasIntersection=function(){return null!==this._interiorIntersection},hd.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},hd.prototype.interfaces_=function(){return[vp]},hd.prototype.getClass=function(){return hd},hd.createAllIntersectionsFinder=function(t){var e=new hd(t);return e.setFindAllIntersections(!0),e},hd.createAnyIntersectionFinder=function(t){return new hd(t)},hd.createIntersectionCounter=function(t){var e=new hd(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var fd=function(){this._li=new Ac,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};fd.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},fd.prototype.getIntersections=function(){return this._segInt.getIntersections()},fd.prototype.isValid=function(){return this.execute(),this._isValid},fd.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},fd.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new hd(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new Xu;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},fd.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new tu(this.getErrorMessage(),this._segInt.getInteriorIntersection())},fd.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+wc.toLineString(t[0],t[1])+" and "+wc.toLineString(t[2],t[3])},fd.prototype.interfaces_=function(){return[]},fd.prototype.getClass=function(){return fd},fd.computeIntersections=function(t){var e=new fd(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var md=function t(){this._nv=null;var e=arguments[0];this._nv=new fd(t.toSegmentStrings(e))};md.prototype.checkValid=function(){this._nv.checkValid()},md.prototype.interfaces_=function(){return[]},md.prototype.getClass=function(){return md},md.toSegmentStrings=function(t){for(var e=new Jc,n=t.iterator();n.hasNext();){var r=n.next();e.add(new dd(r.getCoordinates(),r))}return e},md.checkValid=function(t){new md(t).checkValid()};var gd=function(t){this._mapOp=t};gd.prototype.map=function(t){for(var e=new Jc,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(Yl.toGeometryArray(e))},gd.prototype.interfaces_=function(){return[]},gd.prototype.getClass=function(){return gd},gd.map=function(t,e){return new gd(e).map(t)};var yd=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Jc,this._resultLineList=new Jc;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};yd.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},yd.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},yd.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},yd.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Kd.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},yd.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},yd.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},yd.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},yd.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(Ec.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Kd.isResultOfOp(r,e)&&e===Kd.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},yd.prototype.interfaces_=function(){return[]},yd.prototype.getClass=function(){return yd};var _d=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Jc;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};_d.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},_d.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Kd.INTERSECTION)){var r=n.getLabel();Kd.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},_d.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},_d.prototype.interfaces_=function(){return[]},_d.prototype.getClass=function(){return _d};var vd=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};vd.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},vd.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof Tl&&!r.isEmpty()||(n=!1);for(var i=new Jc,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof Tl||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new Jc;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},vd.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},vd.prototype.getInputGeometry=function(){return this._inputGeom},vd.prototype.transformMultiLineString=function(t,e){for(var n=new Jc,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},vd.prototype.transformCoordinates=function(t,e){return this.copy(t)},vd.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},vd.prototype.transformMultiPoint=function(t,e){for(var n=new Jc,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},vd.prototype.transformMultiPolygon=function(t,e){for(var n=new Jc,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},vd.prototype.copy=function(t){return t.copy()},vd.prototype.transformGeometryCollection=function(t,e){for(var n=new Jc,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Yl.toGeometryArray(n)):this._factory.buildGeometry(n)},vd.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof wl)return this.transformPoint(t,null);if(t instanceof El)return this.transformMultiPoint(t,null);if(t instanceof Tl)return this.transformLinearRing(t,null);if(t instanceof Ml)return this.transformLineString(t,null);if(t instanceof ml)return this.transformMultiLineString(t,null);if(t instanceof Sl)return this.transformPolygon(t,null);if(t instanceof Ol)return this.transformMultiPolygon(t,null);if(t instanceof fl)return this.transformGeometryCollection(t,null);throw new Ys("Unknown Geometry subtype: "+t.getClass().getName())},vd.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},vd.prototype.interfaces_=function(){return[]},vd.prototype.getClass=function(){return vd};var bd=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Bu,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ml&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=i}};bd.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new Js(o)),0===r&&this._isClosed&&t.set(t.size()-1,new Js(o)))}},bd.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},bd.prototype.snapTo=function(t){var e=new Kc(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},bd.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new Js(i),!1)}},bd.prototype.findSegmentIndexToSnap=function(t,e){for(var n=Hs.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},bd.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},bd.prototype.interfaces_=function(){return[]},bd.prototype.getClass=function(){return bd},bd.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Md=function(t){this._srcGeom=t||null},xd={SNAP_PRECISION_FACTOR:{configurable:!0}};Md.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new wd(e,n).transform(this._srcGeom)},Md.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new wd(t,n,!0).transform(this._srcGeom),i=r;return e&&ec(i,Cl)&&(i=r.buffer(0)),i},Md.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Md.prototype.extractTargetCoordinates=function(t){for(var e=new Ti,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Md.prototype.computeMinimumSegmentLength=function(t){for(var e=Hs.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Md.prototype.interfaces_=function(){return[]},Md.prototype.getClass=function(){return Md},Md.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Md(t);r[0]=i.snapTo(e,n);var o=new Md(e);return r[1]=o.snapTo(r[0],n),r},Md.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Md.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===jl.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Md.computeOverlaySnapTolerance(i),Md.computeOverlaySnapTolerance(o))}},Md.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Md.SNAP_PRECISION_FACTOR},Md.snapToSelf=function(t,e,n){return new Md(t).snapToSelf(e,n)},xd.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Md,xd);var wd=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(t,e){var n=new bd(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(vd),Cd=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Cd.prototype.getCommon=function(){return Hs.longBitsToDouble(this._commonBits)},Cd.prototype.add=function(t){var e=Hs.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Cd.signExpBits(this._commonBits),this._isFirst=!1,null):Cd.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Cd.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Cd.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Cd.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=Hs.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Hs.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Cd.prototype.interfaces_=function(){return[]},Cd.prototype.getClass=function(){return Cd},Cd.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Cd.signExpBits=function(t){return t>>52},Cd.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Cd.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Cd.getBit(t,r)!==Cd.getBit(e,r))return n;n++}return 52};var Sd=function(){this._commonCoord=null,this._ccFilter=new Td},Ed={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Sd.prototype.addCommonBits=function(t){var e=new Od(this._commonCoord);t.apply(e),t.geometryChanged()},Sd.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new Js(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Od(e);return t.apply(n),t.geometryChanged(),t},Sd.prototype.getCommonCoordinate=function(){return this._commonCoord},Sd.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Sd.prototype.interfaces_=function(){return[]},Sd.prototype.getClass=function(){return Sd},Ed.CommonCoordinateFilter.get=function(){return Td},Ed.Translater.get=function(){return Od},Object.defineProperties(Sd,Ed);var Td=function(){this._commonBitsX=new Cd,this._commonBitsY=new Cd};Td.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Td.prototype.getCommonCoordinate=function(){return new Js(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Td.prototype.interfaces_=function(){return[Fc]},Td.prototype.getClass=function(){return Td};var Od=function(){this.trans=null;var t=arguments[0];this.trans=t};Od.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},Od.prototype.isDone=function(){return!1},Od.prototype.isGeometryChanged=function(){return!0},Od.prototype.interfaces_=function(){return[hl]},Od.prototype.getClass=function(){return Od};var Ad=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Ad.prototype.selfSnap=function(t){return new Md(t).snapTo(t,this._snapTolerance)},Ad.prototype.removeCommonBits=function(t){this._cbr=new Sd,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Ad.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Ad.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Kd.overlayOp(e[0],e[1],t);return this.prepareResult(n)},Ad.prototype.checkValid=function(t){t.isValid()||mc.out.println("Snapped geometry is invalid")},Ad.prototype.computeSnapTolerance=function(){this._snapTolerance=Md.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Ad.prototype.snap=function(t){var e=this.removeCommonBits(t);return Md.snap(e[0],e[1],this._snapTolerance)},Ad.prototype.interfaces_=function(){return[]},Ad.prototype.getClass=function(){return Ad},Ad.overlayOp=function(t,e,n){return new Ad(t,e).getResultGeometry(n)},Ad.union=function(t,e){return Ad.overlayOp(t,e,Kd.UNION)},Ad.intersection=function(t,e){return Ad.overlayOp(t,e,Kd.INTERSECTION)},Ad.symDifference=function(t,e){return Ad.overlayOp(t,e,Kd.SYMDIFFERENCE)},Ad.difference=function(t,e){return Ad.overlayOp(t,e,Kd.DIFFERENCE)};var Pd=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};Pd.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Kd.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Cc))throw t;r=t}if(!n)try{e=Ad.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Cc?r:t}return e},Pd.prototype.interfaces_=function(){return[]},Pd.prototype.getClass=function(){return Pd},Pd.overlayOp=function(t,e,n){return new Pd(t,e).getResultGeometry(n)},Pd.union=function(t,e){return Pd.overlayOp(t,e,Kd.UNION)},Pd.intersection=function(t,e){return Pd.overlayOp(t,e,Kd.INTERSECTION)},Pd.symDifference=function(t,e){return Pd.overlayOp(t,e,Kd.SYMDIFFERENCE)},Pd.difference=function(t,e){return Pd.overlayOp(t,e,Kd.DIFFERENCE)};var Ld=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};Ld.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Ld.prototype.interfaces_=function(){return[]},Ld.prototype.getClass=function(){return Ld};var kd=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},Id={INSERT:{configurable:!0},DELETE:{configurable:!0}};kd.prototype.isDelete=function(){return this._eventType===kd.DELETE},kd.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},kd.prototype.getObject=function(){return this._obj},kd.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},kd.prototype.getInsertEvent=function(){return this._insertEvent},kd.prototype.isInsert=function(){return this._eventType===kd.INSERT},kd.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},kd.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},kd.prototype.interfaces_=function(){return[Us]},kd.prototype.getClass=function(){return kd},Id.INSERT.get=function(){return 1},Id.DELETE.get=function(){return 2},Object.defineProperties(kd,Id);var Dd=function(){};Dd.prototype.interfaces_=function(){return[]},Dd.prototype.getClass=function(){return Dd};var Nd=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};Nd.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Nd.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Nd.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Nd.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Nd.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Nd.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},Nd.prototype.hasProperIntersection=function(){return this._hasProper},Nd.prototype.hasIntersection=function(){return this._hasIntersection},Nd.prototype.isDone=function(){return this._isDone},Nd.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Nd.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Nd.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Nd.prototype.interfaces_=function(){return[]},Nd.prototype.getClass=function(){return Nd},Nd.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Rd=function(t){function e(){t.call(this),this.events=new Jc,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){Su.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Nd&&ec(arguments[0],Gc)&&ec(arguments[1],Gc)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&ec(arguments[0],Gc)&&arguments[1]instanceof Nd){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new Ld(n,i),a=new kd(e,n.getMinX(i),o);this.events.add(a),this.events.add(new kd(n.getMaxX(i),a))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();this.addEdge(o,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Dd),zd=function(){this._min=Hs.POSITIVE_INFINITY,this._max=Hs.NEGATIVE_INFINITY},Fd={NodeComparator:{configurable:!0}};zd.prototype.getMin=function(){return this._min},zd.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},zd.prototype.getMax=function(){return this._max},zd.prototype.toString=function(){return wc.toLineString(new Js(this._min,0),new Js(this._max,0))},zd.prototype.interfaces_=function(){return[]},zd.prototype.getClass=function(){return zd},Fd.NodeComparator.get=function(){return jd},Object.defineProperties(zd,Fd);var jd=function(){};jd.prototype.compare=function(t,e){var n=(t._min+t._max)/2,r=(e._min+e._max)/2;return n<r?-1:n>r?1:0},jd.prototype.interfaces_=function(){return[Gs]},jd.prototype.getClass=function(){return jd};var Bd=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zd),qd=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zd),Vd=function(){this._leaves=new Jc,this._root=null,this._level=0};Vd.prototype.buildTree=function(){Su.sort(this._leaves,new zd.NodeComparator);for(var t=this._leaves,e=null,n=new Jc;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Vd.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Bd(t,e,n))},Vd.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Vd.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Vd.prototype.printNode=function(t){mc.out.println(wc.toLineString(new Js(t._min,this._level),new Js(t._max,this._level)))},Vd.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Vd.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new qd(t.get(n),t.get(n+1));e.add(i)}}},Vd.prototype.interfaces_=function(){return[]},Vd.prototype.getClass=function(){return Vd};var Yd=function(){this._items=new Jc};Yd.prototype.visitItem=function(t){this._items.add(t)},Yd.prototype.getItems=function(){return this._items},Yd.prototype.interfaces_=function(){return[Mu]},Yd.prototype.getClass=function(){return Yd};var Hd=function(){this._index=null;var t=arguments[0];if(!ec(t,Cl))throw new Ys("Argument must be Polygonal");this._index=new Xd(t)},Wd={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Hd.prototype.locate=function(t){var e=new Lc(t),n=new Ud(e);return this._index.query(t.y,t.y,n),e.getLocation()},Hd.prototype.interfaces_=function(){return[pp]},Hd.prototype.getClass=function(){return Hd},Wd.SegmentVisitor.get=function(){return Ud},Wd.IntervalIndexedGeometry.get=function(){return Xd},Object.defineProperties(Hd,Wd);var Ud=function(){this._counter=null;var t=arguments[0];this._counter=t};Ud.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Ud.prototype.interfaces_=function(){return[Mu]},Ud.prototype.getClass=function(){return Ud};var Xd=function(){this._index=new Vd;var t=arguments[0];this.init(t)};Xd.prototype.init=function(t){for(var e=Jp.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},Xd.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Bu(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},Xd.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Yd;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},Xd.prototype.interfaces_=function(){return[]},Xd.prototype.getClass=function(){return Xd};var Gd=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Fl,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new $p,2===arguments.length){var e=arguments[0],n=arguments[1],r=jc.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(t,Kl.ON)===Qs.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Nd(n,!0,!1);o.setIsDoneIfProperInt(i);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof Tl||this._parentGeom instanceof Sl||this._parentGeom instanceof Ol,c=r||!s;return a.computeIntersections(this._edges,o,c),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new Nd(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof wl){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Qs.INTERIOR)}else if(arguments[0]instanceof Js){var e=arguments[0];this.insertPoint(this._argIndex,e,Qs.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Qs.EXTERIOR,Qs.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Qs.INTERIOR,Qs.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Qs.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Qs.BOUNDARY)},e.prototype.addLineString=function(t){var e=Zc.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Tp(e,new iu(this._argIndex,Qs.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Ec.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Qs.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Zc.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;kc.isCCW(r)&&(i=n,o=e);var a=new Tp(r,new iu(this._argIndex,Qs.BOUNDARY,i,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],Qs.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new iu(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Rd},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Ol&&(this._useBoundaryDeterminationRule=!1),e instanceof Sl)this.addPolygon(e);else if(e instanceof Ml)this.addLineString(e);else if(e instanceof wl)this.addPoint(e);else if(e instanceof El)this.addCollection(e);else if(e instanceof ml)this.addCollection(e);else if(e instanceof Ol)this.addCollection(e);else{if(!(e instanceof fl))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return ec(this._parentGeom,Cl)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Hd(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Qs.BOUNDARY:Qs.INTERIOR},e}(gu),Jd=function(){if(this._li=new Ac,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Gd(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=jc.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Gd(0,e,r),this._arg[1]=new Gd(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Gd(0,i,a),this._arg[1]=new Gd(1,o,a)}};Jd.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Jd.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Jd.prototype.interfaces_=function(){return[]},Jd.prototype.getClass=function(){return Jd};var $d=function(){};$d.prototype.interfaces_=function(){return[]},$d.prototype.getClass=function(){return $d},$d.map=function(){if(arguments[0]instanceof Nc&&ec(arguments[1],$d.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Jc,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(ec(arguments[0],Wc)&&ec(arguments[1],$d.MapOp)){for(var o=arguments[0],a=arguments[1],s=new Jc,c=o.iterator();c.hasNext();){var l=c.next(),u=a.map(l);null!==u&&s.add(u)}return s}},$d.MapOp=function(){};var Kd=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new $p,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new _p,this._resultPolyList=new Jc,this._resultLineList=new Jc,this._resultPointList=new Jc,this._graph=new gu(new gp),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new iu(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new Jc;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==Qs.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Jc,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Jc;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),md.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new yu(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new yd(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new _d(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Kl.RIGHT),i.getLocation(1,Kl.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(Ec.isTrue(!r.isNull(i,Kl.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Kl.LEFT,r.getLocation(i,Kl.LEFT)),Ec.isTrue(!r.isNull(i,Kl.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Kl.RIGHT,r.getLocation(i,Kl.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Jd);Kd.overlayOp=function(t,e,n){return new Kd(t,e).getResultGeometry(n)},Kd.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Kd.createEmptyResult(Kd.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return gd.map(t,{interfaces_:function(){return[$d.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pd.overlayOp(t,e,Kd.INTERSECTION)},Kd.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Kd.createEmptyResult(Kd.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pd.overlayOp(t,e,Kd.SYMDIFFERENCE)},Kd.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Kd.INTERSECTION:o=Math.min(r,i);break;case Kd.UNION:o=Math.max(r,i);break;case Kd.DIFFERENCE:o=r;break;case Kd.SYMDIFFERENCE:o=Math.max(r,i)}return o},Kd.createEmptyResult=function(t,e,n,r){var i=null;switch(Kd.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Kd.difference=function(t,e){return t.isEmpty()?Kd.createEmptyResult(Kd.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pd.overlayOp(t,e,Kd.DIFFERENCE))},Kd.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Kd.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===Qs.BOUNDARY&&(i=Qs.INTERIOR),o===Qs.BOUNDARY&&(o=Qs.INTERIOR),a){case Kd.INTERSECTION:return i===Qs.INTERIOR&&o===Qs.INTERIOR;case Kd.UNION:return i===Qs.INTERIOR||o===Qs.INTERIOR;case Kd.DIFFERENCE:return i===Qs.INTERIOR&&o!==Qs.INTERIOR;case Kd.SYMDIFFERENCE:return i===Qs.INTERIOR&&o!==Qs.INTERIOR||i!==Qs.INTERIOR&&o===Qs.INTERIOR}return!1}},Kd.INTERSECTION=1,Kd.UNION=2,Kd.DIFFERENCE=3,Kd.SYMDIFFERENCE=4;var Zd=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new $p,this._seg=new Bu;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Zd.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Zd.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Qs.BOUNDARY:this._ptLocator.locate(t,this._g)},Zd.prototype.extractLinework=function(t){var e=new Qd;t.apply(e);var n=e.getLinework(),r=Yl.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Zd.prototype.interfaces_=function(){return[]},Zd.prototype.getClass=function(){return Zd};var Qd=function(){this._linework=null,this._linework=new Jc};Qd.prototype.getLinework=function(){return this._linework},Qd.prototype.filter=function(t){if(t instanceof Sl){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Qd.prototype.interfaces_=function(){return[dl]},Qd.prototype.getClass=function(){return Qd};var th=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};th.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},th.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},th.prototype.getPoints=function(t){for(var e=new Jc,n=Jp.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},th.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=Math.sqrt(i*i+o*o),s=n*i/a,c=n*o/a,l=(e.x+t.x)/2,u=(e.y+t.y)/2;if(this._doLeft){var p=new Js(l-c,u+s);r.add(p)}if(this._doRight){var d=new Js(l+c,u-s);r.add(d)}},th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th};var eh=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Jc;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Zd(this._geom[0],this._boundaryDistanceTolerance),new Zd(this._geom[1],this._boundaryDistanceTolerance),new Zd(this._geom[2],this._boundaryDistanceTolerance)]},nh={TOLERANCE:{configurable:!0}};eh.prototype.reportResult=function(t,e,n){mc.out.println("Overlay result invalid - A:"+Qs.toLocationSymbol(e[0])+" B:"+Qs.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+Qs.toLocationSymbol(e[2]))},eh.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},eh.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!eh.hasLocation(this._location,Qs.BOUNDARY)||this.isValidResult(r,this._location)}},eh.prototype.addTestPts=function(t){var e=new th(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},eh.prototype.isValidResult=function(t,e){var n=Kd.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===Qs.INTERIOR);return r||this.reportResult(t,e,n),r},eh.prototype.getInvalidLocation=function(){return this._invalidLocation},eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh},eh.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},eh.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Md.computeSizeBasedSnapTolerance(t),Md.computeSizeBasedSnapTolerance(e))},eh.isValid=function(t,e,n,r){return new eh(t,e,r).isValid(n)},nh.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(eh,nh);var rh=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};rh.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},rh.prototype.combine=function(){for(var t=new Jc,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh},rh.combine=function(){if(1===arguments.length){var t=arguments[0];return new rh(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new rh(rh.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return new rh(rh.createList(r,i,o)).combine()}},rh.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},rh.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Jc;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new Jc;return a.add(r),a.add(i),a.add(o),a}};var ih=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Jc)},oh={STRTREE_NODE_CAPACITY:{configurable:!0}};ih.prototype.reduceToGeometries=function(t){for(var e=new Jc,n=t.iterator();n.hasNext();){var r=n.next(),i=null;ec(r,Gc)?i=this.unionTree(r):r instanceof Nc&&(i=r),e.add(i)}return e},ih.prototype.extractByEnvelope=function(t,e,n){for(var r=new Jc,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},ih.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return rh.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},ih.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Lu(ih.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},ih.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=ih.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(ih.getGeometry(e,n),ih.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,r);return this.unionSafe(a,s)}},ih.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},ih.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},ih.prototype.unionActual=function(t,e){return ih.restrictToPolygons(t.union(e))},ih.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},ih.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new Jc,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),rh.combine(r)},ih.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih},ih.restrictToPolygons=function(t){if(ec(t,Cl))return t;var e=Gp.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Yl.toPolygonArray(e))},ih.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},ih.union=function(t){return new ih(t).union()},oh.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(ih,oh);var ah=function(){};ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Kd.createEmptyResult(Kd.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pd.overlayOp(t,e,Kd.UNION)};var sh=function(){return new ki};ki.prototype={constructor:ki,reset:function(){this.s=this.t=0},add:function(t){Ii(ch,t,this.t),Ii(this,ch.s,this.s),this.s?this.t+=ch.t:this.s=ch.t},valueOf:function(){return this.s}};var ch=new ki,lh=1e-6,uh=Math.PI,ph=uh/2,dh=uh/4,hh=2*uh,fh=180/uh,mh=uh/180,gh=Math.abs,yh=Math.atan,_h=Math.atan2,vh=Math.cos,bh=Math.exp,Mh=Math.log,xh=Math.sin,wh=Math.sqrt,Ch=Math.tan,Sh={Feature:function(t,e){Ri(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ri(n[r].geometry,e)}},Eh={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){zi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)zi(n[r],e,0)},Polygon:function(t,e){Fi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Fi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ri(n[r],e)}},Th=function(t,e){t&&Sh.hasOwnProperty(t.type)?Sh[t.type](t,e):Ri(t,e)},Oh=(sh(),sh(),sh(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});Ui.invert=Ui;var Ah=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Ni,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Ph=function(t,e,n,r,i,o){var a,s=t[0],c=t[1],l=0,u=1,p=e[0]-s,d=e[1]-c;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<l)return;a<u&&(u=a)}else if(p>0){if(a>u)return;a>l&&(l=a)}if(a=i-s,p||!(a<0)){if(a/=p,p<0){if(a>u)return;a>l&&(l=a)}else if(p>0){if(a<l)return;a<u&&(u=a)}if(a=r-c,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>l&&(l=a)}if(a=o-c,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<u&&(u=a)}return l>0&&(t[0]=s+l*p,t[1]=c+l*d),u<1&&(e[0]=s+u*p,e[1]=c+u*d),!0}}}}},Lh=function(t,e){return gh(t[0]-e[0])<lh&&gh(t[1]-e[1])<lh},kh=function(t,e,n,r,i){var o,a,s=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Lh(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new Zi(r,t,null,!0)),c.push(n.o=new Zi(r,null,n,!1)),s.push(n=new Zi(a,t,null,!1)),c.push(n.o=new Zi(a,null,n,!0))}})),s.length){for(c.sort(e),Qi(s),Qi(c),o=0,a=c.length;o<a;++o)c[o].e=n=!n;for(var l,u,p=s[0];;){for(var d=p,h=!0;d.v;)if((d=d.n)===p)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(o=0,a=l.length;o<a;++o)i.point((u=l[o])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(o=(l=d.p.z).length-1;o>=0;--o)i.point((u=l[o])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}},Ih=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Dh=(function(t){1===t.length&&(t=function(t){return function(e,n){return Ih(t(e),n)}}(t))}(Ih),function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}),Nh=1e9,Rh=-Nh,zh=sh(),Fh=(sh(),function(t){return t}),jh=(sh(),sh(),1/0),Bh=jh,qh=-jh,Vh=qh,Yh={point:function(t,e){t<jh&&(jh=t),t>qh&&(qh=t),e<Bh&&(Bh=e),e>Vh&&(Vh=e)},lineStart:Ni,lineEnd:Ni,polygonStart:Ni,polygonEnd:Ni,result:function(){var t=[[jh,Bh],[qh,Vh]];return qh=Vh=-(Bh=jh=1/0),t}},Hh=(sh(),function(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);g.point(n[0],n[1])}function c(){M.point=s,g.lineStart()}function l(){M.point=a,g.lineEnd()}function u(t,e){m.push([t,e]);var n=i(t,e);v.point(n[0],n[1])}function p(){v.lineStart(),m=[]}function d(){u(m[0][0],m[0][1]),v.lineEnd();var t,e,n,r,i=v.clean(),a=_.result(),s=a.length;if(m.pop(),h.push(m),m=null,s)if(1&i){if((e=(n=a[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),f.push(a.filter(eo))}var h,f,m,g=e(o),y=i.invert(r[0],r[1]),_=Ah(),v=e(_),b=!1,M={point:a,lineStart:c,lineEnd:l,polygonStart:function(){M.point=u,M.lineStart=p,M.lineEnd=d,f=[],h=[]},polygonEnd:function(){M.point=a,M.lineStart=c,M.lineEnd=l,f=Dh(f);var t=function(t,e){var n=e[0],r=e[1],i=[xh(n),-vh(n),0],o=0,a=0;zh.reset();for(var s=0,c=t.length;s<c;++s)if(u=(l=t[s]).length)for(var l,u,p=l[u-1],d=p[0],h=p[1]/2+dh,f=xh(h),m=vh(h),g=0;g<u;++g,d=_,f=b,m=M,p=y){var y=l[g],_=y[0],v=y[1]/2+dh,b=xh(v),M=vh(v),x=_-d,w=x>=0?1:-1,C=w*x,S=C>uh,E=f*b;if(zh.add(_h(E*w*xh(C),m*M+E*vh(C))),o+=S?x+w*hh:x,S^d>=n^_>=n){var T=Vi(Bi(p),Bi(y));Wi(T);var O=Vi(i,T);Wi(O);var A=(S^x>=0?-1:1)*Di(O[2]);(r>A||r===A&&(T[0]||T[1]))&&(a+=S^x>=0?1:-1)}}return(o<-lh||o<lh&&zh<-lh)^1&a}(h,y);f.length?(b||(o.polygonStart(),b=!0),kh(f,no,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),f=h=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return M}}),Wh=Hh((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?uh:-uh,c=gh(o-n);gh(c-uh)<lh?(t.point(n,r=(r+a)/2>0?ph:-ph),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&c>=uh&&(gh(n-i)<lh&&(n-=i*lh),gh(o-s)<lh&&(o-=s*lh),r=function(t,e,n,r){var i,o,a=xh(t-n);return gh(a)>lh?yh((xh(e)*(o=vh(r))*xh(n)-xh(r)*(i=vh(e))*xh(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)r.point(-uh,i=n*ph),r.point(0,i),r.point(uh,i),r.point(uh,0),r.point(uh,-i),r.point(0,-i),r.point(-uh,-i),r.point(-uh,0),r.point(-uh,i);else if(gh(t[0]-e[0])>lh){var o=t[0]<e[0]?uh:-uh;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-uh,-ph]),Uh=function(t,e){function n(t,e){return vh(t)*vh(e)>o}function r(t,e,n){var r=[1,0,0],i=Vi(Bi(t),Bi(e)),a=qi(i,i),s=i[0],c=a-s*s;if(!c)return!n&&t;var l=o*a/c,u=-o*s/c,p=Vi(r,i),d=Hi(r,l);Yi(d,Hi(i,u));var h=p,f=qi(d,h),m=qi(h,h),g=f*f-m*(qi(d,d)-1);if(!(g<0)){var y=wh(g),_=Hi(h,(-f-y)/m);if(Yi(_,d),_=ji(_),!n)return _;var v,b=t[0],M=e[0],x=t[1],w=e[1];M<b&&(v=b,b=M,M=v);var C=M-b,S=gh(C-uh)<lh;if(!S&&w<x&&(v=x,x=w,w=v),S||C<lh?S?x+w>0^_[1]<(gh(_[0]-b)<lh?x:w):x<=_[1]&&_[1]<=w:C>uh^(b<=_[0]&&_[0]<=M)){var E=Hi(h,(-f+y)/m);return Yi(E,d),[_,ji(E)]}}}function i(e,n){var r=a?t:uh-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=vh(t),a=o>0,s=gh(o)>lh;return Hh(n,(function(t){var e,o,c,l,u;return{lineStart:function(){l=c=!1,u=1},point:function(p,d){var h,f=[p,d],m=n(p,d),g=a?m?0:i(p,d):m?i(p+(p<0?uh:-uh),d):0;if(!e&&(l=c=m)&&t.lineStart(),m!==c&&(!(h=r(e,f))||Lh(e,h)||Lh(f,h))&&(f[0]+=lh,f[1]+=lh,m=n(f[0],f[1])),m!==c)u=0,m?(t.lineStart(),h=r(f,e),t.point(h[0],h[1])):(h=r(e,f),t.point(h[0],h[1]),t.lineEnd()),e=h;else if(s&&e&&a^m){var y;g&o||!(y=r(f,e,!0))||(u=0,a?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&Lh(e,f)||t.point(f[0],f[1]),e=f,c=m,o=g},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return u|(l&&c)<<1}}}),(function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var a=vh(e),s=xh(e),c=r*n;null==i?(i=e+r*hh,o=e-c/2):(i=Ki(a,i),o=Ki(a,o),(r>0?i<o:i>o)&&(i+=r*hh));for(var l,u=i;r>0?u>o:u<o;u-=c)l=ji([a,-s*vh(u),-s*xh(u)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)}),a?[0,-t]:[-uh,t-uh])};io.prototype={constructor:io,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Xh=vh(30*mh),Gh=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,c,l,u,p,d,h,f,m,g){var y=l-r,_=u-i,v=y*y+_*_;if(v>4*e&&m--){var b=a+d,M=s+h,x=c+f,w=wh(b*b+M*M+x*x),C=Di(x/=w),S=gh(gh(x)-1)<lh||gh(o-p)<lh?(o+p)/2:_h(M,b),E=t(S,C),T=E[0],O=E[1],A=T-r,P=O-i,L=_*A-y*P;(L*L/v>e||gh((y*A+_*P)/v-.5)>.3||a*d+s*h+c*f<Xh)&&(n(r,i,o,a,s,c,T,O,S,b/=w,M/=w,x,m,g),g.point(T,O),n(T,O,S,b,M,x,l,u,p,d,h,f,m,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){y=NaN,x.point=o,e.lineStart()}function o(r,i){var o=Bi([r,i]),a=t(r,i);n(y,_,g,v,b,M,y=a[0],_=a[1],g=r,v=o[0],b=o[1],M=o[2],16,e),e.point(y,_)}function a(){x.point=r,e.lineEnd()}function s(){i(),x.point=c,x.lineEnd=l}function c(t,e){o(u=t,e),p=y,d=_,h=v,f=b,m=M,x.point=o}function l(){n(y,_,g,v,b,M,p,d,u,h,f,m,16,e),x.lineEnd=a,a()}var u,p,d,h,f,m,g,y,_,v,b,M,x={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),x.lineStart=s},polygonEnd:function(){e.polygonEnd(),x.lineStart=i}};return x}}(t,e):function(t){return ro({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},Jh=ro({point:function(t,e){this.stream.point(t*mh,e*mh)}});ao.invert=function(t,e){return[t,2*yh(bh(e))-ph]},so.invert=function(t,e){return[-e,2*yh(bh(t))-ph]};var $h=function(){var t=function(t){function e(){var e=uh*s(),a=o(function(t){function e(e){return(e=t(e[0]*mh,e[1]*mh))[0]*=fh,e[1]*=fh,e}return t=Xi(t[0]*mh,t[1]*mh,t.length>2?t[2]*mh:0),e.invert=function(e){return(e=t.invert(e[0]*mh,e[1]*mh))[0]*=fh,e[1]*=fh,e},e}(o.rotate()).invert([0,0]));return l(null==u?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===ao?[[Math.max(a[0]-e,u),n],[Math.min(a[0]+e,r),i]]:[[u,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=function(t){return function(t){function e(t){return[(t=l(t[0]*mh,t[1]*mh))[0]*m+a,s-t[1]*m]}function n(t,e){return[(t=o(t,e))[0]*m+a,s-t[1]*m]}function r(){l=Oh(c=Xi(b,M,x),o);var t=o(_,v);return a=g-t[0]*m,s=y+t[1]*m,i()}function i(){return h=f=null,e}var o,a,s,c,l,u,p,d,h,f,m=150,g=480,y=250,_=0,v=0,b=0,M=0,x=0,w=null,C=Wh,S=null,E=Fh,T=.5,O=Gh(n,T);return e.stream=function(t){return h&&f===t?h:h=Jh(C(c,O(E(f=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?Uh(w=t*mh,6*mh):(w=null,Wh),i()):w*fh},e.clipExtent=function(t){return arguments.length?(E=null==t?(S=u=p=d=null,Fh):to(S=+t[0][0],u=+t[0][1],p=+t[1][0],d=+t[1][1]),i()):null==S?null:[[S,u],[p,d]]},e.scale=function(t){return arguments.length?(m=+t,r()):m},e.translate=function(t){return arguments.length?(g=+t[0],y=+t[1],r()):[g,y]},e.center=function(t){return arguments.length?(_=t[0]%360*mh,v=t[1]%360*mh,r()):[_*fh,v*fh]},e.rotate=function(t){return arguments.length?(b=t[0]%360*mh,M=t[1]%360*mh,x=t.length>2?t[2]%360*mh:0,r()):[b*fh,M*fh,x*fh]},e.precision=function(t){return arguments.length?(O=Gh(n,T=t*t),i()):wh(T)},e.fitExtent=function(t,n){return oo(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return oo(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=l.invert((t[0]-a)/m,(s-t[1])/m))&&[t[0]*fh,t[1]*fh]},r()}}((function(){return t}))()}(t),a=o.center,s=o.scale,c=o.translate,l=o.clipExtent,u=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(c(t),e()):c()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?u=n=r=i=null:(u=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==u?null:[[u,n],[r,i]]},e()}(so),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=oa,t.random=Bs,t.clusters=qs,t.helpers=So,t.invariant=To,t.meta=Eo,t.isolines=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(G(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!C(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;G(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return L(t,(function(t){var e=H(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return H(t)[0]-H(e)[0]}))})).sort((function(t,n){return e?H(t[0])[1]-H(n[0])[1]:H(n[0])[1]-H(t[0])[1]}))}(t,r),a=[],s=0;s<o.length;s++){for(var c=o[s],l=[],u=0;u<c.length;u++){var p=c[u];l.push(p.properties[n]?p.properties[n]:0),!0===i&&(p.properties.matrixPosition=[s,u])}a.push(l)}return a}(t,{zProperty:r,flip:!0});return l(function(t,e,n){var r=V(n),i=r[0],o=r[1],a=(r[2]-r[0])/(e[0].length-1),s=(r[3]-r[1])/(e.length-1),c=function(t){t[0]=t[0]*a+i,t[1]=t[1]*s+o};return t.forEach((function(t){T(t,c)})),t}(function(t,e,n,r,i){for(var o=[],a=1;a<e.length;a++){var s=+e[a],c=Object.assign({},r,i[a]);c[n]=s;var l=u(Z(t,s),c);o.push(l)}return o}(a,e,r,i,o),a,t))},t.convex=Tt,t.pointsWithinPolygon=Pt,t.concave=function(t,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!w(r))throw new Error("maxEdge is invalid");var i=Lt(function(t){var e=[],n={};return L(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}})),l(e)}(t));if(i.features=i.features.filter((function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],a=Nt(e,i,n),s=Nt(i,o,n),c=Nt(e,o,n);return a<=r&&s<=r&&c<=r})),i.features.length<1)return null;var o=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==K(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var r=function(t){var e={};R(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==K(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var r=[],i=q(t,(function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Xt(r[0]),a=Xt(r[r.length-1]),c=Xt(i[0]),l=Xt(i[i.length-1]);if(o===l)n=i.concat(r.slice(1));else if(c===a)n=r.concat(i.slice(1));else if(o===c)n=r.slice(1).reverse().concat(i);else{if(a!==l)return null;n=r.concat(i.reverse().slice(1))}return s(n)}(t,e)||(r.push(t),e)}));return i&&r.push(i),r.length?1===r.length?r[0]:u(r.map((function(t){return t.coordinates}))):null}(t,e);case"Polygon":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==K(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var r=[];R(t,(function(t){r.push(t.geometry)}));var i=function(t,e){function n(t){t&&u.hasOwnProperty(t.type)&&u[t.type](t)}function r(t){var e=[];do{var n=l.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>s&&(s=e),n<a&&(a=n),n>c&&(c=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,a=1/0,s=-1/0,c=-1/0,l={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var u in t)e(t[u]);return s>=o&&c>=a?[o,a,s,c]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Vt(t[e]);return n}(t)),a=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-l)*h),Math.round((t[1]-u)*f)]}function i(t,e){for(var n,r,i,o,a,s=-1,c=0,p=t.length,d=new Array(p);++s<p;)n=t[s],o=Math.round((n[0]-l)*h),a=Math.round((n[1]-u)*f),o===r&&a===i||(d[c++]=[r=o,i=a]);for(d.length=c;c<e;)c=d.push([d[0][0],d[0][1]]);return d}function o(t){return i(t,2)}function a(t){return i(t,4)}function s(t){return t.map(a)}function c(t){null!=t&&m.hasOwnProperty(t.type)&&m[t.type](t)}var l=e[0],u=e[1],p=e[2],d=e[3],h=p-l?(n-1)/(p-l):1,f=d-u?(n-1)/(d-u):1,m={GeometryCollection:function(t){t.geometries.forEach(c)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var g in t)c(t[g]);return{scale:[1/h,1/f],translate:[l,u]}}(t,o,e),s=function(t){function e(t){var e,n,r,i,o,a,s,c;if(r=h.get(e=l[t[0]]))for(s=0,c=r.length;s<c;++s)if(function(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!Ko(l[n],l[r]))return!1;return!0}(i=r[s],t))return t[0]=i[0],void(t[1]=i[1]);if(o=h.get(n=l[t[1]]))for(s=0,c=o.length;s<c;++s)if(function(t,e){var n=t[0],r=t[1],i=e[1];if(n-r!=e[0]-i)return!1;for(;n<=r;++n,--i)if(!Ko(l[n],l[i]))return!1;return!0}(a=o[s],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):h.set(e,[t]),o?o.push(t):h.set(n,[t]),f.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var a=i(t),s=i(e),c=0;c<o;++c)if(!Ko(l[n+(c+a)%o],l[r+(c+s)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[1],o=t[1]-n;if(o!==r-e[0])return!1;for(var a=i(t),s=o-i(e),c=0;c<o;++c)if(!Ko(l[n+(c+a)%o],l[r-(c+s)%o]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=l[r];++r<n;){var a=l[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-e}var o,a,s,c,l=t.coordinates,u=t.lines,p=t.rings,d=u.length+p.length;for(delete t.lines,delete t.rings,s=0,c=u.length;s<c;++s)for(o=u[s];o=o.next;)++d;for(s=0,c=p.length;s<c;++s)for(a=p[s];a=a.next;)++d;var h=$o(2*d*1.4,ea,Ko),f=t.arcs=[];for(s=0,c=u.length;s<c;++s){o=u[s];do{e(o)}while(o=o.next)}for(s=0,c=p.length;s<c;++s)if((a=p[s]).next)do{e(a)}while(a=a.next);else!function(t){var e,o,a,s,c;if(o=h.get(l[t[0]]))for(s=0,c=o.length;s<c;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}if(o=h.get(e=l[t[0]+i(t)]))for(s=0,c=o.length;s<c;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}o?o.push(t):h.set(e,[t]),f.push(t)}(a);return t}(function(t){var e,n,r,i=function(t){function e(t,e,n,r){if(d[n]!==t){d[n]=t;var i=h[n];if(i>=0){var o=f[n];i===e&&o===r||i===r&&o===e||(++g,m[n]=1)}else h[n]=e,f[n]=r}}function n(t){return ea(c[t])}function r(t,e){return Ko(c[t],c[e])}var i,o,a,s,c=t.coordinates,l=t.lines,u=t.rings,p=function(){for(var t=$o(1.4*c.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(c.length),i=0,o=c.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),d=new Int32Array(c.length),h=new Int32Array(c.length),f=new Int32Array(c.length),m=new Int8Array(c.length),g=0;for(i=0,o=c.length;i<o;++i)d[i]=h[i]=f[i]=-1;for(i=0,o=l.length;i<o;++i){var y=l[i],_=y[0],v=y[1];for(a=p[_],s=p[++_],++g,m[a]=1;++_<=v;)e(i,a,a=s,s=p[_]);++g,m[s]=1}for(i=0,o=c.length;i<o;++i)d[i]=-1;for(i=0,o=u.length;i<o;++i){var b=u[i],M=b[0]+1,x=b[1];for(e(i,p[x-1],a=p[M-1],s=p[M]);++M<=x;)e(i,a,a=s,s=p[M])}d=h=f=null;var w,C=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=i;return{add:function(r){for(var s=e(r)&a,c=o[s],l=0;c!=i;){if(n(c,r))return!0;if(++l>=t)throw new Error("full hashset");c=o[s=s+1&a]}return o[s]=r,!0},has:function(r){for(var s=e(r)&a,c=o[s],l=0;c!=i;){if(n(c,r))return!0;if(++l>=t)break;c=o[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*g,ea,Ko);for(i=0,o=c.length;i<o;++i)m[w=p[i]]&&C.add(c[w]);return C}(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,r=a.length;n<r;++n)for(var c=a[n],l=c[0],u=c[1];++l<u;)i.has(o[l])&&(e={0:l,1:c[1]},c[1]=l,c=c.next=e);for(n=0,r=s.length;n<r;++n)for(var p=s[n],d=p[0],h=d,f=p[1],m=i.has(o[d]);++h<f;)i.has(o[h])&&(m?(e={0:h,1:p[1]},p[1]=h,p=p.next=e):(function(t,e,n,r){qt(t,e,n),qt(t,e,e+r),qt(t,e+r,n)}(o,d,f,f-h),o[f]=o[d],m=!0,h=d));return t}(function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)c[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)c[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function i(t){return t.map(r)}var o=-1,a=[],s=[],c=[],l={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var u in t)e(t[u]);return{type:"Topology",coordinates:c,lines:a,rings:s,objects:t}}(t))),c=s.coordinates,l=$o(1.4*s.arcs.length,Wt,Ut);t=s.objects,s.bbox=o,s.arcs=s.arcs.map((function(t,e){return l.set(t,e),c.slice(t[0],t[1]+1)})),delete s.coordinates,c=null;var u={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var p in t)n(t[p]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],a=0,s=1,c=o.length,l=o[0],u=l[0],p=l[1];++a<c;)r=(l=o[a])[0],i=l[1],r===u&&i===p||(o[s++]=[r-u,i-p],u=r,p=i);1===s&&(o[s++]=[0,0]),o.length=s}return t}(s.arcs)),s}({geoms:h(r).geometry});return function(t){return jt(t,Bt.apply(this,arguments))}(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,r){var i=Lo(6),o=e.features.map((function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}}));return i.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=V(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach((function(e){Ot([e.minX,e.minY],t)&&n.push(e.property)})),t.properties[r]=n})),t},t.flip=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Rt(t)),T(t,(function(t){var e=t[0];t[0]=t[1],t[1]=e})),t},t.simplify=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=Rt(t)),D(t,(function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;Gt(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=Qt(i,e,n);break;case"MultiLineString":t.coordinates=i.map((function(t){return Qt(t,e,n)}));break;case"Polygon":t.coordinates=te(i,e,n);break;case"MultiPolygon":t.coordinates=i.map((function(t){return te(t,e,n)}))}}(t,n,r)})),t},t.bezierSpline=ee,t.tag=function(t,e,n,r){return t=Rt(t),e=Rt(e),L(t,(function(t){t.properties||(t.properties={}),L(e,(function(e){void 0===t.properties[r]&&Ot(t,e)&&(t.properties[r]=e.properties[n])}))})),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return l(function(t,e){for(var n,r,i=t.slice(0),o=t.length,a=o-e;o-- >a;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(a)}(t.features,e))},t.envelope=re,t.square=ie,t.circle=ae,t.midpoint=function(t,e){return oe(t,Nt(t,e)/2,se(t,e))},t.center=ce,t.centerOfMass=function t(e,n){switch(K(e)){case"Point":return e;case"Polygon":var i=[];T(e,(function(t){i.push(t)}));var o,a,s,c,l,u,p,d,h=le(e,n),f=h.geometry.coordinates,m=0,g=0,y=0,_=i.map((function(t){return[t[0]-f[0],t[1]-f[1]]}));for(o=0;o<i.length-1;o++)c=(a=_[o])[0],l=(s=_[o+1])[0],y+=d=c*(p=s[1])-l*(u=a[1]),m+=(c+l)*d,g+=(u+p)*d;if(0===y)return h;var v=1/(.5*y*6);return r([f[0]+v*m,f[1]+v*g],n);default:var b=Tt(e);return b?t(b,n):le(e,n)}},t.centroid=le,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});return L(t,(function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))})),l(Object.keys(r).filter((function(t){return r[t].coordinates.length})).sort().map((function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})})))},t.distance=Nt,t.explode=ue,t.bbox=V,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Ee(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(Ee(t))})),e},t.bboxPolygon=ne,t.booleanPointInPolygon=Ot,t.nearestPoint=Te,t.nearestPointOnLine=Ge,t.nearestPointToLine=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return D(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==K(e))throw new Error("line must be a LineString");var o=1/0,a=null;return L(t,(function(t){var n=rn(t,e,{units:r});n<o&&(o=n,a=t)})),a&&(a.properties=Object.assign({dist:o},a.properties,i)),a},t.planepoint=function(t,e){var n=Y(t),r=J(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,a=i.b,s=i.c,c=n[0],l=n[1],u=r[0][0],p=r[0][1],d=void 0!==o?o:r[0][2],h=r[1][0],f=r[1][1],m=void 0!==a?a:r[1][2],g=r[2][0],y=r[2][1],_=void 0!==s?s:r[2][2];return(_*(c-u)*(l-f)+d*(c-h)*(l-y)+m*(c-g)*(l-p)-m*(c-u)*(l-y)-_*(c-h)*(l-p)-d*(c-g)*(l-f))/((c-u)*(l-f)+(c-h)*(l-y)+(c-g)*(l-p)-(c-u)*(l-y)-(c-h)*(l-p)-(c-g)*(l-f))},t.tin=Lt,t.bearing=se,t.destination=oe,t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=function(t,e,n,r,i,o,a,s){var c,l,u,p,d={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(c=(s-o)*(n-t)-(a-i)*(r-e))?null!==d.x&&null!==d.y&&d:(p=(a-i)*(l=e-o)-(s-o)*(u=t-i),u=((n-t)*l-(r-e)*u)/c,d.x=t+(l=p/c)*(n-t),d.y=e+l*(r-e),l>=0&&l<=1&&(d.onLine1=!0),u>=0&&u<=1&&(d.onLine2=!0),!(!d.onLine1||!d.onLine2)&&[d.x,d.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);a&&i.features.push(r([a[0],a[1]]))}}))})),i},t.pointOnFeature=an,t.area=cn,t.along=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!w(e))throw new Error("distance must be a number");for(var o=0,a=0;a<i.length&&!(e>=o&&a===i.length-1);a++){if(o>=e){var s=e-o;if(s){var c=se(i[a],i[a-1])-180;return oe(i[a],s,c,n)}return r(i[a])}o+=Nt(i[a],i[a+1],n)}return r(i[i.length-1])},t.length=dn,t.lineSlice=function(t,e,n){var r=H(n);if("LineString"!==K(n))throw new Error("line must be a LineString");for(var i,o=Ge(n,t),a=Ge(n,e),c=[(i=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],l=i[0].properties.index+1;l<i[1].properties.index+1;l++)c.push(r[l]);return c.push(i[1].geometry.coordinates),s(c,n.properties)},t.lineSliceAlong=hn,t.pointGrid=_n,t.truncate=vn,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,(function(t){e.push(t)})),l(e)},t.lineIntersect=Ue,t.lineChunk=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return R(t,(function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=dn(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)r(hn(t,e*a,e*(a+1),{units:n}))}(t,e,r,(function(t){o.push(t)}))})),l(o)},t.unkinkPolygon=function(t){var e=[];return R(t,(function(t){"Polygon"===t.geometry.type&&L(function(t){function e(){for(var t=[],e=0;e<f.features.length;e++)-1==f.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<f.features.length;r++)t[e]!=r&&Ot(f.features[t[e]].geometry.coordinates[0][0],f.features[r],{ignoreBoundary:!0})&&cn(f.features[r])<1/0&&(n=r);f.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<f.features.length;t++)if(-1==f.features[t].properties.parent){var e=f.features[t].properties.winding;f.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<f.features.length;n++)if(f.features[n].properties.parent==t){var i=e+f.features[n].properties.winding;f.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=t.geometry.coordinates.length,a=[],s=0;s<i;s++){var c=t.geometry.coordinates[s];xn(c[0],c[c.length-1])||c.push(c[0]),a.push.apply(a,c.slice(0,c.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(a))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var u=a.length,p=function(t,e,n){function r(t,n,r,i){var c,l,u=o[t][n],p=o[t][n+1],d=o[r][i],h=o[r][i+1],f=function(t,e,n,r){if(bn(t,n)||bn(t,r)||bn(e,n)||bn(r,n))return null;var i=t[0],o=t[1],a=e[0],s=e[1],c=n[0],l=n[1],u=r[0],p=r[1],d=(i-a)*(l-p)-(o-s)*(c-u);return 0===d?null:[((i*s-o*a)*(c-u)-(i-a)*(c*p-l*u))/d,((i*s-o*a)*(l-p)-(o-s)*(c*p-l*u))/d]}(u,p,d,h);if(null!==f&&(l=h[0]!==d[0]?(f[0]-d[0])/(h[0]-d[0]):(f[1]-d[1])/(h[1]-d[1]),!((c=p[0]!==u[0]?(f[0]-u[0])/(p[0]-u[0]):(f[1]-u[1])/(p[1]-u[1]))>=1||c<=0||l>=1||l<=0))){var m=!s[f];m&&(s[f]=!0),a.push(e?e(f,t,n,u,p,c,r,i,d,h,l,m):f)}}function i(t,e){var n,r,i,a,s=o[t][e],c=o[t][e+1];return s[0]<c[0]?(n=s[0],r=c[0]):(n=c[0],r=s[0]),s[1]<c[1]?(i=s[1],a=c[1]):(i=c[1],a=s[1]),{minX:n,minY:i,maxX:r,maxY:a,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,a=[],s={};if(n){for(var c=[],l=0;l<o.length;l++)for(var u=0;u<o[l].length-1;u++)c.push(i(l,u));var p=Lo();p.load(c)}for(var d=0;d<o.length;d++)for(var h=0;h<o[d].length-1;h++)if(n)p.search(i(d,h)).forEach((function(t){r(d,h,t.ring,t.edge)}));else for(var f=0;f<o.length;f++)for(var m=0;m<o[f].length-1;m++)r(d,h,f,m);return e||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a}(t,(function(t,e,n,r,i,o,a,s,c,l,u,p){return[t,e,n,r,i,o,a,s,c,l,u,p]})),d=p.length;if(0==d){var h=[];for(s=0;s<i;s++)h.push(o([t.geometry.coordinates[s]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(Mn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[s])}));var f=l(h);return e(),n(),f}var m=[],g=[];for(s=0;s<i;s++){m.push([]);for(var y=0;y<t.geometry.coordinates[s].length-1;y++)m[s].push([new sa(t.geometry.coordinates[s][(y+1).modulo(t.geometry.coordinates[s].length-1)],1,[s,y],[s,(y+1).modulo(t.geometry.coordinates[s].length-1)],void 0)]),g.push(new ca(t.geometry.coordinates[s][y],[s,(y-1).modulo(t.geometry.coordinates[s].length-1)],[s,y],void 0,void 0,!1,!0))}for(s=0;s<d;s++)m[p[s][1]][p[s][2]].push(new sa(p[s][0],p[s][5],[p[s][1],p[s][2]],[p[s][6],p[s][7]],void 0)),p[s][11]&&g.push(new ca(p[s][0],[p[s][1],p[s][2]],[p[s][6],p[s][7]],void 0,void 0,!0,!0));var _=g.length;for(s=0;s<m.length;s++)for(y=0;y<m[s].length;y++)m[s][y].sort((function(t,e){return t.param<e.param?-1:1}));var v=[];for(s=0;s<_;s++)v.push({minX:g[s].coord[0],minY:g[s].coord[1],maxX:g[s].coord[0],maxY:g[s].coord[1],index:s});var b=Lo();for(b.load(v),s=0;s<m.length;s++)for(y=0;y<m[s].length;y++)for(var M=0;M<m[s][y].length;M++){w=M==m[s][y].length-1?m[s][(y+1).modulo(t.geometry.coordinates[s].length-1)][0].coord:m[s][y][M+1].coord;var x=b.search({minX:w[0],minY:w[1],maxX:w[0],maxY:w[1]})[0];m[s][y][M].nxtIsectAlongEdgeIn=x.index}for(s=0;s<m.length;s++)for(y=0;y<m[s].length;y++)for(M=0;M<m[s][y].length;M++){var w=m[s][y][M].coord,C=(x=b.search({minX:w[0],minY:w[1],maxX:w[0],maxY:w[1]})[0]).index;C<u?g[C].nxtIsectAlongRingAndEdge2=m[s][y][M].nxtIsectAlongEdgeIn:xn(g[C].ringAndEdge1,m[s][y][M].ringAndEdgeIn)?g[C].nxtIsectAlongRingAndEdge1=m[s][y][M].nxtIsectAlongEdgeIn:g[C].nxtIsectAlongRingAndEdge2=m[s][y][M].nxtIsectAlongEdgeIn}var S=[];for(s=0,y=0;y<i;y++){var E=s;for(M=0;M<t.geometry.coordinates[y].length-1;M++)g[s].coord[0]<g[E].coord[0]&&(E=s),s++;var T=g[E].nxtIsectAlongRingAndEdge2;for(M=0;M<g.length;M++)if(g[M].nxtIsectAlongRingAndEdge1==E||g[M].nxtIsectAlongRingAndEdge2==E){var O=M;break}var A=Mn([g[O].coord,g[E].coord,g[T].coord],!0)?1:-1;S.push({isect:E,parent:-1,winding:A})}for(S.sort((function(t,e){return g[t.isect].coord>g[e.isect].coord?-1:1})),h=[];S.length>0;){var P=S.pop(),L=P.isect,k=P.parent,I=P.winding,D=h.length,N=[g[L].coord],R=L;if(g[L].ringAndEdge1Walkable)var z=g[L].ringAndEdge1,F=g[L].nxtIsectAlongRingAndEdge1;else z=g[L].ringAndEdge2,F=g[L].nxtIsectAlongRingAndEdge2;for(;!xn(g[L].coord,g[F].coord);){N.push(g[F].coord);var j=void 0;for(s=0;s<S.length;s++)if(S[s].isect==F){j=s;break}if(null!=j&&S.splice(j,1),xn(z,g[F].ringAndEdge1)){if(z=g[F].ringAndEdge2,g[F].ringAndEdge2Walkable=!1,g[F].ringAndEdge1Walkable){var B={isect:F};Mn([g[R].coord,g[F].coord,g[g[F].nxtIsectAlongRingAndEdge2].coord],1==I)?(B.parent=k,B.winding=-I):(B.parent=D,B.winding=I),S.push(B)}R=F,F=g[F].nxtIsectAlongRingAndEdge2}else z=g[F].ringAndEdge1,g[F].ringAndEdge1Walkable=!1,g[F].ringAndEdge2Walkable&&(B={isect:F},Mn([g[R].coord,g[F].coord,g[g[F].nxtIsectAlongRingAndEdge1].coord],1==I)?(B.parent=k,B.winding=-I):(B.parent=D,B.winding=I),S.push(B)),R=F,F=g[F].nxtIsectAlongRingAndEdge1}N.push(g[F].coord),h.push(o([N],{index:D,parent:k,winding:I,netWinding:void 0}))}return f=l(h),e(),n(),f}(t),(function(n){e.push(o(n.geometry.coordinates,t.properties))}))})),l(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=Y(t),e=Y(e),i=i||100,o=o||10,new fa({x:t[0],y:t[1]},{x:e[0],y:e[1]},r=r||{}).Arc(i,{offset:o}).json()},t.lineSegment=We,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=K(t),r=K(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=vn(e,{precision:7});switch(r){case"Point":return Cn(t,i);case"MultiPoint":return wn(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return wn(t,Ue(t,i))}},t.lineArc=Tn,t.polygonToLine=An,t.lineToPolygon=Ln,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=H(t),i=t.properties;switch(n){case"LineString":case"MultiLineString":var a=[];return"LineString"===n&&(r=[r]),r.forEach((function(t){ma(t,e,a)})),1===a.length?s(a[0],i):u(a,i);case"Polygon":return o(zn(r,e),i);case"MultiPolygon":return d(r.map((function(t){return zn(t,e)})),i);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=Vn,t.sector=function(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(Hn(n)===Hn(r))return ae(t,e,i);var a=H(t),s=[[a]];return T(Tn(t,e,n,r,i),(function(t){s[0].push(t)})),s[0].push(a),o(s)},t.rhumbBearing=Je,t.rhumbDistance=Ke,t.rhumbDestination=Wn,t.polygonTangents=function(t,e){var n,i,o,a=H(t),s=H(e);switch(K(e)){case"Polygon":n=s[0][0],i=s[0][0],o=Xn(s[0][0],s[0][s[0].length-1],a);var c=Un(s[0],a,o,void 0,n,i);n=c[0],i=c[1];break;case"MultiPolygon":n=s[0][0][0],i=s[0][0][0],o=Xn(s[0][0][0],s[0][0][s[0][0].length-1],a),s.forEach((function(t){var e=Un(t[0],a,o,void 0,n,i);n=e[0],i=e[1]}))}return l([r(n),r(i)])},t.rewind=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=Rt(t));var i=[];switch(t.type){case"GeometryCollection":return D(t,(function(t){Jn(t,n)})),t;case"FeatureCollection":return L(t,(function(t){L(Jn(t,n),(function(t){i.push(t)}))})),l(i)}return Jn(t,n)},t.isobands=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},a=n.breaksProperties||[];if(G(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!C(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(a))throw new Error("breaksProperties is not an Array");var s=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;G(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return L(t,(function(t){var e=H(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return H(t)[0]-H(e)[0]}))})).sort((function(t,n){return e?H(t[0])[1]-H(n[0])[1]:H(n[0])[1]-H(t[0])[1]}))}(t,r),a=[],s=0;s<o.length;s++){for(var c=o[s],l=[],u=0;u<c.length;u++){var p=c[u];l.push(p.properties[n]?p.properties[n]:0),!0===i&&(p.properties.matrixPosition=[s,u])}a.push(l)}return a}(t,{zProperty:r,flip:!0}),c=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var a=+e[i-1],s=+e[i],c=function(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var a=o([e[r].lrCoordinates]),s=r+1;s<e.length;s++)e[s].grouped||function(t,e){for(var n=ue(t),r=0;r<n.features.length;r++)if(!Ot(n.features[r],e))return!1;return!0}(o([e[s].lrCoordinates]),a)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0);n.push(i)}return n}(function(t){var e=[],n=[];t.forEach((function(t){var r=cn(o([t]));n.push(r),e.push({ring:t,area:r})})),n.sort((function(t,e){return e-t}));var r=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}})),r}(Zn(t,a,s-a))),l={};l.groupedRings=c,l[n]=a+"-"+s,r.push(l)}return r}(s,e,r);return l((c=function(t,e,n){var r=V(n),i=r[0],o=r[1],a=(r[2]-r[0])/(e[0].length-1),s=(r[3]-r[1])/(e.length-1),c=function(t){t[0]=t[0]*a+i,t[1]=t[1]*s+o};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(c)}))}))})),t}(c,s,t)).map((function(t,e){if(a[e]&&!C(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,a[e]);return n[r]=t[r],d(t.groupedRings,n)})))},t.transformRotate=er,t.transformScale=nr,t.transformTranslate=function(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,a=r.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==a&&void 0!==a||(t=Rt(t)),T(t,(function(t){var r=H(Wn(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)})),t},t.lineOffset=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var i=K(t),o=t.properties;switch(i){case"LineString":return ar(t,e,r);case"MultiLineString":var a=[];return R(t,(function(t){a.push(ar(t,e,r).geometry.coordinates)})),u(a,o);default:throw new Error("geometry "+i+" is not supported")}},t.polygonize=function(t){var e=fs.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){ds.findEdgeRingContaining(t,r)&&r.push(t)})),l(r.map((function(t){return t.toPolygon()})))},t.booleanDisjoint=function(t,e){var n;return R(t,(function(t){R(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!lr(e,t);case"Polygon":return!Ot(t,e)}break;case"LineString":switch(e.type){case"Point":return!lr(t,e);case"LineString":return!function(t,e){return Ue(t,e).features.length>0}(t,e);case"Polygon":return!ur(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Ot(e,t);case"LineString":return!ur(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Ot(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(Ot(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)}))})),n},t.booleanContains=function(t,e){var n=K(t),r=K(e),i=J(t),o=J(e),a=H(t),s=H(e);switch(n){case"Point":switch(r){case"Point":return dr(a,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(dr(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(dr(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return fn(o,i,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(fn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!fn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(fn(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!fn(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Ot(o,i,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!pr(V(t),V(e)))return!1;for(;r<e.coordinates.length-1;r++)if(Ot({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(i,o);case"Polygon":return function(t,e){if(!pr(V(t),V(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!Ot(e.coordinates[0][n],t))return!1;return!0}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Ot(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=K(t),r=K(e),i=J(t),o=J(e);switch(n){case"MultiPoint":switch(r){case"LineString":return hr(i,o);case"Polygon":return mr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return hr(o,i);case"LineString":return function(t,e){if(Ue(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),gr(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case"Polygon":return fr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return mr(o,i);case"LineString":return fr(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=Gn,t.booleanOverlap=br,t.booleanPointOnLine=fn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return K(t)===K(e)&&new vs({precision:6}).compare(Gt(t),Gt(e))},t.booleanWithin=mn,t.clone=Rt,t.cleanCoords=Gt,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if(G(t,"Point","Input must contain Points"),null==e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(null==r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=Rt(t),r=r||3;var o=new Cs.DBSCAN,a=-1;return o.run(I(t),M(e,i),r,Nt).forEach((function(e){a++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=a,n.properties.dbscan="core"}))})),o.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.dbscan=n.properties.cluster?"edge":"noise"})),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;G(t,"Point","Input must contain Points");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=Rt(t));var o=I(t),a=o.slice(0,n),s=function(t,e,n,r){var i=[],o=[],a=[],s=[],c=!1,l=1e4,u=t.length,p=t[0].length,d=p>0,h=[];if(n)i="kmrand"==n?function(t,e){for(var n={},r=[],i=e<<2,o=t.length,a=t[0].length>0;r.length<e&&i-- >0;){var s=t[Math.floor(Math.random()*o)],c=a?s.join("_"):""+s;n[c]||(n[c]=!0,r.push(s))}if(r.length<e)throw new Error("Error initializating clusters");return r}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?Es:Ts,r=[],i=t.length,o=t[0].length>0,a=t[Math.floor(Math.random()*i)];for(o&&a.join("_"),r.push(a);r.length<e;){for(var s=[],c=r.length,l=0,u=[],p=0;p<i;p++){for(var d=1/0,h=0;h<c;h++){var f=n(t[p],r[h]);f<=d&&(d=f)}s[p]=d}for(var m=0;m<i;m++)l+=s[m];for(var g=0;g<i;g++)u[g]={i:g,v:t[g],pr:s[g]/l,cs:0};u.sort((function(t,e){return t.pr-e.pr})),u[0].cs=u[0].pr;for(var y=1;y<i;y++)u[y].cs=u[y-1].cs+u[y].pr;for(var _=Math.random(),v=0;v<i-1&&u[v++].cs<_;);r.push(u[v-1].v)}return r}(t,e):n;else for(var f={};i.length<e;){var m=Math.floor(Math.random()*u);f[m]||(f[m]=!0,i.push(t[m]))}do{Mr(e,0,h);for(var g=0;g<u;g++){for(var y=1/0,_=0,v=0;v<e;v++)(s=d?Os(t[g],i[v]):Math.abs(t[g]-i[v]))<=y&&(y=s,_=v);a[g]=_,h[_]++}for(var b=[],M=(o=[],0);M<e;M++)b[M]=d?Mr(p,0,b[M]):0,o[M]=i[M];if(d){for(var x=0;x<e;x++)i[x]=[];for(var w=0;w<u;w++)for(var C=b[a[w]],S=t[w],E=0;E<p;E++)C[E]+=S[E];c=!0;for(var T=0;T<e;T++){for(var O=i[T],A=b[T],P=o[T],L=h[T],k=0;k<p;k++)O[k]=A[k]/L||0;if(c)for(var I=0;I<p;I++)if(P[I]!=O[I]){c=!1;break}}}else{for(var D=0;D<u;D++)b[a[D]]+=t[D];for(var N=0;N<e;N++)i[N]=b[N]/h[N]||0;c=!0;for(var R=0;R<e;R++)if(o[R]!=i[R]){c=!1;break}}c=c||--l<=0}while(!c);return{it:1e4-l,k:e,idxs:a,centroids:i}}(o,n,a),c={};return s.centroids.forEach((function(t,e){c[e]=t})),L(t,(function(t,e){var n=s.idxs[e];t.properties.cluster=n,t.properties.centroid=c[n]})),t},t.pointToLineDistance=rn,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==xr(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==xr(e,"line2"))throw new Error("line2 must be a LineString");for(var n=We(Gt(t)).features,r=We(Gt(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){return _(Je(t[0],t[1]))===_(Je(e[0],e[1]))}(o,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.resolution,a=i.minDistance,c=i.obstacles||l([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!w(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(a)throw new Error("options.minDistance is not yet implemented");var u=Y(t),p=Y(n);switch(t=r(u),n=r(p),K(c)){case"FeatureCollection":if(0===c.features.length)return s([u,p]);break;case"Polygon":c=l([e(J(c))]);break;default:throw new Error("invalid obstacles")}var d=c;d.features.push(t),d.features.push(n);var h=V(nr(ne(V(d)),1.15));o||(o=Nt([h[0],h[1]],[h[2],h[1]],i)/100),d.features.pop(),d.features.pop();for(var f=h[0],m=h[1],g=h[2],y=h[3],_=o/Nt([f,m],[g,m],i)*(g-f),v=o/Nt([f,m],[f,y],i)*(y-m),b=g-f,M=y-m,x=(b-Math.floor(b/_)*_)/2,S=[],E=[],T=[],O=[],A=1/0,P=1/0,L=y-(M-Math.floor(M/v)*v)/2,k=0;L>=m;){for(var I=[],D=[],N=f+x,R=0;N<=g;){var z=r([N,L]),F=function(t,e){for(var n=0;n<e.features.length;n++)if(Ot(t,e.features[n]))return!0;return!1}(z,c);I.push(F?0:1),D.push(N+"|"+L);var j=Nt(z,t);!F&&j<A&&(A=j,T={x:R,y:k});var B=Nt(z,n);!F&&B<P&&(P=B,O={x:R,y:k}),N+=_,R++}E.push(I),S.push(D),L-=v,k++}var q=new Cr(E,{diagonal:!0}),H=[u];return As.search(q,q.grid[T.y][T.x],q.grid[O.y][O.x]).forEach((function(t){var e=S[t.x][t.y].split("|");H.push([+e[0],+e[1]])})),H.push(p),Gt(s(H))},t.voronoi=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return G(t,"Point","points"),l(function(){function t(t){return new Kr(t.map((function(r,i){var o=[Math.round(e(r,i,t)/Fs)*Fs,Math.round(n(r,i,t)/Fs)*Fs];return o.index=i,o.data=r,o})),r)}var e=Tr,n=Or,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ps(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Ps(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t}().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(Zr))},t.ellipse=Qr,t.centerMean=ei,t.centerMedian=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!w(n))throw new Error("counter must be a number");var r=e.weight,i=ei(t,{weight:e.weight}),o=l([]);return L(t,(function(t){o.features.push(le(t,{weight:t.properties[r]}))})),o.properties={tolerance:e.tolerance,medianCandidates:[]},ni(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!w(n))throw new Error("steps must be a number");if(!C(i))throw new Error("properties must be a number");var o=I(t).length,a=ei(t,{weight:r}),s=0,c=0,u=0;L(t,(function(t){var e=t.properties[r]||1,n=ri(H(t),H(a));s+=Math.pow(n.x,2)*e,c+=Math.pow(n.y,2)*e,u+=n.x*n.y*e}));var p=s-c,d=Math.sqrt(Math.pow(p,2)+4*Math.pow(u,2)),h=Math.atan((p+d)/(2*u)),f=180*h/Math.PI,m=0,g=0,y=0;L(t,(function(t){var e=t.properties[r]||1,n=ri(H(t),H(a));m+=Math.pow(n.x*Math.cos(h)-n.y*Math.sin(h),2)*e,g+=Math.pow(n.x*Math.sin(h)+n.y*Math.cos(h),2)*e,y+=e}));var _=Math.sqrt(2*m/y),v=Math.sqrt(2*g/y),b=Qr(a,_,v,{units:"degrees",angle:f,steps:n,properties:i}),M=Pt(t,l([b])),x={meanCenterCoordinates:H(a),semiMajorAxis:_,semiMinorAxis:v,numberOfFeatures:o,angle:f,percentageWithinEllipse:100*I(M).length/o};return b.properties.standardDeviationalEllipse=x,b},t.difference=function(t,n){var r=J(t),i=J(n),o=t.properties||{};if(r=Li(r),i=Li(i),!r)return null;if(!i)return e(r,o);var a=new Jl,s=a.read(r),c=a.read(i),l=Kd.difference(s,c);return l.isEmpty()?null:e((new $l).write(l),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return D(t,(function(t){var n=co(t,e,r,i);n&&o.push(n)})),l(o);case"FeatureCollection":return L(t,(function(t){var n=co(t,e,r,i);n&&L(n,(function(t){t&&o.push(t)}))})),l(o)}return co(t,e,r,i)},t.union=ho,t.intersect=fo,t.dissolve=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;G(t,"Polygon","dissolve");var r=Rt(t),i=r.features,o=[];i.forEach((function(t,e){t.properties.origIndexPosition=e}));var a=Ve();for(var c in a.load(r),i){var l=i[c],u=!1;if(a.search(l).features.forEach((function(t){l=i[c];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=mo(e,o);0!==r&&(e-=r)}if(e!==+c){var p=i[e];p&&l&&(void 0!==n&&p.properties[n]!==l.properties[n]||br(l,p)&&function(t,e){return Ue(s(I(t)),s(I(e))).features.length>0}(l,p)&&(i[c]=ho(l,p),o.push(t.properties.origIndexPosition),o.sort((function(t,e){return t-e})),a.remove(t),i.splice(e,1),l.properties.origIndexPosition=c,a.remove(l,(function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition})),u=!0))}})),u){if(!l)continue;l.properties.origIndexPosition=c,a.insert(l),c--}}return i.forEach((function(t){delete t.properties.origIndexPosition,delete t.bbox})),r},t.hexGrid=go,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return R(t,(function(t){var r=t.geometry.coordinates,i=r[0],a=r.slice(1);e.push(o([i])),a.forEach((function(t){n.push(o([t]))}))})),[l(e),l(n)]}(t),i=r[0],a=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),R(e,(function(t){r.push(t.geometry.coordinates[0])})),R(n,(function(t){r.push(t.geometry.coordinates[0])})),o(r)}(n,i=yo(i),a=yo(a))},t.squareGrid=vo,t.triangleGrid=bo,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if(G(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var a,s=V(t);switch(r){case"point":case"points":a=_n(s,e,n);break;case"square":case"squares":a=vo(s,e,n);break;case"hex":case"hexes":a=go(s,e,n);break;case"triangle":case"triangles":a=bo(s,e,n);break;default:throw new Error("invalid gridType")}var c=[];return L(a,(function(e){var a=0,s=0;L(t,(function(t){var c,l=Nt("point"===r?e:le(e),t,n);if(void 0!==i&&(c=t.properties[i]),void 0===c&&(c=t.geometry.coordinates[2]),void 0===c)throw new Error("zValue is missing");0===l&&(a=c);var u=1/Math.pow(l,o);s+=u,a+=u*c}));var l=Rt(e);l.properties[i]=a/s,c.push(l)})),l(c)},t.pointOnSurface=an,t.polygonToLineString=An,t.lineStringToPolygon=Ln,t.inside=Ot,t.within=Pt,t.bezier=ee,t.nearest=Te,t.pointOnLine=Ge,t.lineDistance=dn,t.radians2degrees=v,t.degrees2radians=b,t.distanceToDegrees=y,t.distanceToRadians=g,t.radiansToDistance=m,t.bearingToAngle=_,t.convertDistance=M,t.toMercator=Ze,t.toWgs84=Qe,t.randomPosition=ii,t.randomPoint=oi,t.randomPolygon=ai,t.randomLineString=si,t.getCluster=li,t.clusterEach=ui,t.clusterReduce=pi,t.createBins=di,t.applyFilter=hi,t.propertiesContainsFilter=fi,t.filterProperties=mi,t.earthRadius=Mo,t.factors=xo,t.unitsFactors=wo,t.areaFactors=Co,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=a,t.lineString=s,t.lineStrings=c,t.featureCollection=l,t.multiLineString=u,t.multiPoint=p,t.multiPolygon=d,t.geometryCollection=h,t.round=f,t.radiansToLength=m,t.lengthToRadians=g,t.lengthToDegrees=y,t.bearingToAzimuth=_,t.radiansToDegrees=v,t.degreesToRadians=b,t.convertLength=M,t.convertArea=x,t.isNumber=w,t.isObject=C,t.validateBBox=S,t.validateId=E,t.getCoord=Y,t.getCoords=H,t.containsNumber=W,t.geojsonType=U,t.featureOf=X,t.collectionOf=G,t.getGeom=J,t.getGeomType=$,t.getType=K,t.coordEach=T,t.coordReduce=O,t.propEach=A,t.propReduce=P,t.featureEach=L,t.featureReduce=k,t.coordAll=I,t.geomEach=D,t.geomReduce=N,t.flattenEach=R,t.flattenReduce=z,t.segmentEach=F,t.segmentReduce=j,t.lineEach=B,t.lineReduce=q,Object.defineProperty(t,"__esModule",{value:!0})}(e)},WYrj:function(t,e,n){!function(t){"use strict";var e=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],n=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(t){return"\u0789\u078a"===t},meridiem:function(t,e,n){return t<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(n("wd/R"))},WxRl:function(t,e,n){!function(t){"use strict";var e="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function n(t,e,n,r){var i=t;switch(n){case"s":return r||e?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return i+(r||e)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(r||e?" perc":" perce");case"mm":return i+(r||e?" perc":" perce");case"h":return"egy"+(r||e?" \xf3ra":" \xf3r\xe1ja");case"hh":return i+(r||e?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(r||e?" nap":" napja");case"dd":return i+(r||e?" nap":" napja");case"M":return"egy"+(r||e?" h\xf3nap":" h\xf3napja");case"MM":return i+(r||e?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(r||e?" \xe9v":" \xe9ve");case"yy":return i+(r||e?" \xe9v":" \xe9ve")}return""}function r(t){return(t?"":"[m\xfalt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},X6C2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XMLCoordsService=void 0;const r=n("kU1M"),i=n("stop"),o=n("qCKp"),a=n("8Y7J"),s=n("IheW"),c=n("MhY6");class l{constructor(t,e){this.http=t,this.winRef=e,this.findCoordErrorSubject=new o.BehaviorSubject(!1),this.findCoordError$=this.findCoordErrorSubject.asObservable()}getXmlCoords(t,e){const n=[],a=`/web/XML_COORD_REQUEST?TfNSWCR=true&coordOutputFormat=EPSG:4326&language=en&inclFilter=1&radius_1=${this.winRef.isMobileView()?2e3:4e3}&outputFormat=rapidJSON&version=10.2.2.48`;e.forEach((t,e)=>{n.push(`&type_${e+1}=${t}`)});const s=a.concat(`${n.join("")}&coord=${t[0]}:${t[1]}:WGS84[dd.ddddd]`);return this.findCoordErrorSubject.next(!1),this.http.get(s).pipe(r.map(t=>t.locations),r.map(t=>t.map(t=>i.Location.fromXmlCoordResponse(t))),r.catchError(()=>(this.findCoordErrorSubject.next(!0),o.NEVER)))}}e.XMLCoordsService=l,l.\u0275fac=function(t){return new(t||l)(a.\u0275\u0275inject(s.HttpClient),a.\u0275\u0275inject(c.WindowRef))},l.\u0275prov=a.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})},X709:function(t,e,n){!function(t){"use strict";t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e||2===e?"a":"e")},week:{dow:1,doy:4}})}(n("wd/R"))},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("sVev"),i=n("7o/Q");function o(t=c){return e=>e.lift(new a(t))}class a{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new s(t,this.errorFactory))}}class s extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function c(){return new r.a}},XDpg:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u5468";default:return t}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(n("wd/R"))},"XEd+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TaxiTripSearchEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("kU1M"),a=n("kU1M"),s=n("RNDk"),c=n("EiLY"),l=n("8Y7J"),u=n("7bNT"),p=n("A9CO"),d=n("JvPz"),h=n("tqRt");e.TaxiTripSearchEffects=(()=>{class t{constructor(t,e,n,r){this.actions=t,this.tripService=e,this.windowRef=n,this.stateStore=r,this.searchTaxiTrip$=this.actions.pipe(i.ofType(c.TripActionTypes.TAXI_TRIP_SEARCH),o.tap(()=>{this.stateStore.dispatch(new c.TaxiTripLoadingAction)}),a.map(t=>({tripRequest:t.payload.tripRequest,travelMode:t.payload.travelMode})),o.switchMap(({tripRequest:t})=>this.tripService.Search(t).pipe(o.mergeMap(e=>[new c.TaxiSearchResponseAction({tripResponse:e,tripRequest:t}),new s.MapTripAction({trip:e.journeys[0]}),new s.MapTripLegAction({mapLeg:this.windowRef.isMobileView()&&e.journeys[0]?{leg:e.journeys[0].legs[0],index:0}:null})]),o.takeUntil(this.actions.pipe(i.ofType(c.TripActionTypes.CLEAR_TRIP))))))}}return t.\u0275fac=function(e){return new(e||t)(l.\u0275\u0275inject(u.Actions),l.\u0275\u0275inject(p.TripService),l.\u0275\u0275inject(d.WindowRef),l.\u0275\u0275inject(h.Store))},t.\u0275prov=l.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"searchTaxiTrip$",void 0),t})()},XLvN:function(t,e,n){!function(t){"use strict";t.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===e?t<4?t:t+12:"\u0c09\u0c26\u0c2f\u0c02"===e?t:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===e?t>=10?t:t+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":t<10?"\u0c09\u0c26\u0c2f\u0c02":t<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":t<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(n("wd/R"))},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),c=n("2QA8");class l extends i.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new p(this,this);return e.operator=t,e}next(t){if(this.closed)throw new a.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new a.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new a.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new p(t,e),t})();class p extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XSGw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNavigteLinkLabel=e.appViewReducer=e.initialState=e.appViewKey=void 0;const r=n("EiLY"),i=n("z/no"),o=n("iFc6");e.appViewKey="AppView",e.initialState={mobileMapView:!1,isOpalRetailer:!1,index:0,tripSpeedWalk:2,tripSpeedCycle:2,navigateLink:null,forceMobileMapView:!1},e.appViewReducer=function(t=e.initialState,n){switch(n.type){case r.TripActionTypes.SWITCH_TO_MAP_VIEW:return Object.assign({},Object.assign(Object.assign({},t),{mobileMapView:n.payload.mobileMapView,index:n.payload.index}));case r.TripActionTypes.CHANGE_TRIP_SPEED_WALK:return Object.assign({},Object.assign(Object.assign({},t),{tripSpeedWalk:n.payload.tripSpeedWalk}));case r.TripActionTypes.CHANGE_TRIP_SPEED_CYCLE:return Object.assign({},Object.assign(Object.assign({},t),{tripSpeedCycle:n.payload.tripSpeedCycle}));case r.TripActionTypes.OPAL_RETAILERS_VIEW:return Object.assign({},Object.assign(Object.assign({},t),{isOpalRetailer:n.payload.isOpalRetailer}));case i.AppActionTypes.NAVIGATE_LINK:return Object.assign({},Object.assign(Object.assign({},t),{navigateLink:{linkLabel:e.getNavigteLinkLabel(n.payload.route),route:n.payload.route},forceMobileMapView:n.payload.forceMobileMapView}));default:return t}},e.getNavigteLinkLabel=t=>t===o.TniConstant.ROUTE_PATHS.OPAL_RETAILERS?"Opal retailers":null},XhXp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapPointsService=void 0;const r=n("iFc6"),i=n("WVt+"),o=n("8Y7J"),a=n("X6C2"),s=n("B0Le");class c{constructor(t,e,n){this.xmlCoordService=t,this.mapTemplates=e,this.ngZone=n,this.markers=[]}updateMapPointsLayers(t,e,n){const i=t.getZoom();e.stops&&i>=r.TniConstant.MAPBOX_CONSTANTS.placesMinZoom?this._showStops(t):this._clearMapPoints(r.TniConstant.MAPBOX_CONSTANTS.places_stop_layer_id,t),e.opal&&i>=r.TniConstant.MAPBOX_CONSTANTS.placesMinZoom?this._showOpalRetailers(t):(null==n?void 0:n.includes(r.TniConstant.MAPBOX_CONSTANTS.mapbox_retailer_layer_id))||this._clearMapPoints(r.TniConstant.MAPBOX_CONSTANTS.mapbox_retailer_layer_id,t),e.poi&&i>=r.TniConstant.MAPBOX_CONSTANTS.placesMinZoom?this._showPOIs(t):this._clearMapPoints(r.TniConstant.MAPBOX_CONSTANTS.places_poi_layer_id,t),e.bikeOnly&&i>=r.TniConstant.MAPBOX_CONSTANTS.placesMinZoomForPaths?this._drawMapPoints(t,[],r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_only_id,""):this._hideStyleLayer(r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_only_id,t),e.walkOnly&&i>=r.TniConstant.MAPBOX_CONSTANTS.placesMinZoomForPaths?this._drawMapPoints(t,[],r.TniConstant.MAPBOX_CONSTANTS.mapbox_walk_only_id,""):this._hideStyleLayer(r.TniConstant.MAPBOX_CONSTANTS.mapbox_walk_only_id,t),e.sharedPath&&i>=r.TniConstant.MAPBOX_CONSTANTS.placesMinZoomForPaths?(this._drawMapPoints(t,[],r.TniConstant.MAPBOX_CONSTANTS.mapbox_shared_path_id,""),this._drawMapPoints(t,[],r.TniConstant.MAPBOX_CONSTANTS.mapbox_shared_path_copy_dot_id,"")):(this._hideStyleLayer(r.TniConstant.MAPBOX_CONSTANTS.mapbox_shared_path_id,t),this._hideStyleLayer(r.TniConstant.MAPBOX_CONSTANTS.mapbox_shared_path_copy_dot_id,t)),e.bikeNoAccess&&i>=r.TniConstant.MAPBOX_CONSTANTS.placesMinZoomForPaths?this._drawMapPoints(t,[],r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_no_access_id,""):this._hideStyleLayer(r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_no_access_id,t),e.bikeLocker&&i>=r.TniConstant.MAPBOX_CONSTANTS.placesMinZoom?this._drawMapPoints(t,[],r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_lockers_id,""):this._hideStyleLayer(r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_lockers_id,t),e.bikeShed&&i>=r.TniConstant.MAPBOX_CONSTANTS.placesMinZoom?this._drawMapPoints(t,[],r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_sheds_id,""):this._hideStyleLayer(r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_sheds_id,t)}_showStops(t){const e=t.getCenter();this.xmlCoordService.getXmlCoords([e.lng,e.lat],["BUS_POINT"]).subscribe(e=>{this._drawMapPoints(t,e,r.TniConstant.MAPBOX_CONSTANTS.places_stop_layer_id,"tp_stop")})}_showOpalRetailers(t){this._drawMapPoints(t,[],r.TniConstant.MAPBOX_CONSTANTS.mapbox_retailer_layer_id,"")}_showPOIs(t){const e=t.getCenter();this.xmlCoordService.getXmlCoords([e.lng,e.lat],["POI_POINT","POI_AREA"]).subscribe(e=>{this._drawMapPoints(t,e,r.TniConstant.MAPBOX_CONSTANTS.places_poi_layer_id,"tp_poi")})}showOriginOrDesintation(t,e,n,r){this.ngZone.runOutsideAngular(()=>{const i=this.mapTemplates.getSymbolLayer(n,r);i.layout["icon-offset"]=[0,-20];const o=t.getSource(n);e&&i.source.data.features.push(this.mapTemplates.createFeatureFromLocation(e)),o?o.setData(JSON.parse(JSON.stringify(i.source.data))):t.addLayer(JSON.parse(JSON.stringify(i)))})}_clearMapPoints(t,e){this.ngZone.runOutsideAngular(()=>{if(t===r.TniConstant.MAPBOX_CONSTANTS.mapbox_retailer_layer_id)e.setLayoutProperty(t,"visibility","none");else{const n=e.getSource(t);n&&n.setData({type:"FeatureCollection",features:[]})}})}_drawMapPoints(t,e=[],n,i=""){this.ngZone.runOutsideAngular(()=>{if([r.TniConstant.MAPBOX_CONSTANTS.mapbox_retailer_layer_id,r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_only_id,r.TniConstant.MAPBOX_CONSTANTS.mapbox_walk_only_id,r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_no_access_id,r.TniConstant.MAPBOX_CONSTANTS.mapbox_shared_path_id,r.TniConstant.MAPBOX_CONSTANTS.mapbox_shared_path_copy_dot_id,r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_lockers_id,r.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_sheds_id].includes(n))this._showStyleLayer(n,t);else{const r=this.mapTemplates.getSymbolLayer(n,i);r.layout["icon-size"]=.55;const o=t.getSource(n);e.length&&e.forEach(t=>{r.source.data.features.push(this.mapTemplates.createFeatureFromLocation(t))}),o?o.setData(JSON.parse(JSON.stringify(r.source.data))):t.addLayer(JSON.parse(JSON.stringify(r)))}})}clearOriginOrDestination(t,e){this.ngZone.runOutsideAngular(()=>{t.forEach(t=>{const n=e.getSource(t);n&&(e.removeLayer(n.id),e.removeSource(n.id))})})}_showStyleLayer(t,e){this.ngZone.runOutsideAngular(()=>{e.setLayoutProperty(t,"visibility","visible")})}_hideStyleLayer(t,e){this.ngZone.runOutsideAngular(()=>{e.setLayoutProperty(t,"visibility","none")})}removeMarkers(t){this.markers&&this.markers.length>0&&this.markers.forEach(e=>{e.id&&e.type===t&&e.id.remove()})}removeAllMarkers(t){this.markers&&this.markers.length>0&&this.markers.filter(e=>"places-curr-loc"!==e.type&&e.type!==r.TniConstant.MAPBOX_CONSTANTS.mapbox_explore_location_id&&e.type!==r.TniConstant.MAPBOX_CONSTANTS.vehicle_position_id&&e.type!==r.TniConstant.MAPBOX_CONSTANTS.vehicle_position_message_id||!t).forEach(t=>{t&&t.id&&t.id.remove()})}dedupMapMarkers(t){this.markers||(this.markers=[]);const e=this.markers.findIndex(e=>e.identifier===t.identifier);e>-1?this.markers.splice(e,1,t):this.markers.push(t)}getDistanceBetweenPoints(t,e){const n=i.point(t),r=i.point(e);return Math.round(i.distance(n,r,{units:"meters"}))}sortRetailersByDistanceFromSearchLocation(t,e){for(const n of e){const e=this.getDistanceBetweenPoints(t.geometry.coordinates,[n.properties.longitude,n.properties.latitude]);n.properties.distance_from_point=e}e.sort((t,e)=>t.properties.distance_from_point<e.properties.distance_from_point?-1:t.properties.distance_from_point<e.properties.distance_from_point?1:0)}}e.MapPointsService=c,c.\u0275fac=function(t){return new(t||c)(o.\u0275\u0275inject(a.XMLCoordsService),o.\u0275\u0275inject(s.GeoJsonTemplates),o.\u0275\u0275inject(o.NgZone))},c.\u0275prov=o.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac})},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Xor9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniTabModule=void 0;const r=n("SVse"),i=n("umyp"),o=n("8Y7J");class a{}e.TniTabModule=a,a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({factory:function(t){return new(t||a)},imports:[[r.CommonModule,i.TniIconModule]]})},XqQ8:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),a=n("lJxs"),s=n("Cfvw");function c(t,e){return e?n=>n.pipe(c((n,r)=>Object(s.a)(t(n,r)).pipe(Object(a.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new l(t))}class l{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends r.a{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new i.a(this,e,n),a=this.destination;a.add(r);const s=Object(o.a)(this,t,void 0,void 0,r);s!==r&&a.add(s)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t){this.destination.error(t)}notifyComplete(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}},"Y/cZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})()},Y6u4:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})()},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Y7PD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureHistorySelector=e.TripDetailsSelector=e.TripHistorySelector=void 0,e.TripHistorySelector="TripHistory",e.TripDetailsSelector="TripDetails",e.DepartureHistorySelector="DepartureHistory"},Y7wX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconService=void 0;const r=n("yPCr"),i=n("8Y7J");class o{constructor(){this.DEFAULT_PRODUCTS={BUS:{icon:"bus",useRouteIcon:!1,iconClass:"tp-icon-bus-route"}},this.PRODUCT_CODES={1:{icon:"train",name:"Sydney Trains Network",useRouteIcon:!0,iconClass:"tp-icon-train-route"},2:{icon:"train",name:"Intercity Trains Network",useRouteIcon:!0,iconClass:"tp-icon-train-route"},3:{icon:"regional-train",name:"Regional Trains and Coaches Network",useRouteIcon:!1,iconClass:"tp-icon-train-regional-route"},19:{icon:"train-temp",name:"Temporary trains",useRouteIcon:!1,iconClass:"tp-icon-train-route"},24:{icon:"metro",name:"Sydney Metro Network",useRouteIcon:!0,iconClass:"tp-icon-metro-route"},4:{icon:"bus",name:"Blue Mountains Buses Network",useRouteIcon:!1,iconClass:"tp-icon-bus-route"},5:{icon:"bus",name:"Sydney Buses Network",useRouteIcon:!1,iconClass:"tp-icon-bus-route"},6:{icon:"bus",name:"Central Coast Buses Network",useRouteIcon:!1,iconClass:"tp-icon-bus-route"},15:{icon:"bus",name:"Hunter Buses Network",useRouteIcon:!1,iconClass:"tp-icon-bus-route"},16:{icon:"bus",name:"Illawarra Buses Network",useRouteIcon:!1,iconClass:"tp-icon-bus-route"},31:Object.assign(Object.assign({},this.DEFAULT_PRODUCTS.BUS),{name:"Central West and Orana Network"}),32:Object.assign(Object.assign({},this.DEFAULT_PRODUCTS.BUS),{name:"Far West Network"}),33:Object.assign(Object.assign({},this.DEFAULT_PRODUCTS.BUS),{name:"New England North West Network"}),34:Object.assign(Object.assign({},this.DEFAULT_PRODUCTS.BUS),{name:"Newcastle and Hunter Network"}),35:Object.assign(Object.assign({},this.DEFAULT_PRODUCTS.BUS),{name:"North Coast Network"}),36:Object.assign(Object.assign({},this.DEFAULT_PRODUCTS.BUS),{name:"Riverina Murray Network"}),37:Object.assign(Object.assign({},this.DEFAULT_PRODUCTS.BUS),{name:"South East and Tablelands Network"}),38:Object.assign(Object.assign({},this.DEFAULT_PRODUCTS.BUS),{name:"Sydney and Surrounds Network"}),14:{icon:"bus-temp",name:"Temporary buses",useRouteIcon:!1,iconClass:"tp-icon-bus-route"},9:{icon:"bus-private",name:"Private bus services",useRouteIcon:!1,iconClass:"tp-icon-bus-route"},17:{icon:"coach-private",name:"Private coach services",useRouteIcon:!1,iconClass:"tp-icon-coach-route"},7:{icon:"coach",name:"Regional Trains and Coaches Network",useRouteIcon:!1,iconClass:"tp-icon-coach-route"},22:{icon:"coach-temp",name:"Temporary coaches",useRouteIcon:!1,iconClass:"tp-icon-coach-route"},10:{icon:"ferry",name:"Sydney Ferries Network",useRouteIcon:!0,iconClass:"tp-icon-ferry-route"},11:{icon:"ferry",name:"Newcastle Ferries",useRouteIcon:!0,iconClass:"tp-icon-ferry-route"},18:{icon:"ferry-temp",name:"Temporary ferries",useRouteIcon:!1,iconClass:"tp-icon-ferry-route"},12:{icon:"ferry-private",name:"Private ferry and fast ferry services",useRouteIcon:!1,iconClass:"tp-icon-ferry-route"},13:{icon:"lightrail",name:"Sydney Light Rail Network",useRouteIcon:!0,iconClass:"tp-icon-lightrail-route"},21:{icon:"lightrail",name:"Newcastle Light Rail",useRouteIcon:!1,iconClass:"tp-icon-lightrail-route"},20:{icon:"lightrail-temp",name:"Temporary light rail",useRouteIcon:!1,iconClass:"tp-icon-lightrail-route"},8:{icon:"bus-school",name:"School buses",useRouteIcon:!1,iconClass:"tp-icon-bus-route"},23:{icon:"on-demand",name:"On demand",useRouteIcon:!1,iconClass:"tp-icon-ondemand-route"},25:{icon:"on-demand",name:"On demand",useRouteIcon:!1,iconClass:"tp-icon-ondemand-route"},99:{icon:"walk",colour:"#000000"},100:{icon:"walk",colour:"#000000"},105:{icon:"drive",colour:"#000000"},107:{icon:"bike",colour:"#000000"}}}getModeIcon(t){switch(t){case r.Mode.Metro:return"metro";case r.Mode.Train:case r.Mode.TrainLegacy:return"train";case r.Mode.Bus:return"bus";case r.Mode.LightRail:return"lightrail";case r.Mode.Coach:return"coach";case r.Mode.SchoolBus:return"bus-school";case r.Mode.Ferry:return"ferry"}return null}getModeInfo(t){return this.PRODUCT_CODES[t]}getNetworkIcon(t){return this.PRODUCT_CODES[t].icon}}e.IconService=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=i.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac})},YEUz:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return M})),n.d(e,"d",(function(){return b}));var r=n("SVse"),i=n("8Y7J"),o=n("SCoL"),a=n("XNiG"),s=n("quSY"),c=(n("LRne"),n("Ht+U")),l=n("vkgz"),u=n("Kj3r"),p=n("pLZG"),d=n("lJxs"),h=n("IzEk");n("8LU1"),n("9b/N");class f extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new a.a,this._typeaheadSubscription=s.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new a.a,this.change=new a.a,t instanceof i.QueryList&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(l.a)(t=>this._pressedLetters.push(t)),Object(u.a)(t),Object(p.a)(()=>this._pressedLetters.length>0),Object(d.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(){return this._homeAndEnd=!0,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case c.m:return void this.tabOut.next();case c.d:if(this._vertical&&n){this.setNextItemActive();break}return;case c.n:if(this._vertical&&n){this.setPreviousItemActive();break}return;case c.k:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case c.i:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case c.h:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case c.e:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Object(c.q)(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=c.a&&e<=c.o||e>=c.p&&e<=c.j)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.QueryList?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let m=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(e){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===y(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=y(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||g(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](o.Platform))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(o.Platform))},token:t,providedIn:"root"}),t})();function g(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function y(t){if(!g(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class _{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(i.isDevMode)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Object(h.a)(1)).subscribe(t)}}let v=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new _(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](m),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](r.DOCUMENT))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(m),Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(r.DOCUMENT))},token:t,providedIn:"root"}),t})();function b(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;let M=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](o.Platform),i["\u0275\u0275inject"](r.DOCUMENT))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(i["\u0275\u0275inject"])(o.Platform),Object(i["\u0275\u0275inject"])(r.DOCUMENT))},token:t,providedIn:"root"}),t})()},YRex:function(t,e,n){!function(t){"use strict";t.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===e||"\u0633\u06d5\u06be\u06d5\u0631"===e||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===e?t:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===e||"\u0643\u06d5\u0686"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":r<900?"\u0633\u06d5\u06be\u06d5\u0631":r<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":r<1230?"\u0686\u06c8\u0634":r<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return t+"-\u06be\u06d5\u067e\u062a\u06d5";default:return t}},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(n("wd/R"))},YlkN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripTimeComponent=void 0;const r=n("f0Wu"),i=n("qCKp"),o=n("8Y7J"),a=n("SVse");function s(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",2),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("className",t.left?"left-unit":"leaving-unit"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2(" ",t.relativeTime.unit," ",t.suffix," ")}}function c(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",1),o.\u0275\u0275elementStart(1,"div",2),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"div",2),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,s,2,3,"div",3),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("className",t.left?"left":"leaving"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.prefix),o.\u0275\u0275advance(1),o.\u0275\u0275property("className",t.left?"left-time":"leaving-time"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.relativeTime.value),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.relativeTime.unit||t.suffix)}}class l{constructor(){this.subscription=new i.Subscription}ngOnInit(){this.updateTimes();const t=i.interval(6e4);this.subscription=t.subscribe(()=>this.updateTimes())}ngOnDestroy(){this.subscription.unsubscribe()}updateTimes(){const t=r(this.tripTime);this.isBefore(t)?(this.prefix="Left",t.isSame(r(),"day")?(this.relativeTime=r(t).toNow(!0),this.suffix="ago"):(this.relativeTime=t.format("ddd"),this.suffix=t.format("D MMM")),this.dateDiff=-1):this.isAfter(t)?(this.prefix="Leaving",t.isSameOrAfter(this.twoDaysInTheFuture())?(this.relativeTime=t.format("ddd"),this.suffix=t.format("D MMM")):(this.relativeTime=r(t).toNow(!0),this.suffix=""),this.dateDiff=1):(this.prefix="Leave",this.relativeTime=t.isSameOrAfter(this.twoDaysInTheFuture())?t.format("ddd"):r(t).toNow(!0),this.suffix="",this.dateDiff=0),this.relativeTime=this.splitRelativeTime(this.relativeTime)}get left(){return new Date(this.tripTime)<new Date&&"now"!==r(new Date(this.tripTime)).fromNow().split(" ")[0].toLowerCase()}splitRelativeTime(t){const e=t.split(" ");return 1===e.length?{value:e[0]}:{value:e[0],unit:e[1]}}isBefore(t){return t.isSameOrBefore(r().subtract(60,"s"))}isAfter(t){return t.isSameOrAfter(r().add(60,"s"))}twoDaysInTheFuture(){return r().startOf("day").add(2,"d")}}e.TripTimeComponent=l,l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=o.\u0275\u0275defineComponent({type:l,selectors:[["tni-trip-time"]],inputs:{tripTime:"tripTime"},decls:1,vars:1,consts:[["class","trip-time",4,"ngIf"],[1,"trip-time"],[3,"className"],[3,"className",4,"ngIf"]],template:function(t,e){1&t&&o.\u0275\u0275template(0,c,6,5,"div",0),2&t&&o.\u0275\u0275property("ngIf",e.relativeTime)},directives:[a.NgIf],styles:[".leaving[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{font-size:12px;display:block;font-weight:350}.left[_ngcontent-%COMP%]{color:#af1919}.leaving[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{color:#373636}.time[_ngcontent-%COMP%]{font-weight:500;font-size:18px}.time.left[_ngcontent-%COMP%]{color:#af1919}.trip-time[_ngcontent-%COMP%]{max-width:70px;text-align:center;margin-left:-15px;margin-top:3px}.trip-time[_ngcontent-%COMP%]   .leaving[_ngcontent-%COMP%], .trip-time[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-bottom:-7px;font-weight:400;color:#757575}.trip-time[_ngcontent-%COMP%]   .left-time[_ngcontent-%COMP%]{font-size:21px;color:#af1919;font-weight:500;margin-bottom:-7px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-time[_ngcontent-%COMP%]   .left-time[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:3px}}.trip-time[_ngcontent-%COMP%]   .leaving-time[_ngcontent-%COMP%]{font-size:21px;color:#373636;font-weight:500;margin-bottom:-6px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-time[_ngcontent-%COMP%]   .leaving-time[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:3px}}.trip-time[_ngcontent-%COMP%]   .left-unit[_ngcontent-%COMP%]{color:#af1919;font-size:12px;font-weight:400;color:#757575}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-time[_ngcontent-%COMP%]   .left-unit[_ngcontent-%COMP%]{margin-top:-4px}}.trip-time[_ngcontent-%COMP%]   .leaving-unit[_ngcontent-%COMP%]{color:#373636;font-size:12px;font-weight:400;color:#757575}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-time[_ngcontent-%COMP%]   .leaving-unit[_ngcontent-%COMP%]{margin-top:-4px}}"]})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YqJu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RefreshResultsService=void 0;const r=n("qCKp"),i=n("8Y7J");class o{constructor(){this.refreshBehaviorSubject=new r.BehaviorSubject(!1),this.refresh$=this.refreshBehaviorSubject.asObservable(),this.refreshResults=t=>this.refreshBehaviorSubject.next(t)}}e.RefreshResultsService=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=i.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},YzEW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripErrorModalComponent=void 0;const r=n("m91t"),i=n("1z/I"),o=n("qCKp"),a=n("8Y7J"),s=n("lTCs"),c=n("MbAS"),l=n("X6C2"),u=n("1z/I"),p=n("SVse"),d=n("ajRT");function h(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"tni-modal",3),a.\u0275\u0275listener("closeEvent",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext(2).close()})),a.\u0275\u0275elementStart(1,"tni-modal-title"),a.\u0275\u0275elementStart(2,"h2"),a.\u0275\u0275text(3,"Something went wrong"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",4),a.\u0275\u0275text(5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ariaLabel",t.modalErrorMessage)("closeAtBottomLayout",!0)("alignAtTop",!0)("fullscreenMobile",!0),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate1(" ",t.modalErrorMessage," ")}}function f(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0,1),a.\u0275\u0275template(1,h,6,5,"tni-modal",2),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",t.showModal)}}class m{constructor(t,e,n,r){this.modalService=t,this.locationFinderService=e,this.xmlCoordsService=n,this.ref=r,this.showModal=!1}ngOnInit(){this.displayModalOnError()}displayModalOnError(){o.combineLatest([this.locationFinderService.findLocationError$,this.xmlCoordsService.findCoordError$]).subscribe(t=>{const e=t.includes(!0);this.modalService.removeModalFromBody(),e&&(this.modalService.addModalToBody(this.portal),this.showModal=!0,this.modalErrorMessage=navigator.onLine?r.ErrorMessages.service_modal:r.ErrorMessages.network,this.ref.detectChanges())})}close(){this.modalService.removeModalFromBody(),this.showModal=!1,this.locationFinderService.findLocationErrorSubject.next(!1),this.xmlCoordsService.findCoordErrorSubject.next(!1)}}e.TripErrorModalComponent=m,m.\u0275fac=function(t){return new(t||m)(a.\u0275\u0275directiveInject(s.ModalService),a.\u0275\u0275directiveInject(c.LocationFinderService),a.\u0275\u0275directiveInject(l.XMLCoordsService),a.\u0275\u0275directiveInject(a.ChangeDetectorRef))},m.\u0275cmp=a.\u0275\u0275defineComponent({type:m,selectors:[["tni-trip-error-modal"]],viewQuery:function(t,e){var n;1&t&&a.\u0275\u0275viewQuery(i.CdkPortal,!0),2&t&&a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.portal=n.first)},decls:1,vars:0,consts:[["class","error-modal",4,"cdkPortal"],[1,"error-modal"],[3,"ariaLabel","closeAtBottomLayout","alignAtTop","fullscreenMobile","closeEvent",4,"ngIf"],[3,"ariaLabel","closeAtBottomLayout","alignAtTop","fullscreenMobile","closeEvent"],[1,"modal-text"]],template:function(t,e){1&t&&a.\u0275\u0275template(0,f,2,1,"ng-container",0)},directives:[u.CdkPortal,p.NgIf,d.ModalComponent,d.ModalTitleDirective],styles:[""]})},"Z+0j":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripRequest=void 0,e.TripRequest=class{}},Z4QM:function(t,e,n){!function(t){"use strict";var e=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],n=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n("wd/R"))},ZAI4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppModule=e.playerFactory=void 0;const r=n("IheW"),i=n("NiZn"),o=n("JbkT"),a=n("SVse"),s=n("cUpR"),c=n("PCNd"),l=n("yX1w"),u=n("J/9z"),p=n("iInd"),d=n("omvX"),h=n("pKmL"),f=n("g9ER"),m=n("8Y7J"),g=(n("PCNd"),n("NiZn"),n("iInd"),[{path:"trip",loadChildren:()=>Promise.resolve().then(()=>n("6B56")).then(t=>t.TripPlannerModule)},{path:"departures",loadChildren:()=>Promise.resolve().then(()=>n("9aRb")).then(t=>t.DeparturesModule)},{path:"opal-retailers",loadChildren:()=>Promise.resolve().then(()=>n("6Yv/")).then(t=>t.OpalRetailersModule)},{path:"",redirectTo:"trip",pathMatch:"full"}]);function y(){return Promise.resolve().then(()=>n("lPHp"))}e.playerFactory=y;class _{}e.AppModule=_,_.\u0275mod=m.\u0275\u0275defineNgModule({type:_,bootstrap:[o.AppComponent]}),_.\u0275inj=m.\u0275\u0275defineInjector({factory:function(t){return new(t||_)},providers:[{provide:a.APP_BASE_HREF,useValue:window["base-href"]},f.MapComponent],imports:[[r.HttpClientModule,d.BrowserAnimationsModule,s.BrowserModule,c.SharedModule.forRoot(),l.TripMapModule,h.CoreModule,u.NgStringPipesModule,i.LottieModule.forRoot({player:y,useCache:!0}),p.RouterModule.forRoot(g,{useHash:!0,onSameUrlNavigation:"reload"})]]})},ZAMP:function(t,e,n){!function(t){"use strict";t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n("wd/R"))},ZBcq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniqueLocationsPipe=void 0;const r=n("8Y7J");class i{transform(t){if(!t)return null;const e=new Map;return t.forEach(t=>{e.set((null==t?void 0:t.tsnId)||t.id,t)}),Array.from(e.keys()).map(t=>e.get(t))}}e.UniqueLocationsPipe=i,i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=r.\u0275\u0275definePipe({name:"uniqueLocationsPipe",type:i,pure:!0})},ZDRT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnDemandService=void 0;const r=n("erv5"),i=n("iFc6"),o=n("LvDl"),a=n("8Y7J");class s{constructor(t){this.ngZone=t,this.isOnDemandProduct=t=>!(t!==r.ProductID.onDemandBus&&t!==r.ProductID.onDemandFerry)}createOnDemandLayers(t,e){if(!(null==t?void 0:t.legs))return[];const n=o.flatten(null==t?void 0:t.legs.filter(t=>this.isOnDemandProduct(t.transportation.productId)).map(t=>{const e=t.transportation.routeNumber.toLowerCase();return[i.TniConstant.MAPBOX_CONSTANTS.mapbox_on_demand+e,i.TniConstant.MAPBOX_CONSTANTS.mapbox_on_demand_boundary+e]}));return this._setLayerVisibility(e,n,i.TniConstant.MAPBOX_CONSTANTS.mapbox_property_visibility_SHOW)}hideOnDemandLayers(t,e){this._setLayerVisibility(t,e,i.TniConstant.MAPBOX_CONSTANTS.mapbox_property_visibility_HIDE)}_setLayerVisibility(t,e,n){return this.ngZone.runOutsideAngular(()=>{e.forEach(e=>{t.setLayoutProperty(e,i.TniConstant.MAPBOX_CONSTANTS.mapbox_property_visibility,n)})}),e}}e.OnDemandService=s,s.\u0275fac=function(t){return new(t||s)(a.\u0275\u0275inject(a.NgZone))},s.\u0275prov=a.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a,s=new r.a(t,n,a)){if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},ZaU7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransportModeNetwork=void 0;class r{static fromJson(t){const e=new r;return Object.assign(e,t),e}}e.TransportModeNetwork=r},Zduo:function(t,e,n){!function(t){"use strict";t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_a\u016dg_sep_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n("wd/R"))},ZkHo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouteSearch=void 0;const r=n("RatG");class i{static fromJson(t){const e=new i,n=t._source.payload;e.divaId=n.diva.id,e.productId=parseInt(n.route.transport_name_id,10),e.colour=new r.Colour,e.colour.background=n.route.colour.background,e.colour.foreground=n.route.colour.foreground,e.colour.text=n.route.colour.text,e.routeNumber=n.route.number,e.routeName=n.route.name;const o=n.diva.id.split(":");return e.routeId=o[2].trim().length>0?o[1]+":"+o[2].trim():o[1],e}operatingBranchRouteNumber(){if(!this.divaId)return null;const t=this.divaId.split(":");return t.length<2?null:"020T1"===t[1]||"020T2"===t[1]||t.length<3||""===t[2].trim()?t[1]:t[1]+"-"+t[2]}}e.RouteSearch=i},"ZrN/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalRetailersService=void 0;const r=n("5g3M"),i=n("HcUK"),o=n("qCKp"),a=n("qtzU"),s=n("8Y7J"),c=n("tqRt");class l{constructor(t){this.store=t,this.selectedOpalRetailer=new o.BehaviorSubject(null),this.highlightOpalRetailerId=0,this.markupUtil=new i.MapMarkupUtil,this.getOpalSearchLocation=()=>this.store.select(a.getSearchLocation)}getOpalRetailerRingMarker(t){return{type:r.OPAL_RETAILER_RING_CLASS,data:t.geometry.coordinates,title:"Opal Retailer Selected",geometry:t.geometry,identifier:"opal_retailer_ring",clickable:!1}}generateOpalMessageBody(t){let e="";if(t&&t.properties&&t.properties.street_address&&(e=t.properties.street_address,t.properties.suburb&&(e=t.properties.postcode?`${e}, ${t.properties.suburb} ${t.properties.postcode}`:`${e}, ${t.properties.suburb}`),t.properties.payment_type)){const n=this.getOpalPaymentType(t.properties.payment_type);e=""!==n?`${e}</br>${n}`:e}const n=this.getOpalRetailerServiceType(t.properties.service_type);return""!==n?`<p class="opal-retailer__address">${e}</p>\n      <p class="opal-retailer__description">${n}</p>`:e}getOpalPaymentType(t){return"Card"===t?r.OpalRetetailersConstants.NO_CASH_SALES:""}getOpalRetailerServiceType(t){let e="";return"Retailer"===t?e=r.OpalRetetailersConstants.OPAL_RETAILER:"Top up only"===t?e=r.OpalRetetailersConstants.TOP_UP_ONLY:"Top up and single"===t&&(e=r.OpalRetetailersConstants.TOP_UP_SINGLE),e}changeOpalRetailerHighlight(t){this.highlightOpalRetailerId=t.properties.cartodb_id}setSelectedOpalRetailerDetail(t){this.selectedOpalRetailer.next(t)}getDistanceLabel(t){if(!t)return;let e="m away",n=t.toString();return t>950&&(e="km away",n=t<1e3?"1.0":(t/1e3).toFixed(1)),`${n}${e}`}onSelectedListItem(){return this.selectedOpalRetailer.asObservable()}}e.OpalRetailersService=l,l.\u0275fac=function(t){return new(t||l)(s.\u0275\u0275inject(c.Store))},l.\u0275prov=s.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})},Zy1z:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return t=>t.lift(new o)}class o{call(t,e){return e.subscribe(new a(t))}}class a extends r.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}},ZyQ5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrackingModule=void 0;const r=n("SVse"),i=n("8Y7J");class o{}e.TrackingModule=o,o.\u0275mod=i.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=i.\u0275\u0275defineInjector({factory:function(t){return new(t||o)},imports:[[r.CommonModule]]})},aIdf:function(t,e,n){!function(t){"use strict";function e(t,e,n){return t+" "+function(t,e){return 2===e?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}t.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:function(t){switch(function t(e){return e>9?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(t){return t+(1===t?"a\xf1":"vet")},week:{dow:1,doy:4}})}(n("wd/R"))},aIsn:function(t,e,n){!function(t){"use strict";t.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},aQkU:function(t,e,n){!function(t){"use strict";t.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u043e\u0441\u043b\u0435 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-\u0435\u0432":0===n?t+"-\u0435\u043d":n>10&&n<20?t+"-\u0442\u0438":1===e?t+"-\u0432\u0438":2===e?t+"-\u0440\u0438":7===e||8===e?t+"-\u043c\u0438":t+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n("wd/R"))},aTCI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniTabComponent=void 0;const r=n("8Y7J"),i=n("8Y7J");function o(t,e){1&t&&i.\u0275\u0275projection(0)}class a{constructor(){this.tabId=`tni-tab-${a.nextId++}-header`}}e.TniTabComponent=a,a.nextId=0,a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=i.\u0275\u0275defineComponent({type:a,selectors:[["tni-tab"]],viewQuery:function(t,e){var n;1&t&&i.\u0275\u0275staticViewQuery(r.TemplateRef,!0),2&t&&i.\u0275\u0275queryRefresh(n=i.\u0275\u0275loadQuery())&&(e.contentTemplate=n.first)},inputs:{tabId:"tabId",title:"title",titlePrefix:"titlePrefix",disabled:"disabled",tabIcon:"tabIcon",ariaExpanded:"ariaExpanded"},ngContentSelectors:["*"],decls:1,vars:0,template:function(t,e){1&t&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275template(0,o,1,0,"ng-template"))},encapsulation:2})},"aTb/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripResultCycleComponent=void 0;const r=n("mrSG"),i=n("RNDk"),o=n("EiLY"),a=n("yuJq"),s=n("odFb"),c=n("wqB4"),l=n("ha9l"),u=n("8Y7J"),p=n("tqRt"),d=n("VS5s"),h=n("7rOj"),f=n("psEX"),m=n("SVse"),g=n("WMlU"),y=n("0njA"),_=n("cEli"),v=function(t){return{selected:t}};class b{constructor(t,e,n,r,i){this.stateStore=t,this.trackTripPlannerEventService=e,this.distancePipe=n,this.durationPipe=r,this.selectedJourneyStoreService=i,this.expanded=!1,this.isSelectedJourney=!1}ngOnInit(){return r.__awaiter(this,void 0,void 0,(function*(){this.cycleLeg=this.journey.legs[0],this.expanded=this.isSelectedJourney=this.journey.cycleProfile===a.CycleProfile.Moderate,this.expanded&&this.stateStore.dispatch(new o.SelectJourneyAction({trip:this.journey})),this.selectedJourneyStoreService.getExpandedJourney$().subscribe(t=>{t&&t.type===l.JourneyType.Cycle&&(this.expanded=this.isSelectedJourney=this.journey===t)}),this.duration=this.durationPipe.transform(this.cycleLeg.duration),this.distance=this.distancePipe.transform(this.cycleLeg.distance),this.title=c.mapCycleProfileToString(this.journey.cycleProfile),this.description=this.getDescription(this.journey.cycleProfile)}))}getDescription(t){let e;switch(t){case a.CycleProfile.Easier:e="For bike riders who would prefer an easier route by avoiding hills and busy roads, where possible.";break;case a.CycleProfile.Moderate:e="For bike riders who don't mind the occasional hill and are comfortable riding on roads.";break;case a.CycleProfile.MoreDirect:e="For experienced bike riders who want to minimise travel time, can handle steeper hills and navigate busy roads."}return e}onToggleCard(t){this.expanded=t,this.expanded&&(this.trackTripPlannerEventService.trackCycleRoutes(s.AppView.ListView,c.mapCycleProfileToString(this.journey.cycleProfile)),this.stateStore.dispatch(new o.SelectJourneyAction({trip:this.journey})))}switchToMapView(t){this.trackTripPlannerEventService.trackViewResultsOnMapForMobile(),t.stopPropagation(),this.stateStore.dispatch(new o.SelectJourneyAction({trip:this.journey})),this.stateStore.dispatch(new i.MapTripAction({trip:this.journey})),this.stateStore.dispatch(new i.MapTripLegAction({mapLeg:{leg:this.journey.legs[0],index:0}})),this.stateStore.dispatch(new o.SwitchAppViewAction({mobileMapView:!0}))}}e.TripResultCycleComponent=b,b.\u0275fac=function(t){return new(t||b)(u.\u0275\u0275directiveInject(p.Store),u.\u0275\u0275directiveInject(d.TrackTripPlannerEventService),u.\u0275\u0275directiveInject(h.DistancePipe),u.\u0275\u0275directiveInject(h.DurationPipe),u.\u0275\u0275directiveInject(f.SelectedJourneyStoreService))},b.\u0275cmp=u.\u0275\u0275defineComponent({type:b,selectors:[["tni-trip-result-cycle"]],inputs:{journey:"journey",index:"index"},decls:27,vars:18,consts:[[1,"card-wrapper","cycle-result",3,"ngClass"],[1,"trip-card",3,"expanded","index","type","toggle"],["card-header",""],[1,"row","summary-header"],[1,"col-md-12","col-xs-12"],["iconName","cycle","iconClasses","xs tp_cycle",3,"iconAriaHidden"],[1,"sub-heading"],["card-body",""],[1,"row"],[1,"col-md-12","col-xs-12","card-content"],[3,"leg","showWalkDriveInstructions","showFromStopNameLabel","showTo","legIndex","hideTimes"],["card-footer",""],[1,"summary-footer","row"],[1,"col-xs-6","col-md-6"],["role","button","tabindex","0",1,"map-link","pull-right",3,"click"],["iconClasses","tp-icon sm","iconName","map",3,"iconAriaHidden"],["title","Open map view","aria-label","Open map view"]],template:function(t,e){1&t&&(u.\u0275\u0275elementStart(0,"div",0),u.\u0275\u0275elementStart(1,"tni-collapsible-card",1),u.\u0275\u0275listener("toggle",(function(t){return e.onToggleCard(t)})),u.\u0275\u0275elementStart(2,"div",2),u.\u0275\u0275elementStart(3,"div",3),u.\u0275\u0275elementStart(4,"div",4),u.\u0275\u0275element(5,"tni-icon",5),u.\u0275\u0275elementContainerStart(6),u.\u0275\u0275text(7),u.\u0275\u0275element(8,"br"),u.\u0275\u0275elementStart(9,"span",6),u.\u0275\u0275text(10),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"div",7),u.\u0275\u0275elementStart(12,"div",8),u.\u0275\u0275elementStart(13,"div",9),u.\u0275\u0275element(14,"tni-it-leg",10),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(15,"div",11),u.\u0275\u0275elementStart(16,"div",12),u.\u0275\u0275elementStart(17,"div",13),u.\u0275\u0275text(18," Approx "),u.\u0275\u0275elementStart(19,"strong"),u.\u0275\u0275text(20),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(21),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(22,"div",13),u.\u0275\u0275elementStart(23,"span",14),u.\u0275\u0275listener("click",(function(t){return e.switchToMapView(t)})),u.\u0275\u0275element(24,"tni-icon",15),u.\u0275\u0275elementStart(25,"span",16),u.\u0275\u0275text(26,"Map"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&t&&(u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(16,v,e.isSelectedJourney)),u.\u0275\u0275advance(1),u.\u0275\u0275property("expanded",e.expanded)("index",e.index)("type","cycle"),u.\u0275\u0275advance(4),u.\u0275\u0275property("iconAriaHidden",!0),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1(" ",e.title," "),u.\u0275\u0275advance(3),u.\u0275\u0275textInterpolate1(" ",e.description,""),u.\u0275\u0275advance(4),u.\u0275\u0275property("leg",e.cycleLeg)("showWalkDriveInstructions",!1)("showFromStopNameLabel",!0)("showTo",!0)("legIndex",e.index)("hideTimes",!0),u.\u0275\u0275advance(6),u.\u0275\u0275textInterpolate(e.duration),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate1(" ",e.distance," "),u.\u0275\u0275advance(3),u.\u0275\u0275property("iconAriaHidden",!0))},directives:[m.NgClass,g.TniCollapsibleCardComponent,y.IconComponent,_.ItLegComponent],styles:[".cycle-result[_ngcontent-%COMP%]{color:#373636;font-size:14px;margin:8px}.cycle-result[_ngcontent-%COMP%]   .trip-card[_ngcontent-%COMP%]{margin-bottom:15px}.cycle-result[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]{margin-bottom:8px}.cycle-result[_ngcontent-%COMP%]     a svg.form-control-select-arrow{top:30%}.cycle-result[_ngcontent-%COMP%]     .tp_cycle{margin-bottom:4px}.cycle-result[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%]{height:32px;max-width:575px;color:#757575;font-size:13px;letter-spacing:0;line-height:16px;margin-top:12px;font-weight:400;display:inline-block}.cycle-result[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{padding:16px;font-weight:500;letter-spacing:.13px;color:#373636}.cycle-result[_ngcontent-%COMP%]   .summary-footer[_ngcontent-%COMP%]{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;padding:10px 16px 13px}.cycle-result[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 16px}.cycle-result[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:none;cursor:pointer;text-decoration:underline;margin-right:16px;font-size:12px;color:#1d69b4}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.cycle-result[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:block}}.cycle-result[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]     svg{color:#555}@media print{.cycle-result[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:none}}.cycle-result.selected[_ngcontent-%COMP%]     .collapsible-card-details{border-left:4px solid #000}.cycle-result[_ngcontent-%COMP%]     tni-alert-msg .alert-message p{line-height:25px;font-weight:100}"]})},aUnO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StoreMapService=void 0;const r=n("pSkQ"),i=n("RNDk"),o=n("8Y7J"),a=n("tqRt");class s{constructor(t){this.store=t,this.getMapSource$=this.store.select(r.getMapSource),this.getMapTrip$=()=>this.store.select(r.getMapTrip),this.getMapTripLeg$=()=>this.store.select(r.getMapTripLeg),this.getMapOptions$=()=>this.store.select(r.getMapOptions),this.getMapCurrentLocation$=()=>this.store.select(r.getMapCurrentLocation),this.getMapLayers$=()=>this.store.select(r.getLayers),this.getMapFilters$=()=>this.store.select(r.getFilters),this.getDisplayMapOptions$=()=>this.store.select(r.getDisplayMapOptions),this.getMapCenter$=()=>this.store.select(r.getMapCenter),this.getMapDepartures$=()=>this.store.select(r.getMapDepartures),this.getMapVehiclePosition$=()=>this.store.select(r.getMapVehiclePosition),this.getMapExploreLocation$=()=>this.store.select(r.getMapExploreLocation),this.getUseDefaultMapOptions$=()=>this.store.select(r.getUseDefaultMapOptions)}updateCenter(t){this.store.dispatch(new i.MapCenterAction({center:t}))}}e.StoreMapService=s,s.\u0275fac=function(t){return new(t||s)(o.\u0275\u0275inject(a.Store))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},"af/d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransportFilterEffect=void 0;const r=n("7bNT"),i=n("kU1M"),o=n("ha9l"),a=n("3Pgj"),s=n("RNDk"),c=n("EiLY"),l=n("8Y7J"),u=n("7bNT"),p=n("tqRt");class d{constructor(t,e){this.actions$=t,this.store=e,this.selectJourneyOnTransportFilterAction$=r.createEffect(()=>this.actions$.pipe(r.ofType(c.TripActionTypes.TRANSPORT_FILTER),i.withLatestFrom(this.store.select(a.selectTripDetails)),i.map(([t,e])=>{let n;switch(t.payload.filter){case o.JourneyType.PublicTransport:n=e.journeys[0];break;case o.JourneyType.Drive:n=e.taxiDrive[0];break;case o.JourneyType.Cycle:n=e.cycle[0];break;case o.JourneyType.Walk:n=e.walk[0]}return new s.MapTripAction({trip:n})})))}}e.TransportFilterEffect=d,d.\u0275fac=function(t){return new(t||d)(l.\u0275\u0275inject(u.Actions),l.\u0275\u0275inject(p.Store))},d.\u0275prov=l.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})},ahfq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripNavTabsComponent=void 0;const r=n("8Y7J"),i=n("VS5s"),o=n("iInd"),a=function(){return["/"]},s=function(){return["/departures"]};class c{constructor(t,e){this.trackTripPlannerEventService=t,this.router=e}preventIfOnSameTab(t,e){this.isLinkActive(e)?(t.preventDefault(),t.stopPropagation()):"/departures"===e&&this.trackDeparturesTab()}trackDeparturesTab(){this.trackTripPlannerEventService.trackDeparturesTab()}trackTripPlannerTab(){this.trackTripPlannerEventService.trackTripPlannerTab()}isLinkActive(t){const e=this.router.url.indexOf("?");return(-1===e?this.router.url:this.router.url.slice(0,e))===t}}e.TripNavTabsComponent=c,c.\u0275fac=function(t){return new(t||c)(r.\u0275\u0275directiveInject(i.TrackTripPlannerEventService),r.\u0275\u0275directiveInject(o.Router))},c.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["tni-trip-nav-tabs"]],decls:7,vars:16,consts:[["role","tablist",1,"nav","nav-tabs","tfnsw-nav-tabs","nav-justified"],[1,"nav-tab"],["matRipple","","matRippleCentered","true","id","tab-pane-tp","aria-controls","tab-pane-tp","role","tab","tabindex","0",3,"routerLink","replaceUrl","keydown.enter","click"],["matRipple","","matRippleCentered","true","id","tab-pane-nd","aria-controls","tab-pane-nd","role","tab","tabindex","0",1,"departures-tab",3,"routerLink","replaceUrl","keydown.enter","click"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"ul",0),r.\u0275\u0275elementStart(1,"li",1),r.\u0275\u0275elementStart(2,"a",2),r.\u0275\u0275listener("keydown.enter",(function(t){return e.preventIfOnSameTab(t,"/trip")}))("click",(function(){return e.trackTripPlannerTab()})),r.\u0275\u0275text(3," Trip Planner "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"li",1),r.\u0275\u0275elementStart(5,"a",3),r.\u0275\u0275listener("keydown.enter",(function(t){return e.preventIfOnSameTab(t,"/departures")}))("click",(function(){return e.trackDeparturesTab()})),r.\u0275\u0275text(6," Departures "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275classProp("nav-tab--active",e.isLinkActive("/trip")),r.\u0275\u0275advance(1),r.\u0275\u0275property("routerLink",r.\u0275\u0275pureFunction0(14,a))("replaceUrl",!0),r.\u0275\u0275attribute("disabled",e.isLinkActive("/trip"))("aria-disabled",e.isLinkActive("/trip"))("aria-selected",e.isLinkActive("/")),r.\u0275\u0275advance(2),r.\u0275\u0275classProp("nav-tab--active",e.isLinkActive("/departures")),r.\u0275\u0275advance(1),r.\u0275\u0275property("routerLink",r.\u0275\u0275pureFunction0(15,s))("replaceUrl",!0),r.\u0275\u0275attribute("disabled",e.isLinkActive("/departures"))("aria-disabled",e.isLinkActive("/departures"))("aria-selected",e.isLinkActive("/departures")))},directives:[o.RouterLinkWithHref],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border:none!important}[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;padding:11px 0;font-size:14px;font-weight:500;background-color:#f9f9f9;border:none;border-bottom:1px solid #dbdbdb}[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]     .mat-ripple-element{background-color:rgba(0,0,0,.05)}[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   a[disabled=true][_ngcontent-%COMP%]{cursor:default;pointer-events:none}[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-tab--active[_ngcontent-%COMP%]{margin-top:0;border-bottom:2px solid #0069b7;box-shadow:none}[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-tab--active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#171717}"]})},ajRT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModalComponent=e.ModalScrollDirective=e.ModalCustomButtonDirective=e.ModalTitleDirective=void 0;const r=n("8Y7J"),i=n("sYyf"),o=n("qCKp"),a=n("8Y7J"),s=n("SVse"),c=["modalBox"];function l(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",14),a.\u0275\u0275elementStart(1,"button",15),a.\u0275\u0275listener("click",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().close()})),a.\u0275\u0275elementStart(2,"span",16),a.\u0275\u0275text(3,"close"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"span",17),a.\u0275\u0275text(5,"\xd7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function u(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",18),a.\u0275\u0275listener("click",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().close()})),a.\u0275\u0275elementStart(1,"span"),a.\u0275\u0275text(2,"Done"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275attribute("aria-label","Close "+t.ariaLabel+" dialog")}}function p(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",19),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275elementStart(2,"button",20),a.\u0275\u0275listener("click",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().close()})),a.\u0275\u0275elementStart(3,"span"),a.\u0275\u0275text(4,"OK"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext(),e=a.\u0275\u0275reference(15);a.\u0275\u0275classProp("scrolled-bottom",a.\u0275\u0275pipeBind1(1,3,e.showModalFooterLine$)),a.\u0275\u0275advance(2),a.\u0275\u0275attribute("aria-label","Close "+t.ariaLabel+" dialog")}}function d(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",19),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275projection(2,2),a.\u0275\u0275elementEnd()),2&t){a.\u0275\u0275nextContext();const t=a.\u0275\u0275reference(15);a.\u0275\u0275classProp("scrolled-bottom",a.\u0275\u0275pipeBind1(1,2,t.showModalFooterLine$))}}const h=[[["tni-modal-title"]],"*",[["tni-modal-custom-button"]]],f=function(t){return{"fullscreen-mobile":t}};class m{}e.ModalTitleDirective=m,m.\u0275fac=function(t){return new(t||m)},m.\u0275dir=a.\u0275\u0275defineDirective({type:m,selectors:[["tni-modal-title"]]});class g{}e.ModalCustomButtonDirective=g,g.\u0275fac=function(t){return new(t||g)},g.\u0275dir=a.\u0275\u0275defineDirective({type:g,selectors:[["tni-modal-custom-button"]]});class y{constructor(t){this.elementRef=t,this.showModalHeaderLine=new o.BehaviorSubject(!1),this.showModalFooterLine=new o.BehaviorSubject(!1),this.showModalHeaderLine$=this.showModalHeaderLine.asObservable(),this.showModalFooterLine$=this.showModalFooterLine.asObservable()}ngOnInit(){this.elementRef.nativeElement.offsetHeight<this.elementRef.nativeElement.scrollHeight&&this.showModalFooterLine.next(!0)}isScrolledTop(){const t=this.elementRef.nativeElement;this.showModalHeaderLine.next(t.scrollTop>0),this.showModalFooterLine.next(!(t.scrollTop>=t.scrollHeight-t.offsetHeight))}isResizeTop(){const t=this.elementRef.nativeElement;this.showModalHeaderLine.next(t.scrollTop>0),this.showModalFooterLine.next(!(t.scrollTop>=t.scrollHeight-t.offsetHeight))}}e.ModalScrollDirective=y,y.\u0275fac=function(t){return new(t||y)(a.\u0275\u0275directiveInject(a.ElementRef))},y.\u0275dir=a.\u0275\u0275defineDirective({type:y,selectors:[["","modal-scroll",""]],hostBindings:function(t,e){1&t&&a.\u0275\u0275listener("scroll",(function(t){return e.isScrolledTop(t)}))("resize",(function(t){return e.isResizeTop(t)}),!1,a.\u0275\u0275resolveWindow)},exportAs:["ModalScrollDirective"]});class _{constructor(){this.alignAtTop=!1,this.closeEvent=new r.EventEmitter,this.tfnswSiteDesignClass="tfnsw-site-design",this.focusedElementIndex=0}ngAfterViewInit(){document.body.style.overflow="hidden",this.setInitialFocus()}setInitialFocus(){setTimeout(()=>{this.focusable=this.modalBoxEl.nativeElement.querySelectorAll('.modal-title, button, [href], input, select, textarea, *[tabindex][tabindex]:not([tabindex="-1"])'),this.focusable[this.focusedElementIndex].focus()})}ngOnDestroy(){document.body.style.overflow="auto"}close(){this.closeEvent.emit(),this.openingElement&&this.openingElement.focus()}onTab(t){t.stopPropagation(),0!==this.focusable.length&&(this.focusedElementIndex++,this.focusedElementIndex>=this.focusable.length&&(this.focusedElementIndex=0),this.focusable[this.focusedElementIndex].focus(),t.preventDefault())}onShiftTab(t){t.stopPropagation(),0!==this.focusable.length&&(this.focusedElementIndex--,this.focusedElementIndex<0&&(this.focusedElementIndex=this.focusable.length-1),this.focusable[this.focusedElementIndex].focus(),t.preventDefault())}}e.ModalComponent=_,_.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=a.\u0275\u0275defineComponent({type:_,selectors:[["tni-modal"]],viewQuery:function(t,e){var n;1&t&&a.\u0275\u0275viewQuery(c,!0),2&t&&a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.modalBoxEl=n.first)},hostVars:2,hostBindings:function(t,e){2&t&&a.\u0275\u0275classMap(e.tfnswSiteDesignClass)},inputs:{ariaLabel:"ariaLabel",closeAtBottomRightLayout:"closeAtBottomRightLayout",closeAtBottomLayout:"closeAtBottomLayout",openingElement:"openingElement",noCloseButton:"noCloseButton",alignAtTop:"alignAtTop",fullscreenMobile:"fullscreenMobile"},outputs:{closeEvent:"closeEvent"},ngContentSelectors:["tni-modal-title","*","tni-modal-custom-button"],decls:20,vars:13,consts:[[1,"modal-container",3,"click","keyup.esc"],["tabindex","0","aria-describedby","modal-start modal-info",1,"hidden-container"],["modalContainer",""],["id","modal-start",1,"sr-only"],["id","modal-info",1,"sr-only"],[1,"modal-box",3,"ngClass","click","keyup.esc","keydown.tab","keydown.shift.tab"],["modalBox",""],["class","modal-box-header",4,"ngIf"],[1,"modal-box-body"],[1,"modal-header"],["modal-scroll","",1,"modal-box-body__text"],["modalScroll","ModalScrollDirective"],["type","button","class","close btn btn-default",3,"click",4,"ngIf"],["class","modal-footer",3,"scrolled-bottom",4,"ngIf"],[1,"modal-box-header"],["type","button",1,"close-btn",3,"click"],[1,"sr-only"],["aria-hidden","true"],["type","button",1,"close","btn","btn-default",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-close-modal","pull-right",3,"click"]],template:function(t,e){if(1&t&&(a.\u0275\u0275projectionDef(h),a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275listener("click",(function(t){return t.stopPropagation(),e.close()}))("keyup.esc",(function(){return e.close()})),a.\u0275\u0275elementStart(1,"div",1,2),a.\u0275\u0275elementStart(3,"span",3),a.\u0275\u0275text(4,"Dialog starts"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"span",4),a.\u0275\u0275text(6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div",5,6),a.\u0275\u0275listener("click",(function(t){return t.stopPropagation()}))("keyup.esc",(function(t){return t.stopPropagation(),e.close()}))("keydown.tab",(function(t){return e.onTab(t)}))("keydown.shift.tab",(function(t){return e.onShiftTab(t)})),a.\u0275\u0275template(9,l,6,0,"div",7),a.\u0275\u0275elementStart(10,"div",8),a.\u0275\u0275elementStart(11,"div",9),a.\u0275\u0275pipe(12,"async"),a.\u0275\u0275projection(13),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"div",10,11),a.\u0275\u0275projection(16,1),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(17,u,3,1,"button",12),a.\u0275\u0275template(18,p,5,5,"div",13),a.\u0275\u0275template(19,d,3,4,"div",13),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275reference(15);a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate(e.ariaLabel),a.\u0275\u0275advance(1),a.\u0275\u0275property("@slideFromTopAnimation",void 0)("ngClass",a.\u0275\u0275pureFunction1(11,f,!0===e.fullscreenMobile)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!e.noCloseButton&&!e.closeAtBottomRightLayout),a.\u0275\u0275advance(2),a.\u0275\u0275classProp("scrolled-top",a.\u0275\u0275pipeBind1(12,9,t.showModalHeaderLine$)),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngIf",!e.noCloseButton&&e.closeAtBottomRightLayout),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.closeAtBottomLayout),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.closeAtBottomLayout)}},directives:[s.NgClass,s.NgIf,y],pipes:[s.AsyncPipe],styles:[".modal-container[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;outline:0;overflow-y:auto;overflow-x:hidden;z-index:11000;transition:opacity .15s linear;background-color:rgba(0,0,0,.5);color:#363637}.modal-container[_ngcontent-%COMP%]   .modal-box[_ngcontent-%COMP%]{border-radius:4px;border:none;background:#fff;box-shadow:0 3px 9px rgba(0,0,0,.5);transition:transform .3s ease-out;font-weight:400;font-size:115%;line-height:23px;position:relative;width:auto;margin:56px 8px 8px;z-index:11001;box-sizing:border-box;overflow:auto}.modal-container[_ngcontent-%COMP%]   .modal-box[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{max-height:calc(100% - 80px)}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.modal-container[_ngcontent-%COMP%]   .modal-box.fullscreen-mobile[_ngcontent-%COMP%]{max-height:100%;margin:0;height:100%;width:100%}.modal-container[_ngcontent-%COMP%]   .modal-box.fullscreen-mobile[_ngcontent-%COMP%]   .modal-box-body[_ngcontent-%COMP%]{height:100%}.modal-container[_ngcontent-%COMP%]   .modal-box.fullscreen-mobile[_ngcontent-%COMP%]   .modal-box-body[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0}}.modal-container[_ngcontent-%COMP%]   .modal-box.align-top[_ngcontent-%COMP%]{top:50%!important}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.modal-container[_ngcontent-%COMP%]   .modal-box.align-top[_ngcontent-%COMP%]{top:0!important}}.modal-container[_ngcontent-%COMP%]   .modal-box[_ngcontent-%COMP%]   .modal-box-body[_ngcontent-%COMP%]{position:relative;z-index:-1}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.modal-container[_ngcontent-%COMP%]   .modal-box[_ngcontent-%COMP%]   .modal-box-body[_ngcontent-%COMP%]{padding:2rem;padding-left:unset;padding-right:unset}}@media (min-width:768px){.modal-container[_ngcontent-%COMP%]   .modal-box[_ngcontent-%COMP%]{box-shadow:0 5px 15px rgba(0,0,0,.5);width:520px;margin:30px auto;font-size:16px}}.modal-container[_ngcontent-%COMP%]   .modal-box-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:25px;right:16px;padding:0;cursor:pointer;border:0;background:0 0;height:25px;width:25px;font-size:25px;font-weight:200}.modal-container[_ngcontent-%COMP%]   .hidden-container[_ngcontent-%COMP%]{outline:none;width:0;height:0}.modal-container[_ngcontent-%COMP%]   .bottom-close-container[_ngcontent-%COMP%]{text-align:right;color:#0069b7}.modal-container[_ngcontent-%COMP%]   .bottom-close-container[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{text-transform:uppercase}.modal-container[_ngcontent-%COMP%]   .btn.close[_ngcontent-%COMP%]{opacity:.5;top:5px;right:10px;font-weight:500;position:absolute;margin-bottom:0;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid #8c8c8c;white-space:nowrap;padding:6px 12px;font-size:14px;line-height:1.428571429;border-radius:.25em}.modal-container[_ngcontent-%COMP%]   .btn.close[_ngcontent-%COMP%]:active, .modal-container[_ngcontent-%COMP%]   .btn.close[_ngcontent-%COMP%]:focus, .modal-container[_ngcontent-%COMP%]   .btn.close[_ngcontent-%COMP%]:hover{color:#000}.btn-close-modal[_ngcontent-%COMP%]{width:130px;height:32px;font-size:14px;line-height:14px}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #fff;height:80px;padding:0 24px;display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:0;width:100%;background:#fff}.modal-footer.scrolled-bottom[_ngcontent-%COMP%]{border-top:1px solid #ccc}.modal-box-body__text[_ngcontent-%COMP%]{padding:80px 24px 0}.modal-box-body__text[_ngcontent-%COMP%]     .modal-text{padding-bottom:80px}.modal-header[_ngcontent-%COMP%]{position:absolute;padding:24px 48px 24px 24px;top:0;background:#fff;width:100%;border-bottom:1px solid #fff;z-index:1}.modal-header[_ngcontent-%COMP%]     tni-modal-title h2{margin:0;font-weight:400;font-size:24px}.modal-header.scrolled-top[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}"],data:{animation:[i.slideFromTopAnimation]}})},b1Dy:function(t,e,n){!function(t){"use strict";t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},b2IO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RealTimeStatus=e.Leg=void 0,e.Leg=class{},e.RealTimeStatus=function(t){return t.EARLY="early",t.LATE="late",t.ON_TIME="on-time",t}(e.RealTimeStatus||{})},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bHkN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocationSearchComponent=void 0;const r=n("kU1M"),i=n("8Y7J"),o=n("qCKp"),a=n("08lQ"),s=n("1z/I"),c=n("erv5"),l=n("yh6M"),u=n("GHDV"),p=n("wBhi"),d=n("8Y7J"),h=n("MbAS"),f=n("7rOj"),m=n("ImOh"),g=n("R/a4"),y=n("SVse"),_=n("j4G9"),v=n("0njA"),b=["autosuggest"];function M(t,e){1&t&&d.\u0275\u0275element(0,"tni-icon",6),2&t&&d.\u0275\u0275property("iconName","track")("iconClasses","xs pull-left mr-5 track-icon")}function x(t,e){if(1&t&&(d.\u0275\u0275template(0,M,1,2,"tni-icon",4),d.\u0275\u0275element(1,"tni-mode-summary",5)),2&t){const t=e.item,n=d.\u0275\u0275nextContext();d.\u0275\u0275property("ngIf",t.isCurrent),d.\u0275\u0275advance(1),d.\u0275\u0275property("location",t)("searchTerm",n.textValue)("highLightText",n.highlightText)}}class w{constructor(t,e,n,a,s){this.locationFinderService=t,this.locationSortPipe=e,this.recentLocationsService=n,this.locationDescriptionPipe=a,this.uniqueLocationsPipe=s,this.locationChange=new i.EventEmitter,this.inputTextChange=new i.EventEmitter,this.formSubmit=new i.EventEmitter,this.mapLinkClick=new i.EventEmitter,this.clearClick=new i.EventEmitter,this.inputBlur=new i.EventEmitter,this.searchRequests$=new o.Subject,this.subscriptions$=new o.Subscription,this.searchLocations=t=>{this.searchRequests$.next(t)},this.searchResults$=this.searchRequests$.asObservable().pipe(r.map(t=>({text:t,currentAndRecentLocs:this.currentAndRecentLocations(t)})),r.mergeMap(({text:t,currentAndRecentLocs:e})=>o.merge(this.getSavedSearches(e),this.searchFn(t,e).pipe(r.debounceTime(100),r.takeUntil(this.searchRequests$)))),r.map(this.transformResponse()))}set isFocus(t){t&&setTimeout(()=>{this.focus()},400)}searchFn(t,e){var n;return t&&t.length>=3||(null===(n=this.searchOptions)||void 0===n?void 0:n.mode)===c.SearchMode.STOPS_FOR_DEPARTURE?this.locationFinderService.search(t,this.getRequest(e,t)).pipe(r.toArray(),r.map(n=>({locations:t&&t.length<3&&!n.length?null:n,currentAndRecentLocs:e}))):o.of({locations:null,currentAndRecentLocs:e})}transformResponse(){return({locations:t,currentAndRecentLocs:e})=>{var n;return this.noHistory?this.handleNoHistory(e,t):(null===(n=this.searchOptions)||void 0===n?void 0:n.mode)===c.SearchMode.STOPS_FOR_DEPARTURE?this.handleSearchModeStopForDeparture(t):t||0!==e.length?this.defaultHandleSearch(e,t):[]}}getSavedSearches(t){var e;return t&&t.length>0&&!this.noHistory&&(null===(e=this.searchOptions)||void 0===e?void 0:e.mode)!==c.SearchMode.STOPS_FOR_DEPARTURE?o.of({locations:null,currentAndRecentLocs:t}):o.of({locations:null,currentAndRecentLocs:[]})}defaultHandleSearch(t,e){return this.uniqueLocationsPipe.transform(t.concat(this.locationSortPipe.transform(e||[]))).filter(t=>!t.equals(this.excludeLocation)).slice(0,6)}handleSearchModeStopForDeparture(t){return t?this.locationSortPipe.transform(t||[]).filter(t=>!t.equals(this.excludeLocation)).slice(0,6):t}handleNoHistory(t,e){var n;let r;if((null===(n=this.searchOptions)||void 0===n?void 0:n.mode)===c.SearchMode.GEOCODE){const n=t||[];r=n?n.concat(e||[]).slice(0,6):e}else{const t=this.uniqueLocationsPipe.transform(this.locationSortPipe.transform(e||[])).filter(t=>!t.equals(this.excludeLocation)).slice(0,6);r=t.length?t:null}return r}currentAndRecentLocations(t){var e;let n=[];this.noHistory||(n=this.recentLocationsService.getLocations()),this.hideCurrentLocation?n=n.filter(t=>!t.isCurrent):n.unshift(a.Location.createCurrentLocation()),(null===(e=this.searchOptions)||void 0===e?void 0:e.stopsOnly)&&(n=n.filter(t=>t.type===c.LocationType.Stop));const r="tniFromTripLocation"===this.id||"tniToTripLocation"===this.id?this._filterRecentLocationsForTripPlanner(n):n;return""!==t?this.locationDescriptionPipe.transform(r,t):r}onInputTextChange(t){this.inputTextChange.emit(t),this.locationChange.emit(null)}focus(){this.autosuggestEl.focus(),this.autosuggestEl.dropdown.open()}onInputBlur(t){this.inputBlur.emit(t)}getRequest(t,e){var n;switch(null===(n=this.searchOptions)||void 0===n?void 0:n.mode){case c.SearchMode.GEOCODE:return new p.GeoCodeRequest(this.searchOptions,e);case c.SearchMode.STOPS_FOR_DEPARTURE:return new u.DepartureStopRequest(this.searchOptions,t);default:return new l.StopFinderRequest(this.searchOptions)}}_filterRecentLocationsForTripPlanner(t){return t.filter(t=>!(null==t?void 0:t.tsnId)||(null==t?void 0:t.tsnId)===t.id)}ngOnDestroy(){this.subscriptions$.unsubscribe()}}e.LocationSearchComponent=w,w.\u0275fac=function(t){return new(t||w)(d.\u0275\u0275directiveInject(h.LocationFinderService),d.\u0275\u0275directiveInject(f.LocationSortPipe),d.\u0275\u0275directiveInject(m.RecentLocationsService),d.\u0275\u0275directiveInject(f.LocationDescriptionPipe),d.\u0275\u0275directiveInject(f.UniqueLocationsPipe))},w.\u0275cmp=d.\u0275\u0275defineComponent({type:w,selectors:[["tni-location-search"]],viewQuery:function(t,e){var n;1&t&&(d.\u0275\u0275viewQuery(b,!0),d.\u0275\u0275viewQuery(s.CdkPortal,!0)),2&t&&(d.\u0275\u0275queryRefresh(n=d.\u0275\u0275loadQuery())&&(e.autosuggestEl=n.first),d.\u0275\u0275queryRefresh(n=d.\u0275\u0275loadQuery())&&(e.cdkPortal=n.first))},inputs:{id:"id",label:"label",location:"location",excludeLocation:"excludeLocation",errorMessage:"errorMessage",placeholder:"placeholder",textValue:"textValue",hideCurrentLocation:"hideCurrentLocation",highlightText:"highlightText",noHistory:"noHistory",searchOptions:"searchOptions",alertBoxMessage:"alertBoxMessage",hideDropdownHeader:"hideDropdownHeader",hideMapLink:"hideMapLink",isFocus:"isFocus"},outputs:{locationChange:"locationChange",inputTextChange:"inputTextChange",formSubmit:"formSubmit",mapLinkClick:"mapLinkClick",clearClick:"clearClick",inputBlur:"inputBlur"},decls:6,vars:16,consts:[[1,"location-search-container"],["displayProperty","fullName",3,"id","required","label","ariaLabel","searchFn","searchResults","selectItem","resultTemplate","errorMessage","placeholder","textValue","alertBoxMessage","hideMapLink","hideDropdownHeader","selectItemChange","inputTextChange","inputBlur","formSubmit","mapLinkClick","clearClick"],["autosuggest",""],["template",""],[3,"iconName","iconClasses",4,"ngIf"],[3,"location","searchTerm","highLightText"],[3,"iconName","iconClasses"]],template:function(t,e){if(1&t&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275elementStart(1,"tni-autosuggest",1,2),d.\u0275\u0275listener("selectItemChange",(function(t){return e.locationChange.emit(t)}))("inputTextChange",(function(t){return e.onInputTextChange(t)}))("inputBlur",(function(t){return e.onInputBlur(t)}))("formSubmit",(function(){return e.formSubmit.emit()}))("mapLinkClick",(function(t){return e.mapLinkClick.emit(t)}))("clearClick",(function(){return e.clearClick.emit()})),d.\u0275\u0275pipe(3,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(4,x,2,4,"ng-template",null,3,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275elementEnd()),2&t){const t=d.\u0275\u0275reference(5);d.\u0275\u0275advance(1),d.\u0275\u0275propertyInterpolate("label",e.label),d.\u0275\u0275propertyInterpolate1("ariaLabel","",e.label," Start typing, then use up and down keys and enter to select from list."),d.\u0275\u0275property("id",e.id)("required",!0)("searchFn",e.searchLocations)("searchResults",d.\u0275\u0275pipeBind1(3,14,e.searchResults$))("selectItem",e.location)("resultTemplate",t)("errorMessage",e.errorMessage)("placeholder",e.placeholder)("textValue",e.textValue)("alertBoxMessage",e.alertBoxMessage)("hideMapLink",e.hideMapLink)("hideDropdownHeader",e.hideDropdownHeader)}},directives:[g.TniAutosuggestComponent,y.NgIf,_.ModeSummaryComponent,v.IconComponent],pipes:[y.AsyncPipe],styles:[".location-search-container[_ngcontent-%COMP%]{position:relative}.location-search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;color:#1d69b4;font-weight:400;padding:7px 15px 15px;z-index:1;height:36px}.location-search-container[_ngcontent-%COMP%]   label.error[_ngcontent-%COMP%]{color:#e4022d}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-input{padding:0 60px!important}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container svg.tp-icon.track-icon{margin:1px 3px 0 0}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .list-group-item-title{font-weight:500}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline{margin:0 0 0 -5px;font-size:.95em;font-weight:400}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container ul.list-group-item-list-inline li:not(:first-child){padding:0}.location-search-container[_ngcontent-%COMP%]     .autosuggest-container .autosuggest-dropdown-container .ngx-text-highlight{font-weight:700}.location-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]{color:#555;line-height:1.1em}.location-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:3px}.location-search-container[_ngcontent-%COMP%]   .location-dropdown-item[_ngcontent-%COMP%]   .item-detail[_ngcontent-%COMP%]   .item-suburb[_ngcontent-%COMP%]{font-size:.95em;font-weight:400}"]})},bNI1:function(t){t.exports=JSON.parse('{"version":"2019b","zones":["Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q|48e5","Africa/Accra|LMT GMT +0020|.Q 0 -k|012121212121212121212121212121212121212121212121|-26BbX.8 6tzX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE|41e5","Africa/Nairobi|LMT EAT +0230 +0245|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ|47e5","Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0|26e5","Africa/Lagos|LMT WAT|-d.A -10|01|-22y0d.A|17e6","Africa/Bissau|LMT -01 GMT|12.k 10 0|012|-2ldX0 2xoo0|39e4","Africa/Maputo|LMT CAT|-2a.k -20|01|-2GJea.k|26e5","Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6","Africa/Casablanca|LMT +00 +01|u.k 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0|32e5","Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1y7o0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|85e3","Africa/El_Aaiun|LMT -01 +00 +01|Q.M 10 0 -10|012323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0|20e4","Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0|84e5","Africa/Juba|LMT CAT CAST EAT|-26.s -20 -30 -30|01212121212121212121212121212121213|-1yW26.s 1zK06.s 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0","Africa/Khartoum|LMT CAT CAST EAT|-2a.8 -20 -30 -30|012121212121212121212121212121212131|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 HjL0|51e5","Africa/Monrovia|MMT MMT GMT|H.8 I.u 0|012|-23Lzg.Q 28G01.m|11e5","Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0|13e5","Africa/Sao_Tome|LMT GMT WAT|A.J 0 -10|0121|-2le00 4i6N0 2q00","Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00|11e5","Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00|20e5","Africa/Windhoek|+0130 SAST SAST CAT WAT|-1u -20 -30 -20 -10|01213434343434343434343434343434343434343434343434343|-2GJdu 1Ajdu 1cL0 1SqL0 9Io0 16P0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|NST NWT NPT BST BDT AHST HST HDT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|AST AWT APT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Port_of_Spain|LMT AST|46.4 40|01|-2kNvR.U|43e3","America/Araguaina|LMT -03 -02|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0|14e4","America/Argentina/Buenos_Aires|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 A4p0 uL0 1qN0 WL0","America/Argentina/Catamarca|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 7B0 8zb0 uL0","America/Argentina/Cordoba|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0 1qN0 WL0","America/Argentina/Jujuy|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 A4p0 uL0","America/Argentina/La_Rioja|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0","America/Argentina/Mendoza|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232312121321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 ri10 Op0 7TX0 uL0","America/Argentina/Rio_Gallegos|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0","America/Argentina/Salta|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0","America/Argentina/San_Juan|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rld0 m10 8lb0 uL0","America/Argentina/San_Luis|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121212321212|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 vDb0 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0","America/Argentina/Tucuman|CMT -04 -03 -02|4g.M 40 30 20|0121212121212121212121212121212121212121212323232313232123232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 4N0 8BX0 uL0 1qN0 WL0","America/Argentina/Ushuaia|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rkN0 8p0 8zb0 uL0","America/Curacao|LMT -0430 AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d|15e4","America/Asuncion|AMT -04 -03|3O.E 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5","America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0|28e2","America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3","America/Bahia|LMT -03 -02|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0|27e5","America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0|28e4","America/Belem|LMT -03 -02|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|20e5","America/Belize|LMT CST -0530 CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0|57e3","America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0|11e2","America/Boa_Vista|LMT -04 -03|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0|62e2","America/Bogota|BMT -05 -04|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0|90e5","America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e4","America/Cambridge_Bay|-00 MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e2","America/Campo_Grande|LMT -04 -03|3C.s 40 30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|77e4","America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141412|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|CMT -0430 -04|4r.E 4u 40|01212|-2kV7w.k 28KM2.k 1IwOu kqo0|29e5","America/Cayenne|LMT -04 -03|3t.k 40 30|012|-2mrwu.E 2gWou.E|58e3","America/Panama|CMT EST|5j.A 50|01|-2uduE.o|15e5","America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4","America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0|12e5","America/Creston|MST PST|70 80|010|-29DR0 43B0|53e2","America/Cuiaba|LMT -04 -03|3I.k 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|54e4","America/Danmarkshavn|LMT -03 -02 GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0|8","America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0|12e3","America/Dawson|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|13e2","America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|012342525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 XQp0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e5","America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|01212121212121341212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 LFB0 1cL0 3Cp0 1cL0 66N0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|10e5","America/Eirunepe|LMT -05 -04|4D.s 50 40|0121212121212121212121212121212121|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0|31e3","America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0|11e5","America/Tijuana|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOO0 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|20e5","America/Fort_Nelson|PST PDT PWT PPT MST|80 70 70 70 70|01023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010104|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Fortaleza|LMT -03 -02|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0|34e5","America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","America/Godthab|LMT -03 -02|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3","America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2","America/Grand_Turk|KMT EST EDT AST|57.a 50 40 40|01212121212121212121212121212121212121212121212121212121212121212121212121232121212121212121212121212121212121212121|-2l1uQ.O 2HHBQ.O 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0|13e5","America/Guayaquil|QMT -05 -04|5e 50 40|0121|-1yVSK 2uILK rz0|27e5","America/Guyana|LMT -0345 -03 -04|3Q.E 3J 30 40|0123|-2dvU7.k 2r6LQ.k Bxbf|80e4","America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0|64e4","America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Inuvik|-00 PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|35e2","America/Iqaluit|-00 EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|67e2","America/Jamaica|KMT EST EDT|57.a 50 40|0121212121212121212121|-2l1uQ.O 2uM1Q.O 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0|94e4","America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|33e3","America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 Bb0 10N0 2bB0 8in0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/La_Paz|CMT BST -04|4w.A 3w.A 40|012|-1x37r.o 13b0|19e5","America/Lima|LMT -05 -04|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0|11e6","America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp1 1VaX 3dA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/Maceio|LMT -03 -02|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0|93e4","America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0|22e5","America/Manaus|LMT -04 -03|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0|19e5","America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0|39e4","America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|45e4","America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|44e4","America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|85e2","America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|11e5","America/Metlakatla|PST PWT PPT PDT AKST AKDT|80 70 70 70 90 80|01203030303030303030303030303030304545450454545454545454545454545454545454545454|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1hU10 Rd0 1zb0 Op0 1zb0 Op0 1zb0 uM0 jB0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6","America/Miquelon|LMT AST -03 -02|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|64e3","America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|41e5","America/Montevideo|LMT MMT -04 -03 -0330 -0230 -02 -0130|3I.P 3I.P 40 30 3u 2u 20 1u|012343434343434343434343435353636353636375363636363636363636363636363636363636363636363|-2tRUf.9 sVc0 8jcf.9 1db0 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1fAu 1cLu 1o0u 11zu NAu 3jXu zXu Dq0u 19Xu pcu jz0 cm10 19X0 6tB0 1fbu 3o0u jX0 4vB0 xz0 3Cp0 mmu 1a10 IMu Db0 4c10 uL0 1Nd0 An0 1SN0 uL0 mp0 28L0 iPB0 un0 1SN0 xz0 1zd0 Lz0 1zd0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5","America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|24e4","America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|16e2","America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|38e2","America/Noronha|LMT -02 -01|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|30e2","America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Pangnirtung|-00 AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Paramaribo|LMT PMT PMT -0330 -03|3E.E 3E.Q 3E.A 3u 30|01234|-2nDUj.k Wqo0.c qanX.I 1yVXN.o|24e4","America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0|42e5","America/Port-au-Prince|PPMT EST EDT|4N 50 40|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Rio_Branco|LMT -05 -04|4v.c 50 40|01212121212121212121212121212121|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0|31e4","America/Porto_Velho|LMT -04 -03|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|37e4","America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0|24e5","America/Punta_Arenas|SMT -05 -04 -03|4G.K 50 40 30|0102021212121212121232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 blz0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0","America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|842","America/Rankin_Inlet|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e2","America/Recife|LMT -03 -02|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|33e5","America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0|19e4","America/Resolute|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|229","America/Santarem|LMT -04 -03|3C.M 40 30|0121212121212121212121212121212|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0|21e4","America/Santiago|SMT -05 -04 -03|4G.K 50 40 30|010202121212121212321232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9Bz0 jb0 1oN0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0|62e5","America/Santo_Domingo|SDMT EST EDT -0430 AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00|29e5","America/Sao_Paulo|LMT -03 -02|36.s 30 20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|20e6","America/Scoresbysund|LMT -02 -01 +00|1r.Q 20 10 0|0121323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452","America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|90e2","America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0|16e3","America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0|11e5","America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|656","America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Whitehorse|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 3NA0 vrd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|66e4","America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|642","America/Yellowknife|-00 MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","Antarctica/Casey|-00 +08 +11|0 -80 -b0|01212121|-2q00 1DjS0 T90 40P0 KL0 blz0 3m10|10","Antarctica/Davis|-00 +07 +05|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0|70","Antarctica/DumontDUrville|-00 +10|0 -a0|0101|-U0o0 cfq0 bFm0|80","Antarctica/Macquarie|AEST AEDT -00 +11|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0|1","Antarctica/Mawson|-00 +06 +05|0 -60 -50|012|-CEo0 2fyk0|60","Pacific/Auckland|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5","Antarctica/Palmer|-00 -03 -04 -02|0 30 40 20|0121212121213121212121212121212121212121212121212121212121212121212121212121212121|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","Antarctica/Rothera|-00 -03|0 30|01|gOo0|130","Antarctica/Syowa|-00 +03|0 -30|01|-vs00|20","Antarctica/Troll|-00 +00 +02|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40","Antarctica/Vostok|-00 +06|0 -60|01|-tjA0|25","Europe/Oslo|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e4","Asia/Riyadh|LMT +03|-36.Q -30|01|-TvD6.Q|57e5","Asia/Almaty|LMT +05 +06 +07|-57.M -50 -60 -70|012323232323232323232321232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|15e5","Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e5","Asia/Anadyr|LMT +12 +13 +14 +11|-bN.U -c0 -d0 -e0 -b0|01232121212121212121214121212121212121212121212121212121212141|-1PcbN.U eUnN.U 23CL0 1db0 2q10 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|13e3","Asia/Aqtau|LMT +04 +05 +06|-3l.4 -40 -50 -60|012323232323232323232123232312121212121212121212|-1Pc3l.4 eUnl.4 24PX0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|15e4","Asia/Aqtobe|LMT +04 +05 +06|-3M.E -40 -50 -60|0123232323232323232321232323232323232323232323232|-1Pc3M.E eUnM.E 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|27e4","Asia/Ashgabat|LMT +04 +05 +06|-3R.w -40 -50 -60|0123232323232323232323212|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0|41e4","Asia/Atyrau|LMT +03 +05 +06 +04|-3r.I -30 -50 -60 -40|01232323232323232323242323232323232324242424242|-1Pc3r.I eUor.I 24PW0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 2sp0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0","Asia/Baghdad|BMT +03 +04|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0|66e5","Asia/Qatar|LMT +04 +03|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8|96e4","Asia/Baku|LMT +03 +04 +05|-3j.o -30 -40 -50|01232323232323232323232123232323232323232323232323232323232323232|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 9Je0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|BMT +07|-6G.4 -70|01|-218SG.4|15e6","Asia/Barnaul|LMT +06 +07 +08|-5z -60 -70 -80|0123232323232323232323212323232321212121212121212121212121212121212|-21S5z pCnz 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 p90 LE0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5","Asia/Bishkek|LMT +05 +06 +07|-4W.o -50 -60 -70|012323232323232323232321212121212121212121212121212|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2e00 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|87e4","Asia/Brunei|LMT +0730 +08|-7D.E -7u -80|012|-1KITD.E gDc9.E|42e4","Asia/Kolkata|MMT IST +0630|-5l.a -5u -6u|012121|-2zOtl.a 1r2LP.a 1un0 HB0 7zX0|15e6","Asia/Chita|LMT +08 +09 +10|-7x.Q -80 -90 -a0|012323232323232323232321232323232323232323232323232323232323232312|-21Q7x.Q pAnx.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3re0|33e4","Asia/Choibalsan|LMT +07 +08 +10 +09|-7C -70 -80 -a0 -90|0123434343434343434343434343434343434343434343424242|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0 h1f0 1cJ0 1cP0 1cJ0|38e3","Asia/Shanghai|CST CDT|-80 -90|010101010101010101010101010|-1c2w0 Rz0 11d0 1wL0 A10 8HX0 1G10 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 aL0 1tU30 Rb0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6","Asia/Colombo|MMT +0530 +06 +0630|-5j.w -5u -60 -6u|01231321|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu|22e5","Asia/Dhaka|HMT +0630 +0530 +06 +07|-5R.k -6u -5u -60 -70|0121343|-18LFR.k 1unn.k HB0 m6n0 2kxbu 1i00|16e6","Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|26e5","Asia/Dili|LMT +08 +09|-8m.k -80 -90|01212|-2le8m.k 1dnXm.k 1nfA0 Xld0|19e4","Asia/Dubai|LMT +04|-3F.c -40|01|-21JfF.c|39e5","Asia/Dushanbe|LMT +05 +06 +07|-4z.c -50 -60 -70|012323232323232323232321|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2hB0|76e4","Asia/Famagusta|LMT EET EEST +03|-2f.M -20 -30 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212312121212121212121212121212121212121212121|-1Vc2f.M 2a3cf.M 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Gaza|EET EEST IST IDT|-20 -30 -20 -30|0101010101010101010101010101010123232323232323232323232323232320101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 bXd0 gM0 8Q00 IM0 1wM0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0|18e5","Asia/Hebron|EET EEST IST IDT|-20 -30 -20 -30|010101010101010101010101010101012323232323232323232323232323232010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 bXd0 gM0 8Q00 IM0 1wM0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0|25e4","Asia/Ho_Chi_Minh|LMT PLMT +07 +08 +09|-76.E -76.u -70 -80 -90|0123423232|-2yC76.E bK00.a 1h7b6.u 5lz0 18o0 3Oq0 k5b0 aW00 BAM0|90e5","Asia/Hong_Kong|LMT HKT HKST HKT JST|-7A.G -80 -90 -8u -90|0123412121212121212121212121212121212121212121212121212121212121212121|-2CFH0 1taO0 Hc0 xUu 9tBu 11z0 1tDu Rc0 1wo0 11A0 1cM0 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|73e5","Asia/Hovd|LMT +06 +07 +08|-66.A -60 -70 -80|012323232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|IMT +07 +08 +09|-6V.5 -70 -80 -90|01232323232323232323232123232323232323232323232323232323232323232|-21zGV.5 pjXV.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Europe/Istanbul|IMT EET EEST +04 +03|-1U.U -20 -30 -40 -30|012121212121212121212121212121212121212121212121212121234343434342121212121212121212121212121212121212121212121212121212121212124|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSp0 CL0 mN0 1Vz0 1gN0 1pz0 5Rd0 1fz0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1jB0 18L0 1ip0 17z0 qdd0 xX0 3S10 Tz0 dA10 11z0 1o10 11z0 1qN0 11z0 1ze0 11B0 WM0 1qO0 WI0 1nX0 1rB0 10L0 11B0 1in0 17d0 1in0 2pX0 19E0 1fU0 16Q0 1iI0 16Q0 1iI0 1Vd0 pb0 3Kp0 14o0 1de0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1a00 1fA0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|BMT +0720 +0730 +09 +08 WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu|31e6","Asia/Jayapura|LMT +09 +0930 WIT|-9m.M -90 -9u -90|0123|-1uu9m.M sMMm.M L4nu|26e4","Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|012121212121321212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 bXd0 gM0 8Q00 IM0 1wM0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4","Asia/Kabul|+04 +0430|-40 -4u|01|-10Qs0|46e5","Asia/Kamchatka|LMT +11 +12 +13|-ay.A -b0 -c0 -d0|012323232323232323232321232323232323232323232323232323232323212|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|18e4","Asia/Karachi|LMT +0530 +0630 +05 PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy00 1cL0 dK10 11b0 1610 1jX0|24e6","Asia/Urumqi|LMT +06|-5O.k -60|01|-1GgtO.k|32e5","Asia/Kathmandu|LMT +0530 +0545|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g|12e5","Asia/Khandyga|LMT +08 +09 +10 +11|-92.d -80 -90 -a0 -b0|0123232323232323232323212323232323232323232323232343434343434343432|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|66e2","Asia/Krasnoyarsk|LMT +06 +07 +08|-6b.q -60 -70 -80|01232323232323232323232123232323232323232323232323232323232323232|-21Hib.q prAb.q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Asia/Kuala_Lumpur|SMT +07 +0720 +0730 +09 +08|-6T.p -70 -7k -7u -90 -80|0123435|-2Bg6T.p 17anT.p l5XE 17bO 8Fyu 1so1u|71e5","Asia/Kuching|LMT +0730 +08 +0820 +09|-7l.k -7u -80 -8k -90|0123232323232323242|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0|13e4","Asia/Macau|LMT CST +09 +10 CDT|-7y.a -80 -90 -a0 -90|012323214141414141414141414141414141414141414141414141414141414141414141|-2CFHy.a 1uqKy.a PX0 1kn0 15B0 11b0 4Qq0 1oM0 11c0 1ko0 1u00 11A0 1cM0 11c0 1o00 11A0 1o00 11A0 1oo0 1400 1o00 11A0 1o00 U00 1tA0 U00 1wo0 Rc0 1wru U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cK0 1cO0 1cK0 1cO0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|57e4","Asia/Magadan|LMT +10 +11 +12|-a3.c -a0 -b0 -c0|012323232323232323232321232323232323232323232323232323232323232312|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Cq0|95e3","Asia/Makassar|LMT MMT +08 +09 WITA|-7V.A -7V.A -80 -90 -80|01234|-21JjV.A vfc0 myLV.A 8ML0|15e5","Asia/Manila|PST PDT JST|-80 -90 -90|010201010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0|24e6","Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|32e4","Asia/Novokuznetsk|LMT +06 +07 +08|-5M.M -60 -70 -80|012323232323232323232321232323232323232323232323232323232323212|-1PctM.M eULM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|55e4","Asia/Novosibirsk|LMT +06 +07 +08|-5v.E -60 -70 -80|0123232323232323232323212323212121212121212121212121212121212121212|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 4eN0|15e5","Asia/Omsk|LMT +05 +06 +07|-4R.u -50 -60 -70|01232323232323232323232123232323232323232323232323232323232323232|-224sR.u pMLR.u 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|12e5","Asia/Oral|LMT +03 +05 +06 +04|-3p.o -30 -50 -60 -40|01232323232323232424242424242424242424242424242|-1Pc3p.o eUop.o 23CK0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 1cM0 IM0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|27e4","Asia/Pontianak|LMT PMT +0730 +09 +08 WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu|23e4","Asia/Pyongyang|LMT KST JST KST|-8n -8u -90 -90|012313|-2um8n 97XR 1lTzu 2Onc0 6BA0|29e5","Asia/Qostanay|LMT +04 +05 +06|-4e.s -40 -50 -60|012323232323232323232123232323232323232323232323|-1Pc4e.s eUoe.s 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0","Asia/Qyzylorda|LMT +04 +05 +06|-4l.Q -40 -50 -60|01232323232323232323232323232323232323232323232|-1Pc4l.Q eUol.Q 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3ao0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 zQl0|73e4","Asia/Rangoon|RMT +0630 +09|-6o.L -6u -90|0121|-21Jio.L SmnS.L 7j9u|48e5","Asia/Sakhalin|LMT +09 +11 +12 +10|-9u.M -90 -b0 -c0 -a0|01232323232323232323232423232323232424242424242424242424242424242|-2AGVu.M 1BoMu.M 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 2pB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|58e4","Asia/Samarkand|LMT +04 +05 +06|-4r.R -40 -50 -60|01232323232323232323232|-1Pc4r.R eUor.R 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|36e4","Asia/Seoul|LMT KST JST KST KDT KDT|-8r.Q -8u -90 -90 -9u -a0|0123141414141414135353|-2um8r.Q 97XV.Q 1m1zu kKo0 2I0u OL0 1FB0 Rb0 1qN0 TX0 1tB0 TX0 1tB0 TX0 1tB0 TX0 2ap0 12FBu 11A0 1o00 11A0|23e6","Asia/Srednekolymsk|LMT +10 +11 +12|-ae.Q -a0 -b0 -c0|01232323232323232323232123232323232323232323232323232323232323232|-1Pcae.Q eUoe.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|35e2","Asia/Taipei|CST JST CDT|-80 -90 -90|01020202020202020202020202020202020202020|-1iw80 joM0 1yo0 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97B0 AL0|74e5","Asia/Tashkent|LMT +05 +06 +07|-4B.b -50 -60 -70|012323232323232323232321|-1Pc4B.b eUnB.b 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0|23e5","Asia/Tbilisi|TBMT +03 +04 +05|-2X.b -30 -40 -50|0123232323232323232323212121232323232323232323212|-1Pc2X.b 1jUnX.b WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cK0 1cL0 1cN0 1cL0 1cN0 2pz0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0|11e5","Asia/Tehran|LMT TMT +0330 +04 +05 +0430|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6","Asia/Thimphu|LMT +0530 +06|-5W.A -5u -60|012|-Su5W.A 1BGMs.A|79e3","Asia/Tokyo|JST JDT|-90 -a0|010101010|-QJJ0 Rb0 1ld0 14n0 1zd0 On0 1zd0 On0|38e6","Asia/Tomsk|LMT +06 +07 +08|-5D.P -60 -70 -80|0123232323232323232323212323232323232323232323212121212121212121212|-21NhD.P pxzD.P 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 co0 1bB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Qp0|10e5","Asia/Ulaanbaatar|LMT +07 +08 +09|-77.w -70 -80 -90|012323232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|12e5","Asia/Ust-Nera|LMT +08 +09 +12 +11 +10|-9w.S -80 -90 -c0 -b0 -a0|012343434343434343434345434343434343434343434343434343434343434345|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|65e2","Asia/Vladivostok|LMT +09 +10 +11|-8L.v -90 -a0 -b0|01232323232323232323232123232323232323232323232323232323232323232|-1SJIL.v itXL.v 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Asia/Yakutsk|LMT +08 +09 +10|-8C.W -80 -90 -a0|01232323232323232323232123232323232323232323232323232323232323232|-21Q8C.W pAoC.W 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|28e4","Asia/Yekaterinburg|LMT PMT +04 +05 +06|-42.x -3J.5 -40 -50 -60|012343434343434343434343234343434343434343434343434343434343434343|-2ag42.x 7mQh.s qBvJ.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|14e5","Asia/Yerevan|LMT +03 +04 +05|-2W -30 -40 -50|0123232323232323232323212121212323232323232323232323232323232|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 4RX0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|13e5","Atlantic/Azores|HMT -02 -01 +00 WET|1S.w 20 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121232323232323232323232323232323234323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2ldW0 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4","Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e3","Atlantic/Canary|LMT -01 WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Atlantic/Cape_Verde|LMT -02 -01|1y.4 20 10|01212|-2ldW0 1eEo0 7zX0 1djf0|50e4","Atlantic/Faroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|49e3","Atlantic/Madeira|FMT -01 +00 +01 WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldX0 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e4","Atlantic/Reykjavik|LMT -01 +00 GMT|1s 10 0 0|012121212121212121212121212121212121212121212121212121212121212121213|-2uWmw mfaw 1Bd0 ML0 1LB0 Cn0 1LB0 3fX0 C10 HrX0 1cO0 LB0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0|12e4","Atlantic/South_Georgia|-02|20|0||30","Atlantic/Stanley|SMT -04 -03 -02|3P.o 40 30 20|012121212121212323212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 2mN0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10|21e2","Australia/Sydney|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST AEDT|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0|20e5","Australia/Broken_Hill|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|18e3","Australia/Currie|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|746","Australia/Darwin|ACST ACDT|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0|12e4","Australia/Eucla|+0845 +0945|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|368","Australia/Hobart|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|21e4","Australia/Lord_Howe|AEST +1030 +1130 +11|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347","Australia/Lindeman|AEST AEDT|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0|10","Australia/Melbourne|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|39e5","Australia/Perth|AWST AWDT|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|18e5","CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Pacific/Easter|EMT -07 -06 -05|7h.s 70 60 50|012121212121212121212121212123232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1uSgG.w 1s4IG.w WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 2pA0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0|30e2","CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Dublin|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g600 14o0 1wo0 17c0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","EST|EST|50|0|","EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Etc/GMT-0|GMT|0|0|","Etc/GMT-1|+01|-10|0|","Pacific/Port_Moresby|+10|-a0|0||25e4","Etc/GMT-11|+11|-b0|0|","Pacific/Tarawa|+12|-c0|0||29e3","Etc/GMT-13|+13|-d0|0|","Etc/GMT-14|+14|-e0|0|","Etc/GMT-2|+02|-20|0|","Etc/GMT-3|+03|-30|0|","Etc/GMT-4|+04|-40|0|","Etc/GMT-5|+05|-50|0|","Etc/GMT-6|+06|-60|0|","Indian/Christmas|+07|-70|0||21e2","Etc/GMT-8|+08|-80|0|","Pacific/Palau|+09|-90|0||21e3","Etc/GMT+1|-01|10|0|","Etc/GMT+10|-10|a0|0|","Etc/GMT+11|-11|b0|0|","Etc/GMT+12|-12|c0|0|","Etc/GMT+3|-03|30|0|","Etc/GMT+4|-04|40|0|","Etc/GMT+5|-05|50|0|","Etc/GMT+6|-06|60|0|","Etc/GMT+7|-07|70|0|","Etc/GMT+8|-08|80|0|","Etc/GMT+9|-09|90|0|","Etc/UTC|UTC|0|0|","Europe/Amsterdam|AMT NST +0120 +0020 CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|16e5","Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|79e3","Europe/Astrakhan|LMT +03 +04 +05|-3c.c -30 -40 -50|012323232323232323212121212121212121212121212121212121212121212|-1Pcrc.c eUMc.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|10e5","Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5","Europe/London|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6","Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e5","Europe/Prague|CET CEST GMT|-10 -20 0|01010101010101010201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 1qM0 11c0 mp0 xA0 mn0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|13e5","Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|21e5","Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|19e5","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zurich|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e4","Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|012323232323232323234545467676767676767676767323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 gL0 WO0 1cM0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11D0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4","Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|30e3","Europe/Helsinki|HMT EET EEST|-1D.N -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.N OULD.N 1dA0 1xGq0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Kaliningrad|CET CEST CET CEST MSK MSD EEST EET +03|-10 -20 -20 -30 -30 -40 -30 -20 -30|0101010101010232454545454545454546767676767676767676767676767676767676767676787|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 Am0 Lb0 1en0 op0 1pNz0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|44e4","Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|34e5","Europe/Kirov|LMT +03 +04 +05|-3i.M -30 -40 -50|01232323232323232321212121212121212121212121212121212121212121|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|48e4","Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.J 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2le00 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5","Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|010101010101010101210343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-25Td0 19B0 1cL0 1dd0 b1z0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1in0 17d0 iIn0 Hd0 1cL0 bb0 1200 2s20 14n0 5aL0 Mp0 1vz0 17d0 1in0 17d0 1in0 17d0 1in0 17d0 6hX0 11B0 XHX0 1a10 1fz0 1a10 19X0 1cN0 1fz0 1a10 1fC0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e5","Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1co0 17c0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1co0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Minsk|MMT EET MSK CEST CET MSD EEST +03|-1O -20 -30 -20 -10 -40 -30 -30|01234343252525252525252525261616161616161616161616161616161616161617|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0|19e5","Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e3","Europe/Moscow|MMT MMT MST MDST MSD MSK +05 EET EEST MSK|-2u.h -2v.j -3v.j -4v.j -40 -30 -50 -20 -30 -40|012132345464575454545454545454545458754545454545454545454545454545454545454595|-2ag2u.h 2pyW.W 1bA0 11X0 GN0 1Hb0 c4v.j ik0 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|16e6","Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6","Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.y -2A.y -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.y 11A0 1iM0 ko0 gWm0 yDXA.y 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|64e4","Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1cM0 16M0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1C00 LA0 1zc0 Oo0 1C00 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|39e5","Europe/Samara|LMT +03 +04 +05|-3k.k -30 -40 -50|0123232323232323232121232323232323232323232323232323232323212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2y10 14m0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|12e5","Europe/Saratov|LMT +03 +04 +05|-34.i -30 -40 -50|012323232323232321212121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 5810","Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|012343432525252525252525252161616525252616161616161616161616161616161616172|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4","Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|15e5","Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e4","Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Ulyanovsk|LMT +03 +04 +05 +02|-3d.A -30 -40 -50 -20|01232323232323232321214121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|13e5","Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e4","Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1a00 1cM0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|18e5","Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646473737373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Volgograd|LMT +03 +04 +05|-2V.E -30 -40 -50|012323232323232321212121212121212121212121212121212121212121212|-21IqV.E psLV.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 9Jd0|10e5","Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zaporozhye|+0220 EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|77e4","HST|HST|a0|0|","Indian/Chagos|LMT +05 +06|-4N.E -50 -60|012|-2xosN.E 3AGLN.E|30e2","Indian/Cocos|+0630|-6u|0||596","Indian/Kerguelen|-00 +05|0 -50|01|-MG00|130","Indian/Mahe|LMT +04|-3F.M -40|01|-2yO3F.M|79e3","Indian/Maldives|MMT +05|-4S -50|01|-olgS|35e4","Indian/Mauritius|LMT +04 +05|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0|15e4","Indian/Reunion|LMT +04|-3F.Q -40|01|-2mDDF.Q|84e4","Pacific/Kwajalein|+11 +10 +09 -12 +12|-b0 -a0 -90 c0 -c0|012034|-1kln0 akp0 6Up0 12ry0 Wan0|14e3","MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","MST|MST|70|0|","MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Pacific/Chatham|+1215 +1245 +1345|-cf -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-WqAf 1adef IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|LMT -1130 -11 -10 +14 +13|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +09 +11|-a0 -90 -b0|0102|-16Wy0 7CN0 2MQp0|18e4","Pacific/Chuuk|+10 +09|-a0 -90|01010|-2ewy0 axB0 RVX0 axd0|49e3","Pacific/Efate|LMT +11 +12|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0|66e3","Pacific/Enderbury|-12 -11 +13|c0 b0 -d0|012|nIc0 B7X0|1","Pacific/Fakaofo|-11 +13|b0 -d0|01|1Gfn0|483","Pacific/Fiji|LMT +12 +13|-bT.I -c0 -d0|0121212121212121212121212121212121212121212121212121212121212121|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0|88e4","Pacific/Galapagos|LMT -05 -06|5W.o 50 60|01212|-1yVS1.A 2dTz1.A gNd0 rz0|25e3","Pacific/Gambier|LMT -09|8X.M 90|01|-2jof0.c|125","Pacific/Guadalcanal|LMT +11|-aD.M -b0|01|-2joyD.M|11e4","Pacific/Guam|GST +09 GDT ChST|-a0 -90 -b0 -a0|01020202020202020203|-18jK0 6pB0 AhB0 3QL0 g2p0 3p91 WOX rX0 1zd0 Rb0 1wp0 Rb0 5xd0 rX0 5sN0 zb1 1C0X On0 ULb0|17e4","Pacific/Honolulu|HST HDT HWT HPT HST|au 9u 9u 9u a0|0102304|-1thLu 8x0 lef0 8wWu iAu 46p0|37e4","Pacific/Kiritimati|-1040 -10 +14|aE a0 -e0|012|nIaE B7Xk|51e2","Pacific/Kosrae|+11 +09 +10 +12|-b0 -90 -a0 -c0|01021030|-2ewz0 axC0 HBy0 akp0 axd0 WOK0 1bdz0|66e2","Pacific/Majuro|+11 +09 +10 +12|-b0 -90 -a0 -c0|0102103|-2ewz0 axC0 HBy0 akp0 6RB0 12um0|28e3","Pacific/Marquesas|LMT -0930|9i 9u|01|-2joeG|86e2","Pacific/Pago_Pago|LMT SST|bm.M b0|01|-2nDMB.c|37e2","Pacific/Nauru|LMT +1130 +09 +12|-b7.E -bu -90 -c0|01213|-1Xdn7.E QCnB.E 7mqu 1lnbu|10e3","Pacific/Niue|-1120 -1130 -11|bk bu b0|012|-KfME 17y0a|12e2","Pacific/Norfolk|+1112 +1130 +1230 +11|-bc -bu -cu -b0|01213|-Kgbc W01G On0 1COp0|25e4","Pacific/Noumea|LMT +11 +12|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0|98e3","Pacific/Pitcairn|-0830 -08|8u 80|01|18Vku|56","Pacific/Pohnpei|+11 +09 +10|-b0 -90 -a0|010210|-2ewz0 axC0 HBy0 akp0 axd0|34e3","Pacific/Rarotonga|-1030 -0930 -10|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu|13e3","Pacific/Tahiti|LMT -10|9W.g a0|01|-2joe1.I|18e4","Pacific/Tongatapu|+1220 +13 +14|-ck -d0 -e0|0121212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0 zWN0 s00|75e3","PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"],"links":["Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|Atlantic/St_Helena","Africa/Cairo|Egypt","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|US/Alaska","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Catamarca|America/Argentina/ComodRivadavia","America/Argentina/Catamarca|America/Catamarca","America/Argentina/Cordoba|America/Cordoba","America/Argentina/Cordoba|America/Rosario","America/Argentina/Jujuy|America/Jujuy","America/Argentina/Mendoza|America/Mendoza","America/Atikokan|America/Coral_Harbour","America/Chicago|US/Central","America/Curacao|America/Aruba","America/Curacao|America/Kralendijk","America/Curacao|America/Lower_Princes","America/Denver|America/Shiprock","America/Denver|Navajo","America/Denver|US/Mountain","America/Detroit|US/Michigan","America/Edmonton|Canada/Mountain","America/Fort_Wayne|America/Indiana/Indianapolis","America/Fort_Wayne|America/Indianapolis","America/Fort_Wayne|US/East-Indiana","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/Indiana/Knox|America/Knox_IN","America/Indiana/Knox|US/Indiana-Starke","America/Jamaica|Jamaica","America/Kentucky/Louisville|America/Louisville","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Manaus|Brazil/West","America/Mazatlan|Mexico/BajaSur","America/Mexico_City|Mexico/General","America/New_York|US/Eastern","America/Noronha|Brazil/DeNoronha","America/Panama|America/Cayman","America/Phoenix|US/Arizona","America/Port_of_Spain|America/Anguilla","America/Port_of_Spain|America/Antigua","America/Port_of_Spain|America/Dominica","America/Port_of_Spain|America/Grenada","America/Port_of_Spain|America/Guadeloupe","America/Port_of_Spain|America/Marigot","America/Port_of_Spain|America/Montserrat","America/Port_of_Spain|America/St_Barthelemy","America/Port_of_Spain|America/St_Kitts","America/Port_of_Spain|America/St_Lucia","America/Port_of_Spain|America/St_Thomas","America/Port_of_Spain|America/St_Vincent","America/Port_of_Spain|America/Tortola","America/Port_of_Spain|America/Virgin","America/Regina|Canada/Saskatchewan","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","America/Tijuana|America/Ensenada","America/Tijuana|America/Santa_Isabel","America/Tijuana|Mexico/BajaNorte","America/Toronto|America/Montreal","America/Toronto|Canada/Eastern","America/Vancouver|Canada/Pacific","America/Whitehorse|Canada/Yukon","America/Winnipeg|Canada/Central","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Vientiane","Asia/Dhaka|Asia/Dacca","Asia/Dubai|Asia/Muscat","Asia/Ho_Chi_Minh|Asia/Saigon","Asia/Hong_Kong|Hongkong","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Singapore","Asia/Kuala_Lumpur|Singapore","Asia/Macau|Asia/Macao","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|Europe/Nicosia","Asia/Qatar|Asia/Bahrain","Asia/Rangoon|Asia/Yangon","Asia/Riyadh|Asia/Aden","Asia/Riyadh|Asia/Kuwait","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|PRC","Asia/Taipei|ROC","Asia/Tehran|Iran","Asia/Thimphu|Asia/Thimbu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Urumqi|Asia/Kashgar","Atlantic/Faroe|Atlantic/Faeroe","Atlantic/Reykjavik|Iceland","Atlantic/South_Georgia|Etc/GMT+2","Australia/Adelaide|Australia/South","Australia/Brisbane|Australia/Queensland","Australia/Broken_Hill|Australia/Yancowinna","Australia/Darwin|Australia/North","Australia/Hobart|Australia/Tasmania","Australia/Lord_Howe|Australia/LHI","Australia/Melbourne|Australia/Victoria","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/NSW","Etc/GMT-0|Etc/GMT","Etc/GMT-0|Etc/GMT+0","Etc/GMT-0|Etc/GMT0","Etc/GMT-0|Etc/Greenwich","Etc/GMT-0|GMT","Etc/GMT-0|GMT+0","Etc/GMT-0|GMT-0","Etc/GMT-0|GMT0","Etc/GMT-0|Greenwich","Etc/UTC|Etc/UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UCT","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belgrade|Europe/Ljubljana","Europe/Belgrade|Europe/Podgorica","Europe/Belgrade|Europe/Sarajevo","Europe/Belgrade|Europe/Skopje","Europe/Belgrade|Europe/Zagreb","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Helsinki|Europe/Mariehamn","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Portugal","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Oslo|Arctic/Longyearbyen","Europe/Oslo|Atlantic/Jan_Mayen","Europe/Prague|Europe/Bratislava","Europe/Rome|Europe/San_Marino","Europe/Rome|Europe/Vatican","Europe/Warsaw|Poland","Europe/Zurich|Europe/Busingen","Europe/Zurich|Europe/Vaduz","Indian/Christmas|Etc/GMT-7","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Easter|Chile/EasterIsland","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kwajalein|Kwajalein","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Palau|Etc/GMT-9","Pacific/Pohnpei|Pacific/Ponape","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Tarawa|Etc/GMT-12","Pacific/Tarawa|Pacific/Funafuti","Pacific/Tarawa|Pacific/Wake","Pacific/Tarawa|Pacific/Wallis"]}')},bOMt:function(t,e,n){!function(t){"use strict";t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},"bPm+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripPreference=void 0,e.TripPreference=function(t){return t[t.fastest=0]="fastest",t[t.fewestChanges=1]="fewestChanges",t[t.leastWalking=2]="leastWalking",t}(e.TripPreference||{})},bVZy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectedDepartureStoreService=void 0;const r=n("xeYu"),i=n("8Y7J"),o=n("tqRt");class a{constructor(t){this.store=t,this.expandedDeparture$=this.store.select(r.getExpandedDeparture)}}e.SelectedDepartureStoreService=a,a.\u0275fac=function(t){return new(t||a)(i.\u0275\u0275inject(o.Store))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})},bXm7:function(t,e,n){!function(t){"use strict";var e={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};t.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},bYM6:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(n("wd/R"))},bbBN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapReducer=e.initialState=e.mapFeatureKey=void 0;const r=n("RNDk");e.mapFeatureKey="map",e.initialState={trip:null,departure:null,mapLeg:null,mapOptions:null,coords:null,layers:[],displayMapOptions:!1,filters:null,vehiclePosition:null,exploreLocation:null,mapSource:null,useDefaultMapOptions:!0,reloadOpalLocation:!1},e.mapReducer=function(t=e.initialState,n){switch(n.type){case r.MapActionTypes.MAP_CENTER:return Object.assign(Object.assign({},t),{center:n.payload.center});case r.MapActionTypes.SHOW_LAYER_ON_MAP:return Object.assign(Object.assign({},t),{layers:n.payload.layers});case r.MapActionTypes.MAP_OPTIONS:return Object.assign({},Object.assign(Object.assign({},t),{mapOptions:n.payload.mapOptions}));case r.MapActionTypes.USE_DEFAUTL_MAP_OPTIONS:return Object.assign({},Object.assign(Object.assign({},t),{useDefaultMapOptions:n.payload.useDefaultMapOptions}));case r.MapActionTypes.MAP_TRIP:return Object.assign({},Object.assign(Object.assign({},t),{trip:n.payload.trip,tripLeg:null}));case r.MapActionTypes.MAP_TRIP_LEG:return Object.assign(Object.assign({},t),{mapLeg:n.payload.mapLeg,mapOptions:null});case r.MapActionTypes.MAP_CURRENT_LOCATION:return Object.assign(Object.assign({},t),{coords:n.payload.coords});case r.MapActionTypes.DISPLAY_MAP_OPTIONS:return Object.assign(Object.assign({},t),{displayMapOptions:n.payload.display,mapSource:n.payload.mapSource});case r.MapActionTypes.MAP_ADD_FILTER:return Object.assign(Object.assign({},t),{filters:{propertyKey:n.payload.propertyKey,filterValues:n.payload.allowedValues,layer:n.payload.layerName}});case r.MapActionTypes.MAP_DEPARTURES:return Object.assign(Object.assign({},t),{departure:n.payload});case r.MapActionTypes.MAP_VEHICLE_POSITION:return Object.assign(Object.assign({},t),{vehiclePosition:n.payload});case r.MapActionTypes.MAP_EXPLORE_LOCATION:return Object.assign(Object.assign({},t),{exploreLocation:n.payload});case r.MapActionTypes.MAP_RELOAD_OPAL_LOCATION:return Object.assign(Object.assign({},t),{reloadOpalLocation:!0});case r.MapActionTypes.MAP_RESET:return Object.assign({},Object.assign(Object.assign({},t),{reloadOpalLocation:!1}));default:return t}}},bk1F:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopType=void 0,e.StopType=function(t){return t[t.stop=0]="stop",t[t.poi=1]="poi",t[t.locality=2]="locality",t[t.address=3]="address",t}(e.StopType||{})},"bm//":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeIconComponent=void 0;const r=n("8Y7J"),i=n("Y7wX"),o=n("SVse"),a=n("0njA");function s(t,e){if(1&t&&r.\u0275\u0275element(0,"tni-icon",1),2&t){const t=r.\u0275\u0275nextContext();r.\u0275\u0275propertyInterpolate1("iconClasses","",t.iconSize," mode-icon"),r.\u0275\u0275property("iconName",t.modeInfo.icon)("iconTitle",t.modeInfo.icon)("iconAriaHidden",!0),r.\u0275\u0275attribute("aria-label",t.ariaLabel)}}class c{constructor(t){this.iconService=t,this.iconSize="sm-md",this.from=""}ngOnChanges(){if(this.mode){const t=this.iconService.getModeInfo(this.mode);this.modeInfo=Object.assign(Object.assign({},t),{icon:"walk"===t.icon&&"mode-list"===this.from?"walk-no-padding":t.icon}),this.ariaLabel=t.icon}}}e.ModeIconComponent=c,c.\u0275fac=function(t){return new(t||c)(r.\u0275\u0275directiveInject(i.IconService))},c.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["tni-mode-icon"]],inputs:{mode:"mode",iconSize:"iconSize",from:"from"},features:[r.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[[3,"iconName","iconTitle","iconClasses","iconAriaHidden",4,"ngIf"],[3,"iconName","iconTitle","iconClasses","iconAriaHidden"]],template:function(t,e){1&t&&r.\u0275\u0275template(0,s,1,5,"tni-icon",0),2&t&&r.\u0275\u0275property("ngIf",!!e.modeInfo)},directives:[o.NgIf,a.IconComponent],styles:[".mode-icon[_ngcontent-%COMP%]{padding-right:4px}"]})},bpih:function(t,e,n){!function(t){"use strict";t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},bxKX:function(t,e,n){!function(t){"use strict";t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},cCwN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripResultDriveComponent=void 0;const r=n("C0Jg"),i=n("RNDk"),o=n("EiLY"),a=n("8Y7J"),s=n("tqRt"),c=n("VS5s"),l=n("7rOj"),u=n("SCoL"),p=n("psEX"),d=n("WMlU"),h=n("SVse"),f=n("0njA"),m=n("cEli"),g=n("e+jV");function y(t,e){if(1&t&&a.\u0275\u0275element(0,"img",21),2&t){const t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("src",t.rideShareOperatorIcon(),a.\u0275\u0275sanitizeUrl)("alt",t.rideShareOperator())}}function _(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",18),a.\u0275\u0275template(1,y,1,2,"img",19),a.\u0275\u0275elementStart(2,"span",20),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",t.rideShareOperatorIcon()),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.rideShareOperator())}}function v(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",18),a.\u0275\u0275element(1,"tni-icon",22),a.\u0275\u0275elementStart(2,"span",23),a.\u0275\u0275text(3,"Drive"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("iconAriaHidden",!0))}function b(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275elementStart(2,"p"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(t.getDriveDescription())}}function M(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",4),a.\u0275\u0275elementStart(1,"div",25),a.\u0275\u0275element(2,"tni-it-leg",26),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("leg",t.driveLeg)("showWalkDriveInstructions",!1)("showFromStopNameLabel",!0)("showTo",!0)("legIndex",t.index)}}function x(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",29),a.\u0275\u0275elementStart(1,"span",30),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",31),a.\u0275\u0275element(4,"tni-operator-fare",32),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.typeDescription),a.\u0275\u0275advance(2),a.\u0275\u0275property("fare",t.amountMin?t.amountMin:t.amount)("isRecommended",!1)}}function w(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",27),a.\u0275\u0275template(1,x,5,3,"div",28),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",t.journey.fares)}}function C(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",33),a.\u0275\u0275elementStart(1,"span",34),a.\u0275\u0275listener("click",(function(e){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().switchToMapView(e)})),a.\u0275\u0275element(2,"tni-icon",35),a.\u0275\u0275elementStart(3,"span",36),a.\u0275\u0275text(4,"Map"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}2&t&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("iconAriaHidden",!0))}function S(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",37),a.\u0275\u0275element(1,"tni-operator-fare",32),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("fare",t.getOperatorRecommendedFare())("isRecommended",!0)}}function E(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",38),a.\u0275\u0275listener("click",(function(){a.\u0275\u0275restoreView(t);const e=a.\u0275\u0275nextContext();return e.clickOperatorBooking(e.journey.legs[0].transportation.operator.id)})),a.\u0275\u0275elementStart(1,"span"),a.\u0275\u0275text(2,"Book"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(3,"tni-icon",39),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275propertyInterpolate("href",t.operatorBookingUrl(),a.\u0275\u0275sanitizeUrl)}}class T{constructor(t,e,n,r,i,o){this.stateStore=t,this.trackTripPlannerEventService=e,this.distancePipe=n,this.durationPipe=r,this.platform=i,this.selectedJourneyStoreService=o,this.expanded=!1}ngOnInit(){this.selectedJourneyStoreService.getExpandedJourney$().subscribe(t=>{this.expanded=this.journey===t,this.driveLeg=this.journey.legs[0]})}rideShareOperator(){return this.journey.legs.length&&this.journey.legs[0].isBookingRequired&&this.journey.legs[0].transportation.operator&&this.journey.legs[0].transportation.operator.name}rideShareOperatorIcon(){return this.journey.legs.length&&this.journey.legs[0].isBookingRequired&&this.journey.legs[0].transportation.operator&&this.journey.legs[0].transportation.operator.icons&&this.journey.legs[0].transportation.operator.icons[0].path}getDriveDescription(){return this.rideShareOperator()?this.journey.legs[0].transportation.operator.description:"Drive your personal car"}duration(){let t=0;return this.journey.legs.forEach(e=>{t+=e.duration}),this.durationPipe.transform(t)}distance(){let t=0;return this.journey.legs.forEach(e=>{t+=e.distance}),this.distancePipe.transform(t)}getOperatorRecommendedFare(){if(this.journey.fares&&this.journey.fares.length&&this.journey.fares.every(t=>t.type===r.FareType.operator))return this.journey.fares[0].amountMin?this.journey.fares[0].amountMin:this.journey.fares[0].amount}onToggleCard(t){this.expanded=t,this.expanded&&this.stateStore.dispatch(new o.SelectJourneyAction({trip:this.journey}))}switchToMapView(t){this.trackTripPlannerEventService.trackViewResultsOnMapForMobile(),t.stopPropagation(),this.stateStore.dispatch(new i.MapTripAction({trip:this.journey})),this.stateStore.dispatch(new i.MapTripLegAction({mapLeg:{leg:this.journey.legs[0],index:0}})),this.stateStore.dispatch(new o.SwitchAppViewAction({mobileMapView:!0,index:void 0}))}operatorBookingUrl(){return this.platform.ANDROID||this.platform.IOS?this.journey.fares[0].bookingLinks.app:this.platform.ANDROID||this.platform.IOS?void 0:this.journey.fares[0].bookingLinks.web}clickOperatorBooking(t){switch(t){case"OLA":this.trackTripPlannerEventService.trackOperatorBooking("Book button selected Ola");break;case"INGOGO":this.trackTripPlannerEventService.trackOperatorBooking("Book button selected Ingogo");break;case"CARSONDEMAND":this.trackTripPlannerEventService.trackOperatorBooking("Book button selected Cars On Demand");break;case"GOCATCH":this.trackTripPlannerEventService.trackOperatorBooking("Book button selected GoCatch")}}}e.TripResultDriveComponent=T,T.\u0275fac=function(t){return new(t||T)(a.\u0275\u0275directiveInject(s.Store),a.\u0275\u0275directiveInject(c.TrackTripPlannerEventService),a.\u0275\u0275directiveInject(l.DistancePipe),a.\u0275\u0275directiveInject(l.DurationPipe),a.\u0275\u0275directiveInject(u.Platform),a.\u0275\u0275directiveInject(p.SelectedJourneyStoreService))},T.\u0275cmp=a.\u0275\u0275defineComponent({type:T,selectors:[["tni-trip-result-drive"]],inputs:{journey:"journey",index:"index"},decls:23,vars:15,consts:[[1,"card-wrapper"],[1,"trip-card","trip-card-drive",3,"expanded","index","hideToggle","type","toggle"],["card-header",""],[1,"summary-header"],[1,"row"],["class","col-md-12  col-xs-12",4,"ngIf"],["class","row summary-header-description",4,"ngIf"],["card-body",""],["class","row",4,"ngIf"],["class","operator-list",4,"ngIf"],["card-footer","",1,"summary-footer","individual-transport",3,"ngClass"],[1,"journey-details"],[1,"individual-transport","individual-transport-detail"],[1,"individual-transport","individual-transport-duration"],[1,"individual-transport","individual-transport-distance"],["class","map-link-container",4,"ngIf"],["class","operator-fare",4,"ngIf"],["tabindex","0","target","_blank","class","btn btn-primary operator-booking","aria-label","Book button opens in new tab",3,"href","click",4,"ngIf"],[1,"col-md-12","col-xs-12"],["class","operator-logo","aria-hidden","true",3,"src","alt",4,"ngIf"],[1,"summary-header-taxi"],["aria-hidden","true",1,"operator-logo",3,"src","alt"],["iconName","drive","iconClasses","xs black tp_drive",3,"iconAriaHidden"],[1,"summary-header-drive"],[1,"row","summary-header-description"],[1,"col-md-12","col-xs-12","card-content"],[3,"leg","showWalkDriveInstructions","showFromStopNameLabel","showTo","legIndex"],[1,"operator-list"],["class","row operator",4,"ngFor","ngForOf"],[1,"row","operator"],[1,"col-md-7","col-xs-7","operator-detail"],[1,"col-md-5","col-xs-5"],[3,"fare","isRecommended"],[1,"map-link-container"],["role","button","tabindex","0",1,"map-link",3,"click"],["iconClasses","tp-icon sm","iconName","map",3,"iconAriaHidden"],["title","Open map view","aria-label","Open map view"],[1,"operator-fare"],["tabindex","0","target","_blank","aria-label","Book button opens in new tab",1,"btn","btn-primary","operator-booking",3,"href","click"],["iconClasses","tp-icon tp-external-link xxs","iconAriaHidden","false","iconHidden","false","iconName","external-link","iconTitle","alert"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"tni-collapsible-card",1),a.\u0275\u0275listener("toggle",(function(t){return e.onToggleCard(t)})),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275elementStart(3,"div",3),a.\u0275\u0275elementStart(4,"div",4),a.\u0275\u0275template(5,_,4,2,"div",5),a.\u0275\u0275template(6,v,4,1,"div",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(7,b,4,1,"div",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",7),a.\u0275\u0275template(9,M,3,5,"div",8),a.\u0275\u0275template(10,w,2,1,"div",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div",10),a.\u0275\u0275elementStart(12,"div",11),a.\u0275\u0275elementStart(13,"div"),a.\u0275\u0275elementStart(14,"span",12),a.\u0275\u0275text(15,"Approx."),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(16,"span",13),a.\u0275\u0275text(17),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(18,"span",14),a.\u0275\u0275text(19),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(20,C,5,1,"div",15),a.\u0275\u0275template(21,S,2,2,"div",16),a.\u0275\u0275template(22,E,4,1,"a",17),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("expanded",e.expanded)("index",e.index)("hideToggle",1===e.journey.fares.length)("type","drive"),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",e.rideShareOperator()),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.rideShareOperator()),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.getDriveDescription()),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!e.rideShareOperator()),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.rideShareOperator()&&e.journey.fares.length>1),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",e.rideShareOperator()?"remove-divider":null),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate(e.duration()),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.distance()),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.rideShareOperator()),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.getOperatorRecommendedFare()),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.journey.isBookingRequired))},directives:[d.TniCollapsibleCardComponent,h.NgIf,h.NgClass,f.IconComponent,m.ItLegComponent,h.NgForOf,g.OperatorFareComponent],styles:[".trip-card[_ngcontent-%COMP%]{margin-bottom:15px}.align-with-header[_ngcontent-%COMP%]{margin-left:-75px}.card-wrapper[_ngcontent-%COMP%]{margin-bottom:8px}.black[_ngcontent-%COMP%]{fill:#000}.collapsible-card-details-header[_ngcontent-%COMP%]{color:#000}.summary-footer[_ngcontent-%COMP%], .summary-header[_ngcontent-%COMP%]{padding:16px;color:#000}.summary-footer-drive[_ngcontent-%COMP%], .summary-footer-taxi[_ngcontent-%COMP%], .summary-header-drive[_ngcontent-%COMP%], .summary-header-taxi[_ngcontent-%COMP%]{padding-left:8px;color:#171717;font-size:15px;font-weight:500;line-height:19px}.summary-footer-description[_ngcontent-%COMP%], .summary-header-description[_ngcontent-%COMP%]{padding-right:10px;padding-top:18px;margin-bottom:21px;font-size:13px;line-height:16px;color:#757575}.summary-footer-description[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .summary-header-description[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0}.modes[_ngcontent-%COMP%]{padding-bottom:10px}.operator-logo[_ngcontent-%COMP%]{height:24px}.operator-list[_ngcontent-%COMP%]{margin-bottom:28px}.operator-list[_ngcontent-%COMP%]   .operator[_ngcontent-%COMP%]{padding:6px 16px}.operator-list[_ngcontent-%COMP%]   .operator-detail[_ngcontent-%COMP%]{height:18px;font-size:14px;font-weight:400;color:#171717;line-height:18px}.trip-card-drive[_ngcontent-%COMP%]     .toggle{position:absolute;top:31px;right:10px}.trip-card-drive[_ngcontent-%COMP%]     .summary-footer{padding-top:12px;padding-bottom:12px}.summary-footer.remove-divider[_ngcontent-%COMP%]{border-top:none}.summary-footer[_ngcontent-%COMP%]{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;padding-top:10px;padding-bottom:13px}.summary-footer[_ngcontent-%COMP%]   .individual-transport[_ngcontent-%COMP%]{font-size:13px;line-height:16px}.summary-footer[_ngcontent-%COMP%]   .individual-transport-detail[_ngcontent-%COMP%]{padding-right:3px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.summary-footer[_ngcontent-%COMP%]   .individual-transport-detail[_ngcontent-%COMP%]{padding-right:16px}}.summary-footer[_ngcontent-%COMP%]   .individual-transport-detail[_ngcontent-%COMP%], .summary-footer[_ngcontent-%COMP%]   .individual-transport-distance[_ngcontent-%COMP%]{color:#757575}.summary-footer[_ngcontent-%COMP%]   .individual-transport-duration[_ngcontent-%COMP%]{color:#171717;font-weight:400;padding-right:3px}.summary-footer[_ngcontent-%COMP%]   .journey-fare[_ngcontent-%COMP%]{position:relative}.summary-footer[_ngcontent-%COMP%]   .operator-fare[_ngcontent-%COMP%]{display:inline;padding-right:8px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.summary-footer[_ngcontent-%COMP%]   .operator-fare[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-right:3px}}.summary-footer[_ngcontent-%COMP%]   .journey-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr auto}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.summary-footer[_ngcontent-%COMP%]   .journey-details[_ngcontent-%COMP%]{grid-template-columns:1fr auto}}.summary-footer[_ngcontent-%COMP%]   .journey-links[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;justify-items:stretch}.summary-footer[_ngcontent-%COMP%]   .journey-booking-required[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;color:#373636;font-size:12px}.summary-footer[_ngcontent-%COMP%]   .journey-booking-required[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-right:5px}.summary-footer[_ngcontent-%COMP%]   .operator-booking[_ngcontent-%COMP%]{height:24px;font-size:12px;line-height:10px;font-weight:300}.summary-footer[_ngcontent-%COMP%]   .operator-booking[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{padding-left:8px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.summary-footer[_ngcontent-%COMP%]   .operator-booking[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:3;grid-column-start:2;align-self:center}}@media print{.summary-footer[_ngcontent-%COMP%]   .operator-booking[_ngcontent-%COMP%]{display:none}}  .tp-icon.alert-message{position:absolute;right:5px;top:27px;height:100px;width:100px}.map-link-container[_ngcontent-%COMP%]{text-align:right}.map-link[_ngcontent-%COMP%]{display:none;cursor:pointer;text-decoration:underline;margin-right:16px;font-size:12px;color:#1d69b4}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.map-link[_ngcontent-%COMP%]{display:block}}.map-link[_ngcontent-%COMP%]     svg{color:#555}@media print{.map-link[_ngcontent-%COMP%]{display:none}}  .booking-icon{padding-right:5px;margin-top:-1px}  .tp_drive{margin-bottom:4px}tni-it-leg[_ngcontent-%COMP%]{margin-bottom:21px}tni-it-leg[_ngcontent-%COMP%]  div.it-leg-from__divider, tni-it-leg[_ngcontent-%COMP%]  div.it-leg-from__time, tni-it-leg[_ngcontent-%COMP%]  div.it-leg-to__time, tni-it-leg[_ngcontent-%COMP%]  span.it-leg-from__label span.it-leg-from__label_description{display:none}tni-it-leg[_ngcontent-%COMP%]  span.it-leg-to__label span{color:#171717;font-weight:500;line-height:15px;font-size:15px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){tni-it-leg[_ngcontent-%COMP%]  span.it-leg-to__label span{font-size:13px}}"]})},cEli:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItLegComponent=void 0;const r=n("f0Wu"),i=n("cRl/"),o=n("RNDk"),a=n("8Y7J"),s=n("Y7wX"),c=n("7rOj"),l=n("tqRt"),u=n("SVse"),p=n("bm//"),d=n("wlDI"),h=n("0njA"),f=n("FYjP");function m(t,e){1&t&&(a.\u0275\u0275elementStart(0,"span",2),a.\u0275\u0275text(1,"departure time"),a.\u0275\u0275elementEnd())}function g(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(t.getFormattedTime(t.leg.departingTime))}}function y(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",13),a.\u0275\u0275template(1,m,2,0,"span",14),a.\u0275\u0275template(2,g,2,1,"span",6),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!t.hideTimes),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!t.hideTimes)}}function _(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"span",2),a.\u0275\u0275text(2,"departure stop name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"span",15),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(t.parseForUnknown(t.leg.origin.disassembledName||t.leg.origin.name))}}function v(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"span",16),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.determineWalkDriveInstructions())}}function b(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"span",17),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.determineWalkDriveInstructions())}}function M(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"p"),a.\u0275\u0275elementStart(2,"a",18),a.\u0275\u0275listener("click",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext().toggleDirections()})),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",t.showingDirections?t.hideLegLabel:t.showLegLabel," ")}}function x(t,e){if(1&t&&a.\u0275\u0275element(0,"tni-alert-msg",19),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275property("text",t.AdditionalInfo[t.leg.transportation.networkId])}}function w(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",20),a.\u0275\u0275element(1,"tni-icon",21),a.\u0275\u0275elementStart(2,"p"),a.\u0275\u0275elementStart(3,"span"),a.\u0275\u0275text(4,"Always wear a helmet, obey "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"a",22),a.\u0275\u0275text(6,"road rules"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"span"),a.\u0275\u0275text(8," and ride with caution as directions may not reflect actual conditions."),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function C(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"span",2),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(3,"tni-icon",25),a.\u0275\u0275elementStart(4,"span",26),a.\u0275\u0275text(5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=e.$implicit,n=e.first,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(r.getAlternateTextForPath(t)),a.\u0275\u0275advance(1),a.\u0275\u0275property("iconName",r.getIconRefForPath(t))("iconClasses","tp-icon sm direction")("iconAriaHidden",!0),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate2("id","itLegTripPathLabel-",r.leg.tripIndex+"-"+r.leg.legIndex,"-",r.$index,""),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",r.getLabelForPath(t,n)," ")}}function S(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"ul",23),a.\u0275\u0275template(2,C,6,7,"li",24),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.leg.pathDescriptions)}}function E(t,e){1&t&&a.\u0275\u0275element(0,"tni-alert",27),2&t&&a.\u0275\u0275property("alert",e.$implicit)}function T(t,e){1&t&&(a.\u0275\u0275elementStart(0,"span",2),a.\u0275\u0275text(1,"arrival time"),a.\u0275\u0275elementEnd())}function O(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(t.getFormattedTime(t.leg.arrivalTime))}}function A(t,e){1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",32),a.\u0275\u0275text(2,"Next day"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd())}function P(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",28),a.\u0275\u0275elementStart(1,"span",2),a.\u0275\u0275text(2,"arrival stop"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",29),a.\u0275\u0275template(4,T,2,0,"span",14),a.\u0275\u0275template(5,O,2,1,"span",6),a.\u0275\u0275template(6,A,3,0,"ng-container",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(7,"i",30),a.\u0275\u0275elementStart(8,"span",31),a.\u0275\u0275elementStart(9,"span",2),a.\u0275\u0275text(10,"arrival stop name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"span"),a.\u0275\u0275text(12),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",!t.hideTimes),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!t.hideTimes),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",t.showToNextDayIndicator),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate(t.parseForUnknown(t.leg.destination.disassembledName||t.leg.destination.name))}}const L=function(t,e,n){return[t,e,n]};class k{constructor(t,e,n,r){this.iconService=t,this.durationPipe=e,this.distancePipe=n,this.stateStore=r,this.showFromStopNameLabel=!1,this.showTo=!1,this.showWalkDriveInstructions=!1,this.hideTimes=!1,this.PathDescriptionsMap={STRAIGHT:{icon:"straight",alternateText:"Straight ahead"},LEFT:{icon:"left",alternateText:"Turn left"},RIGHT:{icon:"right",alternateText:"Turn right"},SLIGHT_LEFT:{icon:"slight-left",alternateText:"Turn slightly left"},SLIGHT_RIGHT:{icon:"slight-right",alternateText:"Turn slightly right"},SHARP_LEFT:{icon:"left-sharp",alternateText:"Turn hard left"},SHARP_RIGHT:{icon:"right-sharp",alternateText:"Turn hard right"},U_TURN:{icon:"uturn",alternateText:"Go back"}},this.AdditionalInfo={105:"Directions do not account for traffic, construction, weather or other events that may cause changes to your route."},this.showingDirections=!1,this.showLegLabel=null,this.hideLegLabel=null,this.isFirstLeg=!1,this.showToNextDayIndicator=!1}get mode(){return this.leg.transportation.mode&&this.iconService.getNetworkIcon(this.leg.transportation.mode)}ngOnInit(){this.validatePathDescriptions(),this.isFirstLeg=this.showFromStopNameLabel,this.showToNextDayIndicator=this.leg&&!r(this.leg.arrivalTime).isSame(this.leg.departingTime,"day")}validatePathDescriptions(){this.leg.pathDescriptions&&(this.leg.pathDescriptions=this.leg.pathDescriptions.filter(t=>t.turnDirection&&this.PathDescriptionsMap[t.turnDirection]&&"UNKNOWN"!==t.turnDirection),this.leg.pathDescriptions.length>0&&(this.showLegLabel="Show directions",this.hideLegLabel="Hide directions"))}getLabelForPath(t,e){const n=e&&t.skyDirection?"heading "+t.skyDirection:"";return this.leg.isFootpath?`${t.name} ${this.durationPipe.transform(t.duration)} ${this.distancePipe.transform(t.distance)} ${n}`:`${t.name} ${this.distancePipe.transform(t.distance)} ${n}`}determineWalkDriveInstructions(){return this.leg.isTaxiDrive?("Drive "+this.distancePipe.transform(this.leg.distance)).replace("(","").replace(")",""):this.leg.isBikeRide?`Bike ${this.durationPipe.transform(this.leg.duration)} ${this.distancePipe.transform(this.leg.distance)}`:`Walk ${this.durationPipe.transform(this.leg.duration)} ${this.distancePipe.transform(this.leg.distance)}`}toggleDirections(){this.showingDirections=!this.showingDirections,this.showingDirections&&this.stateStore.dispatch(new o.MapTripLegAction({mapLeg:{leg:this.leg,index:this.legIndex}}))}getIconRefForPath(t){if(this.PathDescriptionsMap[t.turnDirection])return this.PathDescriptionsMap[t.turnDirection].icon}getAlternateTextForPath(t){return this.PathDescriptionsMap[t.turnDirection]&&this.PathDescriptionsMap[t.turnDirection].alternateText||""}parseForUnknown(t){return"$UNKNOWN_POINT$"===t||"$UNKNOWN_POINT$,"===t?"Location from map":t}getFormattedTime(t){return i.TimeZoneHelper.getFormattedDate(t,"HH:mm")}}e.ItLegComponent=k,k.\u0275fac=function(t){return new(t||k)(a.\u0275\u0275directiveInject(s.IconService),a.\u0275\u0275directiveInject(c.DurationPipe),a.\u0275\u0275directiveInject(c.DistancePipe),a.\u0275\u0275directiveInject(l.Store))},k.\u0275cmp=a.\u0275\u0275defineComponent({type:k,selectors:[["tni-it-leg"]],inputs:{leg:"leg",legIndex:"legIndex",showFromStopNameLabel:"showFromStopNameLabel",showTo:"showTo",showWalkDriveInstructions:"showWalkDriveInstructions",hideTimes:"hideTimes"},decls:20,vars:18,consts:[["role","heading","aria-level","6",1,"sr-only"],[1,"it-leg-from"],[1,"sr-only"],["class","it-leg-from__time",4,"ngIf"],[1,"it-leg-from__icon",3,"mode","iconSize"],[1,"it-leg-from__label"],[4,"ngIf"],["type","icon-info",3,"text",4,"ngIf"],["class","alert-message",4,"ngIf"],[3,"alert",4,"ngFor","ngForOf"],["aria-hidden","true",1,"it-leg-line",3,"ngClass"],[1,"it-leg-details"],["class","it-leg-to",4,"ngIf"],[1,"it-leg-from__time"],["class","sr-only",4,"ngIf"],[1,"it-leg-from__label_name"],[1,"it-leg-from__label_description"],[1,"it-leg-from__label_head"],["href","javascript:;","role","button",1,"show-hide-directions",3,"click"],["type","icon-info",3,"text"],[1,"alert-message"],["iconClasses","tp-icon sm","iconName","icon-info","aria-label","","iconAriaHidden","true"],["aria-label","road rules, external link","href","https://www.rms.nsw.gov.au/roads/bicycles/safety-rules/road-rules-for-bicycle-riders.html","target","_blank"],[1,"it-leg-steps-sequence","list-unstyled"],[4,"ngFor","ngForOf"],[3,"iconName","iconClasses","iconAriaHidden"],[1,"it-leg-steps-sequence-label",3,"id"],[3,"alert"],[1,"it-leg-to"],[1,"it-leg-to__time"],["aria-labelledby","trip step to",1,"it-leg-to__marker"],[1,"it-leg-to__label"],[1,"it-leg-to__next-day-indicator-message"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"span",0),a.\u0275\u0275text(1,"trip leg"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(2,"div",1),a.\u0275\u0275elementStart(3,"span",2),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(5,y,3,2,"div",3),a.\u0275\u0275element(6,"tni-mode-icon",4),a.\u0275\u0275elementStart(7,"span",5),a.\u0275\u0275template(8,_,5,1,"ng-container",6),a.\u0275\u0275template(9,v,3,1,"ng-container",6),a.\u0275\u0275template(10,b,3,1,"ng-container",6),a.\u0275\u0275template(11,M,4,1,"ng-container",6),a.\u0275\u0275template(12,x,1,1,"tni-alert-msg",7),a.\u0275\u0275template(13,w,9,0,"div",8),a.\u0275\u0275template(14,S,3,1,"ng-container",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(15,"div"),a.\u0275\u0275template(16,E,1,1,"tni-alert",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(17,"div",10),a.\u0275\u0275element(18,"div",11),a.\u0275\u0275template(19,P,13,4,"div",12)),2&t&&(a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate1("",e.mode," mode"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.showFromStopNameLabel),a.\u0275\u0275advance(1),a.\u0275\u0275property("mode",e.leg.transportation.productId||e.leg.transportation.mode)("iconSize","xs"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.showFromStopNameLabel),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.showWalkDriveInstructions),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.showFromStopNameLabel),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.showLegLabel),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.AdditionalInfo[e.leg.transportation.networkId]),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",107===e.leg.transportation.networkId),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.showingDirections&&e.leg.pathDescriptions),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",e.leg.alerts),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction3(14,L,"it-leg-line--"+e.mode,e.showTo?"it-leg-line--showTo":"",e.showFromStopNameLabel&&!e.showTo?"it-leg-line--first":"")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.showTo))},directives:[u.NgIf,p.ModeIconComponent,u.NgForOf,u.NgClass,d.AlertMessageComponent,h.IconComponent,f.AlertComponent],styles:["[_nghost-%COMP%]{display:block;position:relative;margin-left:58px;padding:10px 0 10px 32px;font-size:12px}[_nghost-%COMP%]   .alert-message[_ngcontent-%COMP%]{display:flex;padding-right:16px}[_nghost-%COMP%]   .alert-message[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{width:20px;margin:1.25em 10px 1.25em 0}[_nghost-%COMP%]   .alert-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:18px;margin-top:1.25em;font-size:12px;font-weight:100;color:#373636}[_nghost-%COMP%]   .alert-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}[_nghost-%COMP%]   .it-leg-from__time[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__time[_ngcontent-%COMP%]{position:absolute;top:1px;left:-88px;font-weight:500}[_nghost-%COMP%]   .it-leg-from__label[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label[_ngcontent-%COMP%]{font-weight:500;letter-spacing:.1px}[_nghost-%COMP%]   .it-leg-from__label_head[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-from__label_name[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label_head[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label_name[_ngcontent-%COMP%]{color:#171717;font-weight:500;line-height:15px;font-size:15px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .it-leg-from__label_head[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-from__label_name[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label_head[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label_name[_ngcontent-%COMP%]{font-size:13px}}[_nghost-%COMP%]   .it-leg-from__label_description[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label_description[_ngcontent-%COMP%]{color:#757575;margin-top:5px;line-height:15px;display:block}[_nghost-%COMP%]   .it-leg-from__label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:17px 0 0}[_nghost-%COMP%]   .it-leg-from__label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .show-hide-directions[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .show-hide-directions[_ngcontent-%COMP%]{color:#1d69b4;font-size:12px;letter-spacing:.09px;line-height:15px;text-decoration:underline}[_nghost-%COMP%]   .it-leg-from__label[_ngcontent-%COMP%]   .it-leg-steps-sequence[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label[_ngcontent-%COMP%]   .it-leg-steps-sequence[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 0}[_nghost-%COMP%]   .it-leg-from__label[_ngcontent-%COMP%]   .it-leg-steps-sequence-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .it-leg-to__label[_ngcontent-%COMP%]   .it-leg-steps-sequence-label[_ngcontent-%COMP%]{margin-left:16px}[_nghost-%COMP%]   .it-leg-from[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .it-leg-from__time[_ngcontent-%COMP%]{bottom:1px;font-size:13px}[_nghost-%COMP%]   .it-leg-from__icon[_ngcontent-%COMP%]{position:absolute;top:-2px;left:-39px;z-index:10;color:#000}[_nghost-%COMP%]   .it-leg-line[_ngcontent-%COMP%]{position:absolute;top:29px;left:0;bottom:-9px;width:2px;background:#000}@media print{[_nghost-%COMP%]   .it-leg-line[_ngcontent-%COMP%]{border-left:2px solid #000}}[_nghost-%COMP%]   .it-leg-line--walk[_ngcontent-%COMP%]{background-color:#fff;border-style:dotted;border-left:4px;border-width:2px;color:#000}[_nghost-%COMP%]   .it-leg-line--showTo[_ngcontent-%COMP%]{height:unset;bottom:23px}[_nghost-%COMP%]   .it-leg-line--first[_ngcontent-%COMP%]{bottom:-9px;height:unset}[_nghost-%COMP%]   .it-leg-to[_ngcontent-%COMP%]{position:relative;margin-top:10px}[_nghost-%COMP%]   .it-leg-to__marker[_ngcontent-%COMP%]{display:inline-block;width:10px;height:10px;position:absolute;left:-36px;bottom:8px;background:#fff;border:5px solid #000;border-radius:5px}[_nghost-%COMP%]   .it-leg-to__next-day-indicator-message[_ngcontent-%COMP%]{font-size:8.5px;font-weight:400;line-height:.8}"]})},cQc6:function(t,e){t.exports=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],c=e[o][1],l=e[a][1];c>r!=l>r&&n<(e[a][0]-s)*(r-c)/(l-c)+s&&(i=!i)}return i}},cRix:function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},"cRl/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("mrSG");r.__exportStar(n("wqB4"),e),r.__exportStar(n("OuoU"),e),r.__exportStar(n("CT06"),e)},cUPq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalRetailersComponent=void 0;const r=n("qCKp"),i=n("4ZJM"),o=n("EiLY"),a=n("RNDk"),s=n("5rvx"),c=n("5g3M"),l=n("qtzU"),u=n("kU1M"),p=n("qoZc"),d=n("yh6M"),h=n("iFc6"),f=n("7P/m"),m=n("z/no"),g=n("6phY"),y=n("ha9l"),_=n("zpQm"),v=n("ywyY"),b=n("8Y7J"),M=n("tqRt"),x=n("NfbF"),w=n("87t5"),C=n("MhY6"),S=n("ZrN/"),E=n("XhXp"),T=n("g9ER"),O=n("MbAS"),A=n("cUpR"),P=n("iInd"),L=n("9qKE"),k=n("79vA"),I=n("SVse"),D=n("0njA"),N=n("mtJE"),R=n("sa+3");function z(t,e){if(1&t&&(b.\u0275\u0275elementStart(0,"span"),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&t){const t=b.\u0275\u0275nextContext();b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate(t.filterOptions.hyperLinkText2)}}function F(t,e){1&t&&b.\u0275\u0275element(0,"tni-opal-retailers-skeleton-loader")}const j=function(t){return{highlight:t,"panel panel-default":!0}};function B(t,e){if(1&t){const t=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"div",15),b.\u0275\u0275listener("keyup.enter",(function(){b.\u0275\u0275restoreView(t);const n=e.$implicit;return b.\u0275\u0275nextContext(2).onClickOpalRetailer(n,!1)}))("click",(function(){b.\u0275\u0275restoreView(t);const n=e.$implicit;return b.\u0275\u0275nextContext(2).onClickOpalRetailer(n,!1)})),b.\u0275\u0275elementStart(1,"tni-opal-retailer-details",16),b.\u0275\u0275listener("showDirections",(function(){b.\u0275\u0275restoreView(t);const n=e.$implicit;return b.\u0275\u0275nextContext(2).redirectToTripplanner(n.properties)}))("switchMapClicked",(function(){b.\u0275\u0275restoreView(t);const n=e.$implicit;return b.\u0275\u0275nextContext(2).onClickOpalRetailer(n,!0)}))("trackPhone",(function(){return b.\u0275\u0275restoreView(t),b.\u0275\u0275nextContext(2).onTrackPhone()})),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}if(2&t){const t=e.$implicit,n=e.index,r=b.\u0275\u0275nextContext(2);b.\u0275\u0275property("ngClass",b.\u0275\u0275pureFunction1(3,j,t.properties.cartodb_id===r.opalRetailersService.highlightOpalRetailerId)),b.\u0275\u0275advance(1),b.\u0275\u0275property("data",t.properties)("index",n)}}function q(t,e){if(1&t&&(b.\u0275\u0275elementContainerStart(0),b.\u0275\u0275template(1,B,2,5,"div",14),b.\u0275\u0275elementContainerEnd()),2&t){const t=b.\u0275\u0275nextContext();b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",t.opalRetailers)}}function V(t,e){1&t&&(b.\u0275\u0275elementStart(0,"div",17),b.\u0275\u0275text(1,"Sorry, we couldn't find any Opal retailers for that search."),b.\u0275\u0275elementEnd())}class Y{constructor(t,e,n,i,o,a,s,c,l,u){this.stateStore=t,this.trackEventService=e,this.mapConfigService=n,this.windowRef=i,this.opalRetailersService=o,this.mapPointsService=a,this.map=s,this.locationFinderService=c,this.titleService=l,this.router=u,this.opalRetailers=[],this.haveBeenSelected=!1,this.isCurrentLocationResearch=!1,this.hasSearchedForOpalRetailers=!1,this.clickFromTheCardFlag=!1,this.isMobileMapView=!1,this.ngDestroyed$=new r.Subject}ngOnInit(){this.titleService.setTitle("Opal retailers | transportnsw.info"),this.mapConfigService.showMapOptions(!1,p.MapSource.OpalRetailers),this.stateStore.dispatch(new a.MapOptionsAction({mapOptions:f.OPAL_MAP_OPTIONS})),this.stateStore.dispatch(new a.UseDefaultMapOptionsAction({useDefaultMapOptions:!0})),this._resetMapLayers(),this.stateStore.dispatch(new o.OpalRetailersViewAction({isOpalRetailer:!0})),this.saveSelectedFilter(s.Filters.options[0]),this.stateStore.select(g.getAppViewState).pipe(u.takeUntil(this.ngDestroyed$)).subscribe(t=>{this.isMobileMapView=t.mobileMapView}),r.combineLatest([this.stateStore.select(l.selectPartFeature),this.opalRetailersService.selectedOpalRetailer.pipe(u.tap(t=>{t&&this.windowRef.isMobileView()&&this.clickFromTheCardFlag&&(this.clickFromTheCardFlag=!1,this.switchToMapView())}))]).pipe(u.takeUntil(this.ngDestroyed$)).subscribe(([t,e])=>{e&&(this.opalRetailers.find(t=>t.properties.cartodb_id===e.properties.cartodb_id)||(t.splice(0,1),t.unshift(e))),this.opalRetailers=t}),this.isLoading$=this.stateStore.select(l.getLoadingState)}ngOnDestroy(){this.stateStore.dispatch(new o.OpalRetailersViewAction({isOpalRetailer:!1})),this.mapPointsService.removeAllMarkers(!1),this.ngDestroyed$.next()}handleSwitchToMapView(t){t.stopPropagation(),this.trackEventService.trackEvent(_.EventCategory.OpalRetailers,{action:v.EventAction.ShowMap}),this.switchToMapView()}switchToMapView(){this.windowRef.isMobileView()&&this.isCurrentLocationResearch&&this.map.enableTrackUserMode(),this.stateStore.dispatch(new o.SwitchAppViewAction({mobileMapView:!0,index:this.index}))}onClickOpalRetailer(t,e){e?(this.clickFromTheCardFlag=e,this.trackEventService.trackEvent(_.EventCategory.OpalRetailers,{action:v.EventAction.ShowRetailerOnMap})):this.trackEventService.trackEvent(_.EventCategory.OpalRetailers,{action:"Select retailer",label:"From list"}),this.opalRetailersService.highlightOpalRetailerId=t.properties?t.properties.cartodb_id:0;const n=this.opalRetailersService.getOpalRetailerRingMarker(t);this.mapPointsService.dedupMapMarkers(n),this.mapPointsService.removeMarkers(n.type),this.ringMarker=n,this.addRingMarker(n),this.opalRetailersService.setSelectedOpalRetailerDetail(t)}addRingMarker(t){if(t&&t.geometry&&t.geometry.coordinates&&2===t.geometry.coordinates.length){const e=document.createElement("div"),n=document.createElement("div");n.setAttribute("class",c.OPAL_RETAILER_RING_CLASS),e.appendChild(n),t.id=new i.Marker(e).setLngLat(t.geometry.coordinates).addTo(this.opalRetailersService.opalRetailerMapInstance),this.mapPointsService.markers.push(t)}}selectedFilter(t){s.Filters.options.forEach(e=>{e.id===t&&this.saveSelectedFilter(e)})}saveSelectedFilter(t){this.trackEventService.trackEvent(_.EventCategory.OpalRetailers,{action:"Choose retailer type",label:t.label}),this.filterOptions=t,this.stateStore.dispatch(new a.MapAddFiltersAction({propertyKey:s.Filters.propertyKey,allowedValues:t.allowedValues,layerName:s.Filters.layerName}))}updateResearchFrom(t){this.hasSearchedForOpalRetailers=!0,this.isCurrentLocationResearch=t,this.opalRetailersService.highlightOpalRetailerId=0,this.opalRetailersService.setSelectedOpalRetailerDetail(null)}trackFilterOptionLinkSelected(t){this.trackEventService.trackEvent(_.EventCategory.OpalRetailers,{action:t})}redirectToTripplanner(t){this.trackEventService.trackEvent(_.EventCategory.OpalRetailers,{action:v.EventAction.PlanATrip,label:"From list"}),this.locationFinderService.search(`coord:${Number(t.longitude)}:${Number(t.latitude)}:EPSG:4326`,new d.StopFinderRequest).pipe(u.take(1)).subscribe(t=>{this._resetMapLayers(),this.stateStore.dispatch(new o.SearchToHereAction({to:t})),this.opalRetailersService.setSelectedOpalRetailerDetail(null),this.stateStore.dispatch(new a.UseDefaultMapOptionsAction({useDefaultMapOptions:!1})),this.stateStore.dispatch(new m.NavigateLinkAction({route:h.TniConstant.ROUTE_PATHS.OPAL_RETAILERS,forceMobileMapView:!1})),this.router.navigate([h.TniConstant.ROUTE_PATHS.TRIP],{queryParams:{to:t.id}})})}onTrackPhone(){this.trackEventService.trackEvent(_.EventCategory.OpalRetailers,{action:v.EventAction.CallRetailer,label:"From list"})}_resetMapLayers(){this.stateStore.dispatch(new o.ClearSearchAction(y.JourneyType.PublicTransport)),this.stateStore.dispatch(new a.MapResetAction),this.mapPointsService.removeAllMarkers(!1)}}e.OpalRetailersComponent=Y,Y.\u0275fac=function(t){return new(t||Y)(b.\u0275\u0275directiveInject(M.Store),b.\u0275\u0275directiveInject(x.TrackEventService),b.\u0275\u0275directiveInject(w.MapConfigService),b.\u0275\u0275directiveInject(C.WindowRef),b.\u0275\u0275directiveInject(S.OpalRetailersService),b.\u0275\u0275directiveInject(E.MapPointsService),b.\u0275\u0275directiveInject(T.MapComponent),b.\u0275\u0275directiveInject(O.LocationFinderService),b.\u0275\u0275directiveInject(A.Title),b.\u0275\u0275directiveInject(P.Router))},Y.\u0275cmp=b.\u0275\u0275defineComponent({type:Y,selectors:[["tni-opal-retailers"]],decls:25,vars:16,consts:[[1,"opal-retailer__container"],[1,"opal-retailer__header",3,"hidden"],[1,"opal-retailer__heading"],[3,"updateResearchFrom"],[3,"selectedFilter"],[1,"opal-retailer__disclaimer-text"],["role","presentation",1,"info"],[3,"href","click"],[4,"ngIf"],[1,"opal-retailer__list"],["class","opal-retailer__list--no-results",4,"ngIf"],["role","button","tabindex","0",1,"opal-retailer__map-link","map-link",3,"click"],["iconClasses","tp-icon sm","iconName","map",3,"iconAriaHidden"],["title","Open map view","aria-label","Open map view"],[3,"ngClass","keyup.enter","click",4,"ngFor","ngForOf"],[3,"ngClass","keyup.enter","click"],[3,"data","index","showDirections","switchMapClicked","trackPhone"],[1,"opal-retailer__list--no-results"]],template:function(t,e){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275elementStart(1,"div",1),b.\u0275\u0275pipe(2,"async"),b.\u0275\u0275elementStart(3,"h1",2),b.\u0275\u0275text(4,"Find Opal retailers"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"tni-opal-search-form",3),b.\u0275\u0275listener("updateResearchFrom",(function(t){return e.updateResearchFrom(t)})),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(6,"tni-opal-retailer-filter",4),b.\u0275\u0275listener("selectedFilter",(function(t){return e.selectedFilter(t)})),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(7,"div",5),b.\u0275\u0275elementStart(8,"span",6),b.\u0275\u0275text(9,"i"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(10,"span"),b.\u0275\u0275text(11),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(12,"a",7),b.\u0275\u0275listener("click",(function(){return e.trackFilterOptionLinkSelected(e.filterOptions.eventAction)})),b.\u0275\u0275text(13),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(14,z,2,1,"span",8),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(15,"div",9),b.\u0275\u0275template(16,F,1,0,"tni-opal-retailers-skeleton-loader",8),b.\u0275\u0275pipe(17,"async"),b.\u0275\u0275template(18,q,2,1,"ng-container",8),b.\u0275\u0275template(19,V,2,0,"div",10),b.\u0275\u0275pipe(20,"async"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(21,"span",11),b.\u0275\u0275listener("click",(function(t){return e.handleSwitchToMapView(t)})),b.\u0275\u0275element(22,"tni-icon",12),b.\u0275\u0275elementStart(23,"span",13),b.\u0275\u0275text(24,"Show Map"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&t&&(b.\u0275\u0275advance(1),b.\u0275\u0275property("hidden",b.\u0275\u0275pipeBind1(2,10,e.isLoading$)),b.\u0275\u0275advance(7),b.\u0275\u0275attribute("aria-hidden",!0),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(e.filterOptions.disclaimerText),b.\u0275\u0275advance(1),b.\u0275\u0275property("href",e.filterOptions.hyperLink,b.\u0275\u0275sanitizeUrl),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate(e.filterOptions.hyperLinkText),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",e.filterOptions.hyperLinkText2),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngIf",b.\u0275\u0275pipeBind1(17,12,e.isLoading$)),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngIf",(null==e.opalRetailers?null:e.opalRetailers.length)>0),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!1===b.\u0275\u0275pipeBind1(20,14,e.isLoading$)&&e.hasSearchedForOpalRetailers&&0===(null==e.opalRetailers?null:e.opalRetailers.length)),b.\u0275\u0275advance(3),b.\u0275\u0275property("iconAriaHidden",!0))},directives:[L.OpalSearchFormComponent,k.OpalRetailFilterComponent,I.NgIf,D.IconComponent,N.OpalRetailerSkeletonLoaderComponent,I.NgForOf,I.NgClass,R.OpalRetailerDetailsComponent],pipes:[I.AsyncPipe],styles:[".opal-retailer__container[_ngcontent-%COMP%]   .panel-default[_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:3px;background-color:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);margin-bottom:10px;min-height:111px}.opal-retailer__container[_ngcontent-%COMP%]   .panel-default.highlight[_ngcontent-%COMP%]{border-left:3px solid #1d69b4}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__header[_ngcontent-%COMP%]{background-color:#fff;padding:32px 14px 14px}.opal-retailer__container[_ngcontent-%COMP%]   h1.opal-retailer__heading[_ngcontent-%COMP%]{color:#373636;font-size:28px;font-weight:300;letter-spacing:0;line-height:40px;text-align:center;margin-top:0;margin-bottom:0}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__list[_ngcontent-%COMP%]{min-height:calc(100vh - 334px);margin:1rem 1rem 4rem}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__list--no-results[_ngcontent-%COMP%]{padding:1em;font-family:Helvetica;font-size:15px;font-weight:400;color:#555}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__disclaimer-text[_ngcontent-%COMP%]{font-size:13px;line-height:16px}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__disclaimer-text[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__disclaimer-text[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding-right:5px}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__disclaimer-text[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:underline}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__disclaimer-text[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{fill:#fff;padding-right:5px}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__disclaimer-text[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{border:1px solid #373636;color:#373636;border-radius:61%;display:inline-block;width:20px;height:20px;padding-left:8px;font-size:12px;margin-right:7px;padding-top:1px}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__name[_ngcontent-%COMP%]{color:#171717;font-size:14px;font-weight:500;letter-spacing:.12px;line-height:18px;margin:0}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__address[_ngcontent-%COMP%]{color:#171717;font-size:12px;font-weight:300;letter-spacing:0;line-height:15px;margin:0}.opal-retailer__container[_ngcontent-%COMP%]   .opal-retailer__description[_ngcontent-%COMP%]{color:#171717;font-size:11px;letter-spacing:.09px;line-height:14px;font-weight:400}.opal-retailer__container[_ngcontent-%COMP%]   .button-round[_ngcontent-%COMP%]{padding:0;color:#1d69b4;font-size:10px;letter-spacing:.07px;box-sizing:border-box;height:26px;width:116px;border:1px solid #ddd;border-radius:13.5px;background-color:#fff;display:flex;justify-content:center;align-items:center}.opal-retailer__container[_ngcontent-%COMP%]   .button-round[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{fill:#fff;padding-right:5px}.opal-retailer__container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:116px 116px;grid-column-gap:8px}.opal-retailer__container[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%], .opal-retailer__container[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.opal-retailer__container[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{width:100%;height:48px;border-radius:4px 4px 0 0;background-color:#1d69b4;color:#fff;text-transform:uppercase;position:-webkit-sticky;position:sticky;bottom:0}@media (min-width:992px){.opal-retailer__container[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:none}}.map-link[_ngcontent-%COMP%]{width:100%;height:48px;border-radius:4px 4px 0 0;background-color:#1d69b4;color:#fff;display:flex;justify-content:center;align-items:center;text-transform:uppercase;position:-webkit-sticky;position:sticky;bottom:0}@media (min-width:992px){.map-link[_ngcontent-%COMP%]{display:none}}"]})},cUpR:function(t,e,n){"use strict";n.r(e),n.d(e,"BrowserModule",(function(){return st})),n.d(e,"BrowserTransferStateModule",(function(){return Mt})),n.d(e,"By",(function(){return xt})),n.d(e,"DomSanitizer",(function(){return $})),n.d(e,"EVENT_MANAGER_PLUGINS",(function(){return b})),n.d(e,"EventManager",(function(){return M})),n.d(e,"HAMMER_GESTURE_CONFIG",(function(){return z})),n.d(e,"HAMMER_LOADER",(function(){return F})),n.d(e,"HammerGestureConfig",(function(){return j})),n.d(e,"HammerModule",(function(){return H})),n.d(e,"Meta",(function(){return lt})),n.d(e,"Title",(function(){return pt})),n.d(e,"TransferState",(function(){return vt})),n.d(e,"VERSION",(function(){return wt})),n.d(e,"disableDebugTools",(function(){return gt})),n.d(e,"enableDebugTools",(function(){return mt})),n.d(e,"makeStateKey",(function(){return _t})),n.d(e,"platformBrowser",(function(){return ot})),n.d(e,"\u0275BROWSER_SANITIZATION_PROVIDERS",(function(){return it})),n.d(e,"\u0275BROWSER_SANITIZATION_PROVIDERS__POST_R3__",(function(){return rt})),n.d(e,"\u0275BrowserDomAdapter",(function(){return a})),n.d(e,"\u0275BrowserGetTestability",(function(){return d})),n.d(e,"\u0275DomEventsPlugin",(function(){return N})),n.d(e,"\u0275DomRendererFactory2",(function(){return L})),n.d(e,"\u0275DomSanitizerImpl",(function(){return Z})),n.d(e,"\u0275DomSharedStylesHost",(function(){return C})),n.d(e,"\u0275ELEMENT_PROBE_PROVIDERS",(function(){return v})),n.d(e,"\u0275ELEMENT_PROBE_PROVIDERS__POST_R3__",(function(){return y})),n.d(e,"\u0275HAMMER_PROVIDERS__POST_R3__",(function(){return q})),n.d(e,"\u0275HammerGesturesPlugin",(function(){return B})),n.d(e,"\u0275INTERNAL_BROWSER_PLATFORM_PROVIDERS",(function(){return nt})),n.d(e,"\u0275KeyEventsPlugin",(function(){return J})),n.d(e,"\u0275NAMESPACE_URIS",(function(){return S})),n.d(e,"\u0275SharedStylesHost",(function(){return w})),n.d(e,"\u0275TRANSITION_ID",(function(){return l})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_a",(function(){return tt})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_b",(function(){return et})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_c",(function(){return at})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_d",(function(){return ct})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_e",(function(){return ut})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_f",(function(){return bt})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_g",(function(){return x})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_h",(function(){return V})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_i",(function(){return Y})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_j",(function(){return K})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_k",(function(){return u})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_l",(function(){return p})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_m",(function(){return g})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_n",(function(){return _})),n.d(e,"\u0275angular_packages_platform_browser_platform_browser_o",(function(){return o})),n.d(e,"\u0275escapeHtml",(function(){return yt})),n.d(e,"\u0275flattenStyles",(function(){return A})),n.d(e,"\u0275initDomAdapter",(function(){return Q})),n.d(e,"\u0275shimContentAttribute",(function(){return T})),n.d(e,"\u0275shimHostAttribute",(function(){return O}));var r=n("SVse"),i=n("8Y7J");n.d(e,"\u0275getDOM",(function(){return r["\u0275getDOM"]}));class o extends r["\u0275DomAdapter"]{constructor(){super()}supportsDOMEvents(){return!0}}class a extends o{static makeCurrent(){Object(r["\u0275setRootDomAdapter"])(new a)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=c||(c=document.querySelector("base"),c)?c.getAttribute("href"):null;return null==e?null:(n=e,s||(s=document.createElement("a")),s.setAttribute("href",n),"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname);var n}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r["\u0275parseCookieValue"])(document.cookie,t)}}let s,c=null;const l=new i.InjectionToken("TRANSITION_ID");function u(t,e,n){return()=>{n.get(i.ApplicationInitStatus).donePromise.then(()=>{const n=Object(r["\u0275getDOM"])();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}}const p=[{provide:i.APP_INITIALIZER,useFactory:u,deps:[l,r.DOCUMENT,i.Injector],multi:!0}];class d{static init(){Object(i.setTestabilityGetter)(new d)}addToWindow(t){i["\u0275global"].getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i["\u0275global"].getAllAngularTestabilities=()=>t.getAllTestabilities(),i["\u0275global"].getAllAngularRootElements=()=>t.getAllRootElements(),i["\u0275global"].frameworkStabilizers||(i["\u0275global"].frameworkStabilizers=[]),i["\u0275global"].frameworkStabilizers.push(t=>{const e=i["\u0275global"].getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r["\u0275getDOM"])().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}function h(t,e){"undefined"!=typeof COMPILED&&COMPILED||((i["\u0275global"].ng=i["\u0275global"].ng||{})[t]=e)}const f=(()=>({ApplicationRef:i.ApplicationRef,NgZone:i.NgZone}))();function m(t){return Object(i["\u0275getDebugNodeR2"])(t)}function g(t){return h("probe",m),h("coreTokens",Object.assign(Object.assign({},f),(t||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>m}const y=[],_=[{provide:i.APP_INITIALIZER,useFactory:g,deps:[[i.NgProbeToken,new i.Optional]],multi:!0}],v=y,b=new i.InjectionToken("EventManagerPlugins");let M=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](b),i["\u0275\u0275inject"](i.NgZone))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class x{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r["\u0275getDOM"])().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let w=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t extends w{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(r["\u0275getDOM"])().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.DOCUMENT))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const S={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},E=/%COMP%/g;function T(t){return"_ngcontent-%COMP%".replace(E,t)}function O(t){return"_nghost-%COMP%".replace(E,t)}function A(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?A(t,i,n):(i=i.replace(E,t),n.push(i))}return n}function P(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let L=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new k(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new I(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case i.ViewEncapsulation.Native:case i.ViewEncapsulation.ShadowDom:return new D(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=A(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](M),i["\u0275\u0275inject"](C),i["\u0275\u0275inject"](i.APP_ID))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class k{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(S[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=S[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=S[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&i.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&i.RendererStyleFlags2.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,P(n)):this.eventManager.addEventListener(t,e,P(n))}}class I extends k{constructor(t,e,n,r){super(t),this.component=n;const i=A(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=T(r+"-"+n.id),this.hostAttr=O(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class D extends k{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.ViewEncapsulation.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=A(r.id,r.styles,[]);for(let i=0;i<o.length;i++){const t=document.createElement("style");t.textContent=o[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let N=(()=>{class t extends x{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.DOCUMENT))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const R={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},z=new i.InjectionToken("HammerGestureConfig"),F=new i.InjectionToken("HammerLoader");let j=(()=>{class t{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),B=(()=>{class t extends x{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!R.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.DOCUMENT),i["\u0275\u0275inject"](z),i["\u0275\u0275inject"](i["\u0275Console"]),i["\u0275\u0275inject"](F,8))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const q=[],V=[{provide:b,useClass:B,multi:!0,deps:[r.DOCUMENT,z,i["\u0275Console"],[new i.Optional,F]]},{provide:z,useClass:j,deps:[]}],Y=q;let H=(()=>{class t{}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:V}),t})();const W=["alt","control","meta","shift"],U={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},X={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},G={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let J=(()=>{class t extends x{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const o=t.parseEventName(n),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r["\u0275getDOM"])().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(W.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&X.hasOwnProperty(e)&&(e=X[e]))}return U[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),W.forEach(r=>{r!=n&&(0,G[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.DOCUMENT))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return Object(i["\u0275\u0275inject"])(Z)},token:t,providedIn:"root"}),t})();function K(t){return new Z(t.get(r.DOCUMENT))}let Z=(()=>{class t extends ${constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.SecurityContext.NONE:return e;case i.SecurityContext.HTML:return Object(i["\u0275allowSanitizationBypassAndThrow"])(e,"HTML")?Object(i["\u0275unwrapSafeValue"])(e):Object(i["\u0275_sanitizeHtml"])(this._doc,String(e));case i.SecurityContext.STYLE:return Object(i["\u0275allowSanitizationBypassAndThrow"])(e,"Style")?Object(i["\u0275unwrapSafeValue"])(e):e;case i.SecurityContext.SCRIPT:if(Object(i["\u0275allowSanitizationBypassAndThrow"])(e,"Script"))return Object(i["\u0275unwrapSafeValue"])(e);throw new Error("unsafe value used in a script context");case i.SecurityContext.URL:return Object(i["\u0275getSanitizationBypassType"])(e),Object(i["\u0275allowSanitizationBypassAndThrow"])(e,"URL")?Object(i["\u0275unwrapSafeValue"])(e):Object(i["\u0275_sanitizeUrl"])(String(e));case i.SecurityContext.RESOURCE_URL:if(Object(i["\u0275allowSanitizationBypassAndThrow"])(e,"ResourceURL"))return Object(i["\u0275unwrapSafeValue"])(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i["\u0275bypassSanitizationTrustHtml"])(t)}bypassSecurityTrustStyle(t){return Object(i["\u0275bypassSanitizationTrustStyle"])(t)}bypassSecurityTrustScript(t){return Object(i["\u0275bypassSanitizationTrustScript"])(t)}bypassSecurityTrustUrl(t){return Object(i["\u0275bypassSanitizationTrustUrl"])(t)}bypassSecurityTrustResourceUrl(t){return Object(i["\u0275bypassSanitizationTrustResourceUrl"])(t)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.DOCUMENT))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return K(Object(i["\u0275\u0275inject"])(i.INJECTOR))},token:t,providedIn:"root"}),t})();function Q(){a.makeCurrent(),d.init()}function tt(){return new i.ErrorHandler}function et(){return Object(i["\u0275setDocument"])(document),document}const nt=[{provide:i.PLATFORM_ID,useValue:r["\u0275PLATFORM_BROWSER_ID"]},{provide:i.PLATFORM_INITIALIZER,useValue:Q,multi:!0},{provide:r.DOCUMENT,useFactory:et,deps:[]}],rt=[],it=rt,ot=Object(i.createPlatformFactory)(i.platformCore,"browser",nt),at=[it,{provide:i["\u0275INJECTOR_SCOPE"],useValue:"root"},{provide:i.ErrorHandler,useFactory:tt,deps:[]},{provide:b,useClass:N,multi:!0,deps:[r.DOCUMENT,i.NgZone,i.PLATFORM_ID]},{provide:b,useClass:J,multi:!0,deps:[r.DOCUMENT]},Y,{provide:L,useClass:L,deps:[M,C,i.APP_ID]},{provide:i.RendererFactory2,useExisting:L},{provide:w,useExisting:C},{provide:C,useClass:C,deps:[r.DOCUMENT]},{provide:i.Testability,useClass:i.Testability,deps:[i.NgZone]},{provide:M,useClass:M,deps:[b,i.NgZone]},v];let st=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.APP_ID,useValue:e.appId},{provide:l,useExisting:i.APP_ID},p]}}}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(i["\u0275\u0275inject"](t,12))},providers:at,imports:[r.CommonModule,i.ApplicationModule]}),t})();function ct(){return new lt(Object(i["\u0275\u0275inject"])(r.DOCUMENT))}let lt=(()=>{class t{constructor(t){this._doc=t,this._dom=Object(r["\u0275getDOM"])()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._doc.querySelectorAll(`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");return this._setMetaElementAttributes(t,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>e.getAttribute(n)===t[n])}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.DOCUMENT))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:ct,token:t,providedIn:"root"}),t})();function ut(){return new pt(Object(i["\u0275\u0275inject"])(r.DOCUMENT))}let pt=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.DOCUMENT))},t.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:ut,token:t,providedIn:"root"}),t})();const dt="undefined"!=typeof window&&window||{};class ht{constructor(t,e){this.msPerTick=t,this.numTicks=e}}class ft{constructor(t){this.appRef=t.injector.get(i.ApplicationRef)}timeChangeDetection(t){const e=t&&t.record,n=null!=dt.console.profile;e&&n&&dt.console.profile("Change Detection");const i=Object(r["\u0275getDOM"])().performanceNow();let o=0;for(;o<5||Object(r["\u0275getDOM"])().performanceNow()-i<500;)this.appRef.tick(),o++;const a=Object(r["\u0275getDOM"])().performanceNow();e&&n&&dt.console.profileEnd("Change Detection");const s=(a-i)/o;return dt.console.log(`ran ${o} change detection cycles`),dt.console.log(s.toFixed(2)+" ms per check"),new ht(s,o)}}function mt(t){return h("profiler",new ft(t)),t}function gt(){h("profiler",null)}function yt(t){const e={"&":"&a;",'"':"&q;","'":"&s;","<":"&l;",">":"&g;"};return t.replace(/[&"'<>]/g,t=>e[t])}function _t(t){return t}let vt=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const n=new t;return n.store=e,n}get(t,e){return void 0!==this.store[t]?this.store[t]:e}set(t,e){this.store[t]=e}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}onSerialize(t,e){this.onSerializeCallbacks[t]=e}toJson(){for(const e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function bt(t,e){const n=t.getElementById(e+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(t){const e={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return t.replace(/&[^;]+;/g,t=>e[t])}(n.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return vt.init(r)}let Mt=(()=>{class t{}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[{provide:vt,useFactory:bt,deps:[r.DOCUMENT,i.APP_ID]}]}),t})();class xt{static all(){return()=>!0}static css(t){return e=>null!=e.nativeElement&&function(t,e){return!!Object(r["\u0275getDOM"])().isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}(e.nativeElement,t)}static directive(t){return e=>-1!==e.providerTokens.indexOf(t)}}const wt=new i.Version("10.0.7")},cWxq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapOptionsComponent=void 0;const r=n("1z/I"),i=n("qCKp"),o=n("kU1M"),a=n("sYyf"),s=n("RNDk"),c=n("7P/m"),l=n("ha9l"),u=n("AoJw"),p=n("zpQm"),d=n("qoZc"),h=n("8Y7J"),f=n("VS5s"),m=n("aUnO"),g=n("tqRt"),y=n("MhY6"),_=n("s7LF"),v=n("0njA"),b=n("SVse"),M=n("eWx7");function x(t,e){if(1&t){const t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"tni-form-checkbox",18),h.\u0275\u0275listener("clicked",(function(){return h.\u0275\u0275restoreView(t),h.\u0275\u0275nextContext(3).mapOptionClick()})),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementContainerEnd()}if(2&t){const t=h.\u0275\u0275nextContext().$implicit,e=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275propertyInterpolate1("iconClasses","map-options__icon label-icon ",t.icon.classes,""),h.\u0275\u0275property("name",t.name)("text",t.text)("formControlName",t.name)("checkboxGroup",e.mapOptionsForm)("icon",t.icon.name)}}function w(t,e){if(1&t){const t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"tni-form-checkbox",19),h.\u0275\u0275listener("clicked",(function(){return h.\u0275\u0275restoreView(t),h.\u0275\u0275nextContext(3).mapOptionClick()})),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementContainerEnd()}if(2&t){const t=h.\u0275\u0275nextContext().$implicit,e=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275propertyInterpolate1("iconClasses","map-options__icon label-image ",t.icon.classes,""),h.\u0275\u0275property("name",t.name)("text",t.text)("formControlName",t.name)("checkboxGroup",e.mapOptionsForm)("image",t.icon.name)}}function C(t,e){if(1&t&&(h.\u0275\u0275elementStart(0,"div",15),h.\u0275\u0275elementStart(1,"div",16),h.\u0275\u0275template(2,x,2,6,"ng-container",17),h.\u0275\u0275template(3,w,2,6,"ng-container",17),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&t){const t=e.$implicit,n=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",t.icon.type==n.mapOptionsIconType.Icon),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",t.icon.type==n.mapOptionsIconType.Image)}}function S(t,e){if(1&t&&(h.\u0275\u0275elementStart(0,"div",12),h.\u0275\u0275elementStart(1,"h4"),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"div",13),h.\u0275\u0275template(4,C,4,2,"div",14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&t){const t=e.$implicit,n=h.\u0275\u0275nextContext();h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(t.heading),h.\u0275\u0275advance(1),h.\u0275\u0275property("formGroup",n.mapOptionsForm),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.options)}}class E{constructor(t,e,n,r,o){this.trackTripPlannerEventService=t,this.storeMapService=e,this.store=n,this.windowRef=r,this.fb=o,this.isMapOptionsOpen=!1,this.mapOptionsUI=c.MAP_OPTIONS_DISPLAY,this.mapOptionsIconType=c.MapOptionsIconType,this.ngDestroyed$=new i.Subject,this._hasUserChangedMapOptions=!1,this.mapOptionsLocal={stops:!0,opal:!1,poi:!1,bikeOnly:!1,bikeNoAccess:!1,sharedPath:!1,walkOnly:!1,bikeLocker:!1,bikeShed:!1},this.mapOptionsForm=this.fb.group(this.mapOptionsLocal)}ngOnInit(){i.combineLatest([this.store.select(u.getTransportFilter),this.storeMapService.getMapSource$,this.storeMapService.getUseDefaultMapOptions$()]).pipe(o.takeUntil(this.ngDestroyed$)).subscribe(([t,e,n])=>{e&&(this.mapSource=e),this.transMode=e===d.MapSource.Departures?l.JourneyType.PublicTransport:t.filter,!1===n?(this.mapOptionsLocal=c.OPAL_RETAILER_TO_PUBLIC_TRANSPORT_MAP_OPTIONS,this.setMapOptionsForm()):e!==d.MapSource.OpalRetailers&&!this._hasUserChangedMapOptions&&this.transMode&&(this.mapOptionsLocal=this._getMapOptionsByTravelMode(this.transMode),this.mapOptionsLocalOriginal=Object.assign({},this.mapOptionsLocal),this.setMapOptionsForm())}),this.storeMapService.getMapOptions$().pipe(o.filter(t=>!!t),o.takeUntil(this.ngDestroyed$)).subscribe(t=>{this.mapOptionsLocal=t}),this.mapOptionsLocalOriginal||(this.mapOptionsLocalOriginal=this.mapOptionsLocal),this.setMapOptionsForm()}setMapOptionsForm(){this.mapOptionsForm.patchValue(this.mapOptionsLocal),this.changeMapOptions()}mapOptionClick(){this._hasUserChangedMapOptions||(this._hasUserChangedMapOptions=!0),this.windowRef.isMobileView()||this.changeMapOptions()}changeMapOptions(){this.store.dispatch(new s.MapOptionsAction({mapOptions:{stops:this.mapOptionsForm.controls.stops.value,opal:this.mapOptionsForm.controls.opal.value,poi:this.mapOptionsForm.controls.poi.value,bikeOnly:this.mapOptionsForm.controls.bikeOnly.value,bikeNoAccess:this.mapOptionsForm.controls.bikeNoAccess.value,sharedPath:this.mapOptionsForm.controls.sharedPath.value,walkOnly:this.mapOptionsForm.controls.walkOnly.value,bikeLocker:this.mapOptionsForm.controls.bikeLocker.value,bikeShed:this.mapOptionsForm.controls.bikeShed.value}}))}toggleMapOptions(t){if(t.stopPropagation(),this.isMapOptionsOpen=!this.isMapOptionsOpen,this.isMapOptionsOpen&&(this.mapOptionsLocalOriginal=Object.assign({},this.mapOptionsLocal),this.setMapOptionsForm()),!this.isMapOptionsOpen&&this._hasUserChangedMapOptions&&this.mapSource&&JSON.stringify(this.mapOptionsLocal)!==JSON.stringify(this.mapOptionsLocalOriginal)){const t=Object.entries(this.mapOptionsLocal).filter(([t,e])=>!!e).map(([t])=>c.MAP_OPTIONS_DISPLAY_NAME_TO_TEXT_MAP[t]),e=t.length>0?t.join(","):"All layers removed";this.mapSource===d.MapSource.TripPlanner?this.trackTripPlannerEventService.trackMapOptions(p.EventCategory.TripPlanner,e,this.transMode):this.mapSource===d.MapSource.Departures&&this.trackTripPlannerEventService.trackMapOptions(p.EventCategory.Departures,e)}}ngOnDestroy(){this.ngDestroyed$.next()}_getMapOptionsByTravelMode(t){switch(t){case l.JourneyType.Cycle:return c.DEFAULT_MAP_OPTIONS_CYCLE;case l.JourneyType.Walk:return c.DEFAULT_MAP_OPTIONS_WALK;case l.JourneyType.PublicTransport:return c.DEFAULT_MAP_OPTIONS_PUBLIC_TRANSPORT;default:return c.INIT_MAP_OPTIONS}}}e.MapOptionsComponent=E,E.\u0275fac=function(t){return new(t||E)(h.\u0275\u0275directiveInject(f.TrackTripPlannerEventService),h.\u0275\u0275directiveInject(m.StoreMapService),h.\u0275\u0275directiveInject(g.Store),h.\u0275\u0275directiveInject(y.WindowRef),h.\u0275\u0275directiveInject(_.FormBuilder))},E.\u0275cmp=h.\u0275\u0275defineComponent({type:E,selectors:[["tni-map-options"]],viewQuery:function(t,e){var n;1&t&&h.\u0275\u0275viewQuery(r.CdkPortal,!0),2&t&&h.\u0275\u0275queryRefresh(n=h.\u0275\u0275loadQuery())&&(e.portal=n.first)},inputs:{mapOptions:"mapOptions"},decls:19,vars:3,consts:[[1,"map-options"],["href","javascript:;",1,"map-options__button","btn","btn-primary","go-btn",3,"click"],["iconName","refine","iconClasses","tp-icon","iconAriaHidden","true"],[1,"map-options__panel"],[1,"map-options__top"],["iconName","refine","iconClasses","tp-icon map-options__top__icon","iconAriaHidden","true"],["href","javascript:;",1,"map-options__top__close",3,"click"],["iconName","chevron","iconClasses","tp-icon xs","iconAriaHidden","true"],[1,"map-options__bottom"],["class","map-options__group",4,"ngFor","ngForOf"],[1,"map-options__apply"],["type","button",1,"btn","btn-primary","go-btn","refine-btn-desktop",3,"click"],[1,"map-options__group"],[1,"map-options__row",3,"formGroup"],["class","map-options__row__item",4,"ngFor","ngForOf"],[1,"map-options__row__item"],[1,"map-options__row__input"],[4,"ngIf"],[3,"name","text","formControlName","checkboxGroup","icon","iconClasses","clicked"],[3,"name","text","formControlName","checkboxGroup","image","iconClasses","clicked"]],template:function(t,e){1&t&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"a",1),h.\u0275\u0275listener("click",(function(t){return e.toggleMapOptions(t)})),h.\u0275\u0275element(2,"tni-icon",2),h.\u0275\u0275elementStart(3,"span"),h.\u0275\u0275text(4,"Map options"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"div",3),h.\u0275\u0275elementStart(6,"div",4),h.\u0275\u0275element(7,"tni-icon",5),h.\u0275\u0275elementStart(8,"div"),h.\u0275\u0275text(9,"Map options"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(10,"a",6),h.\u0275\u0275listener("click",(function(t){return e.toggleMapOptions(t)})),h.\u0275\u0275element(11,"tni-icon",7),h.\u0275\u0275elementStart(12,"span"),h.\u0275\u0275text(13,"Cancel"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"div",8),h.\u0275\u0275template(15,S,5,3,"div",9),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"div",10),h.\u0275\u0275elementStart(17,"button",11),h.\u0275\u0275listener("click",(function(t){return e.changeMapOptions(),e.toggleMapOptions(t)})),h.\u0275\u0275text(18," Apply "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&t&&(h.\u0275\u0275advance(5),h.\u0275\u0275classProp("visible",e.isMapOptionsOpen),h.\u0275\u0275advance(10),h.\u0275\u0275property("ngForOf",e.mapOptionsUI))},directives:[v.IconComponent,b.NgForOf,_.NgControlStatusGroup,_.FormGroupDirective,b.NgIf,M.CheckboxFormComponent,_.NgControlStatus,_.FormControlName],styles:[".map-options[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.map-options[_ngcontent-%COMP%]   .map-options__button[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);position:absolute;top:8px;right:16px;font-size:14px;font-weight:400;padding:8px 16px;z-index:1}.map-options[_ngcontent-%COMP%]   .map-options__button[_ngcontent-%COMP%]     tni-icon{height:22px;line-height:22px}.map-options[_ngcontent-%COMP%]   .map-options__button[_ngcontent-%COMP%]     tni-icon .tp-icon{position:relative;top:-1px;margin-right:10px;width:22px;height:22px;vertical-align:middle}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.map-options[_ngcontent-%COMP%]   .map-options__button[_ngcontent-%COMP%]{padding:0;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.map-options[_ngcontent-%COMP%]   .map-options__button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:none}.map-options[_ngcontent-%COMP%]   .map-options__button[_ngcontent-%COMP%]     tni-icon .tp-icon{height:22px;margin:0;width:22px}}.map-options[_ngcontent-%COMP%]   .map-options__panel[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);position:absolute;top:0;right:0;bottom:0;background-color:#fff;max-width:335px;transform:translate3d(335px,0,0);transition:all .3s;transition-timing-function:cubic-bezier(0,.52,0,1);visibility:hidden;width:100%;z-index:0}.map-options[_ngcontent-%COMP%]   .map-options__panel.visible[_ngcontent-%COMP%]{transform:translateZ(0);visibility:visible;z-index:11}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.map-options[_ngcontent-%COMP%]   .map-options__panel[_ngcontent-%COMP%]{max-width:100%;transform:none;transition:opacity .3s;opacity:0;overflow:scroll;padding-top:52px;padding-bottom:50px}.map-options[_ngcontent-%COMP%]   .map-options__panel.visible[_ngcontent-%COMP%]{transform:none;opacity:1;z-index:10200}}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]{align-items:center;border-bottom:1px solid #ddd;color:#1c1c1b;display:flex;padding:16px 24px;font-weight:500;z-index:2}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]     tni-icon{height:22px;line-height:22px}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]     tni-icon .tp-icon{position:relative;top:-1px;margin-right:24px;width:22px;height:22px;vertical-align:middle}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]   .map-options__top__close[_ngcontent-%COMP%]{position:absolute;right:0;color:#1c1c1b}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]   .map-options__top__close[_ngcontent-%COMP%]     tni-icon{height:10px;line-height:10px}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]   .map-options__top__close[_ngcontent-%COMP%]     tni-icon .tp-icon{position:relative;top:-1px;margin-right:16px;width:10px;height:10px;vertical-align:middle;transform:rotate(-90deg)}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]   .map-options__top__close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;color:#1d69b4;margin-right:16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:0;background-color:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1;text-align:center}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]   .map-options__top__close[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{display:none}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%]   .map-options__top__close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.map-options[_ngcontent-%COMP%]   .map-options__top[_ngcontent-%COMP%] > tni-icon[_ngcontent-%COMP%]{position:absolute;left:24px}}.map-options[_ngcontent-%COMP%]   .map-options__bottom[_ngcontent-%COMP%]{padding:24px;z-index:0}.map-options[_ngcontent-%COMP%]   .map-options__bottom[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:16px;font-size:13px;font-weight:500}.map-options[_ngcontent-%COMP%]   .map-options__apply[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;left:0;background-color:#fff;box-shadow:0 -1px 5px 0 rgba(0,0,0,.2);display:none;padding:16px;z-index:1}.map-options[_ngcontent-%COMP%]   .map-options__apply[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:12px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.map-options[_ngcontent-%COMP%]   .map-options__apply[_ngcontent-%COMP%]{display:block}}.map-options[_ngcontent-%COMP%]   .map-options__group[_ngcontent-%COMP%]{margin-bottom:32px}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__item[_ngcontent-%COMP%]{align-items:center;display:flex;margin-bottom:16px}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]{display:block;width:100%}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .checkbox{position:absolute;right:0;border:1px solid rgba(0,0,0,.4);border-radius:3px;float:none;min-width:16px;height:16px}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .checkbox.selected .tick .tp-icon{left:25%;width:10px;min-width:10px;height:10px}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .map-options__icon{margin-right:24px}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .label-image{position:relative;top:-2px;left:1px;width:22px}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .checkbox-label{width:100%;margin:0;z-index:1}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .checkbox-label .tp-icon{height:22px;width:22px}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .checkbox-label .tp-icon.icon-primary{height:24px;width:24px;color:#1d69b4;fill:#1d69b4;top:-2px}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .checkbox-label .tp-icon.icon-bikeAccess{color:#00a908;fill:#00a908}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .checkbox-label .tp-icon.icon-noBikeAccess{color:#b81237;fill:#b81237}.map-options[_ngcontent-%COMP%]   .map-options__row[_ngcontent-%COMP%]   .map-options__row__input[_ngcontent-%COMP%]     .checkbox-label .tp-icon.icon-walkOnly{color:#008506;fill:#008506}"],data:{animation:[a.fadeOutAnimation]}})},cp0P:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("HDdC"),i=n("DH7j"),o=n("lJxs"),a=n("XoHu"),s=n("Cfvw");function c(...t){if(1===t.length){const e=t[0];if(Object(i.a)(e))return l(e,null);if(Object(a.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(i.a)(t[0])?t[0]:t,null).pipe(Object(o.a)(t=>e(...t)))}return l(t,null)}function l(t,e){return new r.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,a=0;for(let c=0;c<r;c++){const l=Object(s.a)(t[c]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,a++),i[c]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(a===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}},czMo:function(t,e,n){!function(t){"use strict";t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n("wd/R"))},d39G:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureErrorComponent=void 0;const r=n("8Y7J"),i=n("8Y7J"),o=n("SVse"),a=["tryBtn"];function s(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"p",5),i.\u0275\u0275text(2,"Unable to connect"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"p",6),i.\u0275\u0275text(4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(t.errorMessage.split(".")[1])}}function c(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"p",5),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(t.errorMessage)}}class l{constructor(){this.tryAgain=new r.EventEmitter}ngAfterViewInit(){this.tryBtnEl.nativeElement.focus()}clickTryAgain(){this.tryAgain.emit()}}e.DepartureErrorComponent=l,l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=i.\u0275\u0275defineComponent({type:l,selectors:[["tni-departure-error"]],viewQuery:function(t,e){var n;1&t&&i.\u0275\u0275staticViewQuery(a,!0),2&t&&i.\u0275\u0275queryRefresh(n=i.\u0275\u0275loadQuery())&&(e.tryBtnEl=n.first)},inputs:{errorMessage:"errorMessage"},outputs:{tryAgain:"tryAgain"},decls:8,vars:3,consts:[[1,"error-wrap"],["role","alert","aria-live","polite","aria-atomic","true",1,"sr-only"],[4,"ngIf"],["aria-label","try again",1,"btn-retry",3,"click"],["tryBtn",""],["aria-disabled","true"],["aria-disabled","true",1,"error-wrap-body"]],template:function(t,e){1&t&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementStart(1,"p",1),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(3,s,5,1,"div",2),i.\u0275\u0275template(4,c,3,1,"div",2),i.\u0275\u0275elementStart(5,"button",3,4),i.\u0275\u0275listener("click",(function(){return e.clickTryAgain()})),i.\u0275\u0275text(7,"Try again"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&t&&(i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",e.errorMessage," "),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",null==e.errorMessage?null:e.errorMessage.includes("Unable to connect")),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.errorMessage&&!e.errorMessage.includes("Unable to connect")))},directives:[o.NgIf],styles:[".mapboxgl-popup-anchor-top-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%], .mapboxgl-popup-anchor-top-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%],   .mapboxgl-popup-anchor-top .mapboxgl-popup-tip{border-bottom-color:#fff!important}  .mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip,   .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{margin-right:8px}.mapboxgl-popup-anchor-bottom-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%], .mapboxgl-popup-anchor-bottom-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%],   .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{border-top-color:#fff!important}  .mapboxgl-popup-anchor-bottom{padding-bottom:23px;margin-left:2px}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-content{margin-bottom:-15px}}  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-top-color:#fff!important;position:absolute;bottom:15px;border-color:transparent transparent #fff #fff;transform:rotate(-45deg);box-shadow:-3px 3px 3px 0 rgba(0,0,0,.4);border-bottom:8px solid #fff;right:141px}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{position:relative;bottom:-4px;border-bottom:8px solid #fff}}  .mapboxgl-popup-anchor-left .mapboxgl-popup-tip{border-right-color:#fff!important}  .mapboxgl-popup-anchor-right .mapboxgl-popup-tip{border-left-color:#fff!important}  .mapboxgl-popup{width:298px;max-width:unset!important}  .mapboxgl-popup .mapboxgl-popup-content{box-shadow:0 5px 5px -3px rgba(0,0,0,.2);width:290px}  .mapboxgl-popup .mapboxgl-popup-content .popup-container{height:unset}  .mapboxgl-popup .mapboxgl-popup-content .h4{color:#171717;height:unset;padding-left:6px;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;display:inline-block;line-height:18px;margin-bottom:0;padding-right:24px}  .mapboxgl-popup .mapboxgl-popup-content .message{height:unset;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;line-height:18px;padding-left:6px;font-weight:200;padding-top:6px;padding-bottom:6px}  .mapboxgl-popup .mapboxgl-popup-content a{text-decoration:none}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container{height:40px;margin:3px -6px 0;display:flex;justify-content:space-around}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .tp-icon.xs{height:18px;width:18px;margin-top:-5px}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a{min-width:115px;box-sizing:border-box;height:40px;border:1px solid #cac9c9;border-radius:4px;background-color:#fff;padding:11px}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a div{text-align:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a .link-label{margin-left:6px;height:18px;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;line-height:18px;text-align:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container{display:flex;justify-content:flex-start;align-items:flex-end;padding:4px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container   .tp-icon{margin-right:2px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container a{font-size:14px;color:#1d69b4;padding-right:10px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container a .button-content{display:flex;justify-content:center;align-items:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-departures-from-here-container h3{display:block}  .mapboxgl-popup .mapboxgl-popup-content .popup-departures-from-here-container a{display:block;height:40px;margin:4px 6px;border:1px solid #cac9c9;border-radius:4px;padding:11px;text-decoration:none;text-align:center;background-color:#fff;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;line-height:18px}  .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-close-button{font-size:24px;margin-right:14px;margin-top:14px;font-weight:200}  .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-content-bottom{margin-top:2px;height:unset;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;line-height:18px;font-weight:200}.error-wrap[_ngcontent-%COMP%]{text-align:center}.error-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;color:#555;line-height:20px;height:32px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff;height:48px;width:240px}.error-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;font-size:14px;font-weight:500;letter-spacing:.4px;width:70%;margin:0 auto 16px;line-height:16px}.error-wrap[_ngcontent-%COMP%]   .error-wrap-body[_ngcontent-%COMP%]{font-weight:200}"]})},dBJ5:function(t,e,n){"use strict";n.r(e),n.d(e,"DEFAULT_ROUTER_FEATURENAME",(function(){return C})),n.d(e,"DefaultRouterStateSerializer",(function(){return v})),n.d(e,"MinimalRouterStateSerializer",(function(){return b})),n.d(e,"NavigationActionTiming",(function(){return M})),n.d(e,"ROUTER_CANCEL",(function(){return p})),n.d(e,"ROUTER_CONFIG",(function(){return w})),n.d(e,"ROUTER_ERROR",(function(){return h})),n.d(e,"ROUTER_NAVIGATED",(function(){return m})),n.d(e,"ROUTER_NAVIGATION",(function(){return l})),n.d(e,"ROUTER_REQUEST",(function(){return s})),n.d(e,"RouterStateSerializer",(function(){return _})),n.d(e,"StoreRouterConnectingModule",(function(){return T})),n.d(e,"getSelectors",(function(){return O})),n.d(e,"routerCancelAction",(function(){return d})),n.d(e,"routerErrorAction",(function(){return f})),n.d(e,"routerNavigatedAction",(function(){return g})),n.d(e,"routerNavigationAction",(function(){return u})),n.d(e,"routerReducer",(function(){return y})),n.d(e,"routerRequestAction",(function(){return c})),n.d(e,"\u0275a",(function(){return x})),n.d(e,"\u0275b",(function(){return S}));var r=n("tqRt"),i=n("8Y7J"),o=n("iInd"),a=n("zp1y");const s="@ngrx/router-store/request",c=Object(r.createAction)(s,Object(r.props)()),l="@ngrx/router-store/navigation",u=Object(r.createAction)(l,Object(r.props)()),p="@ngrx/router-store/cancel",d=Object(r.createAction)(p,Object(r.props)()),h="@ngrx/router-store/error",f=Object(r.createAction)(h,Object(r.props)()),m="@ngrx/router-store/navigated",g=Object(r.createAction)(m,Object(r.props)());function y(t,e){const n=e;switch(n.type){case l:case h:case p:return{state:n.payload.routerState,navigationId:n.payload.event.id};default:return t}}class _{}class v{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){const e=t.children.map(t=>this.serializeRoute(t));return{params:t.params,paramMap:t.paramMap,data:t.data,url:t.url,outlet:t.outlet,routeConfig:t.routeConfig?{component:t.routeConfig.component,path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet}:null,queryParams:t.queryParams,queryParamMap:t.queryParamMap,fragment:t.fragment,component:t.routeConfig?t.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:e[0],pathFromRoot:void 0,children:e}}}class b{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){const e=t.children.map(t=>this.serializeRoute(t));return{params:t.params,data:t.data,url:t.url,outlet:t.outlet,routeConfig:t.routeConfig?{path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet}:null,queryParams:t.queryParams,fragment:t.fragment,firstChild:e[0],children:e}}}const M=function(){var t={PreActivation:1,PostActivation:2};return t[t.PreActivation]="PreActivation",t[t.PostActivation]="PostActivation",t}(),x=new i.InjectionToken("@ngrx/router-store Internal Configuration"),w=new i.InjectionToken("@ngrx/router-store Configuration"),C="router";function S(t){return Object.assign({stateKey:C,serializer:b,navigationActionTiming:M.PreActivation},t)}const E=function(){var t={NONE:1,ROUTER:2,STORE:3};return t[t.NONE]="NONE",t[t.ROUTER]="ROUTER",t[t.STORE]="STORE",t}();let T=(()=>{class t{constructor(t,e,n,r,i){this.store=t,this.router=e,this.serializer=n,this.errorHandler=r,this.config=i,this.lastEvent=null,this.routerState=null,this.trigger=E.NONE,this.stateKey=this.config.stateKey,this.setUpStoreStateListener(),this.setUpRouterEventsListener()}static forRoot(e={}){return{ngModule:t,providers:[{provide:x,useValue:e},{provide:w,useFactory:S,deps:[x]},{provide:_,useClass:e.serializer?e.serializer:0===e.routerState?v:b}]}}setUpStoreStateListener(){this.store.pipe(Object(r.select)(this.stateKey),Object(a.a)(this.store)).subscribe(([t,e])=>{this.navigateIfNeeded(t,e)})}navigateIfNeeded(t,e){if(!t||!t.state)return;if(this.trigger===E.ROUTER)return;if(this.lastEvent instanceof o.NavigationStart)return;const n=t.state.url;this.router.url!==n&&(this.storeState=e,this.trigger=E.STORE,this.router.navigateByUrl(n).catch(t=>{this.errorHandler.handleError(t)}))}setUpRouterEventsListener(){const t=this.config.navigationActionTiming===M.PostActivation;let e;this.router.events.pipe(Object(a.a)(this.store)).subscribe(([n,r])=>{this.lastEvent=n,n instanceof o.NavigationStart?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==E.STORE&&(this.storeState=r,this.dispatchRouterRequest(n))):n instanceof o.RoutesRecognized?(e=n,t||this.trigger===E.STORE||this.dispatchRouterNavigation(n)):n instanceof o.NavigationCancel?(this.dispatchRouterCancel(n),this.reset()):n instanceof o.NavigationError?(this.dispatchRouterError(n),this.reset()):n instanceof o.NavigationEnd&&(this.trigger!==E.STORE&&(t&&this.dispatchRouterNavigation(e),this.dispatchRouterNavigated(n)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction(s,{event:t})}dispatchRouterNavigation(t){const e=this.serializer.serialize(t.state);this.dispatchRouterAction(l,{routerState:e,event:new o.RoutesRecognized(t.id,t.url,t.urlAfterRedirects,e)})}dispatchRouterCancel(t){this.dispatchRouterAction(p,{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction(h,{storeState:this.storeState,event:new o.NavigationError(t.id,t.url,""+t)})}dispatchRouterNavigated(t){const e=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(m,{event:t,routerState:e})}dispatchRouterAction(t,e){this.trigger=E.ROUTER;try{this.store.dispatch({type:t,payload:Object.assign(Object.assign({routerState:this.routerState},e),{event:0===this.config.routerState?e.event:{id:e.event.id,url:e.event.url}})})}finally{this.trigger=E.NONE}}reset(){this.trigger=E.NONE,this.storeState=null,this.routerState=null}}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(i["\u0275\u0275inject"](r.Store),i["\u0275\u0275inject"](o.Router),i["\u0275\u0275inject"](_),i["\u0275\u0275inject"](i.ErrorHandler),i["\u0275\u0275inject"](w))}}),t})();function O(t){const e=Object(r.createSelector)(t,t=>t&&t.state),n=Object(r.createSelector)(e,t=>{if(!t)return;let e=t.root;for(;e.firstChild;)e=e.firstChild;return e}),i=Object(r.createSelector)(n,t=>t&&t.fragment),o=Object(r.createSelector)(n,t=>t&&t.queryParams),a=Object(r.createSelector)(n,t=>t&&t.params),s=Object(r.createSelector)(n,t=>t&&t.data),c=Object(r.createSelector)(e,t=>t&&t.url);return{selectCurrentRoute:n,selectFragment:i,selectQueryParams:o,selectQueryParam:t=>Object(r.createSelector)(o,e=>e&&e[t]),selectRouteParams:a,selectRouteParam:t=>Object(r.createSelector)(a,e=>e&&e[t]),selectRouteData:s,selectUrl:c}}},dFlJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesRequestService=void 0;const r=n("wd/R"),i=n("8Y7J");class o{createDeparturesRequest(t){const e=t.dateTime?t.dateTime.format("YYYYMMDD"):r().format("YYYYMMDD"),n=t.dateTime?t.dateTime.format("HHmm"):r().format("HHmm");return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({date:e,debug:!1,depArrMacro:"dep",depType:"stopEvents",name:t.depart},t.arrive&&{destStopFilter:t.arrive}),{time:n,type:t.type||"stop"}),t.lines&&{lines:t.lines}),t.excludedModes&&{excludedModes:t.excludedModes}),{accessible:t.onlyAccessible})}}e.DeparturesRequestService=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=i.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac})},dN6K:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureStateService=void 0;const r=n("qCKp"),i=n("kU1M"),o=n("8Y7J"),a=n("IheW");class s{constructor(t){this.http=t,this.apiAddress="/drupal-api/",this.defaultParams="?_format=json",this.cache={}}getFeatureValue(t){return t&&t.drupalKey?void 0===this.cache[t.drupalKey]?this.http.get(`${this.apiAddress}${t.drupalKey}${this.defaultParams}`).pipe(i.tap(e=>this.cache[t.drupalKey]=e),i.catchError(()=>(this.cache[t.drupalKey]=t.default,r.of(t.default)))):r.of(this.cache[t.drupalKey]):r.of({})}}e.FeatureStateService=s,s.\u0275fac=function(t){return new(t||s)(o.\u0275\u0275inject(a.HttpClient))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac})},dNwA:function(t,e,n){!function(t){"use strict";t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n("wd/R"))},dduh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getExpandedJourney=void 0;const r=n("tqRt"),i=n("9hJF"),o=r.createFeatureSelector(i.selectedJourneyFeatureKey),a=r.createSelector(o,t=>t.selectedJourney);e.getExpandedJourney=a},dkDA:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("WMd4");function o(){return function(t){return t.lift(new a)}}class a{call(t,e){return e.subscribe(new s(t))}}class s extends r.a{constructor(t){super(t)}_next(t){this.destination.next(i.a.createNext(t))}_error(t){const e=this.destination;e.next(i.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(i.a.createComplete()),t.complete()}}},dl3s:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserPreferenceStoreService=void 0;const r=n("kU1M"),i=n("qCKp"),o=n("OuoU"),a=n("tqRt"),s=n("PCNd"),c=n("KQMD"),l=n("08lQ"),u=n("yqgP"),p=n("8Y7J"),d=n("IheW"),h=n("tqRt");class f{constructor(t,e){this.http=t,this.stateStore=e,this.userPreferenceStoreEndpoint="/api/preferences",this.historyStoreEndpoint="/api/preferences/history",this.departureHistoryStoreEndpoint="/api/preferences/departures",this.startSyncing=new i.Subject,this.updateHistorySideEffect().subscribe(),this.updateDepartureHistoryData().subscribe(),this.getAllItems().subscribe(t=>{const e=t.tripHistory?t.tripHistory.map(t=>({trip:{fromLocation:t.trip&&this.getLocationDetails(t.trip.fromLocation),toLocation:t.trip&&this.getLocationDetails(t.trip.toLocation)},id:t.id,isFav:t.isFav,timeStamp:t.timeStamp})):[];this.updateNgStore({tripHistory:e}),this.updateNgDepartureStore({departureHistory:t.previous_departures||[]}),this.startSyncing.next(!0)},t=>{this.updateNgStore({tripHistory:[]}),this.updateNgDepartureStore({departureHistory:[]}),404===t.status&&(this.createPrefStore(),this.startSyncing.next(!0))})}createPrefStore(){const t=this.readFromOldHistoryData(),e=this.readFromOldDepartureHistoryData();t.length>0&&this.updateNgStore({tripHistory:t}),this.setTripHistory({trip_history:t.length>0?t:[]}).subscribe(),e.length>0&&this.updateNgDepartureStore({departureHistory:e}),this.setDepartureHistory(e.length>0?e:[]).subscribe()}updateNgStore(t){this.stateStore.dispatch(new u.InitiateTripHistoryAction({data:t.tripHistory}))}updateNgDepartureStore(t){this.stateStore.dispatch(new c.InitiateDepartureHistoryAction({data:t.departureHistory}))}getOrCreateUUID(){let t=o.LocalStorageHelper.getString(f.USER_PREFERENCE_KEY);if(!t){const e=this.generateUUID();o.LocalStorageHelper.setItem(f.USER_PREFERENCE_KEY,e),t=e}return t}generateUUID(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]%16>>t/4).toString(16))}getAllItems(){const t=this.getOrCreateUUID();return this.http.get(`${this.userPreferenceStoreEndpoint}?id=${t}`).pipe(r.map(t=>t&&t.tripHistory?t:Object.assign(Object.assign({},t),{tripHistory:[]})))}setTripHistory(t){const e=this.getOrCreateUUID();return this.http.put(`${this.historyStoreEndpoint}?id=${e}`,t).pipe(r.map(t=>t||[]))}setDepartureHistory(t){const e=this.getOrCreateUUID();return this.http.put(""+this.departureHistoryStoreEndpoint,{id:e,previous_departures:t})}updateHistorySideEffect(){return this.getOrCreateUUID(),this.stateStore.pipe(a.select(t=>t.TripHistory),r.distinctUntilChanged((t,e)=>{let n;return t&&e&&(n=t.data.length===e.data.length&&(0===t.data.length||t.data.every((t,n)=>t===e.data[n]))),n}),r.skipUntil(this.startSyncing),r.switchMap(t=>this.setTripHistory({trip_history:t.data})))}updateDepartureHistoryData(){return this.getOrCreateUUID(),this.stateStore.pipe(a.select(t=>t.DepartureHistory),r.distinctUntilChanged((t,e)=>{let n;return t&&e&&t.data&&e.data&&(n=t.data&&e.data&&t.data.length===e.data.length&&(0===t.data.length||t.data.every((t,n)=>t===e.data[n]))),n}),r.skipUntil(this.startSyncing),r.switchMap(t=>this.setDepartureHistory(t.data)))}readFromOldHistoryData(){const t=o.LocalStorageHelper.getItem("previous_trips");return t?t.map(t=>({trip:{fromLocation:this.getLocationDetails(t.origin),toLocation:this.getLocationDetails(t.destination)},id:this.getTripId(t.origin)+this.getTripId(t.destination),isFav:!!t.favourite})):[]}readFromOldDepartureHistoryData(){const t=o.LocalStorageHelper.getItem("previous_departures");return t?t.map(t=>({departure:{fromLocation:this.getLocationDetails(t.origin),toLocation:this.getLocationDetails(t.destination)},id:this.getTripId(t.origin)+this.getTripId(t.destination)+t.isAccessible,isFav:!!t.favourite,isAccessible:t.isAccessible})):[]}getTripId(t){return t&&"current_location"===t.type?t.type:t&&t.fullName?t.fullName.replace(/\s+/g,""):""}getLocationDetails(t){return t&&"current_location"===t.id?l.Location.createCurrentLocation():t}}e.UserPreferenceStoreService=f,f.USER_PREFERENCE_KEY="tp_user_preference_store_uuid",f.\u0275fac=function(t){return new(t||f)(p.\u0275\u0275inject(d.HttpClient),p.\u0275\u0275inject(h.Store))},f.\u0275prov=p.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:s.SharedModule})},"e+ae":function(t,e,n){!function(t){"use strict";var e="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),n="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function r(t){return t>1&&t<5}function i(t,e,n,i){var o=t+" ";switch(n){case"s":return e||i?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return e||i?o+(r(t)?"sekundy":"sek\xfand"):o+"sekundami";case"m":return e?"min\xfata":i?"min\xfatu":"min\xfatou";case"mm":return e||i?o+(r(t)?"min\xfaty":"min\xfat"):o+"min\xfatami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?o+(r(t)?"hodiny":"hod\xedn"):o+"hodinami";case"d":return e||i?"de\u0148":"d\u0148om";case"dd":return e||i?o+(r(t)?"dni":"dn\xed"):o+"d\u0148ami";case"M":return e||i?"mesiac":"mesiacom";case"MM":return e||i?o+(r(t)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return e||i?"rok":"rokom";case"yy":return e||i?o+(r(t)?"roky":"rokov"):o+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},"e+jV":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperatorFareComponent=void 0;const r=n("8Y7J"),i=n("SVse");function o(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",1),r.\u0275\u0275text(1," From "),r.\u0275\u0275elementStart(2,"span",2),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1("$",t.fare.toFixed(2),"")}}class a{}e.OperatorFareComponent=a,a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=r.\u0275\u0275defineComponent({type:a,selectors:[["tni-operator-fare"]],inputs:{fare:"fare",isRecommended:"isRecommended"},decls:1,vars:1,consts:[["class","operator-fare",4,"ngIf"],[1,"operator-fare"],[1,"operator-fare-amount"]],template:function(t,e){1&t&&r.\u0275\u0275template(0,o,4,1,"div",0),2&t&&r.\u0275\u0275property("ngIf",e.fare)},directives:[i.NgIf],styles:[".operator-fare[_ngcontent-%COMP%]{font-size:13px;line-height:24px;text-align:right;color:#757575}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.operator-fare[_ngcontent-%COMP%]{line-height:18px}}.operator-fare-amount[_ngcontent-%COMP%]{color:#171717;font-weight:400}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.operator-fare-amount[_ngcontent-%COMP%]{padding-left:27px}}"]})},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),a=n("lJxs"),s=n("Cfvw");function c(t,e){return"function"==typeof e?n=>n.pipe(c((n,r)=>Object(s.a)(t(n,r)).pipe(Object(a.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new l(t))}class l{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends r.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const a=new i.a(this,e,n),s=this.destination;s.add(a),this.innerSubscription=Object(o.a)(this,t,void 0,void 0,a),this.innerSubscription!==a&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}},eNwd:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var o=n("IjjT");class a extends o.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const s=new a(i)},eWx7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckboxFormComponent=void 0;const r=n("8Y7J"),i=n("s7LF"),o=n("8Y7J"),a=n("SVse"),s=n("s7LF"),c=n("0njA"),l=n("GYBK"),u=["checkboxButton"];function p(t,e){if(1&t&&o.\u0275\u0275element(0,"tni-icon",8),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275propertyInterpolate1("iconClasses","label-icon ",t.iconClasses,""),o.\u0275\u0275property("iconName",t.icon)("iconAriaHidden",!0)}}function d(t,e){if(1&t&&o.\u0275\u0275element(0,"tni-image",9),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275propertyInterpolate1("imageClasses","label-image ",t.iconClasses,""),o.\u0275\u0275property("imageName",t.image)}}class h{constructor(){this.clicked=new r.EventEmitter,this.onTouched=()=>{},this.onChanged=t=>{this.isChecked=t}}writeValue(t){this.isChecked=!!t,this.onChanged(this.isChecked),this.checkboxElement.nativeElement.checked=t}registerOnChange(t){this.onChanged=t}registerOnTouched(t){this.onTouched=t}onCheckBoxChange(t){this.writeValue(t.target.checked)}handleEnterKey(){this.isChecked=!this.isChecked,this.onChanged(this.isChecked),this.clicked.emit(this.isChecked)}}e.CheckboxFormComponent=h,h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=o.\u0275\u0275defineComponent({type:h,selectors:[["tni-form-checkbox"]],viewQuery:function(t,e){var n;1&t&&o.\u0275\u0275staticViewQuery(u,!0),2&t&&o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.checkboxElement=n.first)},inputs:{icon:"icon",image:"image",text:"text",name:"name",iconClasses:"iconClasses",checkboxGroup:"checkboxGroup"},outputs:{clicked:"clicked"},features:[o.\u0275\u0275ProvidersFeature([{provide:i.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(()=>h),multi:!0}])],decls:9,vars:13,consts:[["role","checkbox","tabindex","0",1,"checkbox","checkbox-default",3,"id","ngClass","keyup.enter","keydown.space","click"],["type","checkbox","tabindex","-1",1,"checkbox-box",3,"id","name","ngModel","change","ngModelChange"],["checkboxButton",""],[1,"tick"],[3,"iconName","iconAriaHidden"],[1,"checkbox-label",3,"for","click"],[3,"iconName","iconClasses","iconAriaHidden",4,"ngIf"],[3,"imageName","imageClasses",4,"ngIf"],[3,"iconName","iconClasses","iconAriaHidden"],[3,"imageName","imageClasses"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"a",0),o.\u0275\u0275listener("keyup.enter",(function(t){return t.stopPropagation(),e.handleEnterKey()}))("keydown.space",(function(t){return t.stopPropagation(),t.preventDefault(),e.handleEnterKey()}))("click",(function(){return e.handleEnterKey()})),o.\u0275\u0275elementStart(1,"input",1,2),o.\u0275\u0275listener("change",(function(t){return e.onCheckBoxChange(t)}))("ngModelChange",(function(t){return e.isChecked=t})),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"span",3),o.\u0275\u0275element(4,"tni-icon",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"label",5),o.\u0275\u0275listener("click",(function(){return e.handleEnterKey()})),o.\u0275\u0275template(6,p,1,3,"tni-icon",6),o.\u0275\u0275template(7,d,1,2,"tni-image",7),o.\u0275\u0275text(8),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275propertyInterpolate("id",e.name),o.\u0275\u0275property("ngClass",e.isChecked?"selected":null),o.\u0275\u0275attribute("aria-label",e.text)("aria-checked",e.isChecked),o.\u0275\u0275advance(1),o.\u0275\u0275property("id",e.name)("name",e.name)("ngModel",e.isChecked),o.\u0275\u0275advance(3),o.\u0275\u0275property("iconName","tick")("iconAriaHidden",!0),o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate("for",e.name),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.icon),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.image),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.text,"\n"))},directives:[a.NgClass,s.CheckboxControlValueAccessor,s.NgControlStatus,s.NgModel,c.IconComponent,a.NgIf,l.ImageComponent],styles:["[_nghost-%COMP%]{display:flex;align-items:center}.checkbox-box[_ngcontent-%COMP%]{opacity:0}.checkbox-box[_ngcontent-%COMP%] ~ .tick[_ngcontent-%COMP%]{width:16px;opacity:0}.checkbox-box[_ngcontent-%COMP%]:checked ~ .tick[_ngcontent-%COMP%], .checkbox.selected[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;opacity:1;transform:translateY(-50%)}.checkbox.selected[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]     .tp-icon{position:absolute;top:50%;transform:translateY(-50%)}.checkbox[_ngcontent-%COMP%]{margin:0 2rem 0 0!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.checkbox-default[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{background-color:transparent}.checkbox-label[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;line-height:16px;font-weight:100}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.checkbox-label[_ngcontent-%COMP%]{font-size:13px}}.checkbox[_ngcontent-%COMP%]{background:#fff;position:relative;border:1px solid #ddd;border-radius:4px;padding:0;min-width:20px;height:20px;transition:background .2s ease-in-out;margin:0 2rem 0 0;float:left}.checkbox.selected[_ngcontent-%COMP%]{background:#1d69b4;border:1px solid #1d69b4}.checkbox[_ngcontent-%COMP%]:active{outline:none;box-shadow:none;background:#1d69b4;color:#1d69b4}.checkbox[_ngcontent-%COMP%]     .tick .tp-icon{fill:#fff}.checkbox[_ngcontent-%COMP%]     .checkbox-label .tp-icon, .checkbox[_ngcontent-%COMP%]     .tick .tp-icon{width:14px;min-width:14px;height:14px}.checkbox-label[_ngcontent-%COMP%]     .tp-icon.label-icon{width:16px;min-width:16px;height:16px;margin-right:5px}"]})},edgm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDestinationFromMap=e.getOriginFromMap=void 0;const r=n("tqRt"),i=n("W+iZ"),o=r.createFeatureSelector(i.locationFeatureKey),a=r.createSelector(o,t=>t.from),s=r.createSelector(o,t=>t.to);e.getOriginFromMap=a,e.getDestinationFromMap=s},erv5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("mrSG");r.__exportStar(n("qKfS"),e),r.__exportStar(n("yPCr"),e),r.__exportStar(n("hor5"),e)},f0Wu:function(t,e,n){(t.exports=n("Dvum")).tz.load(n("bNI1"))},f44v:function(t,e,n){"use strict";n.r(e),n.d(e,"MAT_CHIPS_DEFAULT_OPTIONS",(function(){return L})),n.d(e,"MAT_CHIP_AVATAR",(function(){return w})),n.d(e,"MAT_CHIP_REMOVE",(function(){return x})),n.d(e,"MAT_CHIP_TRAILING_ICON",(function(){return C})),n.d(e,"MatChip",(function(){return A})),n.d(e,"MatChipAvatar",(function(){return T})),n.d(e,"MatChipInput",(function(){return F})),n.d(e,"MatChipList",(function(){return R})),n.d(e,"MatChipListChange",(function(){return N})),n.d(e,"MatChipRemove",(function(){return P})),n.d(e,"MatChipSelectionChange",(function(){return M})),n.d(e,"MatChipTrailingIcon",(function(){return O})),n.d(e,"MatChipsModule",(function(){return B})),n.d(e,"\u02750",(function(){return j}));var r=n("Ht+U"),i=n("8Y7J"),o=n("UhP/"),a=n("8LU1"),s=n("SVse"),c=n("omvX"),l=n("XNiG"),u=n("VRyK"),p=n("IzEk"),d=n("1G5W"),h=n("JX91"),f=n("YEUz"),m=n("CtHx"),g=(n("9b/N"),n("xgIS"),n("GS7A"),n("9gLZ")),y=n("SCoL");let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t}),t})();var v=n("s7LF");const b=["*"];class M{constructor(t,e,n=!1){this.source=t,this.selected=e,this.isUserInput=n}}const x=new i.InjectionToken("MatChipRemove"),w=new i.InjectionToken("MatChipAvatar"),C=new i.InjectionToken("MatChipTrailingIcon");class S{constructor(t){this._elementRef=t}}const E=Object(o.mixinTabIndex)(Object(o.mixinColor)(Object(o.mixinDisableRipple)(S),"primary"),-1);let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"],features:[i["\u0275\u0275ProvidersFeature"]([{provide:w,useExisting:t}])]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["mat-chip-trailing-icon"],["","matChipTrailingIcon",""]],hostAttrs:[1,"mat-chip-trailing-icon"],features:[i["\u0275\u0275ProvidersFeature"]([{provide:C,useExisting:t}])]}),t})(),A=(()=>{class t extends E{constructor(t,e,n,r,a,s,c,u){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=s,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new l.a,this._onBlur=new l.a,this.selectionChange=new i.EventEmitter,this.destroyed=new i.EventEmitter,this.removed=new i.EventEmitter,this._addHostClassName(),this._chipRippleTarget=(u||document).createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new o.RippleRenderer(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=r||{},this._animationsDisabled="NoopAnimations"===a,this.tabIndex=null!=c&&parseInt(c)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=Object(a.b)(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=Object(a.b)(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=Object(a.b)(t)}get removable(){return this._removable}set removable(t){this._removable=Object(a.b)(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case r.c:case r.b:this.remove(),t.preventDefault();break;case r.l:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.asObservable().pipe(Object(p.a)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}_markForCheck(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](y.Platform),i["\u0275\u0275directiveInject"](o.MAT_RIPPLE_GLOBAL_OPTIONS,8),i["\u0275\u0275directiveInject"](c.ANIMATION_MODULE_TYPE,8),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275injectAttribute"]("tabindex"),i["\u0275\u0275directiveInject"](s.DOCUMENT,8))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){var r;1&t&&(i["\u0275\u0275contentQuery"](n,w,!0),i["\u0275\u0275contentQuery"](n,C,!0),i["\u0275\u0275contentQuery"](n,x,!0)),2&t&&(i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(e.avatar=r.first),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(e.trailingIcon=r.first),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(e.removeIcon=r.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&i["\u0275\u0275listener"]("click",(function(t){return e._handleClick(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()})),2&t&&(i["\u0275\u0275attribute"]("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),i["\u0275\u0275classProp"]("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[i["\u0275\u0275InheritDefinitionFeature"]]}),t})(),P=(()=>{class t{constructor(t,e){this._parentChip=t,e&&"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](A),i["\u0275\u0275directiveInject"](i.ElementRef))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&i["\u0275\u0275listener"]("click",(function(t){return e._handleClick(t)}))},features:[i["\u0275\u0275ProvidersFeature"]([{provide:x,useExisting:t}])]}),t})();const L=new i.InjectionToken("mat-chips-default-options");class k{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const I=Object(o.mixinErrorState)(k);let D=0;class N{constructor(t,e){this.source=t,this.value=e}}let R=(()=>{class t extends I{constructor(t,e,n,r,o,a,s){super(a,r,o,s),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=s,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new l.a,this._uid="mat-chip-list-"+D++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new i.EventEmitter,this.valueChange=new i.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(a.b)(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=Object(a.b)(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Object(a.b)(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=Object(a.b)(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Object(u.a)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Object(u.a)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Object(u.a)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Object(u.a)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new f.a(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Object(d.a)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(Object(d.a)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Object(h.a)(null),Object(d.a)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new m.b(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;t.keyCode===r.b&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(t.keyCode===r.h?(this._keyManager.setFirstItemActive(),t.preventDefault()):t.keyCode===r.e?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new N(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](g.b,8),i["\u0275\u0275directiveInject"](v.NgForm,8),i["\u0275\u0275directiveInject"](v.FormGroupDirective,8),i["\u0275\u0275directiveInject"](o.ErrorStateMatcher),i["\u0275\u0275directiveInject"](v.NgControl,10))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){var r;1&t&&i["\u0275\u0275contentQuery"](n,A,!0),2&t&&i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(e.chips=r)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&i["\u0275\u0275listener"]("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()}))("keydown",(function(t){return e._keydown(t)})),2&t&&(i["\u0275\u0275hostProperty"]("id",e._uid),i["\u0275\u0275attribute"]("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),i["\u0275\u0275classProp"]("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[i["\u0275\u0275ProvidersFeature"]([{provide:_,useExisting:t}]),i["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:b,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275projection"](1),i["\u0275\u0275elementEnd"]())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})(),z=0,F=(()=>{class t{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new i.EventEmitter,this.placeholder="",this.id="mat-chip-list-input-"+z++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=Object(a.b)(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=Object(a.b)(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&t.keyCode===r.m&&!Object(r.q)(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this._inputElement.focus(t)}_isSeparatorKey(t){if(Object(r.q)(t))return!1;const e=this.separatorKeyCodes,n=t.keyCode;return Array.isArray(e)?e.indexOf(n)>-1:e.has(n)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](L))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&i["\u0275\u0275listener"]("keydown",(function(t){return e._keydown(t)}))("blur",(function(){return e._blur()}))("focus",(function(){return e._focus()}))("input",(function(){return e._onInput()})),2&t&&(i["\u0275\u0275hostProperty"]("id",e.id),i["\u0275\u0275attribute"]("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[i["\u0275\u0275NgOnChangesFeature"]]}),t})();const j={separatorKeyCodes:[r.f]};let B=(()=>{class t{}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[o.ErrorStateMatcher,{provide:L,useValue:j}]}),t})()},fXvE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeListComponent=void 0;const r=n("8Y7J"),i=n("+ZNT"),o=n("SVse"),a=n("0njA"),s=n("bm//"),c=n("HAZR"),l=n("q66I"),u=n("SoYs");function p(t,e){1&t&&r.\u0275\u0275element(0,"tni-icon",8),2&t&&r.\u0275\u0275property("iconAriaHidden",!0)}function d(t,e){if(1&t&&r.\u0275\u0275element(0,"tni-mode-icon",9),2&t){const t=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275property("mode",t.productId||t.mode)("iconSize","sm-md")("from","mode-list")}}function h(t,e){if(1&t&&r.\u0275\u0275element(0,"tni-mode-name",10),2&t){const t=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275property("transportation",t)}}function f(t,e){if(1&t&&r.\u0275\u0275element(0,"tni-short-platform",11),2&t){const t=r.\u0275\u0275nextContext().index,e=r.\u0275\u0275nextContext();r.\u0275\u0275property("travelIn",e.travelIn[t])("accessibleTravelIn",e.accessibleTravelIn[t])}}function m(t,e){if(1&t&&r.\u0275\u0275element(0,"tni-duration",12),2&t){const t=r.\u0275\u0275nextContext().index,e=r.\u0275\u0275nextContext();r.\u0275\u0275property("duration",e.durationsFiltered[t])}}function g(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span",13),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext().index,e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.getDistance(t))}}function y(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",1),r.\u0275\u0275template(1,p,1,1,"tni-icon",2),r.\u0275\u0275template(2,d,1,3,"tni-mode-icon",3),r.\u0275\u0275template(3,h,1,1,"tni-mode-name",4),r.\u0275\u0275template(4,f,1,2,"tni-short-platform",5),r.\u0275\u0275template(5,m,1,1,"tni-duration",6),r.\u0275\u0275template(6,g,2,1,"span",7),r.\u0275\u0275elementEnd()),2&t){const t=e.$implicit,n=e.index,i=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",n>0&&n<=i.transportModesFiltered.length-1),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!(0!==n&&n!==i.transportModesFiltered.length-1&&100===t.mode)&&(0===n||i.transportModesFiltered[n-1]&&t.category!==i.transportModesFiltered[n-1].category)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!i.showDuration(t.mode)&&!i.showDistance(t.mode)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",""!==i.travelIn[n]),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!!t.mode&&i.showDuration(t.mode)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",i.showDistance(t.mode))}}class _{constructor(t){this.shortPlatformService=t,this.transportModesFiltered=[],this.durationsFiltered=[],this.pathDescriptionsFiltered=[],this.distancesFiltered=[],this.travelIn=[],this.accessibleTravelIn=[]}set legs(t){this.transportModesFiltered=[],this.durationsFiltered=[],this.pathDescriptionsFiltered=[],this.distancesFiltered=[],this.travelIn=[],this.accessibleTravelIn=[],t.forEach((e,n)=>{var r,i;(0===n||n===t.length-1||this.isNotITLegInMiddle(e.transportation,n,t))&&(this.transportModesFiltered.push(e.transportation),this.durationsFiltered.push(e.duration),this.pathDescriptionsFiltered.push(e.pathDescriptions),this.distancesFiltered.push(e.distance),this.travelIn.push(this.shortPlatformService.getTravelInAdvice(null===(r=e.origin)||void 0===r?void 0:r.properties,!1)),this.accessibleTravelIn.push(this.shortPlatformService.getTravelInAdvice(null===(i=e.origin)||void 0===i?void 0:i.properties,!0)))})}showDuration(t){return 99===t||100===t}showDistance(t){return 105===t||107===t||null==t}getDistance(t){let e=0;if(this.pathDescriptionsFiltered[t]){if(this.pathDescriptionsFiltered[t].forEach(t=>e+=t.distance),0===e)return""}else e=this.distancesFiltered[t];return e<1e3?"<1km":Math.round(e/1e3)+"km"}isNotITLegInMiddle(t,e,n){const r=[99,100,105,107].indexOf(null==t?void 0:t.productId)>-1,i=r&&(0===e||e===n.map(t=>t.transportation).length-1);return!r||i}}e.ModeListComponent=_,_.\u0275fac=function(t){return new(t||_)(r.\u0275\u0275directiveInject(i.ShortPlatformService))},_.\u0275cmp=r.\u0275\u0275defineComponent({type:_,selectors:[["tni-mode-list"]],inputs:{legs:"legs"},decls:2,vars:1,consts:[["class","mode-list",4,"ngFor","ngForOf"],[1,"mode-list"],["iconName","arrow-right-small","iconClasses","xs","aria-label","then ",3,"iconAriaHidden",4,"ngIf"],["class","mode-list__mode-icon",3,"mode","iconSize","from",4,"ngIf"],["class","mode-name",3,"transportation",4,"ngIf"],[3,"travelIn","accessibleTravelIn",4,"ngIf"],["class","inline-duration",3,"duration",4,"ngIf"],["class","distance",4,"ngIf"],["iconName","arrow-right-small","iconClasses","xs","aria-label","then ",3,"iconAriaHidden"],[1,"mode-list__mode-icon",3,"mode","iconSize","from"],[1,"mode-name",3,"transportation"],[3,"travelIn","accessibleTravelIn"],[1,"inline-duration",3,"duration"],[1,"distance"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275template(1,y,7,6,"div",0),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.transportModesFiltered))},directives:[o.NgForOf,o.NgIf,a.IconComponent,s.ModeIconComponent,c.ModeNameComponent,l.ShortPlatformComponent,u.DurationComponent],styles:[".mode-list[_ngcontent-%COMP%]{display:inline-block;color:#373636}.mode-list__mode-icon[_ngcontent-%COMP%]{position:relative;top:1px}.inline-duration[_ngcontent-%COMP%], .mode-name[_ngcontent-%COMP%]{padding-left:4px;position:relative;top:1px}.distance[_ngcontent-%COMP%]{font-size:12px;padding-left:4px}tni-short-platform[_ngcontent-%COMP%]{margin-left:8px;margin-top:2px}"]})},fzPg:function(t,e,n){!function(t){"use strict";t.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(n("wd/R"))},g9ER:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapComponent=void 0;const r=n("mrSG"),i=n("8Y7J"),o=n("4ZJM"),a=n("kU1M"),s=n("qCKp"),c=n("kU1M"),l=n("f0Wu"),u=n("zpQm"),p=n("3F7b"),d=n("iFc6"),h=n("Oh75"),f=n("EiLY"),m=n("3Pgj"),g=n("5g3M"),y=n("odFb"),_=n("wqB4"),v=n("yuJq"),b=n("keoj"),M=n("yh6M"),x=n("cRl/"),w=n("M6FO"),C=n("RNDk"),S=n("z/no"),E=n("pSkQ"),T=n("8Y7J"),O=n("iInd"),A=n("HcUK"),P=n("NfbF"),L=n("MbAS"),k=n("tqRt"),I=n("aUnO"),D=n("Y7wX"),N=n("nxVU"),R=n("MhY6"),z=n("XhXp"),F=n("AO9Q"),j=n("ZDRT"),B=n("87t5"),q=n("ZrN/"),V=n("psEX"),Y=n("VS5s"),H=n("EpZu"),W=n("SVse"),U=n("0njA"),X=n("cWxq");function G(t,e){1&t&&(T.\u0275\u0275elementStart(0,"span",3),T.\u0275\u0275elementStart(1,"div",4),T.\u0275\u0275elementStart(2,"div",5),T.\u0275\u0275element(3,"tni-icon",6),T.\u0275\u0275elementStart(4,"span"),T.\u0275\u0275text(5,"The map is unavailable because you may be using an old browser or operating system that is not supported. "),T.\u0275\u0275elementStart(6,"a",7),T.\u0275\u0275text(7,"Find out more"),T.\u0275\u0275elementEnd(),T.\u0275\u0275text(8,"."),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementEnd())}function J(t,e){if(1&t&&T.\u0275\u0275element(0,"tni-map-options",8),2&t){const t=T.\u0275\u0275nextContext();T.\u0275\u0275property("mapOptions",t.mapOptions)}}class ${constructor(t,e,n,r,o,a,c,l,u,h,m,g,v,b,M,x,w,C){this.router=t,this.markupUtil=e,this.trackEventService=n,this.locationFinderService=r,this.stateStore=o,this.storeMapService=a,this.iconService=c,this.mapLayersService=l,this.ngZone=u,this.windowRef=h,this.mapPointsService=m,this.storeMapLocationService=g,this.onDemandService=v,this.mapConfigService=b,this.opalRetailerService=M,this.selectedJourneyStoreService=x,this.trackTripPlannerEventService=w,this.occupancyIndicatorService=C,this.clickStopFeature=new i.EventEmitter,this.clickRegionFeature=new i.EventEmitter,this.clickMap=new i.EventEmitter,this.loadMap=new i.EventEmitter,this.clickMarker=new i.EventEmitter,this.hoverMarker=new i.EventEmitter,this.mapError=new i.EventEmitter,this.mapPopupInstance=p.MapPopup.getInstance(),this.isMapSupported=!1,this.cycleRouteLayers=[],this.cycleRouteLayerIds=[],this.cycleClickFunctionHash=[],this.cycleMouseEnterFunctionHash=[],this.cycleMouseLeaveFunctionHash=[],this.needToZoomToVehicle=!0,this.alreadySubscribed=!1,this.visibleLayers=[d.TniConstant.MAPBOX_CONSTANTS.places_stop_layer_id,d.TniConstant.MAPBOX_CONSTANTS.places_poi_layer_id,d.TniConstant.MAPBOX_CONSTANTS.mapbox_retailer_layer_id,d.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_lockers_id,d.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_sheds_id],this.unselectedCycleRouteLineOpacity=.5,this.hoverUnselectedCycleRouteLineOpacity=.75,this.selectedCycleRouteLineOpacity=1,this.opalRetailerUpdateInstance=this.updateOpalRetailerStore.bind(this),this.destroy$=new s.Subject,this.subscriptions$=new s.Subscription,this.cycleSubscription=new s.Subscription,this.depSubscription$=new s.Subscription,this.handleCycleClick=(t,e,n)=>()=>{n.moveLayer(e.routeClickableLayerId),n.setPaintProperty(e.routeClickableLayerId,"line-color",e.cycleJourney.legs[0].transportation.colour.foreground),n.setPaintProperty(e.routeClickableLayerId,"line-opacity",this.selectedCycleRouteLineOpacity),this.clearExistingCycleMouseEnterLeaveEvent(),t.filter(t=>e.routeClickableLayerId!==t.routeClickableLayerId).forEach(t=>{n.setPaintProperty(t.routeClickableLayerId,"line-color","#080908"),n.setPaintProperty(t.routeClickableLayerId,"line-opacity",this.unselectedCycleRouteLineOpacity),this.setCycleMouseEnterLeaveEvent(t,n)}),this.trackTripPlannerEventService.trackCycleRoutes(y.AppView.MapView,_.mapCycleProfileToString(e.cycleJourney.cycleProfile)),this.stateStore.dispatch(new f.SelectJourneyAction({trip:e.cycleJourney}))},this.handleCycleMouseEnter=(t,e)=>()=>{e.setPaintProperty(t,"line-opacity",this.hoverUnselectedCycleRouteLineOpacity)},this.handleCycleMouseLeave=(t,e)=>()=>{e.setPaintProperty(t,"line-opacity",this.unselectedCycleRouteLineOpacity)}}ngOnInit(){this.mapPointsService.markers=this.markers,this.currentMapLayer=null,this.isMapSupported=o.supported(),this.isMapSupported&&(this.mapInstance=this.createMap(),this.loadMap.emit(this.mapInstance)),void 0===this.closePopupOnClick&&(this.closePopupOnClick=!0),this.clickSourceLayer||(this.clickSourceLayer=[]),this.mapOptions={stops:!1,opal:!1,poi:!1,bikeOnly:!1,bikeNoAccess:!1,sharedPath:!1,walkOnly:!1,bikeLocker:!1,bikeShed:!1},this.mapInstance.on("styledata",()=>{this.alreadySubscribed||(this.alreadySubscribed=!0,this.subscribeToRouteChange(),this.subscribeToMapOptions(this.mapInstance),this.subscribeToSearchFormChanges(this.mapInstance),this.subscribeToTripChanges(this.mapInstance),this.subscribeToLayers(this.mapInstance),this.subscribeToFilters(this.mapInstance),this.subscribeToDepartureChanges(this.mapInstance),this.subscribeToVehiclePosition(this.mapInstance),this.subscribeToExploreLocation(this.mapInstance),this.subscribeToAppChanges(this.mapInstance))}),this.addPopupsToLayers(this.mapInstance),this.opalRetailerService.opalRetailerMapInstance=this.mapInstance,this.subscribeToMapTypeChange()}ngOnChanges(){this.mapInstance&&this.drawMap()}drawMap(){this.popup?this.createPopup({title:this.popup.title,messageBody:this.popup.messageBody,colour:this.popup.colour,links:this.popup.links,coordinates:this.popup.coordinates,autoPane:!0}):this.mapPopupInstance.removePopup()}createMap(){return this.ngZone.runOutsideAngular(()=>{Object.getOwnPropertyDescriptor(o,"accessToken").set(d.TniConstant.MAPBOX_CONSTANTS.accessToken);let t=d.TniConstant.MAPBOX_CONSTANTS.defaultZoom;this.zoom&&this.isValidZoom(this.zoom)&&(t=this.zoom);const e=new o.Map({container:"mapbox-map",maxZoom:this.getMaxZoom(),style:this.mapStyle,attributionControl:!1,dragRotate:!1,center:this.getMapCenter(),zoom:t});return e.on("load",()=>{this.updateMapCenterStore(),e.addControl(new o.AttributionControl({compact:!1})),e.addLayer({id:"attribution-layer",type:"circle",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:null}}}),e.addControl(new o.NavigationControl,"bottom-right");const t=this.windowRef.isMobileView()?{positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}:{},n=new o.GeolocateControl(t).on("error",t=>{this._handlePositionError(e,t),this.currentLocationCoords&&this.addCurrentLocationMapMarker(e,this.currentLocationCoords,!1)}).on("geolocate",t=>{const n=[t.coords.longitude,t.coords.latitude];this.currentLocationCoords=[n[0],n[1]],this.addCurrentLocationMapMarker(e,n,!0),this.windowRef.isMobileView()?this.mapConfigService.trackingLocation&&!this.mapConfigService.zoomedInCurrentMarker&&(this.zoomOnLocationMarker(e),this.mapConfigService.zoomedInCurrentMarker=!0):this.zoomOnLocationMarker(e)});e.addControl(n,"bottom-right"),setTimeout(()=>{this.markupUtil.addMapboxCopyRightControls()},500),this.drawMap(),this.markupUtil.removeCompassControl()}),e.on("dragend",()=>{this.updateMapCenterStore(),setTimeout(()=>{this.mapPointsService.updateMapPointsLayers(e,this.mapOptions,this.layers)},200)}),e.on("zoomend",()=>{setTimeout(()=>{this.mapPointsService.updateMapPointsLayers(e,this.mapOptions,this.layers)},200)}),e})}updateMapCenterStore(){const t=this.mapInstance.getCenter();this.storeMapService.updateCenter([Number.parseFloat(t.lat).toFixed(3),Number.parseFloat(t.lng).toFixed(3)])}zoomOnLocationMarker(t){t.setZoom(d.TniConstant.MAPBOX_CONSTANTS.maxZoom),t.setCenter(this.currentLocationCoords)}handleOriginOrDestinationChange(t,e,n,r){e?this.mapPointsService.showOriginOrDesintation(t,e,n,r):this.mapPointsService.clearOriginOrDestination([n],t)}subscribeToSearchFormChanges(t){this.storeMapLocationService.getOriginFromMap$().subscribe(e=>{this.mapPopupInstance.removePopup(),this.handleOriginOrDestinationChange(t,e,d.TniConstant.MAPBOX_CONSTANTS.places_origin_layer_id,"tp_"+d.TniConstant.MAPBOX_CONSTANTS.origin_layer_icon)}),this.storeMapLocationService.getDestinationFromMap$().subscribe(e=>{this.mapPopupInstance.removePopup(),this.handleOriginOrDestinationChange(t,e,d.TniConstant.MAPBOX_CONSTANTS.places_destination_layer_id,"tp_"+d.TniConstant.MAPBOX_CONSTANTS.destination_layer_icon)}),this.storeMapService.getMapCurrentLocation$().subscribe(t=>{t?(this.currentLocationCoords=[t[1],t[0]],this.addCurrentLocationMapMarker(this.mapInstance,this.currentLocationCoords,!0)):this.currentLocationCoords?this.addCurrentLocationMapMarker(this.mapInstance,this.currentLocationCoords,!1):this.mapPointsService.removeAllMarkers(!1)}),this.opalRetailerService.getOpalSearchLocation().subscribe(e=>{e?(this.createLocationSearchMarker(e),e.isCurrent||(this.mapPointsService.dedupMapMarkers(this.searchedLocMarker),this.mapPointsService.removeAllMarkers(!1),this.addMarkers(t,[this.searchedLocMarker],!1)),this.mapInstance.setCenter(this.searchedLocMarker.geometry.coordinates),e.bbox?this.mapInstance.fitBounds(e.bbox):this.mapInstance.setZoom(d.TniConstant.MAPBOX_CONSTANTS.placesMinZoom)):(this.searchedLocMarker=null,this.mapPointsService.removeAllMarkers(!1))}),this.opalRetailerService.onSelectedListItem().subscribe(t=>{if(t){this.opalRetailerService.highlightOpalRetailerId=t.properties.cartodb_id;const e=this.searchedLocMarker?this.mapPointsService.getDistanceBetweenPoints(this.searchedLocMarker.geometry.coordinates,[t.properties.longitude,t.properties.latitude]):null,n=this.opalRetailerService.getDistanceLabel(e);t.properties.distance_from_point=e,this.popup={title:t.properties.retailer_name,messageBody:this.opalRetailerService.generateOpalMessageBody(t),coordinates:[t.properties.longitude,t.properties.latitude],autoPane:!0,distanceFromPoint:n,links:this.markupUtil.getOpalRetailerPopupLinks(t.properties.phone_no,()=>this.ngZone.run(()=>{this.trackTripPlannerEventService.trackPlanTripToRetailerClickFromOpalRetailerMap(),this.locationFinderService.search(`coord:${Number(t.properties.longitude)}:${Number(t.properties.latitude)}:EPSG:4326`,new M.StopFinderRequest).pipe(a.take(1)).subscribe(t=>{this.populateSearchField(!1,!0,t),this.enableOpalLayerOnTripPlanner(d.TniConstant.ROUTE_PATHS.OPAL_RETAILERS)})}),()=>this.ngZone.run(()=>this.trackTripPlannerEventService.trackCallRetailerClickFromOpalRetailerMap())),isOpalRetailer:!0};const r=this.opalRetailerService.getOpalRetailerRingMarker(t);this.mapPointsService.dedupMapMarkers(r),this.mapPointsService.removeMarkers(null==r?void 0:r.type),this.addRingMarker(r),this.createPopup(this.popup)}})}subscribeToExploreLocation(t){this.storeMapService.getMapExploreLocation$().pipe(a.takeUntil(this.destroy$)).subscribe(e=>{if(this.mapPointsService.removeMarkers(d.TniConstant.MAPBOX_CONSTANTS.mapbox_explore_location_id),e&&t){const n={type:d.TniConstant.MAPBOX_CONSTANTS.mapbox_explore_location_id,data:e,title:e.stopfinderName(),messageBody:e.suburb(),geometry:{type:"Point",coordinates:[Number(e.coord[1]),Number(e.coord[0])]},icon:"pin",identifier:"explore-search",clickable:!0,bottomContent:'<h3 class="h4">Plan a trip</h3>',links:this.markupUtil.getCurrentLocationPopupLinks(()=>this.ngZone.run(()=>this.populateSearchField(!0,!1,e)),()=>this.ngZone.run(()=>this.populateSearchField(!1,!0,e)))};this.mapPointsService.dedupMapMarkers(n),this.addMarkers(t,[n],!0),this.mapInstance.setCenter(this.currentLocationCoords=[e.coord[1],e.coord[0]]),this.mapInstance.setZoom(d.TniConstant.MAPBOX_CONSTANTS.placesMinZoom)}else this.mapPopupInstance.removePopup()})}subscribeToAppChanges(t){this.stateStore.select(E.getReloadOpalLocation).pipe(a.takeUntil(this.destroy$)).subscribe(e=>{e&&this.searchedLocMarker&&(this.mapPointsService.dedupMapMarkers(this.searchedLocMarker),this.mapPointsService.removeAllMarkers(!1),this.addMarkers(t,[this.searchedLocMarker],!1),this.mapInstance.setCenter(this.searchedLocMarker.geometry.coordinates),this.searchedLocMarker.bbox?this.mapInstance.fitBounds(this.searchedLocMarker.bbox):this.mapInstance.setZoom(d.TniConstant.MAPBOX_CONSTANTS.placesMinZoom))})}addRingMarker(t){var e,n;if(2===(null===(n=null===(e=null==t?void 0:t.geometry)||void 0===e?void 0:e.coordinates)||void 0===n?void 0:n.length)){const e=document.createElement("div"),n=document.createElement("div");n.setAttribute("class",g.OPAL_RETAILER_RING_CLASS),e.appendChild(n),t.id=new o.Marker(e).setLngLat(t.geometry.coordinates).addTo(this.opalRetailerService.opalRetailerMapInstance),this.mapPointsService.markers.push(t)}}createLocationSearchMarker(t){this.searchedLocMarker={type:d.TniConstant.MAPBOX_CONSTANTS.opal_search_location_layer_id,data:t,title:t.stopfinderName(),messageBody:t.suburb(),geometry:{type:"Point",coordinates:[Number(t.coord[0]),Number(t.coord[1])]},icon:"pin",identifier:"location-search",clickable:!1,bbox:t.bbox,bottomContent:'<h3 class="h4">Plan a trip</h3>',links:this.markupUtil.getCurrentLocationPopupLinks(()=>this.ngZone.run(()=>this.populateSearchField(!0,!1,t)),()=>this.ngZone.run(()=>this.populateSearchField(!1,!0,t)))}}subscribeToMapOptions(t){this.showMapOptions=this.storeMapService.getDisplayMapOptions$(),this.storeMapService.getMapOptions$().subscribe(e=>{e&&Object.keys(e).some(t=>!this.mapOptions.hasOwnProperty(t)||this.mapOptions[t]!==e[t])?(this.mapOptions=e,t.getZoom()<d.TniConstant.MAPBOX_CONSTANTS.placesMinZoom&&Object.keys(e).some(t=>e[t])&&t.setZoom(d.TniConstant.MAPBOX_CONSTANTS.placesMinZoom),this.mapPointsService.updateMapPointsLayers(t,this.mapOptions,this.layers)):this.currentMapLayer&&this.mapLayersService.zoomToTrip(t,this.currentMapLayer.routes)})}subscribeToTripChanges(t){this.storeMapService.getMapTrip$().subscribe(e=>{if(this.cycleSubscription.unsubscribe(),this.mapPopupInstance.removePopup(),this.clearExistingCycleRoutes(t),this.currentMapLayer&&(this.mapLayersService.clearMapTripLayer(t,this.currentMapLayer),this.currentMapLayer=null,this.currentLocationCoords=null),e&&"cycle"!==e.type){const{mapLayer:n,stopsClickableLayers:r}=this.settingRouteLayer(e,t);this.stopsLayers=r,this.currentMapLayer=n}else e&&"cycle"===e.type?this.cycleSubscription=s.combineLatest([this.stateStore.select(m.selectCycleJourneys).pipe(c.filter(t=>Array.isArray(t)&&t.length>1&&t.some(t=>t.cycleProfile===v.CycleProfile.Moderate))),this.selectedJourneyStoreService.getExpandedJourney$()]).pipe(c.filter(([t,e])=>!!t&&!!e)).subscribe(([e,n])=>{let r;this.clearExistingCycleRoutes(t);let i=0,o=[];const a=n.cycleProfile||v.CycleProfile.Moderate;e.forEach(e=>{if(e.cycleProfile!==a){const n=this.settingCycleLayer(e,t,i++);n.layerHashMap.length>0&&n.layerHashMap.forEach(e=>{this.setCycleMouseEnterLeaveEvent(e,t)}),o=[...o,...n.layerHashMap],this.cycleRouteLayers.push(n.mapLayer)}else r=e});const s=this.settingCycleLayer(r,t,2);o=[...o,...s.layerHashMap],this.cycleRouteLayers.push(s.mapLayer),this.cycleRouteLayers.length>0&&(this.cycleRouteLayerIds=this.cycleRouteLayers.map(t=>t.routes.map(t=>t.id)).flat()),o.length>0&&this.setClickFunctionOnRouteLayer(o,t)}):this.mapPointsService.clearOriginOrDestination([d.TniConstant.MAPBOX_CONSTANTS.places_origin_layer_id,d.TniConstant.MAPBOX_CONSTANTS.places_destination_layer_id],t)}),this.storeMapService.getMapTripLeg$().subscribe(e=>{if(this.mapPopupInstance.removePopup(),e&&this.currentMapLayer){const n=this.mapLayersService.getTripLegMapLayer(this.currentMapLayer.routes,e);this.mapLayersService.zoomToRoute(t,n)}else this.currentMapLayer&&this.mapLayersService.zoomToTrip(t,this.currentMapLayer.routes)})}subscribeToDepartureChanges(t){this.depSubscription$.add(this.storeMapService.getMapDepartures$().subscribe(e=>{var n,r;if(this.mapPopupInstance.removePopup(),this.mapPointsService.removeMarkers(d.TniConstant.MAPBOX_CONSTANTS.vehicle_position_id),this.mapPointsService.removeMarkers(d.TniConstant.MAPBOX_CONSTANTS.vehicle_position_message_id),this.currentMapLayer&&(this.mapLayersService.clearMapTripLayer(t,this.currentMapLayer),this.currentMapLayer=null,this.currentLocationCoords=null),e){(null===(r=null===(n=this.currentDeparture)||void 0===n?void 0:n.stopEvent)||void 0===r?void 0:r.id)!==e.stopEvent.id&&(this.needToZoomToVehicle=!0),this.currentDeparture=e;const i=this.createDeparturesLayers(e,0),{stopsClickableLayers:o}=this.mapLayersService.updateTripLayers(t,i);this.stopsLayers=o,this.currentMapLayer=i}}))}subscribeToVehiclePosition(t){this.storeMapService.getMapVehiclePosition$().pipe(a.takeUntil(this.destroy$)).subscribe(e=>{var n,r,i,a,s,c,l,u,p;const h=(null===(r=null===(n=this.currentDeparture)||void 0===n?void 0:n.stopEvent)||void 0===r?void 0:r.isCancelled)&&(null===(s=null===(a=null===(i=this.currentDeparture)||void 0===i?void 0:i.stopEvent)||void 0===a?void 0:a.realtimeStatus)||void 0===s?void 0:s.includes("TRIP_CANCELLED"));if((null==e?void 0:e.position)&&this.currentDeparture&&!h){const n={type:d.TniConstant.MAPBOX_CONSTANTS.vehicle_position_id,geometry:{type:"Point",coordinates:[Number(e.position.longitude),Number(e.position.latitude)]},identifier:"vehicle_position",clickable:!1,foreGroundColour:(null===(c=this.currentDeparture.stopEvent.transportation.colour)||void 0===c?void 0:c.foreground)||"#000000",textColour:(null===(l=this.currentDeparture.stopEvent.transportation.colour)||void 0===l?void 0:l.text)||"#ffffff",iconText:this.currentDeparture.stopEvent.transportation.disassembledName||"",bearing:e.position.bearing},r={type:d.TniConstant.MAPBOX_CONSTANTS.vehicle_position_message_id,geometry:{type:"Point",coordinates:[Number(e.position.longitude),Number(e.position.latitude)]},identifier:"vehicle_position_message",foreGroundColour:(null===(u=this.currentDeparture.stopEvent.transportation.colour)||void 0===u?void 0:u.foreground)||"#000000",textColour:(null===(p=this.currentDeparture.stopEvent.transportation.colour)||void 0===p?void 0:p.text)||"#ffffff",iconText:this.currentDeparture.stopEvent.transportation.disassembledName||"",clickable:!1};this.mapPointsService.dedupMapMarkers(r),this.mapPointsService.dedupMapMarkers(n),this.mapPointsService.removeMarkers(d.TniConstant.MAPBOX_CONSTANTS.vehicle_position_id),this.mapPointsService.removeMarkers(d.TniConstant.MAPBOX_CONSTANTS.vehicle_position_message_id),this.mapPointsService.removeMarkers(r.type),this.addRealTimeMessageMarker(t,r,this.currentDeparture),this.addVehiclePositionMarker(t,n),this.needToZoomToVehicle&&this.ngZone.runOutsideAngular(()=>{const e=this.getCloserStopCoords(this.currentDeparture),r=new o.LngLatBounds(n.geometry.coordinates,[e[1],e[0]]);r&&t.fitBounds(r,{padding:this.windowRef.isMobileView()?100:300}),this.needToZoomToVehicle=!1})}else this.mapPointsService.removeMarkers(d.TniConstant.MAPBOX_CONSTANTS.vehicle_position_id),this.mapPointsService.removeMarkers(d.TniConstant.MAPBOX_CONSTANTS.vehicle_position_message_id)})}getCloserStopCoords(t){const e=l(),n=t.stopEvent.duringLocations[0],r=t.stopEvent.duringLocations[t.stopEvent.duringLocations.length-1],i=t.stopEvent.afterLocations[t.stopEvent.afterLocations.length-1],o=l(t.stopEvent.isRealtimeControlled&&t.stopEvent.departureTimeEstimated?t.stopEvent.departureTimeEstimated:t.stopEvent.departureTimePlanned),a=l(t.stopEvent.isRealtimeControlled&&t.stopEvent.arrivalTimeEstimated?t.stopEvent.arrivalTimeEstimated:t.stopEvent.arrivalTimePlanned),s=l.duration(e.diff(o)).seconds(),c=l.duration(a.diff(e)).seconds(),u=o.isSameOrAfter(e),p=a.isSameOrBefore(e);return u?n.coord:p?i?i.coord:r.coord:s>=60&&s<=c?n.coord:r.coord}settingCycleLayer(t,e,n){const r=this.settingRouteLayer(t,e,n,2!==n&&"#080908",2!==n&&this.unselectedCycleRouteLineOpacity,6);let i=[];return r.routeClickableLayers.length>0&&(i=r.routeClickableLayers.map(e=>({routeClickableLayerId:e,cycleJourney:t}))),Object.assign({layerHashMap:i},r)}settingRouteLayer(t,e,n=0,r,i,o){const a=this.createTripRouteLayers(t,n,r,i,o);a.onDemandLayers=this.onDemandService.createOnDemandLayers(t,e);const{routeClickableLayers:s,stopsClickableLayers:c}=this.mapLayersService.updateTripLayers(e,a);return{mapLayer:a,routeClickableLayers:s,stopsClickableLayers:c}}setClickFunctionOnRouteLayer(t,e){t.forEach(n=>{const r=this.handleCycleClick(t,n,e).bind(this);e.on("click",n.routeClickableLayerId,r),this.cycleClickFunctionHash.push({routeClickableLayerId:n.routeClickableLayerId,clickFunctionInstance:r})})}setCycleMouseEnterLeaveEvent(t,e){const n=this.handleCycleMouseEnter(t.routeClickableLayerId,e).bind(this),r=this.handleCycleMouseLeave(t.routeClickableLayerId,e).bind(this);e.on("mouseenter",t.routeClickableLayerId,n),e.on("mouseleave",t.routeClickableLayerId,r),this.cycleMouseEnterFunctionHash.push({routeClickableLayerId:t.routeClickableLayerId,mouseEnterFunctionInstance:n}),this.cycleMouseLeaveFunctionHash.push({routeClickableLayerId:t.routeClickableLayerId,mouseLeaveFunctionInstance:r})}clearExistingCycleRoutes(t){this.cycleRouteLayers.length>0&&(this.clearExistingCycleRouteClickEvent(),this.clearExistingCycleMouseEnterLeaveEvent(),this.cycleRouteLayers.forEach(e=>{this.mapLayersService.clearMapTripLayer(t,e)}),this.cycleRouteLayers=[],this.cycleRouteLayerIds=[])}clearExistingCycleRouteClickEvent(){this.cycleClickFunctionHash.length>0&&this.cycleClickFunctionHash.forEach(t=>{this.mapInstance.off("click",t.routeClickableLayerId,t.clickFunctionInstance)})}clearExistingCycleMouseEnterLeaveEvent(){this.cycleMouseEnterFunctionHash.length>0&&this.cycleMouseEnterFunctionHash.forEach(t=>{this.mapInstance.off("mouseenter",t.routeClickableLayerId,t.mouseEnterFunctionInstance)}),this.cycleMouseLeaveFunctionHash.length>0&&this.cycleMouseLeaveFunctionHash.forEach(t=>{this.mapInstance.off("mouseleave",t.routeClickableLayerId,t.mouseLeaveFunctionInstance)})}subscribeToLayers(t){this.storeMapService.getMapLayers$().subscribe(e=>{if(this.layers)for(const n of this.layers)this.mapPointsService._clearMapPoints(n,t);this.layers=e,this.addLayers(t,this.layers)})}subscribeToFilters(t){this.storeMapService.getMapFilters$().subscribe(e=>{e&&(t.setFilter(e.layer,["in",e.propertyKey].concat(e.filterValues)),t.once("idle",()=>{this.markupUtil.addMapboxCopyRightControls()}))})}subscribeToRouteChange(){this.mapConfigService.initialiseMapOnRouteChange()}isOnDemandProduct(t){return this.onDemandService.isOnDemandProduct(t)}addLayers(t,e){for(const n of e)this.mapPointsService._drawMapPoints(t,[],n,"")}addVehiclePositionMarker(t,e){if(2===e.geometry.coordinates.length){const n=document.createElement("div"),r=document.createElement("span");r.innerHTML=this.markupUtil.buildModeIcon(e.foreGroundColour,e.textColour,e.iconText,e.bearing),n.appendChild(r),e.identifier&&(n.dataset.identifier=e.identifier),e.id=new o.Marker(n).setLngLat(e.geometry.coordinates).addTo(t),this.mapPointsService.markers.push(e),setTimeout(()=>{t.setMaxZoom(d.TniConstant.MAPBOX_CONSTANTS.maxZoom)},1e3)}}getOccupancyLevel(t){return this.occupancyIndicatorService.getOccupancy(null==t?void 0:t.occupancy)}_getServiceLine(t){var e;if([5,11].find(e=>e===t.product.class))return null===(e=t.destination)||void 0===e?void 0:e.name;const n=t.number.split(t.disassembledName+" ");return n.length>1?n[1]:n[0]}addRealTimeMessageMarker(t,e,n){var r,i,a,s,c,u,p,d,h;const f=l(),m=n.stopEvent.duringLocations.length<=1&&!n.stopEvent.arrivalTimePlanned,g=l(n.stopEvent.isRealtimeControlled&&n.stopEvent.arrivalTimeEstimated?n.stopEvent.arrivalTimeEstimated:n.stopEvent.arrivalTimePlanned);if(2===e.geometry.coordinates.length){const y=document.createElement("div"),_=document.createElement("div");_.className="realtime-position",_.setAttribute("style",`border-top: 4px solid ${e.foreGroundColour};`);const v=document.createElement("div");v.className="realtime-position-service-line-segment";const b=document.createElement("div");b.className="realtime-position-service-line-segment-text",b.innerText=this._getServiceLine(n.stopEvent.transportation);const M=document.createElement("div");M.className="realtime-position-service-line-segment-mode-icon";const C=document.createElement("div");C.className="realtime-position-service-line-segment-mode-icon-text",C.innerHTML=e.iconText,C.style.backgroundColor=e.foreGroundColour,M.appendChild(C),v.appendChild(M),v.appendChild(b),_.appendChild(v);const S=document.createElement("div");S.className="realtime-position-deparr-time-stop-segment";const E=document.createElement("div"),T=n.stopEvent.isRealtimeControlled&&n.stopEvent.departureTimeEstimated?n.stopEvent.departureTimeEstimated:n.stopEvent.departureTimePlanned;let O,A=!1;const P=n.stopEvent.afterLocations,L=P.length?P[P.length-1]:n.stopEvent.duringLocations[n.stopEvent.duringLocations.length-1];if(f.isSameOrBefore(l(T))?(O=n.stopEvent.duringLocations[0],A=(null===(r=n.stopEvent.realtimeStatus)||void 0===r?void 0:r.includes("DEPARTURE_CANCELLED"))||(null===(i=n.stopEvent.realtimeStatus)||void 0===i?void 0:i.includes("NO_CALL_AT_STOP"))):(O=m?L:f.isSameOrBefore(l(g))?n.stopEvent.duringLocations[n.stopEvent.duringLocations.length-1]:L,A=(null===(s=null===(a=null==O?void 0:O.properties)||void 0===a?void 0:a.realtimeStatus)||void 0===s?void 0:s.includes("NO_CALL_AT_STOP"))||(null===(u=null===(c=null==O?void 0:O.properties)||void 0===c?void 0:c.realtimeStatus)||void 0===u?void 0:u.includes("ARRIVAL_CANCELLED"))),A){E.innerText="Does not stop at",E.className="realtime-position-deparr-time";const t=document.createElement("div");t.className="realtime-position-stopname",t.innerText=""+O.name.split(",")[1],S.appendChild(E),S.appendChild(t),_.appendChild(S)}else{const t=f.isSameOrBefore(l(T))?n.stopEvent.isRealtimeControlled&&n.stopEvent.departureTimeEstimated?n.stopEvent.departureTimeEstimated:n.stopEvent.departureTimePlanned:n.stopEvent.isRealtimeControlled&&n.stopEvent.arrivalTimeEstimated?n.stopEvent.arrivalTimeEstimated:n.stopEvent.arrivalTimePlanned,{relativeTime:e}=w.getUpdatedTime(t);E.className="realtime-position-deparr-time";const r=document.createElement("div");r.className="realtime-position-message realtime-position-stopname",e&&(E.innerText=f.isSameOrBefore(l(T))?"Leaving at "+x.TimeZoneHelper.getFormattedDate(t,"HH:mm"):f.isSameOrBefore(l(g))&&!m?"Arriving at "+x.TimeZoneHelper.getFormattedDate(t,"HH:mm"):"Towards"),r.innerText=""+O.name.split(",")[1];const i=document.createElement("div");i.className="realtime-position-platform-container";const o=document.createElement("div");o.innerText=this._getStopName(O,null===(p=n.stopEvent.transportation)||void 0===p?void 0:p.iconId)||"",o.className="realtime-position-platform";const a=document.createElement("div");a.className="realtime-position-capacity";const s=n.stopEvent.location.occupancy?`occupancy-indicator__icon--${n.stopEvent.location.occupancy}${n.stopEvent.location.isHistoricalOccupancy?"-historical":""}`:"",c=!1===(null===(h=null===(d=n.stopEvent)||void 0===d?void 0:d.location)||void 0===h?void 0:h.isHistoricalOccupancy)?this.markupUtil.buildPulsingRealtimeIndicator(n.stopEvent.location.occupancy):"";a.innerHTML=c+this.markupUtil.buildCapacityIndicator(n.stopEvent.location.occupancy?this.occupancyIndicatorService.getOccupancy(n.stopEvent.location.occupancy):-1,s),i.appendChild(o),i.appendChild(a),S.appendChild(E),S.appendChild(r),_.appendChild(S),(O.name.split(",")[2]||""!==a.innerHTML)&&_.appendChild(i)}y.appendChild(_),e.identifier&&(y.dataset.identifier=e.identifier),e.id=new o.Marker(y).setLngLat(e.geometry.coordinates).addTo(t),this.mapPointsService.markers.push(e)}}_getStopName(t,e){return d.TniConstant.ICONIDS_FOR_COACHES.includes(e)?null==t?void 0:t.disassembledName:null==t?void 0:t.platform}addMarkers(t,e,n){e&&e.length>0&&(e.forEach(e=>{var r;if(2===e.geometry.coordinates.length){const i=document.createElement("div"),a=document.createElement("span");if(e.icon)a.innerHTML=this.markupUtil.buildTpIcon("tp-icon marker lg",`${d.TniConstant.ICON_PATH}#tp_${e.icon}`),i.appendChild(a);else if(e.type===d.TniConstant.MAPBOX_CONSTANTS.places_current_location_layer_id)a.innerHTML=this.markupUtil.buildIcon(n?"marker-current-location":"marker-current-location-last-updated"),i.appendChild(a);else if(e.type===g.OPAL_RETAILER_RING_CLASS){const t=document.createElement("div");t.setAttribute("class",g.OPAL_RETAILER_RING_CLASS),i.appendChild(t)}if(e.identifier&&(i.dataset.identifier=e.identifier),e.clickable&&(null===(r=null==e?void 0:e.geometry)||void 0===r?void 0:r.coordinates)&&this.isValidCoordinates(e.geometry.coordinates)){i.style.cursor="pointer";const n=new o.Popup({offset:5e4}).setText(e.title);e.id=new o.Marker(i).setLngLat(e.geometry.coordinates).setPopup(n).addTo(t),i.addEventListener("click",()=>{setTimeout(()=>{this.popup={title:e.title,messageBody:e.messageBody,colour:e.colour,links:e.links,coordinates:e.id.getPopup().getLngLat(),autoPane:!0},this.windowRef.isMobileView()||this.createPopup(this.popup),this.clickMarker.emit(e)},100)})}else e.id=new o.Marker(i).setLngLat(e.geometry.coordinates).addTo(t);this.mapPointsService.markers.push(e)}}),setTimeout(()=>{t.setMaxZoom(d.TniConstant.MAPBOX_CONSTANTS.maxZoom)},1e3))}createDeparturesLayers(t,e){var n,r,i,o,a,s,c,l,u,p,d;const h=[],f=[],m=[];let g;const y="departures-"+e,_=t.stopEvent.transportation.colour.foreground,v=t.stopEvent.transportation.iconId,M=[...t.stopEvent.beforeLocations&&t.stopEvent.beforeLocations,...t.stopEvent.duringLocations&&t.stopEvent.duringLocations,...t.stopEvent.afterLocations&&t.stopEvent.afterLocations];if((null===(r=null===(n=t.coords)||void 0===n?void 0:n.beforeCoords)||void 0===r?void 0:r.length)>0&&h.push(this.mapLayersService.createDepartureLegMapLayer(t.coords.beforeCoords,v,y+"-before-route",_)),(null===(o=null===(i=t.coords)||void 0===i?void 0:i.duringCoords)||void 0===o?void 0:o.length)>0){const e=(null===(a=t.coords.duringCoords)||void 0===a?void 0:a.length)>1?t.coords.duringCoords:[...null===(s=t.coords)||void 0===s?void 0:s.beforeCoords,...null===(c=t.coords)||void 0===c?void 0:c.duringCoords,...null===(l=t.coords)||void 0===l?void 0:l.afterCoords],n=this.mapLayersService.createDepartureLegMapLayer(e,v,y+"-during-route",_);h.push(n),g=this.needToZoomToVehicle&&t?[n]:[]}if((null===(p=null===(u=t.coords)||void 0===u?void 0:u.afterCoords)||void 0===p?void 0:p.length)>0&&h.push(this.mapLayersService.createDepartureLegMapLayer(t.coords.afterCoords,v,y+"-after-route",_)),t.stopEvent&&m.push(Object.assign(Object.assign({},this.mapLayersService.createLegOriginMarker(b.MapStopEventToStop(t.stopEvent),y,"trip-start")),{productId:v})),M.length>0){const t=M.map(t=>b.MapDepartureLocationToStop(t));if(t.length>0){const e=this.mapLayersService.createStopsLayer(t,y,_);e.productId=v,f.push(e)}}let x;return(null===(d=t.stopEvent.duringLocations)||void 0===d?void 0:d.length)>1&&(x=this.mapLayersService.createTripDestinationLayer(b.MapDepartureLocationToStop(t.stopEvent.duringLocations[t.stopEvent.duringLocations.length-1]))),{routes:h,legStops:f,legOrigins:m,fitTo:g,tripDestination:x}}createTripRouteLayers(t,e=0,n,r,i,o){const a=[],s=[],c=[];let l=a;t.legs.forEach((t,u)=>{var p;const d=`trip-${e}-leg-${u}`,h=n||t.transportation.colour.foreground,f=t.transportation.productId,m=f?this.iconService.getNetworkIcon(f):"";if(t.coordinates&&t.coordinates.length>0){const e=this.mapLayersService.createTripLegMapLayer(t,d,h,r,i);this.isOnDemandProduct(t.transportation.productId)&&this.mapLayersService.hideOnDemandRoute(e),e.productId=f,a.push(e),u===o&&(l=[e])}if(null===(p=t.origin)||void 0===p?void 0:p.coordinates){const e=this.mapLayersService.createLegOriginMarker(t.origin,d,m);e.productId=f,c.push(e)}if(t.isPublicTransport&&!this.isOnDemandProduct(t.transportation.productId)){const e=t.stopSequence||[];if(e.length>0){const t=this.mapLayersService.createStopsLayer(e,d,h);t.productId=f,s.push(t)}}});const u=this.mapLayersService.createTripDestinationLayer(t.legs[t.legs.length-1].destination,e);return{routes:a,fitTo:l,tripDestination:u,legStops:s,legOrigins:c}}addCurrentLocationMapMarker(t,e,n){e&&t&&(this.locationFinderService.search(`coord:${Number(e[0])}:${Number(e[1])}:EPSG:4326`,new M.StopFinderRequest).subscribe(r=>{const i={type:d.TniConstant.MAPBOX_CONSTANTS.places_current_location_layer_id,data:r,title:r.stopfinderName(),messageBody:r.suburb(),geometry:{type:"Point",coordinates:[Number(e[0]),Number(e[1])]},identifier:"current_position",clickable:!0,bottomContent:'<h3 class="h4">Plan a trip</h3>',links:this.markupUtil.getCurrentLocationPopupLinks(()=>this.ngZone.run(()=>this.populateSearchField(!0,!1,r)),()=>this.ngZone.run(()=>this.populateSearchField(!1,!0,r)))};this.mapPointsService.dedupMapMarkers(i),this.mapPointsService.removeMarkers(i.type),this.addMarkers(t,[i],n)}),this.windowRef.isMobileView()&&this.enableTrackUserMode())}waitUntilElementAppears(t,e){const n=document.querySelector(t);if(n)return e(n);setTimeout(()=>{this.waitUntilElementAppears(t,e)},500)}enableTrackUserMode(){this.mapConfigService.trackingLocation||this.waitUntilElementAppears(".mapboxgl-ctrl-geolocate",t=>{t.className&&(this.isTrackUserModeEnabled(t)||t.click(),this.mapConfigService.trackingLocation=!0)})}disableTrackUserMode(){this.waitUntilElementAppears(".mapboxgl-ctrl-geolocate",t=>{t.className&&this.isTrackUserModeEnabled(t)&&(t.click(),this.isTrackUserModeEnabled(t)&&this.disableTrackUserMode(),this.zoomOnLocationMarker(this.opalRetailerService.opalRetailerMapInstance))}),this.opalRetailerService.setSelectedOpalRetailerDetail(null),this.mapConfigService.trackingLocation=!1,this.mapConfigService.zoomedInCurrentMarker=!1}isTrackUserModeEnabled(t){const e=t.className.split(" ");return e.includes("mapboxgl-ctrl-geolocate-active")||e.includes("mapboxgl-ctrl-geolocate-background")}noMarkerPopup(t){return r.__awaiter(this,void 0,void 0,(function*(){this.mapPopupInstance.removePopup();const e=yield this.locationFinderService.search(`coord:${Number(t.lng)}:${Number(t.lat)}:EPSG:4326`,new M.StopFinderRequest).toPromise();e&&this.createPopup({title:"$UNKNOWN_POINT$"===e.fullName?"Location from map":e.stopfinderName(),messageBody:e.suburb(),autoPane:!0,bottomContent:'<h3 class="h4">Plan a trip</h3>',links:this.markupUtil.getCurrentLocationPopupLinks(()=>this.ngZone.run(()=>this.populateSearchField(!0,!1,e)),()=>this.ngZone.run(()=>this.populateSearchField(!1,!0,e))),coordinates:[t.lng,t.lat]})}))}enableOpalLayerOnTripPlanner(t){this.stateStore.dispatch(new C.UseDefaultMapOptionsAction({useDefaultMapOptions:!1})),this.stateStore.dispatch(new S.NavigateLinkAction({route:t,forceMobileMapView:this.windowRef.isMobileView()}))}populateSearchField(t,e,n){this.mapConfigService.getCurrentRoute().includes(d.TniConstant.ROUTE_PATHS.TRIP)?this.opalRetailerService.setSelectedOpalRetailerDetail(null):(this.mapConfigService.getCurrentRoute().includes(d.TniConstant.ROUTE_PATHS.TRIP)||this.mapConfigService.getCurrentRoute().includes(d.TniConstant.ROUTE_PATHS.DEPARTURES)||this.stateStore.dispatch(new S.NavigateLinkAction({route:this.mapConfigService.getCurrentRoute(),forceMobileMapView:this.windowRef.isMobileView()})),this.router.navigate([d.TniConstant.ROUTE_PATHS.TRIP],{queryParams:Object.assign(Object.assign({},t&&{from:n.id}),e&&{to:n.id})})),this.mapPopupInstance.removePopup(),n.fullName="$UNKNOWN_POINT$"===n.fullName?"Location from map":n.fullName,t&&this.stateStore.dispatch(new f.SearchFromHereAction({from:n})),e&&this.stateStore.dispatch(new f.SearchToHereAction({to:n})),this.windowRef.isMobileView()&&this.stateStore.dispatch(new f.SwitchAppViewAction({mobileMapView:!1}))}navigateToDeparturesFrom(t){this.windowRef.isMobileView()&&this.stateStore.dispatch(new f.SwitchAppViewAction({mobileMapView:!1})),this.router.navigate([d.TniConstant.ROUTE_PATHS.DEPARTURES],{queryParams:{depart:t.id}})}getMapCenter(){return this.centerLngLat&&this.isValidLngLat(this.centerLngLat)?this.centerLngLat:d.TniConstant.MAPBOX_CONSTANTS.sydneyCenter}getMaxZoom(){return this.mapPointsService.markers&&this.mapPointsService.markers.length>0?d.TniConstant.MAPBOX_CONSTANTS.stationFacilityMaxZoom:d.TniConstant.MAPBOX_CONSTANTS.maxZoom}isValidLngLat(t){if(!t||!t[0]||!t[1])return!1;try{new o.LngLat(t[0],t[1])}catch(e){return!1}return!0}isValidZoom(t){return t<d.TniConstant.MAPBOX_CONSTANTS.maxZoom}createPopup(t){return r.__awaiter(this,void 0,void 0,(function*(){yield this.mapPopupInstance.createMessagePopup(t,t.coordinates,this.mapInstance,this.closePopupOnClick,t.autoPane)}))}_handlePositionError(t,e){t.getSource(d.TniConstant.MAPBOX_CONSTANTS.places_current_location_layer_id)&&(t.removeLayer(d.TniConstant.MAPBOX_CONSTANTS.places_current_location_layer_id),t.removeSource(d.TniConstant.MAPBOX_CONSTANTS.places_current_location_layer_id));let n="We are unable to accurately determine your position.";if(1===e.code){n="Accessing your current location was denied. Please enable location services.";const t=document.getElementsByClassName(".mapboxgl-user-location-dot-stale");t.length>0&&t[0].remove()}this.mapError.emit(n)}filterVisible(t){return this.stopsLayers||(this.stopsLayers=[]),[...this.visibleLayers,...this.stopsLayers].filter(e=>t.getLayer(e))}isOpalRetailerLayer(t){return t&&t.layer&&"mbs-opal-retailers"===t.layer.id}isBikeParking(t){return t&&t.layer&&(t.layer.id===d.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_sheds_id||t.layer.id===d.TniConstant.MAPBOX_CONSTANTS.mapbox_bike_lockers_id)}isStopLayer(t){return t.layer.id.match(/stops?$/)}addPopupsToLayers(t){t.on("click",e=>{this.searchedLocMarker?this.mapPointsService.removeMarkers(g.OPAL_RETAILER_RING_CLASS):this.mapPointsService.removeAllMarkers(!0);const n=t.queryRenderedFeatures(e.point,{layers:this.filterVisible(t)});if(n.length){const e=n[0];if(this.isOpalRetailerLayer(e)){this.opalRetailerService.highlightOpalRetailerId=e.properties.cartodb_id;const n=this.searchedLocMarker?this.mapPointsService.getDistanceBetweenPoints(this.searchedLocMarker.geometry.coordinates,e.geometry.coordinates):null,r=this.opalRetailerService.getDistanceLabel(n),i=this.opalRetailerService.getOpalRetailerRingMarker(e);this.mapPointsService.dedupMapMarkers(i),this.mapPointsService.removeMarkers(i.type),this.addMarkers(t,[i],!1),this.popup={title:e.properties.retailer_name,messageBody:this.opalRetailerService.generateOpalMessageBody(e),colour:e.colour,coordinates:e.geometry.coordinates,autoPane:!0,distanceFromPoint:r,links:this.markupUtil.getOpalRetailerPopupLinks(e.properties.phone_no,()=>this.ngZone.run(()=>{this.trackTripPlannerEventService.trackPlanTripToRetailerClickFromOpalRetailerMap(),this.locationFinderService.search(`coord:${Number(e.properties.longitude)}:${Number(e.properties.latitude)}:EPSG:4326`,new M.StopFinderRequest).pipe(a.take(1)).subscribe(t=>{this.populateSearchField(!1,!0,t)})}),()=>this.ngZone.run(()=>this.trackTripPlannerEventService.trackCallRetailerClickFromOpalRetailerMap())),isOpalRetailer:!0},this.trackEventService.trackEvent(u.EventCategory.OpalRetailers,{action:"Select retailer",label:"From map"}),this.opalRetailerService.setSelectedOpalRetailerDetail(e)}else this.popup=this.isBikeParking(e)?{title:e.properties.TYPE,messageBody:e.properties.LOCATION,bottomContent:'See <a href="/bike-parking">bike parking</a>',coordinates:e.geometry.coordinates,autoPane:!0,offset:10}:Object.assign(Object.assign({title:e.properties.disassembledName,messageBody:e.properties.description,colour:e.colour,coordinates:e.geometry.coordinates,autoPane:!0},this.isStopLayer(e)&&{departuresFromHereLink:()=>this.ngZone.run(()=>this.navigateToDeparturesFrom({id:e.properties.id}))}),{bottomContent:'<h3 class="h4">Plan a trip</h3>',links:this.markupUtil.getCurrentLocationPopupLinks(()=>this.ngZone.run(()=>r.__awaiter(this,void 0,void 0,(function*(){const t=yield this.locationFinderService.search(e.properties.id,new M.StopFinderRequest).toPromise();this.populateSearchField(!0,!1,t)}))),()=>this.ngZone.run(()=>r.__awaiter(this,void 0,void 0,(function*(){const t=yield this.locationFinderService.search(e.properties.id,new M.StopFinderRequest).toPromise();this.populateSearchField(!1,!0,t)}))))});this.createPopup(this.popup)}else this.noMarkerPopup(e.lngLat)}),t.on("mousemove",e=>{let n=t.queryRenderedFeatures(e.point,{layers:this.filterVisible(t)});if(this.cycleRouteLayerIds&&this.cycleRouteLayerIds.length>0&&this.cycleRouteLayerIds.filter(e=>t.getLayer(e))){const r=t.queryRenderedFeatures(e.point,{layers:this.cycleRouteLayerIds.filter(e=>t.getLayer(e))});r&&Array.isArray(r)&&r.length>0&&(n=[...n,...r])}t.getCanvas().style.cursor=n.length>0?"pointer":""})}subscribeToMapTypeChange(){this.subscriptions$.add(this.storeMapService.getMapLayers$().subscribe(t=>{t&&t.includes(d.TniConstant.MAPBOX_CONSTANTS.mapbox_retailer_layer_id)?this.mapInstance.on("idle",this.opalRetailerUpdateInstance):this.mapInstance.off("idle",this.opalRetailerUpdateInstance)}))}updateOpalRetailerStore(){const t=this.mapInstance.queryRenderedFeatures();if(t.length){const e=t.filter(t=>this.isOpalRetailerLayer(t));this.searchedLocMarker&&this.mapPointsService.sortRetailersByDistanceFromSearchLocation(this.searchedLocMarker,e),this.ngZone.run(()=>{this.stateStore.dispatch(new h.UpdateOpalRetailersAction({opalRetailers:e}))})}}isValidCoordinates(t){return t[1]<=90&&t[1]>=-90}ngOnDestroy(){this.destroy$.next(),this.cycleSubscription.unsubscribe(),this.subscriptions$.unsubscribe(),this.depSubscription$.unsubscribe()}}e.MapComponent=$,$.\u0275fac=function(t){return new(t||$)(T.\u0275\u0275directiveInject(O.Router),T.\u0275\u0275directiveInject(A.MapMarkupUtil),T.\u0275\u0275directiveInject(P.TrackEventService),T.\u0275\u0275directiveInject(L.LocationFinderService),T.\u0275\u0275directiveInject(k.Store),T.\u0275\u0275directiveInject(I.StoreMapService),T.\u0275\u0275directiveInject(D.IconService),T.\u0275\u0275directiveInject(N.TripMapLayersService),T.\u0275\u0275directiveInject(T.NgZone),T.\u0275\u0275directiveInject(R.WindowRef),T.\u0275\u0275directiveInject(z.MapPointsService),T.\u0275\u0275directiveInject(F.StoreMapLocationService),T.\u0275\u0275directiveInject(j.OnDemandService),T.\u0275\u0275directiveInject(B.MapConfigService),T.\u0275\u0275directiveInject(q.OpalRetailersService),T.\u0275\u0275directiveInject(V.SelectedJourneyStoreService),T.\u0275\u0275directiveInject(Y.TrackTripPlannerEventService),T.\u0275\u0275directiveInject(H.OccupancyIndicatorService))},$.\u0275cmp=T.\u0275\u0275defineComponent({type:$,selectors:[["tni-map"]],inputs:{zoom:"zoom",mapStyle:"mapStyle",bounds:"bounds",centerLngLat:"centerLngLat",sourceLayer:"sourceLayer",clickSourceLayer:"clickSourceLayer",popup:"popup",closePopupOnClick:"closePopupOnClick",popupOnHover:"popupOnHover",markers:"markers"},outputs:{clickStopFeature:"clickStopFeature",clickRegionFeature:"clickRegionFeature",clickMap:"clickMap",loadMap:"loadMap",clickMarker:"clickMarker",hoverMarker:"hoverMarker",mapError:"mapError"},features:[T.\u0275\u0275NgOnChangesFeature],decls:4,vars:5,consts:[["id","mapbox-map",3,"hidden"],["class","map-placeholder",4,"ngIf"],[3,"mapOptions",4,"ngIf"],[1,"map-placeholder"],[1,"placeholder-image"],[1,"placeholder-text"],["iconClasses","tp-icon tp-icon-disruption sm","iconAriaHidden","false","iconHidden","false","iconName","alert","iconTitle","alert"],["href","https://transportnsw.info/about-us/site-accessibility#accordion-recommended-browsers-content"],[3,"mapOptions"]],template:function(t,e){1&t&&(T.\u0275\u0275element(0,"div",0),T.\u0275\u0275template(1,G,9,0,"span",1),T.\u0275\u0275template(2,J,1,1,"tni-map-options",2),T.\u0275\u0275pipe(3,"async")),2&t&&(T.\u0275\u0275property("hidden",!e.isMapSupported),T.\u0275\u0275advance(1),T.\u0275\u0275property("ngIf",!e.isMapSupported),T.\u0275\u0275advance(1),T.\u0275\u0275property("ngIf",T.\u0275\u0275pipeBind1(3,3,e.showMapOptions)))},directives:[W.NgIf,U.IconComponent,X.MapOptionsComponent],pipes:[W.AsyncPipe],styles:['#mapbox-map[_ngcontent-%COMP%]{height:100%;position:relative}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){#mapbox-map[_ngcontent-%COMP%]{width:100vw}}.marker[_ngcontent-%COMP%]{display:block;border:1px solid grey;border-radius:50%;cursor:pointer;padding:0;background:#000}  div.realtime-position{background:#fff;border-radius:.4em;padding:12px 16px;position:relative;left:72%;bottom:8px;min-width:185px;box-shadow:0 2px 4px 0 rgba(0,0,0,.23)}  div.realtime-position-service-line-segment{display:flex;justify-content:start;align-items:center;margin-bottom:12px}  div.realtime-position-service-line-segment-mode-icon{margin-right:10px}  div.realtime-position-service-line-segment-mode-icon-text{border-radius:3px;font-size:14px;font-weight:700;padding:3px 9px;line-height:16px;text-align:center;color:#fff}  div.realtime-position-service-line-segment-text{color:#000;font-weight:700;font-size:12px;line-height:15px;width:130px}  div.realtime-position-deparr-time-stop-segment{padding:8px 0 9px;border-top:1px solid #ddd}  div.realtime-position-deparr-time{font-weight:700}  div.realtime-position-deparr-time,   div.realtime-position-message{color:#171717;font-size:12px;line-height:14px}  div.realtime-position-platform{color:#757575;font-size:12px;letter-spacing:0;line-height:15px}  div.realtime-position-platform-container{border-top:1px solid #e4e4e4;padding-top:10px;display:flex;justify-content:space-between}  div.realtime-position-capacity{margin-top:-2px;margin-right:-10px}  div.realtime-position   .occupancy-indicator{display:flex;position:relative;align-items:center}  div.realtime-position   .occupancy-indicator__icon{display:inline-block;width:32px;position:relative;top:-1px;white-space:nowrap;margin:0 2px 0 -2px}  div.realtime-position   .occupancy-indicator__icon--low{color:#31a50e}  div.realtime-position   .occupancy-indicator__icon--medium{color:#dc7a13}  div.realtime-position   .occupancy-indicator__icon--full{color:#af1919}  div.realtime-position   .occupancy-indicator   .tp-icon.xs{width:6px;min-width:6px;height:14px}  div.realtime-position   .occupancy-indicator .un-fill   svg{opacity:.3}@-webkit-keyframes mapboxgl-vehicle-position-pulse{50%{border-color:transparent}}@keyframes mapboxgl-vehicle-position-pulse{50%{border-color:transparent}}  .marker-mode-transport{border-radius:3px;font-size:14px;font-weight:500;padding:3px 9px 4px 10px;letter-spacing:.16px;line-height:26px;height:26px;box-sizing:border-box;box-shadow:0 2px 4px 0 rgba(0,0,0,.23);border:2px solid #fff}  div.opal-ring{width:25px;height:25px;border-radius:50%;border:4px solid rgba(29,105,180,.5)}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in,   .mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out{display:none}}  .mapboxgl-popup-content .popup-container .opal-retailer__distance{padding-left:5px;margin-top:8px;margin-bottom:1px}  .mapboxgl-popup-content .popup-container .opal-retailer__distance+h3{margin-top:0}  .mapboxgl-popup-content .popup-container .opal-retailer__name{color:#171717;font-size:14px;font-weight:500;letter-spacing:.12px;line-height:18px;margin:0}  .mapboxgl-popup-content .popup-container .opal-retailer__address{color:#171717;font-size:12px;font-weight:300;letter-spacing:0;line-height:15px;margin:0 0 5px}  .mapboxgl-popup-content .popup-container .opal-retailer__description{color:#171717;font-size:11px;letter-spacing:.09px;line-height:14px;font-weight:400;margin:0 0 10px}  .mapboxgl-popup-content .popup-footer-container a{min-width:266px}  .mapboxgl-popup-content .popup-footer-container a:focus,   .mapboxgl-popup-content .popup-footer-container a:hover{text-decoration:none}  .mapboxgl-popup-content .popup-footer-container .mapboxgl-popup-content .popup-footer-container a[href^=tel]:hover{text-decoration:underline}  .mapboxgl-popup-content .popup-footer-container .phone-link{text-align:center;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;line-height:18px;width:100%;margin-right:12px;margin-left:8px}  .mapboxgl-popup-content .popup-footer-container .phone-link .opal-phone{margin-left:8px}  .mapboxgl-popup-content .popup-footer-container .phone-link :hover{text-decoration:none}  .mapboxgl-popup-content .popup-footer-container .button-round,   .mapboxgl-popup-content .popup-footer-container a.button-round{width:100%;display:flex;justify-content:center;align-items:center}  .mapboxgl-popup-content .popup-footer-container .button-round .tp-icon.xs,   .mapboxgl-popup-content .popup-footer-container a.button-round .tp-icon.xs{fill:#fff;padding-right:5px;margin-top:0}  .mapboxgl-popup-content .popup-footer-container .button-round .sr-only,   .mapboxgl-popup-content .popup-footer-container a.button-round .sr-only{width:100px;height:20px}  .mapboxgl-popup-content .popup-footer-container .button-group{display:block;width:100%}  .mapboxgl-popup-content .popup-footer-container .button-content{display:flex;justify-content:center;align-items:center}  .tp-icon.marker{pointer-events:none;margin-bottom:55px}  .tp-icon.marker.realtime-vehicle-marker-direction{margin-bottom:0}  .tp-icon.marker.lg.map-trip-destination{z-index:300;margin-bottom:45px}  .mapboxgl-popup .mapboxgl-popup-content .message{font-weight:400}  .tp-icon.marker.lg.map-trip-leg-stop{z-index:320}  .mapboxgl-user-location-dot{display:none}  .marker-trip-point{background-color:#d11f2f;width:4px;height:4px;border-radius:50%;box-shadow:0 0 1px rgba(0,0,0,.25)}  .marker-trip-stop{width:15px;height:15px;border-radius:50%;border:2px solid #fff}  .marker-current-location-last-updated{background-color:#a4a4a4;width:22px;height:22px;border-radius:50%;box-shadow:0 0 0 20px hsla(0,0%,64.3%,.3);border:3px solid #fff}  .marker-current-location{z-index:390;background-color:#1da1f2;width:18px;height:18px;border-radius:50%;box-shadow:0 0 2px rgba(0,0,0,.25)}  .marker-current-location:before{background-color:#1da1f2;content:"";width:18px;height:18px;border-radius:50%;position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}  .marker-current-location:after{border-radius:50%;border:3px solid #fff;content:"";height:22px;left:-2px;position:absolute;top:-2px;width:22px;box-sizing:border-box}  .pulse-icon{transform:rotate(-45deg);padding-top:10px;margin-top:-10px;margin-left:-3px}  .pulse-icon .elements{z-index:1}  .pulse-icon .pulse{position:absolute;border-radius:50%}  .pulse-icon .pulse-1{width:12px;height:15px;top:-5px;left:-6px}  .pulse-icon .pulse-1,   .pulse-icon .pulse-2{-webkit-animation:pulse-wave 1s linear infinite forwards;animation:pulse-wave 1s linear infinite forwards}  .pulse-icon .pulse-2{width:20px;height:24px;top:-8px;left:-10px;-webkit-animation-delay:.25s;animation-delay:.25s}  .pulse-icon .pulse-1,   .pulse-icon .pulse-1:before,   .pulse-icon .pulse-2,   .pulse-icon .pulse-2:before{border:1.5px solid transparent;border-radius:50%}@-webkit-keyframes pulse-wave{0%,25%{opacity:0}50%{opacity:1}75%,to{opacity:0}}@keyframes pulse-wave{0%,25%{opacity:0}50%{opacity:1}75%,to{opacity:0}}']})},gJTM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripErrorComponent=void 0;const r=n("ha9l"),i=n("EiLY"),o=n("8Y7J"),a=n("tqRt"),s=n("SVse");function c(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"p",3),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.errorMessage)}}class l{constructor(t){this.stateStore=t}tryAgain(){this.stateStore.dispatch(new i.SearchTripAction({tripRequest:this.tripRequest,trip:this.trip,travelMode:r.JourneyType.PublicTransport}))}}e.TripErrorComponent=l,l.\u0275fac=function(t){return new(t||l)(o.\u0275\u0275directiveInject(a.Store))},l.\u0275cmp=o.\u0275\u0275defineComponent({type:l,selectors:[["tni-trip-error"]],inputs:{errorMessage:"errorMessage",tripRequest:"tripRequest",trip:"trip"},decls:4,vars:1,consts:[[1,"error-wrap"],["role","alert","aria-live","polite",4,"ngIf"],["aria-label","try again",1,"btn-retry",3,"click"],["role","alert","aria-live","polite"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,c,2,1,"p",1),o.\u0275\u0275elementStart(2,"button",2),o.\u0275\u0275listener("click",(function(){return e.tryAgain()})),o.\u0275\u0275text(3,"Try again"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.errorMessage))},directives:[s.NgIf],styles:[".mapboxgl-popup-anchor-top-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%], .mapboxgl-popup-anchor-top-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%],   .mapboxgl-popup-anchor-top .mapboxgl-popup-tip{border-bottom-color:#fff!important}  .mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip,   .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{margin-right:8px}.mapboxgl-popup-anchor-bottom-left[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%], .mapboxgl-popup-anchor-bottom-right[_ngcontent-%COMP%]   .mapboxgl-popup-tip[_ngcontent-%COMP%],   .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{border-top-color:#fff!important}  .mapboxgl-popup-anchor-bottom{padding-bottom:23px;margin-left:2px}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-content{margin-bottom:-15px}}  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-top-color:#fff!important;position:absolute;bottom:15px;border-color:transparent transparent #fff #fff;transform:rotate(-45deg);box-shadow:-3px 3px 3px 0 rgba(0,0,0,.4);border-bottom:8px solid #fff;right:141px}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{position:relative;bottom:-4px;border-bottom:8px solid #fff}}  .mapboxgl-popup-anchor-left .mapboxgl-popup-tip{border-right-color:#fff!important}  .mapboxgl-popup-anchor-right .mapboxgl-popup-tip{border-left-color:#fff!important}  .mapboxgl-popup{width:298px;max-width:unset!important}  .mapboxgl-popup .mapboxgl-popup-content{box-shadow:0 5px 5px -3px rgba(0,0,0,.2);width:290px}  .mapboxgl-popup .mapboxgl-popup-content .popup-container{height:unset}  .mapboxgl-popup .mapboxgl-popup-content .h4{color:#171717;height:unset;padding-left:6px;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;display:inline-block;line-height:18px;margin-bottom:0;padding-right:24px}  .mapboxgl-popup .mapboxgl-popup-content .message{height:unset;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;line-height:18px;padding-left:6px;font-weight:200;padding-top:6px;padding-bottom:6px}  .mapboxgl-popup .mapboxgl-popup-content a{text-decoration:none}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container{height:40px;margin:3px -6px 0;display:flex;justify-content:space-around}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container .tp-icon.xs{height:18px;width:18px;margin-top:-5px}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a{min-width:115px;box-sizing:border-box;height:40px;border:1px solid #cac9c9;border-radius:4px;background-color:#fff;padding:11px}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a div{text-align:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-footer-container a .link-label{margin-left:6px;height:18px;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;line-height:18px;text-align:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container{display:flex;justify-content:flex-start;align-items:flex-end;padding:4px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container   .tp-icon{margin-right:2px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container a{font-size:14px;color:#1d69b4;padding-right:10px}  .mapboxgl-popup .mapboxgl-popup-content .popup-opal-retailers-footer-container a .button-content{display:flex;justify-content:center;align-items:center}  .mapboxgl-popup .mapboxgl-popup-content .popup-departures-from-here-container h3{display:block}  .mapboxgl-popup .mapboxgl-popup-content .popup-departures-from-here-container a{display:block;height:40px;margin:4px 6px;border:1px solid #cac9c9;border-radius:4px;padding:11px;text-decoration:none;text-align:center;background-color:#fff;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;font-weight:500;line-height:18px}  .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-close-button{font-size:24px;margin-right:14px;margin-top:14px;font-weight:200}  .mapboxgl-popup .mapboxgl-popup-content .mapboxgl-popup-content-bottom{margin-top:2px;height:unset;color:#555;font-family:transtext-tp,sans-serif;font-size:14px;line-height:18px;font-weight:200}.error-wrap[_ngcontent-%COMP%]{text-align:center}.error-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;color:#555;line-height:20px;height:32px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff;height:48px;width:240px}.error-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;font-size:14px;font-weight:500;letter-spacing:.4px;width:70%;margin:0 auto 16px;line-height:16px}"]})},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},gVVK:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+(1===t?e?"sekundo":"sekundi":2===t?e||r?"sekundi":"sekundah":t<5?e||r?"sekunde":"sekundah":"sekund");case"m":return e?"ena minuta":"eno minuto";case"mm":return i+(1===t?e?"minuta":"minuto":2===t?e||r?"minuti":"minutama":t<5?e||r?"minute":"minutami":e||r?"minut":"minutami");case"h":return e?"ena ura":"eno uro";case"hh":return i+(1===t?e?"ura":"uro":2===t?e||r?"uri":"urama":t<5?e||r?"ure":"urami":e||r?"ur":"urami");case"d":return e||r?"en dan":"enim dnem";case"dd":return i+(1===t?e||r?"dan":"dnem":2===t?e||r?"dni":"dnevoma":e||r?"dni":"dnevi");case"M":return e||r?"en mesec":"enim mesecem";case"MM":return i+(1===t?e||r?"mesec":"mesecem":2===t?e||r?"meseca":"mesecema":t<5?e||r?"mesece":"meseci":e||r?"mesecev":"meseci");case"y":return e||r?"eno leto":"enim letom";case"yy":return i+(1===t?e||r?"leto":"letom":2===t?e||r?"leti":"letoma":t<5?e||r?"leta":"leti":e||r?"let":"leti")}}t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},gdVn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalkingSpeedComponent=void 0;const r=n("PkF6"),i=n("1z/I"),o=n("G0d7"),a=n("sYyf"),s=n("8Y7J"),c=n("lTCs"),l=n("s7LF"),u=n("0njA"),p=n("nXHs"),d=n("1z/I"),h=n("SVse"),f=n("ajRT");function m(t,e){if(1&t){const t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"tni-modal",12),s.\u0275\u0275listener("closeEvent",(function(){return s.\u0275\u0275restoreView(t),s.\u0275\u0275nextContext(2).toggleWalkingSpeedModal(!1)})),s.\u0275\u0275elementStart(1,"tni-modal-title"),s.\u0275\u0275elementStart(2,"h2"),s.\u0275\u0275text(3,"Walking speed"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"div",13),s.\u0275\u0275elementStart(5,"p"),s.\u0275\u0275elementStart(6,"b"),s.\u0275\u0275text(7,"Slow 2km/h"),s.\u0275\u0275elementEnd(),s.\u0275\u0275text(8," - takes about 30 mins to walk 1km "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"p"),s.\u0275\u0275elementStart(10,"b"),s.\u0275\u0275text(11,"Average 4km/h"),s.\u0275\u0275elementEnd(),s.\u0275\u0275text(12," - takes about 15 mins to walk 1km "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(13,"p"),s.\u0275\u0275elementStart(14,"b"),s.\u0275\u0275text(15,"Fast 6km/h"),s.\u0275\u0275elementEnd(),s.\u0275\u0275text(16," - takes about 10 mins to walk 1km "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&t){s.\u0275\u0275nextContext(2);const t=s.\u0275\u0275reference(6);s.\u0275\u0275property("@fadeOutAnimation",void 0)("openingElement",t)("fullscreenMobile",!0)("closeAtBottomLayout",!0)}}function g(t,e){if(1&t&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,m,17,4,"tni-modal",11),s.\u0275\u0275elementContainerEnd()),2&t){const t=s.\u0275\u0275nextContext();s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.isInfoModalOpen)}}class y{constructor(t){this.modalService=t,this.isInfoModalOpen=!1,this.fast=r.WalkSpeed.fast,this.normal=r.WalkSpeed.normal,this.slow=r.WalkSpeed.slow}getWalkingSpeed(){return+this.group.get("walkingSpeed").value===r.WalkSpeed.fast||+this.group.get("walkingSpeed").value===r.WalkSpeed.normal||+this.group.get("walkingSpeed").value===r.WalkSpeed.slow?+this.group.get("walkingSpeed").value:void 0}toggleWalkingSpeedModal(t){t?(this.modalService.addModalToBody(this.portal),this.isInfoModalOpen=!0):(this.modalService.removeModalFromBody(),this.isInfoModalOpen=!1)}scrollFurther(t){o.ScrollFurtherDown.by(t.srcElement,150)}}e.WalkingSpeedComponent=y,y.\u0275fac=function(t){return new(t||y)(s.\u0275\u0275directiveInject(c.ModalService))},y.\u0275cmp=s.\u0275\u0275defineComponent({type:y,selectors:[["tni-walking-speed"]],viewQuery:function(t,e){var n;1&t&&s.\u0275\u0275viewQuery(i.CdkPortal,!0),2&t&&s.\u0275\u0275queryRefresh(n=s.\u0275\u0275loadQuery())&&(e.portal=n.first)},inputs:{group:"group"},decls:13,vars:4,consts:[[1,"trip-preference",3,"formGroup"],["role","radiogroup",1,"optgroup"],[1,"refine-header"],["role","button","tabindex","0",1,"icon-wrap",3,"click","keydown.enter","focus"],["walkSpeedInfoElement",""],["iconClasses","tp-icon sm","iconName","info","aria-label","walking speed information","iconAriaHidden","true"],[1,"row-grid","walk-speed-option"],["radioGroupName","walkingSpeed","text","Slow","formControlName","walkingSpeed",3,"value"],["radioGroupName","walkingSpeed","text","Average","formControlName","walkingSpeed",3,"value"],["radioGroupName","walkingSpeed","text","Fast","formControlName","walkingSpeed",3,"value"],[4,"cdkPortal"],["ariaLabel","walking speed",3,"openingElement","fullscreenMobile","closeAtBottomLayout","closeEvent",4,"ngIf"],["ariaLabel","walking speed",3,"openingElement","fullscreenMobile","closeAtBottomLayout","closeEvent"],[1,"modal-text"]],template:function(t,e){1&t&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275elementStart(1,"div",1),s.\u0275\u0275elementStart(2,"div",2),s.\u0275\u0275elementStart(3,"h4"),s.\u0275\u0275text(4,"Walking speed"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"a",3,4),s.\u0275\u0275listener("click",(function(){return e.toggleWalkingSpeedModal(!0)}))("keydown.enter",(function(){return e.toggleWalkingSpeedModal(!0)}))("focus",(function(t){return e.toggleWalkingSpeedModal(!1),e.scrollFurther(t)})),s.\u0275\u0275element(7,"tni-icon",5),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(8,"div",6),s.\u0275\u0275element(9,"tni-radio-button",7),s.\u0275\u0275element(10,"tni-radio-button",8),s.\u0275\u0275element(11,"tni-radio-button",9),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(12,g,2,1,"ng-container",10)),2&t&&(s.\u0275\u0275property("formGroup",e.group),s.\u0275\u0275advance(9),s.\u0275\u0275propertyInterpolate("value",e.slow),s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("value",e.normal),s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("value",e.fast))},directives:[l.NgControlStatusGroup,l.FormGroupDirective,u.IconComponent,p.RadioButtonComponent,l.NgControlStatus,l.FormControlName,d.CdkPortal,h.NgIf,f.ModalComponent,f.ModalTitleDirective],styles:[".trip-preference[_ngcontent-%COMP%]{padding:0 16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-preference[_ngcontent-%COMP%]{margin-bottom:6rem;padding:0 10px}}.walk-speed-option[_ngcontent-%COMP%]{margin-bottom:2rem}.walking-speed-text[_ngcontent-%COMP%]{text-align:left}"],data:{animation:[a.fadeOutAnimation]}})},gekB:function(t,e,n){!function(t){"use strict";var e="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),n=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",e[7],e[8],e[9]];function r(t,r,i,o){var a="";switch(i){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":return o?"sekunnin":"sekuntia";case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":a=o?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return function(t,r){return t<10?r?n[t]:e[t]:t}(t,o)+" "+a}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},gjCT:function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};t.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(t){return n[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(n("wd/R"))},gvNm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureJourneyDurationComponent=void 0;const r=n("wd/R"),i=n("8Y7J"),o=n("SVse"),a=n("0njA");function s(t,e){if(1&t&&i.\u0275\u0275element(0,"tni-icon",9),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275property("iconName",t.realTimeDepartureStatus)("iconAriaHidden",!0)}}function c(t,e){1&t&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate("real time "))}function l(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"span",10),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275attribute("aria-hidden",!0),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(t.duration)}}function u(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"span",11),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275attribute("aria-hidden",!0),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(t.endTime)}}function p(t,e){1&t&&(i.\u0275\u0275elementStart(0,"div",12),i.\u0275\u0275elementStart(1,"span",13),i.\u0275\u0275text(2,"Alert: There is an alert for this trip"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(3,"tni-icon",14),i.\u0275\u0275elementEnd())}class d{constructor(){this.showDurationAndEndTime=!0}set journey(t){this.isRealTime=t.isRealtimeControlled,this.startTime=this.getTime(this.isRealTime&&t.departureTimeEstimated?t.departureTimeEstimated:t.departureTimePlanned),this.endTime=this.getTime(this.isRealTime&&t.arrivalTimeEstimated?t.arrivalTimeEstimated:t.arrivalTimePlanned);const e=r.duration(r(t.arrivalTimePlanned).diff(r(t.departureTimePlanned))),n=e.hours()?e.hours()+"h":"",i=e.minutes()?e.minutes()+"min":"";this.duration=`${n}${n?" ":""}${i}`,this.durationDescription=this.duration.replace("h","hours"),this.startTimeDescription=r(this.isRealTime&&t.departureTimeEstimated?t.departureTimeEstimated:t.departureTimePlanned).format("LT"),this.endTimeDescription=r(this.isRealTime&&t.arrivalTimeEstimated?t.arrivalTimeEstimated:t.arrivalTimePlanned).format("LT"),this.realTimeDepartureStatus=this.isRealTime&&t.departureStatus?t.departureStatus:null}getTime(t){return r(t).format("HH:mm")}}e.DepartureJourneyDurationComponent=d,d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=i.\u0275\u0275defineComponent({type:d,selectors:[["tni-departure-journey-duration"]],inputs:{showAlertIcon:"showAlertIcon",showDurationAndEndTime:"showDurationAndEndTime",journey:"journey"},decls:12,vars:8,consts:[[1,"journey-duration"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden",4,"ngIf"],["id","srRealTime",1,"sr-only"],[4,"ngIf"],[1,"row"],["role","text","aria-labelledby","srRealTime",1,"startTime"],["role","text","aria-labelledby","srRealTime","class","duration",4,"ngIf"],["role","text","aria-labelledby","srRealTime","class","endTime",4,"ngIf"],["class","journey-duration__alert",4,"ngIf"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden"],["role","text","aria-labelledby","srRealTime",1,"duration"],["role","text","aria-labelledby","srRealTime",1,"endTime"],[1,"journey-duration__alert"],[1,"sr-only"],["iconAriaHidden","true","iconClasses","tp-icon xs alert-message-icon","iconName","alert-message",1,"icon-alerts"]],template:function(t,e){1&t&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementStart(1,"div"),i.\u0275\u0275template(2,s,1,2,"tni-icon",1),i.\u0275\u0275elementStart(3,"div",2),i.\u0275\u0275template(4,c,2,1,"span",3),i.\u0275\u0275text(5),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(6,"div",4),i.\u0275\u0275elementStart(7,"span",5),i.\u0275\u0275text(8),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(9,l,2,2,"span",6),i.\u0275\u0275template(10,u,2,2,"span",7),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(11,p,4,0,"div",8),i.\u0275\u0275elementEnd()),2&t&&(i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",e.isRealTime&&e.realTimeDepartureStatus),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",e.isRealTime&&e.realTimeDepartureStatus),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",e.showDurationAndEndTime?"Departing at "+e.startTimeDescription+" Arriving at "+e.endTimeDescription+" Duration is "+e.duration:"Departing at "+e.startTimeDescription," "),i.\u0275\u0275advance(2),i.\u0275\u0275attribute("aria-hidden",!0),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(e.startTime),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.showDurationAndEndTime),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.showDurationAndEndTime),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.showAlertIcon))},directives:[o.NgIf,a.IconComponent],styles:['@charset "UTF-8";.journey-duration[_ngcontent-%COMP%]{color:#171717;margin-top:6px}.journey-duration[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{position:relative}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.journey-duration[_ngcontent-%COMP%]{margin-top:14px}}.journey-duration[_ngcontent-%COMP%]   .real-time[_ngcontent-%COMP%]{left:20px}.journey-duration__alert[_ngcontent-%COMP%]{display:block;position:absolute;right:1px;top:3px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.journey-duration__alert[_ngcontent-%COMP%]{margin-top:10px}}.journey-duration[_ngcontent-%COMP%]   .departure-time[_ngcontent-%COMP%]{padding-top:3px}.journey-duration[_ngcontent-%COMP%]   .endTime[_ngcontent-%COMP%], .journey-duration[_ngcontent-%COMP%]   .startTime[_ngcontent-%COMP%]{font-family:transtext-tp,sans-serif;font-weight:500;font-size:18px;letter-spacing:normal}.journey-duration[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{font-family:transtext-tp,sans-serif;font-weight:500;font-size:12px;letter-spacing:normal;color:#555}.journey-duration[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]:after, .journey-duration[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]:before{display:inline;text-align:center;vertical-align:top;font-size:8px;margin:0 4px;color:#555;content:"\u2014"}.journey-duration[_ngcontent-%COMP%]   .icon-alerts[_ngcontent-%COMP%]{float:right}.journey-duration[_ngcontent-%COMP%]   .next-day-indicator[_ngcontent-%COMP%]{padding-right:3px;font-size:13px;font-weight:700}.journey-duration[_ngcontent-%COMP%]   .next-day-indicator-message[_ngcontent-%COMP%]{display:block;font-size:12px;color:#af1919;padding-bottom:6px}.journey-duration[_ngcontent-%COMP%]   .next-day-indicator-message[_ngcontent-%COMP%]   .date-month[_ngcontent-%COMP%]{white-space:nowrap}.journey-duration[_ngcontent-%COMP%]   tni-duration[_ngcontent-%COMP%]{padding-left:7px}']})},h6C5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServingLinesService=void 0;const r=n("kU1M"),i=n("8Y7J"),o=n("IheW"),a=n("wJTc");class s{constructor(t,e){this.http=t,this.routeSearchService=e,this.SERVING_LINES_URL="/api/trip/v1/serving-line-request"}get(t,e){return this.http.get(this.SERVING_LINES_URL,{params:Object.assign(Object.assign({from:t,mode:"odv"},e&&{to:e}),{type:"stopID"})}).pipe(r.map(t=>t.lines),c(this.routeSearchService),r.shareReplay(1,1))}}e.ServingLinesService=s,s.\u0275fac=function(t){return new(t||s)(i.\u0275\u0275inject(o.HttpClient),i.\u0275\u0275inject(a.RouteSearchService))},s.\u0275prov=i.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"});const c=t=>r.switchMap(e=>{const n=null==e?void 0:e.map(t=>l(t.id)).flat();return t.searchByPayloadDivaIds(n).pipe(p(),h(null!=e?e:[]))}),l=t=>[t.replace(/^(.*):(.*):(.*):(?:.*):(.*)$/,"$1:$2:$3:R:$4"),t.replace(/^(.*):(.*):(.*):(?:.*):(.*)$/,"$1:$2:$3:H:$4")],u=t=>null==t?void 0:t.split(":")[1],p=()=>r.map(t=>new Map(t.map(t=>{var e,n;return[u(null===(n=null===(e=t.payload)||void 0===e?void 0:e.diva)||void 0===n?void 0:n.id),t]}))),d=t=>t.disassembledName===t.number?t.disassembledName:t.number.replace(t.disassembledName,""),h=t=>r.map(e=>t.map(t=>{var n,r;const i=e.get(u(null==t?void 0:t.id));return Object.assign(Object.assign({},t),{colour:Object.assign(Object.assign({},t.colour),null===(r=null===(n=null==i?void 0:i.payload)||void 0===n?void 0:n.route)||void 0===r?void 0:r.colour),routeSearchMetadata:{name:(o=t.iconId,[5,3,14,7,8].indexOf(o)>-1?t.description:d(t))}});var o}))},hK0D:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesSkeletonLoaderComponent=void 0;const r=n("8Y7J"),i=n("qCKp"),o=n("8Y7J"),a=n("SVse");function s(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"p",8),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.scrReaderText)}}function c(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275elementStart(1,"div",10),o.\u0275\u0275elementStart(2,"div",11),o.\u0275\u0275elementStart(3,"div",12),o.\u0275\u0275text(4,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",13),o.\u0275\u0275text(6,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"div",14),o.\u0275\u0275elementStart(8,"div",15),o.\u0275\u0275text(9,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"div",16),o.\u0275\u0275text(11,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"div",17),o.\u0275\u0275elementStart(13,"div",11),o.\u0275\u0275elementStart(14,"div",18),o.\u0275\u0275text(15,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(16,"div",19),o.\u0275\u0275elementStart(17,"div",20),o.\u0275\u0275text(18,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(19,"div",21),o.\u0275\u0275elementStart(20,"div",22),o.\u0275\u0275text(21,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"div",21),o.\u0275\u0275elementStart(23,"div",22),o.\u0275\u0275text(24,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}class l{constructor(t){this.ref=t,this.clear=new r.EventEmitter,this.scrReaderText="Searching",this.setInterval=i.interval(1e4)}ngOnInit(){this.changeScrReaderText()}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe()}clearDepartures(){this.clear.emit()}changeScrReaderText(){this.subscribe=this.setInterval.subscribe(()=>{this.scrReaderText="",this.ref.detectChanges(),this.scrReaderText="Still searching"})}}e.DeparturesSkeletonLoaderComponent=l,l.\u0275fac=function(t){return new(t||l)(o.\u0275\u0275directiveInject(o.ChangeDetectorRef))},l.\u0275cmp=o.\u0275\u0275defineComponent({type:l,selectors:[["tni-departures-skeleton-loader"]],outputs:{clear:"clear"},decls:12,vars:2,consts:[["role","alert","aria-live","assertive","class","sr-only","aria-atomic","true",4,"ngIf"],[1,"skeleton-loader"],[1,"buttons"],[1,"earlier"],[1,"animate"],[1,"favourite"],["aria-label","clear departure results",1,"result-actions-clear",3,"click"],["class","results",4,"ngFor","ngForOf"],["role","alert","aria-live","assertive","aria-atomic","true",1,"sr-only"],[1,"results"],[1,"skeleton-loader-upper","row"],[1,"col-md-2","col-xs-2"],[1,"animate","number"],[1,"animate","time-units"],[1,"col-md-9","col-xs-10"],[1,"animate","route"],[1,"animate","time"],[1,"skeleton-loader-lower"],[1,"animate","accessible"],[1,"col-md-8","col-xs-8"],[1,"animate","route-name"],[1,"col-md-1","col-xs-1"],[1,"animate","info"]],template:function(t,e){1&t&&(o.\u0275\u0275template(0,s,2,1,"p",0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275elementStart(2,"div",2),o.\u0275\u0275elementStart(3,"div",3),o.\u0275\u0275elementStart(4,"div",4),o.\u0275\u0275text(5,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"div",5),o.\u0275\u0275elementStart(7,"div",4),o.\u0275\u0275text(8,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"button",6),o.\u0275\u0275listener("click",(function(){return e.clearDepartures()})),o.\u0275\u0275text(10," Clear "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(11,c,25,0,"div",7),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("ngIf",e.scrReaderText),o.\u0275\u0275advance(11),o.\u0275\u0275property("ngForOf"," ".repeat(3).split("")))},directives:[a.NgIf,a.NgForOf],styles:['.skeleton-loader[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{background:#fff;border-radius:3px 3px 0 0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);margin:8px}.skeleton-loader[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 2px 0 #f1f1f1;margin:8px 0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:0 8px 10px;overflow:hidden;margin-top:15px}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{margin:11px auto;height:10px}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:32px;box-shadow:0 1px 2px 0 #f1f1f1;border-radius:2px;border:none;background:#fff}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .favourite[_ngcontent-%COMP%]{width:105px;float:right}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .clear[_ngcontent-%COMP%]{width:48px;float:right;margin-right:8px}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .result-actions-clear[_ngcontent-%COMP%]{font-size:13px;color:#555;line-height:20px;height:32px;width:58px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff;float:right;margin-right:8px}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .earlier[_ngcontent-%COMP%]{width:56px;float:left;border-radius:2px;background-color:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.skeleton-loader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .earlier[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{height:6px;width:24px;margin-top:13px}.skeleton-loader-upper[_ngcontent-%COMP%]{padding:15px 15px 5px}.skeleton-loader-row[_ngcontent-%COMP%]{padding:15px 15px 30px;border-bottom:1px solid #f2f2f2;margin:8px 0}.skeleton-loader[_ngcontent-%COMP%]   .animate.number[_ngcontent-%COMP%]{width:19px;height:24px;margin-left:15px}.skeleton-loader[_ngcontent-%COMP%]   .animate.time-units[_ngcontent-%COMP%]{height:16px;width:48px;margin-bottom:0}.skeleton-loader[_ngcontent-%COMP%]   .animate.route[_ngcontent-%COMP%]{height:24px;margin-bottom:10px;width:30%}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.skeleton-loader[_ngcontent-%COMP%]   .animate.route[_ngcontent-%COMP%]{width:64%}}.skeleton-loader[_ngcontent-%COMP%]   .animate.route-name[_ngcontent-%COMP%]{height:16px;width:30%;margin-top:-8px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.skeleton-loader[_ngcontent-%COMP%]   .animate.route-name[_ngcontent-%COMP%]{width:80%}}.skeleton-loader[_ngcontent-%COMP%]   .animate.accessible[_ngcontent-%COMP%]{margin-top:-8px;height:16px;width:39px}.skeleton-loader[_ngcontent-%COMP%]   .animate.info[_ngcontent-%COMP%]{margin-top:-8px;height:16px;width:16px}.skeleton-loader[_ngcontent-%COMP%]   .animate.time[_ngcontent-%COMP%]{height:16px;margin-bottom:0;width:60%}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.skeleton-loader[_ngcontent-%COMP%]   .animate.time[_ngcontent-%COMP%]{width:95%;height:24px}}.skeleton-loader-lower[_ngcontent-%COMP%]{padding:18px}.skeleton-loader[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:80%;height:8px;margin-bottom:10px;background:#f1f1f1}.skeleton-loader[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#f1f1f1,#f9f9f9 40px,#f1f1f1 80px);-webkit-animation:progress 1s ease-in-out infinite;animation:progress 1s ease-in-out infinite;background-color:inherit}@-webkit-keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}@keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}']})},hKrs:function(t,e,n){!function(t){"use strict";t.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u043d\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-\u0435\u0432":0===n?t+"-\u0435\u043d":n>10&&n<20?t+"-\u0442\u0438":1===e?t+"-\u0432\u0438":2===e?t+"-\u0440\u0438":7===e||8===e?t+"-\u043c\u0438":t+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n("wd/R"))},hVnv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckboxComponent=void 0;const r=n("8Y7J"),i=n("s7LF"),o=n("8Y7J"),a=n("SVse"),s=n("s7LF"),c=n("0njA"),l=n("GYBK");function u(t,e){if(1&t&&o.\u0275\u0275element(0,"tni-icon",7),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275property("iconName",t.icon)("iconClasses",t.iconClasses)("iconAriaHidden",!0)}}function p(t,e){if(1&t&&o.\u0275\u0275element(0,"tni-image",8),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275property("imageClasses",t.iconClasses)("imageName",t.image)}}class d{constructor(){this.clicked=new r.EventEmitter,this.onTouched=()=>{},this.onChanged=t=>{this.isChecked=t},this.iconClasses||(this.iconClasses="sm badge-icon")}writeValue(t){this.isChecked=!!t,this.onChanged(this.isChecked)}registerOnChange(t){this.onChanged=t}registerOnTouched(t){this.onTouched=t}onCheckBoxChange(t){this.writeValue(t.target.checked)}handleEnterKey(){this.isChecked=!this.isChecked,this.clicked.emit(this.isChecked?this.name+" checkbox checked":this.name+" checkbox unchecked"),this.onChanged(this.isChecked)}}e.CheckboxComponent=d,d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=o.\u0275\u0275defineComponent({type:d,selectors:[["tni-checkbox"]],inputs:{icon:"icon",image:"image",text:"text",name:"name",iconClasses:"iconClasses"},outputs:{clicked:"clicked"},features:[o.\u0275\u0275ProvidersFeature([{provide:i.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(()=>d),multi:!0}])],decls:8,vars:12,consts:[["role","checkbox","id","text + '-checkbox-label'","tabindex","0",1,"btn","btn-default","btn-checkbox",3,"ngClass","keyup.enter","click","keydown.space"],[3,"iconName","iconClasses","iconAriaHidden",4,"ngIf"],[3,"imageClasses","imageName",4,"ngIf"],[1,"badge-label"],["type","checkbox","id","default","tabindex","-1",1,"badgebox",3,"id","name","ngModel","change","ngModelChange"],["aria-hidden","true",1,"badge"],["iconClasses","xs",3,"iconName","iconAriaHidden"],[3,"iconName","iconClasses","iconAriaHidden"],[3,"imageClasses","imageName"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"a",0),o.\u0275\u0275listener("keyup.enter",(function(){return e.handleEnterKey()}))("click",(function(){return e.handleEnterKey()}))("keydown.space",(function(t){return t.preventDefault(),e.handleEnterKey()})),o.\u0275\u0275template(1,u,1,3,"tni-icon",1),o.\u0275\u0275template(2,p,1,2,"tni-image",2),o.\u0275\u0275elementStart(3,"span",3),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"input",4),o.\u0275\u0275listener("change",(function(t){return e.onCheckBoxChange(t)}))("ngModelChange",(function(t){return e.isChecked=t})),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"span",5),o.\u0275\u0275element(7,"tni-icon",6),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("ngClass",e.isChecked?"selected":null),o.\u0275\u0275attribute("for",e.name)("aria-checked",e.isChecked),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.icon),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.image),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.text),o.\u0275\u0275advance(1),o.\u0275\u0275property("id",e.name)("name",e.name)("ngModel",e.isChecked),o.\u0275\u0275attribute("aria-labelledby",e.text+"-checkbox-label"),o.\u0275\u0275advance(2),o.\u0275\u0275property("iconName","tick")("iconAriaHidden",!0))},directives:[a.NgClass,a.NgIf,s.CheckboxControlValueAccessor,s.NgControlStatus,s.NgModel,c.IconComponent,l.ImageComponent],styles:[".badgebox[_ngcontent-%COMP%]{opacity:0}.badgebox[_ngcontent-%COMP%] ~ .badge[_ngcontent-%COMP%]{display:none;width:27px}.badgebox[_ngcontent-%COMP%]:checked ~ .badge[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:10px;text-align:unset;padding:0;color:#175490}.btn-default[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:transparent;color:#175490}.btn-default.selected[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{color:#175490;font-weight:500}.btn-default[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{position:absolute;left:35px;top:7px}.btn.btn-default[_ngcontent-%COMP%]{background:#fff;position:relative;width:100%;height:40px;line-height:25px;margin-bottom:8px;color:#757575;text-align:left;padding:7px;font-size:13px;font-weight:400}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.btn.btn-default[_ngcontent-%COMP%]{font-size:12px}}.btn.btn-default[_ngcontent-%COMP%]:hover{border-color:#1d69b4!important}.btn.btn-default.selected[_ngcontent-%COMP%]{background:rgba(29,105,180,.08);border:1px solid #175490}.btn.btn-default.selected[_ngcontent-%COMP%]:hover{background:rgba(29,105,180,.08)!important}.btn.btn-default[_ngcontent-%COMP%]:hover{background:#fff!important}.btn.btn-default[_ngcontent-%COMP%]:active{outline:none;box-shadow:none}.btn-checkbox[_ngcontent-%COMP%]     .badge-icon{position:absolute;top:50%;transform:translateY(-50%)}"]})},hZer:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LastUpdatedDescriptionPipe=void 0;const r=n("f0Wu"),i=n("8Y7J");class o{constructor(){let t;t={relativeTime:{future:"in %",past:"% ago",s:"now",m:"%d min",mm:"%d min",h:"%d hour",hh:"%d hours",d:"%d day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},calendar:{lastDay:"[Yesterday (]ddd[)]",sameDay:"[Today (]ddd[)]",nextDay:"[Tomorrow (]ddd[)]",lastWeek:"D MMM[ (]ddd[)]",nextWeek:"D MMM[ (]ddd[)]",sameElse:"D MMM[ (]ddd[)]"}},r.updateLocale("en",t),[{threshold:"s",limit:60},{threshold:"m",limit:60},{threshold:"h",limit:24}].forEach(t=>{r.relativeTimeThreshold(t.threshold,t.limit)}),r.relativeTimeRounding(Math.floor)}transform(t){const e=r();return!t||e.isBefore(t)?null:t.isSame(e,"day")?r.duration(e.diff(t)).asMinutes()<1?null:{relativeTime:r(t).toNow(!0),suffix:"ago"}:{relativeTime:"",suffix:t.format("D MMM")}}}e.LastUpdatedDescriptionPipe=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=i.\u0275\u0275definePipe({name:"LastUpdatedDescriptionPipe",type:o,pure:!0})},ha9l:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JourneyType=void 0,e.JourneyType=function(t){return t.PublicTransport="publicTransport",t.Drive="drive",t.Cycle="cycle",t.Walk="walk",t}(e.JourneyType||{})},honF:function(t,e,n){!function(t){"use strict";var e={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},n={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};t.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(t){return t.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n("wd/R"))},hor5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FareTypeEnum=void 0,e.FareTypeEnum=function(t){return t.OpalNotAvailable="Opal not available",t.OpalPay="available",t.FareNotAvailable="Fare not available",t.FreeService="Free",t}(e.FareTypeEnum||{})},iDss:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniTabGroupComponent=void 0;const r=n("8Y7J"),i=n("aTCI"),o=n("8Y7J"),a=n("SVse"),s=n("0njA");function c(t,e){if(1&t&&o.\u0275\u0275element(0,"tni-icon",12),2&t){const t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("iconName",t.tabIcon)("iconAriaHidden",!0)}}function l(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"span",13),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.titlePrefix)}}function u(t,e){1&t&&o.\u0275\u0275element(0,"tni-icon",14),2&t&&o.\u0275\u0275property("iconAriaHidden",!0)}function p(t,e){1&t&&o.\u0275\u0275element(0,"tni-icon",15),2&t&&o.\u0275\u0275property("iconAriaHidden",!0)}function d(t,e){1&t&&o.\u0275\u0275elementContainer(0)}function h(t,e){if(1&t){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"a",3),o.\u0275\u0275listener("click",(function(n){o.\u0275\u0275restoreView(t);const r=e.$implicit;return o.\u0275\u0275nextContext().onTabClick(n,r)}))("keydown.enter",(function(n){o.\u0275\u0275restoreView(t);const r=e.$implicit;return o.\u0275\u0275nextContext().onTabClick(n,r)})),o.\u0275\u0275template(2,c,1,2,"tni-icon",4),o.\u0275\u0275template(3,l,2,1,"span",5),o.\u0275\u0275elementStart(4,"span",6),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,u,1,1,"tni-icon",7),o.\u0275\u0275template(7,p,1,1,"tni-icon",8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"div",9),o.\u0275\u0275elementStart(9,"div",10),o.\u0275\u0275template(10,d,1,0,"ng-container",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()}if(2&t){const t=e.$implicit,n=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275classProp("hidden","preferences-tab"===n.activeTabId)("tab--disabled",t.disabled)("active-tab",n.activeTabId===t.tabId)("no-active-tab",null===n.activeTabId),o.\u0275\u0275property("id",t.tabId),o.\u0275\u0275attribute("aria-expanded",t.ariaExpanded&&n.activeTabId===t.tabId)("aria-controls",t.tabId+"-panel")("aria-selected",n.activeTabId===t.tabId)("aria-controls",n.activeTabId===t.tabId?t.tabId+"-content-container":null),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.tabIcon),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","time-tab"==t.tabId),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(t.title),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",n.activeTabId!==t.tabId),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",n.activeTabId===t.tabId),o.\u0275\u0275advance(1),o.\u0275\u0275classProp("active-content-tab",n.activeTabId!==t.tabId),o.\u0275\u0275property("id",t.tabId+"-panel"),o.\u0275\u0275attribute("aria-labelledby",t.tabId),o.\u0275\u0275advance(1),o.\u0275\u0275classMapInterpolate1("",t.tabId,"-content-container"),o.\u0275\u0275propertyInterpolate1("id","",t.tabId,"-content-container"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t.contentTemplate)}}class f{constructor(){this.tabChange=new r.EventEmitter,this.loadedTabs=new Set}ngAfterContentInit(){void 0===this.activeTabId&&(this.activeTabId=null),this.loadedTabs.add(this.activeTabId)}ngOnChanges(t){if(t&&t.activeTabId&&t.activeTabId.currentValue){const e=t.activeTabId.currentValue;this.isTabLoaded(e)||this.loadedTabs.add(e),t.activeTabId.previousValue&&this.onTabClick({preventDefault:()=>{}},{tabId:t.activeTabId.currentValue})}}onTabClick(t,e){t.preventDefault();const n=e.tabId;e.disabled||(this.activeTabId=this.activeTabId===n?null:n,this.loadedTabs.add(this.activeTabId),this.tabChange.emit(this.activeTabId),"preferences-tab"!==this.activeTabId&&(e.ariaExpanded=!e.ariaExpanded))}isTabLoaded(t){return this.loadedTabs.has(t)}}e.TniTabGroupComponent=f,f.\u0275fac=function(t){return new(t||f)},f.\u0275cmp=o.\u0275\u0275defineComponent({type:f,selectors:[["tni-tab-group"]],contentQueries:function(t,e,n){var r;1&t&&o.\u0275\u0275contentQuery(n,i.TniTabComponent,!1),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.tabs=r)},inputs:{activeTabId:"activeTabId"},outputs:{tabChange:"tabChange"},features:[o.\u0275\u0275NgOnChangesFeature],decls:3,vars:3,consts:[[1,"tni-tab-container"],[1,"tni-tab-header-container"],[4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"tni-tab-header",3,"id","click","keydown.enter"],["class","tab-icon","iconClasses","xs",3,"iconName","iconAriaHidden",4,"ngIf"],["class","sr-only",4,"ngIf"],[1,"tab-title"],["iconName","arrow-down-small","class","tab-arrow","iconClasses","xs",3,"iconAriaHidden",4,"ngIf"],["iconName","arrow-up-small","class","tab-arrow","iconClasses","xs",3,"iconAriaHidden",4,"ngIf"],[1,"tni-tab-content-container",3,"id"],[3,"id"],[4,"ngTemplateOutlet"],["iconClasses","xs",1,"tab-icon",3,"iconName","iconAriaHidden"],[1,"sr-only"],["iconName","arrow-down-small","iconClasses","xs",1,"tab-arrow",3,"iconAriaHidden"],["iconName","arrow-up-small","iconClasses","xs",1,"tab-arrow",3,"iconAriaHidden"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275template(2,h,11,27,"ng-container",2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275classProp("no-active-tab",null===e.activeTabId),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",e.tabs))},directives:[a.NgForOf,a.NgIf,a.NgTemplateOutlet,s.IconComponent],styles:[".tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]{background:#fff;border-top:1px solid #ddd;display:grid;grid-template-columns:auto 1fr;grid-template-rows:1fr;font-size:14px;font-weight:400;transition:display .5s ease}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header[_ngcontent-%COMP%]{color:#171717;font-weight:400;padding:16px;white-space:nowrap;position:relative;border:0;display:flex;justify-content:flex-end;align-items:center}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:0;text-align:center}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px;margin-top:-1px}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header.active-tab[_ngcontent-%COMP%], .tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header[_ngcontent-%COMP%]:hover{background-color:transparent}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header.tab--disabled[_ngcontent-%COMP%]{color:#ddd;border-bottom:0}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-content-container[_ngcontent-%COMP%]{background:#fff}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-content-container[_ngcontent-%COMP%]   .time-tab-content-container[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .3s ease-in-out;padding-left:16px;padding-right:16px;visibility:hidden}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-content-container[_ngcontent-%COMP%]:not(.active-content-tab)   .time-tab-content-container[_ngcontent-%COMP%]{max-height:200px;visibility:visible}@media (min-width:992px){.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header[_ngcontent-%COMP%]:nth-of-type(odd){padding-left:32px;padding-right:0}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-header-container[_ngcontent-%COMP%]   .tni-tab-header[_ngcontent-%COMP%]:nth-of-type(2n+2){padding-left:0;padding-right:32px}.tni-tab-container[_ngcontent-%COMP%]   .tni-tab-content-container[_ngcontent-%COMP%]   .time-tab-content-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px}}#time-tab[_ngcontent-%COMP%]{grid-column:1/2;grid-row:1/2}#preferences-tab[_ngcontent-%COMP%]{color:#1d69b4;grid-column:2/2;grid-row:1/2}#preferences-tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}#preferences-tab[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{fill:#1d69b4}#time-tab-panel[_ngcontent-%COMP%]{grid-column:1/3;grid-row:3}#preferences-tab-panel[_ngcontent-%COMP%]{grid-column:1/3;grid-row:2/2}#time-tab[_ngcontent-%COMP%]{padding-right:0}#preferences-tab[_ngcontent-%COMP%]{padding-left:0}"]})},iEDd:function(t,e,n){!function(t){"use strict";t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},iFc6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniConstant=void 0;const r=n("A5KL"),i=n("ZaU7");class o{static initialize(){Object.keys(o.TRANSPORT_MODES).forEach(t=>{o.TRANSPORT_MODES[t]!==o.TRANSPORT_MODES.bus&&(o.ALL_PRODUCT_IDS_EXCEPT_BUSES=o.ALL_PRODUCT_IDS_EXCEPT_BUSES.concat(o.TRANSPORT_MODES[t].productsIds))})}static findModeIdsByProductId(t){let e=[];return Object.keys(o.TRANSPORT_MODES).forEach(n=>{-1!==o.TRANSPORT_MODES[n].productsIds.indexOf(t)&&(e=o.TRANSPORT_MODES[n].modeIds)}),e}static getColourByProductId(t){let e=null;return Object.keys(o.TRANSPORT_MODE_NETWORKS).forEach(n=>{t===o.TRANSPORT_MODE_NETWORKS[n].productId&&(e=o.TRANSPORT_MODE_NETWORKS[n].colour)}),e}}e.TniConstant=o,o.SEARCH_RADIUS=2e3,o.DISPLAY_REFRESH_INTERVAL=3e4,o.WALK_LEG_PRODUCTIDS=[99,100],o.ALL_PRODUCT_IDS_EXCEPT_BUSES=[],o.STATIC_ASSETS_BASE=window.location.host.includes("localhost:")?"static-assets/tpw":`//${window.location.host}/static-assets/tpw`,o.ICON_PATH=o.STATIC_ASSETS_BASE+"/icons/icons.svg",o.ANIMATE_ICON="animate",o.FEATURE_TOGGLE_ENDPOINT="/api/trip/v1/trip-toggles",o.DEPARTURES_ENDPOINT="/api/trip/v1/departure-list-request",o.DEPARTURES_DETAIL_ENDPOINT="/api/trip/v1/departure-detail-request",o.HOME_URL="/",o.FEATURE_TOGGLES={UI_ENABLE_COVID_OCCUPANCY_TEXT:"ui-enable-covid-occupancy-text",UI_FULL_CAPACITY_INDICATOR_TEXT:"ui-full-capacity-indicator-text",UI_LOW_CAPACITY_INDICATOR_TEXT:"ui-low-capacity-indicator-text",UI_MEDIUM_CAPACITY_INDICATOR_TEXT:"ui-medium-capacity-indicator-text",UI_CAPACITY_MODAL_TITLE_TEXT:"ui-capacity-modal-title-text",UI_CAPACITY_MODAL_SUBHEADING_TEXT:"ui-capacity-modal-subheading-text",UI_CAPACITY_MODAL_ESTIMATED_CAPACITY_TEXT:"ui-capacity-modal-estimated-capacity-text",UI_CAPACITY_MODAL_GREEN_DOTS_TEXT:"ui-capacity-modal-green-dots-text"},o.ICONIDS_FOR_COACHES=[7,17,22],o.ENVIRONMENTS={PROD:"PROD",LVS:"LVS",NONPROD:"NONPROD",PRODTEST:"PRODTEST",LOCAL:"LOCAL"},o.ROUTE_PATHS={OPAL_RETAILERS:"/opal-retailers",DEPARTURES:"/departures",TRIP:"/trip"},o.TRANSPORT_MODES={train:{id:"train",displayName:"Train",modeIds:[1,2,7],productsIds:[1,2,3,7,24],iconId:1,networks:[{name:"Sydney Trains",iconId:1,productId:1,tag:"sydney-trains",hasRoutes:!0},{name:"Intercity Trains",iconId:2,productId:2,tag:"intercity-trains",hasRoutes:!0},{name:"Regional Trains",iconId:3,productId:3,tag:"regional-trains",hasRoutes:!1,routeNumberIconClass:"tp-icon-train-regional-route",defaultMessage:"No alerts, normal service"},{name:"Regional Coaches",iconId:7,productId:7,tag:"regional-coaches",hasRoutes:!1,routeNumberIconClass:"tp-icon-coach-route",defaultMessage:"No alerts, normal service"}],urlPath:"train"},bus:{id:"bus",displayName:"Bus",modeIds:[5,11],productsIds:[4,5,6,15,16,14,9,17,8],iconId:4,networks:[{name:"Buses",iconId:5,productIdList:[4,5,6,15,16,14,9,17,8],tag:"buses",routeNumberIconClass:"tp-icon-bus-route"}],urlPath:"bus"},ferry:{id:"ferry",displayName:"Ferry",modeIds:[9],productsIds:[10,12,11],iconId:10,networks:[{name:"Sydney Ferries",iconId:10,productId:10,tag:"sydney-ferries"},{name:"ferry and fast ferry services",iconId:12,productId:12,tag:"private-ferries"},{name:"Newcastle Ferries",iconId:11,productId:11,tag:"newcastle-ferries"}],urlPath:"ferry"},lightrail:{id:"lightrail",displayName:"Light rail",modeIds:[4],productsIds:[13,21],iconId:13,networks:[{name:"Sydney Light Rail",iconId:13,productId:13,tag:"sydney-light-rail"},{name:"Newcastle Light Rail",iconId:21,productId:21,tag:"newcastle-light-rail"}],urlPath:"light-rail"},drive:{id:"drive",displayName:"Drive",modeIds:[],productsIds:[],regionGroups:{sydney:[{name:"Sydney Inner",tag:"SYD_MET"},{name:"Sydney North",tag:"SYD_NORTH"},{name:"Sydney South",tag:"SYD_SOUTH"},{name:"Sydney West",tag:"SYD_WEST"}],regional:[{name:"NSW North",tag:"REG_NORTH"},{name:"NSW South",tag:"REG_SOUTH"},{name:"NSW West",tag:"REG_WEST"}]},urlPath:"drive"}},o.DEFAULT_PUBLIC_TRANSPORT_MODES={TRAIN:r.PublicTransportMode.fromJson({id:"train",motCode:1,productCode:1,efaKey:"commuter",displayName:"Train",colour:"#F6891F",selected:!0}),BUS:r.PublicTransportMode.fromJson({id:"bus",motCode:5,productCode:5,efaKey:"bus",displayName:"Bus",colour:"#00B5EF",selected:!0}),FERRY:r.PublicTransportMode.fromJson({id:"ferry",motCode:9,productCode:10,efaKey:"ferry",displayName:"Ferry",colour:"#5AB031",selected:!0}),LIGHT_RAIL:r.PublicTransportMode.fromJson({id:"lightrail",motCode:4,productCode:13,efaKey:"tram",displayName:"Light rail",colour:"#EE343F",selected:!0}),COACH:r.PublicTransportMode.fromJson({id:"coach",motCode:7,productCode:7,efaKey:"coach",displayName:"Coach",colour:"#732A82",selected:!0}),SCHOOL_BUS:r.PublicTransportMode.fromJson({id:"other",motCode:11,productCode:8,efaKey:"other",displayName:"School bus",colour:"#00B5EF",selected:!1})},o.TRANSPORT_MODE_NETWORKS={sydneyTrains:i.TransportModeNetwork.fromJson({id:"sydneyTrains",displayName:"Sydney Trains",name:"Sydney Trains",productId:1,hasRouteList:!0,modeOfTransport:"train",order:1,colour:"#F6891F"}),intercityTrains:i.TransportModeNetwork.fromJson({id:"intercityTrains",displayName:"Intercity Trains",name:"Intercity Trains",productId:2,hasRouteList:!0,modeOfTransport:"train",order:2,colour:"#F6891F"}),regionalTrains:i.TransportModeNetwork.fromJson({id:"regionalTrains",displayName:"Regional Trains",name:"Regional Trains",productId:3,hasRouteList:!0,modeOfTransport:"train",order:3,colour:"#E56E0F",icon:"regional-train"}),temporaryTrains:i.TransportModeNetwork.fromJson({id:"temporaryTrains",displayName:"Temporary trains",name:"Temporary trains",productId:19,hasRouteList:!1,modeOfTransport:"train",order:4,colour:"#F6891F",icon:"train-temp"}),sydneyBuses:i.TransportModeNetwork.fromJson({id:"sydneyBuses",displayName:"Sydney Buses",name:"Sydney Buses",productId:4,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),blueMountainBuses:i.TransportModeNetwork.fromJson({id:"blueMountainBuses",displayName:"Blue Mountains Buses",name:"Blue Mountains Buses",productId:5,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),centralCoastBuses:i.TransportModeNetwork.fromJson({id:"centralCoastBuses",displayName:"Central Coast Buses",name:"Central Coast Buses",productId:6,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),hunterBuses:i.TransportModeNetwork.fromJson({id:"hunterBuses",displayName:"Hunter Buses",name:"Hunter Buses",productId:15,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),illawarraBuses:i.TransportModeNetwork.fromJson({id:"illawarraBuses",displayName:"Illawarra Buses",name:"Illawarra Buses",productId:16,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF"}),temporaryBuses:i.TransportModeNetwork.fromJson({id:"temporaryBuses",displayName:"Temporary buses",name:"Temporary buses",productId:14,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF",icon:"bus-temp"}),privateBus:i.TransportModeNetwork.fromJson({id:"privateBus",displayName:"bus",name:"bus",productId:9,hasRouteList:!1,modeOfTransport:"bus",colour:"#00B5EF",icon:"bus-private"}),privateCoach:i.TransportModeNetwork.fromJson({id:"privateCoach",displayName:"coach",name:"coach",productId:17,hasRouteList:!1,modeOfTransport:"bus",colour:"#732A82",icon:"coach-private"}),onDemand:i.TransportModeNetwork.fromJson({id:"onDemand",displayName:"On demand",name:"On demand",productId:23,hasRouteList:!1,colour:"#000000",icon:"on-demand"}),regionalCoaches:i.TransportModeNetwork.fromJson({id:"regionalCoaches",displayName:"NSW TrainLink",name:"Regional Coaches",productId:7,hasRouteList:!0,modeOfTransport:"coach",colour:"#732A82"}),temporaryCoaches:i.TransportModeNetwork.fromJson({id:"temporaryCoaches",displayName:"Temporary coaches",name:"Temporary coaches",productId:22,hasRouteList:!1,modeOfTransport:"coach",colour:"#732A82",icon:"coach-temp"}),sydneyFerries:i.TransportModeNetwork.fromJson({id:"sydneyFerries",displayName:"Sydney Ferries",name:"Sydney Ferries",productId:10,hasRouteList:!0,modeOfTransport:"ferry",order:1,colour:"#5AB031"}),privateFerries:i.TransportModeNetwork.fromJson({id:"privateFerries",displayName:"ferry and fast ferry services",name:"ferry and fast ferry services",productId:12,hasRouteList:!0,modeOfTransport:"ferry",order:2,colour:"#5AB031",icon:"ferry-private"}),newcastleFerries:i.TransportModeNetwork.fromJson({id:"newcastleFerries",displayName:"Newcastle Ferries",name:"Newcastle Ferries",productId:11,hasRouteList:!0,modeOfTransport:"ferry",order:3,colour:"#5AB031"}),temporaryFerries:i.TransportModeNetwork.fromJson({id:"temporaryFerries",displayName:"Temporary Ferries",name:"Temporary Ferries",productId:18,hasRouteList:!1,modeOfTransport:"ferry",order:4,colour:"#5AB031",icon:"ferry-temp"}),sydneyLightRail:i.TransportModeNetwork.fromJson({id:"sydneyLightRail",displayName:"Sydney Light Rail",name:"Sydney Light Rail",productId:13,hasRouteList:!0,modeOfTransport:"lightrail",colour:"#EE343F"}),newcastleLightRail:i.TransportModeNetwork.fromJson({id:"newcastleLightRail",displayName:"Newcastle Light Rail",name:"Newcastle Light Rail",productId:21,hasRouteList:!0,modeOfTransport:"lightrail",colour:"#EE343F"}),temporaryLightRail:i.TransportModeNetwork.fromJson({id:"temporaryLightRail",displayName:"Temporary light rail",name:"Temporary light rail",productId:20,hasRouteList:!1,modeOfTransport:"lightrail",colour:"#EE343F",icon:"lightrail-temp"}),schoolBuses:i.TransportModeNetwork.fromJson({id:"schoolBuses",displayName:"School buses",name:"School buses",productId:8,motType:11,hasRouteList:!1,modeOfTransport:"other",colour:"#00B5EF",icon:"bus-school"})},o.LIVE_TRAFFIC_MESSAGE_TYPES={alpine:{label:"Alpine conditions",icon:"live-traffic-alpine",endpointURL:"/tfnsw-live-traffic/alpine.json",filterOrder:4,layerName:"Alpine-Open"},fire:{label:"Fire",icon:"live-traffic-fire",endpointURL:"/tfnsw-live-traffic/fire.json",filterOrder:2,layerName:"Fire-Open"},flood:{label:"Flood",icon:"live-traffic-flood",endpointURL:"/tfnsw-live-traffic/flood.json",filterOrder:3,layerName:"Flood-Open"},incident:{label:"Incidents",icon:"alert",endpointURL:"/tfnsw-live-traffic/incident.json",filterOrder:1,layerName:"Incident-Open"},roadwork:{label:"Roadworks",icon:"live-traffic-roadwork",endpointURL:"/tfnsw-live-traffic/roadwork.json",filterOrder:6,layerName:"RoadWork-Open"},majorEvent:{label:"Major events",icon:"live-traffic-major-event",endpointURL:"/tfnsw-live-traffic/majorevent.json",filterOrder:5,layerName:"MajorEvent-Open"}},o.MAPBOX_CONSTANTS={accessToken:"pk.eyJ1IjoidGZuc3dpbmZvIiwiYSI6ImNpenAwdmFkYTAwNnIyd3NhcDBlamp2dDUifQ.Y1U_L2_UL3GYoX-KGSbrTw",greyscaleStyleUrl:"mapbox://styles/tfnswinfo/cjn3p188102nm2sp57xa49qy9",stopFacilitiesGreyscaleStyleUrl:"mapbox://styles/tfnswinfo/cj0a67fkf003e2rlfo1brgvvx",coloredStyleUrl:"mapbox://styles/tfnswinfo/cizqg7ai5004x2ro1rmufe16p",customAttributionControl:'<a href="/about-us/map-copyright" target="_blank">&copy; Map copyright</a>',geocoderBaseTypes:"country,region,postcode,locality,address,poi",line_width:3,circle_radius:6,circle_stroke_width:2,circle_stroke_color:"#fff",opal_retailers_colour:"#1D69B4",sales_agent_colour:"#E56E0F",bike_week_event_colour:"#007367",origin_layer_icon:"trip-start-marker",destination_layer_icon:"trip-end-marker",maxZoom:18,placesMinZoom:13,placesMinZoomForPaths:10,sydneyBounds:[[150.520928608,-34.118344992],[151.343020992,-33.578140996]],nswBounds:[[140,-37.6],[154.5,-28.1]],worldBounds:[[-180,-90],[180,90]],sydneyCenter:[151.20821,-33.870801],dobroydPointCenter:[151.143617,-33.871257],nswCenter:[147.031917,-32.162833],nswZoom:5,defaultZoom:13,stationFacilityZoom:16,stationFacilityMaxZoom:18,route_layer_id:"route",stops_layer_id:"stops",places_current_location_layer_id:"places-curr-loc",places_origin_layer_id:"places-origin",places_destination_layer_id:"places-destination",places_trip_leg_layer_id:"places-trip-leg",origin_layer_id:"origin",destination_layer_id:"destination",places_stop_layer_id:"places-stop",places_poi_layer_id:"places-pois",places_leg_origin_layer_id:"places-leg-origin",opal_search_location_layer_id:"opal-search-location",vehicle_position_id:"vehicle_position_id",vehicle_position_message_id:"vehicle_position_message_id",mapbox_stops_layer_id:"mbs-stops",mapbox_retailer_layer_id:"mbs-opal-retailers",mapbox_sales_agents_layer_id:"nsw-trainlink-sales-agent",mapbox_bike_week_layer_id:"bike-week",mapbox_bridge_path_walk_layer_id:"bridge-path-walk",mapbox_road_path_walk_layer_id:"road-path-walk",mapbox_bridge_path_cycle_layer_id:"bridge-path-cycle",mapbox_road_path_cycle_id:"road-path-cycle",mapbox_bike_only_id:"bike-only",mapbox_walk_only_id:"walk-only",mapbox_bike_no_access_id:"bike-no-access",mapbox_shared_path_id:"shared-path",mapbox_shared_path_copy_dot_id:"shared-path-copy-dot",mapbox_bike_lockers_id:"bike-lockers",mapbox_bike_sheds_id:"bike-sheds",mapbox_on_demand:"dcis-ondemand-",mapbox_on_demand_boundary:"dcis-ondemand-boundary-",mapbox_explore_location_id:"explore-location_id",mapbox_property_visibility:"visibility",mapbox_property_visibility_SHOW:"visible",mapbox_property_visibility_HIDE:"none"},o.initialize()},iInd:function(t,e,n){"use strict";n.r(e),n.d(e,"ActivatedRoute",(function(){return It})),n.d(e,"ActivatedRouteSnapshot",(function(){return Nt})),n.d(e,"ActivationEnd",(function(){return U})),n.d(e,"ActivationStart",(function(){return W})),n.d(e,"ChildActivationEnd",(function(){return H})),n.d(e,"ChildActivationStart",(function(){return Y})),n.d(e,"ChildrenOutletContexts",(function(){return He})),n.d(e,"DefaultUrlSerializer",(function(){return dt})),n.d(e,"GuardsCheckEnd",(function(){return F})),n.d(e,"GuardsCheckStart",(function(){return z})),n.d(e,"NavigationCancel",(function(){return D})),n.d(e,"NavigationEnd",(function(){return I})),n.d(e,"NavigationError",(function(){return N})),n.d(e,"NavigationStart",(function(){return k})),n.d(e,"NoPreloading",(function(){return an})),n.d(e,"OutletContext",(function(){return Ye})),n.d(e,"PRIMARY_OUTLET",(function(){return G})),n.d(e,"PreloadAllModules",(function(){return on})),n.d(e,"PreloadingStrategy",(function(){return rn})),n.d(e,"ROUTER_CONFIGURATION",(function(){return ln})),n.d(e,"ROUTER_INITIALIZER",(function(){return wn})),n.d(e,"ROUTES",(function(){return qe})),n.d(e,"ResolveEnd",(function(){return B})),n.d(e,"ResolveStart",(function(){return j})),n.d(e,"RouteConfigLoadEnd",(function(){return V})),n.d(e,"RouteConfigLoadStart",(function(){return q})),n.d(e,"RouteReuseStrategy",(function(){return De})),n.d(e,"Router",(function(){return $e})),n.d(e,"RouterEvent",(function(){return L})),n.d(e,"RouterLink",(function(){return Ke})),n.d(e,"RouterLinkActive",(function(){return tn})),n.d(e,"RouterLinkWithHref",(function(){return Ze})),n.d(e,"RouterModule",(function(){return hn})),n.d(e,"RouterOutlet",(function(){return en})),n.d(e,"RouterPreloader",(function(){return sn})),n.d(e,"RouterState",(function(){return Lt})),n.d(e,"RouterStateSnapshot",(function(){return Rt})),n.d(e,"RoutesRecognized",(function(){return R})),n.d(e,"Scroll",(function(){return X})),n.d(e,"UrlHandlingStrategy",(function(){return We})),n.d(e,"UrlSegment",(function(){return ct})),n.d(e,"UrlSegmentGroup",(function(){return st})),n.d(e,"UrlSerializer",(function(){return pt})),n.d(e,"UrlTree",(function(){return at})),n.d(e,"VERSION",(function(){return Sn})),n.d(e,"convertToParamMap",(function(){return $})),n.d(e,"provideRoutes",(function(){return yn})),n.d(e,"\u0275EmptyOutletComponent",(function(){return Re})),n.d(e,"\u0275ROUTER_PROVIDERS",(function(){return pn})),n.d(e,"\u0275angular_packages_router_router_a",(function(){return un})),n.d(e,"\u0275angular_packages_router_router_b",(function(){return dn})),n.d(e,"\u0275angular_packages_router_router_c",(function(){return fn})),n.d(e,"\u0275angular_packages_router_router_d",(function(){return mn})),n.d(e,"\u0275angular_packages_router_router_e",(function(){return gn})),n.d(e,"\u0275angular_packages_router_router_f",(function(){return _n})),n.d(e,"\u0275angular_packages_router_router_g",(function(){return vn})),n.d(e,"\u0275angular_packages_router_router_h",(function(){return bn})),n.d(e,"\u0275angular_packages_router_router_i",(function(){return Mn})),n.d(e,"\u0275angular_packages_router_router_j",(function(){return xn})),n.d(e,"\u0275angular_packages_router_router_k",(function(){return Cn})),n.d(e,"\u0275angular_packages_router_router_l",(function(){return Re})),n.d(e,"\u0275angular_packages_router_router_m",(function(){return Et})),n.d(e,"\u0275angular_packages_router_router_n",(function(){return At})),n.d(e,"\u0275angular_packages_router_router_o",(function(){return cn})),n.d(e,"\u0275flatten",(function(){return et}));var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),a=n("Cfvw"),s=n("2Vo4"),c=n("HDdC"),l=n("sVev"),u=n("itXk"),p=n("NXyV"),d=n("EY2u"),h=n("XNiG"),f=n("lJxs"),m=n("0EUg"),g=n("NJ9Y"),y=n("JIr8"),_=n("SxV6"),v=n("5+tZ"),b=n("vkgz"),M=n("Gi4w"),x=n("eIep"),w=n("IzEk"),C=n("JX91"),S=n("Kqap"),E=n("pLZG"),T=n("bOdf"),O=n("BFxc"),A=n("nYR2"),P=n("bHdf");class L{constructor(t,e){this.id=t,this.url=e}}class k extends L{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class I extends L{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class D extends L{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class N extends L{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class R extends L{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z extends L{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F extends L{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class j extends L{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B extends L{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class V{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Y{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const G="primary";class J{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $(t){return new J(t)}function K(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Z(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Q(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!tt(t[i],e[i]))return!1;return!0}function tt(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function et(t){return Array.prototype.concat.apply([],t)}function nt(t){return t.length>0?t[t.length-1]:null}function rt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function it(t){return Object(i["\u0275isObservable"])(t)?t:Object(i["\u0275isPromise"])(t)?Object(a.a)(Promise.resolve(t)):Object(o.a)(t)}function ot(t,e,n){return n?function(t,e){return Q(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!lt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tt(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!lt(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!lt(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!lt(n.segments,t)&&!!n.children[G]&&e(n.children[G],r,o)}}(e,n,n.segments)}(t.root,e.root)}class at{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$(this.queryParams)),this._queryParamMap}toString(){return ht.serialize(this)}}class st{constructor(t,e){this.segments=t,this.children=e,this.parent=null,rt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ft(this)}}class ct{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$(this.parameters)),this._parameterMap}toString(){return bt(this)}}function lt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ut(t,e){let n=[];return rt(t.children,(t,r)=>{r===G&&(n=n.concat(e(t,r)))}),rt(t.children,(t,r)=>{r!==G&&(n=n.concat(e(t,r)))}),n}class pt{}class dt{parse(t){const e=new St(t);return new at(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return ft(e);if(n){const n=e.children[G]?t(e.children[G],!1):"",r=[];return rt(e.children,(e,n)=>{n!==G&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=ut(e,(n,r)=>r===G?[t(e.children[G],!1)]:[`${r}:${t(n,!1)}`]);return`${ft(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${gt(e)}=${gt(t)}`).join("&"):`${gt(e)}=${gt(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ht=new dt;function ft(t){return t.segments.map(t=>bt(t)).join("/")}function mt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gt(t){return mt(t).replace(/%3B/gi,";")}function yt(t){return mt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _t(t){return decodeURIComponent(t)}function vt(t){return _t(t.replace(/\+/g,"%20"))}function bt(t){return`${yt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${yt(t)}=${yt(e[t])}`).join("")}`;var e}const Mt=/^[^\/()?;=#]+/;function xt(t){const e=t.match(Mt);return e?e[0]:""}const wt=/^[^=?&#]+/,Ct=/^[^?&#]+/;class St{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new st([],{}):new st([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[G]=new st(t,e)),n}parseSegment(){const t=xt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ct(_t(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=xt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=xt(this.remaining);t&&(n=t,this.capture(n))}t[_t(e)]=_t(n)}parseQueryParam(t){const e=function(t){const e=t.match(wt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ct);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=vt(e),i=vt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=xt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=G);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[G]:new st([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Et{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Tt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Tt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ot(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ot(t,this._root).map(t=>t.value)}}function Tt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Tt(t,n);if(e)return e}return null}function Ot(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ot(t,n);if(r.length)return r.unshift(e),r}return[]}class At{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Pt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Lt extends Et{constructor(t,e){super(t),this.snapshot=e,zt(this,t)}toString(){return this.snapshot.toString()}}function kt(t,e){const n=function(t,e){const n=new Nt([],{},{},"",{},G,e,null,t.root,-1,{});return new Rt("",new At(n,[]))}(t,e),r=new s.a([new ct("",{})]),i=new s.a({}),o=new s.a({}),a=new s.a({}),c=new s.a(""),l=new It(r,i,a,c,o,G,e,n.root);return l.snapshot=n.root,new Lt(new At(l,[]),n)}class It{constructor(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(f.a)(t=>$(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(f.a)(t=>$(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Nt{constructor(t,e,n,r,i,o,a,s,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rt extends Et{constructor(t,e){super(e),this.url=t,zt(this,e)}toString(){return Ft(this._root)}}function zt(t,e){e.value._routerState=t,e.children.forEach(e=>zt(t,e))}function Ft(t){const e=t.children.length>0?` { ${t.children.map(Ft).join(", ")} } `:"";return`${t.value}${e}`}function jt(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Q(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Q(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Q(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Q(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bt(t,e){var n,r;return Q(t.params,e.params)&&lt(n=t.url,r=e.url)&&n.every((t,e)=>Q(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Bt(t.parent,e.parent))}function qt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vt(t,e,n,r,i){let o={};return r&&rt(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new at(n.root===t?e:function t(e,n,r){const i={};return rt(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new st(e.segments,i)}(n.root,t,e),o,i)}class Yt{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&qt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==nt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ht{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Wt(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[G]:""+t}function Ut(t,e,n){if(t||(t=new st([],{})),0===t.segments.length&&t.hasChildren())return Xt(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],a=Wt(n[r]),s=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&s&&"object"==typeof s&&void 0===s.outlets){if(!Kt(a,s,e))return o;r+=2}else{if(!Kt(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new st(t.segments.slice(0,r.pathIndex),{});return e.children[G]=new st(t.segments.slice(r.pathIndex),t.children),Xt(e,0,i)}return r.match&&0===i.length?new st(t.segments,{}):r.match&&!t.hasChildren()?Gt(t,e,n):r.match?Xt(t,0,i):Gt(t,e,n)}function Xt(t,e,n){if(0===n.length)return new st(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[G]:t}}(n),i={};return rt(r,(n,r)=>{null!==n&&(i[r]=Ut(t.children[r],e,n))}),rt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new st(t.segments,i)}}function Gt(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Jt(n[i].outlets);return new st(r,t)}if(0===i&&qt(n[0])){r.push(new ct(t.segments[e].path,n[0])),i++;continue}const o=Wt(n[i]),a=i<n.length-1?n[i+1]:null;o&&a&&qt(a)?(r.push(new ct(o,$t(a))),i+=2):(r.push(new ct(o,{})),i++)}return new st(r,{})}function Jt(t){const e={};return rt(t,(t,n)=>{null!==t&&(e[n]=Gt(new st([],{}),0,t))}),e}function $t(t){const e={};return rt(t,(t,n)=>e[n]=""+t),e}function Kt(t,e,n){return t==n.path&&Q(e,n.parameters)}class Zt{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),jt(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Pt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),rt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Pt(t),i=t.value.component?n.children:e;rt(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Pt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new U(t.value.snapshot))}),t.children.length&&this.forwardEvent(new H(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(jt(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Qt(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Qt(t){jt(t.value),t.children.forEach(Qt)}class te{constructor(t,e){this.routes=t,this.module=e}}function ee(t){return"function"==typeof t}function ne(t){return t instanceof at}class re{constructor(t){this.segmentGroup=t||null}}class ie{constructor(t){this.urlTree=t}}function oe(t){return new c.a(e=>e.error(new re(t)))}function ae(t){return new c.a(e=>e.error(new ie(t)))}function se(t){return new c.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ce{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,G).pipe(Object(f.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(y.a)(t=>{if(t instanceof ie)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof re)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,G).pipe(Object(f.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(y.a)(t=>{if(t instanceof re)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new st([],{[G]:t}):t;return new at(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(f.a)(t=>new st([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(o.a)({});const n=[],r=[],i={};return rt(t,(t,o)=>{const a=e(o,t).pipe(Object(f.a)(t=>i[o]=t));o===G?n.push(a):r.push(a)}),o.a.apply(null,n.concat(r)).pipe(Object(m.a)(),Object(g.a)(),Object(f.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,a){return Object(o.a)(...n).pipe(Object(f.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,a).pipe(Object(y.a)(t=>{if(t instanceof re)return Object(o.a)(null);throw t}))),Object(m.a)(),Object(_.a)(t=>!!t),Object(y.a)((t,n)=>{if(t instanceof l.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(o.a)(new st([],{}));throw new re(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,a){return de(r)!==o?oe(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):oe(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ae(i):this.lineralizeSegments(n,i).pipe(Object(v.a)(n=>{const i=new st(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:a,consumedSegments:s,lastChild:c,positionalParamSegments:l}=le(e,r,i);if(!a)return oe(e);const u=this.applyRedirectCommands(s,r.redirectTo,l);return r.redirectTo.startsWith("/")?ae(u):this.lineralizeSegments(r,u).pipe(Object(v.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(f.a)(t=>(n._loadedConfig=t,new st(r,{})))):Object(o.a)(new st(r,{}));const{matched:i,consumedSegments:a,lastChild:s}=le(e,n,r);if(!i)return oe(e);const c=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(v.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>pe(t,e,n)&&de(n)!==G)}(t,n,r)?{segmentGroup:ue(new st(e,function(t,e){const n={};n[G]=e;for(const r of t)""===r.path&&de(r)!==G&&(n[de(r)]=new st([],{}));return n}(r,new st(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>pe(t,e,n))}(t,n,r)?{segmentGroup:ue(new st(t.segments,function(t,e,n,r){const i={};for(const o of n)pe(t,e,o)&&!r[de(o)]&&(i[de(o)]=new st([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,c,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(f.a)(t=>new st(a,t))):0===r.length&&0===s.length?Object(o.a)(new st(a,{})):this.expandSegment(n,i,r,s,G,!0).pipe(Object(f.a)(t=>new st(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new te(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(v.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(f.a)(t=>(e._loadedConfig=t,t))):function(t){return new c.a(e=>e.error(K(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new te([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(a.a)(r).pipe(Object(f.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&ee(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ee(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return it(o)})).pipe(Object(m.a)(),Object(b.a)(t=>{if(!ne(t))return;const e=K(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(M.a)(t=>!0===t)):Object(o.a)(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children[G])return se(t.redirectTo);r=r.children[G]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new at(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return rt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return rt(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new st(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function le(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Z)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ue(t){if(1===t.numberOfChildren&&t.children[G]){const e=t.children[G];return new st(t.segments.concat(e.segments),e.children)}return t}function pe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function de(t){return t.outlet||G}class he{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fe{constructor(t,e){this.component=t,this.route=e}}function me(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=Pt(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,s=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!lt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lt(t.url,e.url)||!Q(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bt(t,e)||!Q(t.queryParams,e.queryParams);case"paramsChange":default:return!Bt(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new he(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?c?c.children:null:r,i,o),l&&o.canDeactivateChecks.push(new fe(c&&c.outlet&&c.outlet.component||null,s))}else s&&ye(n,c,o),o.canActivateChecks.push(new he(i)),t(e,null,a.component?c?c.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]}),rt(a,(t,e)=>ye(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function ge(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ye(t,e,n){const r=Pt(t),i=t.value;rt(r,(t,r)=>{ye(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new fe(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const _e=Symbol("INITIAL_VALUE");function ve(){return Object(x.a)(t=>Object(u.b)(...t.map(t=>t.pipe(Object(w.a)(1),Object(C.a)(_e)))).pipe(Object(S.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==_e)return t;if(r===_e&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ne(r))return r}return t},t)},_e),Object(E.a)(t=>t!==_e),Object(f.a)(t=>ne(t)?t:!0===t),Object(w.a)(1)))}function be(t,e){return null!==t&&e&&e(new W(t)),Object(o.a)(!0)}function Me(t,e){return null!==t&&e&&e(new Y(t)),Object(o.a)(!0)}function xe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>Object(p.a)(()=>{const i=ge(r,e,n);let o;if(function(t){return t&&ee(t.canActivate)}(i))o=it(i.canActivate(e,t));else{if(!ee(i))throw new Error("Invalid CanActivate guard");o=it(i(e,t))}return o.pipe(Object(_.a)())}));return Object(o.a)(i).pipe(ve())}function we(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(p.a)(()=>{const i=e.guards.map(i=>{const o=ge(i,e.node,n);let a;if(function(t){return t&&ee(t.canActivateChild)}(o))a=it(o.canActivateChild(r,t));else{if(!ee(o))throw new Error("Invalid CanActivateChild guard");a=it(o(r,t))}return a.pipe(Object(_.a)())});return Object(o.a)(i).pipe(ve())}));return Object(o.a)(i).pipe(ve())}class Ce{}class Se{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Oe(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,G),n=new Nt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},G,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new At(n,e),i=new Rt(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(t){return new c.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Dt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ut(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===G?-1:e.value.outlet===G?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Ce))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ce}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Ce;if((t.outlet||G)!==r)throw new Ce;let i,o=[],a=[];if("**"===t.path){const o=n.length>0?nt(n).parameters:{};i=new Nt(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Le(t),r,t.component,t,Ee(e),Te(e)+n.length,ke(t))}else{const s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ce;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Z)(n,t,e);if(!r)throw new Ce;const i={};rt(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=s.consumedSegments,a=n.slice(s.lastChild),i=new Nt(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Le(t),r,t.component,t,Ee(e),Te(e)+o.length,ke(t))}const s=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=Oe(e,o,a,s,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(s,c);return[new At(i,t)]}if(0===s.length&&0===l.length)return[new At(i,[])];const u=this.processSegment(s,c,l,G);return[new At(i,u)]}}function Ee(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Te(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Oe(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ae(t,e,n)&&Pe(n)!==G)}(t,n,r)){const i=new st(e,function(t,e,n,r){const i={};i[G]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Pe(o)!==G){const n=new st([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Pe(o)]=n}return i}(t,e,r,new st(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ae(t,e,n))}(t,n,r)){const o=new st(t.segments,function(t,e,n,r,i,o){const a={};for(const s of r)if(Ae(t,n,s)&&!i[Pe(s)]){const n=new st([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[Pe(s)]=n}return Object.assign(Object.assign({},i),a)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new st(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ae(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Pe(t){return t.outlet||G}function Le(t){return t.data||{}}function ke(t){return t.resolve||{}}function Ie(t){return function(e){return e.pipe(Object(x.a)(e=>{const n=t(e);return n?Object(a.a)(n).pipe(Object(f.a)(()=>e)):Object(a.a)([e])}))}}class De{}class Ne{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Re=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i["\u0275\u0275element"](0,"router-outlet")},directives:function(){return[en]},encapsulation:2}),t})();function ze(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Fe(r,je(e,r))}}function Fe(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==G)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ze(t.children,e)}function je(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Be(t){const e=t.children&&t.children.map(Be),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==G&&(n.component=Re),n}const qe=new i.InjectionToken("ROUTES");class Ve{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(f.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new te(et(r.injector.get(qe)).map(Be),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(a.a)(this.loader.load(t)):it(t()).pipe(Object(v.a)(t=>t instanceof i.NgModuleFactory?Object(o.a)(t):Object(a.a)(this.compiler.compileModuleAsync(t))))}}class Ye{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new He,this.attachRef=null}}class He{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ye,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class We{}class Ue{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xe(t){throw t}function Ge(t,e,n){return e.parse("/")}function Je(t,e){return Object(o.a)(null)}let $e=(()=>{class t{constructor(t,e,n,r,o,a,c,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new h.a,this.errorHandler=Xe,this.malformedUriErrorHandler=Ge,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Je,afterPreactivation:Je},this.urlHandlingStrategy=new Ue,this.routeReuseStrategy=new Ne,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.NgModuleRef),this.console=o.get(i["\u0275Console"]);const u=o.get(i.NgZone);this.isNgZoneEnabled=u instanceof i.NgZone,this.resetConfig(l),this.currentUrlTree=new at(new st([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ve(a,c,t=>this.triggerEvent(new q(t)),t=>this.triggerEvent(new V(t))),this.routerState=kt(this.currentUrlTree,this.rootComponentType),this.transitions=new s.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(E.a)(t=>0!==t.id),Object(f.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(x.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(b.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(x.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(x.a)(t=>{const n=this.transitions.getValue();return e.next(new k(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?d.a:[t]}),Object(x.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,a=this.urlSerializer,s=this.config,function(t){return t.pipe(Object(x.a)(t=>function(t,e,n,r,i){return new ce(t,e,n,r,i).apply()}(r,i,a,t.extractedUrl,s).pipe(Object(f.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(b.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(v.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Se(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(f.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(b.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(b.a)(t=>{const n=new R(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,a,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:a,extras:s}=t,c=new k(n,this.serializeUrl(r),i,a);e.next(c);const l=kt(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),d.a}),Ie(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:a}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!a})}),Object(b.a)(t=>{const e=new z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(f.a)(t=>Object.assign(Object.assign({},t),{guards:me(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(v.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=n;return 0===c.length&&0===s.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(a.a)(t).pipe(Object(v.a)(t=>function(t,e,n,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.a)(!0);const s=a.map(o=>{const a=ge(o,e,i);let s;if(function(t){return t&&ee(t.canDeactivate)}(a))s=it(a.canDeactivate(t,e,n,r));else{if(!ee(a))throw new Error("Invalid CanDeactivate guard");s=it(a(t,e,n,r))}return s.pipe(Object(_.a)())});return Object(o.a)(s).pipe(ve())}(t.component,t.route,n,e,r)),Object(_.a)(t=>!0!==t,!0))}(c,r,i,t).pipe(Object(v.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(a.a)(e).pipe(Object(T.a)(e=>Object(a.a)([Me(e.route.parent,r),be(e.route,r),we(t,e.path,n),xe(t,e.route,n)]).pipe(Object(m.a)(),Object(_.a)(t=>!0!==t,!0))),Object(_.a)(t=>!0!==t,!0))}(r,s,t,e):Object(o.a)(n)),Object(f.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(b.a)(t=>{if(ne(t.guardsResult)){const e=K(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(b.a)(t=>{const e=new F(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(E.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new D(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ie(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(b.a)(t=>{const e=new j(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(x.a)(t=>{let n=!1;return Object(o.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(v.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let s=0;return Object(a.a)(n).pipe(Object(T.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});const s={};return Object(a.a)(i).pipe(Object(v.a)(i=>function(t,e,n,r){const i=ge(t,e,r);return it(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(b.a)(t=>{s[i]=t}))),Object(O.a)(1),Object(v.a)(()=>Object.keys(s).length===i.length?Object(o.a)(s):d.a))}(t._resolve,t,e,r).pipe(Object(f.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Dt(t,n).resolve),null)))}(t.route,e,r,i)),Object(b.a)(()=>s++),Object(O.a)(1),Object(v.a)(e=>s===n.length?Object(o.a)(t):d.a))}))}),Object(b.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new D(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(b.a)(t=>{const e=new B(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ie(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:a}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!a})}),Object(f.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new At(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new It(new s.a((i=n.value).url),new s.a(i.params),new s.a(i.queryParams),new s.a(i.fragment),new s.a(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new At(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Lt(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(b.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,c=this.routeReuseStrategy,l=t=>this.triggerEvent(t),Object(f.a)(t=>(new Zt(c,t.targetRouterState,t.currentRouterState,l).activate(i),t))),Object(b.a)({next(){n=!0},complete(){n=!0}}),Object(A.a)(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new D(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(y.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ne(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new D(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new N(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return d.a}));var i,c,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ze(t),this.config=t.map(Be),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:a,queryParamsHandling:s,preserveFragment:c}=e;Object(i.isDevMode)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=c?this.currentUrlTree.fragment:o;let p=null;if(s)switch(s){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=r||null}else p=a?this.currentUrlTree.queryParams:r||null;return null!==p&&(p=this.removeEmptyProps(p)),function(t,e,n,r,i){if(0===n.length)return Vt(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Yt(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return rt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Yt(n,e,r)}(n);if(o.toRoot())return Vt(e.root,new st([],{}),e,r,i);const a=function(t,e,n){if(t.isAbsolute)return new Ht(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Ht(t,t===e.root,0)}const r=qt(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ht(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Xt(a.segmentGroup,a.index,o.commands):Ut(a.segmentGroup,a.index,o.commands);return Vt(a.segmentGroup,s,e,r,i)}(l,this.currentUrlTree,t,p,u)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.isDevMode)()&&this.isNgZoneEnabled&&!i.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ne(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ne(t))return ot(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ot(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new I(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let a,s,c;i?(a=i.resolve,s=i.reject,c=i.promise):c=new Promise((t,e)=>{a=t,s=e});const l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:s,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](i.Type),i["\u0275\u0275inject"](pt),i["\u0275\u0275inject"](He),i["\u0275\u0275inject"](r.Location),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](void 0))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),Ke=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Qe(this.skipLocationChange),replaceUrl:Qe(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Qe(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Qe(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"]($e),i["\u0275\u0275directiveInject"](It),i["\u0275\u0275injectAttribute"]("tabindex"),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i["\u0275\u0275listener"]("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),Ze=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof I&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Qe(this.skipLocationChange),replaceUrl:Qe(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Qe(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Qe(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"]($e),i["\u0275\u0275directiveInject"](It),i["\u0275\u0275directiveInject"](r.LocationStrategy))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i["\u0275\u0275listener"]("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(i["\u0275\u0275hostProperty"]("href",e.href,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275attribute"]("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),t})();function Qe(t){return""===t||!!t}let tn=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof I&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"]($e),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](Ke,8),i["\u0275\u0275directiveInject"](Ze,8))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(i["\u0275\u0275contentQuery"](n,Ke,!0),i["\u0275\u0275contentQuery"](n,Ze,!0)),2&t&&(i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(e.links=r),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i["\u0275\u0275NgOnChangesFeature"]]}),t})(),en=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=r||G,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new nn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](He),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver),i["\u0275\u0275injectAttribute"]("name"),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class nn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===It?this.route:t===He?this.childContexts:this.parent.get(t,e)}}class rn{}class on{preload(t,e){return e().pipe(Object(y.a)(()=>Object(o.a)(null)))}}class an{preload(t,e){return Object(o.a)(null)}}let sn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ve(e,n,e=>t.triggerEvent(new q(e)),e=>t.triggerEvent(new V(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(E.a)(t=>t instanceof I),Object(T.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(a.a)(n).pipe(Object(P.a)(),Object(f.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(v.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"]($e),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](rn))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),cn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof k?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof I&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof X&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new X(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"]($e),i["\u0275\u0275inject"](r.ViewportScroller),i["\u0275\u0275inject"](void 0))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const ln=new i.InjectionToken("ROUTER_CONFIGURATION"),un=new i.InjectionToken("ROUTER_FORROOT_GUARD"),pn=[r.Location,{provide:pt,useClass:dt},{provide:$e,useFactory:_n,deps:[pt,He,r.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,qe,ln,[We,new i.Optional],[De,new i.Optional]]},He,{provide:It,useFactory:vn,deps:[$e]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},sn,an,on,{provide:ln,useValue:{enableTracing:!1}}];function dn(){return new i.NgProbeToken("Router",$e)}let hn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[pn,yn(e),{provide:un,useFactory:gn,deps:[[$e,new i.Optional,new i.SkipSelf]]},{provide:ln,useValue:n||{}},{provide:r.LocationStrategy,useFactory:mn,deps:[r.PlatformLocation,[new i.Inject(r.APP_BASE_HREF),new i.Optional],ln]},{provide:cn,useFactory:fn,deps:[$e,r.ViewportScroller,ln]},{provide:rn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:an},{provide:i.NgProbeToken,multi:!0,useFactory:dn},Cn()]}}static forChild(e){return{ngModule:t,providers:[yn(e)]}}}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(i["\u0275\u0275inject"](un,8),i["\u0275\u0275inject"]($e,8))}}),t})();function fn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new cn(t,e,n)}function mn(t,e,n={}){return n.useHash?new r.HashLocationStrategy(t,e):new r.PathLocationStrategy(t,e)}function gn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yn(t){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:qe,multi:!0,useValue:t}]}function _n(t,e,n,i,o,a,s,c={},l,u){const p=new $e(null,t,e,n,i,o,a,et(s));if(l&&(p.urlHandlingStrategy=l),u&&(p.routeReuseStrategy=u),c.errorHandler&&(p.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(p.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=Object(r["\u0275getDOM"])();p.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(p.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(p.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(p.relativeLinkResolution=c.relativeLinkResolution),p}function vn(t){return t.routerState.root}let bn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new h.a}appInitializer(){return this.injector.get(r.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get($e),r=this.injector.get(ln);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ln),n=this.injector.get(sn),r=this.injector.get(cn),o=this.injector.get($e),a=this.injector.get(i.ApplicationRef);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](i.Injector))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function Mn(t){return t.appInitializer.bind(t)}function xn(t){return t.bootstrapListener.bind(t)}const wn=new i.InjectionToken("Router Initializer");function Cn(){return[bn,{provide:i.APP_INITIALIZER,multi:!0,useFactory:Mn,deps:[bn]},{provide:wn,useFactory:xn,deps:[bn]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:wn}]}const Sn=new i.Version("10.0.7")},iV3M:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PtLegComponent=void 0;const r=n("1z/I"),i=n("f0Wu"),o=n("tY+t"),a=n("qCKp"),s=n("erv5"),c=n("cRl/"),l=n("RNDk"),u=n("9EFC"),p=n("8Y7J"),d=n("Y7wX"),h=n("tqRt"),f=n("ZDRT"),m=n("VS5s"),g=n("lTCs"),y=n("+ZNT"),_=n("dFlJ"),v=n("qwcM"),b=n("iInd"),M=n("SVse"),x=n("bm//"),w=n("HAZR"),C=n("A1oB"),S=n("m90T"),E=n("0ZrC"),T=n("/5D9"),O=n("0njA"),A=n("rYH4"),P=n("SNB+"),L=n("q66I"),k=n("4TE5"),I=n("FYjP"),D=n("jJ1G"),N=n("J/9z"),R=["toLabel"],z=["capacityIndicatorElement"],F=["shortPlatformElement"];function j(t,e){if(1&t&&p.\u0275\u0275element(0,"tni-icon",39),2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275property("iconName",t.leg.arrivalStatus)("iconClasses","real-time animate")("iconAriaHidden",!0)}}function B(t,e){1&t&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275elementStart(1,"div",40),p.\u0275\u0275text(2,"Next day"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementContainerEnd())}function q(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"span"),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),2&t){const t=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(", ",t.leg.origin.suburb,"")}}function V(t,e){if(1&t&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275elementStart(1,"div",41),p.\u0275\u0275elementStart(2,"span"),p.\u0275\u0275text(3),p.\u0275\u0275pipe(4,"replace"),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(5,q,2,1,"span",5),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementContainerEnd()),2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind3(4,2,t.leg.origin.disassembledName||t.leg.origin.name,t.REGEX_TRAILING_COMMAS,"")),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",t.leg.origin.suburb)}}function Y(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"span",42),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"replace"),p.\u0275\u0275elementEnd()),2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275property("id","pt-leg-from"+t.leg.origin.name),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind3(2,2,t.leg.origin.disassembledName||t.leg.origin.name,t.REGEX_TRAILING_COMMAS,""))}}function H(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"span"),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"slice"),p.\u0275\u0275elementStart(3,"span"),p.\u0275\u0275text(4),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind3(2,2,t.leg.origin.name,0,t.leg.origin.name.indexOf(","))," "),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1("(Stop ID ",t.leg.origin.id,")")}}function W(t,e){1&t&&(p.\u0275\u0275elementStart(0,"div",43),p.\u0275\u0275elementStart(1,"span",2),p.\u0275\u0275text(2,"This is an accessible stop"),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(3,"tni-icon",44),p.\u0275\u0275elementEnd())}function U(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"span"),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),2&t){const t=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" (Operated by ",null==t.leg.transportation||null==t.leg.transportation.operator?null:t.leg.transportation.operator.name,") ")}}function X(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"p",45),p.\u0275\u0275text(1),p.\u0275\u0275template(2,U,2,1,"span",5),p.\u0275\u0275elementEnd()),2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",t.leg.transportation.serviceDirection," "),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",t.leg.transportation.isOperatorVisible)}}function G(t,e){if(1&t&&p.\u0275\u0275element(0,"tni-realtime-pill",46),2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275property("departingTime",t.leg.departingTime)("departingTimePlanned",t.leg.departingTimePlanned)("arrivalStatus",t.leg.arrivalStatus)}}function J(t,e){if(1&t){const t=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"button",47,48),p.\u0275\u0275listener("click",(function(e){return p.\u0275\u0275restoreView(t),p.\u0275\u0275nextContext().displayOccupancyIndicatorMoreInfoModal(!0,e)}))("keydown.enter",(function(e){return p.\u0275\u0275restoreView(t),p.\u0275\u0275nextContext().displayOccupancyIndicatorMoreInfoModal(!0,e)})),p.\u0275\u0275element(2,"tni-occupancy-indicator",49),p.\u0275\u0275elementEnd()}if(2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275advance(2),p.\u0275\u0275property("transportation",t.leg.transportation)}}function $(t,e){if(1&t){const t=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"div",50),p.\u0275\u0275listener("click",(function(){return p.\u0275\u0275restoreView(t),p.\u0275\u0275nextContext().trackShortPlatformModalClick()}))("keydown.enter",(function(){return p.\u0275\u0275restoreView(t),p.\u0275\u0275nextContext().trackShortPlatformModalClick()})),p.\u0275\u0275elementStart(1,"button",51,52),p.\u0275\u0275listener("click",(function(){return p.\u0275\u0275restoreView(t),p.\u0275\u0275nextContext().displayShortPlatformModal(!0)}))("keydown.enter",(function(){return p.\u0275\u0275restoreView(t),p.\u0275\u0275nextContext().displayShortPlatformModal(!0)}))("focus",(function(){return p.\u0275\u0275restoreView(t),p.\u0275\u0275nextContext().displayShortPlatformModal(!1)})),p.\u0275\u0275elementStart(3,"span",53),p.\u0275\u0275text(4,"Travel in "),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(5,"tni-short-platform",54),p.\u0275\u0275elementStart(6,"a",55),p.\u0275\u0275element(7,"tni-icon",56),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()}if(2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275propertyInterpolate("title",t.accessibleTravelIn),p.\u0275\u0275advance(4),p.\u0275\u0275property("travelIn",t.travelIn)("accessibleTravelIn",t.accessibleTravelIn)}}function K(t,e){if(1&t&&p.\u0275\u0275element(0,"tni-booking-required",60),2&t){const t=p.\u0275\u0275nextContext(2);p.\u0275\u0275property("bookingInfo",t.leg.bookingInfo)}}function Z(t,e){1&t&&p.\u0275\u0275element(0,"tni-alert",61),2&t&&p.\u0275\u0275property("alert",e.$implicit)}function Q(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"div",57),p.\u0275\u0275template(1,K,1,1,"tni-booking-required",58),p.\u0275\u0275template(2,Z,1,1,"tni-alert",59),p.\u0275\u0275elementEnd()),2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",t.leg.bookingInfo),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngForOf",t.leg.alerts)}}function tt(t,e){1&t&&(p.\u0275\u0275elementStart(0,"div",70),p.\u0275\u0275elementStart(1,"span",2),p.\u0275\u0275text(2,"This is an accessible stop"),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(3,"tni-icon",44),p.\u0275\u0275elementEnd())}const et=function(t){return{"border-color":t}};function nt(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"div",64),p.\u0275\u0275elementStart(1,"div",65),p.\u0275\u0275element(2,"div",66),p.\u0275\u0275elementStart(3,"div"),p.\u0275\u0275elementStart(4,"span",2),p.\u0275\u0275text(5,"scheduled departure time"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(6,"span",67),p.\u0275\u0275text(7),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(8,"div"),p.\u0275\u0275elementStart(9,"span",2),p.\u0275\u0275text(10,"stop name"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(11,"span",68),p.\u0275\u0275text(12),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(13,tt,4,0,"div",69),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&t){const t=e.index,n=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(2),p.\u0275\u0275property("ngStyle",p.\u0275\u0275pureFunction1(4,et,null==n.leg||null==n.leg.transportation||null==n.leg.transportation.colour?null:n.leg.transportation.colour.foreground)),p.\u0275\u0275advance(5),p.\u0275\u0275textInterpolate1(" ",n.getFormattedTime(n.intermediateStops[t].departureTimeEstimated||n.intermediateStops[t].departureTimePlanned),""),p.\u0275\u0275advance(5),p.\u0275\u0275textInterpolate(n.intermediateStops[t].disassembledName),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",n.showStopAccessible(n.intermediateStops[t].isAccessible))}}function rt(t,e){if(1&t){const t=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"tni-accordion",62),p.\u0275\u0275listener("toggle",(function(e){return p.\u0275\u0275restoreView(t),p.\u0275\u0275nextContext().toggleDisplayStops(e)})),p.\u0275\u0275elementContainerStart(1,24),p.\u0275\u0275text(2),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementContainerStart(3,25),p.\u0275\u0275template(4,nt,14,6,"div",63),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementEnd()}if(2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275property("ariaLabel",t.stopLabel),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1(" ",t.stopLabel," "),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngForOf",t.intermediateStops)}}function it(t,e){if(1&t&&p.\u0275\u0275element(0,"tni-journey-fare",71),2&t){const t=p.\u0275\u0275nextContext();p.\u0275\u0275property("cardType",t.cardType)("fares",t.leg.fares)("expandedView",!0)}}function ot(t,e){1&t&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275elementStart(1,"div",72),p.\u0275\u0275text(2,"Next day"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementContainerEnd())}function at(t,e){1&t&&(p.\u0275\u0275elementStart(0,"span"),p.\u0275\u0275text(1,", "),p.\u0275\u0275elementEnd())}const st=function(t){return{"margin-left":t}},ct=function(t,e){return{"background-color":t,bottom:e}},lt=function(t){return{bottom:t}},ut=function(t,e){return{"border-color":t,bottom:e}};class pt{constructor(t,e,n,r,i,o,s,c,l){this.iconService=t,this.store=e,this.onDemandService=n,this.trackTripPlannerEventService=r,this.modalService=i,this.shortPlatformService=o,this.departuresRequestService=s,this.departureSearchService=c,this.router=l,this.show=!1,this.showToNextDayIndicator=!1,this.showShortPlatformModal=!1,this.subscriptions=new a.Subscription,this.REGEX_TRAILING_COMMAS=/(^[,s]+)|([,s]+$)/g,this.stopLabel=null,this.intermediateStops=[]}set legData(t){t.origin.properties&&(this.travelIn=this.shortPlatformService.getTravelInAdvice(t.origin.properties,!1),this.accessibleTravelIn=this.shortPlatformService.getTravelInAdvice(t.origin.properties,!0),this.destination=this.shortPlatformService.getDestination(t.destination)),this.showToNextDayIndicator=t&&!i(t.arrivalTime).isSame(t.departingTime,"day"),this.subscriptions=this.store.select(o.getQueryParamMap).subscribe(e=>{this.departuresUrlQueryParams={depart:t.origin.parentId,arrive:t.destination.parentId,type:"platform",dateTime:i(t.departingTime),onlyAccessible:e.params.onlyAccessible}}),this.validateStopSequence(t),this.destinationName=this.getDestinationName(t),this.leg=t}get mode(){return this.iconService.getModeIcon(this.leg.transportation.mode)}ngOnDestroy(){this.subscriptions.unsubscribe()}get routeMargin(){const t=this.leg.transportation.routeNumber.length;return 1===t?-42:2===t?-44:3===t?-48:-52}toggleDisplayStops(t){t&&this.store.dispatch(new l.MapTripLegAction({mapLeg:{leg:this.leg,index:this.legIndex}}))}isOpalNotAvailable(){return!this.leg.isOpalAvailable&&!this.leg.isFreeService&&!this.leg.isOpalPay}isFareNotAvailable(){return!this.leg.isFareAvailable&&this.leg.isOpalAvailable&&!this.leg.isFreeService&&!this.leg.isOpalPay}validateStopSequence(t){this.isOnDemandProduct(t.transportation.productId)||(t.stopSequence.length<3&&(this.intermediateStops=[]),this.intermediateStops=t.stopSequence.slice(1,t.stopSequence.length-1),this.stopLabel=this.intermediateStops.length>=1?`${this.intermediateStops.length} stop${this.intermediateStops.length>1?"s":""}`:null)}isOnDemandProduct(t){return this.onDemandService.isOnDemandProduct(t)}showStopAccessible(t){return!!t&&[s.Mode.Train,s.Mode.Ferry,s.Mode.LightRail,s.Mode.Metro].includes(this.leg.transportation.mode)}isOpalFare(){return this.leg.fares&&this.leg.fares.length>0&&this.leg.fares.every(t=>t.opalAvailable)&&this.leg.fares.every(t=>t.fareAvailable)&&!this.leg.fares.some(t=>t.farePartialEnabled)}showSuburb(){return!!this.leg.transportation.mode&&[s.Mode.Bus,s.Mode.SchoolBus,s.Mode.Coach,s.Mode.LightRail].includes(this.leg.transportation.mode)}getDestinationName(t){return this.isOnDemandProduct(t.transportation.productId)?t.transportation.serviceDirection:t.transportation.destination&&t.transportation.destination.name?t.transportation.destination.name:""}getFormattedTime(t){return c.TimeZoneHelper.getFormattedDate(t,"HH:mm")}get isToInTwoLines(){return this.toLabel.nativeElement.offsetHeight>20}displayOccupancyIndicatorMoreInfoModal(t,e){e.preventDefault();const n=this.capacityIndicatorEl.nativeElement;t?this.modalService.addModalToBody(new r.ComponentPortal(u.OccupancyIndicatorMoreInfoModalComponent),n):this.modalService.removeModalFromBody()}displayShortPlatformModal(t){this.showShortPlatformModal=t,t||this.shortPlatformEl.nativeElement.focus()}trackShortPlatformModalClick(){this.trackTripPlannerEventService.trackShortPlatformModalClick()}navigateToDepartures(){this.trackTripPlannerEventService.trackViewDeparturesFromTripPlanResults(),this.router.navigate(["/departures"],{queryParams:{depart:this.leg.origin.parentId,arrive:this.leg.destination.parentId,type:"platform",accessible:this.departuresUrlQueryParams.onlyAccessible,dateTime:i(this.leg.departingTime).format("YYYYMMDDHHmm")}})}onToggleNextDepartures(t){t&&this._getNextDepartures(this.departuresUrlQueryParams,this.leg)}_getNextDepartures(t,e){const n=Object.assign({},t);n.dateTime=this._setNextDepartureTime(e);const r=this.departuresRequestService.createDeparturesRequest(n),i=["TRIP_CANCELLED","NO_CALL_AT_STOP","DEPARTURE_CANCELLED","ARRIVAL_CANCELLED"];this.departureSearchService.search(r).subscribe(t=>{this.nextDepartures=null==t?void 0:t.stopEvents.filter(t=>!t.isCancelled&&!i.some(e=>e.includes(null==t?void 0:t.realtimeStatus)))})}_setNextDepartureTime(t){return i(t.departingTime).add(1,"minute")}}e.PtLegComponent=pt,pt.\u0275fac=function(t){return new(t||pt)(p.\u0275\u0275directiveInject(d.IconService),p.\u0275\u0275directiveInject(h.Store),p.\u0275\u0275directiveInject(f.OnDemandService),p.\u0275\u0275directiveInject(m.TrackTripPlannerEventService),p.\u0275\u0275directiveInject(g.ModalService),p.\u0275\u0275directiveInject(y.ShortPlatformService),p.\u0275\u0275directiveInject(_.DeparturesRequestService),p.\u0275\u0275directiveInject(v.DeparturesSearchService),p.\u0275\u0275directiveInject(b.Router))},pt.\u0275cmp=p.\u0275\u0275defineComponent({type:pt,selectors:[["tni-pt-leg"]],viewQuery:function(t,e){var n;1&t&&(p.\u0275\u0275staticViewQuery(R,!0),p.\u0275\u0275viewQuery(z,!0),p.\u0275\u0275viewQuery(F,!0),p.\u0275\u0275viewQuery(r.CdkPortal,!0)),2&t&&(p.\u0275\u0275queryRefresh(n=p.\u0275\u0275loadQuery())&&(e.toLabel=n.first),p.\u0275\u0275queryRefresh(n=p.\u0275\u0275loadQuery())&&(e.capacityIndicatorEl=n.first),p.\u0275\u0275queryRefresh(n=p.\u0275\u0275loadQuery())&&(e.shortPlatformEl=n.first),p.\u0275\u0275queryRefresh(n=p.\u0275\u0275loadQuery())&&(e.portal=n.first))},inputs:{legData:"legData",legIndex:"legIndex",showFromNextDayIndicator:"showFromNextDayIndicator",cardType:"cardType",alert:"alert"},decls:65,vars:51,consts:[["role","heading","aria-level","6",1,"sr-only"],[1,"pt-leg-from"],[1,"sr-only"],[1,"pt-leg-from__time"],[3,"iconName","iconClasses","iconAriaHidden",4,"ngIf"],[4,"ngIf"],[1,"pt-leg-from__icon",3,"mode","iconSize"],[1,"pt-leg-from__label"],[4,"ngIf","ngIfElse"],["noOriginId",""],[1,"pt-leg-from__detail"],[1,"pt-leg-from__detail-icon",3,"ngStyle"],[1,"mode-name",3,"id","transportation"],[1,"pt-leg-from__detail-head"],["class","pt-leg-from__isAccessible",4,"ngIf"],["class","pt-leg-from__service-direction",4,"ngIf"],[1,"pt-leg-from__realtime"],[3,"departingTime","departingTimePlanned","arrivalStatus",4,"ngIf"],["tabindex","0",3,"click","keydown.enter",4,"ngIf"],["class","short-platform",3,"click","keydown.enter",4,"ngIf"],["class","pt-leg__booking-required",4,"ngIf"],["aria-hidden","true",1,"pt-leg-line",3,"ngClass","ngStyle"],[1,"pt-leg-details"],["ariaLabel","Later departures",3,"toggle"],["header",""],["body",""],[3,"nextDepartures","navigate"],["headerClasses","show-hide-stops",3,"ariaLabel","toggle",4,"ngIf"],[1,"pt-leg-details__button"],[3,"isOpalPay","isFreeService","isOpalNotAvailable","isFareNotAvailable"],[1,"pt-leg-details__fare"],[3,"cardType","fares","expandedView",4,"ngIf"],[1,"pt-leg-to"],[1,"pt-leg-to__time",3,"ngStyle"],["aria-labelledby","trip step to",1,"pt-leg-to__marker",3,"ngStyle"],[1,"pt-leg-to__label"],["toLabel",""],[1,"suburb"],[3,"visible","travelIn","destination","accessibleTravelIn","closeModal"],[3,"iconName","iconClasses","iconAriaHidden"],[1,"pt-leg-from__next-day-indicator-message"],[1,"pt-leg-from__stop"],[3,"id"],[1,"pt-leg-from__isAccessible"],["iconAriaHidden","true","iconTitle","Wheelchair accessible service","iconClasses","accessible tp-icon xs","iconName","accessible"],[1,"pt-leg-from__service-direction"],[3,"departingTime","departingTimePlanned","arrivalStatus"],["tabindex","0",3,"click","keydown.enter"],["capacityIndicatorElement",""],[1,"pt-leg-from__realtime__occupancy",3,"transportation"],[1,"short-platform",3,"click","keydown.enter"],[1,"icon-wrap",3,"title","click","keydown.enter","focus"],["shortPlatformElement",""],["aria-hidden","true",1,"travel-in"],[3,"travelIn","accessibleTravelIn"],["aria-label","More information",1,"icon-more-info"],["iconClasses","tp-icon sm","iconName","more-info","iconTitle","More information","iconAriaHidden","true",1,"icon-more-info"],[1,"pt-leg__booking-required"],[3,"bookingInfo",4,"ngIf"],[3,"alert",4,"ngFor","ngForOf"],[3,"bookingInfo"],[3,"alert"],["headerClasses","show-hide-stops",3,"ariaLabel","toggle"],["class","stop-sequence",4,"ngFor","ngForOf"],[1,"stop-sequence"],[1,"pt-leg-stop"],[1,"pt-leg-stop__dot",3,"ngStyle"],[1,"pt-leg-stop__time"],[1,"pt-leg-stop__name"],["class","pt-leg-stop__isAccessible",4,"ngIf"],[1,"pt-leg-stop__isAccessible"],[3,"cardType","fares","expandedView"],[1,"pt-leg-to__next-day-indicator-message"]],template:function(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"span",0),p.\u0275\u0275text(1,"trip leg"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(2,"div",1),p.\u0275\u0275elementStart(3,"span",2),p.\u0275\u0275text(4),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(5,"div",3),p.\u0275\u0275elementStart(6,"span",2),p.\u0275\u0275text(7,"departure time"),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(8,j,1,3,"tni-icon",4),p.\u0275\u0275elementStart(9,"span"),p.\u0275\u0275text(10),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(11,B,3,0,"ng-container",5),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(12,"tni-mode-icon",6),p.\u0275\u0275elementStart(13,"span",7),p.\u0275\u0275elementStart(14,"span",2),p.\u0275\u0275text(15,"departure stop name"),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(16,V,6,6,"ng-container",8),p.\u0275\u0275template(17,Y,3,6,"ng-template",null,9,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(19,H,5,6,"span",5),p.\u0275\u0275elementStart(20,"div",10),p.\u0275\u0275elementStart(21,"span",11),p.\u0275\u0275element(22,"tni-mode-name",12),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(23,"p",13),p.\u0275\u0275text(24),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(25,W,4,0,"div",14),p.\u0275\u0275template(26,X,3,2,"p",15),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(27,"div",16),p.\u0275\u0275template(28,G,1,3,"tni-realtime-pill",17),p.\u0275\u0275template(29,J,3,1,"button",18),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(30,$,8,3,"div",19),p.\u0275\u0275template(31,Q,3,2,"div",20),p.\u0275\u0275element(32,"div",21),p.\u0275\u0275elementStart(33,"div",22),p.\u0275\u0275elementContainerStart(34),p.\u0275\u0275elementStart(35,"tni-accordion",23),p.\u0275\u0275listener("toggle",(function(t){return e.onToggleNextDepartures(t)})),p.\u0275\u0275elementContainerStart(36,24),p.\u0275\u0275text(37,"Later departures"),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementContainerStart(38,25),p.\u0275\u0275elementStart(39,"tni-next-departures",26),p.\u0275\u0275listener("navigate",(function(){return e.navigateToDepartures()})),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275template(40,rt,5,3,"tni-accordion",27),p.\u0275\u0275elementStart(41,"div",28),p.\u0275\u0275element(42,"tni-leg-fare",29),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(43,"div",30),p.\u0275\u0275template(44,it,1,3,"tni-journey-fare",31),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(45,"div",32),p.\u0275\u0275elementStart(46,"span",2),p.\u0275\u0275text(47,"arrival stop"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(48,"div",33),p.\u0275\u0275elementStart(49,"span",2),p.\u0275\u0275text(50,"arrival time"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(51,"span"),p.\u0275\u0275text(52),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(53,ot,3,0,"ng-container",5),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(54,"i",34),p.\u0275\u0275elementStart(55,"span",35,36),p.\u0275\u0275elementStart(57,"span",2),p.\u0275\u0275text(58,"arrival stop name"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(59,"span"),p.\u0275\u0275text(60),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(61,at,2,0,"span",5),p.\u0275\u0275elementStart(62,"small",37),p.\u0275\u0275text(63),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(64,"tni-short-platform-modal",38),p.\u0275\u0275listener("closeModal",(function(){return e.displayShortPlatformModal(!1)})),p.\u0275\u0275elementEnd()),2&t){const t=p.\u0275\u0275reference(18);p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate2("",e.mode," ",25===e.leg.transportation.productId||23===e.leg.transportation.productId?"service":"mode",""),p.\u0275\u0275advance(4),p.\u0275\u0275property("ngIf",e.leg.isRealTime),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(e.getFormattedTime(e.leg.departingTime)),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.showFromNextDayIndicator),p.\u0275\u0275advance(1),p.\u0275\u0275property("mode",e.leg.transportation.productId||e.leg.transportation.mode)("iconSize","sm-md"),p.\u0275\u0275advance(1),p.\u0275\u0275attribute("aria-labelledby","pt-leg-from"+e.leg.origin.name),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",!!e.leg.origin)("ngIfElse",t),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",!e.isOnDemandProduct(e.leg.transportation.productId)),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngStyle",p.\u0275\u0275pureFunction1(41,st,e.routeMargin+"px")),p.\u0275\u0275advance(1),p.\u0275\u0275property("id","icon"+e.leg.origin.id)("transportation",e.leg.transportation),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1(" ",e.destinationName," "),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.leg.isAccessible),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",!e.isOnDemandProduct(e.leg.transportation.productId)),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",e.leg.isRealTime&&!e.leg.isHighFrequency),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",null==e.leg.transportation?null:e.leg.transportation.occupancy),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.travelIn),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",(null==e.leg||null==e.leg.bookingInfo?null:e.leg.bookingInfo.urlText)||(null==e.leg.alerts?null:e.leg.alerts.length)>0),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngClass","pt-leg-line--"+e.mode)("ngStyle",p.\u0275\u0275pureFunction2(43,ct,null==e.leg||null==e.leg.transportation||null==e.leg.transportation.colour?null:e.leg.transportation.colour.foreground,!0===e.isToInTwoLines?"46px":"23px")),p.\u0275\u0275advance(7),p.\u0275\u0275property("nextDepartures",e.nextDepartures),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.stopLabel),p.\u0275\u0275advance(2),p.\u0275\u0275property("isOpalPay",e.leg.isOpalPay)("isFreeService",e.leg.isFreeService)("isOpalNotAvailable",e.isOpalNotAvailable())("isFareNotAvailable",e.isFareNotAvailable()),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",e.isOpalFare()),p.\u0275\u0275advance(4),p.\u0275\u0275property("ngStyle",p.\u0275\u0275pureFunction1(46,lt,!0===e.isToInTwoLines?"23px":"1px")),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(e.getFormattedTime(e.leg.arrivalTime)),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.showToNextDayIndicator),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngStyle",p.\u0275\u0275pureFunction2(48,ut,null==e.leg||null==e.leg.transportation||null==e.leg.transportation.colour?null:e.leg.transportation.colour.foreground,!0===e.isToInTwoLines?"30px":"8px")),p.\u0275\u0275advance(6),p.\u0275\u0275textInterpolate(e.leg.destination.disassembledName||e.leg.destination.name),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.leg.destination.suburb),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(e.leg.destination.suburb),p.\u0275\u0275advance(1),p.\u0275\u0275property("visible",e.showShortPlatformModal)("travelIn",e.travelIn)("destination",e.destination)("accessibleTravelIn",e.accessibleTravelIn)}},directives:[M.NgIf,x.ModeIconComponent,M.NgStyle,w.ModeNameComponent,M.NgClass,C.AccordionComponent,S.NextDeparturesComponent,E.LegFareComponent,T.ShortPlatformModalComponent,O.IconComponent,A.RealTimePillComponent,P.OccupancyIndicatorComponent,L.ShortPlatformComponent,M.NgForOf,k.BookingRequiredComponent,I.AlertComponent,D.JourneyFareComponent],pipes:[N.ReplacePipe,M.SlicePipe],styles:['[_nghost-%COMP%]{display:block;position:relative;margin-left:58px;padding:10px 0 10px 32px;font-size:12px}[_nghost-%COMP%]   .pt-leg-from__time[_ngcontent-%COMP%], [_nghost-%COMP%]   .pt-leg-to__time[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:-88px;font-weight:500;font-size:13px}[_nghost-%COMP%]   .pt-leg-from__label[_ngcontent-%COMP%], [_nghost-%COMP%]   .pt-leg-to__label[_ngcontent-%COMP%]{font-weight:500;font-size:15px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .pt-leg-from__label[_ngcontent-%COMP%], [_nghost-%COMP%]   .pt-leg-to__label[_ngcontent-%COMP%]{font-size:13px}}[_nghost-%COMP%]   .pt-leg-from__next-day-indicator-message[_ngcontent-%COMP%], [_nghost-%COMP%]   .pt-leg-to__next-day-indicator-message[_ngcontent-%COMP%]{font-size:8.5px;font-weight:400;line-height:.8}[_nghost-%COMP%]   .pt-leg-from[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .pt-leg-from__time[_ngcontent-%COMP%]{top:1px;font-size:13px}[_nghost-%COMP%]   .pt-leg-from__icon[_ngcontent-%COMP%]{position:absolute;left:-43px;z-index:10;height:20px}[_nghost-%COMP%]   .pt-leg-from__divider[_ngcontent-%COMP%]{border-bottom:1px solid #eaeaea;margin-left:-94px;padding-top:15px;margin-right:-16px}[_nghost-%COMP%]   .pt-leg-from__stop[_ngcontent-%COMP%]{font-size:15px;font-weight:500;line-height:25px;letter-spacing:.1px;color:#171717;text-decoration:none}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .pt-leg-from__stop[_ngcontent-%COMP%]{font-size:13px}}[_nghost-%COMP%]   .pt-leg-from__realtime[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:space-between;margin-right:-5px}[_nghost-%COMP%]   .pt-leg-from__realtime__occupancy[_ngcontent-%COMP%]{margin:8px 0 8px -1px}[_nghost-%COMP%]   .pt-leg-from__realtime[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#31393e;background-color:#fff;border:none}[_nghost-%COMP%]   .pt-leg-from__detail[_ngcontent-%COMP%]{margin-bottom:0;position:relative;font-weight:400;margin-top:12px;z-index:10}[_nghost-%COMP%]   .pt-leg-from__detail-head[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#171717;position:absolute;top:0}[_nghost-%COMP%]   .pt-leg-from__detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   .pt-leg-from__isAccessible[_ngcontent-%COMP%]{position:absolute;right:0;top:0}[_nghost-%COMP%]   .pt-leg-from__detail-icon[_ngcontent-%COMP%]{height:20px;padding-right:5px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .pt-leg-from__service-direction[_ngcontent-%COMP%]{margin-top:18px}}[_nghost-%COMP%]   .pt-leg-line[_ngcontent-%COMP%]{position:absolute;top:25px;left:0;bottom:23px;width:2px;background:#000}@media print{[_nghost-%COMP%]   .pt-leg-line[_ngcontent-%COMP%]{border-left:2px solid #000}}[_nghost-%COMP%]   .pt-leg-to[_ngcontent-%COMP%]{position:relative;margin-top:10px}[_nghost-%COMP%]   .pt-leg-to__marker[_ngcontent-%COMP%]{display:inline-block;width:10px;height:10px;position:absolute;left:-36px;bottom:8px;background:#fff;border:5px solid #000;border-radius:5px}[_nghost-%COMP%]   .pt-leg-to[_ngcontent-%COMP%]   .suburb[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .pt-leg-stop[_ngcontent-%COMP%]{position:relative;line-height:15px;margin-bottom:16px}[_nghost-%COMP%]   .pt-leg-stop__dot[_ngcontent-%COMP%]{position:absolute;top:3px;left:-30px;width:10px;height:10px;background:#fff;border:2px solid #000;border-radius:5px;z-index:2}[_nghost-%COMP%]   .pt-leg-stop__time[_ngcontent-%COMP%]{position:absolute;left:-70px;text-align:center;font-size:13px}[_nghost-%COMP%]   .pt-leg-stop__isAccessible[_ngcontent-%COMP%]{position:absolute;top:-3px;right:0}[_nghost-%COMP%]   .short-platform[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:8px}[_nghost-%COMP%]   .short-platform[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#31393e;background-color:#fff;border:none;padding-left:0}[_nghost-%COMP%]   .short-platform[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{display:inline-block;position:relative;bottom:1px;margin-left:8px}[_nghost-%COMP%]   .pt-leg-details[_ngcontent-%COMP%]{margin-left:-30px;margin-right:-16px}[_nghost-%COMP%]   .pt-leg-details__fare[_ngcontent-%COMP%]{padding:8px 24px}[_nghost-%COMP%]   .pt-leg-details__fare[_ngcontent-%COMP%]:after{display:block;content:"";clear:both}[_nghost-%COMP%]   .pt-leg-details[_ngcontent-%COMP%]   tni-accordion[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .pt-leg__booking-required[_ngcontent-%COMP%]{margin-bottom:24px}[_nghost-%COMP%]   tni-occupancy-indicator[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   tni-short-platform[_ngcontent-%COMP%]{line-height:18px;margin-left:4px}[_nghost-%COMP%]   .icon-more-info[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}[_nghost-%COMP%]   .next-departures__more-departures-with-booking[_ngcontent-%COMP%]{margin:16px 16px 16px 30px}[_nghost-%COMP%]   .next-departures__more-departures-with-booking[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}[_nghost-%COMP%]   .next-departures__more-departures-with-booking[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{position:relative;top:-1px;margin-left:24px}[_nghost-%COMP%]   .next-departures__more-departures-with-booking[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]     .tp-icon{height:8px;width:8px}[_nghost-%COMP%]   .next-departures__more-departues[_ngcontent-%COMP%]{margin-left:30px;margin-right:16px;margin-bottom:16px}[_nghost-%COMP%]   .next-departures__more-departues[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}[_nghost-%COMP%]   .next-departures__more-departues[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{position:relative;top:-1px;margin-left:24px}[_nghost-%COMP%]   .next-departures__more-departues[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]     .tp-icon{height:8px;width:8px}[_nghost-%COMP%]   .departures_divider[_ngcontent-%COMP%]{margin:20px 0 4px;border-top-width:1px;border-top-color:#ddd}']})},iYuL:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},itXk:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u}));var r=n("z+Ro"),i=n("DH7j"),o=n("l7GE"),a=n("ZUHj"),s=n("yCtX");const c={};function l(...t){let e=null,n=null;return Object(r.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(s.a)(t,n).lift(new u(e))}class u{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new p(t,this.resultSelector))}}class p extends o.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(c),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(a.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,a=this.toRespond?o[n]===c?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},"j+vQ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureRefreshEffect=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("KQMD"),a=n("kU1M"),s=n("qCKp"),c=n("xeYu"),l=n("8Y7J"),u=n("7bNT"),p=n("tqRt");e.DepartureRefreshEffect=(()=>{class t{constructor(t,e){this.action$=t,this.store=e,this.REFRESH_INTERVAL=15e3,this.refreshDepartures$=this.action$.pipe(i.ofType(o.DeparturesActionTypes.DeparturesRefresh),a.map(t=>({departuresRequest:t.payload.departuresRequest,departuresForm:t.payload.departuresForm})),a.switchMap(({departuresRequest:t,departuresForm:e})=>s.combineLatest([this.store.select(c.selectExpandedDepartureIndex),this.store.select(c.selectDeparturesRefreshList).pipe(a.take(1))]).pipe(a.switchMap(([n,r])=>s.timer(this.REFRESH_INTERVAL).pipe(a.map(()=>new o.SearchDeparturesAction({departuresRequest:t,departuresForm:e,isRefresh:!0,selectedIndex:n,refreshDepartures:r})),a.takeUntil(this.action$.pipe(i.ofType(o.DeparturesActionTypes.DeparturesStopRefresh))))))))}}return t.\u0275fac=function(e){return new(e||t)(l.\u0275\u0275inject(u.Actions),l.\u0275\u0275inject(p.Store))},t.\u0275prov=l.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"refreshDepartures$",void 0),t})()},j4G9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeSummaryComponent=void 0;const r=n("KJxU"),i=n("Y7wX"),o=n("8Y7J"),a=n("KJxU"),s=n("Y7wX"),c=n("SVse"),l=n("Qihy"),u=n("0njA");function p(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"div"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"div",2),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" Stop ID ",null==t.location?null:t.location.tsnId,""),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(t.displayText)}}function d(t,e){if(1&t&&o.\u0275\u0275element(0,"div",7),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("content",t.displayText)("searchTerm",t.searchTerm)}}function h(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",2),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.displayText)}}function f(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"li"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.location.suburb())}}function m(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"li"),o.\u0275\u0275element(1,"tni-icon",10),o.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("iconClasses","xs")("iconTitle",t)("iconName",t)("iconAriaHidden",!1)}}function g(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"ul",8),o.\u0275\u0275template(2,f,2,1,"li",6),o.\u0275\u0275template(3,m,2,4,"li",9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",!t.location.isLocality()),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",t.modeIcons())}}const y=function(t,e){return{"pull-left":t,"single-line":e}};function _(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",3),o.\u0275\u0275template(1,d,1,2,"div",4),o.\u0275\u0275template(2,h,2,1,"ng-template",null,5,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(4,g,4,2,"div",6)),2&t){const t=o.\u0275\u0275reference(3),e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction2(4,y,e.location.isCurrent,e.location.isLocality()||!e.location.suburb())),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.highLightText)("ngIfElse",t),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",!e.location.isLocality()&&!e.location.isCurrent&&!!e.location.suburb())}}class v{constructor(t,e){this.modeSortPipe=t,this.iconService=e}modeIcons(){let t;const e=this.location.motTypes;return e?(t=this.modeSortPipe.transform(e).map(this.iconService.getModeIcon),t.indexOf("bus")>=0&&t.indexOf("bus-school")>=0&&t.splice(t.indexOf("bus-school"),1),t):[]}get displayText(){return(this.location.buildingNumber?this.location.buildingNumber+" ":"")+(this.location.shortName||this.location.fullName)}}e.ModeSummaryComponent=v,v.\u0275fac=function(t){return new(t||v)(o.\u0275\u0275directiveInject(a.ModeSortPipe),o.\u0275\u0275directiveInject(s.IconService))},v.\u0275cmp=o.\u0275\u0275defineComponent({type:v,selectors:[["tni-mode-summary"]],inputs:{location:"location",searchTerm:"searchTerm",highLightText:"highLightText"},features:[o.\u0275\u0275ProvidersFeature([r.ModeSortPipe,i.IconService])],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noTSN",""],[1,"list-group-item-title"],[3,"ngClass"],["tniTextHighlight","",3,"content","searchTerm",4,"ngIf","ngIfElse"],["standardText",""],[4,"ngIf"],["tniTextHighlight","",3,"content","searchTerm"],[1,"list-group-item-list-inline","list-inline"],[4,"ngFor","ngForOf"],[3,"iconClasses","iconTitle","iconName","iconAriaHidden"]],template:function(t,e){if(1&t&&(o.\u0275\u0275template(0,p,5,2,"div",0),o.\u0275\u0275template(1,_,5,7,"ng-template",null,1,o.\u0275\u0275templateRefExtractor)),2&t){const t=o.\u0275\u0275reference(2);o.\u0275\u0275property("ngIf",null==e.location?null:e.location.tsnId)("ngIfElse",t)}},directives:[c.NgIf,c.NgClass,l.TextHighlightDirective,c.NgForOf,u.IconComponent],encapsulation:2})},jJ1G:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JourneyFareComponent=void 0;const r=n("1z/I"),i=n("s7LF"),o=n("sYyf"),a=n("8Y7J"),s=n("qoPz"),c=n("lTCs"),l=n("SVse"),u=n("1z/I"),p=n("GYBK"),d=n("0njA"),h=n("ajRT"),f=n("s7LF"),m=n("tgPt"),g=["opalFare"];function y(t,e){1&t&&(a.\u0275\u0275elementStart(0,"span",10),a.\u0275\u0275text(1,"Opal is available for this trip"),a.\u0275\u0275elementEnd())}function _(t,e){1&t&&(a.\u0275\u0275elementStart(0,"span",10),a.\u0275\u0275text(1,"Opal and contactless is available for this trip"),a.\u0275\u0275elementEnd())}function v(t,e){1&t&&a.\u0275\u0275element(0,"tni-image",11),2&t&&a.\u0275\u0275property("imageAriaHidden",!0)}function b(t,e){1&t&&a.\u0275\u0275element(0,"tni-icon",12),2&t&&a.\u0275\u0275property("iconClasses","xs ctp")("iconAriaHidden",!0)("iconAriaHidden",!0)}function M(t,e){1&t&&a.\u0275\u0275element(0,"tni-image",13),2&t&&a.\u0275\u0275property("imageAriaHidden",!0)}function x(t,e){1&t&&a.\u0275\u0275element(0,"tni-image",14),2&t&&a.\u0275\u0275property("imageAriaHidden",!0)}function w(t,e){1&t&&a.\u0275\u0275element(0,"tni-image",15),2&t&&a.\u0275\u0275property("imageAriaHidden",!0)}function C(t,e){1&t&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1," If you're using an Opal card fares are displayed at each tap off point. Opal benefits, such as daily travel caps, the Opal trip advantage or transfer discounts only apply to Opal and "),a.\u0275\u0275elementStart(2,"a",32),a.\u0275\u0275text(3,"contactless cards or devices"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(4," and may result in a zero or partial fare being displayed. "),a.\u0275\u0275elementEnd())}function S(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"tni-modal",17),a.\u0275\u0275listener("closeEvent",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext(2).closeFareDialog()})),a.\u0275\u0275elementStart(1,"tni-modal-title"),a.\u0275\u0275elementStart(2,"h2"),a.\u0275\u0275text(3,"Fares"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",18),a.\u0275\u0275element(5,"tni-list-radio",19),a.\u0275\u0275element(6,"tni-list-radio",20),a.\u0275\u0275element(7,"tni-list-radio",21),a.\u0275\u0275element(8,"tni-list-radio",22),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"div",23),a.\u0275\u0275template(10,C,5,0,"p",24),a.\u0275\u0275elementStart(11,"p"),a.\u0275\u0275text(12," Fares are based on trip planning data and apply to travel with Opal cards and "),a.\u0275\u0275elementStart(13,"a",25),a.\u0275\u0275text(14,"contactless cards or devices only"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(15,". Your actual fare may differ depending on the time and location you tapped on and off, what Opal benefits are applied and how you pay for your fare. You can check your "),a.\u0275\u0275elementStart(16,"a",26),a.\u0275\u0275text(17,"Opal activity statement"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(18," or "),a.\u0275\u0275elementStart(19,"a",27),a.\u0275\u0275text(20,"contactless payment activity"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(21," online. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(22,"p"),a.\u0275\u0275elementStart(23,"a",28),a.\u0275\u0275text(24,"Single trip ticket prices"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(25," are more expensive than using an Opal card and do not count towards Opal benefits such as daily travel caps, the Opal trip advantage or transfer discounts. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(26,"p"),a.\u0275\u0275text(27," Ensure you tap on with enough funds on your Opal card or contactless card to cover your fare, otherwise you could be fined. "),a.\u0275\u0275elementStart(28,"a",29),a.\u0275\u0275text(29,"Top up online or sign up for auto top up"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(30," to avoid long queues at stations and retailers. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(31,"p"),a.\u0275\u0275elementStart(32,"a",30),a.\u0275\u0275text(33,"Find out more about Opal"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(34,"."),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(35,"tni-modal-custom-button"),a.\u0275\u0275elementStart(36,"button",31),a.\u0275\u0275listener("click",(function(){return a.\u0275\u0275restoreView(t),a.\u0275\u0275nextContext(2).changeCardType()})),a.\u0275\u0275text(37,"OK"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("@fadeOutAnimation",void 0)("alignAtTop",!0)("fullscreenMobile",!0),a.\u0275\u0275advance(4),a.\u0275\u0275property("formGroup",t.group),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate1("additionalText","$",t.getFareByFareTypeString("ADULT"),""),a.\u0275\u0275property("value","ADULT")("helpText",t.getHelpText("ADULT")),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate1("additionalText","$",t.getFareByFareTypeString("CHILD"),""),a.\u0275\u0275property("value","CHILD")("helpText",t.getHelpText("CHILD")),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate1("additionalText","$",t.getFareByFareTypeString("SENIOR"),""),a.\u0275\u0275property("value","SENIOR")("helpText",t.getHelpText("SENIOR")),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate1("additionalText","$",t.getFareByFareTypeString("SCHOLAR"),""),a.\u0275\u0275property("value","SCHOLAR")("helpText",t.getHelpText("SCHOLAR")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",t.expandedView)}}function E(t,e){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,S,38,17,"tni-modal",16),a.\u0275\u0275elementContainerEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",t.showModal)}}class T{constructor(t,e){this.cardTypeService=t,this.modalService=e,this.defaultCardType="ADULT",this.group=new i.FormGroup({cardType:new i.FormControl(this.defaultCardType)})}ngOnChanges(t){const e=t.cardType&&t.cardType.currentValue?t.cardType.currentValue:this.defaultCardType;this.cardTypeLocal=this.cardTypeService.cardKeys.find(t=>t.value===e).id,this.group.controls.cardType.setValue(t.cardType.currentValue)}getFare(t){if(this.fares&&this.fares.length){const e=this.fares.find(e=>e.type===t);return e&&""+e.amount.toFixed(2)}}getFareByFareTypeString(t){if(this.fares&&this.fares.length){const e=this.cardTypeService.cardKeys.find(e=>e.value===t).id;return""+this.fares.find(t=>t.type===e).amount.toFixed(2)}}getHelpText(t){if(this.fares&&this.fares.length){const e=this.cardTypeService.cardKeys.find(e=>e.value===t).id,n=this.fares.find(t=>t.type===e);return n.stationAccessFee?`(includes station access fee of $${n.stationAccessFee.toFixed(2)})`:null}}openFareDialog(t){t.stopPropagation(),t.preventDefault(),this.modalService.addModalToBody(this.portal),this.showModal=!0}closeFareDialog(){this.modalService.removeModalFromBody(),this.showModal=!1,setTimeout(()=>{this.opalFareEl.nativeElement.focus()},200)}changeCardType(){this.cardTypeService.setCardType(this.group.controls.cardType.value),this.closeFareDialog()}}e.JourneyFareComponent=T,T.\u0275fac=function(t){return new(t||T)(a.\u0275\u0275directiveInject(s.CardTypeService),a.\u0275\u0275directiveInject(c.ModalService))},T.\u0275cmp=a.\u0275\u0275defineComponent({type:T,selectors:[["tni-journey-fare"]],viewQuery:function(t,e){var n;1&t&&(a.\u0275\u0275viewQuery(r.CdkPortal,!0),a.\u0275\u0275staticViewQuery(g,!0)),2&t&&(a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.portal=n.first),a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.opalFareEl=n.first))},inputs:{cardType:"cardType",fares:"fares",expandedView:"expandedView"},features:[a.\u0275\u0275NgOnChangesFeature],decls:12,vars:9,consts:[["role","button","tabindex","0",1,"pull-right","journey-fare",3,"click","keydown.enter","focus"],["opalFare",""],["class","sr-only",4,"ngIf"],["imageClasses","opal-card","imageName","opal_focus-adult-desktop.png","imageTitle","ADULT",3,"imageAriaHidden",4,"ngIf"],["iconName","ctp","imageTitle","CONTACLESS",3,"iconClasses","iconAriaHidden",4,"ngIf"],["imageClasses","opal-card","imageName","opal_focus-child-desktop.png","imageTitle","CHILD",3,"imageAriaHidden",4,"ngIf"],["imageClasses","opal-card","imageName","opal_focus-senior-desktop.png","imageTitle","SENIOR",3,"imageAriaHidden",4,"ngIf"],["imageClasses","opal-card","imageName","opal_focus-concession-desktop.png","imageTitle","SCHOLAR",3,"imageAriaHidden",4,"ngIf"],[1,"amount"],[4,"cdkPortal"],[1,"sr-only"],["imageClasses","opal-card","imageName","opal_focus-adult-desktop.png","imageTitle","ADULT",3,"imageAriaHidden"],["iconName","ctp","imageTitle","CONTACLESS",3,"iconClasses","iconAriaHidden"],["imageClasses","opal-card","imageName","opal_focus-child-desktop.png","imageTitle","CHILD",3,"imageAriaHidden"],["imageClasses","opal-card","imageName","opal_focus-senior-desktop.png","imageTitle","SENIOR",3,"imageAriaHidden"],["imageClasses","opal-card","imageName","opal_focus-concession-desktop.png","imageTitle","SCHOLAR",3,"imageAriaHidden"],["class","fare-modal-dialog","ariaLabel","Fares",3,"alignAtTop","fullscreenMobile","closeEvent",4,"ngIf"],["ariaLabel","Fares",1,"fare-modal-dialog",3,"alignAtTop","fullscreenMobile","closeEvent"],["role","radiogroup",3,"formGroup"],["formControlName","cardType","radioGroupName","cardType","image","opal_focus-adult-desktop.png","text","Adult or contactless","imageClasses","opal-card","icon","ctp",3,"value","additionalText","helpText"],["formControlName","cardType","radioGroupName","cardType","image","opal_focus-child-desktop.png","text","Child/Youth","imageClasses","opal-card",3,"value","additionalText","helpText"],["formControlName","cardType","radioGroupName","cardType","image","opal_focus-senior-desktop.png","text","Senior/Pensioner","imageClasses","opal-card",3,"value","additionalText","helpText"],["formControlName","cardType","radioGroupName","cardType","image","opal_focus-concession-desktop.png","text","Concession","imageClasses","opal-card",3,"value","additionalText","helpText"],[1,"help-text","modal-text"],[4,"ngIf"],["href","/contactless","target","_blank","role","navigation"],["href","/opal-balance","target","_blank","role","navigation"],["href","/manage-contactless","target","_blank","role","navigation"],["href","/opal-single","target","_blank","role","navigation"],["href","/tickets-opal/opal/top-up-your-opal-card","target","_blank","role","navigation"],["href","/opal","target","_blank","role","navigation"],[1,"btn","btn-primary","btn-close-modal",3,"click"],["href","https://transportnsw.info/tickets-opal/opal/contactless-payments","target","_blank","role","navigation"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",0,1),a.\u0275\u0275listener("click",(function(t){return e.openFareDialog(t)}))("keydown.enter",(function(t){return t.preventDefault(),e.openFareDialog(t)}))("focus",(function(t){return t.preventDefault()})),a.\u0275\u0275template(2,y,2,0,"span",2),a.\u0275\u0275template(3,_,2,0,"span",2),a.\u0275\u0275template(4,v,1,1,"tni-image",3),a.\u0275\u0275template(5,b,1,3,"tni-icon",4),a.\u0275\u0275template(6,M,1,1,"tni-image",5),a.\u0275\u0275template(7,x,1,1,"tni-image",6),a.\u0275\u0275template(8,w,1,1,"tni-image",7),a.\u0275\u0275elementStart(9,"span",8),a.\u0275\u0275text(10),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,E,2,1,"ng-container",9)),2&t&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",0!==e.cardTypeLocal),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",0==e.cardTypeLocal),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",0===e.cardTypeLocal),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",0===e.cardTypeLocal),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",1===e.cardTypeLocal),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",2===e.cardTypeLocal),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",3===e.cardTypeLocal),a.\u0275\u0275advance(1),a.\u0275\u0275attribute("aria-label","$"+e.getFare(e.cardTypeLocal)),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("$",e.getFare(e.cardTypeLocal),""))},directives:[l.NgIf,u.CdkPortal,p.ImageComponent,d.IconComponent,h.ModalComponent,h.ModalTitleDirective,f.NgControlStatusGroup,f.FormGroupDirective,m.ListRadioComponent,f.NgControlStatus,f.FormControlName,h.ModalCustomButtonDirective],styles:[".journey-fare[_ngcontent-%COMP%]{cursor:pointer}.journey-fare[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-decoration:underline;font-size:14px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.journey-fare[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}}.help-text[_ngcontent-%COMP%]{font-size:14px;line-height:24px;text-align:left;margin-bottom:24px;font-weight:300;padding:0 5px}  .ctp{margin-right:4px}svg.tp-icon.lg.left.middle.opal-pay[_ngcontent-%COMP%]{width:94px;height:56px;margin-right:2px}.btn-close-modal[_ngcontent-%COMP%]{width:130px;height:32px;font-size:14px;line-height:14px}.btn-wrap[_ngcontent-%COMP%]{bottom:8px;position:absolute;width:100%;bottom:-50px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.btn-wrap[_ngcontent-%COMP%]{bottom:-25px}}  .opal-logo{float:left;height:36px;margin-bottom:10px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){  .opal-logo{margin-bottom:5px}}"],data:{animation:[o.fadeOutAnimation]}})},jMrl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JourneyReqTypeOnlyCycle=e.JourneyReqTypeAllExpandedCycle=e.JourneyReqTypeAll=e.JourneyReqType=void 0;var r=e.JourneyReqType=function(t){return t.PublicTransport="public-transport",t.Drive="drive",t.Cycle="cycle",t.Walk="walk",t.All="all",t.RideShare="ride-share",t.AllCycleProfiles="all-cycle-profiles",t}(e.JourneyReqType||{});e.JourneyReqTypeAll=[r.PublicTransport,r.Drive,r.Cycle,r.Walk],e.JourneyReqTypeAllExpandedCycle=[r.PublicTransport,r.Drive,r.Cycle,r.Walk,r.AllCycleProfiles],e.JourneyReqTypeOnlyCycle=[r.Cycle,r.AllCycleProfiles]},jSZz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripUrlService=void 0;const r=n("f0Wu"),i=n("8Y7J"),o=n("iInd");class a{constructor(t,e){this.router=t,this.route=e}createTripUrl(t,e){const n={from:t.from,to:t.to,leaving:t.leaving,dateTime:this.getFormattedDate(t.dateTime),excludedModes:t.excludedModes&&t.excludedModes.join(","),onlyAccessible:!!t.filters.onlyAccessible,walkSpeed:t.preferences.walkSpeed,gettingFromMode:t.preferences.gettingFromMode,gettingToMode:t.preferences.gettingToMode,onlyOpal:t.filters.onlyOpal,gettingToValue:t.preferences.gettingToValue,gettingFromValue:t.preferences.gettingFromValue,tripPreference:t.preferences.tripPreference,travelMode:e};this.router.navigate(["/trip"],{queryParams:n})}getQueryParamsFromTripRequest(t,e){return{from:t.from,to:t.to,leaving:t.leaving.toString(),dateTime:t.dateTime,excludedModes:t.excludedModes&&t.excludedModes.join(","),onlyAccessible:!!t.filters.onlyAccessible,walkSpeed:t.preferences.walkSpeed.toString(),gettingFromMode:t.preferences.gettingFromMode.toString(),gettingToMode:t.preferences.gettingToMode.toString(),onlyOpal:t.filters.onlyOpal,gettingToValue:t.preferences.gettingToValue.toString(),gettingFromValue:t.preferences.gettingFromValue.toString(),tripPreference:t.preferences.tripPreference.toString(),travelMode:e}}getFormattedDate(t){if(t)return r(t).format("YYYYMMDDHHmm")}readFromUrl(t){return{from:t.get("from"),to:t.get("to"),leaving:t.get("leaving"),dateTime:t.get("dateTime")?this.getDate(r(t.get("dateTime"),"YYYYMMDDHHmm")):null,excludedModes:t.get("excludedModes"),onlyAccessible:!!t.get("onlyAccessible")&&"true"===t.get("onlyAccessible"),onlyOpal:!!t.get("onlyOpal")&&"true"===t.get("onlyOpal"),walkSpeed:t.get("walkSpeed")||"0",gettingFromMode:t.get("gettingFromMode"),gettingToMode:t.get("gettingToMode"),gettingToValue:t.get("gettingToValue"),gettingFromValue:t.get("gettingFromValue"),tripPreference:t.get("tripPreference")||"0",travelMode:t.get("travelMode"),debug:t.get("debug")}}getDate(t){return t.diff(r(),"days")<0?(t.date(r().date()),t.month(r().month()),t.year(r().year()),this.router.navigate(["/trip"],{queryParams:{dateTime:this.getFormattedDate(t)},queryParamsHandling:"merge"}),t):t}addModeParam(t){this.route.snapshot.queryParams.from&&this.router.navigate(["/trip"],{queryParams:{travelMode:t},queryParamsHandling:"merge"})}}e.TripUrlService=a,a.\u0275fac=function(t){return new(t||a)(i.\u0275\u0275inject(o.Router),i.\u0275\u0275inject(o.ActivatedRoute))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac})},jUeY:function(t,e,n){!function(t){"use strict";t.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(t,e,n){return t>11?n?"\u03bc\u03bc":"\u039c\u039c":n?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(t){return"\u03bc"===(t+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n,r=this._calendarEl[t],i=e&&e.hours();return((n=r)instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(e)),r.replace("{}",i%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(n("wd/R"))},jVdC:function(t,e,n){!function(t){"use strict";var e="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_");function r(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function i(t,e,n){var i=t+" ";switch(n){case"ss":return i+(r(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut\u0119";case"mm":return i+(r(t)?"minuty":"minut");case"h":return e?"godzina":"godzin\u0119";case"hh":return i+(r(t)?"godziny":"godzin");case"MM":return i+(r(t)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return i+(r(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,r){return t?""===r?"("+n[t.month()]+"|"+e[t.month()]+")":/D MMMM/.test(r)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jfSC:function(t,e,n){!function(t){"use strict";var e={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},n={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};t.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(t){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(t)},meridiem:function(t,e,n){return t<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"\u062b\u0627\u0646\u06cc\u0647 d%",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/[\u06f0-\u06f9]/g,(function(t){return n[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(n("wd/R"))},jnO4:function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},o=function(t){return function(e,n,o,a){var s=r(e),c=i[t][r(e)];return 2===s&&(c=c[n?0:1]),c.replace(/%d/i,e)}},a=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];t.defineLocale("ar",{months:a,monthsShort:a,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(t){return n[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n("wd/R"))},jtHE:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),a=n("pxpQ"),s=n("9ppp"),c=n("Ylt2");class l extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new u(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let l;if(this.closed)throw new s.a;if(this.isStopped||this.hasError?l=o.a.EMPTY:(this.observers.push(t),l=new c.a(this,t)),r&&t.add(t=new a.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),l}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class u{constructor(t,e){this.time=t,this.value=e}}},"k+hU":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureCollapsibleCardComponent=void 0;const r=n("8Y7J"),i=n("iFc6"),o=n("sYyf"),a=n("8Y7J"),s=n("SVse");function c(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",7),a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(1,"svg",8),a.\u0275\u0275elementStart(2,"title",4),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"use",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("@rotateClockwiseAnimation",t.expanded?"rotate":"default"),a.\u0275\u0275attribute("aria-labelledby","card details "+(t.expanded?"expanded":"collapsed")),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate("id","card details "+(t.expanded?"expanded":"collapsed")),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ","card details "+(t.expanded?"expanded":"collapsed")," "),a.\u0275\u0275advance(1),a.\u0275\u0275attribute("href",t.iconPath+"arrow-down-small",null,"xlink")}}function l(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",10),a.\u0275\u0275listener("keydown.enter",(function(e){return a.\u0275\u0275restoreView(t),e.stopPropagation()}))("keyup.enter",(function(e){return a.\u0275\u0275restoreView(t),e.stopPropagation()})),a.\u0275\u0275projection(1,2),a.\u0275\u0275elementEnd()}if(2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275property("@slideOpenDownAnimation",void 0),a.\u0275\u0275attribute("aria-hidden",!t.expanded)}}const u=[[["","card-header",""]],[["","card-footer",""]],[["","card-body",""]]],p=function(t){return{"collapsible-card-details-header":!0,expanded:t}};class d{constructor(){this.toggle=new r.EventEmitter}ngOnInit(){this.iconPath=i.TniConstant.ICON_PATH+"#tp_"}toggleExpanded(){this.expanded=!this.expanded,this.toggle.emit(this.expanded)}}e.DepartureCollapsibleCardComponent=d,d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=a.\u0275\u0275defineComponent({type:d,selectors:[["tni-departure-collapsible-card"]],inputs:{ariaLabel:"ariaLabel",expanded:"expanded",index:"index",hideToggle:"hideToggle",type:"type"},outputs:{toggle:"toggle"},ngContentSelectors:["[card-header]","[card-footer]","[card-body]"],decls:10,vars:13,consts:[[1,"collapsible-card-details","form"],["tabindex","0","role","button",3,"ngClass","keyup.enter","keydown.enter","click"],[1,"sr-only"],["class","toggle","aria-hidden","true",4,"ngIf"],[3,"id"],["class","collapsible-card-details-body",3,"keydown.enter","keyup.enter",4,"ngIf"],[1,"collapsible-card-details-footer"],["aria-hidden","true",1,"toggle"],["role","img","attr.aria-hidden","true",1,"tp-icon","sm","form-control-select-arrow"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"collapsible-card-details-body",3,"keydown.enter","keyup.enter"]],template:function(t,e){1&t&&(a.\u0275\u0275projectionDef(u),a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"a",1),a.\u0275\u0275listener("keyup.enter",(function(t){return t.stopPropagation(),e.toggleExpanded()}))("keydown.enter",(function(t){return t.stopPropagation()}))("click",(function(){return e.toggleExpanded()})),a.\u0275\u0275projection(2),a.\u0275\u0275elementStart(3,"span",2),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(5,c,5,5,"div",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div",4),a.\u0275\u0275template(7,l,2,2,"div",5),a.\u0275\u0275elementStart(8,"div",6),a.\u0275\u0275projection(9,1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275advance(1),a.\u0275\u0275classMap(e.type),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(11,p,e.expanded)),a.\u0275\u0275attribute("aria-controls","accordion-"+e.index)("aria-label",e.ariaLabel)("aria-expanded",e.expanded),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate("card details "+(e.expanded?"expanded":"collapsed")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.hideToggle),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate("id","accordion-"+e.index),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.expanded))},directives:[s.NgClass,s.NgIf],styles:[".collapsible-card-details[_ngcontent-%COMP%]{border-top-right-radius:3px;min-height:112px;background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.collapsible-card-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 5px;border-bottom:1px solid #eaeaea}.collapsible-card-details[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:7px;top:30px}.collapsible-card-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:block}.collapsible-card-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:4px solid rgba(0,0,0,.4);outline-offset:-2px}.collapsible-card-details-header[_ngcontent-%COMP%]{position:relative;cursor:pointer}.collapsible-card-details-header[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{border:6px solid transparent;border-top-color:#555;border-bottom:0;float:right;margin:14px 5px 14px 14px}.collapsible-card-details-header.expanded[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{transform:rotate(-180deg)}"],data:{animation:[o.slideOpenDownAnimation,o.rotateClockwiseAnimation]}})},kEOa:function(t,e,n){!function(t){"use strict";var e={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},n={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};t.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09c0_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2_\u0986\u0997_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u0983_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u09b0\u09be\u09a4"===e&&t>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===e&&t<5||"\u09ac\u09bf\u0995\u09be\u09b2"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u09b0\u09be\u09a4":t<10?"\u09b8\u0995\u09be\u09b2":t<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":t<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(n("wd/R"))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kOpN:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e2d\u5348"===e?t>=11?t:t+12:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u9031";default:return t}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n("wd/R"))},kU1M:function(t,e,n){"use strict";n.r(e),n.d(e,"audit",(function(){return r.a})),n.d(e,"auditTime",(function(){return i.a})),n.d(e,"buffer",(function(){return s})),n.d(e,"bufferCount",(function(){return p})),n.d(e,"bufferTime",(function(){return y})),n.d(e,"bufferToggle",(function(){return S})),n.d(e,"bufferWhen",(function(){return O})),n.d(e,"catchError",(function(){return L.a})),n.d(e,"combineAll",(function(){return I})),n.d(e,"combineLatest",(function(){return R})),n.d(e,"concat",(function(){return F})),n.d(e,"concatAll",(function(){return j.a})),n.d(e,"concatMap",(function(){return B.a})),n.d(e,"concatMapTo",(function(){return q})),n.d(e,"count",(function(){return V})),n.d(e,"debounce",(function(){return W})),n.d(e,"debounceTime",(function(){return G.a})),n.d(e,"defaultIfEmpty",(function(){return J.a})),n.d(e,"delay",(function(){return Z})),n.d(e,"delayWhen",(function(){return rt})),n.d(e,"dematerialize",(function(){return ct.a})),n.d(e,"distinct",(function(){return lt})),n.d(e,"distinctUntilChanged",(function(){return dt.a})),n.d(e,"distinctUntilKeyChanged",(function(){return ht})),n.d(e,"elementAt",(function(){return _t})),n.d(e,"endWith",(function(){return bt})),n.d(e,"every",(function(){return Mt.a})),n.d(e,"exhaust",(function(){return xt})),n.d(e,"exhaustMap",(function(){return St.a})),n.d(e,"expand",(function(){return Et})),n.d(e,"filter",(function(){return mt.a})),n.d(e,"finalize",(function(){return At.a})),n.d(e,"find",(function(){return Pt})),n.d(e,"findIndex",(function(){return It})),n.d(e,"first",(function(){return Dt.a})),n.d(e,"groupBy",(function(){return Nt.b})),n.d(e,"ignoreElements",(function(){return Rt.a})),n.d(e,"isEmpty",(function(){return zt})),n.d(e,"last",(function(){return Bt.a})),n.d(e,"map",(function(){return qt.a})),n.d(e,"mapTo",(function(){return Vt})),n.d(e,"materialize",(function(){return Wt.a})),n.d(e,"max",(function(){return $t})),n.d(e,"merge",(function(){return Zt})),n.d(e,"mergeAll",(function(){return Qt.a})),n.d(e,"mergeMap",(function(){return te.a})),n.d(e,"flatMap",(function(){return te.a})),n.d(e,"mergeMapTo",(function(){return ee})),n.d(e,"mergeScan",(function(){return re})),n.d(e,"min",(function(){return ae})),n.d(e,"multicast",(function(){return se.a})),n.d(e,"observeOn",(function(){return ce.b})),n.d(e,"onErrorResumeNext",(function(){return le})),n.d(e,"pairwise",(function(){return de.a})),n.d(e,"partition",(function(){return fe})),n.d(e,"pluck",(function(){return me.a})),n.d(e,"publish",(function(){return ye})),n.d(e,"publishBehavior",(function(){return ve})),n.d(e,"publishLast",(function(){return Me})),n.d(e,"publishReplay",(function(){return xe.a})),n.d(e,"race",(function(){return Ce})),n.d(e,"reduce",(function(){return Jt})),n.d(e,"repeat",(function(){return Ee})),n.d(e,"repeatWhen",(function(){return Ae})),n.d(e,"retry",(function(){return ke})),n.d(e,"retryWhen",(function(){return Ne})),n.d(e,"refCount",(function(){return Fe.a})),n.d(e,"sample",(function(){return je})),n.d(e,"sampleTime",(function(){return Ve})),n.d(e,"scan",(function(){return Ut.a})),n.d(e,"sequenceEqual",(function(){return Ue})),n.d(e,"share",(function(){return $e.a})),n.d(e,"shareReplay",(function(){return Ke.a})),n.d(e,"single",(function(){return Qe})),n.d(e,"skip",(function(){return nn.a})),n.d(e,"skipLast",(function(){return rn})),n.d(e,"skipUntil",(function(){return sn})),n.d(e,"skipWhile",(function(){return un})),n.d(e,"startWith",(function(){return hn.a})),n.d(e,"subscribeOn",(function(){return yn})),n.d(e,"switchAll",(function(){return Mn})),n.d(e,"switchMap",(function(){return vn.a})),n.d(e,"switchMapTo",(function(){return xn})),n.d(e,"take",(function(){return yt.a})),n.d(e,"takeLast",(function(){return Xt.a})),n.d(e,"takeUntil",(function(){return wn.a})),n.d(e,"takeWhile",(function(){return Cn})),n.d(e,"tap",(function(){return Tn.a})),n.d(e,"throttle",(function(){return An})),n.d(e,"throttleTime",(function(){return kn})),n.d(e,"throwIfEmpty",(function(){return gt.a})),n.d(e,"timeInterval",(function(){return zn})),n.d(e,"timeout",(function(){return Hn})),n.d(e,"timeoutWith",(function(){return Bn})),n.d(e,"timestamp",(function(){return Wn})),n.d(e,"toArray",(function(){return Gn})),n.d(e,"window",(function(){return Jn})),n.d(e,"windowCount",(function(){return Zn})),n.d(e,"windowTime",(function(){return er})),n.d(e,"windowToggle",(function(){return cr})),n.d(e,"windowWhen",(function(){return pr})),n.d(e,"withLatestFrom",(function(){return fr.a})),n.d(e,"zip",(function(){return gr})),n.d(e,"zipAll",(function(){return yr}));var r=n("tnsW"),i=n("3UWI"),o=n("l7GE"),a=n("ZUHj");function s(t){return function(e){return e.lift(new c(t))}}class c{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new l(t,this.closingNotifier))}}class l extends o.a{constructor(t,e){super(t),this.buffer=[],this.add(Object(a.a)(this,e))}_next(t){this.buffer.push(t)}notifyNext(t,e,n,r,i){const o=this.buffer;this.buffer=[],this.destination.next(o)}}var u=n("7o/Q");function p(t,e=null){return function(n){return n.lift(new d(t,e))}}class d{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?f:h}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class h extends u.a{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class f extends u.a{constructor(t,e,n){super(t),this.bufferSize=e,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:n,buffers:r,count:i}=this;this.count++,i%n==0&&r.push([]);for(let o=r.length;o--;){const n=r[o];n.push(t),n.length===e&&(r.splice(o,1),this.destination.next(n))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let n=t.shift();n.length>0&&e.next(n)}super._complete()}}var m=n("D0XW"),g=n("z+Ro");function y(t){let e=arguments.length,n=m.a;Object(g.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);let r=null;e>=2&&(r=arguments[1]);let i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new _(t,r,i,n))}}class _{constructor(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}call(t,e){return e.subscribe(new b(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class v{constructor(){this.buffer=[]}}class b extends u.a{constructor(t,e,n,r,i){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i,this.contexts=[];const o=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly)this.add(o.closeAction=i.schedule(M,e,{subscriber:this,context:o,bufferTimeSpan:e}));else{const t={bufferTimeSpan:e,bufferCreationInterval:n,subscriber:this,scheduler:i};this.add(o.closeAction=i.schedule(w,e,{subscriber:this,context:o})),this.add(i.schedule(x,n,t))}}_next(t){const e=this.contexts,n=e.length;let r;for(let i=0;i<n;i++){const n=e[i],o=n.buffer;o.push(t),o.length==this.maxBufferSize&&(r=n)}r&&this.onBufferFull(r)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const n=t.shift();e.next(n.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const e=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(M,e,{subscriber:this,context:t,bufferTimeSpan:e}))}}openContext(){const t=new v;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function M(t){const e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function x(t){const{bufferCreationInterval:e,bufferTimeSpan:n,subscriber:r,scheduler:i}=t,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(w,n,{subscriber:r,context:o})),this.schedule(t,e))}function w(t){const{subscriber:e,context:n}=t;e.closeContext(n)}var C=n("quSY");function S(t,e){return function(n){return n.lift(new E(t,e))}}class E{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new T(t,this.openings,this.closingSelector))}}class T extends o.a{constructor(t,e,n){super(t),this.openings=e,this.closingSelector=n,this.contexts=[],this.add(Object(a.a)(this,e))}_next(t){const e=this.contexts,n=e.length;for(let r=0;r<n;r++)e[r].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const t=e.shift();t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e,n,r,i){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(e){this._error(e)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:n,subscription:r}=t;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}}trySubscribe(t){const e=this.contexts,n=new C.a,r={buffer:[],subscription:n};e.push(r);const i=Object(a.a)(this,t,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))}}function O(t){return function(e){return e.lift(new A(t))}}class A{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new P(t,this.closingSelector))}}class P extends o.a{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=null,this.subscribing=!1}notifyNext(t,e,n,r,i){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let t,{closingSubscription:e}=this;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:e}=this;t=e()}catch(n){return this.error(n)}e=new C.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(a.a)(this,t)),this.subscribing=!1}}var L=n("JIr8"),k=n("itXk");function I(t){return e=>e.lift(new k.a(t))}var D=n("DH7j"),N=n("Cfvw");function R(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(D.a)(t[0])&&(t=t[0].slice()),n=>n.lift.call(Object(N.a)([n,...t]),new k.a(e))}var z=n("GyhO");function F(...t){return e=>e.lift.call(Object(z.a)(e,...t))}var j=n("0EUg"),B=n("bOdf");function q(t,e){return Object(B.a)(()=>t,e)}function V(t){return e=>e.lift(new Y(t,e))}class Y{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new H(t,this.predicate,this.source))}}class H extends u.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function W(t){return e=>e.lift(new U(t))}class U{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new X(t,this.durationSelector))}}class X extends o.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1,this.durationSubscription=null}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(a.a)(this,e),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(t,e,n,r,i){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=null,e.unsubscribe(),this.remove(e)),this.value=null,this.hasValue=!1,super._next(t)}}}var G=n("Kj3r"),J=n("xbPD");function $(t){return t instanceof Date&&!isNaN(+t)}var K=n("WMd4");function Z(t,e=m.a){const n=$(t)?+t-e.now():Math.abs(t);return t=>t.lift(new Q(n,e))}class Q{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new tt(t,this.delay,this.scheduler))}}class tt extends u.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(tt.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new et(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(K.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(K.a.createComplete()),this.unsubscribe()}}class et{constructor(t,e){this.time=t,this.notification=e}}var nt=n("HDdC");function rt(t,e){return e?n=>new at(n,e).lift(new it(t)):e=>e.lift(new it(t))}class it{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new ot(t,this.delayDurationSelector))}}class ot extends o.a{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const n=Object(a.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class at extends nt.a{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new st(t,this.source))}}class st extends u.a{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}var ct=n("kgNN");function lt(t,e){return n=>n.lift(new ut(t,e))}class ut{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new pt(t,this.keySelector,this.flushes))}}class pt extends o.a{constructor(t,e,n){super(t),this.keySelector=e,this.values=new Set,n&&this.add(Object(a.a)(this,n))}notifyNext(t,e,n,r,i){this.values.clear()}notifyError(t,e){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:n}=this;try{e=this.keySelector(t)}catch(r){return void n.error(r)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:n}=this;n.has(t)||(n.add(t),this.destination.next(e))}}var dt=n("/uUt");function ht(t,e){return Object(dt.a)((n,r)=>e?e(n[t],r[t]):n[t]===r[t])}var ft=n("4I5i"),mt=n("pLZG"),gt=n("XDbj"),yt=n("IzEk");function _t(t,e){if(t<0)throw new ft.a;const n=arguments.length>=2;return r=>r.pipe(Object(mt.a)((e,n)=>n===t),Object(yt.a)(1),n?Object(J.a)(e):Object(gt.a)(()=>new ft.a))}var vt=n("LRne");function bt(...t){return e=>Object(z.a)(e,Object(vt.a)(...t))}var Mt=n("Gi4w");function xt(){return t=>t.lift(new wt)}class wt{call(t,e){return e.subscribe(new Ct(t))}}class Ct extends o.a{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(a.a)(this,t)))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var St=n("XqQ8");function Et(t,e=Number.POSITIVE_INFINITY,n){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,r=>r.lift(new Tt(t,e,n))}class Tt{constructor(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}call(t,e){return e.subscribe(new Ot(t,this.project,this.concurrent,this.scheduler))}}class Ot extends o.a{constructor(t,e,n,r){super(t),this.project=e,this.concurrent=n,this.scheduler=r,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:n,value:r,index:i}=t;e.subscribeToProjection(n,r,i)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,r=e(t,n);this.scheduler?this.destination.add(this.scheduler.schedule(Ot.dispatch,0,{subscriber:this,result:r,value:t,index:n})):this.subscribeToProjection(r,t,n)}catch(r){e.error(r)}}else this.buffer.push(t)}subscribeToProjection(t,e,n){this.active++,this.destination.add(Object(a.a)(this,t,e,n))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this._next(e)}notifyComplete(t){const e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var At=n("nYR2");function Pt(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return n=>n.lift(new Lt(t,n,!1,e))}class Lt{constructor(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}call(t,e){return e.subscribe(new kt(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class kt extends u.a{constructor(t,e,n,r,i){super(t),this.predicate=e,this.source=n,this.yieldIndex=r,this.thisArg=i,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:n}=this,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(i){this.destination.error(i)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function It(t,e){return n=>n.lift(new Lt(t,n,!0,e))}var Dt=n("SxV6"),Nt=n("OQgR"),Rt=n("4A3s");function zt(){return t=>t.lift(new Ft)}class Ft{call(t,e){return e.subscribe(new jt(t))}}class jt extends u.a{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Bt=n("NJ9Y"),qt=n("lJxs");function Vt(t){return e=>e.lift(new Yt(t))}class Yt{constructor(t){this.value=t}call(t,e){return e.subscribe(new Ht(t,this.value))}}class Ht extends u.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}var Wt=n("dkDA"),Ut=n("Kqap"),Xt=n("BFxc"),Gt=n("mCNh");function Jt(t,e){return arguments.length>=2?function(n){return Object(Gt.a)(Object(Ut.a)(t,e),Object(Xt.a)(1),Object(J.a)(e))(n)}:function(e){return Object(Gt.a)(Object(Ut.a)((e,n,r)=>t(e,n,r+1)),Object(Xt.a)(1))(e)}}function $t(t){return Jt("function"==typeof t?(e,n)=>t(e,n)>0?e:n:(t,e)=>t>e?t:e)}var Kt=n("VRyK");function Zt(...t){return e=>e.lift.call(Object(Kt.a)(e,...t))}var Qt=n("bHdf"),te=n("5+tZ");function ee(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?Object(te.a)(()=>t,e,n):("number"==typeof e&&(n=e),Object(te.a)(()=>t,n))}var ne=n("51Dv");function re(t,e,n=Number.POSITIVE_INFINITY){return r=>r.lift(new ie(t,e,n))}class ie{constructor(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}call(t,e){return e.subscribe(new oe(t,this.accumulator,this.seed,this.concurrent))}}class oe extends o.a{constructor(t,e,n,r){super(t),this.accumulator=e,this.acc=n,this.concurrent=r,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const n=this.index++,r=this.destination;let i;try{const{accumulator:e}=this;i=e(this.acc,t,n)}catch(e){return r.error(e)}this.active++,this._innerSub(i,t,n)}else this.buffer.push(t)}_innerSub(t,e,n){const r=new ne.a(this,e,n),i=this.destination;i.add(r);const o=Object(a.a)(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t,e,n,r,i){const{destination:o}=this;this.acc=e,this.hasValue=!0,o.next(e)}notifyComplete(t){const e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function ae(t){return Jt("function"==typeof t?(e,n)=>t(e,n)<0?e:n:(t,e)=>t<e?t:e)}var se=n("oB13"),ce=n("pxpQ");function le(...t){return 1===t.length&&Object(D.a)(t[0])&&(t=t[0]),e=>e.lift(new ue(t))}class ue{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new pe(t,this.nextSources))}}class pe extends o.a{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(t,e){this.subscribeToNextSource()}notifyComplete(t){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new ne.a(this,void 0,void 0),n=this.destination;n.add(e);const r=Object(a.a)(this,t,void 0,void 0,e);r!==e&&n.add(r)}else this.destination.complete()}}var de=n("Zy1z"),he=n("F97/");function fe(t,e){return n=>[Object(mt.a)(t,e)(n),Object(mt.a)(Object(he.a)(t,e))(n)]}var me=n("wO+i"),ge=n("XNiG");function ye(t){return t?Object(se.a)(()=>new ge.a,t):Object(se.a)(new ge.a)}var _e=n("2Vo4");function ve(t){return e=>Object(se.a)(new _e.a(t))(e)}var be=n("NHP+");function Me(){return t=>Object(se.a)(new be.a)(t)}var xe=n("05l1"),we=n("Nv8m");function Ce(...t){return function(e){return 1===t.length&&Object(D.a)(t[0])&&(t=t[0]),e.lift.call(Object(we.a)(e,...t))}}var Se=n("EY2u");function Ee(t=-1){return e=>0===t?Object(Se.b)():e.lift(new Te(t<0?-1:t-1,e))}class Te{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Oe(t,this.count,this.source))}}class Oe extends u.a{constructor(t,e,n){super(t),this.count=e,this.source=n}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}function Ae(t){return e=>e.lift(new Pe(t))}class Pe{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new Le(t,this.notifier,e))}}class Le extends o.a{constructor(t,e,n){super(t),this.notifier=e,this.source=n,this.sourceIsBeingSubscribedTo=!0}notifyNext(t,e,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(t){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next()}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new ge.a;try{const{notifier:e}=this;t=e(this.notifications)}catch(e){return super.complete()}this.retries=t,this.retriesSubscription=Object(a.a)(this,t)}}function ke(t=-1){return e=>e.lift(new Ie(t,e))}class Ie{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new De(t,this.count,this.source))}}class De extends u.a{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}function Ne(t){return e=>e.lift(new Re(t,e))}class Re{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new ze(t,this.notifier,this.source))}}class ze extends o.a{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new ge.a;try{const{notifier:t}=this;r=t(n)}catch(e){return super.error(e)}i=Object(a.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null}notifyNext(t,e,n,r,i){const{_unsubscribe:o}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)}}var Fe=n("x+ZX");function je(t){return e=>e.lift(new Be(t))}class Be{constructor(t){this.notifier=t}call(t,e){const n=new qe(t),r=e.subscribe(n);return r.add(Object(a.a)(n,this.notifier)),r}}class qe extends o.a{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(t,e,n,r,i){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Ve(t,e=m.a){return n=>n.lift(new Ye(t,e))}class Ye{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new He(t,this.period,this.scheduler))}}class He extends u.a{constructor(t,e,n){super(t),this.period=e,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(We,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function We(t){let{subscriber:e,period:n}=t;e.notifyNext(),this.schedule(t,n)}function Ue(t,e){return n=>n.lift(new Xe(t,e))}class Xe{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new Ge(t,this.compareTo,this.comparator))}}class Ge extends u.a{constructor(t,e,n){super(t),this.compareTo=e,this.comparator=n,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new Je(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:n}=this;for(;t.length>0&&e.length>0;){let i=t.shift(),o=e.shift(),a=!1;try{a=n?n(i,o):i===o}catch(r){this.destination.error(r)}a||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class Je extends u.a{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var $e=n("w1tV"),Ke=n("UXun"),Ze=n("sVev");function Qe(t){return e=>e.lift(new tn(t,e))}class tn{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new en(t,this.predicate,this.source))}}class en extends u.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Ze.a)}}var nn=n("zP0r");function rn(t){return e=>e.lift(new on(t))}class on{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new ft.a}call(t,e){return e.subscribe(0===this._skipCount?new u.a(t):new an(t,this._skipCount))}}class an extends u.a{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{const r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}}}function sn(t){return e=>e.lift(new cn(t))}class cn{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new ln(t,this.notifier))}}class ln extends o.a{constructor(t,e){super(t),this.hasValue=!1;const n=new ne.a(this,void 0,void 0);this.add(n),this.innerSubscription=n;const r=Object(a.a)(this,e,void 0,void 0,n);r!==n&&(this.add(r),this.innerSubscription=r)}_next(t){this.hasValue&&super._next(t)}notifyNext(t,e,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function un(t){return e=>e.lift(new pn(t))}class pn{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new dn(t,this.predicate))}}class dn extends u.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var hn=n("JX91"),fn=n("7Hc7"),mn=n("Y7HM");class gn extends nt.a{constructor(t,e=0,n=fn.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(mn.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=fn.a)}static create(t,e=0,n=fn.a){return new gn(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(gn.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function yn(t,e=0){return function(n){return n.lift(new _n(t,e))}}class _n{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new gn(e,this.delay,this.scheduler).subscribe(t)}}var vn=n("eIep"),bn=n("SpAZ");function Mn(){return Object(vn.a)(bn.a)}function xn(t,e){return e?Object(vn.a)(()=>t,e):Object(vn.a)(()=>t)}var wn=n("1G5W");function Cn(t,e=!1){return n=>n.lift(new Sn(t,e))}class Sn{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new En(t,this.predicate,this.inclusive))}}class En extends u.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}var Tn=n("vkgz");const On={leading:!0,trailing:!1};function An(t,e=On){return n=>n.lift(new Pn(t,e.leading,e.trailing))}class Pn{constructor(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}call(t,e){return e.subscribe(new Ln(t,this.durationSelector,this.leading,this.trailing))}}class Ln extends o.a{constructor(t,e,n,r){super(t),this.destination=t,this.durationSelector=e,this._leading=n,this._trailing=r,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(a.a)(this,e))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=null,e&&this.send()}notifyNext(t,e,n,r,i){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function kn(t,e=m.a,n=On){return r=>r.lift(new In(t,e,n.leading,n.trailing))}class In{constructor(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}call(t,e){return e.subscribe(new Dn(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Dn extends u.a{constructor(t,e,n,r,i){super(t),this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Nn,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Nn(t){const{subscriber:e}=t;e.clearThrottle()}var Rn=n("NXyV");function zn(t=m.a){return e=>Object(Rn.a)(()=>e.pipe(Object(Ut.a)(({current:e},n)=>({value:n,current:t.now(),last:e}),{current:t.now(),value:void 0,last:void 0}),Object(qt.a)(({current:t,last:e,value:n})=>new Fn(n,t-e))))}class Fn{constructor(t,e){this.value=t,this.interval=e}}var jn=n("Y6u4");function Bn(t,e,n=m.a){return r=>{let i=$(t),o=i?+t-n.now():Math.abs(t);return r.lift(new qn(o,i,e,n))}}class qn{constructor(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}call(t,e){return e.subscribe(new Vn(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Vn extends o.a{constructor(t,e,n,r,i){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.action=null,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(a.a)(t,e))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Vn.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var Yn=n("z6cu");function Hn(t,e=m.a){return Bn(t,Object(Yn.a)(new jn.a),e)}function Wn(t=m.a){return Object(qt.a)(e=>new Un(e,t.now()))}class Un{constructor(t,e){this.value=t,this.timestamp=e}}function Xn(t,e,n){return 0===n?[e]:(t.push(e),t)}function Gn(){return Jt(Xn,[])}function Jn(t){return function(e){return e.lift(new $n(t))}}class $n{constructor(t){this.windowBoundaries=t}call(t,e){const n=new Kn(t),r=e.subscribe(n);return r.closed||n.add(Object(a.a)(n,this.windowBoundaries)),r}}class Kn extends o.a{constructor(t){super(t),this.window=new ge.a,t.next(this.window)}notifyNext(t,e,n,r,i){this.openWindow()}notifyError(t,e){this._error(t)}notifyComplete(t){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,n=this.window=new ge.a;e.next(n)}}function Zn(t,e=0){return function(n){return n.lift(new Qn(t,e))}}class Qn{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new tr(t,this.windowSize,this.startWindowEvery))}}class tr extends u.a{constructor(t,e,n){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=n,this.windows=[new ge.a],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length;for(let s=0;s<o&&!this.closed;s++)i[s].next(t);const a=this.count-r+1;if(a>=0&&a%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){const t=new ge.a;i.push(t),n.next(t)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function er(t){let e=m.a,n=null,r=Number.POSITIVE_INFINITY;return Object(g.a)(arguments[3])&&(e=arguments[3]),Object(g.a)(arguments[2])?e=arguments[2]:Object(mn.a)(arguments[2])&&(r=arguments[2]),Object(g.a)(arguments[1])?e=arguments[1]:Object(mn.a)(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new nr(t,n,r,e))}}class nr{constructor(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}call(t,e){return e.subscribe(new ir(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class rr extends ge.a{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class ir extends u.a{constructor(t,e,n,r,i){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i,this.windows=[];const o=this.openWindow();if(null!==n&&n>=0){const t={windowTimeSpan:e,windowCreationInterval:n,subscriber:this,scheduler:i};this.add(i.schedule(sr,e,{subscriber:this,window:o,context:null})),this.add(i.schedule(ar,n,t))}else this.add(i.schedule(or,e,{subscriber:this,window:o,windowTimeSpan:e}))}_next(t){const e=this.windows,n=e.length;for(let r=0;r<n;r++){const n=e[r];n.closed||(n.next(t),n.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(n))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new rr;return this.windows.push(t),this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function or(t){const{subscriber:e,windowTimeSpan:n,window:r}=t;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function ar(t){const{windowTimeSpan:e,subscriber:n,scheduler:r,windowCreationInterval:i}=t,o=n.openWindow();let a={action:this,subscription:null};a.subscription=r.schedule(sr,e,{subscriber:n,window:o,context:a}),this.add(a.subscription),this.schedule(t,i)}function sr(t){const{subscriber:e,window:n,context:r}=t;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function cr(t,e){return n=>n.lift(new lr(t,e))}class lr{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new ur(t,this.openings,this.closingSelector))}}class ur extends o.a{constructor(t,e,n){super(t),this.openings=e,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=Object(a.a)(this,e,e))}_next(t){const{contexts:e}=this;if(e){const n=e.length;for(let r=0;r<n;r++)e[r].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const n=e.length;let r=-1;for(;++r<n;){const n=e[r];n.window.error(t),n.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.complete(),e.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.unsubscribe(),e.subscription.unsubscribe()}}}notifyNext(t,e,n,r,i){if(t===this.openings){let t;try{const{closingSelector:n}=this;t=n(e)}catch(o){return this.error(o)}const n=new ge.a,r=new C.a,i={window:n,subscription:r};this.contexts.push(i);const s=Object(a.a)(this,t,i);s.closed?this.closeWindow(this.contexts.length-1):(s.context=i,r.add(s)),this.destination.next(n)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,n=e[t],{window:r,subscription:i}=n;e.splice(t,1),r.complete(),i.unsubscribe()}}function pr(t){return function(e){return e.lift(new dr(t))}}class dr{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new hr(t,this.closingSelector))}}class hr extends o.a{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,n,r,i){this.openWindow(i)}notifyError(t,e){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const n=this.window=new ge.a;let r;this.destination.next(n);try{const{closingSelector:t}=this;r=t()}catch(i){return this.destination.error(i),void this.window.error(i)}this.add(this.closingNotification=Object(a.a)(this,r))}}var fr=n("zp1y"),mr=n("1uah");function gr(...t){return function(e){return e.lift.call(Object(mr.b)(e,...t))}}function yr(t){return e=>e.lift(new mr.a(t))}},keoj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapLocationToStopType=e.MapDepartureLocationToStop=e.MapStopEventToStop=void 0;const r=n("bk1F"),i=n("erv5");e.MapStopEventToStop=t=>{var e,n,r,i,o;return{coordinates:null===(e=t.location)||void 0===e?void 0:e.coord,id:+(null===(n=t.transportation)||void 0===n?void 0:n.id),name:null===(r=t.transportation)||void 0===r?void 0:r.name,disassembledName:null===(i=t.transportation)||void 0===i?void 0:i.disassembledName,type:null===(o=t.transportation)||void 0===o?void 0:o.type,departureTimeEstimated:t.departureTimePlanned,departureTimePlanned:t.departureTimePlanned,arrivalTimeEstimated:t.arrivalTimeEstimated,arrivalTimePlanned:t.arrivalTimePlanned,isAccessible:t.isAccessible}},e.MapDepartureLocationToStop=t=>({coordinates:t.coord,id:+t.id,name:t.name,disassembledName:t.disassembledName,type:e.mapLocationToStopType(t.type),departureTimeEstimated:t.departureTimePlanned,departureTimePlanned:t.departureTimePlanned,arrivalTimeEstimated:t.arrivalTimeEstimated,arrivalTimePlanned:t.arrivalTimePlanned,isAccessible:t.isAccessible}),e.mapLocationToStopType=t=>r.StopType[i.LocationType[t]]||void 0},kgNN:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o)}}class o{call(t,e){return e.subscribe(new a(t))}}class a extends r.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}},l5ep:function(t,e,n){!function(t){"use strict";t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}(n("wd/R"))},l6Jt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppendTripEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("kU1M"),a=n("kU1M"),s=n("qCKp"),c=n("EiLY"),l=n("jMrl"),u=n("8Y7J"),p=n("7bNT"),d=n("A9CO"),h=n("tqRt"),f=n("9sYg"),m=n("VS5s");e.AppendTripEffects=(()=>{class t{constructor(t,e,n,r,u){this.actions=t,this.tripService=e,this.stateStore=n,this.tripServiceErrorHandler=r,this.trackTripPlannerEventService=u,this.getEarlierTrip$=this.actions.pipe(i.ofType(c.TripActionTypes.GET_EARLIER_TRIPS),o.tap(t=>{this.stateStore.dispatch(t.payload.tripAppend?new c.LaterTripLoadingAction:new c.EarlierTripLoadingAction)}),a.map(t=>({tripRequest:Object.assign(Object.assign({},t.payload.tripRequest),{filters:Object.assign(Object.assign({},t.payload.tripRequest.filters),{includedJourneys:[l.JourneyReqType.PublicTransport]})}),tripAppend:t.payload.tripAppend})),o.switchMap(({tripRequest:t,tripAppend:e})=>this.tripService.Search(t).pipe(o.tap(t=>{this.trackTripPlannerEventService.trackRealTimeJourney(t.journeys),this.trackTripPlannerEventService.trackShortPlatform(t.journeys)}),a.map(t=>new c.StoreEarlierTripsAction({tripResponse:t,tripAppend:e})),o.catchError(e=>(this.tripServiceErrorHandler.handleError(e,t),s.NEVER)),o.takeUntil(this.actions.pipe(i.ofType(c.TripActionTypes.CLEAR_TRIP))))))}}return t.\u0275fac=function(e){return new(e||t)(u.\u0275\u0275inject(p.Actions),u.\u0275\u0275inject(d.TripService),u.\u0275\u0275inject(h.Store),u.\u0275\u0275inject(f.TripServiceErrorHandler),u.\u0275\u0275inject(m.TrackTripPlannerEventService))},t.\u0275prov=u.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"getEarlierTrip$",void 0),t})()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lDcu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniAutosuggestModule=void 0;const r=n("umyp"),i=n("SVse"),o=n("8Y7J");class a{}e.TniAutosuggestModule=a,a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({factory:function(t){return new(t||a)},imports:[[r.TniIconModule,i.CommonModule]]})},lECk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initStateFromLocalStorage=void 0;const r=n("tqRt"),i=n("cRl/");e.initStateFromLocalStorage=function(t){return(e,n)=>{const o=t(e,n);return[r.INIT.toString()].includes(n.type)?Object.assign(Object.assign({},o),i.LocalStorageHelper.loadInitialState()):o}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}class a extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lPHp:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof navigator&&function(t,e){void 0===(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return e(t)}).call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window||{},(function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){var e,n=createSizedArray(t.length),r=t.length;for(e=0;e<r;e+=1)n[e]=Math.abs(t[e]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,r){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,r){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e,this.currentTime=currentTime}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+ ++_count}),_count;function HSVtoRGB(t,e,n){var r,i,o,a,s,c,l,u;switch(c=n*(1-e),l=n*(1-(s=6*t-(a=Math.floor(6*t)))*e),u=n*(1-(1-s)*e),a%6){case 0:r=n,i=u,o=c;break;case 1:r=l,i=n,o=c;break;case 2:r=c,i=n,o=u;break;case 3:r=c,i=l,o=n;break;case 4:r=u,i=c,o=n;break;case 5:r=n,i=c,o=l}return[r,i,o]}function RGBtoHSV(t,e,n){var r,i=Math.max(t,e,n),o=Math.min(t,e,n),a=i-o,s=0===i?0:a/i,c=i/255;switch(i){case o:r=0;break;case t:r=e-n+a*(e<n?6:0),r/=6*a;break;case e:r=n-t+2*a,r/=6*a;break;case n:r=t-e+4*a,r/=6*a}return[r,s,c]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=1==e.length?"0"+e:e;return function(t,e,r){return t<0&&(t=0),e<0&&(e=0),r<0&&(r=0),"#"+n[t]+n[e]+n[r]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t].length,r=0;r<n;r++)this._cbs[t][r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),(function(){this.removeEventListener(t,e)}).bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var n=0,r=this._cbs[t].length;n<r;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,r-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var n,r=0,i=[];switch(t){case"int16":case"uint8c":n=1;break;default:n=1.1}for(r=0;r<e;r+=1)i.push(n);return i};function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums,Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,r=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function a(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1)}function s(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1)}function c(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function l(t,e){return this._t(1,e,t,1,0,0)}function u(t,e){return this.shear(n(t),n(e))}function p(r,i){var o=t(i),a=e(i);return this._t(o,a,0,0,-a,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(o,-a,0,0,a,o,0,0,0,0,1,0,0,0,0,1)}function d(t,e,n){return n||0===n||(n=1),1===t&&1===e&&1===n?this:this._t(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}function h(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=n,this.props[3]=r,this.props[4]=i,this.props[5]=o,this.props[6]=a,this.props[7]=s,this.props[8]=c,this.props[9]=l,this.props[10]=u,this.props[11]=p,this.props[12]=d,this.props[13]=h,this.props[14]=f,this.props[15]=m,this}function f(t,e,n){return n=n||0,0!==t||0!==e||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1):this}function m(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,m){var g=this.props;if(1===t&&0===e&&0===n&&0===r&&0===i&&1===o&&0===a&&0===s&&0===c&&0===l&&1===u&&0===p)return g[12]=g[12]*t+g[15]*d,g[13]=g[13]*o+g[15]*h,g[14]=g[14]*u+g[15]*f,g[15]=g[15]*m,this._identityCalculated=!1,this;var y=g[0],_=g[1],v=g[2],b=g[3],M=g[4],x=g[5],w=g[6],C=g[7],S=g[8],E=g[9],T=g[10],O=g[11],A=g[12],P=g[13],L=g[14],k=g[15];return g[0]=y*t+_*i+v*c+b*d,g[1]=y*e+_*o+v*l+b*h,g[2]=y*n+_*a+v*u+b*f,g[3]=y*r+_*s+v*p+b*m,g[4]=M*t+x*i+w*c+C*d,g[5]=M*e+x*o+w*l+C*h,g[6]=M*n+x*a+w*u+C*f,g[7]=M*r+x*s+w*p+C*m,g[8]=S*t+E*i+T*c+O*d,g[9]=S*e+E*o+T*l+O*h,g[10]=S*n+E*a+T*u+O*f,g[11]=S*r+E*s+T*p+O*m,g[12]=A*t+P*i+L*c+k*d,g[13]=A*e+P*o+L*l+k*h,g[14]=A*n+P*a+L*u+k*f,g[15]=A*r+P*s+L*p+k*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function _(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function v(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,n){return{x:t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}}function M(t,e,n){return t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12]}function x(t,e,n){return t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13]}function w(t,e,n){return t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}function C(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,n=-this.props[1]/t,r=-this.props[4]/t,i=this.props[0]/t,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,s=new Matrix;return s.props[0]=e,s.props[1]=n,s.props[4]=r,s.props[5]=i,s.props[12]=o,s.props[13]=a,s}function S(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function E(t){var e,n=t.length,r=[];for(e=0;e<n;e+=1)r[e]=S(t[e]);return r}function T(t,e,n){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],r[4]=n[0],r[5]=n[1];else{var i=this.props[0],o=this.props[1],a=this.props[4],s=this.props[5],c=this.props[12],l=this.props[13];r[0]=t[0]*i+t[1]*a+c,r[1]=t[0]*o+t[1]*s+l,r[2]=e[0]*i+e[1]*a+c,r[3]=e[0]*o+e[1]*s+l,r[4]=n[0]*i+n[1]*a+c,r[5]=n[0]*o+n[1]*s+l}return r}function O(t,e,n){return this.isIdentity()?[t,e,n]:[t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]]}function A(t,e){if(this.isIdentity())return t+","+e;var n=this.props;return Math.round(100*(t*n[0]+e*n[4]+n[12]))/100+","+Math.round(100*(t*n[1]+e*n[5]+n[13]))/100}function P(){for(var t=0,e=this.props,n="matrix3d(";t<16;)n+=r(1e4*e[t])/1e4,n+=15===t?")":",",t+=1;return n}function L(t){return t<1e-6&&t>0||t>-1e-6&&t<0?r(1e4*t)/1e4:t}function k(){var t=this.props;return"matrix("+L(t[0])+","+L(t[1])+","+L(t[4])+","+L(t[5])+","+L(t[12])+","+L(t[13])+")"}return function(){this.reset=i,this.rotate=o,this.rotateX=a,this.rotateY=s,this.rotateZ=c,this.skew=u,this.skewFromAxis=p,this.shear=l,this.scale=d,this.setTransform=h,this.translate=f,this.transform=m,this.applyToPoint=b,this.applyToX=M,this.applyToY=x,this.applyToZ=w,this.applyToPointArray=O,this.applyToTriplePoints=T,this.applyToPointStringified=A,this.toCSS=P,this.to2dCSS=k,this.clone=_,this.cloneFromProps=v,this.equals=y,this.inversePoints=E,this.inversePoint=S,this.getInverseMatrix=C,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){var n=this,r=e.pow(256,6),i=e.pow(2,52),o=2*i;function a(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<256;)a[i]=i++;for(i=0;i<256;i++)a[i]=a[o=255&o+t[i%n]+(e=a[i])],a[o]=e;r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=255&i+1],n=256*n+a[255&(a[i]=a[o=255&o+e])+(a[o]=e)];return r.i=i,r.j=o,n}}function s(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function c(t,e){for(var n,r=t+"",i=0;i<r.length;)e[255&i]=255&(n^=19*e[255&i])+r.charCodeAt(i++);return l(e)}function l(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(u,p,d){var h=[],f=c(function t(e,n){var r,i=[],o=typeof e;if(n&&"object"==o)for(r in e)try{i.push(t(e[r],n-1))}catch(a){}return i.length?i:"string"==o?e:e+"\0"}((p=!0===p?{entropy:!0}:p||{}).entropy?[u,l(t)]:null===u?function(){try{var e=new Uint8Array(256);return(n.crypto||n.msCrypto).getRandomValues(e),l(e)}catch(o){var r=n.navigator,i=r&&r.plugins;return[+new Date,n,i,n.screen,l(t)]}}():u,3),h),m=new a(h),g=function(){for(var t=m.g(6),e=r,n=0;t<i;)t=256*(t+n),e*=256,n=m.g(1);for(;t>=o;)t/=2,e/=2,n>>>=1;return(t+n)/e};return g.int32=function(){return 0|m.g(4)},g.quick=function(){return m.g(4)/4294967296},g.double=g,c(l(m.S),t),(p.pass||d||function(t,n,r,i){return i&&(i.S&&s(i,m),t.state=function(){return s(m,{})}),r?(e.random=t,n):t})(g,f,"global"in p?p.global:this==e,p.state)},c(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,n,r,i,o){var a=o||("bez_"+t+"_"+n+"_"+r+"_"+i).replace(/\./g,"p");if(e[a])return e[a];var s=new c([t,n,r,i]);return e[a]=s,s}},e={},n="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,n){return((r(e,n)*t+i(e,n))*t+o(e))*t}function s(t,e,n){return 3*r(e,n)*t*t+2*i(e,n)*t+o(e)}function c(t){this._p=t,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(t){var e=this._p[0],n=this._p[1],r=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===n&&r===i?t:0===t?0:1===t?1:a(this._getTForX(t),n,i)},_precompute:function(){var t=this._p[0],e=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,t===e&&n===r||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=a(.1*n,t,e)},_getTForX:function(t){for(var e=this._p[0],n=this._p[2],r=this._mSampleValues,i=0,o=1;10!==o&&r[o]<=t;++o)i+=.1;var c=i+(t-r[--o])/(r[o+1]-r[o])*.1,l=s(c,e,n);return l>=.001?function(t,e,n,r){for(var i=0;i<4;++i){var o=s(e,n,r);if(0===o)return e;e-=(a(e,n,r)-t)/o}return e}(t,c,e,n):0===l?c:function(t,e,n,r,i){var o,s,c=0;do{(o=a(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s}while(Math.abs(o)>1e-7&&++c<10);return s}(t,i,i+.1,e,n)}},t}();function extendPrototype(t,e){var n,r,i=t.length;for(n=0;n<i;n+=1)for(var o in r=t[n].prototype)r.hasOwnProperty(o)&&(e.prototype[o]=r[o])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){function t(t,e,n,r,i,o){var a=t*r+e*i+n*o-i*r-o*t-n*e;return a>-.001&&a<.001}Math;var e=function(t,e,n,r){var i,o,a,s,c,l,u=defaultCurveSegments,p=0,d=[],h=[],f=bezier_length_pool.newElement();for(a=n.length,i=0;i<u;i+=1){for(c=i/(u-1),l=0,o=0;o<a;o+=1)s=bm_pow(1-c,3)*t[o]+3*bm_pow(1-c,2)*c*n[o]+3*(1-c)*bm_pow(c,2)*r[o]+bm_pow(c,3)*e[o],d[o]=s,null!==h[o]&&(l+=bm_pow(d[o]-h[o],2)),h[o]=d[o];l&&(p+=l=bm_sqrt(l)),f.percents[i]=c,f.lengths[i]=p}return f.addedLength=p,f};function n(t){this.segmentLength=0,this.points=new Array(t)}function r(t,e){this.partialLength=t,this.point=e}var i,o=(i={},function(e,o,a,s){var c=(e[0]+"_"+e[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!i[c]){var l,u,p,d,h,f,m,g=defaultCurveSegments,y=0,_=null;2===e.length&&(e[0]!=o[0]||e[1]!=o[1])&&t(e[0],e[1],o[0],o[1],e[0]+a[0],e[1]+a[1])&&t(e[0],e[1],o[0],o[1],o[0]+s[0],o[1]+s[1])&&(g=2);var v=new n(g);for(p=a.length,l=0;l<g;l+=1){for(m=createSizedArray(p),h=l/(g-1),f=0,u=0;u<p;u+=1)d=bm_pow(1-h,3)*e[u]+3*bm_pow(1-h,2)*h*(e[u]+a[u])+3*(1-h)*bm_pow(h,2)*(o[u]+s[u])+bm_pow(h,3)*o[u],m[u]=d,null!==_&&(f+=bm_pow(m[u]-_[u],2));y+=f=bm_sqrt(f),v.points[l]=new r(f,m),_=m}v.segmentLength=y,i[c]=v}return i[c]});function a(t,e){var n=e.percents,r=e.lengths,i=n.length,o=bm_floor((i-1)*t),a=t*e.addedLength,s=0;if(o===i-1||0===o||a===r[o])return n[o];for(var c=r[o]>a?-1:1,l=!0;l;)if(r[o]<=a&&r[o+1]>a?(s=(a-r[o])/(r[o+1]-r[o]),l=!1):o+=c,o<0||o>=i-1){if(o===i-1)return n[o];l=!1}return n[o]+(n[o+1]-n[o])*s}var s=createTypedArray("float32",8);return{getSegmentsLength:function(t){var n,r=segments_length_pool.newElement(),i=t.c,o=t.v,a=t.o,s=t.i,c=t._length,l=r.lengths,u=0;for(n=0;n<c-1;n+=1)l[n]=e(o[n],o[n+1],a[n],s[n+1]),u+=l[n].addedLength;return i&&c&&(l[n]=e(o[n],o[0],a[n],s[0]),u+=l[n].addedLength),r.totalLength=u,r},getNewSegment:function(t,e,n,r,i,o,c){var l,u=a(i=i<0?0:i>1?1:i,c),p=a(o=o>1?1:o,c),d=t.length,h=1-u,f=1-p,m=h*h*h,g=u*h*h*3,y=u*u*h*3,_=u*u*u,v=h*h*f,b=u*h*f+h*u*f+h*h*p,M=u*u*f+h*u*p+u*h*p,x=u*u*p,w=h*f*f,C=u*f*f+h*p*f+h*f*p,S=u*p*f+h*p*p+u*f*p,E=u*p*p,T=f*f*f,O=p*f*f+f*p*f+f*f*p,A=p*p*f+f*p*p+p*f*p,P=p*p*p;for(l=0;l<d;l+=1)s[4*l]=Math.round(1e3*(m*t[l]+g*n[l]+y*r[l]+_*e[l]))/1e3,s[4*l+1]=Math.round(1e3*(v*t[l]+b*n[l]+M*r[l]+x*e[l]))/1e3,s[4*l+2]=Math.round(1e3*(w*t[l]+C*n[l]+S*r[l]+E*e[l]))/1e3,s[4*l+3]=Math.round(1e3*(T*t[l]+O*n[l]+A*r[l]+P*e[l]))/1e3;return s},getPointInSegment:function(t,e,n,r,i,o){var s=a(i,o),c=1-s;return[Math.round(1e3*(c*c*c*t[0]+(s*c*c+c*s*c+c*c*s)*n[0]+(s*s*c+c*s*s+s*c*s)*r[0]+s*s*s*e[0]))/1e3,Math.round(1e3*(c*c*c*t[1]+(s*c*c+c*s*c+c*c*s)*n[1]+(s*s*c+c*s*s+s*c*s)*r[1]+s*s*s*e[1]))/1e3]},buildBezierData:o,pointOnLine2D:t,pointOnLine3D:function(e,n,r,i,o,a,s,c,l){if(0===r&&0===a&&0===l)return t(e,n,i,o,s,c);var u,p=Math.sqrt(Math.pow(i-e,2)+Math.pow(o-n,2)+Math.pow(a-r,2)),d=Math.sqrt(Math.pow(s-e,2)+Math.pow(c-n,2)+Math.pow(l-r,2)),h=Math.sqrt(Math.pow(s-i,2)+Math.pow(c-o,2)+Math.pow(l-a,2));return(u=p>d?p>h?p-d-h:h-d-p:h>d?h-d-p:d-p-h)>-1e-4&&u<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=setTimeout((function(){e(r+i)}),i);return t=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(i,o,a){var s,c,l,u,p,d,h,f=i.length;for(c=0;c<f;c+=1)if("ks"in(s=i[c])&&!s.completed){if(s.completed=!0,s.tt&&(i[c-1].td=s.tt),s.hasMask){var m=s.masksProperties;for(u=m.length,l=0;l<u;l+=1)if(m[l].pt.k.i)r(m[l].pt.k);else for(d=m[l].pt.k.length,p=0;p<d;p+=1)m[l].pt.k[p].s&&r(m[l].pt.k[p].s[0]),m[l].pt.k[p].e&&r(m[l].pt.k[p].e[0])}0===s.ty?(s.layers=e(s.refId,o),t(s.layers,o,a)):4===s.ty?n(s.shapes):5==s.ty&&(0!==(h=s).t.a.length||"m"in h.t.p||(h.singleShape=!0))}}function e(t,e){for(var n=0,r=e.length;n<r;){if(e[n].id===t)return e[n].layers.__used?JSON.parse(JSON.stringify(e[n].layers)):(e[n].layers.__used=!0,e[n].layers);n+=1}}function n(t){var e,i,o;for(e=t.length-1;e>=0;e-=1)if("sh"==t[e].ty)if(t[e].ks.k.i)r(t[e].ks.k);else for(o=t[e].ks.k.length,i=0;i<o;i+=1)t[e].ks.k[i].s&&r(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&r(t[e].ks.k[i].e[0]);else"gr"==t[e].ty&&n(t[e].it)}function r(t){var e,n=t.i.length;for(e=0;e<n;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var n=e?e.split("."):[100,100,100];return t[0]>n[0]||!(n[0]>t[0])&&(t[1]>n[1]||!(n[1]>t[1])&&(t[2]>n[2]||!(n[2]>t[2])&&void 0))}var o,a=function(){var t=[4,4,14];function e(t){var e,n,r=t.length;for(e=0;e<r;e+=1)5===t[e].ty&&((n=t[e]).t.d={k:[{s:n.t.d,t:0}]})}return function(n){if(i(t,n.v)&&(e(n.layers),n.assets)){var r,o=n.assets.length;for(r=0;r<o;r+=1)n.assets[r].layers&&e(n.assets[r].layers)}}}(),s=(o=[4,7,99],function(t){if(t.chars&&!i(o,t.v)){var e,n,a,s,c,l=t.chars.length;for(e=0;e<l;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(a=(c=t.chars[e].data.shapes[0].it).length,n=0;n<a;n+=1)(s=c[n].ks.k).__converted||(r(c[n].ks.k),s.__converted=!0)}}),c=function(){var t=[4,1,9];function e(t){var n,r,i,o=t.length;for(n=0;n<o;n+=1)if("gr"===t[n].ty)e(t[n].it);else if("fl"===t[n].ty||"st"===t[n].ty)if(t[n].c.k&&t[n].c.k[0].i)for(i=t[n].c.k.length,r=0;r<i;r+=1)t[n].c.k[r].s&&(t[n].c.k[r].s[0]/=255,t[n].c.k[r].s[1]/=255,t[n].c.k[r].s[2]/=255,t[n].c.k[r].s[3]/=255),t[n].c.k[r].e&&(t[n].c.k[r].e[0]/=255,t[n].c.k[r].e[1]/=255,t[n].c.k[r].e[2]/=255,t[n].c.k[r].e[3]/=255);else t[n].c.k[0]/=255,t[n].c.k[1]/=255,t[n].c.k[2]/=255,t[n].c.k[3]/=255}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)4===t[n].ty&&e(t[n].shapes)}return function(e){if(i(t,e.v)&&(n(e.layers),e.assets)){var r,o=e.assets.length;for(r=0;r<o;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),l=function(){var t=[4,4,18];function e(t){var n,r,i;for(n=t.length-1;n>=0;n-=1)if("sh"==t[n].ty)if(t[n].ks.k.i)t[n].ks.k.c=t[n].closed;else for(i=t[n].ks.k.length,r=0;r<i;r+=1)t[n].ks.k[r].s&&(t[n].ks.k[r].s[0].c=t[n].closed),t[n].ks.k[r].e&&(t[n].ks.k[r].e[0].c=t[n].closed);else"gr"==t[n].ty&&e(t[n].it)}function n(t){var n,r,i,o,a,s,c=t.length;for(r=0;r<c;r+=1){if((n=t[r]).hasMask){var l=n.masksProperties;for(o=l.length,i=0;i<o;i+=1)if(l[i].pt.k.i)l[i].pt.k.c=l[i].cl;else for(s=l[i].pt.k.length,a=0;a<s;a+=1)l[i].pt.k[a].s&&(l[i].pt.k[a].s[0].c=l[i].cl),l[i].pt.k[a].e&&(l[i].pt.k[a].e[0].c=l[i].cl)}4===n.ty&&e(n.shapes)}}return function(e){if(i(t,e.v)&&(n(e.layers),e.assets)){var r,o=e.assets.length;for(r=0;r<o;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),u={completeData:function(e,n){e.__complete||(c(e),a(e),s(e),l(e),t(e.layers,e.assets,n),e.__complete=!0)}};return u.checkColors=c,u.checkChars=s,u.checkShapes=l,u.completeLayers=t,u}var dataManager=dataFunctionManager(),FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function n(t,e){var n=createTag("span");n.style.fontFamily=e;var r=createTag("span");r.innerHTML="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var i=r.offsetWidth;return r.style.fontFamily=t+", "+e,{node:r,w:i,parent:n}}function r(t,e){var n=createNS("text");return n.style.fontSize="100px",n.setAttribute("font-family",e.fFamily),n.setAttribute("font-style",e.fStyle),n.setAttribute("font-weight",e.fWeight),n.textContent="1",e.fClass?(n.style.fontFamily="inherit",n.setAttribute("class",e.fClass)):n.style.fontFamily=e.fFamily,t.appendChild(n),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,n}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var i=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()};return i.getCombinedCharacterCodes=function(){return e},i.prototype.addChars=function(t){if(t){this.chars||(this.chars=[]);var e,n,r,i=t.length,o=this.chars.length;for(e=0;e<i;e+=1){for(n=0,r=!1;n<o;)this.chars[n].style===t[e].style&&this.chars[n].fFamily===t[e].fFamily&&this.chars[n].ch===t[e].ch&&(r=!0),n+=1;r||(this.chars.push(t[e]),o+=1)}}},i.prototype.addFonts=function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var i,o=t.list,a=o.length,s=a;for(i=0;i<a;i+=1){var c,l,u=!0;if(o[i].loaded=!1,o[i].monoCase=n(o[i].fFamily,"monospace"),o[i].sansCase=n(o[i].fFamily,"sans-serif"),o[i].fPath){if("p"===o[i].fOrigin||3===o[i].origin){if((c=document.querySelectorAll('style[f-forigin="p"][f-family="'+o[i].fFamily+'"], style[f-origin="3"][f-family="'+o[i].fFamily+'"]')).length>0&&(u=!1),u){var p=createTag("style");p.setAttribute("f-forigin",o[i].fOrigin),p.setAttribute("f-origin",o[i].origin),p.setAttribute("f-family",o[i].fFamily),p.type="text/css",p.innerHTML="@font-face {font-family: "+o[i].fFamily+"; font-style: normal; src: url('"+o[i].fPath+"');}",e.appendChild(p)}}else if("g"===o[i].fOrigin||1===o[i].origin){for(c=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),l=0;l<c.length;l++)-1!==c[l].href.indexOf(o[i].fPath)&&(u=!1);if(u){var d=createTag("link");d.setAttribute("f-forigin",o[i].fOrigin),d.setAttribute("f-origin",o[i].origin),d.type="text/css",d.rel="stylesheet",d.href=o[i].fPath,document.body.appendChild(d)}}else if("t"===o[i].fOrigin||2===o[i].origin){for(c=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),l=0;l<c.length;l++)o[i].fPath===c[l].src&&(u=!1);if(u){var h=createTag("link");h.setAttribute("f-forigin",o[i].fOrigin),h.setAttribute("f-origin",o[i].origin),h.setAttribute("rel","stylesheet"),h.setAttribute("href",o[i].fPath),e.appendChild(h)}}}else o[i].loaded=!0,s-=1;o[i].helper=r(e,o[i]),o[i].cache={},this.fonts.push(o[i])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},i.prototype.getCharData=function(e,n,r){for(var i=0,o=this.chars.length;i<o;){if(this.chars[i].ch===e&&this.chars[i].style===n&&this.chars[i].fFamily===r)return this.chars[i];i+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",e,n,r),t},i.prototype.getFontByName=function(t){for(var e=0,n=this.fonts.length;e<n;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},i.prototype.measureText=function(t,e,n){var r=this.getFontByName(e),i=t.charCodeAt(0);if(!r.cache[i+1]){var o=r.helper;if(" "===t){o.textContent="|"+t+"|";var a=o.getComputedTextLength();o.textContent="||";var s=o.getComputedTextLength();r.cache[i+1]=(a-s)/100}else o.textContent=t,r.cache[i+1]=o.getComputedTextLength()/100}return r.cache[i+1]*n},i.prototype.checkLoadedFonts=function(){var t,e=this.fonts.length,n=e;for(t=0;t<e;t+=1)this.fonts[t].loaded?n-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:((this.fonts[t].monoCase.node.offsetWidth!==this.fonts[t].monoCase.w||this.fonts[t].sansCase.node.offsetWidth!==this.fonts[t].sansCase.w)&&(n-=1,this.fonts[t].loaded=!0),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout((function(){this.isLoaded=!0}).bind(this),0)},i.prototype.loaded=function(){return this.isLoaded},i}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function n(t,e){var n,i=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var o,a,s,c,l,u,p,d,h=e.lastIndex,f=h,m=this.keyframes.length-1,g=!0;g;){if(o=this.keyframes[f],a=this.keyframes[f+1],f===m-1&&t>=a.t-i){o.h&&(o=a),h=0;break}if(a.t-i>t){h=f;break}f<m-1?f+=1:(h=0,g=!1)}var y,_,v,b,M,x,w,C,S,E,T,O,A,P,L,k,I,D,N=a.t-i,R=o.t-i;if(o.to){o.bezierData||(o.bezierData=bez.buildBezierData(o.s,a.s||o.e,o.to,o.ti));var z=o.bezierData;if(t>=N||t<R){var F=t>=N?z.points.length-1:0;for(c=z.points[F].point.length,s=0;s<c;s+=1)n[s]=z.points[F].point[s]}else{o.__fnct?d=o.__fnct:(d=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,o.__fnct=d),l=d((t-R)/(N-R));var j,B=z.segmentLength*l,q=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;for(p=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,g=!0,u=z.points.length;g;){if(q+=z.points[p].partialLength,0===B||0===l||p===z.points.length-1){for(c=z.points[p].point.length,s=0;s<c;s+=1)n[s]=z.points[p].point[s];break}if(B>=q&&B<q+z.points[p+1].partialLength){for(j=(B-q)/z.points[p+1].partialLength,c=z.points[p].point.length,s=0;s<c;s+=1)n[s]=z.points[p].point[s]+(z.points[p+1].point[s]-z.points[p].point[s])*j;break}p<u-1?p+=1:g=!1}e._lastPoint=p,e._lastAddedLength=q-z.points[p].partialLength,e._lastKeyframeIndex=f}}else{var V;if(m=o.s.length,y=a.s||o.e,this.sh&&1!==o.h)t>=N?(n[0]=y[0],n[1]=y[1],n[2]=y[2]):t<=R?(n[0]=o.s[0],n[1]=o.s[1],n[2]=o.s[2]):function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.atan2(2*r*o-2*n*i,1-2*r*r-2*i*i),s=Math.asin(2*n*r+2*i*o),c=Math.atan2(2*n*o-2*r*i,1-2*n*n-2*i*i);t[0]=a/degToRads,t[1]=s/degToRads,t[2]=c/degToRads}(n,(_=r(o.s),v=r(y),b=(t-R)/(N-R),E=[],(x=(T=_[0])*(L=v[0])+(O=_[1])*(k=v[1])+(A=_[2])*(I=v[2])+(P=_[3])*(D=v[3]))<0&&(x=-x,L=-L,k=-k,I=-I,D=-D),1-x>1e-6?(M=Math.acos(x),w=Math.sin(M),C=Math.sin((1-b)*M)/w,S=Math.sin(b*M)/w):(C=1-b,S=b),E[0]=C*T+S*L,E[1]=C*O+S*k,E[2]=C*A+S*I,E[3]=C*P+S*D,E));else for(f=0;f<m;f+=1)1!==o.h&&(t>=N?l=1:t<R?l=0:(o.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[f]?d=o.__fnct[f]:(d=BezierFactory.getBezierEasing(void 0===o.o.x[f]?o.o.x[0]:o.o.x[f],void 0===o.o.y[f]?o.o.y[0]:o.o.y[f],void 0===o.i.x[f]?o.i.x[0]:o.i.x[f],void 0===o.i.y[f]?o.i.y[0]:o.i.y[f]).get,o.__fnct[f]=d)):o.__fnct?d=o.__fnct:(d=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y).get,o.__fnct=d),l=d((t-R)/(N-R)))),y=a.s||o.e,V=1===o.h?o.s[f]:o.s[f]+(y[f]-o.s[f])*l,"multidimensional"===this.propType?n[f]=V:n=V}return e.lastIndex=h,n}function r(t){var e=t[0]*degToRads,n=t[1]*degToRads,r=t[2]*degToRads,i=Math.cos(e/2),o=Math.cos(n/2),a=Math.cos(r/2),s=Math.sin(e/2),c=Math.sin(n/2),l=Math.sin(r/2);return[s*c*a+i*o*l,s*o*a+i*c*l,i*c*a-s*o*l,i*o*a-s*c*l]}function i(){var e=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<n&&e<n))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(e,this._caching);this.pv=i}return this._caching.lastFrame=e,this.pv}function o(t){var n;if("unidimensional"===this.propType)e(this.v-(n=t*this.mult))>1e-5&&(this.v=n,this._mdf=!0);else for(var r=0,i=this.v.length;r<i;)e(this.v[r]-(n=t[r]*this.mult))>1e-5&&(this.v[r]=n,this._mdf=!0),r+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function c(t,e,n,r){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.addEffect=s}function l(t,e,n,r){this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,c=e.k.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),createTypedArray("float32",c),this.vel=createTypedArray("float32",c),i=0;i<c;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=o,this.addEffect=s}function u(e,r,c,l){this.propType="unidimensional",this.keyframes=r.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=r,this.mult=c||1,this.elem=e,this.container=l,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.interpolateValue=n,this.effectsSequence=[i.bind(this)],this.addEffect=s}function p(e,r,c,l){this.propType="multidimensional";var u,p,d,h,f,m=r.k.length;for(u=0;u<m-1;u+=1)r.k[u].to&&r.k[u].s&&r.k[u+1]&&r.k[u+1].s&&(d=r.k[u+1].s,h=r.k[u].to,f=r.k[u].ti,(2===(p=r.k[u].s).length&&(p[0]!==d[0]||p[1]!==d[1])&&bez.pointOnLine2D(p[0],p[1],d[0],d[1],p[0]+h[0],p[1]+h[1])&&bez.pointOnLine2D(p[0],p[1],d[0],d[1],d[0]+f[0],d[1]+f[1])||3===p.length&&(p[0]!==d[0]||p[1]!==d[1]||p[2]!==d[2])&&bez.pointOnLine3D(p[0],p[1],p[2],d[0],d[1],d[2],p[0]+h[0],p[1]+h[1],p[2]+h[2])&&bez.pointOnLine3D(p[0],p[1],p[2],d[0],d[1],d[2],d[0]+f[0],d[1]+f[1],d[2]+f[2]))&&(r.k[u].to=null,r.k[u].ti=null),p[0]===d[0]&&p[1]===d[1]&&0===h[0]&&0===h[1]&&0===f[0]&&0===f[1]&&(2===p.length||p[2]===d[2]&&0===h[2]&&0===f[2])&&(r.k[u].to=null,r.k[u].ti=null));this.effectsSequence=[i.bind(this)],this.keyframes=r.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=c||1,this.elem=e,this.container=l,this.comp=e.comp,this.getValue=a,this.setVValue=o,this.interpolateValue=n,this.frameId=-1;var g=r.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),u=0;u<g;u+=1)this.v[u]=t,this.pv[u]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=s}return{getProp:function(t,e,n,r,i){var o;if(e.k.length)if("number"==typeof e.k[0])o=new l(t,e,r,i);else switch(n){case 0:o=new u(t,e,r,i);break;case 1:o=new p(t,e,r,i)}else o=new c(t,e,r,i);return o.effectsSequence.length&&i.addDynamicProperty(o),o}}}(),TransformPropertyFactory=function(){var t=[0,0];function e(t,e,n){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var r,i=e.or.k.length;for(r=0;r<i;r+=1)e.or.k[r].to=e.or.k[r].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),this.o=e.o?PropertyFactory.getProp(t,e.o,0,.01,t):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?t.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,r,i=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(n=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],r=[];var o=this.px,a=this.py;o._caching.lastFrame+o.offsetTime<=o.keyframes[0].t?(n[0]=o.getValueAtTime((o.keyframes[0].t+.01)/i,0),n[1]=a.getValueAtTime((a.keyframes[0].t+.01)/i,0),r[0]=o.getValueAtTime(o.keyframes[0].t/i,0),r[1]=a.getValueAtTime(a.keyframes[0].t/i,0)):o._caching.lastFrame+o.offsetTime>=o.keyframes[o.keyframes.length-1].t?(n[0]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/i,0),n[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/i,0),r[0]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/i,0),r[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/i,0)):(n=[o.pv,a.pv],r[0]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/i,o.offsetTime),r[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/i,a.offsetTime))}else n=r=t;this.v.rotate(-Math.atan2(n[1]-r[1],n[0]-r[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,n,r){return new e(t,n,r)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=point_pool.newElement(),this.o[n]=point_pool.newElement(),this.i[n]=point_pool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,r,i){var o;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o}(!o[r]||o[r]&&!i)&&(o[r]=point_pool.newElement()),o[r][0]=t,o[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,r,i,o,a,s){this.setXYAt(t,e,"v",a,s),this.setXYAt(n,r,"o",a,s),this.setXYAt(i,o,"i",a,s)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,r=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),i=1);var o,a=this._length-1,s=this._length;for(o=i;o<s;o+=1)t.setTripleAt(e[a][0],e[a][1],r[a][0],r[a][1],n[a][0],n[a][1],o,!1),a-=1;return t};var ShapePropertyFactory=function(){function t(t,e,n){var r,i,o,a,s,c,l,u,p=n.lastIndex,d=this.keyframes;if(t<d[0].t-this.offsetTime)r=d[0].s[0],o=!0,p=0;else if(t>=d[d.length-1].t-this.offsetTime)r=d[d.length-1].s?d[d.length-1].s[0]:d[d.length-2].e[0],o=!0;else{for(var h,f,m=p,g=d.length-1,y=!0;y&&(h=d[m],!((f=d[m+1]).t-this.offsetTime>t));)m<g-1?m+=1:y=!1;if(p=m,!(o=1===h.h)){if(t>=f.t-this.offsetTime)u=1;else if(t<h.t-this.offsetTime)u=0;else{var _;h.__fnct?_=h.__fnct:(_=BezierFactory.getBezierEasing(h.o.x,h.o.y,h.i.x,h.i.y).get,h.__fnct=_),u=_((t-(h.t-this.offsetTime))/(f.t-this.offsetTime-(h.t-this.offsetTime)))}i=f.s?f.s[0]:h.e[0]}r=h.s[0]}for(c=e._length,l=r.i[0].length,n.lastIndex=p,a=0;a<c;a+=1)for(s=0;s<l;s+=1)e.i[a][s]=o?r.i[a][s]:r.i[a][s]+(i.i[a][s]-r.i[a][s])*u,e.o[a][s]=o?r.o[a][s]:r.o[a][s]+(i.o[a][s]-r.o[a][s])*u,e.v[a][s]=o?r.v[a][s]:r.v[a][s]+(i.v[a][s]-r.v[a][s])*u}function e(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return-999999!==r&&(r<e&&t<e||r>n&&t>n)||(this._caching.lastIndex=r<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function n(){this.paths=this.localShapeCollection}function r(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var n,r=t._length;for(n=0;n<r;n+=1)if(t.v[n][0]!==e.v[n][0]||t.v[n][1]!==e.v[n][1]||t.o[n][0]!==e.o[n][0]||t.o[n][1]!==e.o[n][1]||t.i[n][0]!==e.i[n][0]||t.i[n][1]!==e.i[n][1])return!1;return!0})(this.v,t)||(this.v=shape_pool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,n=this.effectsSequence.length;for(t=0;t<n;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shape_pool.clone(3===r?e.pt.k:e.ks.k),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function s(t,r,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=n,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}o.prototype.interpolateShape=t,o.prototype.getValue=i,o.prototype.setVValue=r,o.prototype.addEffect=a,s.prototype.getValue=i,s.prototype.interpolateShape=t,s.prototype.setVValue=r,s.prototype.addEffect=a;var c=function(){var t=roundCorner;function e(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,o=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=n-i,a.v[1][0]=o?e+r:e-r,a.v[1][1]=n,a.v[2][0]=e,a.v[2][1]=n+i,a.v[3][0]=o?e-r:e+r,a.v[3][1]=n,a.i[0][0]=o?e-r*t:e+r*t,a.i[0][1]=n-i,a.i[1][0]=o?e+r:e-r,a.i[1][1]=n-i*t,a.i[2][0]=o?e+r*t:e-r*t,a.i[2][1]=n+i,a.i[3][0]=o?e-r:e+r,a.i[3][1]=n+i*t,a.o[0][0]=o?e+r*t:e-r*t,a.o[0][1]=n-i,a.o[1][0]=o?e+r:e-r,a.o[1][1]=n+i*t,a.o[2][0]=o?e-r*t:e+r*t,a.o[2][1]=n+i,a.o[3][0]=o?e-r:e+r,a.o[3][1]=n-i*t}},extendPrototype([DynamicPropertyContainer],e),e}(),l=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,n,r,i=2*Math.floor(this.pt.v),o=2*Math.PI/i,a=!0,s=this.or.v,c=this.ir.v,l=this.os.v,u=this.is.v,p=2*Math.PI*s/(2*i),d=2*Math.PI*c/(2*i),h=-Math.PI/2;h+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<i;t+=1){n=a?l:u,r=a?p:d;var m=(e=a?s:c)*Math.cos(h),g=e*Math.sin(h),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),_=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);this.v.setTripleAt(m+=+this.p.v[0],g+=+this.p.v[1],m-y*r*n*f,g-_*r*n*f,m+y*r*n*f,g+_*r*n*f,t,!0),a=!a,h+=o*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),n=2*Math.PI/e,r=this.or.v,i=this.os.v,o=2*Math.PI*r/(4*e),a=-Math.PI/2,s=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var c=r*Math.cos(a),l=r*Math.sin(a),u=0===c&&0===l?0:l/Math.sqrt(c*c+l*l),p=0===c&&0===l?0:-c/Math.sqrt(c*c+l*l);this.v.setTripleAt(c+=+this.p.v[0],l+=+this.p.v[1],c-u*o*i*s,l-p*o*i*s,c+u*o*i*s,l+p*o*i*s,t,!0),a+=n*s}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,i=bm_min(n,r,this.r.v),o=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+i,t+n,e-r+o,0,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-o,t+n,e+r-i,1,!0),0!==i?(this.v.setTripleAt(t+n-i,e+r,t+n-i,e+r,t+n-o,e+r,2,!0),this.v.setTripleAt(t-n+i,e+r,t-n+o,e+r,t-n+i,e+r,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-i,t-n,e+r-o,4,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+o,t-n,e-r+i,5,!0),this.v.setTripleAt(t-n+i,e-r,t-n+i,e-r,t-n+o,e-r,6,!0),this.v.setTripleAt(t+n-i,e-r,t+n-o,e-r,t+n-i,e-r,7,!0)):(this.v.setTripleAt(t-n,e+r,t-n+o,e+r,t-n,e+r,2),this.v.setTripleAt(t-n,e-r,t-n,e-r+o,t-n,e-r,3))):(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+o,t+n,e-r+i,0,!0),0!==i?(this.v.setTripleAt(t+n-i,e-r,t+n-i,e-r,t+n-o,e-r,1,!0),this.v.setTripleAt(t-n+i,e-r,t-n+o,e-r,t-n+i,e-r,2,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+i,t-n,e-r+o,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-o,t-n,e+r-i,4,!0),this.v.setTripleAt(t-n+i,e+r,t-n+i,e+r,t-n+o,e+r,5,!0),this.v.setTripleAt(t+n-i,e+r,t+n-o,e+r,t+n-i,e+r,6,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-i,t+n,e+r-o,7,!0)):(this.v.setTripleAt(t-n,e-r,t-n+o,e-r,t-n,e-r,1,!0),this.v.setTripleAt(t-n,e+r,t-n,e+r-o,t-n,e+r,2,!0),this.v.setTripleAt(t+n,e+r,t+n-o,e+r,t+n,e+r,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],t),t}();return{getShapeProp:function(t,e,n){var r;return 3===n||4===n?r=(3===n?e.pt:e.ks).k.length?new s(t,e,n):new o(t,e,n):5===n?r=new u(t,e):6===n?r=new c(t,e):7===n&&(r=new l(t,e)),r.k&&t.addDynamicProperty(r),r},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return s}}}(),ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,n){e[t]||(e[t]=n)},t.getModifier=function(t,n,r){return new e[t](n,r)},t}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,n,r){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var i,o,a=e.length||0;for(i=0;i<a;i+=1)o=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=o.k||this.k,this.dataProps[i]={n:e[i].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,r,i){var o=[];e<=1?o.push({s:t,e}):t>=1?o.push({s:t-1,e:e-1}):(o.push({s:t,e:1}),o.push({s:0,e:e-1}));var a,s,c=[],l=o.length;for(a=0;a<l;a+=1)(s=o[a]).e*i<r||s.s*i>r+n||c.push([s.s*i<=r?0:(s.s*i-r)/n,s.e*i>=r+n?1:(s.e*i-r)/n]);return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segments_length_pool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n,r;if(this._mdf||t){var i=this.o.v%360/360;if(i<0&&(i+=1),(e=(this.s.v>1?1:this.s.v<0?0:this.s.v)+i)>(n=(this.e.v>1?1:this.e.v<0?0:this.e.v)+i)){var o=e;e=n,n=o}e=1e-4*Math.round(1e4*e),n=1e-4*Math.round(1e4*n),this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var a,s,c,l,u,p,d=this.shapes.length,h=0;if(n===e)for(a=0;a<d;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection;else if(1===n&&0===e||0===n&&1===e){if(this._mdf)for(a=0;a<d;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var f,m,g=[];for(a=0;a<d;a+=1)if((f=this.shapes[a]).shape._mdf||this._mdf||t||2===this.m){if(c=(r=f.shape.paths)._length,p=0,!f.shape._mdf&&f.pathsData.length)p=f.totalShapeLength;else{for(l=this.releasePathsData(f.pathsData),s=0;s<c;s+=1)u=bez.getSegmentsLength(r.shapes[s]),l.push(u),p+=u.totalLength;f.totalShapeLength=p,f.pathsData=l}h+=p,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,_=e,v=n,b=0;for(a=d-1;a>=0;a-=1)if((f=this.shapes[a]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(y=this.calculateShapeEdges(e,n,f.totalShapeLength,b,h),b+=f.totalShapeLength):y=[[_,v]],c=y.length,s=0;s<c;s+=1){_=y[s][0],v=y[s][1],g.length=0,v<=1?g.push({s:f.totalShapeLength*_,e:f.totalShapeLength*v}):_>=1?g.push({s:f.totalShapeLength*(_-1),e:f.totalShapeLength*(v-1)}):(g.push({s:f.totalShapeLength*_,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(v-1)}));var M=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var x=M.pop();this.addPaths(M,m),M=this.addShapes(f,g[1],x)}else this.addPaths(M,m),M=this.addShapes(f,g[1]);this.addPaths(M,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,r,i,o,a){i.setXYAt(e[0],e[1],"o",o),i.setXYAt(n[0],n[1],"i",o+1),a&&i.setXYAt(t[0],t[1],"v",o),i.setXYAt(r[0],r[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,r){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),r&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var r,i,o,a,s,c,l,u,p=t.pathsData,d=t.shape.paths.shapes,h=t.shape.paths._length,f=0,m=[],g=!0;for(n?(s=n._length,u=n._length):(n=shape_pool.newElement(),s=0,u=0),m.push(n),r=0;r<h;r+=1){for(c=p[r].lengths,n.c=d[r].c,o=d[r].c?c.length:c.length+1,i=1;i<o;i+=1)if(f+(a=c[i-1]).addedLength<e.s)f+=a.addedLength,n.c=!1;else{if(f>e.e){n.c=!1;break}e.s<=f&&e.e>=f+a.addedLength?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[i],d[r].v[i],n,s,g),g=!1):(l=bez.getNewSegment(d[r].v[i-1],d[r].v[i],d[r].o[i-1],d[r].i[i],(e.s-f)/a.addedLength,(e.e-f)/a.addedLength,c[i-1]),this.addSegmentFromArray(l,n,s,g),g=!1,n.c=!1),f+=a.addedLength,s+=1}if(d[r].c&&c.length){if(a=c[i-1],f<=e.e){var y=c[i-1].addedLength;e.s<=f&&e.e>=f+y?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[0],d[r].v[0],n,s,g),g=!1):(l=bez.getNewSegment(d[r].v[i-1],d[r].v[0],d[r].o[i-1],d[r].i[0],(e.s-f)/y,(e.e-f)/y,c[i-1]),this.addSegmentFromArray(l,n,s,g),g=!1,n.c=!1)}else n.c=!1;f+=a.addedLength,s+=1}if(n._length&&(n.setXYAt(n.v[u][0],n.v[u][1],"i",u),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>e.e)break;r<h-1&&(n=shape_pool.newElement(),g=!0,m.push(n),s=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n=shape_pool.newElement();n.c=t.c;var r,i,o,a,s,c,l,u,p,d,h,f,m,g=t._length,y=0;for(r=0;r<g;r+=1)o=t.i[r],(i=t.v[r])[0]===(a=t.o[r])[0]&&i[1]===a[1]&&i[0]===o[0]&&i[1]===o[1]?0!==r&&r!==g-1||t.c?(s=0===r?t.v[g-1]:t.v[r-1],l=(c=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(c/2,e)/c:0,u=f=i[0]+(s[0]-i[0])*l,p=m=i[1]-(i[1]-s[1])*l,n.setTripleAt(u,p,u-(u-i[0])*roundCorner,p-(p-i[1])*roundCorner,f,m,y),y+=1,s=r===g-1?t.v[0]:t.v[r+1],l=(c=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(c/2,e)/c:0,u=d=i[0]+(s[0]-i[0])*l,p=h=i[1]+(s[1]-i[1])*l,n.setTripleAt(u,p,d,h,f=u-(u-i[0])*roundCorner,m=p-(p-i[1])*roundCorner,y),y+=1):(n.setTripleAt(i[0],i[1],a[0],a[1],o[0],o[1],y),y+=1):(n.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],y),y+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,n,r,i,o,a,s=this.shapes.length,c=this.rd.v;if(0!==c)for(n=0;n<s;n+=1){if(a=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)a.addShape(this.processPath(e[r],c));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,r,i,o){var a=o?-1:1,s=r.s.v[0]+(1-r.s.v[0])*(1-i),c=r.s.v[1]+(1-r.s.v[1])*(1-i);t.translate(r.p.v[0]*a*i,r.p.v[1]*a*i,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*a*i),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(o?1/s:s,o?1/c:c),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,r){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)this._elements.unshift(e[n-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]._render=e,"gr"===t[n].ty&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,r,i,o;if(this._mdf||t){var a,s=Math.ceil(this.c.v);if(this._groups.length<s){for(;this._groups.length<s;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes()}for(o=0,r=0;r<=this._groups.length-1;r+=1)this._groups[r]._render=a=o<s,this.changeGroupRender(this._groups[r].it,a),o+=1;this._currentCopies=s;var l=this.o.v,u=l%1,p=l>0?Math.floor(l):Math.ceil(l),d=this.pMatrix.props,h=this.rMatrix.props,f=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var m,g,y=0;if(l>0){for(;y<p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),y+=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,u,!1),y+=u)}else if(l<0){for(;y>p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),y-=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-u,!0),y-=u)}for(r=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,o=this._currentCopies;o;){if(g=(n=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+r/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==y){for((0!==r&&1===i||r!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),m=0;m<g;m+=1)n[m]=this.matrix.props[m];this.matrix.reset()}else for(this.matrix.reset(),m=0;m<g;m+=1)n[m]=this.matrix.props[m];y+=1,o-=1,r+=i}}else for(o=this._currentCopies,r=0,i=1;o;)n=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,o-=1,r+=i},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<n;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,r=this.o.length/2;n<r;){if(Math.abs(t[4*n]-t[4*e+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,r,i=4*this.data.p;for(e=0;e<i;e+=1)n=e%4==0?100:255,r=Math.round(this.prop.v[e]*n),this.c[e]!==r&&(this.c[e]=r,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)n=e%2==0?100:1,r=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,n,r){if(0===e)return"";var i,o=t.o,a=t.i,s=t.v,c=" M"+r.applyToPointStringified(s[0][0],s[0][1]);for(i=1;i<e;i+=1)c+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(a[i][0],a[i][1])+" "+r.applyToPointStringified(s[i][0],s[i][1]);return n&&e&&(c+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(a[0][0],a[0][1])+" "+r.applyToPointStringified(s[0][0],s[0][1]),c+="z"),c},ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(e){var n=function(t,e,n){var r="";if(t.e)r=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),r=e+i}else r=n,r+=t.u?t.u:"",r+=t.p;return r}(e,this.assetsPath,this.path),r=createTag("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded.bind(this),!1),r.addEventListener("error",(function(){i.img=t,this._imageLoaded()}).bind(this),!1),r.src=n;var i={img:r,assetData:e};return i}function r(t,e){this.imagesLoadedCb=e;var n,r=t.length;for(n=0;n<r;n+=1)t[n].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[n])))}function i(t){this.path=t||""}function o(t){this.assetsPath=t||""}function a(t){for(var e=0,n=this.images.length;e<n;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}}function s(){this.imagesLoadedCb=null,this.images.length=0}function c(){return this.totalImages===this.loadedAssets}return function(){this.loadAssets=r,this.setAssetsPath=o,this.setPath=i,this.loaded=c,this.destroy=s,this.getImage=a,this._createImageData=n,this._imageLoaded=e,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory={createFilter:function(t){var e=createNS("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}},assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):void 0}return{load:function(e,n,r){var i,o=new XMLHttpRequest;o.open("GET",e,!0);try{o.responseType="json"}catch(a){}o.send(),o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status)i=t(o),n(i);else try{i=t(o),n(i)}catch(a){r&&r(a)}}}}}();function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function TextAnimatorDataProperty(t,e,n){var r={propType:!1},i=PropertyFactory.getProp,o=e.a;this.a={r:o.r?i(t,o.r,0,degToRads,n):r,rx:o.rx?i(t,o.rx,0,degToRads,n):r,ry:o.ry?i(t,o.ry,0,degToRads,n):r,sk:o.sk?i(t,o.sk,0,degToRads,n):r,sa:o.sa?i(t,o.sa,0,degToRads,n):r,s:o.s?i(t,o.s,1,.01,n):r,a:o.a?i(t,o.a,1,0,n):r,o:o.o?i(t,o.o,0,.01,n):r,p:o.p?i(t,o.p,1,0,n):r,sw:o.sw?i(t,o.sw,0,0,n):r,sc:o.sc?i(t,o.sc,1,0,n):r,fc:o.fc?i(t,o.fc,1,0,n):r,fh:o.fh?i(t,o.fh,0,0,n):r,fs:o.fs?i(t,o.fs,0,.01,n):r,fb:o.fb?i(t,o.fb,0,.01,n):r,t:o.t?i(t,o.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function LetterProps(t,e,n,r,i,o){this.o=t,this.sw=e,this.sc=n,this.fc=r,this.m=i,this.p=o,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!r,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<e;t+=1)this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,this._textData.a[t],this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,i,o,a,s,c,l,u,p,d,h,f,m,g,y,_,v,b=this._moreOptions.alignment.v,M=this._animatorsData,x=this._textData,w=this.mHelper,C=this._renderType,S=this.renderedLetters.length,E=t.l;if(this._hasMaskedPath){if(v=this._pathData.m,!this._pathData.n||this._pathData._mdf){var T,O=v.v;for(this._pathData.r&&(O=O.reverse()),a={tLength:0,segments:[]},o=O._length-1,y=0,i=0;i<o;i+=1)T=bez.buildBezierData(O.v[i],O.v[i+1],[O.o[i][0]-O.v[i][0],O.o[i][1]-O.v[i][1]],[O.i[i+1][0]-O.v[i+1][0],O.i[i+1][1]-O.v[i+1][1]]),a.tLength+=T.segmentLength,a.segments.push(T),y+=T.segmentLength;i=o,v.v.c&&(T=bez.buildBezierData(O.v[i],O.v[0],[O.o[i][0]-O.v[i][0],O.o[i][1]-O.v[i][1]],[O.i[0][0]-O.v[0][0],O.i[0][1]-O.v[0][1]]),a.tLength+=T.segmentLength,a.segments.push(T),y+=T.segmentLength),this._pathData.pi=a}if(d=0,p=1,l=0,u=!0,m=(a=this._pathData.pi).segments,(s=this._pathData.f.v)<0&&v.v.c)for(a.tLength<Math.abs(s)&&(s=-Math.abs(s)%a.tLength),p=(f=m[d=m.length-1].points).length-1;s<0;)s+=f[p].partialLength,(p-=1)<0&&(p=(f=m[d-=1].points).length-1);h=(f=m[d].points)[p-1],g=(c=f[p]).partialLength}o=E.length,n=0,r=0;var A,P,L,k,I=1.2*t.finalSize*.714,D=!0;L=M.length;var N,R,z,F,j,B,q,V,Y,H,W,U,X,G=-1,J=s,$=d,K=p,Z=-1,Q="",tt=this.defaultPropsArray;if(2===t.j||1===t.j){var et=0,nt=0,rt=2===t.j?-.5:-1,it=0,ot=!0;for(i=0;i<o;i+=1)if(E[i].n){for(et&&(et+=nt);it<i;)E[it].animatorJustifyOffset=et,it+=1;et=0,ot=!0}else{for(P=0;P<L;P+=1)(A=M[P].a).t.propType&&(ot&&2===t.j&&(nt+=A.t.v*rt),et+=(N=M[P].s.getMult(E[i].anIndexes[P],x.a[P].s.totalChars)).length?A.t.v*N[0]*rt:A.t.v*N*rt);ot=!1}for(et&&(et+=nt);it<i;)E[it].animatorJustifyOffset=et,it+=1}for(i=0;i<o;i+=1){if(w.reset(),j=1,E[i].n)n=0,r+=t.yOffset,r+=D?1:0,s=J,D=!1,this._hasMaskedPath&&(h=(f=m[d=$].points)[(p=K)-1],g=(c=f[p]).partialLength,l=0),X=H=U=Q="",tt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==E[i].line){switch(t.j){case 1:s+=y-t.lineWidths[E[i].line];break;case 2:s+=(y-t.lineWidths[E[i].line])/2}Z=E[i].line}G!==E[i].ind&&(E[G]&&(s+=E[G].extra),s+=E[i].an/2,G=E[i].ind),s+=b[0]*E[i].an/200;var at=0;for(P=0;P<L;P+=1)(A=M[P].a).p.propType&&(at+=(N=M[P].s.getMult(E[i].anIndexes[P],x.a[P].s.totalChars)).length?A.p.v[0]*N[0]:A.p.v[0]*N),A.a.propType&&(at+=(N=M[P].s.getMult(E[i].anIndexes[P],x.a[P].s.totalChars)).length?A.a.v[0]*N[0]:A.a.v[0]*N);for(u=!0;u;)l+g>=s+at||!f?(z=h.point[0]+(c.point[0]-h.point[0])*(_=(s+at-l)/c.partialLength),F=h.point[1]+(c.point[1]-h.point[1])*_,w.translate(-b[0]*E[i].an/200,-b[1]*I/100),u=!1):f&&(l+=c.partialLength,(p+=1)>=f.length&&(p=0,m[d+=1]?f=m[d].points:v.v.c?(p=0,f=m[d=0].points):(l-=c.partialLength,f=null)),f&&(h=c,g=(c=f[p]).partialLength));w.translate(-(R=E[i].an/2-E[i].add),0,0)}else w.translate(-(R=E[i].an/2-E[i].add),0,0),w.translate(-b[0]*E[i].an/200,-b[1]*I/100,0);for(P=0;P<L;P+=1)(A=M[P].a).t.propType&&(N=M[P].s.getMult(E[i].anIndexes[P],x.a[P].s.totalChars),0===n&&0===t.j||(this._hasMaskedPath?s+=N.length?A.t.v*N[0]:A.t.v*N:n+=N.length?A.t.v*N[0]:A.t.v*N));for(t.strokeWidthAnim&&(q=t.sw||0),t.strokeColorAnim&&(B=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(V=[t.fc[0],t.fc[1],t.fc[2]]),P=0;P<L;P+=1)(A=M[P].a).a.propType&&((N=M[P].s.getMult(E[i].anIndexes[P],x.a[P].s.totalChars)).length?w.translate(-A.a.v[0]*N[0],-A.a.v[1]*N[1],A.a.v[2]*N[2]):w.translate(-A.a.v[0]*N,-A.a.v[1]*N,A.a.v[2]*N));for(P=0;P<L;P+=1)(A=M[P].a).s.propType&&((N=M[P].s.getMult(E[i].anIndexes[P],x.a[P].s.totalChars)).length?w.scale(1+(A.s.v[0]-1)*N[0],1+(A.s.v[1]-1)*N[1],1):w.scale(1+(A.s.v[0]-1)*N,1+(A.s.v[1]-1)*N,1));for(P=0;P<L;P+=1){if(A=M[P].a,N=M[P].s.getMult(E[i].anIndexes[P],x.a[P].s.totalChars),A.sk.propType&&(N.length?w.skewFromAxis(-A.sk.v*N[0],A.sa.v*N[1]):w.skewFromAxis(-A.sk.v*N,A.sa.v*N)),A.r.propType&&w.rotateZ(N.length?-A.r.v*N[2]:-A.r.v*N),A.ry.propType&&w.rotateY(N.length?A.ry.v*N[1]:A.ry.v*N),A.rx.propType&&w.rotateX(N.length?A.rx.v*N[0]:A.rx.v*N),A.o.propType&&(j+=N.length?(A.o.v*N[0]-j)*N[0]:(A.o.v*N-j)*N),t.strokeWidthAnim&&A.sw.propType&&(q+=N.length?A.sw.v*N[0]:A.sw.v*N),t.strokeColorAnim&&A.sc.propType)for(Y=0;Y<3;Y+=1)B[Y]=N.length?B[Y]+(A.sc.v[Y]-B[Y])*N[0]:B[Y]+(A.sc.v[Y]-B[Y])*N;if(t.fillColorAnim&&t.fc){if(A.fc.propType)for(Y=0;Y<3;Y+=1)V[Y]=N.length?V[Y]+(A.fc.v[Y]-V[Y])*N[0]:V[Y]+(A.fc.v[Y]-V[Y])*N;A.fh.propType&&(V=addHueToRGB(V,N.length?A.fh.v*N[0]:A.fh.v*N)),A.fs.propType&&(V=addSaturationToRGB(V,N.length?A.fs.v*N[0]:A.fs.v*N)),A.fb.propType&&(V=addBrightnessToRGB(V,N.length?A.fb.v*N[0]:A.fb.v*N))}}for(P=0;P<L;P+=1)(A=M[P].a).p.propType&&(N=M[P].s.getMult(E[i].anIndexes[P],x.a[P].s.totalChars),this._hasMaskedPath?N.length?w.translate(0,A.p.v[1]*N[0],-A.p.v[2]*N[1]):w.translate(0,A.p.v[1]*N,-A.p.v[2]*N):N.length?w.translate(A.p.v[0]*N[0],A.p.v[1]*N[1],-A.p.v[2]*N[2]):w.translate(A.p.v[0]*N,A.p.v[1]*N,-A.p.v[2]*N));if(t.strokeWidthAnim&&(H=q<0?0:q),t.strokeColorAnim&&(W="rgb("+Math.round(255*B[0])+","+Math.round(255*B[1])+","+Math.round(255*B[2])+")"),t.fillColorAnim&&t.fc&&(U="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),this._hasMaskedPath){if(w.translate(0,-t.ls),w.translate(0,b[1]*I/100+r,0),x.p.p){var st=180*Math.atan((c.point[1]-h.point[1])/(c.point[0]-h.point[0]))/Math.PI;c.point[0]<h.point[0]&&(st+=180),w.rotate(-st*Math.PI/180)}w.translate(z,F,0),s-=b[0]*E[i].an/200,E[i+1]&&G!==E[i+1].ind&&(s+=E[i].an/2,s+=t.tr/1e3*t.finalSize)}else{switch(w.translate(n,r,0),t.ps&&w.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:w.translate(E[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[E[i].line]),0,0);break;case 2:w.translate(E[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[E[i].line])/2,0,0)}w.translate(0,-t.ls),w.translate(R,0,0),w.translate(b[0]*E[i].an/200,b[1]*I/100,0),n+=E[i].l+t.tr/1e3*t.finalSize}"html"===C?Q=w.toCSS():"svg"===C?Q=w.to2dCSS():tt=[w.props[0],w.props[1],w.props[2],w.props[3],w.props[4],w.props[5],w.props[6],w.props[7],w.props[8],w.props[9],w.props[10],w.props[11],w.props[12],w.props[13],w.props[14],w.props[15]],X=j}S<=i?(k=new LetterProps(X,H,W,U,Q,tt),this.renderedLetters.push(k),S+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(k=this.renderedLetters[i]).update(X,H,W,U,Q,tt)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,n,r,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,a=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,a=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,a=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var r,i=this.effectsSequence.length,o=t||this.data.d.k[this.keysIndex].s;for(r=0;r<i;r+=1)o=this.effectsSequence[r](n!==this.keysIndex?o:this.currentData,o.t);e!==o&&this.setCurrentData(o),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,r=t.length;n<=r-1&&!(n===r-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,n=FontManager.getCombinedCharacterCodes(),r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i),-1!==n.indexOf(e)?r[r.length-1]+=t.charAt(i):e>=55296&&e<=56319&&(e=t.charCodeAt(i+1))>=56320&&e<=57343?(r.push(t.substr(i,2)),++i):r.push(t.charAt(i)),i+=1;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,n,r,i,o,a,s,c=this.elem.globalData.fontManager,l=this.data,u=[],p=0,d=l.m.g,h=0,f=0,m=0,g=[],y=0,_=0,v=c.getFontByName(t.f),b=0,M=v.fStyle?v.fStyle.split(" "):[],x="normal",w="normal";for(n=M.length,e=0;e<n;e+=1)switch(M[e].toLowerCase()){case"italic":w="italic";break;case"bold":x="700";break;case"black":x="900";break;case"medium":x="500";break;case"regular":case"normal":x="400";break;case"light":case"thin":x="200"}t.fWeight=v.fWeight||x,t.fStyle=w,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var C,S=t.tr/1e3*t.finalSize;if(t.sz)for(var E,T,O=!0,A=t.sz[0],P=t.sz[1];O;){E=0,y=0,n=(T=this.buildFinalText(t.t)).length,S=t.tr/1e3*t.finalSize;var L=-1;for(e=0;e<n;e+=1)C=T[e].charCodeAt(0),r=!1," "===T[e]?L=e:13!==C&&3!==C||(y=0,r=!0,E+=t.finalLineHeight||1.2*t.finalSize),c.chars?(s=c.getCharData(T[e],v.fStyle,v.fFamily),b=r?0:s.w*t.finalSize/100):b=c.measureText(T[e],t.f,t.finalSize),y+b>A&&" "!==T[e]?(-1===L?n+=1:e=L,E+=t.finalLineHeight||1.2*t.finalSize,T.splice(e,L===e?1:0,"\r"),L=-1,y=0):(y+=b,y+=S);E+=v.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&P<E?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=T,n=t.finalText.length,O=!1)}y=-S,b=0;var k,I=0;for(e=0;e<n;e+=1)if(r=!1,13===(C=(k=t.finalText[e]).charCodeAt(0))||3===C?(I=0,g.push(y),_=y>_?y:_,y=-2*S,i="",r=!0,m+=1):i=k,c.chars?(s=c.getCharData(k,v.fStyle,c.getFontByName(t.f).fFamily),b=r?0:s.w*t.finalSize/100):b=c.measureText(i,t.f,t.finalSize)," "===k?I+=b+S:(y+=b+S+I,I=0),u.push({l:b,an:b,add:h,n:r,anIndexes:[],val:i,line:m,animatorJustifyOffset:0}),2==d){if(h+=b,""===i||" "===i||e===n-1){for(""!==i&&" "!==i||(h-=b);f<=e;)u[f].an=h,u[f].ind=p,u[f].extra=b,f+=1;p+=1,h=0}}else if(3==d){if(h+=b,""===i||e===n-1){for(""===i&&(h-=b);f<=e;)u[f].an=h,u[f].ind=p,u[f].extra=b,f+=1;h=0,p+=1}}else u[p].ind=p,u[p].extra=0,p+=1;if(t.l=u,_=y>_?y:_,g.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=_,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var D,N,R=l.a;a=R.length;var z,F,j=[];for(o=0;o<a;o+=1){for((D=R[o]).a.sc&&(t.strokeColorAnim=!0),D.a.sw&&(t.strokeWidthAnim=!0),(D.a.fc||D.a.fh||D.a.fs||D.a.fb)&&(t.fillColorAnim=!0),F=0,z=D.s.b,e=0;e<n;e+=1)(N=u[e]).anIndexes[o]=F,(1==z&&""!==N.val||2==z&&""!==N.val&&" "!==N.val||3==z&&(N.n||" "==N.val||e==n-1)||4==z&&(N.n||e==n-1))&&(1===D.s.rn&&j.push(F),F+=1);l.a[o].s.totalChars=F;var B,q=-1;if(1===D.s.rn)for(e=0;e<n;e+=1)q!=(N=u[e]).anIndexes[o]&&(q=N.anIndexes[o],B=j.splice(Math.floor(Math.random()*j.length),1)[0]),N.anIndexes[o]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=v.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){var n=this.copyData({},this.data.d.k[e=void 0===e?this.keysIndex:e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function r(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,o=0,a=1,s=1;this.ne.v>0?i=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:s=1+this.xe.v/100;var c=BezierFactory.getBezierEasing(i,o,a,s).get,l=0,u=this.finalS,p=this.finalE,d=this.data.sh;if(2===d)l=c(l=p===u?r>=p?1:0:t(0,e(.5/(p-u)+(r-u)/(p-u),1)));else if(3===d)l=c(l=p===u?r>=p?0:1:1-t(0,e(.5/(p-u)+(r-u)/(p-u),1)));else if(4===d)p===u?l=0:(l=t(0,e(.5/(p-u)+(r-u)/(p-u),1)))<.5?l*=2:l=1-2*(l-.5),l=c(l);else if(5===d){if(p===u)l=0;else{var h=p-u,f=-h/2+(r=e(t(0,r+.5-u),p-u)),m=h/2;l=Math.sqrt(1-f*f/(m*m))}l=c(l)}else 6===d?(p===u?l=0:(r=e(t(0,r+.5-u),p-u),l=(1+Math.cos(Math.PI+2*Math.PI*r/(p-u)))/2),l=c(l)):(r>=n(u)&&(l=t(0,e(r-u<0?e(p,1)-(u-r):p-r,1))),l=c(l));return l*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/e,r=this.s.v/e+n,i=this.e.v/e+n;if(r>i){var o=r;r=i,i=o}this.finalS=r,this.finalE=i}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(t,e,n){return new r(t,e,n)}}}(),pool_factory=function(t,e,n,r){var i=0,o=t,a=createSizedArray(o);return{newElement:function(){return i?a[i-=1]:e()},release:function(t){i===o&&(a=pooling.double(a),o*=2),n&&n(t),a[i]=t,i+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},point_pool=pool_factory(8,(function(){return createTypedArray("float32",2)})),shape_pool=(factory=pool_factory(4,(function(){return new ShapePath}),(function(t){var e,n=t._length;for(e=0;e<n;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,n=factory.newElement(),r=void 0===t._length?t.v.length:t._length;for(n.setLength(r),n.c=t.c,e=0;e<r;e+=1)n.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return n},factory),factory,shapeCollection_pool=function(){var t={newShapeCollection:function(){return e?r[e-=1]:new ShapeCollection},release:function(t){var i,o=t._length;for(i=0;i<o;i+=1)shape_pool.release(t.shapes[i]);t._length=0,e===n&&(r=pooling.double(r),n*=2),r[e]=t,e+=1}},e=0,n=4,r=createSizedArray(n);return t}(),segments_length_pool=pool_factory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezier_length_pool.release(t.lengths[e]);t.lengths.length=0})),bezier_length_pool=pool_factory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}));function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var r=createNS("title"),i=createElementID();r.setAttribute("id",i),r.textContent=e.title,this.svgElement.appendChild(r),n+=i}if(e&&e.description){var o=createNS("desc"),a=createElementID();o.setAttribute("id",a),o.textContent=e.description,this.svgElement.appendChild(o),n+=" "+a}n&&this.svgElement.setAttribute("aria-labelledby",n);var s=createNS("defs");this.svgElement.appendChild(s);var c=createNS("g");this.svgElement.appendChild(c),this.layerElement=c,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!e||!1!==e.hideOnTransparent,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,i=this.globalData.defs,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var a,s,c,l,u,p,d,h=this.masksProperties,f=0,m=[],g=createElementID(),y="clipPath",_="clip-path";for(r=0;r<o;r++)if(("a"!==h[r].mode&&"n"!==h[r].mode||h[r].inv||100!==h[r].o.k||h[r].o.x)&&(y="mask",_="mask"),"s"!=h[r].mode&&"i"!=h[r].mode||0!==f?l=null:((l=createNS("rect")).setAttribute("fill","#ffffff"),l.setAttribute("width",this.element.comp.data.w||0),l.setAttribute("height",this.element.comp.data.h||0),m.push(l)),a=createNS("path"),"n"!=h[r].mode){var v;if(f+=1,a.setAttribute("fill","s"===h[r].mode?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero"),0!==h[r].x.k?(y="mask",_="mask",d=PropertyFactory.getProp(this.element,h[r].x,0,null,this.element),v=createElementID(),(u=createNS("filter")).setAttribute("id",v),(p=createNS("feMorphology")).setAttribute("operator","erode"),p.setAttribute("in","SourceGraphic"),p.setAttribute("radius","0"),u.appendChild(p),i.appendChild(u),a.setAttribute("stroke","s"===h[r].mode?"#000000":"#ffffff")):(p=null,d=null),this.storedData[r]={elem:a,x:d,expan:p,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"==h[r].mode){c=m.length;var b=createNS("g");for(s=0;s<c;s+=1)b.appendChild(m[s]);var M=createNS("mask");M.setAttribute("mask-type","alpha"),M.setAttribute("id",g+"_"+f),M.appendChild(a),i.appendChild(M),b.setAttribute("mask","url("+locationHref+"#"+g+"_"+f+")"),m.length=0,m.push(b)}else m.push(a);h[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,h[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,h[r],3),invRect:l},this.viewData[r].prop.k||this.drawPath(h[r],this.viewData[r].prop.v,this.viewData[r])}else this.viewData[r]={op:PropertyFactory.getProp(this.element,h[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,h[r],3),elem:a,lastPath:""},i.appendChild(a);for(this.maskElement=createNS(y),o=m.length,r=0;r<o;r+=1)this.maskElement.appendChild(m[r]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(_,"url("+locationHref+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var r=0,i=t.length;r<i;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,n,r=this.layers.length;for(this.completeLayers=!0,e=r-1;e>=0;e--)this.elements[e]||(n=this.layers[e]).ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,n,r=t.length,i=this.layers.length;for(e=0;e<r;e+=1)for(n=0;n<i;){if(this.layers[n].id==t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var r=this.elements,i=this.layers,o=0,a=i.length;o<a;)i[o].ind==e&&(r[o]&&!0!==r[o]?(n.push(r[o]),r[o].setAsParent(),void 0!==i[o].parent?this.buildElementParenting(t,i[o].parent,n):t.setHierarchy(n)):(this.buildItem(o),this.addPendingElement(t))),o+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var i=createElementID();n.setAttribute("id",i),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+i+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var n=this.createItem(this.layers[t]);e[t]=n,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?n.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(n)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var r,i=0;i<e;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(n,r):this.layerElement.appendChild(n)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var n=this.contextData.cTr.props;this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n,r=this.contextData.saved[this.contextData.cArrPos];for(n=0;n<16;n+=1)r[n]=e[n];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,n=this.contextData.saved[this.contextData.cArrPos],r=this.contextData.cTr.props;for(e=0;e<16;e+=1)r[e]=n[e];this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),this.contextData.cO=n=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==n&&(this.canvasContext.globalAlpha=n,this.globalData.currentGlobalAlpha=n)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,n,r;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(t=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),o=i[1]||"meet",a=i[0]||"xMidYMid",s=a.substr(0,4),c=a.substr(4);(r=this.transformCanvas.w/this.transformCanvas.h)>(n=t/e)&&"meet"===o||r<n&&"slice"===o?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===s&&(r<n&&"meet"===o||r>n&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===s&&(r<n&&"meet"===o||r>n&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===c&&(r>n&&"meet"===o||r<n&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===c&&(r>n&&"meet"===o||r<n&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=0;n<r;n++)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var r=this.layers[e];if(r.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var i,o,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(o=this.elements[a],i=(this.layers[a].ddd?this.getThreeDContainerByPos(a):o.getBaseElement())||i),a+=1;i?r.ddd&&this.supports3d||this.layerElement.insertBefore(n,i):r.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t,e){var n=createTag("div");styleDiv(n);var r=createTag("div");styleDiv(r),"3d"===e&&(n.style.width=this.globalData.compSize.w+"px",n.style.height=this.globalData.compSize.h+"px",n.style.transformOrigin=n.style.mozTransformOrigin=n.style.webkitTransformOrigin="50% 50%",r.style.transform=r.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),n.appendChild(r);var i={container:r,perspectiveElem:n,startPos:t,endPos:t,type:e};return this.threeDElements.push(i),i},HybridRenderer.prototype.build3dContainers=function(){var t,e,n=this.layers.length,r="";for(t=0;t<n;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==r&&(r="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==r&&(r="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(n=this.threeDElements.length)-1;t>=0;t--)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var n=0,r=this.threeDElements.length;n<r;){if(e<=this.threeDElements[n].endPos){for(var i,o=this.threeDElements[n].startPos;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(i=this.elements[o].getBaseElement()),o+=1;i?this.threeDElements[n].container.insertBefore(t,i):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),e.style.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var i=createNS("defs");r.appendChild(i),this.data=t,this.setupGlobalData(t,r),this.globalData.defs=i,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,n,r,i=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>i/o?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,n=0,r=(o-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=o/this.globalData.compSize.h,e=o/this.globalData.compSize.h,n=(i-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,r=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+r+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,r=this.threeDElements.length;for(t=0;t<r;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length,r=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,r=this.masksProperties.length;for(e=0;e<r;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var i=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),i.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,n){var r,i,o=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,r=1;r<i;r+=1)o+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[r][0]+","+e.i[r][1]+" "+e.v[r][0]+","+e.v[r][1];if(e.c&&i>1&&(o+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==o){var a="";n.elem&&(e.c&&(a=t.inv?this.solidPath+o:o),n.elem.setAttribute("d",a)),n.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(e||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<r;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(e.cloneFromProps(t=this.finalTransform.mProp.v.props),n=0;n<r;n+=1)e.transform((t=this.hierarchy[n].finalTransform.mProp.v.props)[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var n=!0,r=this.comp;n;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):n=!1;var i,o,a=e.length;for(i=0;i<a;i+=1)o=e[i].mat.applyToPointArray(0,0,0),t=[t[0]-o[0],t[1]-o[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),r=createNS(1===e.t?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var i,o,a,s=[];for(a=4*e.g.p,o=0;o<a;o+=4)i=createNS("stop"),r.appendChild(i),s.push(i);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+n+")"),this.gf=r,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,i,o=createNS("mask"),a=createNS("path");o.appendChild(a);var s=createElementID(),c=createElementID();o.setAttribute("id",c);var l=createNS(1===t.t?"linearGradient":"radialGradient");l.setAttribute("id",s),l.setAttribute("spreadMethod","pad"),l.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var u=this.stops;for(r=4*t.g.p;r<i;r+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),l.appendChild(n),u.push(n);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=l,this.ms=o,this.ost=u,this.maskId=c,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function n(t,e,n){(n||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(n||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function r(n,r,i){var o,a,s,c,l,u,p,d,h,f,m,g=r.styles.length,y=r.lvl;for(u=0;u<g;u+=1){if(c=r.sh._mdf||i,r.styles[u].lvl<y){for(d=e.reset(),f=y-r.styles[u].lvl,m=r.transformers.length-1;!c&&f>0;)c=r.transformers[m].mProps._mdf||c,f--,m--;if(c)for(f=y-r.styles[u].lvl,m=r.transformers.length-1;f>0;)d.transform((h=r.transformers[m].mProps.v.props)[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),f--,m--}else d=t;if(a=(p=r.sh.paths)._length,c){for(s="",o=0;o<a;o+=1)(l=p.shapes[o])&&l._length&&(s+=buildShapeString(l,l._length,l.c,d));r.caches[u]=s}else s=r.caches[u];r.styles[u].d+=!0===n.hd?"":s,r.styles[u]._mdf=c||r.styles[u]._mdf}}function i(t,e,n){var r=e.style;(e.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function o(t,e,n){a(t,e,n),s(0,e,n)}function a(t,e,n){var r,i,o,a,s,c=e.gf,l=e.g._hasOpacity,u=e.s.v,p=e.e.v;if((e.o._mdf||n)&&e.style.pElem.setAttribute("gf"===t.ty?"fill-opacity":"stroke-opacity",e.o.v),e.s._mdf||n){var d=1===t.t?"x1":"cx",h="x1"===d?"y1":"cy";c.setAttribute(d,u[0]),c.setAttribute(h,u[1]),l&&!e.g._collapsable&&(e.of.setAttribute(d,u[0]),e.of.setAttribute(h,u[1]))}if(e.g._cmdf||n){var f=e.g.c;for(o=(r=e.cst).length,i=0;i<o;i+=1)(a=r[i]).setAttribute("offset",f[4*i]+"%"),a.setAttribute("stop-color","rgb("+f[4*i+1]+","+f[4*i+2]+","+f[4*i+3]+")")}if(l&&(e.g._omdf||n)){var m=e.g.o;for(o=(r=e.g._collapsable?e.cst:e.ost).length,i=0;i<o;i+=1)a=r[i],e.g._collapsable||a.setAttribute("offset",m[2*i]+"%"),a.setAttribute("stop-opacity",m[2*i+1])}if(1===t.t)(e.e._mdf||n)&&(c.setAttribute("x2",p[0]),c.setAttribute("y2",p[1]),l&&!e.g._collapsable&&(e.of.setAttribute("x2",p[0]),e.of.setAttribute("y2",p[1])));else if((e.s._mdf||e.e._mdf||n)&&(s=Math.sqrt(Math.pow(u[0]-p[0],2)+Math.pow(u[1]-p[1],2)),c.setAttribute("r",s),l&&!e.g._collapsable&&e.of.setAttribute("r",s)),e.e._mdf||e.h._mdf||e.a._mdf||n){s||(s=Math.sqrt(Math.pow(u[0]-p[0],2)+Math.pow(u[1]-p[1],2)));var g=Math.atan2(p[1]-u[1],p[0]-u[0]),y=s*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),_=Math.cos(g+e.a.v)*y+u[0],v=Math.sin(g+e.a.v)*y+u[1];c.setAttribute("fx",_),c.setAttribute("fy",v),l&&!e.g._collapsable&&(e.of.setAttribute("fx",_),e.of.setAttribute("fy",v))}}function s(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||n)&&i.dashStr&&(r.pElem.setAttribute("stroke-dasharray",i.dashStr),r.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),e.c&&(e.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return i;case"gf":return a;case"gs":return o;case"st":return s;case"sh":case"el":case"rc":case"sr":return r;case"tr":return n}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i=4;"rc"==e.ty?i=5:"el"==e.ty?i=6:"sr"==e.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,i,t);var o,a,s=n.length;for(o=0;o<s;o+=1)n[o].closed||(a={transforms:r.addTransformSequence(n[o].transforms),trNodes:[]},this.styledShapes.push(a),n[o].elements.push(a))}function BaseElement(){}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,n){this.initElement(t,e,n)}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var n=createNS("feColorMatrix");if(n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),t.appendChild(n),(n=createNS("feColorMatrix")).setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result","f2"),t.appendChild(n),this.matrixFilter=n,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var r,i=createNS("feMerge");t.appendChild(i),(r=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),i.appendChild(r),(r=createNS("feMergeNode")).setAttribute("in","f2"),i.appendChild(r)}}function SVGFillFilter(t,e){this.filterManager=e;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(n),this.matrixFilter=n}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var n=createNS("feGaussianBlur");t.appendChild(n),this.feGaussianBlur=n}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),t.appendChild(n);var r=createNS("feComponentTransfer");r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.matrixFilter=r;var i=createNS("feFuncR");i.setAttribute("type","table"),r.appendChild(i),this.feFuncR=i;var o=createNS("feFuncG");o.setAttribute("type","table"),r.appendChild(o),this.feFuncG=o;var a=createNS("feFuncB");a.setAttribute("type","table"),r.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(t,e){this.filterManager=e;var n=this.filterManager.effectElements,r=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",r)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",r)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",r)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",r)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),r=createNS("feComponentTransfer")),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.feFuncRComposed=this.createFeFunc("feFuncR",r),this.feFuncGComposed=this.createFeFunc("feFuncG",r),this.feFuncBComposed=this.createFeFunc("feFuncB",r))}function SVGDropShadowEffect(t,e){var n=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",n.x),t.setAttribute("y",n.y),t.setAttribute("width",n.width),t.setAttribute("height",n.height),this.filterManager=e;var r=createNS("feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,t.appendChild(r);var i=createNS("feOffset");i.setAttribute("dx","25"),i.setAttribute("dy","0"),i.setAttribute("in","drop_shadow_1"),i.setAttribute("result","drop_shadow_2"),this.feOffset=i,t.appendChild(i);var o=createNS("feFlood");o.setAttribute("flood-color","#00ff00"),o.setAttribute("flood-opacity","1"),o.setAttribute("result","drop_shadow_3"),this.feFlood=o,t.appendChild(o);var a=createNS("feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),t.appendChild(a);var s,c=createNS("feMerge");t.appendChild(c),s=createNS("feMergeNode"),c.appendChild(s),(s=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=s,this.feMerge=c,this.originalNodeAdded=!1,c.appendChild(s)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,r="_";for(e=0;e<n;e+=1)r+=t[e].transform.key+"_";var i=this.sequences[r];return i||(i={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=i,this.sequenceList.push(i)),i},processSequence:function(t,e){for(var n,r=0,i=t.transforms.length,o=e;r<i&&!e;){if(t.transforms[r].transform.mProps._mdf){o=!0;break}r+=1}if(o)for(t.finalTransform.reset(),r=i-1;r>=0;r-=1)t.finalTransform.transform((n=t.transforms[r].transform.mProps.v.props)[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);t._mdf=o},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,n,r=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var i=createNS("mask");i.setAttribute("id",this.layerId),i.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),i.appendChild(this.layerElement),r=i,this.globalData.defs.appendChild(i),featureSupport.maskType||1!=this.data.td||(i.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(this.layerElement),r=n,i.appendChild(n),n.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var o=createNS("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type","alpha");var a=createNS("g");o.appendChild(a),t=createElementID(),e=filtersFactory.createFilter(t);var s=createNS("feComponentTransfer");s.setAttribute("in","SourceGraphic"),e.appendChild(s);var c=createNS("feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","1.0 0.0"),s.appendChild(c),this.globalData.defs.appendChild(e);var l=createNS("rect");l.setAttribute("width",this.comp.data.w),l.setAttribute("height",this.comp.data.h),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("fill","#ffffff"),l.setAttribute("opacity","0"),a.setAttribute("filter","url("+locationHref+"#"+t+")"),a.appendChild(l),a.appendChild(this.layerElement),r=a,featureSupport.maskType||(o.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),a.appendChild(l),n.appendChild(this.layerElement),r=n,a.appendChild(n)),this.globalData.defs.appendChild(o)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),r=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),p=createNS("path");p.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=createElementID();if(u.setAttribute("id",d),u.appendChild(p),this.globalData.defs.appendChild(u),this.checkMasks()){var h=createNS("g");h.setAttribute("clip-path","url("+locationHref+"#"+d+")"),h.appendChild(this.layerElement),this.transformedElement=h,r?r.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,r=e.length;n<r;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,r=n.length;r;)if(n[r-=1].elem===t)return void(n[r].pos=e);n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var n,r,i=e.length,o="";for(n=0;n<i;n+=1)o+=buildShapeString(r=e[n].ks.k,r.i.length,!0,t);return o},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,r,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0)}e.translate(r,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,r=[],i="";e<n;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(r.push(i),i=""):i+=t[e],e+=1;return r.push(i),r},SVGTextElement.prototype.buildNewText=function(){var t,e,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),this.layerElement.setAttribute("fill",n.fc?this.buildColor(n.fc):"rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var i=n.fWeight;this.layerElement.setAttribute("font-style",n.fStyle),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",n.t);var o,a=n.l||[],s=!!this.globalData.fontManager.chars;e=a.length;var c,l=this.mHelper,u="",p=this.data.singleShape,d=0,h=0,f=!0,m=n.tr/1e3*n.finalSize;if(!p||s||n.sz){var g,y,_=this.textSpans.length;for(t=0;t<e;t+=1)s&&p&&0!==t||(o=_>t?this.textSpans[t]:createNS(s?"path":"text"),_<=t&&(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=o,this.layerElement.appendChild(o)),o.style.display="inherit"),l.reset(),l.scale(n.finalSize/100,n.finalSize/100),p&&(a[t].n&&(d=-m,h+=n.yOffset,h+=f?1:0,f=!1),this.applyTextPropertiesToMatrix(n,l,a[t].line,d,h),d+=a[t].l||0,d+=m),s?(c=(g=(y=this.globalData.fontManager.getCharData(n.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily))&&y.data||{}).shapes?g.shapes[0].it:[],p?u+=this.createPathShape(l,c):o.setAttribute("d",this.createPathShape(l,c))):(p&&o.setAttribute("transform","translate("+l.props[12]+","+l.props[13]+")"),o.textContent=a[t].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));p&&o&&o.setAttribute("d",u)}else{var v=this.textContainer,b="start";switch(n.j){case 1:b="end";break;case 2:b="middle"}v.setAttribute("text-anchor",b),v.setAttribute("letter-spacing",m);var M=this.buildTextContents(n.finalText);for(e=M.length,h=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)(o=this.textSpans[t]||createNS("tspan")).textContent=M[t],o.setAttribute("x",0),o.setAttribute("y",h),o.style.display="inherit",v.appendChild(o),this.textSpans[t]=o,h+=n.finalLineHeight;this.layerElement.appendChild(v)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var n,r,i=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(e=o.length,t=0;t<e;t+=1)o[t].n||(r=this.textSpans[t],(n=i[t])._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,r,i=this.shapes.length,o=this.stylesList.length,a=[],s=!1;for(n=0;n<o;n+=1){for(r=this.stylesList[n],s=!1,a.length=0,t=0;t<i;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(r)&&(a.push(e),s=e._isAnimated||s);a.length>1&&s&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,r=new SVGStyleData(t,e),i=r.pElem;return"st"===t.ty?n=new SVGStrokeStyleData(this,t,r):"fl"===t.ty?n=new SVGFillStyleData(this,t,r):"gf"!==t.ty&&"gs"!==t.ty||(n=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),i.setAttribute("mask","url("+locationHref+"#"+n.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(i.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),i.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),i.setAttribute("fill-opacity","0"),1===t.lj&&i.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);var i=new SVGShapeData(e,n,ShapePropertyFactory.getShapeProp(this,t,r,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,r,i,o,a){var s,c,l,u,p,d=[].concat(o),h=t.length-1,f=[],m=[];for(s=h;s>=0;s-=1){if((p=this.searchProcessedElement(t[s]))?e[s]=n[p-1]:t[s]._render=a,"fl"==t[s].ty||"st"==t[s].ty||"gf"==t[s].ty||"gs"==t[s].ty)p?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],i),t[s]._render&&r.appendChild(e[s].style.pElem),f.push(e[s].style);else if("gr"==t[s].ty){if(p)for(l=e[s].it.length,c=0;c<l;c+=1)e[s].prevViewData[c]=e[s].it[c];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,e[s].gr,i+1,d,a),t[s]._render&&r.appendChild(e[s].gr)}else"tr"==t[s].ty?(p||(e[s]=this.createTransformElement(t[s],r)),d.push(e[s].transform)):"sh"==t[s].ty||"rc"==t[s].ty||"el"==t[s].ty||"sr"==t[s].ty?(p||(e[s]=this.createShapeElement(t[s],d,i)),this.setElementStyles(e[s])):"tm"==t[s].ty||"rd"==t[s].ty||"ms"==t[s].ty?(p?(u=e[s]).closed=!1:((u=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=u,this.shapeModifiers.push(u)),m.push(u)):"rp"==t[s].ty&&(p?(u=e[s]).closed=!0:(u=ShapeModifiers.getModifier(t[s].ty),e[s]=u,u.init(this,t,s,e),this.shapeModifiers.push(u),a=!1),m.push(u));this.addProcessedElement(t[s],s+1)}for(h=f.length,s=0;s<h;s+=1)f[s].closed=!0;for(h=m.length,s=0;s<h;s+=1)m[s].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==n?0:e)+" "+(2==n?0:e)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,r,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,n=0):r=1+(n=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);n<r;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),a=createElementID();o.setAttribute("id",a),o.setAttribute("mask-type","alpha"),o.appendChild(e),this.elem.globalData.defs.appendChild(o);var s=createNS("g");for(s.setAttribute("mask","url("+locationHref+"#"+a+")");i[0];)s.appendChild(i[0]);this.elem.layerElement.appendChild(s),this.masker=o,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,n,r,i=this.paths.length;for(e=0;e<i;e+=1)if(-1!==this.paths[e].m&&(n=this.elem.maskManager.viewData[this.paths[e].m],r=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&r.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,s=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,c=r.getTotalLength();o="0 0 0 "+c*a+" ";var l,u=Math.floor(c*(s-a)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100));for(l=0;l<u;l+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";o+="0 "+10*c+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;r.setAttribute("stroke-dasharray",o)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*p[0])+","+bm_floor(255*p[1])+","+bm_floor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,i=r[1]+" "+n[1]+" "+e[1],o=r[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",r[0]+" "+n[0]+" "+e[0]),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,r,i){for(var o,a,s=0,c=Math.min(t,e),l=Math.max(t,e),u=Array.call(null,{length:256}),p=0,d=i-r,h=e-t;s<=256;)a=(o=s/256)<=c?h<0?i:r:o>=l?h<0?r:i:r+d*Math.pow((o-t)/h,1/n),u[p++]=a,s+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=n*Math.cos(r),o=n*Math.sin(r);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGEffects(t){var e,n,r=t.data.ef?t.data.ef.length:0,i=createElementID(),o=filtersFactory.createFilter(i),a=0;for(this.filters=[],e=0;e<r;e+=1)n=null,20===t.data.ef[e].ty?(a+=1,n=new SVGTintFilter(o,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(a+=1,n=new SVGFillFilter(o,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?n=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(a+=1,n=new SVGTritoneFilter(o,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(a+=1,n=new SVGProLevelsFilter(o,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(a+=1,n=new SVGDropShadowEffect(o,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?n=new SVGMatte3Effect(o,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(a+=1,n=new SVGGaussianBlurEffect(o,t.effectsManager.effectElements[e])),n&&this.filters.push(n);a&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+locationHref+"#"+i+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getImage(this.assetData),this.initElement(t,e,n)}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,r=this.masksProperties.length,i=!1;for(n=0;n<r;n++)"n"!==this.masksProperties[n].mode&&(i=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVEffects(){}function HBaseElement(t,e,n){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,o=t.ks.or.k.length;for(i=0;i<o;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var r,i=n.children,o=0,a=i.length;o<a&&i[o]!==t.layerElement;)o+=1;o<=a-2&&(r=i[o+1]);var s=createNS("use");s.setAttribute("href","#"+e),r?n.insertBefore(s,r):n.appendChild(s)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(r);var o=createNS("symbol");o.setAttribute("id",n),this.replaceInParent(e,n),o.appendChild(e.layerElement),i.appendChild(o);var a=createNS("use");a.setAttribute("href","#"+n),r.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,r=e.length;n<r;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var n=0;for(n=this._length;n<t;n+=1)this.saved[n]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,n,r=t.getContext("2d"),i=this.img.width,o=this.img.height,a=i/o,s=this.assetData.w/this.assetData.h,c=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>s&&"xMidYMid slice"===c||a<s&&"xMidYMid slice"!==c?e=(n=o)*s:n=(e=i)/s,r.drawImage(this.img,(i-e)/2,(o-n)/2,e,n,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(t){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,n,r,i=this.element.finalTransform.mat,o=this.element.canvasContext,a=this.masksProperties.length;for(o.beginPath(),t=0;t<a;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),e=i.applyToPointArray((r=this.viewData[t].v).v[0][0],r.v[0][1],0),o.moveTo(e[0],e[1]);var s,c=r._length;for(s=1;s<c;s++)n=i.applyToTriplePoints(r.o[s-1],r.i[s],r.v[s]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=i.applyToTriplePoints(r.o[s-1],r.i[0],r.v[0]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},r={};if("fl"==t.ty||"st"==t.ty?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(n.co="rgb("+bm_floor(r.c.v[0])+","+bm_floor(r.c.v[1])+","+bm_floor(r.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"==t.ty||"gs"==t.ty){if(n.lc=this.lcEnum[t.lc]||"round",n.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(n.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(n.wi=r.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);r.d=i,r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0])}}else n.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,r,i){var o,a,s,c,l,u,p=t.length-1,d=[],h=[],f=[].concat(i);for(o=p;o>=0;o-=1){if((c=this.searchProcessedElement(t[o]))?e[o]=n[c-1]:t[o]._shouldRender=r,"fl"==t[o].ty||"st"==t[o].ty||"gf"==t[o].ty||"gs"==t[o].ty)c?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],f),d.push(e[o].style);else if("gr"==t[o].ty){if(c)for(s=e[o].it.length,a=0;a<s;a+=1)e[o].prevViewData[a]=e[o].it[a];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,r,f)}else"tr"==t[o].ty?(c||(u=this.createTransformElement(t[o]),e[o]=u),f.push(e[o]),this.addTransformToStyleList(e[o])):"sh"==t[o].ty||"rc"==t[o].ty||"el"==t[o].ty||"sr"==t[o].ty?c||(e[o]=this.createShapeElement(t[o])):"tm"==t[o].ty||"rd"==t[o].ty?(c?(l=e[o]).closed=!1:((l=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=l,this.shapeModifiers.push(l)),h.push(l)):"rp"==t[o].ty&&(c?(l=e[o]).closed=!0:(l=ShapeModifiers.getModifier(t[o].ty),e[o]=l,l.init(this,t,o,e),this.shapeModifiers.push(l),r=!1),h.push(l));this.addProcessedElement(t[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),p=h.length,o=0;o<p;o+=1)h[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,r,i,o,a,s,c,l=this.stylesList.length,u=this.globalData.renderer,p=this.globalData.canvasContext;for(t=0;t<l;t+=1)if(("st"!==(s=(c=this.stylesList[t]).type)&&"gs"!==s||0!==c.wi)&&c.data._shouldRender&&0!==c.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),o=c.elements,"st"===s||"gs"===s?(p.strokeStyle="st"===s?c.co:c.grd,p.lineWidth=c.wi,p.lineCap=c.lc,p.lineJoin=c.lj,p.miterLimit=c.ml||0):p.fillStyle="fl"===s?c.co:c.grd,u.ctxOpacity(c.coOp),"st"!==s&&"gs"!==s&&p.beginPath(),u.ctxTransform(c.preTransforms.finalTransform.props),n=o.length,e=0;e<n;e+=1){for("st"!==s&&"gs"!==s||(p.beginPath(),c.da&&(p.setLineDash(c.da),p.lineDashOffset=c.do)),i=(a=o[e].trNodes).length,r=0;r<i;r+=1)"m"==a[r].t?p.moveTo(a[r].p[0],a[r].p[1]):"c"==a[r].t?p.bezierCurveTo(a[r].pts[0],a[r].pts[1],a[r].pts[2],a[r].pts[3],a[r].pts[4],a[r].pts[5]):p.closePath();"st"!==s&&"gs"!==s||(p.stroke(),c.da&&p.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&p.fill(c.r),u.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,r){var i,o;for(o=t,i=e.length-1;i>=0;i-=1)"tr"==e[i].ty?this.renderShapeTransform(t,o=n[i].transform):"sh"==e[i].ty||"el"==e[i].ty||"rc"==e[i].ty||"sr"==e[i].ty?this.renderPath(e[i],n[i]):"fl"==e[i].ty?this.renderFill(e[i],n[i],o):"st"==e[i].ty?this.renderStroke(e[i],n[i],o):"gf"==e[i].ty||"gs"==e[i].ty?this.renderGradientFill(e[i],n[i],o):"gr"==e[i].ty&&this.renderShape(o,e[i].it,n[i].it);r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,r,i,o=t.trNodes,a=e.paths,s=a._length;o.length=0;var c=t.transforms.finalTransform;for(i=0;i<s;i+=1){var l=a.shapes[i];if(l&&l.v){for(r=l._length,n=1;n<r;n+=1)1===n&&o.push({t:"m",p:c.applyToPointArray(l.v[0][0],l.v[0][1],0)}),o.push({t:"c",pts:c.applyToTriplePoints(l.o[n-1],l.i[n],l.v[n])});1===r&&o.push({t:"m",p:c.applyToPointArray(l.v[0][0],l.v[0][1],0)}),l.c&&r&&(o.push({t:"c",pts:c.applyToTriplePoints(l.o[n-1],l.i[0],l.v[0])}),o.push({t:"z"}))}}t.trNodes=o}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var n,r=e.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var r=e.style;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var i=this.globalData.canvasContext,o=e.s.v,a=e.e.v;if(1===t.t)d=i.createLinearGradient(o[0],o[1],a[0],a[1]);else var s=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)),c=Math.atan2(a[1]-o[1],a[0]-o[0]),l=s*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),u=Math.cos(c+e.a.v)*l+o[0],p=Math.sin(c+e.a.v)*l+o[1],d=i.createRadialGradient(u,p,0,o[0],o[1],s);var h,f=t.g.p,m=e.g.c,g=1;for(h=0;h<f;h+=1)e.g._hasOpacity&&e.g._collapsable&&(g=e.g.o[2*h+1]),d.addColorStop(m[4*h]/100,"rgba("+m[4*h+1]+","+m[4*h+2]+","+m[4*h+3]+","+g+")");r.grd=d}r.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(r.da=i.dashArray,r.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var r,i,o=this.globalData.fontManager.getFontByName(t.f),a=t.l,s=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.finalText.length;var c,l,u,p,d,h,f,m,g,y,_=this.data.singleShape,v=t.tr/1e3*t.finalSize,b=0,M=0,x=!0,w=0;for(r=0;r<i;r+=1){for(l=(c=this.globalData.fontManager.getCharData(t.finalText[r],o.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&c.data||{},s.reset(),_&&a[r].n&&(b=-v,M+=t.yOffset,M+=x?1:0,x=!1),f=(d=l.shapes?l.shapes[0].it:[]).length,s.scale(t.finalSize/100,t.finalSize/100),_&&this.applyTextPropertiesToMatrix(t,s,a[r].line,b,M),g=createSizedArray(f),h=0;h<f;h+=1){for(p=d[h].ks.k.i.length,m=d[h].ks.k,y=[],u=1;u<p;u+=1)1==u&&y.push(s.applyToX(m.v[0][0],m.v[0][1],0),s.applyToY(m.v[0][0],m.v[0][1],0)),y.push(s.applyToX(m.o[u-1][0],m.o[u-1][1],0),s.applyToY(m.o[u-1][0],m.o[u-1][1],0),s.applyToX(m.i[u][0],m.i[u][1],0),s.applyToY(m.i[u][0],m.i[u][1],0),s.applyToX(m.v[u][0],m.v[u][1],0),s.applyToY(m.v[u][0],m.v[u][1],0));y.push(s.applyToX(m.o[u-1][0],m.o[u-1][1],0),s.applyToY(m.o[u-1][0],m.o[u-1][1],0),s.applyToX(m.i[0][0],m.i[0][1],0),s.applyToY(m.i[0][0],m.i[0][1],0),s.applyToX(m.v[0][0],m.v[0][1],0),s.applyToY(m.v[0][0],m.v[0][1],0)),g[h]=y}_&&(b+=a[r].l,b+=v),this.textSpans[w]?this.textSpans[w].elem=g:this.textSpans[w]={elem:g},w+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,n,r,i,o,a=this.canvasContext;a.font=this.values.fValue,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,c=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var u,p,d=null,h=null,f=null;for(t=0;t<e;t+=1)if(!l[t].n){if((s=c[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s.p),this.globalData.renderer.ctxOpacity(s.o)),this.fill){for(s&&s.fc?d!==s.fc&&(d=s.fc,a.fillStyle=s.fc):d!==this.values.fill&&(d=this.values.fill,a.fillStyle=this.values.fill),r=(u=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(o=(p=u[n]).length,this.globalData.canvasContext.moveTo(p[0],p[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(p[i],p[i+1],p[i+2],p[i+3],p[i+4],p[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(s&&s.sw?f!==s.sw&&(f=s.sw,a.lineWidth=s.sw):f!==this.values.sWidth&&(f=this.values.sWidth,a.lineWidth=this.values.sWidth),s&&s.sc?h!==s.sc&&(h=s.sc,a.strokeStyle=s.sc):h!==this.values.stroke&&(h=this.values.stroke,a.strokeStyle=this.values.stroke),r=(u=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(o=(p=u[n]).length,this.globalData.canvasContext.moveTo(p[0],p[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(p[i],p[i+1],p[i+2],p[i+3],p[i+4],p[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}s&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n,r=0;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,r,i,o,a,s=t.sh.v,c=t.transformers,l=s._length;if(!(l<=1)){for(n=0;n<l-1;n+=1)r=this.getTransformedPoint(c,s.v[n]),i=this.getTransformedPoint(c,s.o[n]),o=this.getTransformedPoint(c,s.i[n+1]),a=this.getTransformedPoint(c,s.v[n+1]),this.checkBounds(r,i,o,a,e);s.c&&(r=this.getTransformedPoint(c,s.v[n]),i=this.getTransformedPoint(c,s.o[n]),o=this.getTransformedPoint(c,s.i[0]),a=this.getTransformedPoint(c,s.v[0]),this.checkBounds(r,i,o,a,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,r,i){this.getBoundsOfCurve(t,e,n,r);var o=this.shapeBoundingBox;i.x=bm_min(o.left,i.x),i.xMax=bm_max(o.right,i.xMax),i.y=bm_min(o.top,i.y),i.yMax=bm_max(o.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,r){for(var i,o,a,s,c,l,u,p=[[t[0],r[0]],[t[1],r[1]]],d=0;d<2;++d)if(o=6*t[d]-12*e[d]+6*n[d],i=-3*t[d]+9*e[d]-9*n[d]+3*r[d],a=3*e[d]-3*t[d],o|=0,a|=0,0!=(i|=0))(c=o*o-4*a*i)<0||(0<(l=(-o+bm_sqrt(c))/(2*i))&&l<1&&p[d].push(this.calculateF(l,t,e,n,r,d)),0<(u=(-o-bm_sqrt(c))/(2*i))&&u<1&&p[d].push(this.calculateF(u,t,e,n,r,d)));else{if(0===o)continue;0<(s=-a/o)&&s<1&&p[d].push(this.calculateF(s,t,e,n,r,d))}this.shapeBoundingBox.left=bm_min.apply(null,p[0]),this.shapeBoundingBox.top=bm_min.apply(null,p[1]),this.shapeBoundingBox.right=bm_max.apply(null,p[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,p[1])},HShapeElement.prototype.calculateF=function(t,e,n,r,i,o){return bm_pow(1-t,3)*e[o]+3*bm_pow(1-t,2)*t*n[o]+3*(1-t)*bm_pow(t,2)*r[o]+bm_pow(t,3)*i[o]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it&&this.calculateBoundingBox(t[n].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),(n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y)&&(this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var n,r,i=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{e.fontFamily=i.fFamily;var o=t.fWeight;e.fontStyle=t.fStyle,e.fontWeight=o}var a,s,c,l=t.l;r=l.length;var u,p=this.mHelper,d="",h=0;for(n=0;n<r;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[h]?a=this.textPaths[h]:((a=createNS("path")).setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[h]?c=(s=this.textSpans[h]).children[0]:((s=createTag("div")).style.lineHeight=0,(c=createNS("svg")).appendChild(a),styleDiv(s)))):this.isMasked?a=this.textPaths[h]?this.textPaths[h]:createNS("text"):this.textSpans[h]?(s=this.textSpans[h],a=this.textPaths[h]):(styleDiv(s=createTag("span")),styleDiv(a=createTag("span")),s.appendChild(a)),this.globalData.fontManager.chars){var f,m=this.globalData.fontManager.getCharData(t.finalText[n],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(f=m?m.data:null,p.reset(),f&&f.shapes&&(u=f.shapes[0].it,p.scale(t.finalSize/100,t.finalSize/100),d=this.createPathShape(p,u),a.setAttribute("d",d)),this.isMasked)this.innerElem.appendChild(a);else{if(this.innerElem.appendChild(s),f&&f.shapes){document.body.appendChild(c);var g=c.getBBox();c.setAttribute("width",g.width+2),c.setAttribute("height",g.height+2),c.setAttribute("viewBox",g.x-1+" "+(g.y-1)+" "+(g.width+2)+" "+(g.height+2)),c.style.transform=c.style.webkitTransform="translate("+(g.x-1)+"px,"+(g.y-1)+"px)",l[n].yOffset=g.y-1}else c.setAttribute("width",1),c.setAttribute("height",1);s.appendChild(c)}}else a.textContent=l[n].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(a):(this.innerElem.appendChild(s),a.style.transform=a.style.webkitTransform="translate3d(0,"+-t.finalSize/1.2+"px,0)");this.textSpans[h]=this.isMasked?a:s,this.textSpans[h].style.display="block",this.textPaths[h]=a,h+=1}for(;h<this.textSpans.length;)this.textSpans[h].style.display="none",h+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,e,n,r,i,o=0,a=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n?o+=1:(r=this.textSpans[t],i=this.textPaths[t],n=a[o],o+=1,n._mdf.m&&(this.isMasked?r.setAttribute("transform",n.m):r.style.transform=r.style.webkitTransform=n.m),r.style.opacity=n.o,n.sw&&n._mdf.sw&&i.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&i.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(i.setAttribute("fill",n.fc),i.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var c=this.innerElem.getBBox();this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.svgElement.setAttribute("width",c.width)),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.svgElement.setAttribute("height",c.height)),this.currentBBox.w===c.width+2&&this.currentBBox.h===c.height+2&&this.currentBBox.x===c.x-1&&this.currentBBox.y===c.y-1||(this.currentBBox.w=c.width+2,this.currentBBox.h=c.height+2,this.currentBBox.x=c.x-1,this.currentBBox.y=c.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n=this.comp.threeDElements.length;for(t=0;t<n;t+=1)"3d"===(e=this.comp.threeDElements[t]).type&&(e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,n=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)n=this.hierarchy[t].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var r=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;i=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),a=[i[0]/o,i[1]/o,i[2]/o],s=Math.sqrt(a[2]*a[2]+a[0]*a[0]),c=Math.atan2(a[1],s),l=Math.atan2(a[0],-a[2]);this.mat.rotateY(l).rotateX(-c)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var p;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)"3d"===(p=this.comp.threeDElements[t]).type&&(u&&(p.container.style.transform=p.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(p.perspectiveElem.style.perspective=p.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],n=0,r=0,i=0,o=!0,a=!1;function s(t){for(var n=0,i=t.target;n<r;)e[n].animation===i&&(e.splice(n,1),n-=1,r-=1,i.isPaused||u()),n+=1}function c(t,n){if(!t)return null;for(var i=0;i<r;){if(e[i].elem==t&&null!==e[i].elem)return e[i].animation;i+=1}var o=new AnimationItem;return p(o,t),o.setData(t,n),o}function l(){i+=1,f()}function u(){i-=1}function p(t,n){t.addEventListener("destroy",s),t.addEventListener("_active",l),t.addEventListener("_idle",u),e.push({elem:n,animation:t}),r+=1}function d(t){var s,c=t-n;for(s=0;s<r;s+=1)e[s].animation.advanceTime(c);n=t,i&&!a?window.requestAnimationFrame(d):o=!0}function h(t){n=t,window.requestAnimationFrame(d)}function f(){!a&&i&&o&&(window.requestAnimationFrame(h),o=!1)}return t.registerAnimation=c,t.loadAnimation=function(t){var e=new AnimationItem;return p(e,null),e.setParams(t),e},t.setSpeed=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setSpeed(t,n)},t.setDirection=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setDirection(t,n)},t.play=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.play(t)},t.pause=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.pause(t)},t.stop=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.stop(t)},t.togglePause=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.togglePause(t)},t.searchAnimations=function(t,e,n){var r,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=i.length;for(r=0;r<o;r+=1)n&&i[r].setAttribute("data-bm-type",n),c(i[r],t);if(e&&0===o){n||(n="svg");var a=document.getElementsByTagName("body")[0];a.innerHTML="";var s=createTag("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",n),a.appendChild(s),c(s,t)}},t.resize=function(){var t;for(t=0;t<r;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,n,i){var o;for(o=0;o<r;o+=1)e[o].animation.goToAndStop(t,n,i)},t.destroy=function(t){var n;for(n=r-1;n>=0;n-=1)e[n].animation.destroy(t)},t.freeze=function(){a=!0},t.unfreeze=function(){a=!1,f()},t.getRegisteredAnimations=function(){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r.push(e[t].animation);return r},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||(this.loop=!1!==t.loop&&(!0===t.loop||parseInt(t.loop))),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.animationData?this.configAnimation(t.animationData):t.path&&(this.path=-1!==t.path.lastIndexOf("\\")?t.path.substr(0,t.path.lastIndexOf("\\")+1):t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),(function(){this.trigger("data_failed")}).bind(this)))},AnimationItem.prototype.setData=function(t,e){var n={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},r=t.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";""===i||(n.loop="false"!==i&&("true"===i||parseInt(i)));var o=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;n.autoplay="false"!==o,n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,r=this.animationData.layers,i=r.length,o=t.layers,a=o.length;for(n=0;n<a;n+=1)for(e=0;e<i;){if(r[e].id==o[n].id){r[e]=o[n];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;e<i;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(t,e,n){n&&this.name!=n||(this.setCurrentRawFrameValue(e?t:t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,n){this.goToAndStop(t,e,n),this.play()},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var n,r=t.length;for(n=0;n<r;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions={initExpressions:function(t){var e=0,n=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=n.length;for(t=0;t<e;t+=1)n[t].release();n.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===n.indexOf(t)&&n.push(t)}}};expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var n,r=t.length,i=[];for(n=0;n<r;n+=1)i[n]=-t[n];return i}return t.propType?t.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=typeof t,r=typeof e;if("string"===n||"string"===r)return t+e;if(isNumerable(n,t)&&isNumerable(r,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]=t[0]+e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,a=e.length,s=[];i<o||i<a;)s[i]=("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?t[i]+e[i]:void 0===e[i]?t[i]:t[i]||e[i],i+=1;return s}return 0}var add=sum;function sub(t,e){var n=typeof t,r=typeof e;if(isNumerable(n,t)&&isNumerable(r,e))return"string"===n&&(t=parseInt(t)),"string"===r&&(e=parseInt(e)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]=t[0]-e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,a=e.length,s=[];i<o||i<a;)s[i]=("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?t[i]-e[i]:void 0===e[i]?t[i]:t[i]||e[i],i+=1;return s}return 0}function mul(t,e){var n,r,i,o=typeof t,a=typeof e;if(isNumerable(o,t)&&isNumerable(a,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=createTypedArray("float32",i=t.length),r=0;r<i;r+=1)n[r]=t[r]*e;return n}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(n=createTypedArray("float32",i=e.length),r=0;r<i;r+=1)n[r]=t*e[r];return n}return 0}function div(t,e){var n,r,i,o=typeof t,a=typeof e;if(isNumerable(o,t)&&isNumerable(a,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=createTypedArray("float32",i=t.length),r=0;r<i;r+=1)n[r]=t[r]/e;return n}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(n=createTypedArray("float32",i=e.length),r=0;r<i;r+=1)n[r]=t/e[r];return n}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var r=n;n=e,e=r}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return Math.abs(t-(e=e||0));e||(e=helperLengthArray);var n,r=Math.min(t.length,e.length),i=0;for(n=0;n<r;n+=1)i+=Math.pow(e[n]-t[n],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,r=t[0],i=t[1],o=t[2],a=Math.max(r,i,o),s=Math.min(r,i,o),c=(a+s)/2;if(a==s)e=n=0;else{var l=a-s;switch(n=c>.5?l/(2-a-s):l/(a+s),a){case r:e=(i-o)/l+(i<o?6:0);break;case i:e=(o-r)/l+2;break;case o:e=(r-i)/l+4}e/=6}return[e,n,c,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,r,i=t[0],o=t[1],a=t[2];if(0===o)e=n=r=a;else{var s=a<.5?a*(1+o):a+o-a*o,c=2*a-s;e=hue2rgb(c,s,i+1/3),n=hue2rgb(c,s,i),r=hue2rgb(c,s,i-1/3)}return[e,n,r,t[3]]}function linear(t,e,n,r,i){if(void 0!==r&&void 0!==i||(r=e,i=n,e=0,n=1),n<e){var o=n;n=e,e=o}if(t<=e)return r;if(t>=n)return i;var a=n===e?0:(t-e)/(n-e);if(!r.length)return r+(i-r)*a;var s,c=r.length,l=createTypedArray("float32",c);for(s=0;s<c;s+=1)l[s]=r[s]+(i[s]-r[s])*a;return l}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var n,r=e.length;t||(t=createTypedArray("float32",r));var i=createTypedArray("float32",r),o=BMMath.random();for(n=0;n<r;n+=1)i[n]=t[n]+o*(e[n]-t[n]);return i}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,n,r){var i,o=t.length,a=shape_pool.newElement();a.setPathData(!!r,o);var s,c,l=[0,0];for(i=0;i<o;i+=1)a.setTripleAt(t[i][0],t[i][1],(c=n&&n[i]?n[i]:l)[0]+t[i][0],c[1]+t[i][1],(s=e&&e[i]?e[i]:l)[0]+t[i][0],s[1]+t[i][1],i,!0);return a}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=(function(t,e){var n,r,i=this.pv.length?this.pv.length:1,o=createTypedArray("float32",i),a=Math.floor(5*time);for(n=0,r=0;n<a;){for(r=0;r<i;r+=1)o[r]+=-e+2*e*BMMath.random();n+=1}var s=5*time,c=s-Math.floor(s),l=createTypedArray("float32",i);if(i>1){for(r=0;r<i;r+=1)l[r]=this.pv[r]+o[r]+(-e+2*e*BMMath.random())*c;return l}return this.pv+o[0]+(-e+2*e*BMMath.random())*c}).bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,r,0]}function easeOut(t,e,n,r,i){return applyEase(easeOutBez,t,e,n,r,i)}function easeIn(t,e,n,r,i){return applyEase(easeInBez,t,e,n,r,i)}function ease(t,e,n,r,i){return applyEase(easeInOutBez,t,e,n,r,i)}function applyEase(t,e,n,r,i,o){void 0===i?(i=n,o=r):e=(e-n)/(r-n);var a=t(e=e>1?1:e<0?0:e);if($bm_isInstanceOfArray(i)){var s,c=i.length,l=createTypedArray("float32",c);for(s=0;s<c;s+=1)l[s]=(o[s]-i[s])*a+i[s];return l}return(o-i)*a+i}function nearestKey(t){var e,n,r,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,r=data.k[0].t;else{for(e=0;e<i-1;e+=1){if(t===data.k[e].t){n=e+1,r=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,r=data.k[e+1].t):(n=e+1,r=data.k[e].t);break}}-1===n&&(n=e+1,r=data.k[e].t)}else n=0,r=0;var o={};return o.index=n,o.time=r/elem.comp.globalData.frameRate,o}function key(t){var e,n,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);e={time:data.k[t-=1].t/elem.comp.globalData.frameRate,value:[]};var i=data.k[t].hasOwnProperty("s")?data.k[t].s:data.k[t-1].e;for(r=i.length,n=0;n<r;n+=1)e[n]=i[n],e.value[n]=i[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),n=this.getValueAtTime(t+-.01),r=0;if(e.length){var i;for(i=0;i<e.length;i+=1)r+=Math.pow(n[i]-e[i],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,n,r=this.getValueAtTime(t),i=this.getValueAtTime(t+-.001);if(r.length)for(e=createTypedArray("float32",r.length),n=0;n<r.length;n+=1)e[n]=(i[n]-r[n])/-.001;else e=(i-r)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function t(t,e,n){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var r,i,o,a,s,c=this.comp.renderedFrame,l=this.keyframes,u=l[l.length-1].t;if(c<=u)return this.pv;if(n?i=u-(r=e?Math.abs(u-elem.comp.globalData.frameRate*e):Math.max(0,u-this.elem.data.ip)):((!e||e>l.length-1)&&(e=l.length-1),r=u-(i=l[l.length-1-e].t)),"pingpong"===t){if(Math.floor((c-i)/r)%2!=0)return this.getValueAtTime((r-(c-i)%r+i)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var p=this.getValueAtTime(i/this.comp.globalData.frameRate,0),d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),h=this.getValueAtTime(((c-i)%r+i)/this.comp.globalData.frameRate,0),f=Math.floor((c-i)/r);if(this.pv.length){for(a=(s=new Array(p.length)).length,o=0;o<a;o+=1)s[o]=(d[o]-p[o])*f+h[o];return s}return(d-p)*f+h}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(c-u)/this.comp.globalData.frameRate*(m[o]-g[o])/5e-4;return s}return m+(c-u)/.001*(m-g)}}return this.getValueAtTime(((c-i)%r+i)/this.comp.globalData.frameRate,0)}function e(t,e,n){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var r,i,o,a,s,c=this.comp.renderedFrame,l=this.keyframes,u=l[0].t;if(c>=u)return this.pv;if(n?i=u+(r=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-u)):((!e||e>l.length-1)&&(e=l.length-1),r=(i=l[e].t)-u),"pingpong"===t){if(Math.floor((u-c)/r)%2==0)return this.getValueAtTime(((u-c)%r+u)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var p=this.getValueAtTime(u/this.comp.globalData.frameRate,0),d=this.getValueAtTime(i/this.comp.globalData.frameRate,0),h=this.getValueAtTime((r-(u-c)%r+u)/this.comp.globalData.frameRate,0),f=Math.floor((u-c)/r)+1;if(this.pv.length){for(a=(s=new Array(p.length)).length,o=0;o<a;o+=1)s[o]=h[o]-(d[o]-p[o])*f;return s}return h-(d-p)*f}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-g[o])*(u-c)/.001;return s}return m+(m-g)*(u-c)/.001}}return this.getValueAtTime((r-(u-c)%r+u)/this.comp.globalData.frameRate,0)}function n(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var n,r,i=this.comp.renderedFrame/this.comp.globalData.frameRate,o=i-t,a=e>1?(i+t-o)/(e-1):1,s=0,c=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;s<e;){if(r=this.getValueAtTime(o+s*a),this.pv.length)for(c=0;c<this.pv.length;c+=1)n[c]+=r[c];else n+=r;s+=1}if(this.pv.length)for(c=0;c<this.pv.length;c+=1)n[c]/=e;else n/=e;return n}function r(t){console.warn("Transform at time not supported")}function i(t){}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,n){var a=o(t,e,n);return a.getValueAtTime=a.dynamicProperties.length?r.bind(a):i.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(r,i,o,s,c){var l=a(r,i,o,s,c);l.getValueAtTime=l.kf?expressionHelpers.getValueAtTime.bind(l):expressionHelpers.getStaticValueAtTime.bind(l),l.setGroupProperty=expressionHelpers.setGroupProperty,l.loopOut=t,l.loopIn=e,l.smooth=n,l.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(l),l.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(l),l.numKeys=1===i.a?i.k.length:0,l.propertyIndex=i.ix;var u=0;return 0!==o&&(u=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),l._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(r,i,l),l.k&&c.addDynamicProperty(l),l};var s=ShapePropertyFactory.getConstructorFunction(),c=ShapePropertyFactory.getKeyframedConstructorFunction();function l(){}l.prototype={vertices:function(t,e){this.k&&this.getValue();var n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0));var r,i=n._length,o=n[t],a=n.v,s=createSizedArray(i);for(r=0;r<i;r+=1)s[r]="i"===t||"o"===t?[o[r][0]-a[r][0],o[r][1]-a[r][1]]:[o[r][0],o[r][1]];return s},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var r,i=this._segmentsLength,o=i.lengths,a=i.totalLength*t,s=0,c=o.length,l=0;s<c;){if(l+o[s].addedLength>a){var u=n.c&&s===c-1?0:s+1;r=bez.getPointInSegment(n.v[s],n.v[u],n.o[s],n.i[u],(a-l)/o[s].addedLength,o[s]);break}l+=o[s].addedLength,s+=1}return r||(r=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),r},vectorOnPath:function(t,e,n){var r=this.pointOnPath(t=1==t?this.v.c?0:.999:t,e),i=this.pointOnPath(t+.001,e),o=i[0]-r[0],a=i[1]-r[1],s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return 0===s?[0,0]:"tangent"===n?[o/s,a/s]:[-a/s,o/s]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([l],s),extendPrototype([l],c),c.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},c.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,n,r,i){var o=u(t,e,n,r,i);return o.propertyIndex=e.ix,o.lock=!1,3===n?expressionHelpers.searchExpressions(t,e.pt,o):4===n&&expressionHelpers.searchExpressions(t,e.ks,o),o.k&&t.addDynamicProperty(o),o}}(),TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var r={};return this.copyData(r,t),r.t=n.toString(),r.__complete=!1,r}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapeExpressionInterface=function(){function t(t,p,d){var h,f=[],m=t?t.length:0;for(h=0;h<m;h+=1)"gr"==t[h].ty?f.push(e(t[h],p[h],d)):"fl"==t[h].ty?f.push(n(t[h],p[h],d)):"st"==t[h].ty?f.push(r(t[h],p[h],d)):"tm"==t[h].ty?f.push(i(t[h],p[h],d)):"tr"==t[h].ty||("el"==t[h].ty?f.push(o(t[h],p[h],d)):"sr"==t[h].ty?f.push(a(t[h],p[h],d)):"sh"==t[h].ty?f.push(u(t[h],p[h],d)):"rc"==t[h].ty?f.push(s(t[h],p[h],d)):"rd"==t[h].ty?f.push(c(t[h],p[h],d)):"rp"==t[h].ty&&f.push(l(t[h],p[h],d)));return f}function e(e,n,r){var i=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=function(t){return 1===t?i:r(t-1)};var o=function(e,n,r){var i,o=function(t){for(var e=0,n=i.length;e<n;){if(i[e]._name===t||i[e].mn===t||i[e].propertyIndex===t||i[e].ix===t||i[e].ind===t)return i[e];e+=1}if("number"==typeof t)return i[t-1]};return i=t(e.it,n.it,o.propertyGroup=function(t){return 1===t?o:r(t-1)}),o.numProperties=i.length,o.propertyIndex=e.cix,o._name=e.nm,o}(e,n,i.propertyGroup),a=function(t,e,n){function r(t){return 1==t?i:n(--t)}function i(e){return t.a.ix===e||"Anchor Point"===e?i.anchorPoint:t.o.ix===e||"Opacity"===e?i.opacity:t.p.ix===e||"Position"===e?i.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?i.rotation:t.s.ix===e||"Scale"===e?i.scale:t.sk&&t.sk.ix===e||"Skew"===e?i.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?i.skewAxis:void 0}return e.transform.mProps.o.setGroupProperty(r),e.transform.mProps.p.setGroupProperty(r),e.transform.mProps.a.setGroupProperty(r),e.transform.mProps.s.setGroupProperty(r),e.transform.mProps.r.setGroupProperty(r),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(r),e.transform.mProps.sa.setGroupProperty(r)),e.transform.op.setGroupProperty(r),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),i.ty="tr",i.mn=t.mn,i.propertyGroup=n,i}(e.it[e.it.length-1],n.it[n.it.length-1],i.propertyGroup);return i.content=o,i.transform=a,Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.numProperties=e.np,i.propertyIndex=e.ix,i.nm=e.nm,i.mn=e.mn,i}function n(t,e,n){function r(t){return"Color"===t||"color"===t?r.color:"Opacity"===t||"opacity"===t?r.opacity:void 0}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(n),e.o.setGroupProperty(n),r}function r(t,e,n){function r(t){return 1===t?ob:n(t-1)}function i(t){return 1===t?c:r(t-1)}function o(n){Object.defineProperty(c,t.d[n].nm,{get:ExpressionPropertyInterface(e.d.dataProps[n].p)})}var a,s=t.d?t.d.length:0,c={};for(a=0;a<s;a+=1)o(a),e.d.dataProps[a].p.setGroupProperty(i);function l(t){return"Color"===t||"color"===t?l.color:"Opacity"===t||"opacity"===t?l.opacity:"Stroke Width"===t||"stroke width"===t?l.strokeWidth:void 0}return Object.defineProperties(l,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return c}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(r),e.o.setGroupProperty(r),e.w.setGroupProperty(r),l}function i(t,e,n){function r(t){return 1==t?i:n(--t)}function i(e){return e===t.e.ix||"End"===e||"end"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:void 0}return i.propertyIndex=t.ix,e.s.setGroupProperty(r),e.e.setGroupProperty(r),e.o.setGroupProperty(r),i.propertyIndex=t.ix,i.propertyGroup=n,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),i.mn=t.mn,i}function o(t,e,n){function r(t){return 1==t?o:n(--t)}o.propertyIndex=t.ix;var i="tm"===e.sh.ty?e.sh.prop:e.sh;function o(e){return t.p.ix===e?o.position:t.s.ix===e?o.size:void 0}return i.s.setGroupProperty(r),i.p.setGroupProperty(r),Object.defineProperties(o,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:t.nm}}),o.mn=t.mn,o}function a(t,e,n){function r(t){return 1==t?o:n(--t)}var i="tm"===e.sh.ty?e.sh.prop:e.sh;function o(e){return t.p.ix===e?o.position:t.r.ix===e?o.rotation:t.pt.ix===e?o.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?o.outerRadius:t.os.ix===e?o.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?o.innerRoundness:void 0:o.innerRadius}return o.propertyIndex=t.ix,i.or.setGroupProperty(r),i.os.setGroupProperty(r),i.pt.setGroupProperty(r),i.p.setGroupProperty(r),i.r.setGroupProperty(r),t.ir&&(i.ir.setGroupProperty(r),i.is.setGroupProperty(r)),Object.defineProperties(o,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:t.nm}}),o.mn=t.mn,o}function s(t,e,n){function r(t){return 1==t?o:n(--t)}var i="tm"===e.sh.ty?e.sh.prop:e.sh;function o(e){return t.p.ix===e?o.position:t.r.ix===e?o.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?o.size:void 0}return o.propertyIndex=t.ix,i.p.setGroupProperty(r),i.s.setGroupProperty(r),i.r.setGroupProperty(r),Object.defineProperties(o,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:t.nm}}),o.mn=t.mn,o}function c(t,e,n){var r=e;function i(e){if(t.r.ix===e||"Round Corners 1"===e)return i.radius}return i.propertyIndex=t.ix,r.rd.setGroupProperty((function(t){return 1==t?i:n(--t)})),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(r.rd)},_name:{value:t.nm}}),i.mn=t.mn,i}function l(t,e,n){function r(t){return 1==t?o:n(--t)}var i=e;function o(e){return t.c.ix===e||"Copies"===e?o.copies:t.o.ix===e||"Offset"===e?o.offset:void 0}return o.propertyIndex=t.ix,i.c.setGroupProperty(r),i.o.setGroupProperty(r),Object.defineProperties(o,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:t.nm}}),o.mn=t.mn,o}function u(t,e,n){var r=e.sh;function i(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return i.path}return r.setGroupProperty((function(t){return 1==t?i:n(--t)})),Object.defineProperties(i,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn}}),i}return function(e,n,r){var i;function o(t){if("number"==typeof t)return i[t-1];for(var e=0,n=i.length;e<n;){if(i[e]._name===t)return i[e];e+=1}}return o.propertyGroup=r,i=t(e,n,o),o.numProperties=i.length,o}}(),TextExpressionInterface=function(t){var e;function n(){}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var n=t.textProperty.currentData.t;return void 0!==n&&(t.textProperty.currentData.t=void 0,(e=new String(n)).value=n||new String(n)),e}}),n},LayerExpressionInterface=function(){function t(t,e){var n=new Matrix;if(n.reset(),this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(n);return n.applyToPointArray(t[0],t[1],t[2]||0)}return n.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var n=new Matrix;if(n.reset(),this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(n);return n.inversePoint(t)}return n.inversePoint(t)}function n(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function r(){return[1,1,1,1]}return function(i){var o;function a(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return a.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return o;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return a.effect}}a.toWorld=t,a.fromWorld=e,a.toComp=t,a.fromComp=n,a.sampleImage=r,a.sourceRectAtTime=i.sourceRectAtTime.bind(i),a._elem=i;var s=getDescriptor(o=TransformExpressionInterface(i.finalTransform.mProp),"anchorPoint");return Object.defineProperties(a,{hasParent:{get:function(){return i.hierarchy.length}},parent:{get:function(){return i.hierarchy[0].layerInterface}},rotation:getDescriptor(o,"rotation"),scale:getDescriptor(o,"scale"),position:getDescriptor(o,"position"),opacity:getDescriptor(o,"opacity"),anchorPoint:s,anchor_point:s,transform:{get:function(){return o}},active:{get:function(){return i.isInRange}}}),a.startTime=i.data.st,a.index=i.data.ind,a.source=i.data.refId,a.height=0===i.data.ty?i.data.h:100,a.width=0===i.data.ty?i.data.w:100,a.inPoint=i.data.ip/i.comp.globalData.frameRate,a.outPoint=i.data.op/i.comp.globalData.frameRate,a._name=i.data.nm,a.registerMaskInterface=function(t){a.mask=new MaskManagerInterface(t,i)},a.registerEffectsInterface=function(t){a.effect=t},a}}(),CompExpressionInterface=function(t){function e(e){for(var n=0,r=t.layers.length;n<r;){if(t.layers[n].nm===e||t.layers[n].ind===e)return t.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}if(Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p)var n=ExpressionPropertyInterface(t.p);return Object.defineProperty(e,"position",{get:function(){return t.p?n():[t.px.v,t.py.v,t.pz?t.pz.v:0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,n=this.compositions.length;e<n;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(n,r,i,o){var a,s=[],c=n.ef.length;for(a=0;a<c;a+=1)s.push(5===n.ef[a].ty?t(n.ef[a],r.effectElements[a],r.effectElements[a].propertyGroup,o):e(r.effectElements[a],n.ef[a].ty,o,l));function l(t){return 1===t?u:i(t-1)}var u=function(t){for(var e=n.ef,r=0,i=e.length;r<i;){if(t===e[r].nm||t===e[r].mn||t===e[r].ix)return 5===e[r].ty?s[r]:s[r]();r+=1}return s[0]()};return u.propertyGroup=l,"ADBE Color Control"===n.mn&&Object.defineProperty(u,"color",{get:function(){return s[0]()}}),Object.defineProperty(u,"numProperties",{get:function(){return n.np}}),u.active=u.enabled=0!==n.en,u}function e(t,e,n,r){var i=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(r),function(){return 10===e?n.comp.compInterface(t.p.v):i()}}return{createEffectsInterface:function(e,n){if(e.effectsManager){var r,i=[],o=e.data.ef,a=e.effectsManager.effectElements.length;for(r=0;r<a;r+=1)i.push(t(o[r],e.effectsManager.effectElements[r],n,e));return function(t){for(var n=e.data.ef||[],r=0,o=n.length;r<o;){if(t===n[r].nm||t===n[r].mn||t===n[r].ix)return i[r];r+=1}}}}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e,n){var r,i=createSizedArray(e.viewData.length),o=e.viewData.length;for(r=0;r<o;r+=1)i[r]=new t(e.viewData[r],e.masksProperties[r]);return function(t){for(r=0;r<o;){if(e.masksProperties[r].nm===t)return i[r];r+=1}}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(t,e,n){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(r){if(t.numKeys){var i;i="s"in e.keyframes[r-1]?e.keyframes[r-1].s:"e"in e.keyframes[r-2]?e.keyframes[r-2].e:e.keyframes[r-2].s;var o="unidimensional"===n?new Number(i):Object.assign({},i);return o.time=e.keyframes[r-1].t/e.elem.comp.globalData.frameRate,o}return 0},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function r(){return t}return function(i){return i?"unidimensional"===i.propType?function(e){e&&"pv"in e||(e=t);var r=1/e.mult,i=e.pv*r,o=new Number(i);return o.value=i,n(o,e,"unidimensional"),function(){return e.k&&e.getValue(),o.value!==(i=e.v*r)&&((o=new Number(i)).value=i,n(o,e,"unidimensional")),o}}(i):function(t){t&&"pv"in t||(t=e);var r=1/t.mult,i=t.pv.length,o=createTypedArray("float32",i),a=createTypedArray("float32",i);return o.value=a,n(o,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<i;e+=1)o[e]=a[e]=t.v[e]*r;return o}}(i):r}}(),TextExpressionSelectorProp,propertyGetTextProp;function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(t,e){var n=t.ef||[];this.effectElements=[];var r,i,o=n.length;for(r=0;r<o;r++)i=new GroupEffect(n[r],e),this.effectElements.push(i)}function GroupEffect(t,e){this.init(t,e)}TextExpressionSelectorProp=function(){function t(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}return function(e,n){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=n.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,n,this),this.getMult=t,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.getValueAtTime=this.kf?expressionHelpers.getValueAtTime.bind(this):expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(t,e,n){return 1===e.t?new TextExpressionSelectorProp(t,e,n):propertyGetTextProp(t,e,n)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,r,i=this.data.ef.length,o=this.data.ef;for(n=0;n<i;n+=1){switch(r=null,o[n].ty){case 0:r=new SliderEffect(o[n],e,this);break;case 1:r=new AngleEffect(o[n],e,this);break;case 2:r=new ColorEffect(o[n],e,this);break;case 3:r=new PointEffect(o[n],e,this);break;case 4:case 7:r=new CheckboxEffect(o[n],e,this);break;case 10:r=new LayerIndexEffect(o[n],e,this);break;case 11:r=new MaskIndexEffect(o[n],e,this);break;case 5:r=new EffectsManager(o[n],e,this);break;default:r=new NoValueEffect(o[n],e,this)}r&&this.effectElements.push(r)}};var lottie={},_isFrozen=!1;function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n++){var r=e[n].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.6.8";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie}))},lTCs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModalService=void 0;const r=n("1z/I"),i=n("8Y7J");class o{constructor(t,e,n){this.componentFactoryResolver=t,this.applicationRef=e,this.injector=n,this.host=new r.DomPortalOutlet(document.querySelector("body"),this.componentFactoryResolver,this.applicationRef,this.injector)}addModalToBody(t,e){this.elementToReturnFocus=e,this.host.attach(t),document.body.style.position="fixed",document.body.style.top=`-${window.scrollY}px`,document.body.style.width="100%"}removeModalFromBody(){this.host&&(this.host.detach(),document.body.style.position="",document.body.style.top=""),this.elementToReturnFocus&&(this.elementToReturnFocus.focus(),this.elementToReturnFocus=void 0)}}e.ModalService=o,o.\u0275fac=function(t){return new(t||o)(i.\u0275\u0275inject(i.ComponentFactoryResolver),i.\u0275\u0275inject(i.ApplicationRef),i.\u0275\u0275inject(i.Injector))},o.\u0275prov=i.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},lXzo:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":t+" "+(r=+t,i={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var n=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];t.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:e,m:e,mm:e,h:"\u0447\u0430\u0441",hh:e,d:"\u0434\u0435\u043d\u044c",dd:e,M:"\u043c\u0435\u0441\u044f\u0446",MM:e,y:"\u0433\u043e\u0434",yy:e},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u0438":t<12?"\u0443\u0442\u0440\u0430":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-\u0439";case"D":return t+"-\u0433\u043e";case"w":case"W":return t+"-\u044f";default:return t}},week:{dow:1,doy:4}})}(n("wd/R"))},lYtQ:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){switch(n){case"s":return e?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return t+(e?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return t+(e?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return t+(e?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return t+(e?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return t+(e?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return t+(e?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return t}}t.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(t){return"\u04ae\u0425"===t},meridiem:function(t,e,n){return t<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" \u04e9\u0434\u04e9\u0440";default:return t}}})}(n("wd/R"))},lcR5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripResultsComponent=void 0;const r=n("qCKp"),i=n("ha9l"),o=n("EiLY"),a=n("8Y7J"),s=n("qoPz"),c=n("tqRt"),l=n("VS5s"),u=n("SVse"),p=n("MeQ8"),d=n("cCwN"),h=n("aTb/"),f=n("HaJo");function m(t,e){if(1&t&&a.\u0275\u0275element(0,"tni-trip-result",8),2&t){const t=e.$implicit,n=e.index,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("cardType",r.cardType)("journey",t)("index",n)}}function g(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",5),a.\u0275\u0275elementStart(1,"span",6),a.\u0275\u0275text(2,"Public transport results"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,m,1,3,"tni-trip-result",7),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.publicTransportResults)}}function y(t,e){if(1&t&&a.\u0275\u0275element(0,"tni-trip-result-drive",11),2&t){const t=e.index;a.\u0275\u0275property("journey",e.$implicit)("index",t)}}function _(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",9),a.\u0275\u0275elementStart(1,"span",6),a.\u0275\u0275text(2,"Taxi/Drive results"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,y,1,2,"tni-trip-result-drive",10),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.driveResults)}}function v(t,e){if(1&t&&a.\u0275\u0275element(0,"tni-trip-result-cycle",11),2&t){const t=e.index;a.\u0275\u0275property("journey",e.$implicit)("index",t)}}function b(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",12),a.\u0275\u0275elementStart(1,"span",6),a.\u0275\u0275text(2,"Cycle results"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,v,1,2,"tni-trip-result-cycle",10),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",null==t.journeyResults?null:t.journeyResults.cycle)}}function M(t,e){if(1&t&&a.\u0275\u0275element(0,"tni-trip-result-walk",11),2&t){const t=e.index;a.\u0275\u0275property("journey",e.$implicit)("index",t)}}function x(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",13),a.\u0275\u0275elementStart(1,"span",6),a.\u0275\u0275text(2,"Walk results"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,M,1,2,"tni-trip-result-walk",10),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.getWalkResults())}}class w{constructor(t,e,n){this.cardTypeService=t,this.stateStore=e,this.trackTripPlannerEventService=n,this.subscriptions=new r.Subscription,this.shortPlatformCount=0}set tripResults(t){var e,n,r,a,s;this.publicTransportResults=(null===(e=null==t?void 0:t.journeys)||void 0===e?void 0:e.filter(t=>t.type===i.JourneyType.PublicTransport))||[],this.publicTransportResults.length>0&&void 0===(null==t?void 0:t.isLoadingEarlier)&&void 0===(null==t?void 0:t.isLoadingLater)&&this.trackTripPlannerEventService.trackShortPlatform(this.publicTransportResults),this.journeyResults=t,this.journeyResults&&1===(null===(r=null===(n=this.journeyResults)||void 0===n?void 0:n.journeys)||void 0===r?void 0:r.length)&&this.stateStore.dispatch(new o.SelectJourneyAction({trip:this.journeyResults.journeys[0]})),this.driveResults=(null===(s=null===(a=this.journeyResults)||void 0===a?void 0:a.taxiDrive)||void 0===s?void 0:s.length)?this.journeyResults.taxiDrive.sort(t=>{var e,n;return(null===(n=null===(e=t.legs[0])||void 0===e?void 0:e.transportation)||void 0===n?void 0:n.operator)?-1:1}):[]}ngOnInit(){this.subscriptions.add(this.cardTypeService.getCardType().subscribe(t=>this.cardType=t))}ngOnDestroy(){this.subscriptions.unsubscribe()}getWalkResults(){return this.journeyResults.walk}}e.TripResultsComponent=w,w.\u0275fac=function(t){return new(t||w)(a.\u0275\u0275directiveInject(s.CardTypeService),a.\u0275\u0275directiveInject(c.Store),a.\u0275\u0275directiveInject(l.TrackTripPlannerEventService))},w.\u0275cmp=a.\u0275\u0275defineComponent({type:w,selectors:[["tni-trip-results"]],inputs:{transportFilter:"transportFilter",tripResults:"tripResults"},decls:7,vars:4,consts:[["role","alert","aria-live","polite",1,"sr-only"],["role","tabpanel","aria-labelledby","trip-transport-filter-tab__public-transport",4,"ngIf"],["role","tabpanel","aria-labelledby","trip-transport-filter-tab__taxi-drive",4,"ngIf"],["role","tabpanel","aria-labelledby","trip-transport-filter-tab__cycle",4,"ngIf"],["role","tabpanel","aria-labelledby","trip-transport-filter-tab__walk",4,"ngIf"],["role","tabpanel","aria-labelledby","trip-transport-filter-tab__public-transport"],[1,"sr-only"],[3,"cardType","journey","index",4,"ngFor","ngForOf"],[3,"cardType","journey","index"],["role","tabpanel","aria-labelledby","trip-transport-filter-tab__taxi-drive"],[3,"journey","index",4,"ngFor","ngForOf"],[3,"journey","index"],["role","tabpanel","aria-labelledby","trip-transport-filter-tab__cycle"],["role","tabpanel","aria-labelledby","trip-transport-filter-tab__walk"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275elementStart(1,"p",0),a.\u0275\u0275text(2,"Search complete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,g,4,1,"div",1),a.\u0275\u0275template(4,_,4,1,"div",2),a.\u0275\u0275template(5,b,4,1,"div",3),a.\u0275\u0275template(6,x,4,1,"div",4),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf","publicTransport"===e.transportFilter),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","drive"===e.transportFilter),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","cycle"===e.transportFilter),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","walk"===e.transportFilter))},directives:[u.NgIf,u.NgForOf,p.TripResultComponent,d.TripResultDriveComponent,h.TripResultCycleComponent,f.TripResultWalkComponent],styles:[""]})},lgnt:function(t,e,n){!function(t){"use strict";var e={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};t.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},ljUz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripTransportFilterComponent=void 0;const r=n("8Y7J"),i=n("s7LF"),o=n("f44v"),a=n("8Y7J"),s=n("f44v"),c=n("0njA"),l=n("SVse"),u=n("ALoK"),p=["publicTransportChip"],d=["taxiDriveChip"],h=["cycleChip"],f=["walkChip"];function m(t,e){1&t&&(a.\u0275\u0275elementStart(0,"label",3),a.\u0275\u0275text(1,"Cycle"),a.\u0275\u0275elementEnd())}const g=function(t,e){return[t,null,!0,e,!0]};function y(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"label",3),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"durationPipe"),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("Cycle ",t.screenReaderPrefix+" "+a.\u0275\u0275pipeBindV(2,1,a.\u0275\u0275pureFunction2(7,g,null==t.durations?null:t.durations.cycle,t.screenReaderDurationSuffixes)),"")}}function _(t,e){1&t&&(a.\u0275\u0275elementStart(0,"label",3),a.\u0275\u0275text(1,"Walk"),a.\u0275\u0275elementEnd())}function v(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"label",3),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"durationPipe"),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("Walk ",t.screenReaderPrefix+" "+a.\u0275\u0275pipeBindV(2,1,a.\u0275\u0275pureFunction2(7,g,null==t.durations?null:t.durations.walk,t.screenReaderDurationSuffixes)),"")}}const b=function(t,e){return[t,null,!1,e,!0]},M=function(t){return{"tp-icon--selected":t}};class x{constructor(){this.filteredPublicTransport=new r.EventEmitter,this.filteredTaxiDrive=new r.EventEmitter,this.filteredCycle=new r.EventEmitter,this.filteredWalk=new r.EventEmitter,this.selected="publicTransport",this.screenReaderPrefix="shortest trip time",this.durationSuffixes={hour:"h",minute:"min"},this.screenReaderDurationSuffixes={hour:"hour",minute:"minutes"},this.onTouched=()=>{},this.onChanged=()=>{}}registerOnChange(t){this.onChanged=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.selected=t}setDisabledState(t){this.isDisabled=t}ngAfterViewChecked(){this.matChipListElementRef.nativeElement.setAttribute("role","tablist"),this.publicTransportChip._elementRef.nativeElement.tabIndex=this.isDisabled?null:0,this.taxiDriveChip._elementRef.nativeElement.tabIndex=this.isDisabled?null:0,this.cycleChip._elementRef.nativeElement.tabIndex=this.isDisabled?null:0,this.walkChip._elementRef.nativeElement.tabIndex=this.isDisabled?null:0,this.publicTransportChip.selected||this.publicTransportChip._elementRef.nativeElement.setAttribute("aria-selected","false"),this.taxiDriveChip.selected||this.taxiDriveChip._elementRef.nativeElement.setAttribute("aria-selected","false"),this.cycleChip.selected||this.cycleChip._elementRef.nativeElement.setAttribute("aria-selected","false"),this.walkChip.selected||this.walkChip._elementRef.nativeElement.setAttribute("aria-selected","false")}selectPublicTransport(){this._selectFilter(this.publicTransportChip.value,this.publicTransportChip,this.filteredPublicTransport)}selectTaxiDrive(){this._selectFilter(this.taxiDriveChip.value,this.taxiDriveChip,this.filteredTaxiDrive)}selectCycle(){this._selectFilter(this.cycleChip.value,this.cycleChip,this.filteredCycle)}selectWalk(){this._selectFilter(this.walkChip.value,this.walkChip,this.filteredWalk)}_selectFilter(t,e,n){this.isDisabled||e.disabled||(this.selected=t,e.select(),n.emit(),this.onTouched(),this.onChanged(t))}}e.TripTransportFilterComponent=x,x.\u0275fac=function(t){return new(t||x)},x.\u0275cmp=a.\u0275\u0275defineComponent({type:x,selectors:[["tni-trip-transport-filter"]],viewQuery:function(t,e){var n;1&t&&(a.\u0275\u0275viewQuery(o.MatChipList,!0,r.ElementRef),a.\u0275\u0275viewQuery(p,!0),a.\u0275\u0275viewQuery(d,!0),a.\u0275\u0275viewQuery(h,!0),a.\u0275\u0275viewQuery(f,!0)),2&t&&(a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.matChipListElementRef=n.first),a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.publicTransportChip=n.first),a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.taxiDriveChip=n.first),a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.cycleChip=n.first),a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(e.walkChip=n.first))},inputs:{durations:"durations"},outputs:{filteredPublicTransport:"filteredPublicTransport",filteredTaxiDrive:"filteredTaxiDrive",filteredCycle:"filteredCycle",filteredWalk:"filteredWalk"},features:[a.\u0275\u0275ProvidersFeature([{provide:i.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(()=>x),multi:!0}])],decls:36,vars:92,consts:[["multiple","false",1,"mat-chip-list--overflowed",3,"selectable"],["id","trip-transport-filter-tab__public-transport","value","publicTransport",1,"mat-chip__public-transport",3,"selected","click","keyup.enter","keyup.Space"],["publicTransportChip","matChip"],[1,"sr-only"],["aria-hidden","true"],["id","trip-transport-filter-tab__taxi-drive","value","drive",1,"mat-chip__taxi-drive",3,"selected","disabled","click","keyup.enter","keyup.Space"],["taxiDriveChip","matChip"],["iconClasses","tp-icon xs","iconName","icon-taxi-drive",3,"iconAriaHidden","ngClass"],["id","trip-transport-filter-tab__cycle","value","cycle",1,"mat-chip__cycle",3,"selected","disabled","click","keyup.enter","keyup.Space"],["cycleChip","matChip"],["iconClasses","tp-icon xs","iconName","icon-cycle",3,"iconAriaHidden","ngClass"],["class","sr-only",4,"ngIf"],["id","trip-transport-filter-tab__walk","value","walk",1,"mat-chip__walk",3,"selected","disabled","click","keyup.enter","keyup.Space"],["walkChip","matChip"],["iconClasses","tp-icon xs","iconName","icon-walk",3,"iconAriaHidden","ngClass"]],template:function(t,e){1&t&&(a.\u0275\u0275elementStart(0,"mat-chip-list",0),a.\u0275\u0275elementStart(1,"mat-chip",1,2),a.\u0275\u0275listener("click",(function(){return e.selectPublicTransport()}))("keyup.enter",(function(){return e.selectPublicTransport()}))("keyup.Space",(function(){return e.selectPublicTransport()})),a.\u0275\u0275elementStart(3,"label"),a.\u0275\u0275text(4,"Public transport"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"label",3),a.\u0275\u0275text(6),a.\u0275\u0275pipe(7,"durationPipe"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"label",4),a.\u0275\u0275text(9),a.\u0275\u0275pipe(10,"durationPipe"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"mat-chip",5,6),a.\u0275\u0275listener("click",(function(){return e.selectTaxiDrive()}))("keyup.enter",(function(){return e.selectTaxiDrive()}))("keyup.Space",(function(){return e.selectTaxiDrive()})),a.\u0275\u0275element(13,"tni-icon",7),a.\u0275\u0275elementStart(14,"label",3),a.\u0275\u0275text(15),a.\u0275\u0275pipe(16,"durationPipe"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"label",4),a.\u0275\u0275text(18),a.\u0275\u0275pipe(19,"durationPipe"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(20,"mat-chip",8,9),a.\u0275\u0275listener("click",(function(){return e.selectCycle()}))("keyup.enter",(function(){return e.selectCycle()}))("keyup.Space",(function(){return e.selectCycle()})),a.\u0275\u0275element(22,"tni-icon",10),a.\u0275\u0275template(23,m,2,0,"label",11),a.\u0275\u0275template(24,y,3,10,"label",11),a.\u0275\u0275elementStart(25,"label",4),a.\u0275\u0275text(26),a.\u0275\u0275pipe(27,"durationPipe"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(28,"mat-chip",12,13),a.\u0275\u0275listener("click",(function(){return e.selectWalk()}))("keyup.enter",(function(){return e.selectWalk()}))("keyup.Space",(function(){return e.selectWalk()})),a.\u0275\u0275element(30,"tni-icon",14),a.\u0275\u0275template(31,_,2,0,"label",11),a.\u0275\u0275template(32,v,3,10,"label",11),a.\u0275\u0275elementStart(33,"label",4),a.\u0275\u0275text(34),a.\u0275\u0275pipe(35,"durationPipe"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t&&(a.\u0275\u0275property("selectable",!e.isDisabled),a.\u0275\u0275attribute("role","tablist"),a.\u0275\u0275advance(1),a.\u0275\u0275property("selected","publicTransport"===e.selected),a.\u0275\u0275attribute("role","tab"),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate1("",e.screenReaderPrefix+" "+a.\u0275\u0275pipeBindV(7,32,a.\u0275\u0275pureFunction2(68,g,null==e.durations?null:e.durations.publicTransport,e.screenReaderDurationSuffixes))," "),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBindV(10,38,a.\u0275\u0275pureFunction2(71,b,null==e.durations?null:e.durations.publicTransport,e.durationSuffixes))||"-"," "),a.\u0275\u0275advance(2),a.\u0275\u0275property("selected","drive"===e.selected)("disabled",e.isDisabled||!(null!=e.durations&&e.durations.taxiDrive)),a.\u0275\u0275attribute("aria-disabled",e.isDisabled||!(null!=e.durations&&e.durations.taxiDrive))("role","tab"),a.\u0275\u0275advance(2),a.\u0275\u0275property("iconAriaHidden",!0)("ngClass",a.\u0275\u0275pureFunction1(74,M,"drive"===e.selected)),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1("Taxi/Drive ",e.screenReaderPrefix+" "+a.\u0275\u0275pipeBindV(16,44,a.\u0275\u0275pureFunction2(76,g,null==e.durations?null:e.durations.taxiDrive,e.screenReaderDurationSuffixes)),""),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBindV(19,50,a.\u0275\u0275pureFunction2(79,b,null==e.durations?null:e.durations.taxiDrive,e.durationSuffixes))||"-"),a.\u0275\u0275advance(2),a.\u0275\u0275property("selected","cycle"===e.selected)("disabled",e.isDisabled||!(null!=e.durations&&e.durations.cycle)),a.\u0275\u0275attribute("aria-disabled",e.isDisabled||!(null!=e.durations&&e.durations.cycle))("role","tab"),a.\u0275\u0275advance(2),a.\u0275\u0275property("iconAriaHidden",!0)("ngClass",a.\u0275\u0275pureFunction1(82,M,"cycle"===e.selected)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!(null!=e.durations&&e.durations.cycle)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",null==e.durations?null:e.durations.cycle),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBindV(27,56,a.\u0275\u0275pureFunction2(84,b,null==e.durations?null:e.durations.cycle,e.durationSuffixes))||"-"),a.\u0275\u0275advance(2),a.\u0275\u0275property("selected","walk"===e.selected)("disabled",e.isDisabled||!(null!=e.durations&&e.durations.walk)),a.\u0275\u0275attribute("aria-disabled",e.isDisabled||!(null!=e.durations&&e.durations.walk))("role","tab"),a.\u0275\u0275advance(2),a.\u0275\u0275property("iconAriaHidden",!0)("ngClass",a.\u0275\u0275pureFunction1(87,M,"walk"===e.selected)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!(null!=e.durations&&e.durations.walk)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",null==e.durations?null:e.durations.walk),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBindV(35,62,a.\u0275\u0275pureFunction2(89,b,null==e.durations?null:e.durations.walk,e.durationSuffixes))||"-"))},directives:[s.MatChipList,s.MatChip,c.IconComponent,l.NgClass,l.NgIf],pipes:[u.DurationPipe],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:11px;font-weight:500;flex:1 0 auto;justify-content:center;margin-left:0;margin-right:8px;cursor:pointer}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip.mat-chip-disabled[_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;top:1px;margin:0;padding:0 2px}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:focus:after{opacity:0}[_nghost-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   .mat-chip.mat-standard-chip.mat-chip-selected[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]     mat-chip-list{width:calc(100% + 32px + 32px - 16px);margin-left:-16px}[_nghost-%COMP%]     mat-chip-list .mat-chip-list-wrapper:after{content:"\xa0";width:8px}}@media (orientation:portrait) and (min-width:768px){[_nghost-%COMP%]     mat-chip-list.mat-chip-list--overflowed{width:calc(100% + 48px + 48px - 16px);margin-left:-32px}[_nghost-%COMP%]     mat-chip-list.mat-chip-list--overflowed .mat-chip-list-wrapper:after{content:"\xa0";width:8px}}[_nghost-%COMP%]     mat-chip-list .mat-chip-list-wrapper{flex-wrap:nowrap;overflow-x:auto;width:100%;justify-content:space-between;overflow-x:-moz-scrollbars-none;-ms-overflow-style:none}[_nghost-%COMP%]     mat-chip-list .mat-chip-list-wrapper::-webkit-scrollbar{display:none}[_nghost-%COMP%]     mat-chip.mat-chip.mat-standard-chip{background-color:#f2f2f2}[_nghost-%COMP%]     tni-icon.tp-icon--selected{fill:#fff}']})},lyxo:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=" ";return(t%100>=20||t>=100&&t%100==0)&&(r=" de "),t+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:e,m:"un minut",mm:e,h:"o or\u0103",hh:e,d:"o zi",dd:e,M:"o lun\u0103",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}(n("wd/R"))},m90T:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextDeparturesComponent=void 0;const r=n("8Y7J"),i=n("8Y7J"),o=n("FSmM"),a=n("SVse"),s=n("0njA"),c=n("0n+w");function l(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div",10),i.\u0275\u0275element(1,"tni-next-departure",11),i.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("nextDeparture",t)}}function u(t,e){if(1&t){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275template(1,l,2,1,"div",5),i.\u0275\u0275elementStart(2,"div",6),i.\u0275\u0275elementStart(3,"a",7),i.\u0275\u0275listener("click",(function(){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext(2).navigateToDepartures()}))("keydown.enter",(function(){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext(2).navigateToDepartures()})),i.\u0275\u0275elementStart(4,"span",8),i.\u0275\u0275text(5,"More departures"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(6,"tni-icon",9),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&t){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.next2Departures)}}function p(t,e){1&t&&(i.\u0275\u0275elementStart(0,"div",12),i.\u0275\u0275text(1,"No departures for 48 hours following this trip"),i.\u0275\u0275elementEnd())}function d(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"p",2),i.\u0275\u0275text(2,"Search complete"),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(3,u,7,1,"div",3),i.\u0275\u0275template(4,p,2,0,"ng-template",null,4,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275reference(5),e=i.\u0275\u0275nextContext();i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",(null==e.next2Departures?null:e.next2Departures.length)>0)("ngIfElse",t)}}class h{constructor(){this.navigate=new r.EventEmitter,this.loaded=!1}set nextDepartures(t){t&&(this.next2Departures=t.slice(0,2),this.loaded=!0)}navigateToDepartures(){this.navigate.emit()}}e.NextDeparturesComponent=h,h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=i.\u0275\u0275defineComponent({type:h,selectors:[["tni-next-departures"]],inputs:{nextDepartures:"nextDepartures"},outputs:{navigate:"navigate"},decls:2,vars:2,consts:[[3,"loaded"],[4,"ngIf"],["role","alert","aria-live","polite",1,"sr-only"],[4,"ngIf","ngIfElse"],["noNextDepartures",""],["class","row",4,"ngFor","ngForOf"],[1,"next-departures__more-departues"],["role","button","tabindex","0",3,"click","keydown.enter"],[1,"next-departures__more-departues-label"],["iconAriaHidden","true","iconTitle","More departures","iconName","chevron_right"],[1,"row"],[3,"nextDeparture"],[1,"no-later-departures"]],template:function(t,e){1&t&&(i.\u0275\u0275element(0,"tni-next-departures-skeleton-loader",0),i.\u0275\u0275template(1,d,6,2,"div",1)),2&t&&(i.\u0275\u0275property("loaded",e.loaded),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.loaded))},directives:[o.NextDeparturesSkeletonLoaderComponent,a.NgIf,a.NgForOf,s.IconComponent,c.NextDepartureComponent],styles:[".next-departures__more-departues[_ngcontent-%COMP%]{margin-top:15px;text-align:right}.next-departures__more-departues[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;display:inline-block}.next-departures__more-departues[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{position:absolute;right:-4px}.next-departures__more-departues[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]     .tp-icon{height:22px;width:28px}.next-departures__more-departues-label[_ngcontent-%COMP%]{margin-right:50px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.next-departures__more-departues-label[_ngcontent-%COMP%]{margin-right:27px}}.no-later-departures[_ngcontent-%COMP%]{height:15px;width:270px;font-weight:400;font-size:12px;margin-left:8px;margin-bottom:24px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.no-later-departures[_ngcontent-%COMP%]{width:200px;margin-bottom:32px}}"]})},m91t:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorMessages=void 0,e.ErrorMessages={network:"Unable to connect. Please check your internet connection and try again",service_modal:"Please try again later",service:"Something went wrong"}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("KqfI");function i(...t){return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:r.a}},mrM3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trip=void 0,e.Trip=class{constructor(){this.excludedModes=[11],this.fromText="",this.toText=""}isValid(){return!!this.toLocation}isFromLocationValid(){return!!this.fromLocation}fromLocationUrlParam(){return this.fromLocation?this.fromLocation.id:this.fromText}toLocationUrlParam(){return this.toLocation?this.toLocation.id:this.toText}swap(){const t=this.fromLocation;this.fromLocation=this.toLocation,this.toLocation=t;const e=this.fromText;this.fromText=this.toText,this.toText=e}clearError(){this.toError="",this.fromError=""}clearFromLocationError(){this.fromError=""}clearToLocationError(){this.toError=""}}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return p})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return h})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return m})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return _})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return M})),n.d(e,"__makeTemplateObject",(function(){return x})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function p(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var d=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function h(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||d(e,t,n)}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof _?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(r){u(o[0][3],r)}var n}function c(t){s("next",t)}function l(t){s("throw",t)}function u(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:_(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function M(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var w=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&d(e,t,n);return w(e,t),e}function S(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},mtJE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalRetailerSkeletonLoaderComponent=void 0;const r=n("8Y7J"),i=n("SVse");function o(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",2),r.\u0275\u0275elementStart(1,"div",3),r.\u0275\u0275elementStart(2,"div",4),r.\u0275\u0275elementStart(3,"div",5),r.\u0275\u0275text(4,"\xa0"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"div",6),r.\u0275\u0275text(6,"\xa0"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"div",7),r.\u0275\u0275text(8,"\xa0"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"div",8),r.\u0275\u0275text(10," \xa0 "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"div",9),r.\u0275\u0275elementStart(12,"div",10),r.\u0275\u0275elementStart(13,"div",11),r.\u0275\u0275elementStart(14,"div",12),r.\u0275\u0275text(15,"\xa0"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(16,"div",12),r.\u0275\u0275text(17,"\xa0"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(18,"div",10),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}class a{}e.OpalRetailerSkeletonLoaderComponent=a,a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=r.\u0275\u0275defineComponent({type:a,selectors:[["tni-opal-retailers-skeleton-loader"]],decls:2,vars:1,consts:[[1,"skeleton-loader"],["class","results",4,"ngFor","ngForOf"],[1,"results"],[1,"skeleton-loader-upper","row"],[1,"col-md-3","col-xs-3"],[1,"animate","top"],[1,"animate","middle"],[1,"animate","bottom"],[1,"col-md-9","col-xs-9"],[1,"skeleton-loader-lower","row"],[1,"col-md-6","col-xs-6"],[1,"route-wrapper"],[1,"animate","route"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275template(1,o,19,0,"div",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf"," ".repeat(3).split("")))},directives:[i.NgForOf],styles:['.skeleton-loader[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 2px 0 #f1f1f1;margin:8px 0;height:111px;padding:8px}.skeleton-loader-upper[_ngcontent-%COMP%]{padding:0}.skeleton-loader-row[_ngcontent-%COMP%]{padding:15px 15px 30px;border-bottom:1px solid #f2f2f2;margin:8px 0}.skeleton-loader[_ngcontent-%COMP%]   .animate.top[_ngcontent-%COMP%]{width:113px;height:12px}.skeleton-loader[_ngcontent-%COMP%]   .animate.middle[_ngcontent-%COMP%]{width:136px;height:13px}.skeleton-loader[_ngcontent-%COMP%]   .animate.bottom[_ngcontent-%COMP%]{width:127px;height:13px;margin:0 0 16px}.skeleton-loader[_ngcontent-%COMP%]   .animate.route[_ngcontent-%COMP%]{height:25px;width:117px;margin:0 8px 0 0}.skeleton-loader-lower[_ngcontent-%COMP%]{padding:0 0 5px}.skeleton-loader[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:80%;height:8px;margin-bottom:4px;background:#f1f1f1}.skeleton-loader[_ngcontent-%COMP%]   .animate[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#f1f1f1,#f9f9f9 40px,#f1f1f1 80px);-webkit-animation:progress 1s ease-in-out infinite;animation:progress 1s ease-in-out infinite;background-color:inherit}@-webkit-keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}@keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}.route-wrapper[_ngcontent-%COMP%]{display:flex}']})},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nIQE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesFormComponent=void 0;const r=n("mrSG"),i=n("8Y7J"),o=n("s7LF"),a=n("1z/I"),s=n("qCKp"),c=n("kU1M"),l=n("cRl/"),u=n("tqRt"),p=n("KQMD"),d=n("5MJQ"),h=n("W4NM"),f=n("5MJQ"),m=n("xeYu"),g=n("iDss"),y=n("erv5"),_=n("yh6M"),v=n("RNDk"),b=n("wd/R"),M=n("EiLY"),x=n("zpQm"),w=n("ywyY"),C=n("8Y7J"),S=n("lTCs"),E=n("iInd"),T=n("QSoc"),O=n("A9CO"),A=n("tqRt"),P=n("dFlJ"),L=n("MbAS"),k=n("7rOj"),I=n("ElVz"),D=n("MhY6"),N=n("VS5s"),R=n("s7LF"),z=n("SVse"),F=n("0njA"),j=n("bHkN"),B=n("1z/I"),q=n("EQnc"),V=n("iDss"),Y=n("aTCI"),H=n("LIED"),W=n("rfQM"),U=n("RdKv"),X=n("uKem"),G=n("ajRT"),J=["DepartureSearchFrom"],$=["DepartureSearchTo"];function K(t,e){1&t&&C.\u0275\u0275element(0,"span",15)}function Z(t,e){1&t&&C.\u0275\u0275element(0,"tni-icon",5)}const Q=function(t,e){return{stopsOnly:!0,mode:t,stopId:e}};function tt(t,e){if(1&t){const t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"tni-location-search",16,17),C.\u0275\u0275listener("inputTextChange",(function(e){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext().onToInputTextChange(e)}))("locationChange",(function(e){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext().departures.toLocation=e}))("inputBlur",(function(e){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext().onInputBlur(e)}))("locationChange",(function(){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext().toLocationChange()}))("formSubmit",(function(){C.\u0275\u0275restoreView(t);const e=C.\u0275\u0275nextContext();return e.onSearch(e.departures.excludedModes)}))("mapLinkClick",(function(e){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext().mapLinkClick(e)})),C.\u0275\u0275elementEnd()}if(2&t){const t=C.\u0275\u0275nextContext();C.\u0275\u0275property("id","tniToDepartureLocation")("location",t.departures.toLocation)("excludeLocation",t.departures.fromLocation)("searchOptions",C.\u0275\u0275pureFunction2(10,Q,t.stopsForDepartureMode,t.departures.fromLocation.id))("hideCurrentLocation",!0)("textValue",t.departures.toText)("highlightText",!1)("errorMessage",t.departures.toError)("alertBoxMessage","No results found. You can only search for a destination you can reach directly from your stop")("hideMapLink",t.hideMapLink)}}function et(t,e){if(1&t&&(C.\u0275\u0275elementStart(0,"span",18),C.\u0275\u0275text(1),C.\u0275\u0275elementEnd()),2&t){const t=C.\u0275\u0275nextContext();C.\u0275\u0275advance(1),C.\u0275\u0275textInterpolate1("Filter results by mode ",t.modeChanged," ")}}function nt(t,e){if(1&t){const t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"div",19),C.\u0275\u0275elementStart(1,"tni-mode-select",20),C.\u0275\u0275listener("excludedModes",(function(e){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext().onExcludedModesChange(e)}))("lastClicked",(function(e){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext().modeSelectionChanged(e)})),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd()}if(2&t){const t=C.\u0275\u0275nextContext();C.\u0275\u0275advance(1),C.\u0275\u0275property("preferencesForm",t.departuresPreferenceGroup.controls.preferencesForm)("motTypes",t.motTypes)("showRows",!0)("showHeader",!1)("noShowModes",1===t.motTypes.length)}}function rt(t,e){if(1&t){const t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementContainerStart(0,34),C.\u0275\u0275elementStart(1,"div",35),C.\u0275\u0275listener("escapeTrapFocus",(function(e){C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext();const n=C.\u0275\u0275reference(12),r=C.\u0275\u0275reference(3);return C.\u0275\u0275nextContext().showChatBot(),r.onTabClick(e,n)})),C.\u0275\u0275elementStart(2,"div",36),C.\u0275\u0275text(3," Refine search "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(4,"div",37),C.\u0275\u0275elementStart(5,"button",38),C.\u0275\u0275listener("click",(function(){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext(2).clearPreferences()})),C.\u0275\u0275text(6," Reset "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(7,"strong"),C.\u0275\u0275text(8,"Filters"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(9,"button",39),C.\u0275\u0275listener("click",(function(e){C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext();const n=C.\u0275\u0275reference(12),r=C.\u0275\u0275reference(3);return C.\u0275\u0275nextContext().cancel(),r.onTabClick(e,n)})),C.\u0275\u0275text(10," Cancel "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275element(11,"tni-service-options",40),C.\u0275\u0275element(12,"hr",41),C.\u0275\u0275elementStart(13,"div",42),C.\u0275\u0275elementStart(14,"h4"),C.\u0275\u0275text(15,"Filter by route"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(16,"tni-departures-route-filter",43),C.\u0275\u0275listener("routesChange",(function(e){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext(2).routes=e})),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(17,"div",44),C.\u0275\u0275elementStart(18,"button",45),C.\u0275\u0275listener("click",(function(){C.\u0275\u0275restoreView(t);const e=C.\u0275\u0275nextContext(2);return e.showChatBot(),e.onSearch(e.departures.excludedModes)})),C.\u0275\u0275text(19," Apply "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementContainerEnd()}if(2&t){const t=C.\u0275\u0275nextContext(2);C.\u0275\u0275advance(11),C.\u0275\u0275property("group",t.departuresPreferenceGroup.controls.serviceOptions)("isDepartures",!0),C.\u0275\u0275advance(5),C.\u0275\u0275property("fromLocation",t.departures.fromLocation)("toLocation",t.departures.toLocation)("routes",t.routes)}}function it(t,e){if(1&t){const t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementContainerStart(0),C.\u0275\u0275elementStart(1,"div",46),C.\u0275\u0275listener("escapeTrapFocus",(function(e){C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext();const n=C.\u0275\u0275reference(12);return C.\u0275\u0275reference(3).onTabClick(e,n)})),C.\u0275\u0275elementStart(2,"div",47),C.\u0275\u0275text(3," Refine search "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(4,"div",37),C.\u0275\u0275elementStart(5,"button",48),C.\u0275\u0275listener("click",(function(){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext(2).clearPreferences()})),C.\u0275\u0275text(6," Reset "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(7,"strong"),C.\u0275\u0275text(8,"Filters"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(9,"button",49),C.\u0275\u0275listener("click",(function(e){C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext();const n=C.\u0275\u0275reference(12),r=C.\u0275\u0275reference(3);return C.\u0275\u0275nextContext().cancel(),r.onTabClick(e,n)})),C.\u0275\u0275text(10," Cancel "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275element(11,"tni-service-options",40),C.\u0275\u0275element(12,"hr",41),C.\u0275\u0275elementStart(13,"div",42),C.\u0275\u0275elementStart(14,"h4"),C.\u0275\u0275text(15,"Filter by route"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(16,"tni-departures-route-filter",50),C.\u0275\u0275listener("routesChange",(function(e){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext(2).routes=e})),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(17,"div",44),C.\u0275\u0275elementStart(18,"button",45),C.\u0275\u0275listener("click",(function(){C.\u0275\u0275restoreView(t);const e=C.\u0275\u0275nextContext(2);return e.onSearch(e.departures.excludedModes)})),C.\u0275\u0275text(19," Apply "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementContainerEnd()}if(2&t){const t=C.\u0275\u0275nextContext(2);C.\u0275\u0275advance(11),C.\u0275\u0275property("group",t.departuresPreferenceGroup.controls.serviceOptions)("isDepartures",!0),C.\u0275\u0275advance(5),C.\u0275\u0275property("fromLocation",t.departures.fromLocation)("toLocation",t.departures.toLocation)("routes",t.routes)}}const ot=function(t){return{"departures-search-form-footer--overlay":t}};function at(t,e){if(1&t){const t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"div",21),C.\u0275\u0275elementStart(1,"div",22),C.\u0275\u0275elementStart(2,"tni-tab-group",23,24),C.\u0275\u0275listener("tabChange",(function(e){return C.\u0275\u0275restoreView(t),C.\u0275\u0275nextContext().togglePref(e)})),C.\u0275\u0275elementStart(4,"tni-tab",25),C.\u0275\u0275pipe(5,"async"),C.\u0275\u0275element(6,"tni-date-time-selector",26,27),C.\u0275\u0275elementStart(8,"div",28),C.\u0275\u0275elementStart(9,"button",29),C.\u0275\u0275listener("click",(function(){C.\u0275\u0275restoreView(t);const e=C.\u0275\u0275nextContext();return e.showChatBot(),e.onSearchFilter(e.departures.excludedModes)})),C.\u0275\u0275text(10," Apply "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(11,"tni-tab",30,31),C.\u0275\u0275template(13,rt,20,5,"ng-container",32),C.\u0275\u0275template(14,it,20,5,"ng-container",33),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd()}if(2&t){const t=C.\u0275\u0275reference(3),e=C.\u0275\u0275reference(7),n=C.\u0275\u0275nextContext();C.\u0275\u0275property("ngClass",C.\u0275\u0275pureFunction1(10,ot,"preferences-tab"===t.activeTabId)),C.\u0275\u0275advance(2),C.\u0275\u0275property("activeTabId",n.activeTabId),C.\u0275\u0275advance(2),C.\u0275\u0275property("ariaExpanded",!1)("title",C.\u0275\u0275pipeBind1(5,8,e.tniDateTimeSelectorText$)),C.\u0275\u0275advance(2),C.\u0275\u0275property("formControl",n.departuresPreferenceGroup.controls.optionDateTimeSelection)("tniDateTimeSelectorDayRange",n.featureDayLookaheadState.days)("isDepartures",!0),C.\u0275\u0275advance(8),C.\u0275\u0275property("ngIf",!n.windowRef.isMobileView()&&"preferences-tab"===t.activeTabId)}}function st(t,e){if(1&t){const t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"tni-modal",52),C.\u0275\u0275listener("closeEvent",(function(){C.\u0275\u0275restoreView(t);const e=C.\u0275\u0275nextContext(2);return e.isErrorModalOpen=!1,e.modalService.removeModalFromBody()})),C.\u0275\u0275elementStart(1,"tni-modal-title"),C.\u0275\u0275elementStart(2,"h2"),C.\u0275\u0275text(3,"Something went wrong"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(4,"div",53),C.\u0275\u0275text(5),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd()}if(2&t){const t=C.\u0275\u0275nextContext(2);C.\u0275\u0275property("ariaLabel",t.errorMessage)("closeAtBottomLayout",!0)("fullscreenMobile",!0),C.\u0275\u0275advance(5),C.\u0275\u0275textInterpolate1(" ",t.errorMessage," ")}}function ct(t,e){if(1&t&&(C.\u0275\u0275elementContainerStart(0),C.\u0275\u0275template(1,st,6,4,"tni-modal",51),C.\u0275\u0275elementContainerEnd()),2&t){const t=C.\u0275\u0275nextContext();C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",t.isErrorModalOpen)}}const lt=function(t){return{extended:t}},ut=function(){return{stopsOnly:!0}};class pt{constructor(t,e,n,r,o,a,c,l,u,p,h,f,m){this.modalService=t,this.route=e,this.departuresUrlService=n,this.tripService=r,this.stateStore=o,this.router=a,this.departuresRequestService=c,this.locationFinderService=l,this.locationSortPipe=u,this.domService=p,this.ref=h,this.windowRef=f,this.trackTripPlannerEventService=m,this.loading=new i.EventEmitter,this.sendDeparturesData=new i.EventEmitter,this.departuresError="Required",this.featureDayLookaheadState={days:void 0},this.departuresPreferenceGroup=d.DeparturesPreferenceGroup,this.routes=[],this.originalDeparturePreferences={isOnlyAccessible:!1,routes:[]},this.preferenceMobile=!1,this.errorMessage="",this.resetClicked=!1,this.isLoading=!1,this.subscriptions=new s.Subscription,this.stopsForDepartureMode=y.SearchMode.STOPS_FOR_DEPARTURE,this.motTypes=[],this.refreshDepartures=[],this.ngDestroyed$=new s.Subject}get showModeFilter$(){return this.stateStore.select(m.showModeFilters)}get searchAction$(){return s.of(!1).pipe(c.filter(t=>!t))}get activeTab(){return this.tabGroupComponent?this.tabGroupComponent.activeTabId:""}get showToDepartures(){return!!this.departures.fromLocation}ngOnInit(){this.departuresPreferences=d.DeparturesPreferenceGroupDefaultValue(b()),this._initialisePreferenceForm(),this._subscribeToIsLoadingAction(),this._subscribeToDeparturesState(),this._subscribeToClearDepartureFormState(),this._subscribeToRefreshDepartures(),this.watchUrlChange()}watchUrlChange(){this.route.queryParams.subscribe(()=>{this._loadSearchFromUrl()})}getMatchingLocation(t){return r.__awaiter(this,void 0,void 0,(function*(){const e=yield this.locationFinderService.search(t,new _.StopFinderRequest).pipe(c.toArray(),c.map(t=>this.locationSortPipe.transform(t))).toPromise();if(e&&e.length)return e[0]}))}onInputBlur(t){"tniFromDepartureLocation"!==t||this.departures.isFromLocationValid()||(this.departures.fromError=this.departuresError)}onFromInputTextChange(t){this.departingFrom=t}onToInputTextChange(t){this.arrivingTo=t}fromLocationChange(){if(this.stateStore.dispatch(new p.DeparturesStopRefreshAction),this.stateStore.dispatch(new p.SelectDepartureAction({departure:null,index:null})),this.stateStore.dispatch(new p.ClearDeparturesAction({showNewSearchBtn:!1,isUserClearedDep:!1})),this.departures.fromLocation)this.departures.fromText=this.departures.fromLocation.description(),this.departures.clearFromLocationError(),this.updateErrorMessage(),setTimeout(()=>{this.departures.toText="",this.departures.toLocation=null,this.departures.clearToLocationError(),this.stateStore.dispatch(new p.DeparturesStopRefreshAction),this.stateStore.dispatch(new p.SelectDepartureAction({departure:null,index:null})),this.onSearch([]),this.updateErrorMessage()},0);else{this.departures=new h.Departures,this.clearPreferences();const{optionDateTimeSelection:t}=d.DeparturesPreferenceGroupDefaultValue(b());this._setDepartureTime(t),this.router.navigate(["/departures"])}}toLocationChange(){this.stateStore.dispatch(new p.DeparturesStopRefreshAction),this.stateStore.dispatch(new p.SelectDepartureAction({departure:null,index:null})),this.departures.toLocation?(this.departures.toText=this.departures.toLocation.description(),this.departures.clearToLocationError()):""!==this.departures.toText&&(this.departures.clearToLocationError(),this.departures.toText=""),this.onSearch([]),this.updateErrorMessage()}updateErrorMessage(){this.departures.fromError&&this.departures.isFromLocationValid()&&this.departures.clearFromLocationError(),this.departures.fromLocation||(this.departuresPreferenceGroup.controls.preferencesForm.setValue(this.defaultModeFilter),this.stateStore.dispatch(new p.ClearDeparturesAction({showNewSearchBtn:!1,isUserClearedDep:!1})),this.stateStore.dispatch(new p.SearchDeparturesLoadingAction(!1)))}onSearch(t){const e=this._isTSNId(this.departingFrom)&&this._departId()!==this.departingFrom?this.departingFrom:this._departId(),n=this._arriveId()&&this._isTSNId(this.arrivingTo)&&this._arriveId()!==this.arrivingTo?this.arrivingTo:this._arriveId();e||(this.sendDeparturesData.emit(this.departures),this.ref.detectChanges(),this.departures.fromError=this.departuresError),this.tabGroupComponent&&(this.tabGroupComponent.activeTabId="search-tab"),this.domService.removeComponentFromBody(),this.accessible=this.departuresPreferenceGroup.getRawValue().serviceOptions.onlyAccessible;const{optionDateTimeSelection:r}=this.departuresPreferenceGroup.getRawValue(),i=this._isTSN(e)?"platform":"stop",o=this.departuresUrlService.buildParams(e,i,this.accessible,r,this.routes,t,n),a=this._getTrackEventLabel(this.accessible,this.routes);a&&this.trackTripPlannerEventService.trackApplyFilters(a),e&&this.router.navigate(["/departures"],{queryParams:o})}onSearchFilter(t){const{optionDateTimeSelection:e}=this.departuresPreferenceGroup.getRawValue();if(this._trackEventLeavingAfter(e),"Now"===e.option){const t=this.departuresUrlService.readFromUrl(this.route.snapshot.queryParamMap);this._performSearch(t),this._setDepartureTime(e)}this.onSearch(t)}validateSearchFields(){if(!this.departures.isFromLocationValid())return this.departures.fromError=this.departures.isFromLocationValid()?void 0:this.departuresError,void this.focusOnFromField()}focusOnFromField(){this.departureSearchFrom.focus()}togglePref(t){"preferences-tab"===t&&this._rememberOriginalDeparturePreferences({isOnlyAccessible:this.departuresPreferenceGroup.get("serviceOptions.onlyAccessible").value,routes:this.routes}),this.windowRef.isMobileView()&&(this.preferenceMobile=!0,"preferences-tab"===t?this.domService.addComponentToBody(this.portals.toArray()[0]):(this.domService.removeComponentFromBody(),document.getElementById("preferences-tab").focus()))}showChatBot(){const t=document.querySelector("#virtual-assistant .va-trigger.va-inactive");this.windowRef.isMobileView()&&t&&(t.style.display="flex")}clearPreferences(){const t=d.DeparturesPreferenceGroupDefaultValue(b());delete t.optionDateTimeSelection,this.routes=[],this.departuresPreferenceGroup.controls.serviceOptions.setValue(t.serviceOptions),this.resetClicked=!0,this.departuresPreferenceGroup.valueChanges.pipe(c.take(1)).subscribe(t=>{this.resetClicked=!1})}onExcludedModesChange(t){this._haveExcludedModesChanged(t)&&(this.trackTripPlannerEventService.trackModesFilter(t),this.departures.excludedModes=t,this.onSearch(t))}cancel(){this.routes=[...this.originalDeparturePreferences.routes],this.departuresPreferenceGroup.get("serviceOptions.onlyAccessible").patchValue(this.originalDeparturePreferences.isOnlyAccessible,{emitEvent:!1})}mapLinkClick(t){this.trackTripPlannerEventService.trackPlanFromMap("tniFromDepartureLocation"===t?w.EventAction.PlanFromMapFrom:w.EventAction.PlanFromMapTo,x.EventCategory.Departures,"Stop"),this.stateStore.dispatch(new M.SwitchAppViewAction({mobileMapView:!0}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.ngDestroyed$.next()}modeSelectionChanged(t){setTimeout(()=>{this.modeChanged=t},500)}_rememberOriginalDeparturePreferences({isOnlyAccessible:t,routes:e}){this.originalDeparturePreferences={isOnlyAccessible:t,routes:[...e]}}_isTSN(t){return!!t&&!!t.match(/^\d{5,}/)}_departId(){return this.departures.fromLocation&&this.departures.fromLocation.id||this.departures.fromText}_arriveId(){return this.departures.toLocation&&this.departures.toLocation.id||this.departures.toText}_subscribeToRefreshDepartures(){this.stateStore.select(m.selectDeparturesRefreshList).subscribe(t=>{this.refreshDepartures=t||[]})}_subscribeToClearDepartureFormState(){this.stateStore.select(m.selectClearDeparturesForm).pipe(c.takeUntil(this.ngDestroyed$)).subscribe(t=>{if(t){this.departures.fromLocation?(this.departures.fromText="",this.departures.fromLocation=null):this.departures=new h.Departures,this.clearPreferences();const{optionDateTimeSelection:t}=d.DeparturesPreferenceGroupDefaultValue(b());this._setDepartureTime(t),this.router.navigate(["/departures"])}})}_subscribeToDeparturesState(){this.departures$=this.stateStore.select(u.createSelector(t=>t.DeparturesFeature,t=>t?t.departures:[])),this.hasError$=this.stateStore.select(u.createSelector(t=>t.DeparturesFeature,t=>!!t&&t.hasError))}_subscribeToIsLoadingAction(){this.subscriptions.add(this.stateStore.select(m.selectDeparturesFeature).subscribe(t=>{this.isLoading=t.isLoading,this.isLoading?this.stateStore.dispatch(new v.MapDeparturesAction(null)):this.modeChanged=null,this.motTypes=t.modesByServingLines||[]}))}_initialisePreferenceForm(){this.defaultModeFilter=this.departuresPreferences.preferencesForm,this.departuresPreferenceGroup.setValue(this.departuresPreferences),this.hideMapLink=!0,this.departures=new h.Departures,this.subscriptions.add(this.stateStore.select(m.selectDeparturesFeature).subscribe(t=>{var e,n;if(t.departuresRequest&&t.departuresForm&&this.route.snapshot.queryParams&&0===Object.entries(this.route.snapshot.queryParams).length){const r=Object.assign(Object.assign(Object.assign(Object.assign({depart:t.departuresRequest.name,type:t.departuresRequest.type,onlyAccessible:t.departuresRequest.accessible,debug:t.departuresRequest.debug||!1},!t.departuresForm.isLeavingNow&&{dateTime:this.departuresUrlService.getDate(b(`${t.departuresRequest.date}${t.departuresRequest.time}`,"YYYYMMDDHHmm"))}),t.departuresRequest.destStopFilter&&{arrive:t.departuresRequest.destStopFilter}),t.departuresRequest.lines&&{lines:t.departuresRequest.lines}),t.departuresRequest.excludedModes&&{excludedModes:t.departuresRequest.excludedModes});this._setDepartureTime(f.getFormValues(this.departuresPreferences,r).optionDateTimeSelection);const i=this.departuresUrlService.buildParams(r.depart,this._isTSN(r.depart)?"platform":"stop",r.onlyAccessible,this.departuresPreferenceGroup.getRawValue().optionDateTimeSelection,null===(e=r.lines)||void 0===e?void 0:e.split(","),null===(n=r.excludedModes)||void 0===n?void 0:n.split(","),r.arrive);r.depart&&this.router.navigate(["/departures"],{queryParams:i})}}))}_haveExcludedModesChanged(t){return t&&(!1===t.every(t=>this.departures.excludedModes.includes(t))||!1===this.departures.excludedModes.every(e=>t.includes(e)))}_setModeFilters(t,e){const n=Array.isArray(t)?t:Object.values(t),r=Object.values(e),i=n.every(t=>!1===t);!1!==r.every(t=>!0===t)&&!1!==i||this.departuresPreferenceGroup.controls.preferencesForm.setValue(t)}_setDepartureTime(t){this.departuresPreferenceGroup.controls.optionDateTimeSelection.setValue(t)}_loadSearchFromUrl(){return r.__awaiter(this,void 0,void 0,(function*(){if(this.route.snapshot.queryParams&&Object.entries(this.route.snapshot.queryParams).length>0){const t=this.departuresUrlService.readFromUrl(this.route.snapshot.queryParamMap);this._setDeparturePreferencesAndSearch(this.departuresPreferences,t)}}))}_setDeparturePreferencesAndSearch(t,e){var n,i;return r.__awaiter(this,void 0,void 0,(function*(){const r=f.getFormValues(t,e);this.departures.isLeavingNow=!e.dateTime,this._setServiceOptions(r.serviceOptions),this._setModeFilters(r.preferencesForm,this.departuresPreferenceGroup.getRawValue().preferencesForm);const o=l.LocalStorageHelper.getItem(this.tripService.localStorageName);let a=!0;if(o){const t=b().subtract(1,"hours");a=b(o.lastRequest).isBefore(t),a&&l.LocalStorageHelper.removeItem(this.tripService.localStorageName)}if(this.tripService.saveDebugMode("true"===e.debug||!a),this.departures.excludedModes=e.excludedModes?e.excludedModes.split(",").map(t=>Number(t)):[],e){this.routes=(null===(n=e.lines)||void 0===n?void 0:n.split(","))||[];const t=this.departingFrom||e.depart;this.departingTSNId=this._isTSNId(t);const o=yield this.getMatchingLocation(e.depart);if(this.departures.fromLocation=o,this.isDepartingFromGroupTSN=t===(null==o?void 0:o.id),this.departures.fromLocation&&(this.departures.fromError="",this.departingTSNId&&!this.isDepartingFromGroupTSN&&(this.departures.fromLocation.fullName=this._setTSNLabel(t,this.departures.fromLocation.shortName)),this.departures.fromText=this.departures.fromLocation.fullName),e.arrive){const t=this.arrivingTo||e.arrive;this.arrivingTSNId=this._isTSNId(t);const n=this.arrivingTSNId?yield this.getMatchingLocation(t):yield this.getMatchingLocation(e.arrive);this.departures.toLocation=n,this.isArrivingToGroupTSN=t===n.id,this.arrivingTSNId&&!this.isArrivingToGroupTSN&&(this.departures.toLocation.fullName=this._setTSNLabel(t,null===(i=this.departures.toLocation)||void 0===i?void 0:i.shortName)),this.departures.toText=this.departures.toLocation.fullName}this._performSearch(e),this._setDepartureTime(r.optionDateTimeSelection)}}))}_setTSNLabel(t,e){return`Stop Id ${t}, ${e}`}_setServiceOptions(t){this.departuresPreferenceGroup.controls.serviceOptions.setValue(t),this.departuresPreferenceGroup.controls.serviceOptions.updateValueAndValidity()}_performSearch(t){var e;return r.__awaiter(this,void 0,void 0,(function*(){const n=this.departuresRequestService.createDeparturesRequest(t);this.departingTSNId&&!this.isDepartingFromGroupTSN&&(this.departures.fromLocation.tsnId=t.depart),(null===(e=this.departures)||void 0===e?void 0:e.toLocation)&&this.arrivingTSNId&&!this.isArrivingToGroupTSN&&(this.departures.toLocation.tsnId=t.arrive);const r={departuresRequest:n,departuresForm:this.departures,isRefresh:!1,selectedIndex:0,refreshDepartures:this.refreshDepartures},i=new p.SearchDeparturesAction(r);this.stateStore.dispatch(i),this.stateStore.dispatch(new p.SearchDeparturesLoadingAction(!r.isRefresh))}))}_getTrackEventLabel(t,e){return t&&(null==e?void 0:e.length)>0?"Accessible service, Routes":t?"Accessible service":(null==e?void 0:e.length)>0?"Routes":void 0}_trackEventLeavingAfter(t){this.trackTripPlannerEventService.trackApplyDateAndTimSelection(t)}_isTSNId(t){return this._isTSN(t)&&"101"!==t.substring(0,3)}}e.DeparturesFormComponent=pt,pt.\u0275fac=function(t){return new(t||pt)(C.\u0275\u0275directiveInject(S.ModalService),C.\u0275\u0275directiveInject(E.ActivatedRoute),C.\u0275\u0275directiveInject(T.DeparturesUrlService),C.\u0275\u0275directiveInject(O.TripService),C.\u0275\u0275directiveInject(A.Store),C.\u0275\u0275directiveInject(E.Router),C.\u0275\u0275directiveInject(P.DeparturesRequestService),C.\u0275\u0275directiveInject(L.LocationFinderService),C.\u0275\u0275directiveInject(k.LocationSortPipe),C.\u0275\u0275directiveInject(I.DomService),C.\u0275\u0275directiveInject(C.ChangeDetectorRef),C.\u0275\u0275directiveInject(D.WindowRef),C.\u0275\u0275directiveInject(N.TrackTripPlannerEventService))},pt.\u0275cmp=C.\u0275\u0275defineComponent({type:pt,selectors:[["tni-departures-form"]],viewQuery:function(t,e){var n;1&t&&(C.\u0275\u0275staticViewQuery(J,!0),C.\u0275\u0275viewQuery($,!0),C.\u0275\u0275staticViewQuery(o.NgForm,!0),C.\u0275\u0275viewQuery(g.TniTabGroupComponent,!0),C.\u0275\u0275viewQuery(a.CdkPortal,!0)),2&t&&(C.\u0275\u0275queryRefresh(n=C.\u0275\u0275loadQuery())&&(e.departureSearchFrom=n.first),C.\u0275\u0275queryRefresh(n=C.\u0275\u0275loadQuery())&&(e.departureSearchTo=n.first),C.\u0275\u0275queryRefresh(n=C.\u0275\u0275loadQuery())&&(e.form=n.first),C.\u0275\u0275queryRefresh(n=C.\u0275\u0275loadQuery())&&(e.tabGroupComponent=n.first),C.\u0275\u0275queryRefresh(n=C.\u0275\u0275loadQuery())&&(e.portals=n))},inputs:{departures:"departures",hasResults:"hasResults",hideMapLink:"hideMapLink",showSearchFooter:"showSearchFooter"},outputs:{loading:"loading",sendDeparturesData:"sendDeparturesData"},decls:19,vars:23,consts:[[1,"departures-container","clearfix"],["novalidate","",1,"form"],[1,"departures-search-form-main",3,"ngClass"],[1,"departures-search-form-main__to-from"],[1,"trip-planner-path"],["iconClasses","tp-icon","iconName","blue_dot","iconAriaHidden","true"],["class","trip-planner-path-line",4,"ngIf"],["iconClasses","tp-icon","iconName","blue_dot","iconAriaHidden","true",4,"ngIf"],["label","Departing stop",1,"from-location",3,"id","location","excludeLocation","searchOptions","hideCurrentLocation","textValue","highlightText","errorMessage","hideMapLink","inputTextChange","locationChange","inputBlur","formSubmit","mapLinkClick"],["DepartureSearchFrom",""],["class","to-location","label","Arriving stop (optional)",3,"id","location","excludeLocation","searchOptions","hideCurrentLocation","textValue","highlightText","errorMessage","alertBoxMessage","hideMapLink","inputTextChange","locationChange","inputBlur","formSubmit","mapLinkClick",4,"ngIf"],["class","sr-only","role","alert","aria-live","assertive","aria-atomic","true",4,"ngIf"],["class","mode-select-container",4,"ngIf"],["class","departures-search-form-footer",3,"ngClass",4,"ngIf"],[4,"cdkPortal"],[1,"trip-planner-path-line"],["label","Arriving stop (optional)",1,"to-location",3,"id","location","excludeLocation","searchOptions","hideCurrentLocation","textValue","highlightText","errorMessage","alertBoxMessage","hideMapLink","inputTextChange","locationChange","inputBlur","formSubmit","mapLinkClick"],["DepartureSearchTo",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"sr-only"],[1,"mode-select-container"],[3,"preferencesForm","motTypes","showRows","showHeader","noShowModes","excludedModes","lastClicked"],[1,"departures-search-form-footer",3,"ngClass"],[1,"departures-options-panel"],[3,"activeTabId","tabChange"],["tabGroup",""],["titlePrefix","change date and time. current selection is ","tabId","time-tab",3,"ariaExpanded","title"],["name","optionDateTimeSelection",3,"formControl","tniDateTimeSelectorDayRange","isDepartures"],["dateTimeSelector",""],[1,"go-btn-wrap","departures-buttons-panel"],["type","button",1,"btn","btn-primary","go-btn","date-time-btn",3,"click"],["tabIcon","preferences","tabId","preferences-tab","title","Filters"],["preferencesTab",""],["class","portal-container",4,"cdkPortal"],[4,"ngIf"],[1,"portal-container"],["trapFocus","",1,"tfnsw-site-design","preferences-fullscreen",3,"escapeTrapFocus"],["tabindex","0","role","alert",1,"sr-only"],[1,"preferences-header"],["role","button","id","resetPreferences","type","button",1,"btn","btn-tertiary","departure-filters",3,"click"],["role","button","id","cancelPreferences","type","button",1,"btn","btn-tertiary","departure-filters",3,"click"],[3,"group","isDepartures"],[1,"departures_divider"],[1,"refine-header"],[1,"tni-departures-route-filter--mobile",3,"fromLocation","toLocation","routes","routesChange"],["id","preferencesApply",1,"go-btn-wrap","trip-planner-buttons-panel","trip-preferences-buttons-panel"],["type","button",1,"btn","btn-primary","go-btn","refine-btn-desktop",3,"click"],["trapFocus","",1,"preferences-desktop",3,"escapeTrapFocus"],["role","alert","tabindex","0",1,"sr-only"],["role","button","id","resetPreferences","type","button","tabindex","0",1,"btn","btn-tertiary","departure-filters",3,"click"],["role","button","id","cancelPreferences","type","button","tabindex","0",1,"btn","btn-tertiary","departure-filters",3,"click"],[1,"tni-departures-route-filter--desktop",3,"fromLocation","toLocation","routes","routesChange"],[3,"ariaLabel","closeAtBottomLayout","fullscreenMobile","closeEvent",4,"ngIf"],[3,"ariaLabel","closeAtBottomLayout","fullscreenMobile","closeEvent"],[1,"modal-text"]],template:function(t,e){if(1&t&&(C.\u0275\u0275elementStart(0,"div",0),C.\u0275\u0275elementStart(1,"form",1),C.\u0275\u0275elementStart(2,"div",2),C.\u0275\u0275elementStart(3,"div",3),C.\u0275\u0275elementStart(4,"div",4),C.\u0275\u0275elementStart(5,"p"),C.\u0275\u0275element(6,"tni-icon",5),C.\u0275\u0275elementEnd(),C.\u0275\u0275template(7,K,1,0,"span",6),C.\u0275\u0275elementStart(8,"p"),C.\u0275\u0275template(9,Z,1,0,"tni-icon",7),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(10,"tni-location-search",8,9),C.\u0275\u0275listener("inputTextChange",(function(t){return e.onFromInputTextChange(t)}))("locationChange",(function(t){return e.departures.fromLocation=t}))("inputBlur",(function(t){return e.onInputBlur(t)}))("locationChange",(function(){return e.fromLocationChange()}))("formSubmit",(function(){return e.onSearch(e.departures.excludedModes)}))("mapLinkClick",(function(t){return e.mapLinkClick(t)})),C.\u0275\u0275elementEnd(),C.\u0275\u0275template(12,tt,2,13,"tni-location-search",10),C.\u0275\u0275elementEnd(),C.\u0275\u0275template(13,et,2,1,"span",11),C.\u0275\u0275template(14,nt,2,5,"div",12),C.\u0275\u0275pipe(15,"async"),C.\u0275\u0275elementEnd(),C.\u0275\u0275template(16,at,15,12,"div",13),C.\u0275\u0275pipe(17,"async"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275template(18,ct,2,1,"ng-container",14)),2&t){var n=null;const t=e.showSearchFooter&&(null==(n=C.\u0275\u0275pipeBind1(17,18,e.departures$))?null:n.length)>=0;C.\u0275\u0275advance(2),C.\u0275\u0275property("ngClass",C.\u0275\u0275pureFunction1(20,lt,e.showToDepartures)),C.\u0275\u0275advance(5),C.\u0275\u0275property("ngIf",e.showToDepartures),C.\u0275\u0275advance(2),C.\u0275\u0275property("ngIf",e.showToDepartures),C.\u0275\u0275advance(1),C.\u0275\u0275property("id","tniFromDepartureLocation")("location",e.departures.fromLocation)("excludeLocation",e.departures.toLocation)("searchOptions",C.\u0275\u0275pureFunction0(22,ut))("hideCurrentLocation",!0)("textValue",e.departures.fromText)("highlightText",!1)("errorMessage",e.departures.fromError)("hideMapLink",e.hideMapLink),C.\u0275\u0275advance(2),C.\u0275\u0275property("ngIf",e.showToDepartures),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",!!e.modeChanged),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",C.\u0275\u0275pipeBind1(15,16,!e.isLoading&&e.showModeFilter$)),C.\u0275\u0275advance(2),C.\u0275\u0275property("ngIf",t)}},directives:[R.\u0275angular_packages_forms_forms_y,R.NgControlStatusGroup,R.NgForm,z.NgClass,F.IconComponent,z.NgIf,j.LocationSearchComponent,B.CdkPortal,q.ModeSelectComponent,V.TniTabGroupComponent,Y.TniTabComponent,H.DateTimeSelectorComponent,R.NgControlStatus,R.FormControlDirective,W.TrapFocusDirective,U.ServiceOptionsComponent,X.DeparturesRouteFilterComponent,G.ModalComponent,G.ModalTitleDirective],pipes:[z.AsyncPipe],styles:[".departures-container[_ngcontent-%COMP%]{font-size:14px}.departures-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]{position:absolute;top:33px;left:-22px;display:flex;flex-direction:column;align-items:center}.departures-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.departures-container[_ngcontent-%COMP%]   .trip-planner-path-line[_ngcontent-%COMP%]{box-sizing:border-box;height:50px;width:1px;background:#ddd}.departures-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#757575}.departures-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{color:#1d69b4}.departures-container[_ngcontent-%COMP%]   .trip-planner-path[_ngcontent-%COMP%]     .tp-icon{width:10px;min-width:10px;height:10px}.departures-container[_ngcontent-%COMP%]   .tp-search-switch[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);position:absolute;top:calc(50% - 20px);right:-20px;border-radius:40px;width:40px;height:40px;background:#fff;fill:#333;color:#333;transition:background .05s ease-in-out;border:none}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departures-container[_ngcontent-%COMP%]   .tp-search-switch[_ngcontent-%COMP%]{margin-right:10px}}.departures-container[_ngcontent-%COMP%]   .go-btn-wrap[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);flex-shrink:0;padding:0;margin-bottom:24px}.departures-container[_ngcontent-%COMP%]   .go-btn-wrap[_ngcontent-%COMP%]   .more-options-link[_ngcontent-%COMP%]{font-weight:lighter;font-size:14px;margin-right:2px;text-decoration:underline}.departures-container[_ngcontent-%COMP%]   .go-btn-wrap[_ngcontent-%COMP%]   .go-btn[_ngcontent-%COMP%]{width:100%}.departures-container[_ngcontent-%COMP%]   .departures-search-form-footer[_ngcontent-%COMP%], .departures-container[_ngcontent-%COMP%]   .departures-search-form-main[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);background-color:#fff;position:relative}.departures-container[_ngcontent-%COMP%]   .departures-search-form-footer__to-from[_ngcontent-%COMP%], .departures-container[_ngcontent-%COMP%]   .departures-search-form-main__to-from[_ngcontent-%COMP%]{position:relative}.departures-container[_ngcontent-%COMP%]   .departures-search-form-main[_ngcontent-%COMP%]{padding:12px 32px}.departures-container[_ngcontent-%COMP%]   .departures-search-form-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:baseline;padding:0;width:100%;position:relative;transition:top .5s ease;transition:position .5s ease}.departures-container[_ngcontent-%COMP%]   .departures-search-form-footer--overlay[_ngcontent-%COMP%]{position:absolute!important;top:0}.departures-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{background:#f2f2f2}.departures-container[_ngcontent-%COMP%]   .to-location[_ngcontent-%COMP%]{display:block}.departures-container[_ngcontent-%COMP%]   .departures-search-form-main.extended[_ngcontent-%COMP%]{min-height:185px}.departures-container[_ngcontent-%COMP%]   .departures-search-form-footer[_ngcontent-%COMP%]   .departures-date-time-selector-toggle[_ngcontent-%COMP%]{width:calc(100% - 145px)}.departures-container[_ngcontent-%COMP%]   .departures-search-form-footer[_ngcontent-%COMP%]   .departures-date-time-selector-toggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex}.departures-container[_ngcontent-%COMP%]   .departures-search-form-footer[_ngcontent-%COMP%]   .departures-date-time-selector-toggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .time-options-trunc[_ngcontent-%COMP%]{padding-left:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.departures-container[_ngcontent-%COMP%]   .trip-preferences-buttons-panel[_ngcontent-%COMP%]{background-color:#fff;bottom:0;box-shadow:0 -1px 5px 0 rgba(0,0,0,.2);margin:0;padding:16px;position:-webkit-sticky;position:sticky;z-index:10}.departures-container[_ngcontent-%COMP%]   .departures-path[_ngcontent-%COMP%]{position:absolute;left:-34px;top:6.5%}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.departures-container[_ngcontent-%COMP%]   .departures-path[_ngcontent-%COMP%]{left:-26px}}.departures-container[_ngcontent-%COMP%]   .departures-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:16px 0}.departures-container[_ngcontent-%COMP%]   .departures-path-line[_ngcontent-%COMP%]{position:absolute;box-sizing:border-box;height:50px;border:1px solid #ddd;left:12px;top:46px}.departures-container[_ngcontent-%COMP%]   .departures-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:16px;min-width:16px;height:16px}.departures-container[_ngcontent-%COMP%]   .departures-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#757575}.departures-container[_ngcontent-%COMP%]   .departures-path[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-top:62px;color:#1d69b4}.departures_divider[_ngcontent-%COMP%]{margin:20px 10px 10px;border-top-width:1px;border-top-color:#ddd}.refine-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-left:10px;color:#171717}.trip-preference[_ngcontent-%COMP%]{padding:0 16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.trip-preference[_ngcontent-%COMP%]{padding:0 10px}}  .trip-preference h4{color:#171717}  .trip-preference h5{font-weight:400;font-size:14px;color:#373636}  .trip-preference .info-modal{position:absolute;right:5px;top:10px;cursor:pointer}  .trip-preference .icon-wrap{float:right;line-height:35px;cursor:pointer}.departures-options-panel[_ngcontent-%COMP%]{width:100%;z-index:2}.preferences-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);background:#fff;height:46px;position:-webkit-sticky;position:sticky;top:0;z-index:99999999}.preferences-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{padding:8px;font-size:14px;font-weight:500;letter-spacing:.4px;line-height:24px;color:#1c1c1b}.btn-tertiary[_ngcontent-%COMP%]{font-size:14px!important}tni-mode-select[_ngcontent-%COMP%]{display:block;margin:16px 0}.mode-select-container[_ngcontent-%COMP%]{margin-right:-32px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.mode-select-container[_ngcontent-%COMP%]{overflow:scroll}}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;background:transparent;display:none}.departure-filters[_ngcontent-%COMP%]{text-transform:capitalize!important;font-weight:400}  tni-location-search .form-input input:focus{outline:0!important}  .invalid .form-input__input{border:solid #af1919!important;border-width:1px 1px 2px!important}  .popover-content{color:#af1919!important}"]})},nXHs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RadioButtonComponent=void 0;const r=n("8Y7J"),i=n("s7LF"),o=n("8Y7J"),a=n("SVse"),s=n("0njA"),c=["radioButton"];function l(t,e){if(1&t&&o.\u0275\u0275element(0,"tni-icon",5),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275property("iconName",t.icon)("iconAriaHidden",!0)}}const u=function(t,e){return{"badge-label-icon":t,"badge-label":e}};class p{constructor(){this.onChanged=()=>{},this.onTouched=()=>{}}writeValue(t){this.radioElement.nativeElement.checked=t===this.value}registerOnChange(t){this.onChanged=t}registerOnTouched(t){this.onTouched=t}selectRadioButton(){this.onChanged(this.radioElement.nativeElement.value)}}e.RadioButtonComponent=p,p.\u0275fac=function(t){return new(t||p)},p.\u0275cmp=o.\u0275\u0275defineComponent({type:p,selectors:[["tni-radio-button"]],viewQuery:function(t,e){var n;1&t&&o.\u0275\u0275staticViewQuery(c,!0),2&t&&o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.radioElement=n.first)},inputs:{value:"value",icon:"icon",text:"text",radioGroupName:"radioGroupName"},features:[o.\u0275\u0275ProvidersFeature([{provide:i.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(()=>p),multi:!0}])],decls:6,vars:13,consts:[["role","radio","tabindex","0",1,"btn","btn-default","btn-radio-button",3,"keyup.enter","click","keydown.space"],["iconClasses","xs badge-icon",3,"iconName","iconAriaHidden",4,"ngIf"],["type","radio",1,"badgebox",3,"click"],["radioButton",""],[3,"ngClass"],["iconClasses","xs badge-icon",3,"iconName","iconAriaHidden"]],template:function(t,e){if(1&t){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",0),o.\u0275\u0275listener("keyup.enter",(function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275reference(3).click()}))("click",(function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275reference(3).click()}))("keydown.space",(function(e){o.\u0275\u0275restoreView(t);const n=o.\u0275\u0275reference(3);return e.preventDefault(),n.click()})),o.\u0275\u0275template(1,l,1,2,"tni-icon",1),o.\u0275\u0275elementStart(2,"input",2,3),o.\u0275\u0275listener("click",(function(){return e.selectRadioButton()})),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"span",4),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&t){const t=o.\u0275\u0275reference(3);o.\u0275\u0275classProp("active",t.checked)("hasIcon",e.icon),o.\u0275\u0275attribute("aria-checked",t.checked),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.icon),o.\u0275\u0275advance(1),o.\u0275\u0275attribute("name",e.radioGroupName)("value",e.value),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction2(10,u,e.icon,null==e.icon)),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(e.text)}},directives:[a.NgIf,a.NgClass,s.IconComponent],styles:[".badgebox[_ngcontent-%COMP%]{opacity:0;display:none;visibility:hidden}.badge-label[_ngcontent-%COMP%], .hasIcon[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{color:#757575;display:inline-block}.hasIcon[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{position:absolute;left:32px;top:4px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.hasIcon[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{margin-top:0}}.hasIcon[_ngcontent-%COMP%]   .badge-label-icon[_ngcontent-%COMP%]{color:#757575;text-align:center}.btn.btn-default.btn-radio-button[_ngcontent-%COMP%]{background:#fff}.btn.btn-default[_ngcontent-%COMP%]{position:relative;padding:5px;width:100%;height:40px;margin-bottom:8px;display:grid;justify-items:center;align-items:center;font-size:13px;font-weight:400}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.btn.btn-default[_ngcontent-%COMP%]{font-size:12px}}.btn.btn-default.hasIcon[_ngcontent-%COMP%]{justify-items:start;align-items:center;grid-column-gap:5px;grid-template-columns:20px 1fr}.btn.btn-default.hasIcon[_ngcontent-%COMP%]     .badge-icon{position:absolute;top:50%;transform:translateY(-50%);left:5px}.btn.btn-default[_ngcontent-%COMP%]:hover{background:#fff!important;border-color:#1d69b4!important}.btn.btn-default.active[_ngcontent-%COMP%]{background:rgba(29,105,180,.1);border:1px solid #175490;box-shadow:none;color:#175490;font-weight:500}.btn.btn-default.active[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{color:#175490}.btn.btn-default.active[_ngcontent-%COMP%]:focus, .btn.btn-default.active[_ngcontent-%COMP%]:hover{background:rgba(29,105,180,.1)!important;border-color:#1d69b4!important;color:#175490!important}.btn.btn-default.active[_ngcontent-%COMP%]   .badge-label-icon[_ngcontent-%COMP%]{color:#175490}"]})},nYR2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("quSY");function o(t){return e=>e.lift(new a(t))}class a{constructor(t){this.callback=t}call(t,e){return e.subscribe(new s(t,this.callback))}}class s extends r.a{constructor(t,e){super(t),this.add(new i.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},nu6g:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepartureResultsComponent=void 0;const r=n("8Y7J"),i=n("KQMD"),o=n("xeYu"),a=n("zpQm"),s=n("ywyY"),c=n("8Y7J"),l=n("tqRt"),u=n("NfbF"),p=n("SVse"),d=n("0njA"),h=n("BRcV");function f(t,e){1&t&&c.\u0275\u0275element(0,"tni-icon",13)}function m(t,e){1&t&&c.\u0275\u0275element(0,"tni-icon",14)}function g(t,e){if(1&t){const t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"button",10),c.\u0275\u0275listener("click",(function(n){c.\u0275\u0275restoreView(t);const r=e.ngIf;return c.\u0275\u0275nextContext().toggleFavourite(n,r.departureId,r.isCurrentDepartureFavourited)}))("keyup.enter",(function(n){c.\u0275\u0275restoreView(t);const r=e.ngIf;return c.\u0275\u0275nextContext().toggleFavourite(n,r.departureId,r.isCurrentDepartureFavourited)})),c.\u0275\u0275template(1,f,1,0,"tni-icon",11),c.\u0275\u0275template(2,m,1,0,"tni-icon",12),c.\u0275\u0275text(3," Favourite "),c.\u0275\u0275elementEnd()}if(2&t){const t=e.ngIf;c.\u0275\u0275attribute("aria-label",t.isCurrentDepartureFavourited?"remove from favourite":"add to favourite"),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",!t.isCurrentDepartureFavourited),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",t.isCurrentDepartureFavourited)}}function y(t,e){if(1&t){const t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"tni-departure-result",15),c.\u0275\u0275listener("toggle",(function(n){c.\u0275\u0275restoreView(t);const r=e.index;return c.\u0275\u0275nextContext().onToggleCard(n,r)})),c.\u0275\u0275elementEnd()}if(2&t){const t=e.$implicit,n=e.index,r=c.\u0275\u0275nextContext();c.\u0275\u0275property("result",t)("destStopFilter",r.destStopFilter)("index",n)("isResultWithNoArrivalStop",r.isResultsWithNoArrivalStop)}}const _=function(t,e){return{departureId:t,isCurrentDepartureFavourited:e}};class v{constructor(t,e){this.store=t,this.trackEventService=e,this.isResultsWithNoArrivalStop=!1,this.activeDeparture=new r.EventEmitter,this.clearDeparture=new r.EventEmitter}set departureResults(t){const e=t.filter(t=>{var e;return!!(null===(e=t.properties)||void 0===e?void 0:e.numberOfCars)}).length;e>0&&this.trackShortPlatforms(e),this.depResults=t}onToggleCard(t,e){t&&this.activeDeparture.emit(e)}ngOnInit(){this.selectDepartureId$=this.store.select(o.selectDepartureId),this.selectIsCurrentDepartureFavourited$=this.store.select(o.selectIsCurrentDepartureFavourited),this.lastUpdated$=this.store.select(o.selectDeparturesLastRefreshedTime)}trackShortPlatforms(t){this.trackEventService.trackEvent(a.EventCategory.NIFShortPlatform,{action:s.EventAction.SummaryCardLozengeCount,label:t.toString()})}clearDepartures(){this.clearDeparture.emit()}toggleFavourite(t,e,n){t.preventDefault(),t.stopPropagation(),this.trackEventService.trackEvent(a.EventCategory.Departures,n?{action:s.EventAction.RemoveFavourite,label:"Remove favourite - Departure results"}:{action:s.EventAction.SetFavourite,label:"Set favourite - Departure results"}),this.store.dispatch(new i.ChangeFavStateDepartureSearchAction({id:e}))}}e.DepartureResultsComponent=v,v.\u0275fac=function(t){return new(t||v)(c.\u0275\u0275directiveInject(l.Store),c.\u0275\u0275directiveInject(u.TrackEventService))},v.\u0275cmp=c.\u0275\u0275defineComponent({type:v,selectors:[["tni-departure-results"]],inputs:{destStopFilter:"destStopFilter",isResultsWithNoArrivalStop:"isResultsWithNoArrivalStop",departureResults:"departureResults"},outputs:{activeDeparture:"activeDeparture",clearDeparture:"clearDeparture"},decls:18,vars:14,consts:[["role","alert","aria-live","polite",1,"sr-only"],["role","tabpanel","aria-labelledby","trip-transport-filter-tab__public-transport"],[1,"sr-only"],[1,"buttons"],["class","result-actions-favourite",3,"click","keyup.enter",4,"ngIf"],["aria-label","Clear and start over",1,"result-actions-clear",3,"click"],[3,"result","destStopFilter","index","isResultWithNoArrivalStop","toggle",4,"ngFor","ngForOf"],["tabindex","0",1,"departure-results__last-updated"],[1,"departure-results__last-updated--text"],["iconClasses","xs animate",3,"iconName","iconAriaHidden"],[1,"result-actions-favourite",3,"click","keyup.enter"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-unselected","iconAriaHidden","true",4,"ngIf"],["iconClasses","tp-icon sm favourite-selected","iconName","favourite-selected","iconAriaHidden","true",4,"ngIf"],["iconClasses","tp-icon sm favourite-unselected","iconName","favourite-unselected","iconAriaHidden","true"],["iconClasses","tp-icon sm favourite-selected","iconName","favourite-selected","iconAriaHidden","true"],[3,"result","destStopFilter","index","isResultWithNoArrivalStop","toggle"]],template:function(t,e){1&t&&(c.\u0275\u0275elementStart(0,"div"),c.\u0275\u0275elementStart(1,"p",0),c.\u0275\u0275text(2,"Search complete"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"div",1),c.\u0275\u0275elementStart(4,"span",2),c.\u0275\u0275text(5,"Public transport results"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(6,"div",3),c.\u0275\u0275template(7,g,4,3,"button",4),c.\u0275\u0275pipe(8,"async"),c.\u0275\u0275pipe(9,"async"),c.\u0275\u0275elementStart(10,"button",5),c.\u0275\u0275listener("click",(function(){return e.clearDepartures()})),c.\u0275\u0275text(11," Clear "),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(12,y,1,4,"tni-departure-result",6),c.\u0275\u0275elementStart(13,"div",7),c.\u0275\u0275elementStart(14,"div",8),c.\u0275\u0275text(15),c.\u0275\u0275pipe(16,"async"),c.\u0275\u0275element(17,"tni-icon",9),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&t&&(c.\u0275\u0275advance(7),c.\u0275\u0275property("ngIf",c.\u0275\u0275pureFunction2(11,_,c.\u0275\u0275pipeBind1(8,5,e.selectDepartureId$),c.\u0275\u0275pipeBind1(9,7,e.selectIsCurrentDepartureFavourited$))),c.\u0275\u0275advance(5),c.\u0275\u0275property("ngForOf",e.depResults),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate1(" Last Updated: ",c.\u0275\u0275pipeBind1(16,9,e.lastUpdated$)," "),c.\u0275\u0275advance(2),c.\u0275\u0275property("iconName","timer-15secs")("iconAriaHidden",!0))},directives:[p.NgIf,p.NgForOf,d.IconComponent,h.DepartureResultComponent],pipes:[p.AsyncPipe],styles:[".departure-results__last-updated[_ngcontent-%COMP%]{color:#555;font-family:Roboto;font-size:12px;letter-spacing:0;text-align:center;height:48px;background-color:#fff;box-shadow:0 -1px 0 0 rgba(0,0,0,.05);position:-webkit-sticky;position:sticky;margin-left:-7px;margin-right:-8px;bottom:0;z-index:100;overflow:hidden}.departure-results__last-updated--text[_ngcontent-%COMP%]{padding-top:14px}.buttons[_ngcontent-%COMP%]{padding:0 0 16px 8px;overflow:hidden;margin-top:8px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .tp-icon{height:15px;width:15px;min-width:15px;fill:#979797;margin:-5px 3px 0 -5px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .favourite-selected{color:#1d69b4}.buttons[_ngcontent-%COMP%]   .result-actions-clear[_ngcontent-%COMP%], .buttons[_ngcontent-%COMP%]   .result-actions-favourite[_ngcontent-%COMP%]{font-size:13px;color:#555;line-height:20px;height:32px;width:58px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-radius:2px;border:none;background:#fff;float:right;margin-right:6px}.buttons[_ngcontent-%COMP%]   .result-actions-favourite[_ngcontent-%COMP%]{width:105px}"]})},nxVU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripMapLayersService=void 0;const r=n("iFc6"),i=n("8Y7J"),o=n("HB/O"),a=n("B0Le"),s=n("ZDRT");class c{constructor(t,e,n,r){this.boundsService=t,this.geoJsonTemplates=e,this.ngZone=n,this.onDemandService=r}createTripMapMarker(t,e,n,r,i,o,a){return t&&t.coordinates?{type:e,title:t.disassembledName?t.disassembledName.split(",")[0].trim():"",messageBody:t.name?t.name.split(",")[0].trim():"",icon:n,colour:o,geometry:{type:"Point",coordinates:t.coordinates.concat().reverse()},identifier:i?`${e}${i}`:e,links:a,clickable:r}:null}createLegOriginMarker(t,e,n){let i;"drive"===n&&(n="car"),i=n===r.TniConstant.MAPBOX_CONSTANTS.origin_layer_icon?n:"tp_"+n+"-marker";const o=t.coordinates.concat().reverse(),a=this.createMapSymbol(e+"-start-marker",i,o);return a.layout["icon-offset"]=[0,-20],a}createTripDestinationLayer(t,e=0){if(t&&t.coordinates){const n=this.createMapSymbol(r.TniConstant.MAPBOX_CONSTANTS.destination_layer_id+"-"+e,"tp_"+r.TniConstant.MAPBOX_CONSTANTS.destination_layer_icon,t.coordinates.concat().reverse());return n.layout["icon-offset"]=[0,-25],n}return null}createStopsLayer(t,e,n){const r=this.geoJsonTemplates.getCircleLayer(e+"-stops");return r.paint["circle-color"]=n,t.forEach(t=>{r.source.data.features.push(this.geoJsonTemplates.createFeatureFromStop(t,n))}),r}createMapSymbol(t,e,n){const r=this.geoJsonTemplates.getSymbolLayer(t,e),i=this.geoJsonTemplates.getSymbolFeature();return i.geometry.coordinates=n,r.source.data.features.push(i),r}createTripLegMapLayer(t,e,n,i,o){const a=this.geoJsonTemplates.getLineLayerTemplate(e+"-line");return this.appendLineFeature(a,t.coordinates),this.setLineColour(a,n),i&&this.setLineOpacity(a,i),o&&this.setLineWidth(a,o),r.TniConstant.WALK_LEG_PRODUCTIDS.includes(t.transportation.networkId||t.transportation.productId)&&this.setDashedLine(a),a.productId=t.transportation&&t.transportation.productId,a}createDepartureLegMapLayer(t,e,n,r){const i=this.geoJsonTemplates.getLineLayerTemplate(n+"-line");return this.appendLineFeature(i,t),this.setLineColour(i,r),i.productId=e,i}getTripLegMapLayer(t,e){const n=`trip-0-leg-${e.index}-line`;return t.find(t=>t.id===n)}clearMapTripLayer(t,e){e&&(e.routes&&this._removeLayers(t,e.routes),e.legOrigins&&this._removeLayers(t,e.legOrigins),e.tripDestination&&this._removeLayers(t,[e.tripDestination]),e.legStops&&this._removeLayers(t,e.legStops),e.onDemandLayers&&this.onDemandService.hideOnDemandLayers(t,e.onDemandLayers))}setLineWidth(t,e){t.paint["line-width"]=e}setLineOpacity(t,e){t.paint["line-opacity"]=e}setLineColour(t,e){t.paint["line-color"]=e}setDashedLine(t){t.paint["line-dasharray"]=[1,3],t.paint["line-width"]=4}hideOnDemandRoute(t){t.paint["line-opacity"]=0}appendLineFeature(t,e){const n=this.geoJsonTemplates.getLineFeatureTemplate();e.forEach(t=>{n.geometry.coordinates.push(t.concat().reverse())}),t.source.data.features.push(n)}updateTripLayers(t,e,n){if(n&&(n.routes&&this._removeLayers(t,n.routes),n.legOrigins&&this._removeLayers(t,n.legOrigins),n.legStops&&this._removeLayers(t,n.legStops),n.tripDestination&&this._removeLayers(t,[n.tripDestination]),n.onDemandLayers&&(this.onDemandService.hideOnDemandLayers(t,n.onDemandLayers.filter(t=>!e.onDemandLayers.includes(t))),n.onDemandLayers=[])),e){let n=[],r=[];return e.fitTo&&this.zoomToTrip(t,e.fitTo),e.routes&&(r=this.addLayers(t,e.routes)),e.legStops&&(n=this.addLayers(t,e.legStops)),e.legOrigins&&this.addLayers(t,e.legOrigins.sort((t,e)=>e.productId-t.productId)),e.tripDestination&&this.addLayers(t,[e.tripDestination]),{routeClickableLayers:r,stopsClickableLayers:n}}}zoomToTrip(t,e){this.ngZone.runOutsideAngular(()=>{const n=this.boundsService.calculateBoundsFromLayers(e);n&&t.fitBounds(n,{padding:40})})}zoomToRoute(t,e){this.zoomToTrip(t,[e])}addLayers(t,e){return this.ngZone.runOutsideAngular(()=>{const n=[];return e.forEach(e=>{t.addLayer(e),n.push(e.id)}),n})}_removeLayers(t,e){this.ngZone.runOutsideAngular(()=>{e.forEach(e=>{t.removeLayer(e.id),t.removeSource(e.id)})})}}e.TripMapLayersService=c,c.\u0275fac=function(t){return new(t||c)(i.\u0275\u0275inject(o.MapBoundsService),i.\u0275\u0275inject(a.GeoJsonTemplates),i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(s.OnDemandService))},c.\u0275prov=i.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})},nyYc:function(t,e,n){!function(t){"use strict";t.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n("wd/R"))},"o+yI":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureToggleService=void 0;const r=n("kU1M"),i=n("iFc6"),o=n("8Y7J"),a=n("IheW");class s{constructor(t){this.http=t}getConfig(){let t=i.TniConstant.FEATURE_TOGGLE_ENDPOINT;return t=this.debug?t.concat("?debug=true"):t,this.featureToggleObservable||(this.featureToggleObservable=this.http.get(t).pipe(r.shareReplay(1))),this.featureToggleObservable}}e.FeatureToggleService=s,s.\u0275fac=function(t){return new(t||s)(o.\u0275\u0275inject(a.HttpClient))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},o1bE:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-dz",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u0623\u062d_\u0625\u062b_\u062b\u0644\u0627_\u0623\u0631_\u062e\u0645_\u062c\u0645_\u0633\u0628".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:4}})}(n("wd/R"))},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("EQ5u");function i(t,e){return function(n){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new o(i,e));const a=Object.create(n,r.b);return a.source=n,a.subjectFactory=i,a}}class o{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},oR9y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TniModeSummaryModule=void 0;const r=n("SVse"),i=n("+pSP"),o=n("tww8"),a=n("8Y7J");class s{}e.TniModeSummaryModule=s,s.\u0275mod=a.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=a.\u0275\u0275defineInjector({factory:function(t){return new(t||s)},imports:[[r.CommonModule,i.TniIconModule,o.HighlightTextModule]]})},odFb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppView=void 0,e.AppView=function(t){return t.ListView="List view",t.MapView="Map view",t}(e.AppView||{})},omvX:function(t,e,n){"use strict";n.r(e),n.d(e,"ANIMATION_MODULE_TYPE",(function(){return _e})),n.d(e,"BrowserAnimationsModule",(function(){return xe})),n.d(e,"NoopAnimationsModule",(function(){return we})),n.d(e,"\u0275AnimationRenderer",(function(){return he})),n.d(e,"\u0275AnimationRendererFactory",(function(){return pe})),n.d(e,"\u0275BrowserAnimationBuilder",(function(){return se})),n.d(e,"\u0275BrowserAnimationFactory",(function(){return ce})),n.d(e,"\u0275InjectableAnimationEngine",(function(){return fe})),n.d(e,"\u0275angular_packages_platform_browser_animations_animations_a",(function(){return me})),n.d(e,"\u0275angular_packages_platform_browser_animations_animations_b",(function(){return ge})),n.d(e,"\u0275angular_packages_platform_browser_animations_animations_c",(function(){return ye})),n.d(e,"\u0275angular_packages_platform_browser_animations_animations_d",(function(){return be})),n.d(e,"\u0275angular_packages_platform_browser_animations_animations_e",(function(){return Me})),n.d(e,"\u0275angular_packages_platform_browser_animations_animations_f",(function(){return de}));var r=n("8Y7J"),i=n("cUpR"),o=n("GS7A");function a(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function s(t){switch(t.length){case 0:return new o.NoopAnimationPlayer;case 1:return t[0];default:return new o["\u0275AnimationGroupPlayer"](t)}}function c(t,e,n,r,i={},a={}){const s=[],c=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,p=r&&u||{};Object.keys(t).forEach(n=>{let r=n,c=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),c){case o["\u0275PRE_STYLE"]:c=i[n];break;case o.AUTO_STYLE:c=a[n];break;default:c=e.normalizeStyleValue(n,r,c,s)}p[r]=c}),r||c.push(p),u=p,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return c}function l(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&u(n,"start",t)));break;case"done":t.onDone(()=>r(n&&u(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&u(n,"destroy",t)))}}function u(t,e,n){const r=n.totalTime,i=p(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function p(t,e,n,r,i="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function d(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function h(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let f=(t,e)=>!1,m=(t,e)=>!1,g=(t,e,n)=>[];const y=a();(y||"undefined"!=typeof Element)&&(f=(t,e)=>t.contains(e),m=(()=>{if(y||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):m}})(),g=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let _=null,v=!1;function b(t){_||(_=("undefined"!=typeof document?document.body:null)||{},v=!!_.style&&"WebkitAppearance"in _.style);let e=!0;return _.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in _.style,!e&&v)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in _.style),e}const M=m,x=f,w=g;function C(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let S=(()=>{class t{validateStyleProperty(t){return b(t)}matchesElement(t,e){return M(t,e)}containsElement(t,e){return x(t,e)}query(t,e,n){return w(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,a=[],s){return new o.NoopAnimationPlayer(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{}return t.NOOP=new S,t})();function T(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:O(parseFloat(e[1]),e[2])}function O(t,e){switch(e){case"s":return 1e3*t;default:return t}}function A(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=O(parseFloat(n[1]),n[2]);const a=n[3];null!=a&&(i=O(parseFloat(a),n[4]));const s=n[5];s&&(o=s)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function P(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function L(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else P(t,n);return n}function k(t,e,n){return n?e+":"+n+";":""}function I(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=k(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=k(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function D(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=V(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),a()&&I(t))}function N(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=V(e);t.style[n]=""}),a()&&I(t))}function R(t){return Array.isArray(t)?1==t.length?t[0]:Object(o.sequence)(t):t}const z=new RegExp("{{\\s*(.+?)\\s*}}","g");function F(t){let e=[];if("string"==typeof t){let n;for(;n=z.exec(t);)e.push(n[1]);z.lastIndex=0}return e}function j(t,e,n){const r=t.toString(),i=r.replace(z,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function B(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const q=/-+([a-z0-9])/g;function V(t){return t.replace(q,(...t)=>t[1].toUpperCase())}function Y(t,e){return 0===t||0===e}function H(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],a=[];if(r.forEach(t=>{o.hasOwnProperty(t)||a.push(t),o[t]=n[t]}),a.length)for(var i=1;i<e.length;i++){let n=e[i];a.forEach((function(e){n[e]=U(t,e)}))}}return e}function W(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function U(t,e){return window.getComputedStyle(t)[e]}function X(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],a=r[3];e.push($(i,a)),"<"!=o[0]||"*"==i&&"*"==a||e.push($(a,i))}(t,n,e)):n.push(t),n}const G=new Set(["true","1"]),J=new Set(["false","0"]);function $(t,e){const n=G.has(t)||J.has(t),r=G.has(e)||J.has(e);return(i,o)=>{let a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?G.has(t):J.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?G.has(e):J.has(e)),a&&s}}const K=new RegExp("s*:selfs*,?","g");function Z(t,e,n){return new Q(t).build(e,n)}class Q{constructor(t){this._driver=t}build(t,e){const n=new tt(e);return this._resetContextStyleTimingState(n),W(this,R(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(et(t)){const e=t;Object.keys(e).forEach(t=>{F(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=B(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=W(this,R(t.animation),e);return{type:1,matchers:X(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:nt(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>W(this,t,e)),options:nt(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=W(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:nt(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return rt(A(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=rt(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||A(r,e),rt(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Object(o.style)({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,a=!1;if(!i){a=!0;const t={};n.easing&&(t.easing=n.easing),i=Object(o.style)(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=a,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==o.AUTO_STYLE?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(et(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],a=o[n];let s=!0;a&&(i!=r&&i>=a.startTime&&r<=a.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${a.startTime}ms" and "${a.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),s=!1),i=a.startTime),s&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=F(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,a=!1,s=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(et(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(et(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),a=a||l<0||l>1,o=o||l<s,s=l,i.push(l),n});a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const p=l-1,d=e.currentTime,h=e.currentAnimateTimings,f=h.duration;return c.forEach((t,r)=>{const o=u>0?r==p?1:u*r:i[r],a=o*f;e.currentTime=d+h.delay+a,h.duration=a,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:W(this,R(t.animation),e),options:nt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:nt(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nt(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(K,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,d(e.collectedStyles,e.currentQuerySelector,{});const a=W(this,R(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:nt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:A(t.timings,e.errors,!0);return{type:12,animation:W(this,R(t.animation),e),timings:n,options:null}}}class tt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function et(t){return!Array.isArray(t)&&"object"==typeof t}function nt(t){var e;return t?(t=P(t)).params&&(t.params=(e=t.params)?P(e):null):t={},t}function rt(t,e,n){return{duration:t,delay:e,easing:n}}function it(t,e,n,r,i,o,a=null,s=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}class ot{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const at=new RegExp(":enter","g"),st=new RegExp(":leave","g");function ct(t,e,n,r,i,o={},a={},s,c,l=[]){return(new lt).buildKeyframes(t,e,n,r,i,o,a,s,c,l)}class lt{buildKeyframes(t,e,n,r,i,o,a,s,c,l=[]){c=c||new ot;const u=new pt(t,e,c,r,i,l,[]);u.options=s,u.currentTimeline.setStyles([o],null,u.errors,s),W(this,n,u);const p=u.timelines.filter(t=>t.containsAnimation());if(p.length&&Object.keys(a).length){const t=p[p.length-1];t.allowOnlyTimelineStyles()||t.setStyles([a],null,u.errors,s)}return p.length?p.map(t=>t.buildKeyframes()):[it(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?T(n.duration):null,o=null!=n.delay?T(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),W(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ut);const t=T(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>W(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?T(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);i&&a.delayNextStep(i),W(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return A(e.params?j(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?T(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ut);let o=n;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let s=null;a.forEach((n,r)=>{e.currentQueryIndex=r;const a=e.createSubContext(t.options,n);i&&a.delayNextStep(i),n===e.element&&(s=a.currentTimeline),W(this,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,a.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),s&&(e.currentTimeline.mergeTimelineCollectedStyles(s),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1);let s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}const c=e.currentTimeline;s&&c.delayNextStep(s);const l=c.currentTime;W(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const ut={};class pt{constructor(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ut,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new dt(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=T(n.duration)),null!=n.delay&&(r.delay=T(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=j(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new pt(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ut,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ht(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(at,"."+this._enterClassName)).replace(st,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),a.push(...e)}return i||0!=a.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class dt{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dt(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||o.AUTO_STYLE,this._currentKeyframe[t]=o.AUTO_STYLE}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},a=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=o.AUTO_STYLE})):L(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(a).forEach(t=>{const e=j(a[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:o.AUTO_STYLE),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,a)=>{const s=L(i,!0);Object.keys(s).forEach(n=>{const r=s[n];r==o["\u0275PRE_STYLE"]?t.add(n):r==o.AUTO_STYLE&&e.add(n)}),n||(s.offset=a/this.duration),r.push(s)});const i=t.size?B(t.values()):[],a=e.size?B(e.values()):[];if(n){const t=r[0],e=P(t);t.offset=0,e.offset=1,r=[t,e]}return it(this.element,r,i,a,this.duration,this.startTime,this.easing,!1)}}class ht extends dt{constructor(t,e,n,r,i,o,a=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,a=e/o,s=L(t[0],!1);s.offset=0,i.push(s);const c=L(t[0],!1);c.offset=ft(a),i.push(c);const l=t.length-1;for(let r=1;r<=l;r++){let a=L(t[r],!1);a.offset=ft((e+a.offset*n)/o),i.push(a)}n=o,e=0,r="",t=i}return it(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ft(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class mt{}class gt extends mt{normalizePropertyName(t,e){return V(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(yt[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const yt=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _t(t,e,n,r,i,o,a,s,c,l,u,p,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:p,errors:d}}const vt={};class bt{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,a,s,c,l){const u=[],p=this.ast.options&&this.ast.options.params||vt,h=this.buildStyles(n,a&&a.params||vt,u),f=s&&s.params||vt,m=this.buildStyles(r,f,u),g=new Set,y=new Map,_=new Map,v="void"===r,b={params:Object.assign(Object.assign({},p),f)},M=l?[]:ct(t,e,this.ast.animation,i,o,h,m,b,c,u);let x=0;if(M.forEach(t=>{x=Math.max(t.duration+t.delay,x)}),u.length)return _t(e,this._triggerName,n,r,v,h,m,[],[],y,_,x,u);M.forEach(t=>{const n=t.element,r=d(y,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=d(_,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const w=B(g.values());return _t(e,this._triggerName,n,r,v,h,m,M,w,y,_,x)}}class Mt{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=P(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=j(o,r,e)),n[t]=o})}}),n}}class xt{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Mt(t.style,t.options&&t.options.params||{})}),wt(this.states,"true","1"),wt(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new bt(t,e,this.states))}),this.fallbackTransition=new bt(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function wt(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ct=new ot;class St{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Z(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=c(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let a;const c=new Map;if(i?(a=ct(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Ct,r),a.forEach(t=>{const e=d(c,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),a=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));c.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,o.AUTO_STYLE)})});const l=s(a.map(t=>{const e=c.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=l,l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=p(e,"","","");return l(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Et=[],Tt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ot={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class At{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=P(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Pt=new At("void");class Lt{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ft(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=d(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};o.push(a);const s=d(this._engine.statesByElement,t,{});return s.hasOwnProperty(e)||(Ft(t,"ng-trigger"),Ft(t,"ng-trigger-"+e),s[e]=Pt),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(a);t>=0&&o.splice(t,1),this._triggers[e]||delete s[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new It(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Ft(t,"ng-trigger"),Ft(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));let s=a[e];const c=new At(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&s&&c.absorbOptions(s.options),a[e]=c,s||(s=Pt),"void"!==c.value&&s.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(s.params,c.params)){const e=[],n=i.matchStyles(s.value,s.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{N(t,n),D(t,r)})}return}const l=d(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(s.value,c.value,t,c.params),p=!1;if(!u){if(!r)return;u=i.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:s,toState:c,player:o,isFallbackTransition:p}),p||(Ft(t,"ng-animate-queued"),o.onStart(()=>{jt(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&s(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||Pt,a=new At("void"),s=new It(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:a,player:s,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Tt||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ft(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=p(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,l(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class kt{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Lt(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Dt(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Dt(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ft(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jt(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Dt(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Dt(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return s(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Tt,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ft(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?s(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new ot,r=[],i=new Map,a=[],c=new Map,l=new Map,u=new Map,p=new Set;this.disabledNodes.forEach(t=>{p.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)p.add(e[n])});const h=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=zt(f,this.collectedEnterElements),g=new Map;let y=0;m.forEach((t,e)=>{const n="ng-enter"+y++;g.set(e,n),t.forEach(t=>Ft(t,n))});const _=[],v=new Set,b=new Set;for(let o=0;o<this.collectedLeaveElements.length;o++){const t=this.collectedLeaveElements[o],e=t.__ng_removed;e&&e.setForRemoval&&(_.push(t),v.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>v.add(t)):b.add(t))}const M=new Map,x=zt(f,Array.from(v));x.forEach((t,e)=>{const n="ng-leave"+y++;M.set(e,n),t.forEach(t=>Ft(t,n))}),t.push(()=>{m.forEach((t,e)=>{const n=g.get(e);t.forEach(t=>jt(t,n))}),x.forEach((t,e)=>{const n=M.get(e);t.forEach(t=>jt(t,n))}),_.forEach(t=>{this.processLeaveNode(t)})});const w=[],C=[];for(let o=this._namespaceList.length-1;o>=0;o--)this._namespaceList[o].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const o=!h||!this.driver.containsElement(h,i),s=M.get(i),p=g.get(i),f=this._buildInstruction(t,n,p,s,o);if(f.errors&&f.errors.length)C.push(f);else{if(o)return e.onStart(()=>N(i,f.fromStyles)),e.onDestroy(()=>D(i,f.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>N(i,f.fromStyles)),e.onDestroy(()=>D(i,f.toStyles)),void r.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),a.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>d(c,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=l.get(e);t||l.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(C.length){const t=[];C.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;a.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{d(S,e,[]).push(t),t.destroy()})});const T=_.filter(t=>qt(t,l,u)),O=new Map;Rt(O,this.driver,b,u,o.AUTO_STYLE).forEach(t=>{qt(t,l,u)&&T.push(t)});const A=new Map;m.forEach((t,e)=>{Rt(A,this.driver,new Set(t),l,o["\u0275PRE_STYLE"])}),T.forEach(t=>{const e=O.get(t),n=A.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const P=[],L=[],k={};a.forEach(t=>{const{element:e,player:o,instruction:a}=t;if(n.has(e)){if(p.has(e))return o.onDestroy(()=>D(e,a.toStyles)),o.disabled=!0,o.overrideTotalTime(a.totalTime),void r.push(o);let t=k;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,a,S,i,A,O);if(o.setRealPlayer(n),t===k)P.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=s(e)),r.push(o)}}else N(e,a.fromStyles),o.onDestroy(()=>D(e,a.toStyles)),L.push(o),p.has(e)&&r.push(o)}),L.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=s(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let o=0;o<_.length;o++){const t=_[o],e=t.__ng_removed;if(jt(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(c.size){let e=c.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=c.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Bt(this,t,r):this.processLeaveNode(t)}return _.length=0,P.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),P}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const a of e.timelines){const t=a.element,s=t!==r,c=d(n,t,[]);this._getPreviousPlayers(t,s,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}N(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,a){const l=e.triggerName,u=e.element,p=[],h=new Set,f=new Set,m=e.timelines.map(e=>{const s=e.element;h.add(s);const d=s.__ng_removed;if(d&&d.removedBeforeQueried)return new o.NoopAnimationPlayer(e.duration,e.delay);const m=s!==u,g=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof o["\u0275AnimationGroupPlayer"]?t(i.players,n):n.push(i)}}(t,e),e}((n.get(s)||Et).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===s),y=i.get(s),_=a.get(s),v=c(0,this._normalizer,0,e.keyframes,y,_),b=this._buildPlayer(e,v,g);if(e.subTimeline&&r&&f.add(s),m){const e=new It(t,l,s);e.setRealPlayer(b),p.push(e)}return b});p.forEach(t=>{d(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),h.forEach(t=>Ft(t,"ng-animating"));const g=s(m);return g.onDestroy(()=>{h.forEach(t=>jt(t,"ng-animating")),D(u,e.toStyles)}),f.forEach(t=>{d(r,t,[]).push(g)}),g}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new o.NoopAnimationPlayer(t.duration,t.delay)}}class It{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new o.NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>l(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){d(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Dt(t){return t&&1===t.nodeType}function Nt(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Rt(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Nt(t)));const a=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ot,a.push(r))}),t.set(r,o)});let s=0;return n.forEach(t=>Nt(t,o[s++])),a}function zt(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function Ft(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function jt(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Bt(t,e,n){s(n).onDone(()=>t.processLeaveNode(e))}function qt(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Vt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new kt(t,e,n),this._timelineEngine=new St(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const t=[],e=Z(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);a=function(t,e){return new xt(t,e)}(r,e),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=h(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=h(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Yt(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Wt(e[0]),e.length>1&&(r=Wt(e[e.length-1]))):e&&(n=Wt(e)),n||r?new Ht(t,n,r):null}let Ht=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&D(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(D(this._element,this._initialStyles),this._endStyles&&(D(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(N(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(N(this._element,this._endStyles),this._endStyles=null),D(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Wt(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Ut(i)&&(e=e||{},e[i]=t[i])}return e}function Ut(t){return"display"===t||"position"===t}class Xt{constructor(t,e,n,r,i,o,a){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Qt(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Zt(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Kt(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Gt(this._element,this._name,"paused")}resume(){Gt(this._element,this._name,"running")}setPosition(t){const e=Jt(this._element,this._name);this._position=t*this._duration,Zt(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Kt(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Qt(t,"").split(","),r=$t(n,e);r>=0&&(n.splice(r,1),Zt(t,"",n.join(",")))}(this._element,this._name))}}function Gt(t,e,n){Zt(t,"PlayState",n,Jt(t,e))}function Jt(t,e){const n=Qt(t,"");return n.indexOf(",")>0?$t(n.split(","),e):$t([n],e)}function $t(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Kt(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Zt(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Qt(t,e){return t.style["animation"+e]}class te{constructor(t,e,n,r,i,o,a,s){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Xt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:U(this.element,n))})}this.currentSnapshot=t}}class ee extends o.NoopAnimationPlayer{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=C(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ne{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return b(t)}matchesElement(t,e){return M(t,e)}containsElement(t,e){return x(t,e)}query(t,e,n){return w(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>C(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],a){a&&this._notifyFaultyScrubber();const s=o.filter(t=>t instanceof te),c={};Y(n,r)&&s.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=H(t,e,c));if(0==n)return new ee(t,l);const u="gen_css_kf_"+this._count++,p=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(p);const d=Yt(t,e),h=new te(t,e,u,n,r,i,l,d);return h.onDestroy(()=>{var t;(t=p).parentNode.removeChild(t)}),h}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class re{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:U(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ie{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(oe().toString()),this._cssKeyframesDriver=new ne}validateStyleProperty(t){return b(t)}matchesElement(t,e){return M(t,e)}containsElement(t,e){return x(t,e)}query(t,e,n){return w(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);const c={},l=o.filter(t=>t instanceof re);Y(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=Yt(t,e=H(t,e=e.map(t=>L(t,!1)),c));return new re(t,e,s,u)}}function oe(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var ae=n("SVse");let se=(()=>{class t extends o.AnimationBuilder{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Object(o.sequence)(t):t;return ue(this._renderer,null,e,"register",[n]),new ce(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.RendererFactory2),r["\u0275\u0275inject"](ae.DOCUMENT))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class ce extends o.AnimationFactory{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new le(this._id,t,e||{},this._renderer)}}class le{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ue(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function ue(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let pe=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new de("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new he(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.RendererFactory2),r["\u0275\u0275inject"](Vt),r["\u0275\u0275inject"](r.NgZone))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class de{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class he extends de{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let fe=(()=>{class t extends Vt{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](ae.DOCUMENT),r["\u0275\u0275inject"](E),r["\u0275\u0275inject"](mt))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function me(){return"function"==typeof oe()?new ie:new ne}function ge(){return new gt}function ye(t,e,n){return new pe(t,e,n)}const _e=new r.InjectionToken("AnimationModuleType"),ve=[{provide:o.AnimationBuilder,useClass:se},{provide:mt,useFactory:ge},{provide:Vt,useClass:fe},{provide:r.RendererFactory2,useFactory:ye,deps:[i["\u0275DomRendererFactory2"],Vt,r.NgZone]}],be=[{provide:E,useFactory:me},{provide:_e,useValue:"BrowserAnimations"},...ve],Me=[{provide:E,useClass:S},{provide:_e,useValue:"NoopAnimations"},...ve];let xe=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:be,imports:[i.BrowserModule]}),t})(),we=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:Me,imports:[i.BrowserModule]}),t})()},oqE7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripSpeedComponent=void 0;const r=n("8Y7J"),i=n("ha9l"),o=n("cRl/"),a=n("EiLY"),s=n("8Y7J"),c=n("tqRt"),l=n("s7LF");class u{constructor(t){this.store=t,this.tripSpeed=2,this.speeds=[],this.ariaLabels=[],this.cycleSpeedChanged=new r.EventEmitter}ngOnChanges(t){t&&t.transportFilter&&t.transportFilter.currentValue&&(this.key=t.transportFilter.currentValue===i.JourneyType.Cycle?"cycle-speed":"walk-speed",this.speeds=this.getSpeedsByJourneyType(t.transportFilter.currentValue),this.ariaLabels=this.getAriaLabelsByJourneyType(t.transportFilter.currentValue),this.tripSpeed=o.LocalStorageHelper.getItem(this.key)||2,this.speedChanged())}getSpeedsByJourneyType(t){return t===i.JourneyType.Cycle?["Slow: 12km/h","Average: 16km/h","Fast: 25km/h"]:["Slow: 2km/h","Average: 4km/h","Fast: 6km/h"]}getAriaLabelsByJourneyType(t){return t===i.JourneyType.Cycle?["Slow: 12 kilometers per hour","Average: 16 kilometers per hour","Fast: 25 kilometers per hour"]:["Slow: 2 kilometers per hour","Average: 4 kilometers per hour","Fast: 6 kilometers per hour"]}speedChanged(){const t=o.LocalStorageHelper.getItem(this.key);o.LocalStorageHelper.setItem(this.key,this.tripSpeed),"cycle-speed"===this.key?(this.store.dispatch(new a.ChangeTripSpeedCycleAction({tripSpeedCycle:Number(this.tripSpeed)})),t!==Number(this.tripSpeed)&&this.cycleSpeedChanged.emit()):this.store.dispatch(new a.ChangeTripSpeedWalkAction({tripSpeedWalk:Number(this.tripSpeed)}))}}e.TripSpeedComponent=u,u.\u0275fac=function(t){return new(t||u)(s.\u0275\u0275directiveInject(c.Store))},u.\u0275cmp=s.\u0275\u0275defineComponent({type:u,selectors:[["tni-trip-speed"]],inputs:{transportFilter:"transportFilter"},outputs:{cycleSpeedChanged:"cycleSpeedChanged"},features:[s.\u0275\u0275NgOnChangesFeature],decls:8,vars:11,consts:[[1,"form-control-select"],["id","select-trip-speed","name","search-select-date","role","listbox",1,"form-control",3,"ngModel","ngModelChange","change"],["role","option","aria-live","polite",3,"value"]],template:function(t,e){1&t&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275elementStart(1,"select",1),s.\u0275\u0275listener("ngModelChange",(function(t){return e.tripSpeed=t}))("change",(function(){return e.speedChanged()})),s.\u0275\u0275elementStart(2,"option",2),s.\u0275\u0275text(3),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"option",2),s.\u0275\u0275text(5),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(6,"option",2),s.\u0275\u0275text(7),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&t&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("ngModel",e.tripSpeed),s.\u0275\u0275attribute("aria-label",e.key),s.\u0275\u0275advance(1),s.\u0275\u0275property("value",1),s.\u0275\u0275attribute("aria-label",e.ariaLabels[0]),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1("",e.speeds[0]," "),s.\u0275\u0275advance(1),s.\u0275\u0275property("value",2),s.\u0275\u0275attribute("aria-label",e.ariaLabels[1]),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1("",e.speeds[1]," "),s.\u0275\u0275advance(1),s.\u0275\u0275property("value",3),s.\u0275\u0275attribute("aria-label",e.ariaLabels[2]),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1("",e.speeds[2]," "))},directives:[l.SelectControlValueAccessor,l.NgControlStatus,l.NgModel,l.NgSelectOption,l.\u0275angular_packages_forms_forms_x],styles:[".form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.form-control-select[_ngcontent-%COMP%]{position:relative;max-width:170px;width:170px}.form-control-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 16px;border:1px solid #ccc;box-shadow:none;border-radius:4px;font-size:14px;background-image:url(\"data:image/svg+xml;utf8,<svg height='17px' width='17px'  viewBox='0 0 30 30'  xmlns='http://www.w3.org/2000/svg'><path fill='%23555555' d='M8.5 11.75h13l-6.5 6.5z'/><path d='M8.5 11.75h13l-6.5 6.5z' fill='%23555555'/></svg>\");background-repeat:no-repeat;background-position-x:98%;background-position-y:9px;height:32px;appearance:none;-webkit-appearance:none;-moz-appearance:none;text-indent:1px;text-overflow:\"\";cursor:pointer}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.form-control-select[_ngcontent-%COMP%]{width:140px}}"]})},"p/rL":function(t,e,n){!function(t){"use strict";t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n("wd/R"))},p195:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripPlannerRoutingModule=void 0;const r=n("iInd"),i=n("TKwh"),o=n("8Y7J"),a=(n("iInd"),[{path:"",component:i.TripPlannerComponent}]);class s{}e.TripPlannerRoutingModule=s,s.\u0275mod=o.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=o.\u0275\u0275defineInjector({factory:function(t){return new(t||s)},imports:[[r.RouterModule.forChild(a)],r.RouterModule]})},"p7t/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpeedCalculationService=void 0,e.SpeedCalculationService=class{static updateDurationBasedOnSpeed(t,e){return t/(1e3*(1===e?2:2===e?4:6)/3600)}}},pKmL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreModule=void 0;const r=n("8Y7J"),i=n("tqRt"),o=n("7bNT"),a=n("af/d"),s=n("F+fM"),c=n("l6Jt"),l=n("6Xgo"),u=n("9iXN"),p=n("Jt/G"),d=n("QaoB"),h=n("PGlC"),f=n("v40w"),m=n("dBJ5"),g=n("vej7"),y=n("XEd+"),_=n("AQhy"),v=n("y/8N"),b=n("9hJF"),M=n("XSGw"),x=n("W+iZ"),w=n("IkPc"),C=n("8wnD"),S=n("bbBN"),E=n("P98k"),T=n("Pn23"),O=n("s7fG"),A=n("8Y7J");n("tqRt"),n("7bNT"),n("dBJ5");class P{static forRoot(){return{ngModule:P,providers:[{provide:r.APP_INITIALIZER,useFactory:h.initMoment,multi:!0}]}}}e.CoreModule=P,P.\u0275mod=A.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=A.\u0275\u0275defineInjector({factory:function(t){return new(t||P)},providers:[{provide:r.APP_INITIALIZER,useFactory:h.initMoment,multi:!0}],imports:[[i.StoreModule.forRoot(p.reducers,{metaReducers:d.metaReducers,runtimeChecks:{strictStateImmutability:!1,strictActionImmutability:!1}}),i.StoreModule.forFeature(x.locationFeatureKey,x.locationReducer),i.StoreModule.forFeature(S.mapFeatureKey,S.mapReducer),i.StoreModule.forFeature(w.transportFilterKey,w.transportFilterReducer),i.StoreModule.forFeature(C.currentLocationKey,C.currentLocationReducer),o.EffectsModule.forRoot([s.TripHistoryEffects,c.AppendTripEffects,l.SearchTripEffects,u.ClearTripEffects,g.RefineTripSearchEffects,y.TaxiTripSearchEffects,_.SelectTripEffects,a.TransportFilterEffect,v.CurrentLocationEffect,E.CycleRoutesSearchEffect,T.ClearDeparturesEffects,O.ShowMapEffects]),i.StoreModule.forFeature(b.selectedJourneyFeatureKey,b.selectedJourneyReducer),i.StoreModule.forFeature(M.appViewKey,M.appViewReducer),m.StoreRouterConnectingModule.forRoot({serializer:m.DefaultRouterStateSerializer}),f.environmentModules]]})},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))}}class a extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pSkQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReloadOpalLocation=e.getUseDefaultMapOptions=e.getMapSource=e.getMapExploreLocation=e.getMapVehiclePosition=e.getMapDepartures=e.getMapCenter=e.getFilters=e.getLayers=e.getDisplayMapOptions=e.getMapCurrentLocation=e.getMapOptions=e.getMapTripLeg=e.getMapTrip=void 0;const r=n("tqRt"),i=n("bbBN"),o=r.createFeatureSelector(i.mapFeatureKey),a=r.createSelector(o,t=>t.trip),s=r.createSelector(o,t=>t.displayMapOptions),c=r.createSelector(o,t=>t.layers),l=r.createSelector(o,t=>t.mapLeg),u=r.createSelector(o,t=>t.mapOptions),p=r.createSelector(o,t=>t.coords),d=r.createSelector(o,t=>t.filters),h=r.createSelector(o,t=>t.center),f=r.createSelector(o,t=>t.departure),m=r.createSelector(o,t=>t.vehiclePosition),g=r.createSelector(o,t=>t.exploreLocation),y=r.createSelector(o,t=>t.mapSource),_=r.createSelector(o,t=>t.useDefaultMapOptions),v=r.createSelector(o,t=>t.reloadOpalLocation);e.getMapTrip=a,e.getMapTripLeg=l,e.getMapOptions=u,e.getMapCurrentLocation=p,e.getDisplayMapOptions=s,e.getLayers=c,e.getFilters=d,e.getMapCenter=h,e.getMapDepartures=f,e.getMapVehiclePosition=m,e.getMapExploreLocation=g,e.getMapSource=y,e.getUseDefaultMapOptions=_,e.getReloadOpalLocation=v},pjAE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})()},psEX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectedJourneyStoreService=void 0;const r=n("dduh"),i=n("8Y7J"),o=n("tqRt");class a{constructor(t){this.store=t,this.getExpandedJourney$=()=>this.store.select(r.getExpandedJourney)}}e.SelectedJourneyStoreService=a,a.\u0275fac=function(t){return new(t||a)(i.\u0275\u0275inject(o.Store))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new a(t,e))}}class a{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}class s extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(s.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},q0aK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrackUnsupportedBrowserEventService=void 0;const r=n("8Y7J"),i=n("NfbF");class o{constructor(t){this.trackEventService=t,this.category="Unsupported Browser"}trackMapNotSupported(t){this.trackEventService.trackEvent(this.category,{action:this.category,label:"Map from "+t})}}e.TrackUnsupportedBrowserEventService=o,o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(i.TrackEventService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac})},q66I:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShortPlatformComponent=void 0;const r=n("8Y7J");class i{}e.ShortPlatformComponent=i,i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["tni-short-platform"]],inputs:{travelIn:"travelIn",accessibleTravelIn:"accessibleTravelIn"},decls:4,vars:3,consts:[[1,"sr-only"],["aria-hidden","true",1,"leg-short-platform","short-platform-message"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"span",0),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(2,"span",1),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.accessibleTravelIn),r.\u0275\u0275advance(1),r.\u0275\u0275attribute("title",e.accessibleTravelIn),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.travelIn))},styles:["[_nghost-%COMP%]{display:inline-block;background-color:#000;border-radius:3px;width:52px;line-height:16px;height:18px;text-align:center;vertical-align:middle}[_nghost-%COMP%]   .short-platform-message[_ngcontent-%COMP%]{color:#fff;font-size:12px;font-weight:400}"]})},qCKp:function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",(function(){return r.a})),n.d(e,"ConnectableObservable",(function(){return i.a})),n.d(e,"GroupedObservable",(function(){return o.a})),n.d(e,"observable",(function(){return a.a})),n.d(e,"Subject",(function(){return s.a})),n.d(e,"BehaviorSubject",(function(){return c.a})),n.d(e,"ReplaySubject",(function(){return l.a})),n.d(e,"AsyncSubject",(function(){return u.a})),n.d(e,"asapScheduler",(function(){return p.a})),n.d(e,"asyncScheduler",(function(){return d.a})),n.d(e,"queueScheduler",(function(){return h.a})),n.d(e,"animationFrameScheduler",(function(){return f.a})),n.d(e,"VirtualTimeScheduler",(function(){return y})),n.d(e,"VirtualAction",(function(){return _})),n.d(e,"Scheduler",(function(){return v.a})),n.d(e,"Subscription",(function(){return b.a})),n.d(e,"Subscriber",(function(){return M.a})),n.d(e,"Notification",(function(){return x.a})),n.d(e,"NotificationKind",(function(){return x.b})),n.d(e,"pipe",(function(){return w.a})),n.d(e,"noop",(function(){return C.a})),n.d(e,"identity",(function(){return S.a})),n.d(e,"isObservable",(function(){return E.a})),n.d(e,"ArgumentOutOfRangeError",(function(){return T.a})),n.d(e,"EmptyError",(function(){return O.a})),n.d(e,"ObjectUnsubscribedError",(function(){return A.a})),n.d(e,"UnsubscriptionError",(function(){return P.a})),n.d(e,"TimeoutError",(function(){return L.a})),n.d(e,"bindCallback",(function(){return R})),n.d(e,"bindNodeCallback",(function(){return j})),n.d(e,"combineLatest",(function(){return Y.b})),n.d(e,"concat",(function(){return H.a})),n.d(e,"defer",(function(){return W.a})),n.d(e,"empty",(function(){return U.b})),n.d(e,"forkJoin",(function(){return X.a})),n.d(e,"from",(function(){return G.a})),n.d(e,"fromEvent",(function(){return J.a})),n.d(e,"fromEventPattern",(function(){return K})),n.d(e,"generate",(function(){return Z})),n.d(e,"iif",(function(){return tt})),n.d(e,"interval",(function(){return nt})),n.d(e,"merge",(function(){return it.a})),n.d(e,"never",(function(){return at})),n.d(e,"of",(function(){return st.a})),n.d(e,"onErrorResumeNext",(function(){return ct})),n.d(e,"pairs",(function(){return lt})),n.d(e,"partition",(function(){return ft})),n.d(e,"race",(function(){return mt.a})),n.d(e,"range",(function(){return gt})),n.d(e,"throwError",(function(){return _t.a})),n.d(e,"timer",(function(){return vt.a})),n.d(e,"using",(function(){return bt})),n.d(e,"zip",(function(){return Mt.b})),n.d(e,"scheduled",(function(){return xt.a})),n.d(e,"EMPTY",(function(){return U.a})),n.d(e,"NEVER",(function(){return ot})),n.d(e,"config",(function(){return wt.a}));var r=n("HDdC"),i=n("EQ5u"),o=n("OQgR"),a=n("kJWO"),s=n("XNiG"),c=n("2Vo4"),l=n("jtHE"),u=n("NHP+"),p=n("7Hc7"),d=n("D0XW"),h=n("qgXg"),f=n("eNwd"),m=n("3N8a"),g=n("IjjT");let y=(()=>{class t extends g.a{constructor(t=_,e=Number.POSITIVE_INFINITY){super(t,()=>this.frame),this.maxFrames=e,this.frame=0,this.index=-1}flush(){const{actions:t,maxFrames:e}=this;let n,r;for(;(r=t[0])&&r.delay<=e&&(t.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=t.shift();)r.unsubscribe();throw n}}}return t.frameTimeFactor=10,t})();class _ extends m.a{constructor(t,e,n=(t.index+=1)){super(t,e),this.scheduler=t,this.work=e,this.index=n,this.active=!0,this.index=t.index=n}schedule(t,e=0){if(!this.id)return super.schedule(t,e);this.active=!1;const n=new _(this.scheduler,this.work);return this.add(n),n.schedule(t,e)}requestAsyncId(t,e,n=0){this.delay=t.frame+n;const{actions:r}=t;return r.push(this),r.sort(_.sortActions),!0}recycleAsyncId(t,e,n=0){}_execute(t,e){if(!0===this.active)return super._execute(t,e)}static sortActions(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}var v=n("Y/cZ"),b=n("quSY"),M=n("7o/Q"),x=n("WMd4"),w=n("mCNh"),C=n("KqfI"),S=n("SpAZ"),E=n("7+OI"),T=n("4I5i"),O=n("sVev"),A=n("9ppp"),P=n("pjAE"),L=n("Y6u4"),k=n("lJxs"),I=n("8Qeq"),D=n("DH7j"),N=n("z+Ro");function R(t,e,n){if(e){if(!Object(N.a)(e))return(...r)=>R(t,n)(...r).pipe(Object(k.a)(t=>Object(D.a)(t)?e(...t):e(t)));n=e}return function(...e){const i=this;let o;const a={context:i,subject:o,callbackFunc:t,scheduler:n};return new r.a(r=>{if(n)return n.schedule(z,0,{args:e,subscriber:r,params:a});if(!o){o=new u.a;const n=(...t)=>{o.next(t.length<=1?t[0]:t),o.complete()};try{t.apply(i,[...e,n])}catch(s){Object(I.a)(o)?o.error(s):console.warn(s)}}return o.subscribe(r)})}}function z(t){const{args:e,subscriber:n,params:r}=t,{callbackFunc:i,context:o,scheduler:a}=r;let{subject:s}=r;if(!s){s=r.subject=new u.a;const t=(...t)=>{this.add(a.schedule(F,0,{value:t.length<=1?t[0]:t,subject:s}))};try{i.apply(o,[...e,t])}catch(c){s.error(c)}}this.add(s.subscribe(n))}function F(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function j(t,e,n){if(e){if(!Object(N.a)(e))return(...r)=>j(t,n)(...r).pipe(Object(k.a)(t=>Object(D.a)(t)?e(...t):e(t)));n=e}return function(...e){const i={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new r.a(r=>{const{context:o}=i;let{subject:a}=i;if(n)return n.schedule(B,0,{params:i,subscriber:r,context:o});if(!a){a=i.subject=new u.a;const n=(...t)=>{const e=t.shift();e?a.error(e):(a.next(t.length<=1?t[0]:t),a.complete())};try{t.apply(o,[...e,n])}catch(s){Object(I.a)(a)?a.error(s):console.warn(s)}}return a.subscribe(r)})}}function B(t){const{params:e,subscriber:n,context:r}=t,{callbackFunc:i,args:o,scheduler:a}=e;let s=e.subject;if(!s){s=e.subject=new u.a;const t=(...t)=>{const e=t.shift();this.add(e?a.schedule(V,0,{err:e,subject:s}):a.schedule(q,0,{value:t.length<=1?t[0]:t,subject:s}))};try{i.apply(r,[...o,t])}catch(c){this.add(a.schedule(V,0,{err:c,subject:s}))}}this.add(s.subscribe(n))}function q(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function V(t){const{err:e,subject:n}=t;n.error(e)}var Y=n("itXk"),H=n("GyhO"),W=n("NXyV"),U=n("EY2u"),X=n("cp0P"),G=n("Cfvw"),J=n("xgIS"),$=n("n6bG");function K(t,e,n){return n?K(t,e).pipe(Object(k.a)(t=>Object(D.a)(t)?n(...t):n(t))):new r.a(n=>{const r=(...t)=>n.next(1===t.length?t[0]:t);let i;try{i=t(r)}catch(o){return void n.error(o)}if(Object($.a)(e))return()=>e(r,i)})}function Z(t,e,n,i,o){let a,s;return 1==arguments.length?(s=t.initialState,e=t.condition,n=t.iterate,a=t.resultSelector||S.a,o=t.scheduler):void 0===i||Object(N.a)(i)?(s=t,a=S.a,o=i):(s=t,a=i),new r.a(t=>{let r=s;if(o)return o.schedule(Q,0,{subscriber:t,iterate:n,condition:e,resultSelector:a,state:r});for(;;){if(e){let n;try{n=e(r)}catch(i){return void t.error(i)}if(!n){t.complete();break}}let o;try{o=a(r)}catch(i){return void t.error(i)}if(t.next(o),t.closed)break;try{r=n(r)}catch(i){return void t.error(i)}}})}function Q(t){const{subscriber:e,condition:n}=t;if(e.closed)return;if(t.needIterate)try{t.state=t.iterate(t.state)}catch(i){return void e.error(i)}else t.needIterate=!0;if(n){let r;try{r=n(t.state)}catch(i){return void e.error(i)}if(!r)return void e.complete();if(e.closed)return}let r;try{r=t.resultSelector(t.state)}catch(i){return void e.error(i)}return e.closed||(e.next(r),e.closed)?void 0:this.schedule(t)}function tt(t,e=U.a,n=U.a){return Object(W.a)(()=>t()?e:n)}var et=n("Y7HM");function nt(t=0,e=d.a){return(!Object(et.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=d.a),new r.a(n=>(n.add(e.schedule(rt,t,{subscriber:n,counter:0,period:t})),n))}function rt(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var it=n("VRyK");const ot=new r.a(C.a);function at(){return ot}var st=n("LRne");function ct(...t){if(0===t.length)return U.a;const[e,...n]=t;return 1===t.length&&Object(D.a)(e)?ct(...e):new r.a(t=>{const r=()=>t.add(ct(...n).subscribe(t));return Object(G.a)(e).subscribe({next(e){t.next(e)},error:r,complete:r})})}function lt(t,e){return new r.a(e?n=>{const r=Object.keys(t),i=new b.a;return i.add(e.schedule(ut,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:e=>{const n=Object.keys(t);for(let r=0;r<n.length&&!e.closed;r++){const i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function ut(t){const{keys:e,index:n,subscriber:r,subscription:i,obj:o}=t;if(!r.closed)if(n<e.length){const t=e[n];r.next([t,o[t]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var pt=n("F97/"),dt=n("SeVD"),ht=n("pLZG");function ft(t,e,n){return[Object(ht.a)(e,n)(new r.a(Object(dt.a)(t))),Object(ht.a)(Object(pt.a)(e,n))(new r.a(Object(dt.a)(t)))]}var mt=n("Nv8m");function gt(t=0,e,n){return new r.a(r=>{void 0===e&&(e=t,t=0);let i=0,o=t;if(n)return n.schedule(yt,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}})}function yt(t){const{start:e,index:n,count:r,subscriber:i}=t;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var _t=n("z6cu"),vt=n("PqYM");function bt(t,e){return new r.a(n=>{let r,i;try{r=t()}catch(a){return void n.error(a)}try{i=e(r)}catch(a){return void n.error(a)}const o=(i?Object(G.a)(i):U.a).subscribe(n);return()=>{o.unsubscribe(),r&&r.unsubscribe()}})}var Mt=n("1uah"),xt=n("7HRe"),wt=n("2fFW")},qKfS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocationType=void 0,e.LocationType=function(t){return t[t.Stop="stop"]="Stop",t[t.POI="poi"]="POI",t[t.Suburb="suburb"]="Suburb",t[t.Locality="locality"]="Locality",t[t.District="district"]="District",t[t.Street="street"]="Street",t[t.Address="address"]="Address",t[t.CurrentLocation="current_location"]="CurrentLocation",t[t.Platform="platform"]="Platform",t}(e.LocationType||{})},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class a extends o.a{}const s=new a(i)},qoPz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CardTypeService=void 0;const r=n("tqRt"),i=n("cRl/"),o=n("C0Jg"),a=n("EiLY"),s=n("8Y7J"),c=n("tqRt");class l{constructor(t){this.stateStore=t,this.localStorageKey="card_type",this.cardKeys=[{id:o.FareType.adult,value:"ADULT"},{id:o.FareType.youth,value:"CHILD"},{id:o.FareType.pensioner,value:"SENIOR"},{id:o.FareType.concession,value:"SCHOLAR"}],this.setCardType(i.LocalStorageHelper.getString(this.localStorageKey)||this.cardKeys[0].value)}getCardType(){return this.stateStore.pipe(r.select(t=>t.CardType))}setCardType(t){i.LocalStorageHelper.setItem(this.localStorageKey,t),this.stateStore.dispatch(new a.ChangeCardTypeAction({cardType:t}))}}e.CardTypeService=l,l.\u0275fac=function(t){return new(t||l)(s.\u0275\u0275inject(c.Store))},l.\u0275prov=s.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac})},qoZc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapSource=void 0,e.MapSource=function(t){return t.TripPlanner="/trip",t.Departures="/departures",t.OpalRetailers="/opal-retailers",t}(e.MapSource||{})},qtzU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLoadingState=e.selectPartFeature=e.selectIsLoading=e.getSearchLocation=e.selectFeature=void 0;const r=n("tqRt");e.selectFeature=t=>t.OpalRetailersFeature;const i=r.createSelector(e.selectFeature,t=>t.location);e.getSearchLocation=i,e.selectIsLoading=r.createSelector(e.selectFeature,t=>t.isLoading),e.selectPartFeature=r.createSelector(e.selectFeature,t=>t.opalRetailers.slice(0,50)),e.getLoadingState=e.selectIsLoading},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG"),a=n("pjAE");let s=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:s,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(s))try{s.call(this)}catch(u){e=u instanceof a.a?c(u.errors):[u]}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(u){e=e||[],u instanceof a.a?e=e.concat(c(u.errors)):e.push(u)}}}if(e)throw new a.a(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof a.a?e.errors:e),[])}},qwcM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesSearchService=void 0;const r=n("wd/R"),i=n("kU1M"),o=n("iFc6"),a=n("cRl/"),s=n("UDyh"),c=n("8Y7J"),l=n("iInd"),u=n("IheW");class p{constructor(t,e){this.route=t,this.http=e,this.DEBUG_DEPARTURE_LIST_REQUEST_KEY="debug-departure-list-request"}search(t){this._handleDebugMode(t);let e=o.TniConstant.DEPARTURES_ENDPOINT;const n=s.CreateDepartureQueryParams(t);return e=e.concat(n),this.http.get(e).pipe(i.map(t=>t))}_handleDebugMode(t){var e,n,i;const o=!!(null===(n=null===(e=this.route.snapshot)||void 0===e?void 0:e.queryParams)||void 0===n?void 0:n.debug),s=null!==(i=a.LocalStorageHelper.getItem(this.DEBUG_DEPARTURE_LIST_REQUEST_KEY))&&void 0!==i?i:r().startOf("year").format(),c=r(s),l=r().isSameOrAfter(c);o?(a.LocalStorageHelper.setItem(this.DEBUG_DEPARTURE_LIST_REQUEST_KEY,r().add(1,"hour").format()),t.debug=!0):l?a.LocalStorageHelper.removeItem(this.DEBUG_DEPARTURE_LIST_REQUEST_KEY):t.debug=!0}}e.DeparturesSearchService=p,p.\u0275fac=function(t){return new(t||p)(c.\u0275\u0275inject(l.ActivatedRoute),c.\u0275\u0275inject(u.HttpClient))},p.\u0275prov=c.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})},r425:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripFormModule=void 0;const r=n("NR7J"),i=n("dN6K"),o=n("Hrlu"),a=n("6V4H"),s=n("jSZz"),c=n("SVse"),l=n("PCNd"),u=n("TswQ"),p=n("8Y7J");class d{static forRoot(){return{ngModule:d,providers:[i.FeatureStateService,o.LocationService]}}}e.TripFormModule=d,d.\u0275mod=p.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=p.\u0275\u0275defineInjector({factory:function(t){return new(t||d)},providers:[i.FeatureStateService,o.LocationService,a.TripRequestService,s.TripUrlService],imports:[[r.TniDateTimeSelectorModule,c.CommonModule,l.SharedModule,u.TniFormModule]]})},rYH4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RealTimePillComponent=void 0;const r=n("f0Wu"),i=n("b2IO"),o=n("8Y7J"),a=n("SVse"),s=n("0njA");class c{ngOnChanges(t){const e=t.arrivalStatus.currentValue,n=r(t.departingTime.currentValue),o=r(t.departingTimePlanned.currentValue),a=r.duration(n.diff(o)),s=a.minutes(),c=Math.round(a.hours());this.durationToDisplay=e===i.RealTimeStatus.ON_TIME?"On time":c>0?`${o.format("HH:mm")} service ${c}h ${Math.abs(s)}min ${e}`:0!==s?`${o.format("HH:mm")} service ${Math.abs(s)}min ${e}`:""}}e.RealTimePillComponent=c,c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=o.\u0275\u0275defineComponent({type:c,selectors:[["tni-realtime-pill"]],inputs:{departingTime:"departingTime",departingTimePlanned:"departingTimePlanned",arrivalStatus:"arrivalStatus"},features:[o.\u0275\u0275NgOnChangesFeature],decls:4,vars:4,consts:[[1,"duration",3,"ngClass"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"span",0),o.\u0275\u0275element(1,"tni-icon",1),o.\u0275\u0275elementStart(2,"span"),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("ngClass",e.arrivalStatus),o.\u0275\u0275advance(1),o.\u0275\u0275property("iconName",e.arrivalStatus)("iconAriaHidden",!0),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.durationToDisplay))},directives:[a.NgClass,s.IconComponent],styles:[".duration[_ngcontent-%COMP%]{height:15px;width:47px;color:#31a50e;font-size:12px;font-weight:500;letter-spacing:.1px;line-height:15px;position:relative}.duration.early[_ngcontent-%COMP%], .duration.early[_ngcontent-%COMP%]     .real-time{color:#dc7a13}.duration.late[_ngcontent-%COMP%], .duration.late[_ngcontent-%COMP%]     .real-time{color:#af1919}.duration[_ngcontent-%COMP%]     .real-time.animate{left:-8px;top:-7px}"]})},raLr:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===n?e?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":t+" "+(r=+t,i={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:e?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}function n(t){return function(){return t+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}t.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(t,e){var n={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===t?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):t?n[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(e)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:n("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:n("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:n("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:n("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:e,m:e,mm:e,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:e,d:"\u0434\u0435\u043d\u044c",dd:e,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:e,y:"\u0440\u0456\u043a",yy:e},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u0456":t<12?"\u0440\u0430\u043d\u043a\u0443":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-\u0439";case"D":return t+"-\u0433\u043e";default:return t}},week:{dow:1,doy:7}})}(n("wd/R"))},rfQM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrapFocusDirective=void 0;const r=n("8Y7J"),i=n("8Y7J");class o{constructor(t){this.el=t,this.trapFocusDisabled=!1,this.escapeTrapFocus=new r.EventEmitter,this.focusedElementIndex=0}ngAfterViewInit(){this._findFocusableElements(),this.focusable&&this.focusable[this.focusedElementIndex]&&this.focusable[this.focusedElementIndex].focus()}ngAfterViewChecked(){this._findFocusableElements()}_findFocusableElements(){this.focusable=this.el.nativeElement.querySelectorAll('button, [href], select, textarea, *[tabindex][tabindex]:not([tabindex="-1"])')}onTab(t){this.trapFocusDisabled||0!==this.focusable.length&&(this.focusedElementIndex++,this.focusedElementIndex>=this.focusable.length&&(this.focusedElementIndex=0),this.focusable&&this.focusable[this.focusedElementIndex]&&this.focusable[this.focusedElementIndex].focus(),t.preventDefault())}onShiftTab(t){this.trapFocusDisabled||0!==this.focusable.length&&(this.focusedElementIndex--,this.focusedElementIndex<0&&(this.focusedElementIndex=this.focusable.length-1),this.focusable&&this.focusable[this.focusedElementIndex]&&this.focusable[this.focusedElementIndex].focus(),t.preventDefault())}close(t){this.trapFocusDisabled||this.escapeTrapFocus.emit(t)}}e.TrapFocusDirective=o,o.\u0275fac=function(t){return new(t||o)(i.\u0275\u0275directiveInject(i.ElementRef))},o.\u0275dir=i.\u0275\u0275defineDirective({type:o,selectors:[["","trapFocus",""]],hostBindings:function(t,e){1&t&&i.\u0275\u0275listener("keydown.tab",(function(t){return e.onTab(t)}),!1,i.\u0275\u0275resolveWindow)("keydown.shift.tab",(function(t){return e.onShiftTab(t)}),!1,i.\u0275\u0275resolveWindow)("keyup.esc",(function(t){return e.close(t)}),!1,i.\u0275\u0275resolveWindow)},inputs:{trapFocusDisabled:"trapFocusDisabled"},outputs:{escapeTrapFocus:"escapeTrapFocus"}})},rk3W:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DepatureModeComponent=void 0;const r=n("8Y7J"),i=n("Y7wX"),o=n("GT7+");class a{constructor(t){this.iconService=t}get mode(){return this.iconService.getNetworkIcon(this.journey.transportation.networkId)}ngOnInit(){}}e.DepatureModeComponent=a,a.\u0275fac=function(t){return new(t||a)(r.\u0275\u0275directiveInject(i.IconService))},a.\u0275cmp=r.\u0275\u0275defineComponent({type:a,selectors:[["tni-departure-mode"]],inputs:{journey:"journey"},decls:8,vars:2,consts:[[1,"row","departing-from"],[1,"col-md-2","col-xs-2","text-center","departing-from__mode"],[1,"mode-name",3,"transportation"],[1,"col-md-10","mode-body"],[1,"departing-from__label"],[1,"departing-from__label_name"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275elementStart(1,"div",1),r.\u0275\u0275element(2,"tni-departure-mode-name",2),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",3),r.\u0275\u0275elementStart(4,"span",4),r.\u0275\u0275elementContainerStart(5),r.\u0275\u0275elementStart(6,"span",5),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(2),r.\u0275\u0275property("transportation",e.journey.transportation),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(e.journey.transportation.destination.name))},directives:[o.DepartureModeNameComponent],styles:["[_nghost-%COMP%]{display:block;font-size:14px;color:#171717}[_nghost-%COMP%]   .mode-body[_ngcontent-%COMP%]{padding-left:22px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .mode-body[_ngcontent-%COMP%]{padding-left:68px}}[_nghost-%COMP%]   .departing-from__mode[_ngcontent-%COMP%]{width:60px}[_nghost-%COMP%]   .departing-from__time[_ngcontent-%COMP%]{position:absolute;top:1px;left:-88px;font-weight:500}[_nghost-%COMP%]   .departing-from__label[_ngcontent-%COMP%]{font-weight:500;letter-spacing:.1px;margin-left:2px;vertical-align:middle}@media (min-width:768px){[_nghost-%COMP%]   .departing-from__label[_ngcontent-%COMP%]{margin-left:14px}}[_nghost-%COMP%]   .departing-from__label_head[_ngcontent-%COMP%], [_nghost-%COMP%]   .departing-from__label_name[_ngcontent-%COMP%]{color:#171717;font-weight:500;line-height:15px;font-size:14px;margin-top:5px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .departing-from__label_head[_ngcontent-%COMP%], [_nghost-%COMP%]   .departing-from__label_name[_ngcontent-%COMP%]{font-size:13px}}[_nghost-%COMP%]   .departing-from__label_description[_ngcontent-%COMP%]{color:#757575;margin-top:5px;line-height:15px;display:block}[_nghost-%COMP%]   .departing-from__label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:17px 0 0}[_nghost-%COMP%]   .departing-from__label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .show-hide-directions[_ngcontent-%COMP%]{color:#1d69b4;font-size:12px;letter-spacing:.09px;line-height:15px;text-decoration:underline}[_nghost-%COMP%]   .departing-from__label[_ngcontent-%COMP%]   .departing-steps-sequence[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 0}[_nghost-%COMP%]   .departing-from__label[_ngcontent-%COMP%]   .departing-steps-sequence-label[_ngcontent-%COMP%]{margin-left:16px}"]})},"s+uk":function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},s7LF:function(t,e,n){"use strict";n.r(e),n.d(e,"AbstractControl",(function(){return gt})),n.d(e,"AbstractControlDirective",(function(){return f})),n.d(e,"AbstractFormGroupDirective",(function(){return wt})),n.d(e,"COMPOSITION_BUFFER_MODE",(function(){return d})),n.d(e,"CheckboxControlValueAccessor",(function(){return u})),n.d(e,"CheckboxRequiredValidator",(function(){return Xt})),n.d(e,"ControlContainer",(function(){return m})),n.d(e,"DefaultValueAccessor",(function(){return h})),n.d(e,"EmailValidator",(function(){return $t})),n.d(e,"FormArray",(function(){return vt})),n.d(e,"FormArrayName",(function(){return Bt})),n.d(e,"FormBuilder",(function(){return se})),n.d(e,"FormControl",(function(){return yt})),n.d(e,"FormControlDirective",(function(){return Dt})),n.d(e,"FormControlName",(function(){return Yt})),n.d(e,"FormGroup",(function(){return _t})),n.d(e,"FormGroupDirective",(function(){return Rt})),n.d(e,"FormGroupName",(function(){return Ft})),n.d(e,"FormsModule",(function(){return le})),n.d(e,"MaxLengthValidator",(function(){return te})),n.d(e,"MinLengthValidator",(function(){return Zt})),n.d(e,"NG_ASYNC_VALIDATORS",(function(){return E})),n.d(e,"NG_VALIDATORS",(function(){return S})),n.d(e,"NG_VALUE_ACCESSOR",(function(){return c})),n.d(e,"NgControl",(function(){return _})),n.d(e,"NgControlStatus",(function(){return M})),n.d(e,"NgControlStatusGroup",(function(){return x})),n.d(e,"NgForm",(function(){return xt})),n.d(e,"NgModel",(function(){return Pt})),n.d(e,"NgModelGroup",(function(){return Tt})),n.d(e,"NgSelectOption",(function(){return G})),n.d(e,"NumberValueAccessor",(function(){return N})),n.d(e,"PatternValidator",(function(){return ne})),n.d(e,"RadioControlValueAccessor",(function(){return F})),n.d(e,"RangeValueAccessor",(function(){return B})),n.d(e,"ReactiveFormsModule",(function(){return ue})),n.d(e,"RequiredValidator",(function(){return Ut})),n.d(e,"SelectControlValueAccessor",(function(){return X})),n.d(e,"SelectMultipleControlValueAccessor",(function(){return K})),n.d(e,"VERSION",(function(){return ce})),n.d(e,"Validators",(function(){return O})),n.d(e,"\u0275InternalFormsSharedModule",(function(){return ae})),n.d(e,"\u0275NgNoValidate",(function(){return Lt})),n.d(e,"\u0275NgSelectMultipleOption",(function(){return Z})),n.d(e,"\u0275angular_packages_forms_forms_a",(function(){return re})),n.d(e,"\u0275angular_packages_forms_forms_b",(function(){return ie})),n.d(e,"\u0275angular_packages_forms_forms_ba",(function(){return Wt})),n.d(e,"\u0275angular_packages_forms_forms_bb",(function(){return Jt})),n.d(e,"\u0275angular_packages_forms_forms_bc",(function(){return Kt})),n.d(e,"\u0275angular_packages_forms_forms_bd",(function(){return Qt})),n.d(e,"\u0275angular_packages_forms_forms_be",(function(){return ee})),n.d(e,"\u0275angular_packages_forms_forms_c",(function(){return oe})),n.d(e,"\u0275angular_packages_forms_forms_d",(function(){return ae})),n.d(e,"\u0275angular_packages_forms_forms_e",(function(){return l})),n.d(e,"\u0275angular_packages_forms_forms_f",(function(){return p})),n.d(e,"\u0275angular_packages_forms_forms_g",(function(){return v})),n.d(e,"\u0275angular_packages_forms_forms_h",(function(){return b})),n.d(e,"\u0275angular_packages_forms_forms_i",(function(){return bt})),n.d(e,"\u0275angular_packages_forms_forms_j",(function(){return Ot})),n.d(e,"\u0275angular_packages_forms_forms_k",(function(){return Et})),n.d(e,"\u0275angular_packages_forms_forms_l",(function(){return D})),n.d(e,"\u0275angular_packages_forms_forms_m",(function(){return R})),n.d(e,"\u0275angular_packages_forms_forms_n",(function(){return z})),n.d(e,"\u0275angular_packages_forms_forms_o",(function(){return j})),n.d(e,"\u0275angular_packages_forms_forms_p",(function(){return kt})),n.d(e,"\u0275angular_packages_forms_forms_q",(function(){return It})),n.d(e,"\u0275angular_packages_forms_forms_r",(function(){return Vt})),n.d(e,"\u0275angular_packages_forms_forms_s",(function(){return Nt})),n.d(e,"\u0275angular_packages_forms_forms_t",(function(){return zt})),n.d(e,"\u0275angular_packages_forms_forms_u",(function(){return jt})),n.d(e,"\u0275angular_packages_forms_forms_v",(function(){return W})),n.d(e,"\u0275angular_packages_forms_forms_w",(function(){return J})),n.d(e,"\u0275angular_packages_forms_forms_x",(function(){return Z})),n.d(e,"\u0275angular_packages_forms_forms_y",(function(){return Lt})),n.d(e,"\u0275angular_packages_forms_forms_z",(function(){return Ht}));var r=n("8Y7J"),i=n("SVse"),o=n("cp0P"),a=n("Cfvw"),s=n("lJxs");const c=new r.InjectionToken("NgValueAccessor"),l={provide:c,useExisting:Object(r.forwardRef)(()=>u),multi:!0};let u=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r["\u0275\u0275ProvidersFeature"]([l])]}),t})();const p={provide:c,useExisting:Object(r.forwardRef)(()=>h),multi:!0},d=new r.InjectionToken("CompositionEventMode");let h=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i["\u0275getDOM"])()?Object(i["\u0275getDOM"])().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](d,8))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r["\u0275\u0275ProvidersFeature"]([p])]}),t})(),f=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t}),t})(),m=(()=>{class t extends f{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return g(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,features:[r["\u0275\u0275InheritDefinitionFeature"]]}),t})();const g=r["\u0275\u0275getInheritedFactory"](m);function y(){throw new Error("unimplemented")}class _ extends f{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return y()}get asyncValidator(){return y()}}class v{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const b={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"};let M=(()=>{class t extends v{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](_,2))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r["\u0275\u0275classProp"]("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r["\u0275\u0275InheritDefinitionFeature"]]}),t})(),x=(()=>{class t extends v{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](m,2))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r["\u0275\u0275classProp"]("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r["\u0275\u0275InheritDefinitionFeature"]]}),t})();function w(t){return null==t||0===t.length}function C(t){return null!=t&&"number"==typeof t.length}const S=new r.InjectionToken("NgValidators"),E=new r.InjectionToken("NgAsyncValidators"),T=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class O{static min(t){return e=>{if(w(e.value)||w(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(w(e.value)||w(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return w(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return w(t.value)||T.test(t.value)?null:{email:!0}}static minLength(t){return e=>w(e.value)||!C(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>C(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return O.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(w(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(A);return 0==e.length?null:function(t){return L(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(A);return 0==e.length?null:function(t){const n=function(t,e){return e.map(e=>e(t))}(t,e).map(P);return Object(o.a)(n).pipe(Object(s.a)(L))}}}function A(t){return null!=t}function P(t){const e=Object(r["\u0275isPromise"])(t)?Object(a.a)(t):t;if(!Object(r["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function L(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function k(t){return t.validate?e=>t.validate(e):t}function I(t){return t.validate?e=>t.validate(e):t}const D={provide:c,useExisting:Object(r.forwardRef)(()=>N),multi:!0};let N=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r["\u0275\u0275ProvidersFeature"]([D])]}),t})();const R={provide:c,useExisting:Object(r.forwardRef)(()=>F),multi:!0};let z=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](z),r["\u0275\u0275directiveInject"](r.Injector))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r["\u0275\u0275ProvidersFeature"]([R])]}),t})();const j={provide:c,useExisting:Object(r.forwardRef)(()=>B),multi:!0};let B=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r["\u0275\u0275ProvidersFeature"]([j])]}),t})();const q='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',V='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Y='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class H{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+q)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${V}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Y}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+q)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+V)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const W={provide:c,useExisting:Object(r.forwardRef)(()=>X),multi:!0};function U(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let X=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=U(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r["\u0275\u0275ProvidersFeature"]([W])]}),t})(),G=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(U(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](X,9))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const J={provide:c,useExisting:Object(r.forwardRef)(()=>K),multi:!0};function $(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let K=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r["\u0275\u0275ProvidersFeature"]([J])]}),t})(),Z=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue($(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue($(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](K,9))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Q(t,e){return[...e.path,t]}function tt(t,e){t||it(e,"Cannot find control with"),e.valueAccessor||it(e,"No value accessor for form control with"),t.validator=O.compose([t.validator,e.validator]),t.asyncValidator=O.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&et(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&et(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function et(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nt(t,e){null==t&&it(e,"Cannot find control with"),t.validator=O.compose([t.validator,e.validator]),t.asyncValidator=O.composeAsync([t.asyncValidator,e.asyncValidator])}function rt(t){return it(t,"There is no FormControl instance attached to form control element with")}function it(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function ot(t){return null!=t?O.compose(t.map(k)):null}function at(t){return null!=t?O.composeAsync(t.map(I)):null}function st(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const ct=[u,B,N,X,K,F];function lt(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ut(t,e){if(!e)return null;Array.isArray(e)||it(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===h?n=e:(o=e,ct.some(t=>o.constructor===t)?(r&&it(t,"More than one built-in value accessor matches form control with"),r=e):(i&&it(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(it(t,"No valid value accessor for form control with"),null)}function pt(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function dt(t,e,n,i){Object(r.isDevMode)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(H.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function ht(t){const e=mt(t)?t.validators:t;return Array.isArray(e)?ot(e):e||null}function ft(t,e){const n=mt(e)?e.asyncValidators:t;return Array.isArray(n)?at(n):n||null}function mt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class gt{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=ht(t)}setAsyncValidators(t){this.asyncValidator=ft(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=P(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof _t?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof vt&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class yt extends gt{constructor(t=null,e,n){super(ht(e),ft(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class _t extends gt{constructor(t,e,n){super(ht(e),ft(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof yt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class vt extends gt{constructor(t,e,n){super(ht(e),ft(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof yt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const bt={provide:m,useExisting:Object(r.forwardRef)(()=>xt)},Mt=(()=>Promise.resolve(null))();let xt=(()=>{class t extends m{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.EventEmitter,this.form=new _t({},ot(t),at(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Mt.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),tt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Mt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),pt(this._directives,t)})}addFormGroup(t){Mt.then(()=>{const e=this._findContainer(t.path),n=new _t({});nt(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Mt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Mt.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lt(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r["\u0275\u0275ProvidersFeature"]([bt]),r["\u0275\u0275InheritDefinitionFeature"]]}),t})(),wt=(()=>{class t extends m{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Q(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ot(this._validators)}get asyncValidator(){return at(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Ct(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,features:[r["\u0275\u0275InheritDefinitionFeature"]]}),t})();const Ct=r["\u0275\u0275getInheritedFactory"](wt);class St{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${q}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${V}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Y}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${V}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Y}`)}}const Et={provide:m,useExisting:Object(r.forwardRef)(()=>Tt)};let Tt=(()=>{class t extends wt{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof xt||St.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](m,5),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r["\u0275\u0275ProvidersFeature"]([Et]),r["\u0275\u0275InheritDefinitionFeature"]]}),t})();const Ot={provide:_,useExisting:Object(r.forwardRef)(()=>Pt)},At=(()=>Promise.resolve(null))();let Pt=(()=>{class t extends _{constructor(t,e,n,i){super(),this.control=new yt,this._registered=!1,this.update=new r.EventEmitter,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ut(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),st(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Q(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ot(this._rawValidators)}get asyncValidator(){return at(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Tt)&&this._parent instanceof wt?St.formGroupNameException():this._parent instanceof Tt||this._parent instanceof xt||St.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||St.missingNameException()}_updateValue(t){At.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;At.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](m,9),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10),r["\u0275\u0275directiveInject"](c,10))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r["\u0275\u0275ProvidersFeature"]([Ot]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),t})(),Lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const kt=new r.InjectionToken("NgModelWithFormControlWarning"),It={provide:_,useExisting:Object(r.forwardRef)(()=>Dt)};let Dt=(()=>{class t extends _{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.EventEmitter,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=ut(this,n)}set isDisabled(t){H.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(tt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),st(e,this.viewModel)&&(dt("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return ot(this._rawValidators)}get asyncValidator(){return at(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10),r["\u0275\u0275directiveInject"](c,10),r["\u0275\u0275directiveInject"](kt,8))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r["\u0275\u0275ProvidersFeature"]([It]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),t._ngModelWarningSentOnce=!1,t})();const Nt={provide:m,useExisting:Object(r.forwardRef)(()=>Rt)};let Rt=(()=>{class t extends m{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.EventEmitter}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return tt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){pt(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);nt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);nt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,lt(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>rt(e)),e.valueAccessor.registerOnTouched(()=>rt(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&tt(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=ot(this._validators);this.form.validator=O.compose([this.form.validator,t]);const e=at(this._asyncValidators);this.form.asyncValidator=O.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||H.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r["\u0275\u0275ProvidersFeature"]([Nt]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),t})();const zt={provide:m,useExisting:Object(r.forwardRef)(()=>Ft)};let Ft=(()=>{class t extends wt{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){qt(this._parent)&&H.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](m,13),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r["\u0275\u0275ProvidersFeature"]([zt]),r["\u0275\u0275InheritDefinitionFeature"]]}),t})();const jt={provide:m,useExisting:Object(r.forwardRef)(()=>Bt)};let Bt=(()=>{class t extends m{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Q(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return ot(this._validators)}get asyncValidator(){return at(this._asyncValidators)}_checkParentType(){qt(this._parent)&&H.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](m,13),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r["\u0275\u0275ProvidersFeature"]([jt]),r["\u0275\u0275InheritDefinitionFeature"]]}),t})();function qt(t){return!(t instanceof Ft||t instanceof Rt||t instanceof Bt)}const Vt={provide:_,useExisting:Object(r.forwardRef)(()=>Yt)};let Yt=(()=>{class t extends _{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.EventEmitter,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ut(this,i)}set isDisabled(t){H.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),st(e,this.viewModel)&&(dt("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Q(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ot(this._rawValidators)}get asyncValidator(){return at(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ft)&&this._parent instanceof wt?H.ngModelGroupException():this._parent instanceof Ft||this._parent instanceof Rt||this._parent instanceof Bt||H.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](m,13),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10),r["\u0275\u0275directiveInject"](c,10),r["\u0275\u0275directiveInject"](kt,8))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r["\u0275\u0275ProvidersFeature"]([Vt]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),t._ngModelWarningSentOnce=!1,t})();const Ht={provide:S,useExisting:Object(r.forwardRef)(()=>Ut),multi:!0},Wt={provide:S,useExisting:Object(r.forwardRef)(()=>Xt),multi:!0};let Ut=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?O.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r["\u0275\u0275attribute"]("required",e.required?"":null)},inputs:{required:"required"},features:[r["\u0275\u0275ProvidersFeature"]([Ht])]}),t})(),Xt=(()=>{class t extends Ut{validate(t){return this.required?O.requiredTrue(t):null}}return t.\u0275fac=function(e){return Gt(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r["\u0275\u0275attribute"]("required",e.required?"":null)},features:[r["\u0275\u0275ProvidersFeature"]([Wt]),r["\u0275\u0275InheritDefinitionFeature"]]}),t})();const Gt=r["\u0275\u0275getInheritedFactory"](Xt),Jt={provide:S,useExisting:Object(r.forwardRef)(()=>$t),multi:!0};let $t=(()=>{class t{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?O.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[r["\u0275\u0275ProvidersFeature"]([Jt])]}),t})();const Kt={provide:S,useExisting:Object(r.forwardRef)(()=>Zt),multi:!0};let Zt=(()=>{class t{constructor(){this._validator=O.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=O.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r["\u0275\u0275attribute"]("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r["\u0275\u0275ProvidersFeature"]([Kt]),r["\u0275\u0275NgOnChangesFeature"]]}),t})();const Qt={provide:S,useExisting:Object(r.forwardRef)(()=>te),multi:!0};let te=(()=>{class t{constructor(){this._validator=O.nullValidator}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=O.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r["\u0275\u0275attribute"]("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r["\u0275\u0275ProvidersFeature"]([Qt]),r["\u0275\u0275NgOnChangesFeature"]]}),t})();const ee={provide:S,useExisting:Object(r.forwardRef)(()=>ne),multi:!0};let ne=(()=>{class t{constructor(){this._validator=O.nullValidator}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=O.pattern(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r["\u0275\u0275attribute"]("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[r["\u0275\u0275ProvidersFeature"]([ee]),r["\u0275\u0275NgOnChangesFeature"]]}),t})();const re=[Lt,G,Z,h,N,B,u,X,K,F,M,x,Ut,Zt,te,ne,Xt,$t],ie=[Pt,Tt,xt],oe=[Dt,Rt,Yt,Ft,Bt];let ae=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})(),se=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new _t(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new yt(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new vt(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof yt||t instanceof _t||t instanceof vt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const ce=new r.Version("10.0.7");let le=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[z],imports:[ae]}),t})(),ue=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:kt,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[se,z],imports:[ae]}),t})()},s7fG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowMapEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("kU1M"),a=n("dBJ5"),s=n("EiLY"),c=n("8Y7J"),l=n("7bNT");e.ShowMapEffects=(()=>{class t{constructor(t){this.actions=t,this.showMapOnMapViewParamInUrl$=this.actions.pipe(i.ofType(a.routerNavigatedAction),o.filter(t=>"true"===t.payload.routerState.root.queryParams.mapView),o.mapTo(new s.SwitchAppViewAction({mobileMapView:!0})))}}return t.\u0275fac=function(e){return new(e||t)(c.\u0275\u0275inject(l.Actions))},t.\u0275prov=c.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"showMapOnMapViewParamInUrl$",void 0),t})()},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},sYyf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rotateClockwiseAnimation=e.slideOpenDownAnimation=e.slideUpDownAnimation=e.fadeOutAnimation=e.fadeInAnimation=e.slideFromTopAnimation=void 0;const r=n("GS7A");e.slideFromTopAnimation=r.trigger("slideFromTopAnimation",[r.transition(":enter",[r.style({top:"5%",opacity:0}),r.animate("0.5s ease-in-out",r.style({top:"0",opacity:1}))]),r.transition(":leave",[r.style({top:"0",opacity:0}),r.animate("0.3s ease-in-out",r.style({top:"5%",opacity:0}))])]),e.fadeInAnimation=r.trigger("fadeInAnimation",[r.transition(":enter",[r.style({opacity:0,"z-index":666}),r.animate(300,r.style({opacity:1,"z-index":666}))]),r.transition(":leave",[r.style({opacity:1,"z-index":666}),r.animate(300,r.style({opacity:0,"z-index":0}))])]),e.fadeOutAnimation=r.trigger("fadeOutAnimation",[r.transition(":leave",[r.style({opacity:1,"z-index":666}),r.animate(300,r.style({opacity:0,"z-index":0}))])]),e.slideUpDownAnimation=r.trigger("slideUpDownAnimation",[r.transition(":enter",[r.style({transform:"translateY(20%)"}),r.animate("0.2s ease",r.style({transform:"translateY(0%)"}))]),r.transition(":leave",[r.style({transform:"translateY(0%)",opacity:1}),r.animate("0.5s ease-out",r.style({transform:"translateY(20%)",opacity:0}))])]),e.slideOpenDownAnimation=r.trigger("slideOpenDownAnimation",[r.transition(":enter",[r.style({height:"0",overflow:"hidden",opacity:0}),r.group([r.animate("0.35s ease-in-out",r.style({height:"*",opacity:1}))])]),r.transition(":leave",[r.style({height:"*",overflow:"hidden",opacity:1}),r.group([r.animate("0.35s ease-in-out",r.style({height:"0",opacity:0}))])])]),e.rotateClockwiseAnimation=r.trigger("rotateClockwiseAnimation",[r.state("rotate",r.style({transform:"rotate(180deg)"})),r.state("default",r.style({transform:"rotate(0)"})),r.transition("rotate => default",r.animate("0.35s ease-out")),r.transition("default => rotate",r.animate("0.35s ease-in"))])},"sa+3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpalRetailerDetailsComponent=void 0;const r=n("8Y7J"),i=n("8Y7J"),o=n("ZrN/"),a=n("MhY6"),s=n("SVse"),c=n("0njA");function l(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"div",13),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(t.distance)}}function u(t,e){if(1&t&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" , ",t.paymentType,"")}}function p(t,e){if(1&t){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"a",14),i.\u0275\u0275listener("click",(function(){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext().phoneLinkClick()})),i.\u0275\u0275elementStart(1,"div",15),i.\u0275\u0275element(2,"tni-icon",16),i.\u0275\u0275elementStart(3,"span",1),i.\u0275\u0275text(4,"Call opal retailer "),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"span"),i.\u0275\u0275text(6),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275propertyInterpolate1("href","tel:",t.opalRetailer.phone_no,"",i.\u0275\u0275sanitizeUrl),i.\u0275\u0275advance(2),i.\u0275\u0275property("iconAriaHidden",!0)("iconClasses","tp-icon xs "+t.iconClasses),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(t.opalRetailer.phone_no)}}function d(t,e){if(1&t){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",17),i.\u0275\u0275listener("click",(function(){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext().onClickShowDirections()})),i.\u0275\u0275element(1,"tni-icon",18),i.\u0275\u0275elementStart(2,"span",1),i.\u0275\u0275text(3,"Plan a trip "),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"span"),i.\u0275\u0275text(5,"Plan a trip"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("iconAriaHidden",!0)("iconClasses","tp-icon sm "+t.iconClasses)}}function h(t,e){if(1&t){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",19),i.\u0275\u0275listener("click",(function(){return i.\u0275\u0275restoreView(t),i.\u0275\u0275nextContext().switchMapClick()})),i.\u0275\u0275element(1,"tni-icon",20),i.\u0275\u0275elementStart(2,"span",1),i.\u0275\u0275text(3,"Show map"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"span"),i.\u0275\u0275text(5,"Map"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("iconAriaHidden",!0)("iconClasses","tp-icon sm "+t.iconClasses)}}const f=function(t){return{"opalRetailer-popup":t}},m=function(t){return{opalRetailer_details:!0,"opalRetailer_details-hidden":t}};class g{constructor(t,e){this.opalRetailerService=t,this.windowRef=e,this.iconClasses="",this.distance="",this.serviceType="",this.paymentType="",this.popup=!1,this.isMobile=this.windowRef.isMobileView(),this.fullDisplay=!0,this.switchMapClicked=new r.EventEmitter,this.showDirections=new r.EventEmitter,this.trackPhone=new r.EventEmitter}set data(t){this.distance=this.opalRetailerService.getDistanceLabel(t.distance_from_point),this.serviceType=this.opalRetailerService.getOpalRetailerServiceType(t.service_type),this.paymentType=this.opalRetailerService.getOpalPaymentType(t.payment_type),this.opalRetailer=t}set isPopup(t){t&&(this.iconClasses="tp-icon-popup"),this.popup=t}switchMapClick(){this.switchMapClicked.emit()}onClickShowDirections(){this.showDirections.emit()}phoneLinkClick(){this.trackPhone.emit()}}e.OpalRetailerDetailsComponent=g,g.\u0275fac=function(t){return new(t||g)(i.\u0275\u0275directiveInject(o.OpalRetailersService),i.\u0275\u0275directiveInject(a.WindowRef))},g.\u0275cmp=i.\u0275\u0275defineComponent({type:g,selectors:[["tni-opal-retailer-details"]],inputs:{index:"index",data:"data",fullDisplay:"fullDisplay",isPopup:"isPopup"},outputs:{switchMapClicked:"switchMapClicked",showDirections:"showDirections",trackPhone:"trackPhone"},decls:17,vars:18,consts:[["role","button","tabindex","0",3,"ngClass"],[1,"sr-only"],["aria-hidden","true","class","opal-retailer__distance",4,"ngIf"],["aria-hidden","true",1,"opal-retailer__name"],[1,"opal-retailer__heading-button"],[3,"ngClass"],[1,"opal-retailer__address"],[1,"opal-retailer__description"],[4,"ngIf"],[1,"opal-retailer__links-container"],["class","opal-retailer__links-phone",3,"href","click",4,"ngIf"],["class","opal-retailer__links-show-directions",3,"click",4,"ngIf"],["class","opal-retailer__links-show-map",3,"click",4,"ngIf"],["aria-hidden","true",1,"opal-retailer__distance"],[1,"opal-retailer__links-phone",3,"href","click"],[1,"button-content"],["tabindex","-1","iconName","phone-outline",3,"iconAriaHidden","iconClasses"],[1,"opal-retailer__links-show-directions",3,"click"],["tabindex","-1","iconName","show_directions",3,"iconAriaHidden","iconClasses"],[1,"opal-retailer__links-show-map",3,"click"],["tabindex","-1","iconName","map_opal-retailer",3,"iconAriaHidden","iconClasses"]],template:function(t,e){1&t&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementStart(1,"span",1),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(3,l,2,1,"div",2),i.\u0275\u0275elementStart(4,"h4",3),i.\u0275\u0275elementStart(5,"div",4),i.\u0275\u0275text(6),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",5),i.\u0275\u0275elementStart(8,"p",6),i.\u0275\u0275text(9),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(10,"p",7),i.\u0275\u0275text(11),i.\u0275\u0275template(12,u,2,1,"span",8),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(13,"div",9),i.\u0275\u0275template(14,p,7,4,"a",10),i.\u0275\u0275template(15,d,6,2,"div",11),i.\u0275\u0275template(16,h,6,2,"div",12),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&t&&(i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(14,f,e.popup)),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate2("",e.opalRetailer.retailer_name," ",e.distance,""),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.opalRetailer.distance_from_point),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",e.opalRetailer.retailer_name," "),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(16,m,!e.fullDisplay)),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate3("",e.opalRetailer.street_address,", ",e.opalRetailer.suburb,", ",e.opalRetailer.postcode,""),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",e.serviceType," "),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.paymentType),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",e.opalRetailer.phone_no),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.opalRetailer.latitude&&e.opalRetailer.latitude),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.isMobile))},directives:[s.NgClass,s.NgIf,c.IconComponent],styles:[".panel-default[_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:3px;background-color:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);margin-bottom:10px}.opal-retailer__heading-button[_ngcontent-%COMP%]{background:transparent;padding:0;border:0;cursor:pointer}.opal-retailer__heading-button[_ngcontent-%COMP%]:hover{text-decoration:underline}.opal-retailer__distance[_ngcontent-%COMP%]{font-size:11px;line-height:1.5em;margin-bottom:.5em;color:#757575;float:right}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.opal-retailer__distance[_ngcontent-%COMP%]{display:contents}}.opal-retailer__name[_ngcontent-%COMP%]{color:#171717;font-size:14px;font-weight:500;letter-spacing:.12px;line-height:18px;margin:0}.opal-retailer__address[_ngcontent-%COMP%]{color:#171717;font-size:12px;font-weight:300;letter-spacing:0;line-height:15px;margin:3px 0}.opal-retailer__description[_ngcontent-%COMP%]{color:#171717;font-size:11px;letter-spacing:.09px;line-height:14px;font-weight:400;margin:0 0 10px}.opal-retailer__links-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.8fr 1fr;line-height:12px;font-size:12px;padding:4px 4px 4px 0}.opal-retailer__links-container[_ngcontent-%COMP%]     .tp-icon{margin-right:5px;vertical-align:middle}.opal-retailer__links-show-directions[_ngcontent-%COMP%]{color:#1d69b4;line-height:38px;letter-spacing:.07px}.opal-retailer__links-show-directions[_ngcontent-%COMP%]     .tp-icon{vertical-align:middle}.opal-retailer__links-show-map[_ngcontent-%COMP%]{text-align:left;color:#1d69b4;line-height:38px;letter-spacing:.07px}.opalRetailer_details[_ngcontent-%COMP%]{max-height:100px;transition:max-height .33s ease-in}.opalRetailer_details-hidden[_ngcontent-%COMP%]{max-height:0}.button-content[_ngcontent-%COMP%]{display:flex;align-items:center}.button-content[_ngcontent-%COMP%]   .sr-only[_ngcontent-%COMP%]{width:100px;height:20px}.opalRetailer-popup[_ngcontent-%COMP%]   .opal-retailer__address[_ngcontent-%COMP%], .opalRetailer-popup[_ngcontent-%COMP%]   .opal-retailer__distance[_ngcontent-%COMP%], .opalRetailer-popup[_ngcontent-%COMP%]   .opal-retailer__name[_ngcontent-%COMP%]{margin-bottom:8px}.opalRetailer-popup[_ngcontent-%COMP%]   .opal-retailer__address[_ngcontent-%COMP%]{font-size:14px;line-height:18px;margin-right:20px}.opalRetailer-popup[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%], .opalRetailer-popup[_ngcontent-%COMP%]   .opal-retailer__description[_ngcontent-%COMP%]{margin-bottom:16px}.opalRetailer-popup[_ngcontent-%COMP%]     svg.tp-icon{width:14px;height:14px}"]})},sp3z:function(t,e,n){!function(t){"use strict";t.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(t){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===t},meridiem:function(t,e,n){return t<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(t){return"\u0e97\u0eb5\u0ec8"+t}})}(n("wd/R"))},stop:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("mrSG");r.__exportStar(n("08lQ"),e),r.__exportStar(n("A5KL"),e),r.__exportStar(n("ZkHo"),e),r.__exportStar(n("ZaU7"),e),r.__exportStar(n("RatG"),e)},tGlX:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},tKZv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.departureHistoryReducer=e.initialState=void 0;const r=n("KQMD");e.initialState={data:[],isComplete:!1};const i=(t,e)=>t.isFav===e.isFav?0:t.isFav?-1:1;e.departureHistoryReducer=function(t=e.initialState,n){switch(n.type){case r.DeparturesActionTypes.InitiateDepartureHistory:return Object.assign(Object.assign({},t),{data:n.payload.data,isComplete:!0});case r.DeparturesActionTypes.ChangeFavState:const e=t.data.findIndex(t=>t.id===n.payload.id),o=t.data[e];return Object.assign({},Object.assign(Object.assign({},t),{data:[...t.data.slice(0,e),Object.assign(Object.assign({},o),{isFav:!o.isFav}),...t.data.slice(e+1)].sort(i)}));case r.DeparturesActionTypes.DeparturesHistory:const a=t.data.findIndex(t=>t.id===n.payload.departureHistory.id),s=a>-1?t.data[a]:n.payload.departureHistory,c=a>-1?[...t.data.slice(0,a),...t.data.slice(a+1)]:t.data;return Object.assign(Object.assign({},t),{data:[s,...c].sort(i)});case r.DeparturesActionTypes.RemoveDeparturesHistory:const l=t.data.findIndex(t=>t.id===n.payload.id);return Object.assign(Object.assign({},t),{data:[...t.data.slice(0,l),...t.data.slice(l+1)].sort(i)});default:return t}}},tT3J:function(t,e,n){!function(t){"use strict";t.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n("wd/R"))},tUCv:function(t,e,n){!function(t){"use strict";t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n("wd/R"))},"tY+t":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getQueryParamMap=e.getQueryParams=void 0;const r=n("tqRt"),i=t=>t.router.state.root,o=r.createSelector(i,t=>t.queryParamMap),a=r.createSelector(i,t=>t.queryParams);e.getQueryParams=a,e.getQueryParamMap=o},tgPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListRadioComponent=void 0;const r=n("8Y7J"),i=n("s7LF"),o=n("8Y7J"),a=n("GYBK"),s=n("SVse"),c=n("0njA"),l=["radioButton"];function u(t,e){if(1&t&&o.\u0275\u0275element(0,"tni-icon",11),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275property("iconName",t.icon)("iconAriaHidden",!0)}}function p(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"span",12),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.helpText)}}class d{constructor(){this.onChanged=()=>{},this.onTouched=()=>{}}writeValue(t){this.radioElement.nativeElement.checked=t===this.value}registerOnChange(t){this.onChanged=t}registerOnTouched(t){this.onTouched=t}clickRadioButton(){this.radioElement.nativeElement.click()}selectRadioButton(){this.onChanged(this.radioElement.nativeElement.value)}}e.ListRadioComponent=d,d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=o.\u0275\u0275defineComponent({type:d,selectors:[["tni-list-radio"]],viewQuery:function(t,e){var n;1&t&&o.\u0275\u0275staticViewQuery(l,!0),2&t&&o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.radioElement=n.first)},inputs:{value:"value",image:"image",icon:"icon",text:"text",radioGroupName:"radioGroupName",imageClasses:"imageClasses",additionalText:"additionalText",helpText:"helpText"},features:[o.\u0275\u0275ProvidersFeature([{provide:i.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(()=>d),multi:!0}])],decls:14,vars:18,consts:[["role","radio",1,"btn","btn-default",3,"keyup.space","keyup.enter","click"],["aria-hidden","true",1,"image-container"],[1,"radio-image",3,"imageClasses","imageName","imageTitle","imageAriaHidden"],["iconClasses","additional-icon",3,"iconName","iconAriaHidden",4,"ngIf"],["aria-hidden","true",1,"fare-type-container"],["type","radio",3,"input"],["radioButton",""],[1,"badge-label"],["aria-hidden","true",1,"fare-description"],[1,"additional-text"],["class","help-text",4,"ngIf"],["iconClasses","additional-icon",3,"iconName","iconAriaHidden"],[1,"help-text"]],template:function(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"label",0),o.\u0275\u0275listener("keyup.space",(function(){return e.clickRadioButton()}))("keyup.enter",(function(){return e.clickRadioButton()}))("click",(function(){return e.selectRadioButton()})),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275element(2,"tni-image",2),o.\u0275\u0275template(3,u,1,2,"tni-icon",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"div",4),o.\u0275\u0275elementStart(5,"input",5,6),o.\u0275\u0275listener("input",(function(){return e.selectRadioButton()})),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"span",7),o.\u0275\u0275text(8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"div",8),o.\u0275\u0275elementStart(10,"span",9),o.\u0275\u0275text(11),o.\u0275\u0275elementStart(12,"p"),o.\u0275\u0275template(13,p,2,1,"span",10),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&t){const t=o.\u0275\u0275reference(6);o.\u0275\u0275classProp("with-additional-text",!!e.additionalText)("active",t.checked)("hasIcon",e.image),o.\u0275\u0275attribute("aria-checked",t.checked)("aria-label",e.text+e.additionalText+(e.helpText||"")),o.\u0275\u0275advance(2),o.\u0275\u0275property("imageClasses",e.imageClasses)("imageName",e.image)("imageTitle",e.text)("imageAriaHidden",!0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.icon),o.\u0275\u0275advance(2),o.\u0275\u0275attribute("name",e.radioGroupName)("value",e.value),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(e.text),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1("",e.additionalText," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",e.helpText)}},directives:[a.ImageComponent,s.NgIf,c.IconComponent],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.badgebox[_ngcontent-%COMP%]{opacity:0;display:none;visibility:hidden}.badge-label[_ngcontent-%COMP%], .hasIcon[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{color:#171717}.btn.btn-default[_ngcontent-%COMP%]{background:#fff;position:relative;width:90%;margin-bottom:8px;padding:18px 0}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.btn.btn-default[_ngcontent-%COMP%]{margin-bottom:16px}}.btn.btn-default[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{font-size:13px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.btn.btn-default[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{font-size:12px;white-space:pre-wrap}}.btn.btn-default.active[_ngcontent-%COMP%]{background:rgba(29,105,180,.1);border:1px solid #175490;box-shadow:none;color:#175490}.btn.btn-default.active[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%], .btn.btn-default.active[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{color:#175490}.btn.btn-default.active[_ngcontent-%COMP%]:hover{background:rgba(29,105,180,.1)!important}@media (min-width:768px){.btn.btn-default[_ngcontent-%COMP%]{font-size:14px;width:97%}}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.btn.btn-default[_ngcontent-%COMP%]{width:95%}}.btn.btn-default[_ngcontent-%COMP%]   .radio-image[_ngcontent-%COMP%]{margin-left:15px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.btn.btn-default[_ngcontent-%COMP%]   .radio-image[_ngcontent-%COMP%]{margin-top:0}}.btn.btn-default[_ngcontent-%COMP%]   .additional-text[_ngcontent-%COMP%]{text-overflow:clip;white-space:nowrap;text-align:left;margin-right:10px;margin-top:3px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.btn.btn-default[_ngcontent-%COMP%]   .additional-text[_ngcontent-%COMP%]{font-size:12px;text-align:left}}@media (min-width:768px){.btn.btn-default[_ngcontent-%COMP%]   .additional-text[_ngcontent-%COMP%]{font-size:12px;text-align:left}}.btn.btn-default[_ngcontent-%COMP%]     svg{width:16px;height:16px;margin-top:6px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.btn.btn-default[_ngcontent-%COMP%]     svg{margin-top:3px}}.btn.btn-default[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{color:#757575;font-size:10px;line-height:12px;text-align:left;white-space:pre-wrap}.btn.btn-default[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:2px}label[_ngcontent-%COMP%]{display:flex;max-width:100%;border-radius:4px;height:60px;align-items:center;justify-content:space-between}.image-container[_ngcontent-%COMP%]{max-width:60px;text-align:left}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.image-container[_ngcontent-%COMP%]{max-width:35px;margin-left:-7px}}.fare-type-container[_ngcontent-%COMP%]{width:125px;white-space:normal;text-align:left;margin-left:-20px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.fare-type-container[_ngcontent-%COMP%]{max-width:50px;white-space:pre-wrap;margin-left:10px;align-content:flex-start}}.fare-description[_ngcontent-%COMP%]{max-width:120px;text-align:left;margin-top:14px;margin-right:10px;margin-left:10px;line-height:12px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){.fare-description[_ngcontent-%COMP%]{max-width:105px;margin-top:15px}}input[type=radio][_ngcontent-%COMP%]{opacity:0;position:absolute}label[_ngcontent-%COMP%]:focus-within{outline:4px solid rgba(0,0,0,.4);box-shadow:inset 0 3px 5px rgba(0,0,0,.125);outline-offset:-2px;text-decoration:none;background:#ececec!important}"]})},tnsW:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(t){return function(e){return e.lift(new a(t))}}class a{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new s(t,this.durationSelector))}}class s extends r.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(i.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}},tqRt:function(t,e,n){"use strict";n.r(e),n.d(e,"ActionsSubject",(function(){return b})),n.d(e,"FEATURE_REDUCERS",(function(){return N})),n.d(e,"INIT",(function(){return v})),n.d(e,"INITIAL_REDUCERS",(function(){return T})),n.d(e,"INITIAL_STATE",(function(){return C})),n.d(e,"META_REDUCERS",(function(){return z})),n.d(e,"REDUCER_FACTORY",(function(){return S})),n.d(e,"ReducerManager",(function(){return J})),n.d(e,"ReducerManagerDispatcher",(function(){return X})),n.d(e,"ReducerObservable",(function(){return U})),n.d(e,"STORE_FEATURES",(function(){return A})),n.d(e,"ScannedActionsSubject",(function(){return K})),n.d(e,"State",(function(){return et})),n.d(e,"StateObservable",(function(){return tt})),n.d(e,"Store",(function(){return it})),n.d(e,"StoreFeatureModule",(function(){return zt})),n.d(e,"StoreModule",(function(){return Ft})),n.d(e,"StoreRootModule",(function(){return Rt})),n.d(e,"UPDATE",(function(){return G})),n.d(e,"USER_PROVIDED_META_REDUCERS",(function(){return R})),n.d(e,"USER_RUNTIME_CHECKS",(function(){return j})),n.d(e,"combineReducers",(function(){return Y})),n.d(e,"compose",(function(){return H})),n.d(e,"createAction",(function(){return m})),n.d(e,"createFeatureSelector",(function(){return yt})),n.d(e,"createReducer",(function(){return Ut})),n.d(e,"createReducerFactory",(function(){return W})),n.d(e,"createSelector",(function(){return ft})),n.d(e,"createSelectorFactory",(function(){return gt})),n.d(e,"defaultMemoize",(function(){return ht})),n.d(e,"defaultStateFn",(function(){return mt})),n.d(e,"isNgrxMockEnvironment",(function(){return lt})),n.d(e,"on",(function(){return Wt})),n.d(e,"props",(function(){return g})),n.d(e,"reduceState",(function(){return nt})),n.d(e,"resultMemoize",(function(){return dt})),n.d(e,"select",(function(){return at})),n.d(e,"setNgrxMockEnvironment",(function(){return ct})),n.d(e,"union",(function(){return y})),n.d(e,"\u0275b",(function(){return ot})),n.d(e,"\u0275ba",(function(){return Tt})),n.d(e,"\u0275bb",(function(){return Ot})),n.d(e,"\u0275bc",(function(){return At})),n.d(e,"\u0275bd",(function(){return Lt})),n.d(e,"\u0275be",(function(){return kt})),n.d(e,"\u0275bf",(function(){return It})),n.d(e,"\u0275bg",(function(){return Dt})),n.d(e,"\u0275bh",(function(){return Nt})),n.d(e,"\u0275c",(function(){return M})),n.d(e,"\u0275d",(function(){return $})),n.d(e,"\u0275e",(function(){return Q})),n.d(e,"\u0275f",(function(){return ut})),n.d(e,"\u0275g",(function(){return rt})),n.d(e,"\u0275h",(function(){return x})),n.d(e,"\u0275i",(function(){return w})),n.d(e,"\u0275j",(function(){return E})),n.d(e,"\u0275k",(function(){return O})),n.d(e,"\u0275l",(function(){return P})),n.d(e,"\u0275m",(function(){return L})),n.d(e,"\u0275n",(function(){return k})),n.d(e,"\u0275o",(function(){return I})),n.d(e,"\u0275p",(function(){return D})),n.d(e,"\u0275q",(function(){return F})),n.d(e,"\u0275r",(function(){return B})),n.d(e,"\u0275s",(function(){return q})),n.d(e,"\u0275t",(function(){return V})),n.d(e,"\u0275u",(function(){return jt})),n.d(e,"\u0275v",(function(){return Bt})),n.d(e,"\u0275w",(function(){return qt})),n.d(e,"\u0275x",(function(){return Vt})),n.d(e,"\u0275y",(function(){return Yt})),n.d(e,"\u0275z",(function(){return Ht}));var r=n("8Y7J"),i=n("2Vo4"),o=n("HDdC"),a=n("XNiG"),s=n("qgXg"),c=n("pxpQ"),l=n("zp1y"),u=n("Kqap"),p=n("wO+i"),d=n("lJxs"),h=n("/uUt");const f={};function m(t,e){if(f[t]=(f[t]||0)+1,"function"==typeof e)return _(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return _(t,()=>({type:t}));case"props":return _(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function g(){return{_as:"props",_p:void 0}}function y(t){}function _(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const v="@ngrx/store/init";let b=(()=>{class t extends i.a{constructor(){super({type:v})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const M=[b],x=new r.InjectionToken("@ngrx/store Internal Root Guard"),w=new r.InjectionToken("@ngrx/store Internal Initial State"),C=new r.InjectionToken("@ngrx/store Initial State"),S=new r.InjectionToken("@ngrx/store Reducer Factory"),E=new r.InjectionToken("@ngrx/store Internal Reducer Factory Provider"),T=new r.InjectionToken("@ngrx/store Initial Reducers"),O=new r.InjectionToken("@ngrx/store Internal Initial Reducers"),A=new r.InjectionToken("@ngrx/store Store Features"),P=new r.InjectionToken("@ngrx/store Internal Store Reducers"),L=new r.InjectionToken("@ngrx/store Internal Feature Reducers"),k=new r.InjectionToken("@ngrx/store Internal Feature Configs"),I=new r.InjectionToken("@ngrx/store Internal Store Features"),D=new r.InjectionToken("@ngrx/store Internal Feature Reducers Token"),N=new r.InjectionToken("@ngrx/store Feature Reducers"),R=new r.InjectionToken("@ngrx/store User Provided Meta Reducers"),z=new r.InjectionToken("@ngrx/store Meta Reducers"),F=new r.InjectionToken("@ngrx/store Internal Resolved Meta Reducers"),j=new r.InjectionToken("@ngrx/store User Runtime Checks Config"),B=new r.InjectionToken("@ngrx/store Internal User Runtime Checks Config"),q=new r.InjectionToken("@ngrx/store Internal Runtime Checks"),V=new r.InjectionToken("@ngrx/store Check if Action types are unique");function Y(t,e={}){const n=Object.keys(t),r={};for(let o=0;o<n.length;o++){const e=n[o];"function"==typeof t[e]&&(r[e]=t[e])}const i=Object.keys(r);return function(t,n){t=void 0===t?e:t;let o=!1;const a={};for(let e=0;e<i.length;e++){const s=i[e],c=t[s],l=(0,r[s])(c,n);a[s]=l,o=o||l!==c}return o?a:t}}function H(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function W(t,e){return Array.isArray(e)&&e.length>0&&(t=H.apply(null,[...e,t])),(e,n)=>{const r=t(e);return(t,e)=>r(t=void 0===t?n:t,e)}}class U extends o.a{}class X extends b{}const G="@ngrx/store/update-reducers";let J=(()=>{class t extends i.a{constructor(t,e,n,r){super(r(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=r}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:r,initialState:i,key:o})=>{const a="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?H(...t):t=>t;return(t,n)=>(t=e(t),(e,r)=>t(e=void 0===e?n:e,r))}(r)(e,i):W(n,r)(e,i);return t[o]=a,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:G,features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](X),r["\u0275\u0275inject"](C),r["\u0275\u0275inject"](T),r["\u0275\u0275inject"](S))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const $=[J,{provide:U,useExisting:J},{provide:X,useExisting:b}];let K=(()=>{class t extends a.a{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return Z(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const Z=r["\u0275\u0275getInheritedFactory"](K),Q=[K];class tt extends o.a{}let et=(()=>{class t extends i.a{constructor(t,e,n,r){super(r);const i={state:r},o=t.pipe(Object(c.b)(s.a)).pipe(Object(l.a)(e)).pipe(Object(u.a)(nt,i));this.stateSubscription=o.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](b),r["\u0275\u0275inject"](U),r["\u0275\u0275inject"](K),r["\u0275\u0275inject"](C))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t.INIT=v,t})();function nt(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}const rt=[et,{provide:tt,useExisting:et}];let it=(()=>{class t extends o.a{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return at.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](tt),r["\u0275\u0275inject"](b),r["\u0275\u0275inject"](J))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const ot=[it];function at(t,e,...n){return function(r){let i;if("string"==typeof t){const o=[e,...n].filter(Boolean);i=r.pipe(Object(p.a)(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);i=r.pipe(Object(d.a)(n=>t(n,e)))}return i.pipe(Object(h.a)())}}let st=!1;function ct(t){st=t}function lt(){return st}function ut(t,e){return t===e}function pt(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}function dt(t,e){return ht(t,ut,e)}function ht(t,e=ut,n=ut){let r,i=null,o=null;return{memoized:function(){if(void 0!==r)return r.result;if(!i)return o=t.apply(null,arguments),i=arguments,o;if(!pt(arguments,i,e))return o;const a=t.apply(null,arguments);return i=arguments,n(o,a)?o:(o=a,a)},reset:function(){i=null,o=null},setResult:function(t){r={result:t}},clearResult:function(){r=void 0}}}function ft(...t){return gt(ht)(...t)}function mt(t,e,n,r){if(void 0===n){const n=e.map(e=>e(t));return r.memoized.apply(null,n)}const i=e.map(e=>e(t,n));return r.memoized.apply(null,[...i,n])}function gt(t,e={stateFn:mt}){return function(...n){let r=n;if(Array.isArray(r[0])){const[t,...e]=r;r=[...t,...e]}const i=r.slice(0,r.length-1),o=r[r.length-1],a=i.filter(t=>t.release&&"function"==typeof t.release),s=t((function(...t){return o.apply(null,t)})),c=ht((function(t,n){return e.stateFn.apply(null,[t,i,n,s])}));return Object.assign(c.memoized,{release:function(){c.reset(),s.reset(),a.forEach(t=>t.release())},projector:s.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function yt(t){return ft(e=>{const n=e[t];return lt()||!Object(r.isDevMode)()||t in e||console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},t=>t)}const _t="https://ngrx.io/guide/store/configuration/runtime-checks";function vt(t){return void 0===t}function bt(t){return null===t}function Mt(t){return Array.isArray(t)}function xt(t){return"object"==typeof t&&null!==t}function wt(t){return"function"==typeof t}function Ct(t){Object.freeze(t);const e=wt(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!xt(e)&&!wt(e)||Object.isFrozen(e)||Ct(e)}}),t}function St(t,e=[]){return(vt(t)||bt(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;const i=t[r];return function(t){return wt(t)&&t.hasOwnProperty("\u0275cmp")}(i)?n:!(vt(i)||bt(i)||function(t){return"number"==typeof t}(i)||function(t){return"boolean"==typeof t}(i)||function(t){return"string"==typeof t}(i)||Mt(i))&&(function(t){if(!function(t){return xt(t)&&!Mt(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(i)?St(i,[...e,r]):{path:[...e,r],value:i})},!1)}function Et(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${_t}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function Tt(t){return Object(r.isDevMode)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ot({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,r){e.action(r)&&Et(St(r),"action");const i=t(n,r);return e.state()&&Et(St(i),"state"),i}}(n,{action:e=>t&&!Pt(e),state:()=>e}):n}function At({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,r){const i=e.action(r)?Ct(r):r,o=t(n,i);return e.state()?Ct(o):o}}(n,{action:e=>t&&!Pt(e),state:()=>e}):n}function Pt(t){return t.type.startsWith("@ngrx")}function Lt({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,i){if(e.action(i)&&!r.NgZone.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${_t}#strictactionwithinngzone`);return t(n,i)}}(e,{action:e=>t&&!Pt(e)}):e}function kt(t){return[{provide:B,useValue:t},{provide:j,useFactory:Dt,deps:[B]},{provide:q,deps:[j],useFactory:Tt},{provide:z,multi:!0,deps:[q],useFactory:At},{provide:z,multi:!0,deps:[q],useFactory:Ot},{provide:z,multi:!0,deps:[q],useFactory:Lt}]}function It(){return[{provide:V,multi:!0,deps:[q],useFactory:Nt}]}function Dt(t){return t}function Nt(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(f).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${_t}#strictactiontypeuniqueness`)}let Rt=(()=>{class t{constructor(t,e,n,r,i,o){}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(r["\u0275\u0275inject"](b),r["\u0275\u0275inject"](U),r["\u0275\u0275inject"](K),r["\u0275\u0275inject"](it),r["\u0275\u0275inject"](x,8),r["\u0275\u0275inject"](V,8))}}),t})(),zt=(()=>{class t{constructor(t,e,n,r,i){this.features=t,this.featureReducers=e,this.reducerManager=n;const o=t.map((t,n)=>{const r=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:r,initialState:Vt(t.initialState)})});n.addFeatures(o)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(r["\u0275\u0275inject"](I),r["\u0275\u0275inject"](N),r["\u0275\u0275inject"](J),r["\u0275\u0275inject"](Rt),r["\u0275\u0275inject"](V,8))}}),t})(),Ft=(()=>{class t{static forRoot(t,e={}){return{ngModule:Rt,providers:[{provide:x,useFactory:Ht,deps:[[it,new r.Optional,new r.SkipSelf]]},{provide:w,useValue:e.initialState},{provide:C,useFactory:Vt,deps:[w]},{provide:O,useValue:t},{provide:P,useExisting:t instanceof r.InjectionToken?t:O},{provide:T,deps:[r.Injector,O,[new r.Inject(P)]],useFactory:jt},{provide:R,useValue:e.metaReducers?e.metaReducers:[]},{provide:F,deps:[z,R],useFactory:Yt},{provide:E,useValue:e.reducerFactory?e.reducerFactory:Y},{provide:S,deps:[E,F],useFactory:W},M,$,Q,rt,ot,kt(e.runtimeChecks),It()]}}static forFeature(t,e,n={}){return{ngModule:zt,providers:[{provide:k,multi:!0,useValue:n},{provide:A,multi:!0,useValue:{key:t,reducerFactory:n instanceof r.InjectionToken||!n.reducerFactory?Y:n.reducerFactory,metaReducers:n instanceof r.InjectionToken||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof r.InjectionToken||!n.initialState?void 0:n.initialState}},{provide:I,deps:[r.Injector,k,A],useFactory:Bt},{provide:L,multi:!0,useValue:e},{provide:D,multi:!0,useExisting:e instanceof r.InjectionToken?e:L},{provide:N,multi:!0,deps:[r.Injector,L,[new r.Inject(D)]],useFactory:qt},It()]}}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})();function jt(t,e){return e instanceof r.InjectionToken?t.get(e):e}function Bt(t,e,n){return n.map((n,i)=>{if(e[i]instanceof r.InjectionToken){const r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:Y,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function qt(t,e){return e.map(e=>e instanceof r.InjectionToken?t.get(e):e)}function Vt(t){return"function"==typeof t?t():t}function Yt(t,e){return t.concat(e)}function Ht(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Wt(...t){return{reducer:t.pop(),types:t.reduce((t,e)=>[...t,e.type],[])}}function Ut(t,...e){const n=new Map;for(let r of e)for(let t of r.types)if(n.has(t)){const e=n.get(t);n.set(t,(t,n)=>r.reducer(e(t,n),n))}else n.set(t,r.reducer);return function(e=t,r){const i=n.get(r.type);return i?i(e,r):e}}},tww8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightTextModule=void 0;const r=n("SVse"),i=n("8Y7J");class o{}e.HighlightTextModule=o,o.\u0275mod=i.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=i.\u0275\u0275defineInjector({factory:function(t){return new(t||o)},imports:[[r.CommonModule]]})},u3GI:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},uEye:function(t,e,n){!function(t){"use strict";t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_m\xe5n_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},uKem:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesRouteFilterComponent=void 0;const r=n("8Y7J"),i=n("kU1M"),o=n("erv5"),a=n("8Y7J"),s=n("h6C5"),c=n("SVse"),l=n("GT7+"),u=n("0njA");function p(t,e){1&t&&(a.\u0275\u0275elementStart(0,"p",6),a.\u0275\u0275text(1," You can filter by route once you search for a station, stop or wharf. "),a.\u0275\u0275elementEnd())}function d(t,e){1&t&&a.\u0275\u0275elementContainer(0)}function h(t,e){1&t&&a.\u0275\u0275elementContainer(0)}function f(t,e){1&t&&a.\u0275\u0275elementContainer(0)}function m(t,e){1&t&&a.\u0275\u0275elementContainer(0)}function g(t,e){1&t&&a.\u0275\u0275elementContainer(0)}function y(t,e){1&t&&a.\u0275\u0275elementContainer(0)}function _(t,e){1&t&&a.\u0275\u0275elementContainer(0)}const v=function(t){return{modeName:"Metro",lines:t}},b=function(t){return{modeName:"Train",lines:t}},M=function(t){return{modeName:"Bus",lines:t}},x=function(t){return{modeName:"Ferry",lines:t}},w=function(t){return{modeName:"Light Rail",lines:t}},C=function(t){return{modeName:"Coach",lines:t}},S=function(t){return{modeName:"School bus",lines:t}};function E(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",3),a.\u0275\u0275template(1,p,2,0,"p",4),a.\u0275\u0275template(2,d,1,0,"ng-container",5),a.\u0275\u0275template(3,h,1,0,"ng-container",5),a.\u0275\u0275template(4,f,1,0,"ng-container",5),a.\u0275\u0275template(5,m,1,0,"ng-container",5),a.\u0275\u0275template(6,g,1,0,"ng-container",5),a.\u0275\u0275template(7,y,1,0,"ng-container",5),a.\u0275\u0275template(8,_,1,0,"ng-container",5),a.\u0275\u0275elementEnd()),2&t){const t=e.ngIf;a.\u0275\u0275nextContext();const n=a.\u0275\u0275reference(3);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!t.unique||0===t.unique.length),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(15,v,t.metro)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(17,b,t.train)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(19,M,t.bus)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(21,x,t.ferry)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(23,w,t.lightrail)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(25,C,t.coach)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(27,S,t.schoolbus))}}const T=function(t){return{"tni-departures-route-filter__mode-group__route--selected":t}};function O(t,e){if(1&t){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",10),a.\u0275\u0275listener("click",(function(){a.\u0275\u0275restoreView(t);const n=e.$implicit;return a.\u0275\u0275nextContext(3).toggle(n.disassembledName)}))("keydown.enter",(function(){a.\u0275\u0275restoreView(t);const n=e.$implicit;return a.\u0275\u0275nextContext(3).toggle(n.disassembledName)}))("keydown.space",(function(){a.\u0275\u0275restoreView(t);const n=e.$implicit;return a.\u0275\u0275nextContext(3).toggle(n.disassembledName)})),a.\u0275\u0275element(1,"tni-departure-mode-name",11),a.\u0275\u0275elementStart(2,"span",12),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"tni-icon",13),a.\u0275\u0275elementEnd()}if(2&t){const t=e.$implicit,n=a.\u0275\u0275nextContext(3);a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(7,T,n.selectedRoutes[t.disassembledName])),a.\u0275\u0275attribute("aria-checked",n.selectedRoutes[t.disassembledName]),a.\u0275\u0275advance(1),a.\u0275\u0275property("transportation",t),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.routeSearchMetadata.name),a.\u0275\u0275advance(1),a.\u0275\u0275property("iconName","tick")("iconAriaHidden",!0)("iconClasses","xs")}}function A(t,e){if(1&t&&(a.\u0275\u0275elementStart(0,"div",8),a.\u0275\u0275elementStart(1,"h5"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,O,5,9,"div",9),a.\u0275\u0275elementEnd()),2&t){const t=a.\u0275\u0275nextContext(),e=t.modeName,n=t.lines;a.\u0275\u0275property("ngClass","tni-departures-route-filter__mode-group--"+e.split(" ").join("-").toLowerCase()),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",n)}}function P(t,e){if(1&t&&a.\u0275\u0275template(0,A,4,3,"div",7),2&t){const t=e.lines;a.\u0275\u0275property("ngIf",(null==t?null:t.length)>0)}}function L(t,e){1&t&&(a.\u0275\u0275elementStart(0,"div",14),a.\u0275\u0275element(1,"div",15),a.\u0275\u0275element(2,"div",15),a.\u0275\u0275element(3,"div",15),a.\u0275\u0275element(4,"div",15),a.\u0275\u0275elementEnd())}const k=t=>e=>t.includes(e.product.iconId);class I{constructor(t){this.servingLinesService=t,this.routes=[],this.routesChange=new r.EventEmitter,this.uniqueServingLines=[],this.allServingLines=[],this.selectedRoutes={}}ngOnChanges(t){var e;this._handleFromToLocationsOnChanges(t.fromLocation,t.toLocation),this._handleRoutesOnChanges(null===(e=t.routes)||void 0===e?void 0:e.currentValue)}toggle(t){this.selectedRoutes[t]?delete this.selectedRoutes[t]:this.selectedRoutes[t]=!0;const e=this._getSelectedRouteIds(this.selectedRoutes);return this.routesChange.emit(e),!1}_getSelectedRouteIds(t){const e=[];return Object.keys(t).map(t=>{this.allServingLines.forEach(n=>{n.disassembledName===t&&e.push(n.id)})}),e}_handleRoutesOnChanges(t){t&&(this.selectedRoutes=t.reduce((t,e)=>{var n;return t[""+(null===(n=this.allServingLines.find(t=>t.id===e))||void 0===n?void 0:n.disassembledName)]=!0,t},{}))}_handleFromToLocationsOnChanges(t,e){var n,r;const a=null===(n=null==t?void 0:t.currentValue)||void 0===n?void 0:n.id;if(a){const t=null===(r=null==e?void 0:e.currentValue)||void 0===r?void 0:r.id;this.servingLines$=this.servingLinesService.get(a,t).pipe(i.map(t=>({all:t.filter(k([o.Mode.Metro,o.Mode.Train,o.Mode.TrainLegacy,o.Mode.Bus,o.Mode.Ferry,o.Mode.LightRail,o.Mode.Coach,o.Mode.SchoolBus])),unique:this._getUniqueServingLines(t).filter(k([o.Mode.Metro,o.Mode.Train,o.Mode.TrainLegacy,o.Mode.Bus,o.Mode.Ferry,o.Mode.LightRail,o.Mode.Coach,o.Mode.SchoolBus])),metro:this._getUniqueServingLines(t).filter(k([o.Mode.Metro])),train:this._getUniqueServingLines(t).filter(k([o.Mode.Train,o.Mode.TrainLegacy])),bus:this._getUniqueServingLines(t).filter(k([o.Mode.Bus])),ferry:this._getUniqueServingLines(t).filter(k([o.Mode.Ferry])),lightrail:this._getUniqueServingLines(t).filter(k([o.Mode.LightRail])),coach:this._getUniqueServingLines(t).filter(k([o.Mode.Coach])),schoolbus:this._getUniqueServingLines(t).filter(k([o.Mode.SchoolBus]))})),i.tap(t=>{this.allServingLines=t.all,this._handleRoutesOnChanges(this.routes)}))}}_getUniqueServingLines(t){for(let e=0;e<=t.length-1;e++)this.uniqueServingLines&&this.uniqueServingLines.find(n=>n.disassembledName===t[e].disassembledName)||this.uniqueServingLines.push(t[e]);return this.uniqueServingLines}}e.DeparturesRouteFilterComponent=I,I.\u0275fac=function(t){return new(t||I)(a.\u0275\u0275directiveInject(s.ServingLinesService))},I.\u0275cmp=a.\u0275\u0275defineComponent({type:I,selectors:[["tni-departures-route-filter"]],inputs:{fromLocation:"fromLocation",toLocation:"toLocation",routes:"routes"},outputs:{routesChange:"routesChange"},features:[a.\u0275\u0275NgOnChangesFeature],decls:6,vars:4,consts:[["class","tni-departures-route-filter",4,"ngIf","ngIfElse"],["servingLinesForMode",""],["loadingServingLines",""],[1,"tni-departures-route-filter"],["class","tni-departures-route-filter__no-results",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tni-departures-route-filter__no-results"],["class","tni-departures-route-filter__mode-group",3,"ngClass",4,"ngIf"],[1,"tni-departures-route-filter__mode-group",3,"ngClass"],["class","tni-departures-route-filter__mode-group__route","role","checkbox","tabindex","0",3,"ngClass","click","keydown.enter","keydown.space",4,"ngFor","ngForOf"],["role","checkbox","tabindex","0",1,"tni-departures-route-filter__mode-group__route",3,"ngClass","click","keydown.enter","keydown.space"],[3,"transportation"],[1,"tni-departures-route-filter__route-name"],[3,"iconName","iconAriaHidden","iconClasses"],[1,"tni-departures-route-filter","tni-departures-route-filter--loading"],[1,"skeleton-bar"]],template:function(t,e){if(1&t&&(a.\u0275\u0275template(0,E,9,29,"div",0),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275template(2,P,1,1,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(4,L,5,0,"ng-template",null,2,a.\u0275\u0275templateRefExtractor)),2&t){const t=a.\u0275\u0275reference(5);a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(1,2,e.servingLines$))("ngIfElse",t)}},directives:[c.NgIf,c.NgTemplateOutlet,c.NgClass,c.NgForOf,l.DepartureModeNameComponent,u.IconComponent],pipes:[c.AsyncPipe],styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .tni-departures-route-filter[_ngcontent-%COMP%]{padding:16px}@media (max-width:767px) and (orientation:portrait),(max-width:991px) and (orientation:landscape){[_nghost-%COMP%]   .tni-departures-route-filter[_ngcontent-%COMP%]{padding-bottom:60px}}[_nghost-%COMP%]   .tni-departures-route-filter__mode-group[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:center;font-weight:400}[_nghost-%COMP%]   .tni-departures-route-filter__mode-group[_ngcontent-%COMP%]:not(:first-child)   h5[_ngcontent-%COMP%]{margin-top:2em}[_nghost-%COMP%]   .tni-departures-route-filter__mode-group__route[_ngcontent-%COMP%]{display:flex;padding:8px;border:1px solid #cac9c9;border-radius:4px;margin:8px 0}[_nghost-%COMP%]   .tni-departures-route-filter__mode-group__route[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .tni-departures-route-filter__mode-group__route[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{margin-left:auto;visibility:hidden;fill:currentColor;color:#175490}[_nghost-%COMP%]   .tni-departures-route-filter__mode-group__route--selected[_ngcontent-%COMP%]{border-width:1px;border-color:#175490;background-color:rgba(29,105,180,.08)}[_nghost-%COMP%]   .tni-departures-route-filter__mode-group__route--selected[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .tni-departures-route-filter__route-name[_ngcontent-%COMP%]{margin-left:10px;margin-top:2px}[_nghost-%COMP%]   .tni-departures-route-filter[_ngcontent-%COMP%]   .skeleton-bar[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;height:20px;margin-bottom:10px;background:#f1f1f1}[_nghost-%COMP%]   .tni-departures-route-filter[_ngcontent-%COMP%]   .skeleton-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#f1f1f1,#f9f9f9 40px,#f1f1f1 80px);-webkit-animation:progress 1s ease-in-out infinite;animation:progress 1s ease-in-out infinite;background-color:inherit}@-webkit-keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}@keyframes progress{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(100%,0,0)}}'],changeDetection:0})},uXwI:function(t,e,n){!function(t){"use strict";var e={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function r(t,r,i){return t+" "+n(e[i],t,r)}function i(t,r,i){return n(e[i],t,r)}t.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(t,e){return e?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},umyp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("mrSG");r.__exportStar(n("+pSP"),e),r.__exportStar(n("0njA"),e)},v40w:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.environmentModules=void 0,e.environmentModules=[]},vMil:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeparturesDetailRequestService=void 0;const r=n("wd/R"),i=n("iFc6"),o=n("cRl/"),a=n("UDyh"),s=n("8Y7J"),c=n("iInd"),l=n("IheW");class u{constructor(t,e){this.route=t,this.http=e,this.DEBUG_DEPARTURE_DETAIL_REQUEST_KEY="debug-departure-detail-request"}getDepartureDetails(t,e){this._handleDebugMode(e);let n=`${i.TniConstant.DEPARTURES_DETAIL_ENDPOINT}/${t}`;const r=a.CreateDepartureQueryParams(e);return n=n.concat(r),this.http.get(n)}_handleDebugMode(t){var e,n,i;const a=!!(null===(n=null===(e=this.route.snapshot)||void 0===e?void 0:e.queryParams)||void 0===n?void 0:n.debug),s=null!==(i=o.LocalStorageHelper.getItem(this.DEBUG_DEPARTURE_DETAIL_REQUEST_KEY))&&void 0!==i?i:r().startOf("year").format(),c=r(s),l=r().isSameOrAfter(c);a?(o.LocalStorageHelper.setItem(this.DEBUG_DEPARTURE_DETAIL_REQUEST_KEY,r().add(1,"hour").format()),t.debug=!0):l?o.LocalStorageHelper.removeItem(this.DEBUG_DEPARTURE_DETAIL_REQUEST_KEY):t.debug=!0}}e.DeparturesDetailRequestService=u,u.\u0275fac=function(t){return new(t||u)(s.\u0275\u0275inject(c.ActivatedRoute),s.\u0275\u0275inject(l.HttpClient))},u.\u0275prov=s.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"})},vej7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RefineTripSearchEffects=void 0;const r=n("mrSG"),i=n("7bNT"),o=n("kU1M"),a=n("qCKp"),s=n("kU1M"),c=n("RNDk"),l=n("EiLY"),u=n("8Y7J"),p=n("7bNT"),d=n("A9CO"),h=n("tqRt"),f=n("JvPz"),m=n("9sYg"),g=n("VS5s");e.RefineTripSearchEffects=(()=>{class t{constructor(t,e,n,r,u,p){this.actions=t,this.tripService=e,this.stateStore=n,this.windowRef=r,this.tripServiceErrorHandler=u,this.trackTripPlannerEventService=p,this.searchTripRefine$=this.actions.pipe(i.ofType(l.TripActionTypes.REFINE_TRIP),o.tap(t=>{this.trackTripPlannerEventService.trackConnectingWithPT(t.payload.tripRequest),this.stateStore.dispatch(new l.SearchLoadingAction)}),s.map(t=>({tripRequest:t.payload.tripRequest})),o.switchMap(({tripRequest:t})=>this.tripService.Search(t).pipe(o.tap(t=>{this.trackTripPlannerEventService.trackRealTimeJourney(t.journeys)}),o.mergeMap(e=>[new l.TripSearchRefineAction({tripResponse:e,tripRequest:t}),new c.MapTripAction({trip:e.journeys[0]}),new c.MapTripLegAction({mapLeg:this.windowRef.isMobileView()&&e.journeys[0]?{leg:e.journeys[0].legs[0],index:0}:null})]),s.catchError(e=>(this.tripServiceErrorHandler.handleError(e,t),a.NEVER)),o.takeUntil(this.actions.pipe(i.ofType(l.TripActionTypes.CLEAR_TRIP))))))}}return t.\u0275fac=function(e){return new(e||t)(u.\u0275\u0275inject(p.Actions),u.\u0275\u0275inject(d.TripService),u.\u0275\u0275inject(h.Store),u.\u0275\u0275inject(f.WindowRef),u.\u0275\u0275inject(m.TripServiceErrorHandler),u.\u0275\u0275inject(g.TrackTripPlannerEventService))},t.\u0275prov=u.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r.__decorate([i.Effect()],t.prototype,"searchTripRefine$",void 0),t})()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return t=>Object(i.a)()(Object(r.a)(a)(t))}},w3TH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JourneyDurationComponent=void 0;const r=n("f0Wu"),i=n("8Y7J"),o=n("SVse"),a=n("SoYs"),s=n("0njA");function c(t,e){if(1&t&&i.\u0275\u0275element(0,"tni-icon",4),2&t){const t=i.\u0275\u0275nextContext();i.\u0275\u0275property("iconName",t.realTimeArrivalStatus)("iconAriaHidden",!0)}}class l{constructor(){this.duration=0}ngOnInit(){const t=r(this.legs[0].departingTimeUnadjusted),e=r(this.legs[this.legs.length-1].arrivalTimeUnadjusted);this.startTime=r(this.legs[0].departingTime).format("HH:mm"),this.startTimeDescription=r(this.legs[0].departingTime).format("LT"),this.endTime=r(this.legs[this.legs.length-1].arrivalTime).format("HH:mm"),this.endTimeDescription=r(this.legs[this.legs.length-1].arrivalTime).format("LT"),this.duration=e.diff(t,"seconds"),this.realTimeArrivalStatus=this.isRealTime?this.legs.find(t=>t.isRealTime).arrivalStatus:null}}e.JourneyDurationComponent=l,l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=i.\u0275\u0275defineComponent({type:l,selectors:[["tni-journey-duration"]],inputs:{legs:"legs",isRealTime:"isRealTime"},decls:5,vars:5,consts:[[1,"journey-duration"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden",4,"ngIf"],["role","text",1,"timeline"],[3,"duration"],["iconClasses","real-time animate",3,"iconName","iconAriaHidden"]],template:function(t,e){1&t&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275template(1,c,1,2,"tni-icon",1),i.\u0275\u0275elementStart(2,"span",2),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(4,"tni-duration",3),i.\u0275\u0275elementEnd()),2&t&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.isRealTime),i.\u0275\u0275advance(1),i.\u0275\u0275attribute("aria-label","from "+e.startTimeDescription+" to "+e.endTimeDescription),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate2("",e.startTime," - ",e.endTime,""),i.\u0275\u0275advance(1),i.\u0275\u0275property("duration",e.duration))},directives:[o.NgIf,a.DurationComponent,s.IconComponent],styles:[".journey-duration[_ngcontent-%COMP%]{color:#373636}.journey-duration[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{font-weight:700;font-size:14px;padding-right:3px}.journey-duration[_ngcontent-%COMP%]   .next-day-indicator[_ngcontent-%COMP%]{padding-right:3px;font-size:13px;font-weight:700}.journey-duration[_ngcontent-%COMP%]   .next-day-indicator-message[_ngcontent-%COMP%]{display:block;font-size:12px;color:#af1919;padding-bottom:6px}.journey-duration[_ngcontent-%COMP%]   .next-day-indicator-message[_ngcontent-%COMP%]   .date-month[_ngcontent-%COMP%]{white-space:nowrap}.journey-duration[_ngcontent-%COMP%]   tni-duration[_ngcontent-%COMP%]{padding-left:7px}"]})},wBhi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCodeRequest=void 0;const r=n("IheW"),i=n("08lQ"),o=n("iFc6");e.GeoCodeRequest=class{constructor(t={},e){this.getCacheKey=t=>this.url+this.getRequestOptions(t).params.toString(),this.resMapFn=t=>{{const e=t.features.map(t=>this.mapGeoLocation(t));return e&&Array.isArray(e)?e.map(t=>i.Location.fromStopFinder(t)):[]}},this.options=t,this.url=`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(e)}.json`}getRequestOptions(t){return{params:(new r.HttpParams).set("access_token",o.TniConstant.MAPBOX_CONSTANTS.accessToken).set("proximity",this.options.coords).set("types",o.TniConstant.MAPBOX_CONSTANTS.geocoderBaseTypes).set("bbox","140,-37.6,154.5,-28.1").set("limit","6")}}mapGeoLocation(t){return{id:t.id,name:t.place_type.includes("poi")&&t.context.find(t=>t.id.includes("locality"))?`${t.text}${t.properties.address?", "+t.properties.address:""}, ${t.context.find(t=>t.id.includes("locality")).text}`:t.place_name,coord:t.center,type:"",matchQuality:234,isBest:!1,parent:{id:"95362005|1",name:t.context.includes(t=>t.id.includes("locality"))?t.context.find(t=>t.id.includes("locality")).text:"",type:"locality"},bbox:t.bbox?[[t.bbox[0],t.bbox[1]],[t.bbox[2],t.bbox[3]]]:void 0}}}},wJTc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouteSearchService=void 0;const r=n("qCKp"),i=n("kU1M"),o=n("8Y7J"),a=n("IheW");class s{constructor(t){this.http=t,this.ROUTES_ELASTIC_SEARCH_URL="/es-route-search/_search"}searchByPayloadDivaIds(t){return t&&0!==t.length?this.http.get(this.ROUTES_ELASTIC_SEARCH_URL,{params:{q:`payload.diva.id:("${t.join('"+OR+"')}")`,size:"400"}}).pipe(i.filter(t=>{var e;return!!(null===(e=null==t?void 0:t.hits)||void 0===e?void 0:e.hits)}),i.map(t=>t.hits.hits.map(t=>t._source))):r.of([])}}e.RouteSearchService=s,s.\u0275fac=function(t){return new(t||s)(o.\u0275\u0275inject(a.HttpClient))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},wNZk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFormValues=e.TripPreferenceGroupDefaultValue=e.TripPreferenceGroup=void 0;const r=n("s7LF"),i=n("f0Wu"),o=n("LIED"),a=n("yPCr"),s=n("5ApF");e.TripPreferenceGroup=new r.FormGroup({preferencesForm:new r.FormGroup({metro:new r.FormControl(!0),ferry:new r.FormControl(!0),school:new r.FormControl(!1),train:new r.FormControl(!0),lightRail:new r.FormControl(!0),bus:new r.FormControl(!0),coach:new r.FormControl(!0)}),optionDateTimeSelection:new r.FormControl,tripPreferences:new r.FormGroup({tripPreference:new r.FormControl("0")}),walkingSpeed:new r.FormGroup({walkingSpeed:new r.FormControl("0")}),serviceOptions:new r.FormGroup({includeOpalPayOnDemandAndBookableServices:new r.FormControl(!0),onlyAccessible:new r.FormControl(!1)}),tripConnections:new r.FormGroup({gettingTo:new r.FormControl("100"),gettingFrom:new r.FormControl("100"),walkDuration:new r.FormControl(20),cycleDuration:new r.FormControl(20),driveDuration:new r.FormControl(20)})}),e.TripPreferenceGroupDefaultValue=t=>({preferencesForm:{metro:!0,ferry:!0,school:!1,train:!0,lightRail:!0,bus:!0,coach:!0},optionDateTimeSelection:{option:"Now",day:i(t).startOf("day"),hour:t.hour(),minute:5*Math.floor(t.minutes()/5)%60},tripPreferences:{tripPreference:"0"},walkingSpeed:{walkingSpeed:"0"},serviceOptions:{includeOpalPayOnDemandAndBookableServices:!0,onlyAccessible:!1},tripConnections:{gettingTo:"100",gettingFrom:"100",walkDuration:20,cycleDuration:20,driveDuration:20}}),e.getFormValues=function(t){const n=e.TripPreferenceGroupDefaultValue(i());n.optionDateTimeSelection={option:t.dateTime?"true"===t.leaving?o.DateTimeSelectorOptions.Leaving:o.DateTimeSelectorOptions.Arriving:o.DateTimeSelectorOptions.Now,day:t.dateTime?i(t.dateTime).startOf("day"):void 0,hour:t.dateTime?i(t.dateTime).hours():void 0,minute:t.dateTime?i(t.dateTime).minutes():void 0},n.walkingSpeed={walkingSpeed:t.walkSpeed},n.serviceOptions={includeOpalPayOnDemandAndBookableServices:!t.onlyOpal,onlyAccessible:t.onlyAccessible};const r=t.excludedModes?t.excludedModes.split(",").map(Number):null;switch(r&&(n.preferencesForm={metro:!r.includes(a.Mode.Metro),ferry:!r.includes(a.Mode.Ferry),school:!r.includes(a.Mode.SchoolBus),train:!r.includes(a.Mode.Train),lightRail:!r.includes(a.Mode.LightRail),bus:!r.includes(a.Mode.Bus),coach:!r.includes(a.Mode.Coach)}),n.tripPreferences={tripPreference:t.tripPreference},t.gettingFromMode&&t.gettingToMode&&(n.tripConnections.gettingTo=t.gettingToMode,n.tripConnections.gettingFrom=t.gettingFromMode),t.gettingToMode){case s.ItMode.Walk.toString():n.tripConnections.walkDuration=Number(t.gettingToValue);break;case s.ItMode.Taxi.toString():n.tripConnections.driveDuration=Number(t.gettingToValue);break;case s.ItMode.Cycle.toString():n.tripConnections.cycleDuration=Number(t.gettingToValue)}switch(t.gettingFromMode){case s.ItMode.Walk.toString():n.tripConnections.walkDuration=Number(t.gettingFromValue);break;case s.ItMode.Taxi.toString():n.tripConnections.driveDuration=Number(t.gettingFromValue);break;case s.ItMode.Cycle.toString():n.tripConnections.cycleDuration=Number(t.gettingFromValue)}return n}},"wO+i":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("lJxs");function i(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(r.a)(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=r[t[i]];if(void 0===e)return;r=e}return r}}(t,e))(n)}},wQk9:function(t,e,n){!function(t){"use strict";t.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(n("wd/R"))},wZy0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectSearchHistory=void 0;const r=n("tqRt"),i=n("wd/R");e.selectSearchHistory=r.createSelector(t=>{var e;return null===(e=t.TripHistory)||void 0===e?void 0:e.data},t=>{var e;return null===(e=t.DepartureHistory)||void 0===e?void 0:e.data},(t=[],e=[])=>[...t.map(t=>({searches:t.trip,id:t.id,timeStamp:t.timeStamp})),...e.map(t=>({searches:t.departure,id:t.id,timeStamp:t.timeStamp}))].sort((t,e)=>t.timeStamp&&e.timeStamp&&i(e.timeStamp).isAfter(t.timeStamp)?1:-1))},"wd/R":function(t,e,n){(function(t){t.exports=function(){"use strict";var e,r;function i(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var n in e)p(e,n)&&(t[n]=e[n]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,r){return we(t,e,n,r,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(t){if(null==t._isValid){var e=f(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=h(NaN);return null!=t?d(f(e),t):f(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var y=i.momentProperties=[];function _(t,e){var n,r,i;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=f(e)),s(e._locale)||(t._locale=e._locale),y.length>0)for(n=0;n<y.length;n++)s(i=e[r=y[n]])||(t[r]=i);return t}var v=!1;function b(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,i.updateOffset(this),v=!1)}function M(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=x(e)),n}function C(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&w(t[r])!==w(e[r]))&&a++;return a+o}function S(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,e){var n=!0;return d((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}S(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var T,O={};function A(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),O[t]||(S(e),O[t]=!0)}function P(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function L(t,e){var n,r=d({},t);for(n in e)p(e,n)&&(a(t[n])&&a(e[n])?(r[n]={},d(r[n],t[n]),d(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)p(t,n)&&!p(e,n)&&a(t[n])&&(r[n]=d({},r[n]));return r}function k(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)p(t,e)&&n.push(e);return n};var I={};function D(t,e){var n=t.toLowerCase();I[n]=I[n+"s"]=I[e]=t}function N(t){return"string"==typeof t?I[t]||I[t.toLowerCase()]:void 0}function R(t){var e,n,r={};for(n in t)p(t,n)&&(e=N(n))&&(r[e]=t[n]);return r}var z={};function F(t,e){z[t]=e}function j(t,e,n){var r=""+Math.abs(t);return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,e-r.length)).toString().substr(1)+r}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},Y={};function H(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Y[t]=i),e&&(Y[e[0]]=function(){return j(i.apply(this,arguments),e[1],e[2])}),n&&(Y[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function W(t,e){return t.isValid()?(e=U(e,t.localeData()),V[e]=V[e]||function(t){var e,n,r,i=t.match(B);for(e=0,n=i.length;e<n;e++)i[e]=Y[i[e]]?Y[i[e]]:(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=P(i[r])?i[r].call(e,t):i[r];return o}}(e),V[e](t)):t.localeData().invalidDate()}function U(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(q.lastIndex=0;n>=0&&q.test(t);)t=t.replace(q,r),q.lastIndex=0,n-=1;return t}var X=/\d/,G=/\d\d/,J=/\d{3}/,$=/\d{4}/,K=/[+-]?\d{6}/,Z=/\d\d?/,Q=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,et=/\d{1,3}/,nt=/\d{1,4}/,rt=/[+-]?\d{1,6}/,it=/\d+/,ot=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,ct=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ut(t,e,n){lt[t]=P(e)?e:function(t,r){return t&&n?n:e}}function pt(t,e){return p(lt,t)?lt[t](e._strict,e._locale):new RegExp(dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ht={};function ft(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),c(e)&&(r=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)ht[t[n]]=r}function mt(t,e){ft(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function gt(t,e,n){null!=e&&p(ht,t)&&ht[t](e,n._a,n,t)}function yt(t){return _t(t)?366:365}function _t(t){return t%4==0&&t%100!=0||t%400==0}H("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),H(0,["YY",2],0,(function(){return this.year()%100})),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),D("year","y"),F("year",1),ut("Y",ot),ut("YY",Z,G),ut("YYYY",nt,$),ut("YYYYY",rt,K),ut("YYYYYY",rt,K),ft(["YYYYY","YYYYYY"],0),ft("YYYY",(function(t,e){e[0]=2===t.length?i.parseTwoDigitYear(t):w(t)})),ft("YY",(function(t,e){e[0]=i.parseTwoDigitYear(t)})),ft("Y",(function(t,e){e[0]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var vt,bt=Mt("FullYear",!0);function Mt(t,e){return function(n){return null!=n?(wt(this,t,n),i.updateOffset(this,e),this):xt(this,t)}}function xt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function wt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&_t(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Ct(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Ct(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?_t(t)?29:28:31-n%7%2}vt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},H("M",["MM",2],"Mo",(function(){return this.month()+1})),H("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),H("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),D("month","M"),F("month",8),ut("M",Z),ut("MM",Z,G),ut("MMM",(function(t,e){return e.monthsShortRegex(t)})),ut("MMMM",(function(t,e){return e.monthsRegex(t)})),ft(["M","MM"],(function(t,e){e[1]=w(t)-1})),ft(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[1]=i:f(n).invalidMonth=t}));var St=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ot(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=vt.call(this._shortMonthsParse,a))?i:null:-1!==(i=vt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=vt.call(this._shortMonthsParse,a))||-1!==(i=vt.call(this._longMonthsParse,a))?i:null:-1!==(i=vt.call(this._longMonthsParse,a))||-1!==(i=vt.call(this._shortMonthsParse,a))?i:null}function At(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Ct(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Pt(t){return null!=t?(At(this,t),i.updateOffset(this,!0),this):xt(this,"Month")}var Lt=ct,kt=ct;function It(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=h([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=dt(r[e]),i[e]=dt(i[e]);for(e=0;e<24;e++)o[e]=dt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Dt(t,e,n,r,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}function Nt(t){var e;if(t<100&&t>=0){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Rt(t,e,n){var r=7+e-n;return-(7+Nt(t,0,r).getUTCDay()-e)%7+r-1}function zt(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+Rt(t,r,i);return s<=0?a=yt(o=t-1)+s:s>yt(t)?(o=t+1,a=s-yt(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Ft(t,e,n){var r,i,o=Rt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+jt(i=t.year()-1,e,n):a>jt(t.year(),e,n)?(r=a-jt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function jt(t,e,n){var r=Rt(t,e,n),i=Rt(t+1,e,n);return(yt(t)-r+i)/7}function Bt(t,e){return t.slice(e,7).concat(t.slice(0,e))}H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),F("week",5),F("isoWeek",5),ut("w",Z),ut("ww",Z,G),ut("W",Z),ut("WW",Z,G),mt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=w(t)})),H("d",0,"do","day"),H("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),H("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),H("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ut("d",Z),ut("e",Z),ut("E",Z),ut("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ut("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ut("dddd",(function(t,e){return e.weekdaysRegex(t)})),mt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:f(n).invalidWeekday=t})),mt(["d","e","E"],(function(t,e,n,r){e[r]=w(t)}));var qt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Vt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Yt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ht(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=vt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=vt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=vt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=vt.call(this._weekdaysParse,a))||-1!==(i=vt.call(this._shortWeekdaysParse,a))||-1!==(i=vt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=vt.call(this._shortWeekdaysParse,a))||-1!==(i=vt.call(this._weekdaysParse,a))||-1!==(i=vt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=vt.call(this._minWeekdaysParse,a))||-1!==(i=vt.call(this._weekdaysParse,a))||-1!==(i=vt.call(this._shortWeekdaysParse,a))?i:null}var Wt=ct,Ut=ct,Xt=ct;function Gt(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],c=[],l=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),c.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(t),s.sort(t),c.sort(t),l.sort(t),e=0;e<7;e++)s[e]=dt(s[e]),c[e]=dt(c[e]),l[e]=dt(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Jt(){return this.hours()%12||12}function $t(t,e){H(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Kt(t,e){return e._meridiemParse}H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Jt),H("k",["kk",2],0,(function(){return this.hours()||24})),H("hmm",0,0,(function(){return""+Jt.apply(this)+j(this.minutes(),2)})),H("hmmss",0,0,(function(){return""+Jt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),H("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),H("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),$t("a",!0),$t("A",!1),D("hour","h"),F("hour",13),ut("a",Kt),ut("A",Kt),ut("H",Z),ut("h",Z),ut("k",Z),ut("HH",Z,G),ut("hh",Z,G),ut("kk",Z,G),ut("hmm",Q),ut("hmmss",tt),ut("Hmm",Q),ut("Hmmss",tt),ft(["H","HH"],3),ft(["k","kk"],(function(t,e,n){var r=w(t);e[3]=24===r?0:r})),ft(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),ft(["h","hh"],(function(t,e,n){e[3]=w(t),f(n).bigHour=!0})),ft("hmm",(function(t,e,n){var r=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r)),f(n).bigHour=!0})),ft("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r,2)),e[5]=w(t.substr(i)),f(n).bigHour=!0})),ft("Hmm",(function(t,e,n){var r=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r))})),ft("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r,2)),e[5]=w(t.substr(i))}));var Zt,Qt=Mt("Hours",!0),te={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Et,monthsShort:Tt,week:{dow:0,doy:6},weekdays:qt,weekdaysMin:Yt,weekdaysShort:Vt,meridiemParse:/[ap]\.?m?\.?/i},ee={},ne={};function re(t){return t?t.toLowerCase().replace("_","-"):t}function ie(e){var r=null;if(!ee[e]&&void 0!==t&&t&&t.exports)try{r=Zt._abbr,n("RnhZ")("./"+e),oe(r)}catch(i){}return ee[e]}function oe(t,e){var n;return t&&((n=s(e)?se(t):ae(t,e))?Zt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Zt._abbr}function ae(t,e){if(null!==e){var n,r=te;if(e.abbr=t,null!=ee[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ee[t]._config;else if(null!=e.parentLocale)if(null!=ee[e.parentLocale])r=ee[e.parentLocale]._config;else{if(null==(n=ie(e.parentLocale)))return ne[e.parentLocale]||(ne[e.parentLocale]=[]),ne[e.parentLocale].push({name:t,config:e}),null;r=n._config}return ee[t]=new k(L(r,e)),ne[t]&&ne[t].forEach((function(t){ae(t.name,t.config)})),oe(t),ee[t]}return delete ee[t],null}function se(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Zt;if(!o(t)){if(e=ie(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=re(t[o]).split("-")).length,n=(n=re(t[o+1]))?n.split("-"):null;e>0;){if(r=ie(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&C(i,n,!0)>=e-1)break;e--}o++}return Zt}(t)}function ce(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Ct(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),f(t)._overflowWeeks&&-1===e&&(e=7),f(t)._overflowWeekday&&-1===e&&(e=8),f(t).overflow=e),t}function le(t,e,n){return null!=t?t:null!=e?e:n}function ue(t){var e,n,r,o,a,s=[];if(!t._d){for(r=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,i,o,a,s,c;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=le(e.GG,t._a[0],Ft(Ce(),1,4).year),r=le(e.W,1),((i=le(e.E,1))<1||i>7)&&(c=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=Ft(Ce(),o,a);n=le(e.gg,t._a[0],l.year),r=le(e.w,l.week),null!=e.d?((i=e.d)<0||i>6)&&(c=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(c=!0)):i=o}r<1||r>jt(n,o,a)?f(t)._overflowWeeks=!0:null!=c?f(t)._overflowWeekday=!0:(s=zt(n,r,i,o,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=le(t._a[0],r[0]),(t._dayOfYear>yt(a)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=Nt(a,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Nt:Dt).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(f(t).weekdayMismatch=!0)}}var pe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,he=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],me=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function ye(t){var e,n,r,i,o,a,s=t._i,c=pe.exec(s)||de.exec(s);if(c){for(f(t).iso=!0,e=0,n=fe.length;e<n;e++)if(fe[e][1].exec(c[1])){i=fe[e][0],r=!1!==fe[e][2];break}if(null==i)return void(t._isValid=!1);if(c[3]){for(e=0,n=me.length;e<n;e++)if(me[e][1].exec(c[3])){o=(c[2]||" ")+me[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(c[4]){if(!he.exec(c[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Me(t)}else t._isValid=!1}var _e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ve={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function be(t){var e,n,r,i,o,a,s,c,l=_e.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var u=(e=l[3],n=l[2],r=l[5],i=l[6],o=l[7],a=[(s=l[4],c=parseInt(s,10),c<=49?2e3+c:c<=999?1900+c:c),Tt.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)],o&&a.push(parseInt(o,10)),a);if(!function(t,e,n){return!t||Vt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],u,t))return;t._a=u,t._tzm=function(t,e,n){if(t)return ve[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(l[8],l[9],l[10]),t._d=Nt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function Me(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],f(t).empty=!0;var e,n,r,o,a,s=""+t._i,c=s.length,l=0;for(r=U(t._f,t._locale).match(B)||[],e=0;e<r.length;e++)(n=(s.match(pt(o=r[e],t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&f(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),l+=n.length),Y[o]?(n?f(t).empty=!1:f(t).unusedTokens.push(o),gt(o,n,t)):t._strict&&!n&&f(t).unusedTokens.push(o);f(t).charsLeftOver=c-l,s.length>0&&f(t).unusedInput.push(s),t._a[3]<=12&&!0===f(t).bigHour&&t._a[3]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),ue(t),ce(t)}else be(t);else ye(t)}function xe(t){var e=t._i,n=t._f;return t._locale=t._locale||se(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),M(e)?new b(ce(e)):(l(e)?t._d=e:o(n)?function(t){var e,n,r,i,o;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Me(e),m(e)&&(o+=f(e).charsLeftOver,o+=10*f(e).unusedTokens.length,f(e).score=o,(null==r||o<r)&&(r=o,n=e));d(t,n||e)}(t):n?Me(t):function(t){var e=t._i;s(e)?t._d=new Date(i.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ge.exec(t._i);null===e?(ye(t),!1===t._isValid&&(delete t._isValid,be(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=u(e.slice(0),(function(t){return parseInt(t,10)})),ue(t)):a(e)?function(t){if(!t._d){var e=R(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ue(t)}}(t):c(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),m(t)||(t._d=null),t))}function we(t,e,n,r,i){var s,c={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=i,c._l=n,c._i=t,c._f=e,c._strict=r,(s=new b(ce(xe(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Ce(t,e,n,r){return we(t,e,n,r,!1)}i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Se=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()})),Ee=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}));function Te(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Ce();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Oe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ae(t){var e=R(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,c=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===vt.call(Oe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Oe.length;++r)if(t[Oe[r]]){if(n)return!1;parseFloat(t[Oe[r]])!==w(t[Oe[r]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=se(),this._bubble()}function Pe(t){return t instanceof Ae}function Le(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ke(t,e){H(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+j(~~(t/60),2)+e+j(~~t%60,2)}))}ke("Z",":"),ke("ZZ",""),ut("Z",st),ut("ZZ",st),ft(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=De(st,t)}));var Ie=/([\+\-]|\d\d)/gi;function De(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Ie)||["-",0,0],i=60*r[1]+w(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ne(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(M(t)||l(t)?t.valueOf():Ce(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Ce(t).local()}function Re(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function ze(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Fe=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,je=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Be(t,e){var n,r,i,o,a,s,l=t,u=null;return Pe(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(l={},e?l[e]=t:l.milliseconds=t):(u=Fe.exec(t))?(n="-"===u[1]?-1:1,l={y:0,d:w(u[2])*n,h:w(u[3])*n,m:w(u[4])*n,s:w(u[5])*n,ms:w(Le(1e3*u[6]))*n}):(u=je.exec(t))?l={y:qe(u[2],n="-"===u[1]?-1:1),M:qe(u[3],n),w:qe(u[4],n),d:qe(u[5],n),h:qe(u[6],n),m:qe(u[7],n),s:qe(u[8],n)}:null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=Ce(l.from),a=Ce(l.to),i=o.isValid()&&a.isValid()?(a=Ne(a,o),o.isBefore(a)?s=Ve(o,a):((s=Ve(a,o)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(l={}).ms=i.milliseconds,l.M=i.months),r=new Ae(l),Pe(t)&&p(t,"_locale")&&(r._locale=t._locale),r}function qe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ve(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ye(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),He(this,Be(n="string"==typeof n?+n:n,r),t),this}}function He(t,e,n,r){var o=e._milliseconds,a=Le(e._days),s=Le(e._months);t.isValid()&&(r=null==r||r,s&&At(t,xt(t,"Month")+s*n),a&&wt(t,"Date",xt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&i.updateOffset(t,a||s))}Be.fn=Ae.prototype,Be.invalid=function(){return Be(NaN)};var We=Ye(1,"add"),Ue=Ye(-1,"subtract");function Xe(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Ge(t){var e;return void 0===t?this._locale._abbr:(null!=(e=se(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Je=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function $e(){return this._locale}function Ke(t,e){return(t%e+e)%e}function Ze(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function Qe(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function tn(t,e){H(0,[t,t.length],0,e)}function en(t,e,n,r,i){var o;return null==t?Ft(this,r,i).year:(e>(o=jt(t,r,i))&&(e=o),nn.call(this,t,e,n,r,i))}function nn(t,e,n,r,i){var o=zt(t,e,n,r,i),a=Nt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}H(0,["gg",2],0,(function(){return this.weekYear()%100})),H(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ut("G",ot),ut("g",ot),ut("GG",Z,G),ut("gg",Z,G),ut("GGGG",nt,$),ut("gggg",nt,$),ut("GGGGG",rt,K),ut("ggggg",rt,K),mt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=w(t)})),mt(["gg","GG"],(function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)})),H("Q",0,"Qo","quarter"),D("quarter","Q"),F("quarter",7),ut("Q",X),ft("Q",(function(t,e){e[1]=3*(w(t)-1)})),H("D",["DD",2],"Do","date"),D("date","D"),F("date",9),ut("D",Z),ut("DD",Z,G),ut("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),ft(["D","DD"],2),ft("Do",(function(t,e){e[2]=w(t.match(Z)[0])}));var rn=Mt("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),F("dayOfYear",4),ut("DDD",et),ut("DDDD",J),ft(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=w(t)})),H("m",["mm",2],0,"minute"),D("minute","m"),F("minute",14),ut("m",Z),ut("mm",Z,G),ft(["m","mm"],4);var on=Mt("Minutes",!1);H("s",["ss",2],0,"second"),D("second","s"),F("second",15),ut("s",Z),ut("ss",Z,G),ft(["s","ss"],5);var an,sn=Mt("Seconds",!1);for(H("S",0,0,(function(){return~~(this.millisecond()/100)})),H(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),H(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),H(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),H(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),H(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),H(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),D("millisecond","ms"),F("millisecond",16),ut("S",et,X),ut("SS",et,G),ut("SSS",et,J),an="SSSS";an.length<=9;an+="S")ut(an,it);function cn(t,e){e[6]=w(1e3*("0."+t))}for(an="S";an.length<=9;an+="S")ft(an,cn);var ln=Mt("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var un=b.prototype;function pn(t){return t}un.add=We,un.calendar=function(t,e){var n=t||Ce(),r=Ne(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=e&&(P(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,Ce(n)))},un.clone=function(){return new b(this)},un.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ne(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=N(e)){case"year":o=Xe(this,r)/12;break;case"month":o=Xe(this,r);break;case"quarter":o=Xe(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:x(o)},un.endOf=function(t){var e;if(void 0===(t=N(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Qe:Ze;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ke(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ke(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ke(e,1e3)-1}return this._d.setTime(e),i.updateOffset(this,!0),this},un.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)},un.from=function(t,e){return this.isValid()&&(M(t)&&t.isValid()||Ce(t).isValid())?Be({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},un.fromNow=function(t){return this.from(Ce(),t)},un.to=function(t,e){return this.isValid()&&(M(t)&&t.isValid()||Ce(t).isValid())?Be({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},un.toNow=function(t){return this.to(Ce(),t)},un.get=function(t){return P(this[t=N(t)])?this[t]():this},un.invalidAt=function(){return f(this).overflow},un.isAfter=function(t,e){var n=M(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},un.isBefore=function(t,e){var n=M(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},un.isBetween=function(t,e,n,r){var i=M(t)?t:Ce(t),o=M(e)?e:Ce(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},un.isSame=function(t,e){var n,r=M(t)?t:Ce(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=N(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},un.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},un.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},un.isValid=function(){return m(this)},un.lang=Je,un.locale=Ge,un.localeData=$e,un.max=Ee,un.min=Se,un.parsingFlags=function(){return d({},f(this))},un.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:z[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=R(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(P(this[t=N(t)]))return this[t](e);return this},un.startOf=function(t){var e;if(void 0===(t=N(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Qe:Ze;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ke(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ke(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ke(e,1e3)}return this._d.setTime(e),i.updateOffset(this,!0),this},un.subtract=Ue,un.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},un.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},un.toDate=function(){return new Date(this.valueOf())},un.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},un.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},un.toJSON=function(){return this.isValid()?this.toISOString():null},un.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},un.unix=function(){return Math.floor(this.valueOf()/1e3)},un.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},un.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},un.year=bt,un.isLeapYear=function(){return _t(this.year())},un.weekYear=function(t){return en.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},un.isoWeekYear=function(t){return en.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},un.quarter=un.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},un.month=Pt,un.daysInMonth=function(){return Ct(this.year(),this.month())},un.week=un.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},un.isoWeek=un.isoWeeks=function(t){var e=Ft(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},un.weeksInYear=function(){var t=this.localeData()._week;return jt(this.year(),t.dow,t.doy)},un.isoWeeksInYear=function(){return jt(this.year(),1,4)},un.date=rn,un.day=un.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},un.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},un.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},un.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},un.hour=un.hours=Qt,un.minute=un.minutes=on,un.second=un.seconds=sn,un.millisecond=un.milliseconds=ln,un.utcOffset=function(t,e,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=De(st,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Re(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?He(this,Be(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Re(this)},un.utc=function(t){return this.utcOffset(0,t)},un.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Re(this),"m")),this},un.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=De(at,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},un.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ce(t).utcOffset():0,(this.utcOffset()-t)%60==0)},un.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},un.isLocal=function(){return!!this.isValid()&&!this._isUTC},un.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},un.isUtc=ze,un.isUTC=ze,un.zoneAbbr=function(){return this._isUTC?"UTC":""},un.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},un.dates=E("dates accessor is deprecated. Use date instead.",rn),un.months=E("months accessor is deprecated. Use month instead",Pt),un.years=E("years accessor is deprecated. Use year instead",bt),un.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),un.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(_(t,this),(t=xe(t))._a){var e=t._isUTC?h(t._a):Ce(t._a);this._isDSTShifted=this.isValid()&&C(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var dn=k.prototype;function hn(t,e,n,r){var i=se(),o=h().set(r,e);return i[n](o,t)}function fn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return hn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=hn(t,r,n,"month");return i}function mn(t,e,n,r){"boolean"==typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var i,o=se(),a=t?o._week.dow:0;if(null!=n)return hn(e,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=hn(e,(i+a)%7,r,"day");return s}dn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return P(r)?r.call(e,n):r},dn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},dn.invalidDate=function(){return this._invalidDate},dn.ordinal=function(t){return this._ordinal.replace("%d",t)},dn.preparse=pn,dn.postformat=pn,dn.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return P(i)?i(t,e,n,r):i.replace(/%d/i,t)},dn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return P(n)?n(e):n.replace(/%s/i,e)},dn.set=function(t){var e,n;for(n in t)P(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},dn.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||St).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},dn.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[St.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},dn.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return Ot.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},dn.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||It.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=kt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},dn.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||It.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Lt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},dn.week=function(t){return Ft(t,this._week.dow,this._week.doy).week},dn.firstDayOfYear=function(){return this._week.doy},dn.firstDayOfWeek=function(){return this._week.dow},dn.weekdays=function(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Bt(n,this._week.dow):t?n[t.day()]:n},dn.weekdaysMin=function(t){return!0===t?Bt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},dn.weekdaysShort=function(t){return!0===t?Bt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},dn.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return Ht.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},dn.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Wt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},dn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},dn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},dn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},dn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},oe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",oe),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",se);var gn=Math.abs;function yn(t,e,n,r){var i=Be(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function _n(t){return t<0?Math.floor(t):Math.ceil(t)}function vn(t){return 4800*t/146097}function bn(t){return 146097*t/4800}function Mn(t){return function(){return this.as(t)}}var xn=Mn("ms"),wn=Mn("s"),Cn=Mn("m"),Sn=Mn("h"),En=Mn("d"),Tn=Mn("w"),On=Mn("M"),An=Mn("Q"),Pn=Mn("y");function Ln(t){return function(){return this.isValid()?this._data[t]:NaN}}var kn=Ln("milliseconds"),In=Ln("seconds"),Dn=Ln("minutes"),Nn=Ln("hours"),Rn=Ln("days"),zn=Ln("months"),Fn=Ln("years"),jn=Math.round,Bn={ss:44,s:45,m:45,h:22,d:26,M:11};function qn(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}var Vn=Math.abs;function Yn(t){return(t>0)-(t<0)||+t}function Hn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Vn(this._milliseconds)/1e3,r=Vn(this._days),i=Vn(this._months);t=x(n/60),e=x(t/60),n%=60,t%=60;var o=x(i/12),a=i%=12,s=r,c=e,l=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var d=p<0?"-":"",h=Yn(this._months)!==Yn(p)?"-":"",f=Yn(this._days)!==Yn(p)?"-":"",m=Yn(this._milliseconds)!==Yn(p)?"-":"";return d+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?f+s+"D":"")+(c||l||u?"T":"")+(c?m+c+"H":"")+(l?m+l+"M":"")+(u?m+u+"S":"")}var Wn=Ae.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var t=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),t.milliseconds=gn(t.milliseconds),t.seconds=gn(t.seconds),t.minutes=gn(t.minutes),t.hours=gn(t.hours),t.months=gn(t.months),t.years=gn(t.years),this},Wn.add=function(t,e){return yn(this,t,e,1)},Wn.subtract=function(t,e){return yn(this,t,e,-1)},Wn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=N(t))||"quarter"===t||"year"===t)switch(n=this._months+vn(e=this._days+r/864e5),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(bn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Wn.asMilliseconds=xn,Wn.asSeconds=wn,Wn.asMinutes=Cn,Wn.asHours=Sn,Wn.asDays=En,Wn.asWeeks=Tn,Wn.asMonths=On,Wn.asQuarters=An,Wn.asYears=Pn,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},Wn._bubble=function(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*_n(bn(s)+a),a=0,s=0),c.milliseconds=o%1e3,t=x(o/1e3),c.seconds=t%60,e=x(t/60),c.minutes=e%60,n=x(e/60),c.hours=n%24,a+=x(n/24),s+=i=x(vn(a)),a-=_n(bn(i)),r=x(s/12),s%=12,c.days=a,c.months=s,c.years=r,this},Wn.clone=function(){return Be(this)},Wn.get=function(t){return t=N(t),this.isValid()?this[t+"s"]():NaN},Wn.milliseconds=kn,Wn.seconds=In,Wn.minutes=Dn,Wn.hours=Nn,Wn.days=Rn,Wn.weeks=function(){return x(this.days()/7)},Wn.months=zn,Wn.years=Fn,Wn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var r=Be(t).abs(),i=jn(r.as("s")),o=jn(r.as("m")),a=jn(r.as("h")),s=jn(r.as("d")),c=jn(r.as("M")),l=jn(r.as("y")),u=i<=Bn.ss&&["s",i]||i<Bn.s&&["ss",i]||o<=1&&["m"]||o<Bn.m&&["mm",o]||a<=1&&["h"]||a<Bn.h&&["hh",a]||s<=1&&["d"]||s<Bn.d&&["dd",s]||c<=1&&["M"]||c<Bn.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=e,u[3]=+t>0,u[4]=n,qn.apply(null,u)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Wn.toISOString=Hn,Wn.toString=Hn,Wn.toJSON=Hn,Wn.locale=Ge,Wn.localeData=$e,Wn.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hn),Wn.lang=Je,H("X",0,0,"unix"),H("x",0,0,"valueOf"),ut("x",ot),ut("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),ft("x",(function(t,e,n){n._d=new Date(w(t))})),i.version="2.24.0",e=Ce,i.fn=un,i.min=function(){var t=[].slice.call(arguments,0);return Te("isBefore",t)},i.max=function(){var t=[].slice.call(arguments,0);return Te("isAfter",t)},i.now=function(){return Date.now?Date.now():+new Date},i.utc=h,i.unix=function(t){return Ce(1e3*t)},i.months=function(t,e){return fn(t,e,"months")},i.isDate=l,i.locale=oe,i.invalid=g,i.duration=Be,i.isMoment=M,i.weekdays=function(t,e,n){return mn(t,e,n,"weekdays")},i.parseZone=function(){return Ce.apply(null,arguments).parseZone()},i.localeData=se,i.isDuration=Pe,i.monthsShort=function(t,e){return fn(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return mn(t,e,n,"weekdaysMin")},i.defineLocale=ae,i.updateLocale=function(t,e){if(null!=e){var n,r,i=te;null!=(r=ie(t))&&(i=r._config),(n=new k(e=L(i,e))).parentLocale=ee[t],ee[t]=n,oe(t)}else null!=ee[t]&&(null!=ee[t].parentLocale?ee[t]=ee[t].parentLocale:null!=ee[t]&&delete ee[t]);return ee[t]},i.locales=function(){return T(ee)},i.weekdaysShort=function(t,e,n){return mn(t,e,n,"weekdaysShort")},i.normalizeUnits=N,i.relativeTimeRounding=function(t){return void 0===t?jn:"function"==typeof t&&(jn=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==Bn[t]&&(void 0===e?Bn[t]:(Bn[t]=e,"s"===t&&(Bn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=un,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n("YuTi")(t))},wlDI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlertMessageComponent=void 0;const r=n("8Y7J"),i=n("0njA");class o{}e.AlertMessageComponent=o,o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["tni-alert-msg"]],inputs:{type:"type",text:"text"},decls:4,vars:2,consts:[[1,"alert-message"],["iconClasses","tp-icon sm","aria-label","information icon","iconAriaHidden","true",3,"iconName"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275element(1,"tni-icon",1),r.\u0275\u0275elementStart(2,"p"),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("iconName",e.type),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.text))},directives:[i.IconComponent],styles:[".alert-message[_ngcontent-%COMP%]{display:flex;padding-right:16px}.alert-message[_ngcontent-%COMP%]   tni-icon[_ngcontent-%COMP%]{width:20px;margin:1.25em 10px 1.25em 0}.alert-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:18px;margin-top:1.25em}"],changeDetection:0})},wqB4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapCycleProfileToString=e.StringHelper=void 0;const r=n("yuJq");e.StringHelper=class{static joinWithAnd(t){return t&&0!==t.length?1===t.length?t[0]:t.splice(0,t.length-1).join(", ")+" and "+t[t.length-1]:""}},e.mapCycleProfileToString=function(t){let e;switch(t){case r.CycleProfile.Easier:e="Easier";break;case r.CycleProfile.Moderate:e="Moderate";break;case r.CycleProfile.MoreDirect:e="More direct"}return e}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class a extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},x6pH:function(t,e,n){!function(t){"use strict";t.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(t){return 2===t?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":t+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(t){return 2===t?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":t+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(t){return 2===t?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":t+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(t){return 2===t?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":t%10==0&&10!==t?t+" \u05e9\u05e0\u05d4":t+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(t){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(t)},meridiem:function(t,e,n){return t<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":t<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":t<12?n?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":t<18?n?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(n("wd/R"))},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new a(t,this.defaultValue))}}class a extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xeYu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectIsDepartureFavourited=e.selectIsCurrentDepartureFavourited=e.selectDepartureId=e.getRefreshDepartureSelector=e.selectDeparturesRefreshList=e.getExpandedDeparture=e.selectDeparturesDetailError=e.selectClearDeparturesForm=e.selectExpandedDepartureIndex=e.selectDepartureReq=e.showBtnSelector=e.departuresIsLoading=e.selectDeparturesLastRefreshedTime=e.selectDepartures=e.showModeFilters=e.selectDepartureHistory=e.selectDeparturesFeature=void 0;const r=n("qCKp"),i=n("kU1M"),o=n("tqRt");e.selectDeparturesFeature=t=>t.DeparturesFeature,e.selectDepartureHistory=t=>t.DepartureHistory,e.showModeFilters=o.createSelector(e.selectDeparturesFeature,t=>{var e;const n=t.departures?t.departures:[],r=t.departuresRequest&&t.departuresRequest.excludedModes?t.departuresRequest.excludedModes.split(","):[];return!0!==t.isLoading&&(n.length>0||r.length>0)&&(null===(e=t.modesByServingLines)||void 0===e?void 0:e.length)>1}),e.selectDepartures=o.createSelector(e.selectDeparturesFeature,t=>t?t.departures:[]),e.selectDeparturesLastRefreshedTime=o.createSelector(e.selectDeparturesFeature,t=>t?t.lastRefreshed:null),e.departuresIsLoading=o.createSelector(e.selectDeparturesFeature,t=>!!t&&t.isLoading),e.showBtnSelector=o.createSelector(e.selectDeparturesFeature,t=>!t||t.showNewDepartureSearch),e.selectDepartureReq=o.createSelector(e.selectDeparturesFeature,t=>t.departuresRequest);const a=o.createSelector(e.selectDeparturesFeature,t=>t.selectedDeparture);e.selectExpandedDepartureIndex=o.createSelector(e.selectDeparturesFeature,t=>t.selectedDepartureIndex),e.selectClearDeparturesForm=o.createSelector(e.selectDeparturesFeature,t=>t.clearDeparturesForm),e.selectDeparturesDetailError=o.createSelector(e.selectDeparturesFeature,t=>t.hasDetailError),e.getExpandedDeparture=a,e.selectDeparturesRefreshList=o.createSelector(e.selectDeparturesFeature,t=>t.departuresRefreshList||[]),e.getRefreshDepartureSelector=(t,n)=>o.createSelector(e.selectDeparturesFeature,e=>e.departuresRefreshList.find(e=>`${t}-${n||""}`==`${e.id}-${e.avmsTripId||""}`)),e.selectDepartureId=o.createSelector(e.selectDeparturesFeature,t=>{var e,n,r;const i=t=>"current_location"===(null==t?void 0:t.type)?null==t?void 0:t.type:null==t?void 0:t.fullName.replace(/\s+/g,""),o=null===(e=t.departuresRequest)||void 0===e?void 0:e.accessible,a=null===(n=t.departuresForm)||void 0===n?void 0:n.fromLocation,s=null===(r=t.departuresForm)||void 0===r?void 0:r.toLocation;return i(a)+i(s)+o}),e.selectIsCurrentDepartureFavourited=o.createSelector(e.selectDepartureId,e.selectDepartureHistory,(t,e)=>{var n;return null===(n=e.data.find(e=>e.id===t))||void 0===n?void 0:n.isFav}),e.selectIsDepartureFavourited=()=>r.pipe(o.select(e.selectDepartureHistory),i.pairwise(),i.filter(([t,e])=>{var n,r;return(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.length)&&(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.length)&&t.data.length===e.data.length}),i.filter(([t,e])=>JSON.stringify(t)!==JSON.stringify(e)),i.map(([t,e])=>{const n=t.data.map(t=>t.isFav);return e.data.map(t=>t.isFav).find((t,e)=>t!==n[e])}))},xgIS:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("DH7j"),o=n("n6bG"),a=n("lJxs");function s(t,e,n,c){return Object(o.a)(n)&&(c=n,n=void 0),c?s(t,e,n).pipe(Object(a.a)(t=>Object(i.a)(t)?c(...t):c(t))):new r.a(r=>{!function t(e,n,r,i,o){let a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),a=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),a=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),a=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let a=0,s=e.length;a<s;a++)t(e[a],n,r,i,o)}i.add(a)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}},xk7R:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripDetailsInitialState=void 0,e.TripDetailsInitialState={journeys:[],taxiDrive:[],walk:[],cycle:[],systemMessages:[],tripRequest:null,serverTime:"",isLoading:!1,isTaxiLoading:!1,hasError:!1,isLoadingLater:!1,isLoadingEarlier:!1}},"y/8N":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLocationEffect=void 0;const r=n("7bNT"),i=n("kU1M"),o=n("RNDk"),a=n("EiLY"),s=n("8Y7J"),c=n("7bNT");class l{constructor(t){this.actions$=t,this.selectGeoLocateControlOnMapAction$=r.createEffect(()=>this.actions$.pipe(r.ofType(a.TripActionTypes.CURRENT_LOCATION),i.map(t=>new o.MapCurrentLocationAction({coords:t.payload.coords}))))}}e.CurrentLocationEffect=l,l.\u0275fac=function(t){return new(t||l)(s.\u0275\u0275inject(c.Actions))},l.\u0275prov=s.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac})},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},yPCr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProductID=e.SearchMode=e.StopFinderMode=e.Mode=void 0,e.Mode=function(t){return t[t.Metro=2]="Metro",t[t.Train=1]="Train",t[t.TrainLegacy=3]="TrainLegacy",t[t.Bus=5]="Bus",t[t.OnDemand=10]="OnDemand",t[t.Ferry=9]="Ferry",t[t.LightRail=4]="LightRail",t[t.Coach=7]="Coach",t[t.SchoolBus=11]="SchoolBus",t}(e.Mode||{}),e.StopFinderMode=function(t){return t[t.Train=2]="Train",t}(e.StopFinderMode||{}),e.SearchMode=function(t){return t.GEOCODE="geocode",t.STOPS_FOR_DEPARTURE="departure_stops",t}(e.SearchMode||{}),e.ProductID=function(t){return t[t.onDemandFerry=25]="onDemandFerry",t[t.onDemandBus=23]="onDemandBus",t}(e.ProductID||{})},yPMs:function(t,e,n){!function(t){"use strict";t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},yX1w:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TripMapModule=void 0;const r=n("q0aK"),i=n("PCNd"),o=n("3F7b"),a=n("SVse"),s=n("XhXp"),c=n("87t5"),l=n("TswQ"),u=n("Hrlu"),p=n("8Y7J");class d{static forRoot(){return{ngModule:d}}}e.TripMapModule=d,d.\u0275mod=p.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=p.\u0275\u0275defineInjector({factory:function(t){return new(t||d)},providers:[r.TrackUnsupportedBrowserEventService,s.MapPointsService,o.MapPopup,c.MapConfigService,u.LocationService],imports:[[l.TniFormModule,i.SharedModule,a.CommonModule]]})},yh6M:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopFinderRequest=void 0;const r=n("IheW"),i=n("08lQ");e.StopFinderRequest=class{constructor(t={}){this.url="/web/XML_STOPFINDER_REQUEST?coordOutputFormat=EPSG:4326&language=en&outputFormat=rapidJSON&type_sf=any&version=10.2.2.48",this.getCacheKey=t=>this.url+this.getRequestOptions(t).params.toString(),this.resMapFn=t=>t.locations.map(t=>i.Location.fromStopFinder(t)),this.options=t}getRequestOptions(t){let e=(new r.HttpParams).set("TfNSWSFStopsOnly",this.options.stopsOnly?"true":"false").set("TfNSWSF","true").set("name_sf",t);return e=this.options.modeNumber?e.append("w_prefStModesAm",this.options.modeNumber.toString()):e,{params:e}}}},yqgP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoveTripHistoryItemAction=e.AddFavTripHistoryAction=e.TripHistoryAction=e.InitiateTripHistoryAction=e.TripHistoryActionTypes=void 0;var r=e.TripHistoryActionTypes=function(t){return t.ADD_TRIP_HISTORY="[TRIP_HISTORY] ADD_TRIP_HISTORY",t.MARK_AS_FAV="[TRIP_HISTORY] MARK_AS_FAV",t.INITIATE_STORE="[TRIP_HISTORY] INITIATE_STORE",t.REMOVE_TRIP_HISTORY_ITEM="[TRIP_HISTORY] REMOVE_TRIP_HISTORY_ITEM",t}(e.TripHistoryActionTypes||{});e.InitiateTripHistoryAction=class{constructor(t){this.payload=t,this.type=r.INITIATE_STORE}},e.TripHistoryAction=class{constructor(t){this.payload=t,this.type=r.ADD_TRIP_HISTORY}},e.AddFavTripHistoryAction=class{constructor(t){this.payload=t,this.type=r.MARK_AS_FAV}},e.RemoveTripHistoryItemAction=class{constructor(t){this.payload=t,this.type=r.REMOVE_TRIP_HISTORY_ITEM}}},yuJq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CycleProfile=void 0,e.CycleProfile=function(t){return t.Easier="EASIER",t.Moderate="MODERATE",t.MoreDirect="MOST_DIRECT",t}(e.CycleProfile||{})},ywyY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventAction=void 0,e.EventAction=function(t){return t.ViewTripPlanResults="View trip plan results",t.EarlierLaterResults="Earlier-later results",t.SwitchDirections="Switch directions",t.OptionsModal="Options modal",t.PreviousTripRequests="Previous trip request",t.FavouriteTripRequests="Favourite trip request",t.ViewResultsOnMapForMobile="View results on map - mobile",t.SetFavourite="Set favourite",t.RemoveFavourite="Remove favourite",t.PublicTransportTab="Public transport tab",t.TaxiDriveTab="Taxi/Drive tab",t.CycleTab="Cycle tab",t.WalkTab="Walk tab",t.DeparturesTab="Departures tab",t.ViewDeparturesFromTripPlanResults="View departures from Trip plan results",t.RefreshResults="Refresh results",t.OperatorBookButton="Book button",t.ConnectWithPT="Trip options - to and from transport",t.ApplyLeaving="Apply change datetime",t.ApplyRefine="Apply refine results",t.ApplyFilters="Apply filters",t.SummaryCardLozengeCount="Summary Card lozenge count",t.ExpandedSummaryCardLozengeCount="Expanded Summary Card lozenge count",t.ModalClick="Modal click",t.ModalMoreInfoClick="Modal click - more info",t.TripPlannerTab="Trip planner Tab",t.CapacityIndicator="Capactiy indicator",t.FilterMode="Filter mode",t.DeparturesGoButton="Departures Go button",t.PlanFromMapFrom="Plan from map - From",t.PlanFromMapTo="Plan from map - To",t.CallRetailer="Call retailer",t.PlanATrip="Plan a trip",t.BackToOpalRetailers="Back to opal retailers",t.ShowMap="Show map",t.ShowRetailerOnMap="Show retailer on map",t}(e.EventAction||{})},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},"z/no":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NavigateLinkAction=e.AppActionTypes=void 0;var r=e.AppActionTypes=function(t){return t.NAVIGATE_LINK="[App] NAVIGATE_LINK",t}(e.AppActionTypes||{});e.NavigateLinkAction=class{constructor(t){this.payload=t,this.type=r.NAVIGATE_LINK}}},z1FC:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[t+" m\xeduts",t+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[t+" \xfeoras",t+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return r||e?i[n][0]:i[n][1]}t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},z3Vd:function(t,e,n){!function(t){"use strict";var e="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t,n,r,i){var o=function(t){var n=Math.floor(t%1e3/100),r=Math.floor(t%100/10),i=t%10,o="";return n>0&&(o+=e[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+e[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+e[i]),""===o?"pagh":o}(t);switch(r){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}t.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu\u2019":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:n,m:"wa\u2019 tup",mm:n,h:"wa\u2019 rep",hh:n,d:"wa\u2019 jaj",dd:n,M:"wa\u2019 jar",MM:n,y:"wa\u2019 DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zP0r:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t){return e=>e.lift(new o(t))}class o{constructor(t){this.total=t}call(t,e){return e.subscribe(new a(t,this.total))}}class a extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},zUnb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("8Y7J"),i=n("AytR"),o=n("ZAI4"),a=n("cUpR");i.environment.production&&r.enableProdMode(),a.platformBrowser().bootstrapModule(o.AppModule).catch(t=>console.error(t))},zVaJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BottomSheetService=void 0;const r=n("8Y7J"),i=n("Km1n");class o{constructor(t){this.bottomSheet=t}openBottomSheet(t,e){this.bottomSheet.open(t,e)}closeBottomSheet(){this.bottomSheet.dismiss()}}e.BottomSheetService=o,o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(i.MatBottomSheet))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},zavE:function(t,e,n){!function(t){"use strict";t.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new a(t,n))}}class a{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new s(t,this.observables,this.project))}}class s extends r.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let o=0;o<r;o++){let t=e[o];this.add(Object(i.a)(this,t,t,o))}}notifyNext(t,e,n,r,i){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},zpQm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventCategory=void 0,e.EventCategory=function(t){return t.TripPlanner="Trip planner",t.Departures="Departures",t.NIFShortPlatform="NIF Short Platform",t.OpalRetailers="Opal Retailers",t}(e.EventCategory||{})},zx6S:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))}},[[0,0]]]);